{"version":3,"file":"802-a68f6dc3d3011f85669b.js","mappings":"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","sources":["webpack://@my-react/ssr-example/./src/client/component/ThreeFiber/AutoDispose.tsx"],"sourcesContent":["import { Canvas, useFrame } from \"@my-react/react-three-fiber\";\nimport { useRef, useState } from \"react\";\n\nimport type { ThreeElements } from \"@my-react/react-three-fiber\";\nimport type * as THREE from \"three\";\n\ntype BoxProps = ThreeElements[\"object3D\"] & {\n  setActive: (active: boolean) => void;\n  active: boolean;\n};\n\nfunction Box1(props: BoxProps) {\n  const mesh = useRef<THREE.Mesh>(null!);\n  const [hovered, setHover] = useState(false);\n  useFrame((state) => (mesh.current.position.y = Math.sin(state.clock.elapsedTime)));\n\n  return (\n    <mesh {...props} ref={mesh} onClick={(e) => props.setActive(!props.active)} onPointerOver={(e) => setHover(true)} onPointerOut={(e) => setHover(false)}>\n      <boxGeometry />\n      <meshStandardMaterial color={hovered ? \"hotpink\" : \"orange\"} />\n    </mesh>\n  );\n}\n\nfunction Box2(props: BoxProps) {\n  const mesh = useRef<THREE.Mesh>(null!);\n  const [hovered, setHover] = useState(false);\n  useFrame((state) => (mesh.current.position.y = Math.sin(state.clock.elapsedTime)));\n\n  return (\n    <group {...props}>\n      <mesh {...props} ref={mesh} onClick={(e) => props.setActive(!props.active)} onPointerOver={(e) => setHover(true)} onPointerOut={(e) => setHover(false)}>\n        <boxGeometry />\n        <meshStandardMaterial color={hovered ? \"green\" : \"blue\"} />\n      </mesh>\n    </group>\n  );\n}\n\nfunction Switcher() {\n  const [active, setActive] = useState(false);\n\n  return (\n    <>\n      {active && <Box1 active={active} setActive={setActive} position={[-0.5, 0, 0]} />}\n      {!active && <Box2 active={active} setActive={setActive} position={[0.25, 0, 0]} />}\n    </>\n  );\n}\n\nexport const Exp = function App() {\n  return (\n    <Canvas orthographic camera={{ zoom: 100 }}>\n      <ambientLight intensity={Math.PI} />\n      <Switcher />\n    </Canvas>\n  );\n};\n"],"names":["Box1","props","t0","t1","t2","t3","t4","$","_c","mesh","useRef","_useState","useState","_useState2","_slicedToArray","hovered","setHover","Symbol","for","state","current","position","y","Math","sin","clock","elapsedTime","useFrame","e","setActive","active","e_0","e_1","_jsx","t6","t7","t5","color","_jsxs","_objectSpread","onClick","onPointerOver","onPointerOut","children","Box2","_useState3","_useState4","t8","Switcher","_useState5","_useState6","_Fragment","Exp","Canvas","orthographic","camera","zoom","intensity","PI"],"sourceRoot":""}