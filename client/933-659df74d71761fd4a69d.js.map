{"version":3,"file":"933-659df74d71761fd4a69d.js","mappings":"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","sources":["webpack://@my-react/ssr-example/../../packages/myreact-three-fiber/dist/esm/index.mjs","webpack://@my-react/ssr-example/../../packages/myreact-three-fiber/index.mjs"],"sourcesContent":["import * as THREE from 'three';\nimport { jsx, Fragment } from '@my-react/react/jsx-runtime';\nimport * as React from '@my-react/react';\nimport React__default from '@my-react/react';\nimport { suspend, preload, clear } from 'suspend-react';\nimport { createWithEqualityFn } from 'zustand/traditional';\nimport useMeasure from 'react-use-measure';\n\nvar threeTypes = /*#__PURE__*/Object.freeze({\n    __proto__: null\n});\n\nvar myreactShared = {exports: {}};\n\nvar index_production$1 = {};\n\nvar hasRequiredIndex_production;\n\nfunction requireIndex_production () {\n\tif (hasRequiredIndex_production) return index_production$1;\n\thasRequiredIndex_production = 1;\n\t(function (exports) {\n\n\t\tvar merge = function (src, rest) {\n\t\t    return src | rest;\n\t\t};\n\t\tvar remove = function (src, rest) {\n\t\t    if (src & rest) {\n\t\t        return src ^ rest;\n\t\t    }\n\t\t    else {\n\t\t        return src;\n\t\t    }\n\t\t};\n\t\tvar include = function (src, rest) {\n\t\t    return !!(src & rest);\n\t\t};\n\t\tvar exclude = function (src, rest) {\n\t\t    return !(src & rest);\n\t\t};\n\n\t\t/******************************************************************************\r\n\t\tCopyright (c) Microsoft Corporation.\r\n\r\n\t\tPermission to use, copy, modify, and/or distribute this software for any\r\n\t\tpurpose with or without fee is hereby granted.\r\n\r\n\t\tTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n\t\tREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n\t\tAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n\t\tINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n\t\tLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n\t\tOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n\t\tPERFORMANCE OF THIS SOFTWARE.\r\n\t\t***************************************************************************** */\r\n\t\t/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\n\r\n\t\tfunction __spreadArray(to, from, pack) {\r\n\t\t    if (arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n\t\t        if (ar || !(i in from)) {\r\n\t\t            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n\t\t            ar[i] = from[i];\r\n\t\t        }\r\n\t\t    }\r\n\t\t    return to.concat(ar || Array.prototype.slice.call(from));\r\n\t\t}\r\n\r\n\t\ttypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n\t\t    var e = new Error(message);\r\n\t\t    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n\t\t};\n\n\t\tvar once = function (action) {\n\t\t    var called = false;\n\t\t    return function () {\n\t\t        var args = [];\n\t\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t\t            args[_i] = arguments[_i];\n\t\t        }\n\t\t        if (called)\n\t\t            return;\n\t\t        called = true;\n\t\t        if (typeof action === \"function\")\n\t\t            action.call.apply(action, __spreadArray([null], args, false));\n\t\t    };\n\t\t};\n\n\t\tvar TYPEKEY = \"$$typeof\";\n\t\tvar Element = Symbol.for(\"react.element\");\n\t\tvar Memo = Symbol.for(\"react.memo\");\n\t\tvar ForwardRef = Symbol.for(\"react.forward_ref\");\n\t\tvar Portal = Symbol.for(\"react.portal\");\n\t\tvar Fragment = Symbol.for(\"react.fragment\");\n\t\tvar Context = Symbol.for(\"react.context\");\n\t\tvar Provider = Symbol.for(\"react.provider\");\n\t\tvar Consumer = Symbol.for(\"react.consumer\");\n\t\tvar Lazy = Symbol.for(\"react.lazy\");\n\t\tvar Suspense = Symbol.for(\"react.suspense\");\n\t\tvar Strict = Symbol.for(\"react.strict_mode\");\n\t\tvar Root = Symbol.for(\"react.root\");\n\t\tvar Scope = Symbol.for(\"react.scope\");\n\t\tvar ScopeLazy = Symbol.for(\"react.scope_lazy\");\n\t\tvar ScopeSuspense = Symbol.for(\"react.scope_suspense\");\n\t\tvar Comment = Symbol.for(\"react.comment\");\n\t\tvar Offscreen = Symbol.for(\"react.offscreen\");\n\t\tvar Profiler = Symbol.for(\"react.profiler\");\n\n\t\tfunction isObject(target) {\n\t\t    return typeof target === \"object\" && target !== null;\n\t\t}\n\t\tfunction isFunction(target) {\n\t\t    return typeof target === \"function\";\n\t\t}\n\t\tfunction isArray(target) {\n\t\t    return Array.isArray(target);\n\t\t}\n\t\tfunction isSymbol(target) {\n\t\t    return typeof target === \"symbol\";\n\t\t}\n\t\tfunction isString(target) {\n\t\t    return typeof target === \"string\";\n\t\t}\n\t\tfunction isInteger(target) {\n\t\t    return Number.isInteger(Number(target));\n\t\t}\n\t\tfunction isNumber(target) {\n\t\t    return typeof target === \"number\";\n\t\t}\n\t\tfunction isCollection(target) {\n\t\t    return target instanceof Map || target instanceof Set || target instanceof WeakMap || target instanceof WeakSet;\n\t\t}\n\t\tvar isPromise = function (val) {\n\t\t    return (isObject(val) || isFunction(val)) && isFunction(val.then) && isFunction(val.catch);\n\t\t};\n\n\t\tvar UniqueArray = /** @class */ (function () {\n\t\t    function UniqueArray() {\n\t\t        this.set = new Set();\n\t\t        this.arr = new Array();\n\t\t        this.length = 0;\n\t\t    }\n\t\t    UniqueArray.prototype.uniPop = function () {\n\t\t        var v = this.arr.pop();\n\t\t        this.set.delete(v);\n\t\t        this.length--;\n\t\t        return v;\n\t\t    };\n\t\t    UniqueArray.prototype.uniPush = function (v) {\n\t\t        if (this.set.has(v))\n\t\t            return 0;\n\t\t        this.set.add(v);\n\t\t        this.arr.push(v);\n\t\t        this.length++;\n\t\t    };\n\t\t    UniqueArray.prototype.uniShift = function () {\n\t\t        var v = this.arr.shift();\n\t\t        this.set.delete(v);\n\t\t        this.length--;\n\t\t        return v;\n\t\t    };\n\t\t    UniqueArray.prototype.uniUnshift = function (v) {\n\t\t        if (this.set.has(v))\n\t\t            return 0;\n\t\t        this.set.add(v);\n\t\t        this.arr.unshift(v);\n\t\t        this.length++;\n\t\t    };\n\t\t    UniqueArray.prototype.uniDelete = function (v) {\n\t\t        if (this.set.has(v)) {\n\t\t            this.set.delete(v);\n\t\t            this.arr = this.arr.filter(function (i) { return i !== v; });\n\t\t            this.length--;\n\t\t        }\n\t\t    };\n\t\t    UniqueArray.prototype.clear = function () {\n\t\t        this.length = 0;\n\t\t        this.set.clear();\n\t\t        this.arr.length = 0;\n\t\t    };\n\t\t    UniqueArray.prototype.getAll = function () {\n\t\t        return Array.from(this.arr);\n\t\t    };\n\t\t    return UniqueArray;\n\t\t}());\n\n\t\texports.HOOK_TYPE = void 0;\n\t\t(function (HOOK_TYPE) {\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useId\"] = 0] = \"useId\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useRef\"] = 1] = \"useRef\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useMemo\"] = 2] = \"useMemo\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useState\"] = 3] = \"useState\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useSignal\"] = 4] = \"useSignal\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useEffect\"] = 5] = \"useEffect\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useContext\"] = 6] = \"useContext\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useReducer\"] = 7] = \"useReducer\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useCallback\"] = 8] = \"useCallback\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useTransition\"] = 9] = \"useTransition\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useDebugValue\"] = 10] = \"useDebugValue\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useLayoutEffect\"] = 11] = \"useLayoutEffect\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useDeferredValue\"] = 12] = \"useDeferredValue\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useInsertionEffect\"] = 13] = \"useInsertionEffect\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useImperativeHandle\"] = 14] = \"useImperativeHandle\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useSyncExternalStore\"] = 15] = \"useSyncExternalStore\";\n\t\t})(exports.HOOK_TYPE || (exports.HOOK_TYPE = {}));\n\n\t\texports.UpdateQueueType = void 0;\n\t\t(function (UpdateQueueType) {\n\t\t    UpdateQueueType[UpdateQueueType[\"component\"] = 1] = \"component\";\n\t\t    UpdateQueueType[UpdateQueueType[\"hook\"] = 2] = \"hook\";\n\t\t    UpdateQueueType[UpdateQueueType[\"context\"] = 3] = \"context\";\n\t\t    UpdateQueueType[UpdateQueueType[\"hmr\"] = 4] = \"hmr\";\n\t\t    UpdateQueueType[UpdateQueueType[\"trigger\"] = 5] = \"trigger\";\n\t\t    UpdateQueueType[UpdateQueueType[\"suspense\"] = 6] = \"suspense\";\n\t\t    UpdateQueueType[UpdateQueueType[\"lazy\"] = 7] = \"lazy\";\n\t\t    UpdateQueueType[UpdateQueueType[\"promise\"] = 8] = \"promise\";\n\t\t})(exports.UpdateQueueType || (exports.UpdateQueueType = {}));\n\n\t\texports.STATE_TYPE = void 0;\n\t\t(function (STATE_TYPE) {\n\t\t    STATE_TYPE[STATE_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__create__\"] = 1] = \"__create__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__stable__\"] = 2] = \"__stable__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__inherit__\"] = 4] = \"__inherit__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__triggerConcurrent__\"] = 8] = \"__triggerConcurrent__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__triggerConcurrentForce__\"] = 16] = \"__triggerConcurrentForce__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__triggerSync__\"] = 32] = \"__triggerSync__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__triggerSyncForce__\"] = 64] = \"__triggerSyncForce__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__unmount__\"] = 128] = \"__unmount__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__hmr__\"] = 256] = \"__hmr__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__retrigger__\"] = 512] = \"__retrigger__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__reschedule__\"] = 1024] = \"__reschedule__\";\n\t\t})(exports.STATE_TYPE || (exports.STATE_TYPE = {}));\n\n\t\texports.PATCH_TYPE = void 0;\n\t\t(function (PATCH_TYPE) {\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__create__\"] = 1] = \"__create__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__update__\"] = 2] = \"__update__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__append__\"] = 4] = \"__append__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__position__\"] = 8] = \"__position__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__effect__\"] = 16] = \"__effect__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__layoutEffect__\"] = 32] = \"__layoutEffect__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__insertionEffect__\"] = 64] = \"__insertionEffect__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__unmount__\"] = 128] = \"__unmount__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__ref__\"] = 256] = \"__ref__\";\n\t\t})(exports.PATCH_TYPE || (exports.PATCH_TYPE = {}));\n\n\t\texports.Effect_TYPE = void 0;\n\t\t(function (Effect_TYPE) {\n\t\t    Effect_TYPE[Effect_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t    Effect_TYPE[Effect_TYPE[\"__effect__\"] = 1] = \"__effect__\";\n\t\t    Effect_TYPE[Effect_TYPE[\"__unmount__\"] = 2] = \"__unmount__\";\n\t\t})(exports.Effect_TYPE || (exports.Effect_TYPE = {}));\n\n\t\tvar compareVersion = function (version1, version2) {\n\t\t    var compare = function (arr1, arr2) {\n\t\t        if (arr1.length && arr2.length) {\n\t\t            var v1 = arr1[0];\n\t\t            var v2 = arr2[0];\n\t\t            if (v1 > v2)\n\t\t                return true;\n\t\t            if (v2 > v1)\n\t\t                return false;\n\t\t            return compare(arr1.slice(1), arr2.slice(1));\n\t\t        }\n\t\t        if (arr1.length)\n\t\t            return true;\n\t\t        if (arr2.length)\n\t\t            return false;\n\t\t        return true;\n\t\t    };\n\t\t    return compare(version1.split(\".\").map(Number), version2.split(\".\").map(Number));\n\t\t};\n\n\t\tvar isNormalEquals = function (src, target, isSkipKey) {\n\t\t    var isEquals = Object.is(src, target);\n\t\t    if (isEquals)\n\t\t        return true;\n\t\t    var hasSkipKeyFunction = typeof isSkipKey === \"function\";\n\t\t    if (typeof src === \"object\" && typeof target === \"object\" && src !== null && target !== null) {\n\t\t        var srcKeys = Object.keys(src);\n\t\t        var targetKeys = Object.keys(target);\n\t\t        if (srcKeys.length !== targetKeys.length)\n\t\t            return false;\n\t\t        var res = true;\n\t\t        if (hasSkipKeyFunction) {\n\t\t            for (var _i = 0, srcKeys_1 = srcKeys; _i < srcKeys_1.length; _i++) {\n\t\t                var key = srcKeys_1[_i];\n\t\t                if (isSkipKey(key) && key in target) {\n\t\t                    continue;\n\t\t                }\n\t\t                else {\n\t\t                    res = res && Object.is(src[key], target[key]);\n\t\t                }\n\t\t                if (!res)\n\t\t                    return res;\n\t\t            }\n\t\t        }\n\t\t        else {\n\t\t            for (var _a = 0, srcKeys_2 = srcKeys; _a < srcKeys_2.length; _a++) {\n\t\t                var key = srcKeys_2[_a];\n\t\t                res = res && Object.is(src[key], target[key]);\n\t\t                if (!res)\n\t\t                    return res;\n\t\t            }\n\t\t        }\n\t\t        return res;\n\t\t    }\n\t\t    return false;\n\t\t};\n\t\tvar isArrayEquals = function (src, target) {\n\t\t    var isEquals = Object.is(src, target);\n\t\t    if (isEquals)\n\t\t        return true;\n\t\t    if (Array.isArray(src) && Array.isArray(target) && src.length === target.length) {\n\t\t        var re = true;\n\t\t        for (var key in src) {\n\t\t            re = re && Object.is(src[key], target[key]);\n\t\t            if (!re)\n\t\t                return re;\n\t\t        }\n\t\t        return re;\n\t\t    }\n\t\t    return false;\n\t\t};\n\n\t\tvar ListTreeNode = /** @class */ (function () {\n\t\t    function ListTreeNode(value) {\n\t\t        this.prev = null;\n\t\t        this.next = null;\n\t\t        this.value = value;\n\t\t    }\n\t\t    return ListTreeNode;\n\t\t}());\n\t\tvar ListTree = /** @class */ (function () {\n\t\t    function ListTree() {\n\t\t        this.length = 0;\n\t\t        var _stickyHead = null;\n\t\t        Object.defineProperty(this, \"stickyHead\", {\n\t\t            get: function () {\n\t\t                return _stickyHead;\n\t\t            },\n\t\t            set: function (v) {\n\t\t                _stickyHead = v;\n\t\t            },\n\t\t        });\n\t\t        var _stickyFoot = null;\n\t\t        Object.defineProperty(this, \"stickyFoot\", {\n\t\t            get: function () {\n\t\t                return _stickyFoot;\n\t\t            },\n\t\t            set: function (v) {\n\t\t                _stickyFoot = v;\n\t\t            },\n\t\t        });\n\t\t        var _head = null;\n\t\t        Object.defineProperty(this, \"head\", {\n\t\t            get: function () {\n\t\t                return _head;\n\t\t            },\n\t\t            set: function (v) {\n\t\t                _head = v;\n\t\t            },\n\t\t        });\n\t\t        var _foot = null;\n\t\t        Object.defineProperty(this, \"foot\", {\n\t\t            get: function () {\n\t\t                return _foot;\n\t\t            },\n\t\t            set: function (v) {\n\t\t                _foot = v;\n\t\t            },\n\t\t        });\n\t\t    }\n\t\t    ListTree.prototype.push = function (node) {\n\t\t        var listNode = new ListTreeNode(node);\n\t\t        this.length++;\n\t\t        if (!this.foot) {\n\t\t            this.head = listNode;\n\t\t            this.foot = listNode;\n\t\t        }\n\t\t        else {\n\t\t            this.foot.next = listNode;\n\t\t            listNode.prev = this.foot;\n\t\t            this.foot = listNode;\n\t\t        }\n\t\t    };\n\t\t    ListTree.prototype.pushToLast = function (node) {\n\t\t        if (this.stickyFoot) {\n\t\t            var node_1 = this.stickyFoot;\n\t\t            this.push(node_1.value);\n\t\t            this.stickyFoot = null;\n\t\t        }\n\t\t        else {\n\t\t            this.length++;\n\t\t        }\n\t\t        var listNode = new ListTreeNode(node);\n\t\t        this.stickyFoot = listNode;\n\t\t    };\n\t\t    ListTree.prototype.pushToHead = function (node) {\n\t\t        if (this.stickyHead) {\n\t\t            var node_2 = this.stickyHead;\n\t\t            this.unshift(node_2.value);\n\t\t            this.stickyHead = null;\n\t\t        }\n\t\t        else {\n\t\t            this.length++;\n\t\t        }\n\t\t        var listNode = new ListTreeNode(node);\n\t\t        this.stickyHead = listNode;\n\t\t    };\n\t\t    ListTree.prototype.pop = function () {\n\t\t        var foot = this.stickyFoot || this.foot || this.stickyHead;\n\t\t        if (foot) {\n\t\t            this.delete(foot);\n\t\t            return foot.value;\n\t\t        }\n\t\t        else {\n\t\t            return null;\n\t\t        }\n\t\t    };\n\t\t    ListTree.prototype.unshift = function (node) {\n\t\t        var listNode = new ListTreeNode(node);\n\t\t        this.length++;\n\t\t        if (!this.head) {\n\t\t            this.head = listNode;\n\t\t            this.foot = listNode;\n\t\t        }\n\t\t        else {\n\t\t            this.head.prev = listNode;\n\t\t            listNode.next = this.head;\n\t\t            this.head = listNode;\n\t\t        }\n\t\t    };\n\t\t    ListTree.prototype.unshiftToHead = function (node) {\n\t\t        if (this.stickyHead) {\n\t\t            var node_3 = this.stickyHead;\n\t\t            this.unshift(node_3.value);\n\t\t            this.stickyHead = null;\n\t\t        }\n\t\t        else {\n\t\t            this.length++;\n\t\t        }\n\t\t        var listNode = new ListTreeNode(node);\n\t\t        this.stickyHead = listNode;\n\t\t    };\n\t\t    ListTree.prototype.unshiftToFoot = function (node) {\n\t\t        if (this.stickyFoot) {\n\t\t            var node_4 = this.stickyFoot;\n\t\t            this.push(node_4.value);\n\t\t            this.stickyFoot = null;\n\t\t        }\n\t\t        else {\n\t\t            this.length++;\n\t\t        }\n\t\t        var listNode = new ListTreeNode(node);\n\t\t        this.stickyFoot = listNode;\n\t\t    };\n\t\t    ListTree.prototype.shift = function () {\n\t\t        var head = this.stickyHead || this.head || this.stickyFoot;\n\t\t        if (head) {\n\t\t            this.delete(head);\n\t\t            return head.value;\n\t\t        }\n\t\t        else {\n\t\t            return null;\n\t\t        }\n\t\t    };\n\t\t    ListTree.prototype.pickHead = function () {\n\t\t        var _a, _b;\n\t\t        return ((_a = this.stickyHead) === null || _a === void 0 ? void 0 : _a.value) || ((_b = this.head) === null || _b === void 0 ? void 0 : _b.value);\n\t\t    };\n\t\t    ListTree.prototype.pickFoot = function () {\n\t\t        var _a, _b;\n\t\t        return ((_a = this.stickyFoot) === null || _a === void 0 ? void 0 : _a.value) || ((_b = this.foot) === null || _b === void 0 ? void 0 : _b.value);\n\t\t    };\n\t\t    ListTree.prototype.listToFoot = function (action) {\n\t\t        if (this.stickyHead) {\n\t\t            action(this.stickyHead.value);\n\t\t        }\n\t\t        var node = this.head;\n\t\t        while (node) {\n\t\t            action(node.value);\n\t\t            node = node.next;\n\t\t        }\n\t\t        if (this.stickyFoot) {\n\t\t            action(this.stickyFoot.value);\n\t\t        }\n\t\t    };\n\t\t    ListTree.prototype.listToHead = function (action) {\n\t\t        if (this.stickyFoot) {\n\t\t            action(this.stickyFoot.value);\n\t\t        }\n\t\t        var node = this.foot;\n\t\t        while (node) {\n\t\t            action(node.value);\n\t\t            node = node.prev;\n\t\t        }\n\t\t        if (this.stickyHead) {\n\t\t            action(this.stickyHead.value);\n\t\t        }\n\t\t    };\n\t\t    ListTree.prototype.toArray = function () {\n\t\t        var re = [];\n\t\t        this.listToFoot(function (v) { return re.push(v); });\n\t\t        return re;\n\t\t    };\n\t\t    ListTree.prototype.delete = function (node) {\n\t\t        if (this.stickyHead === node) {\n\t\t            this.stickyHead = null;\n\t\t            this.length--;\n\t\t        }\n\t\t        else if (this.stickyFoot === node) {\n\t\t            this.stickyFoot = null;\n\t\t            this.length--;\n\t\t        }\n\t\t        else if (this.head === node) {\n\t\t            var next = node.next;\n\t\t            node.next = null;\n\t\t            if (next) {\n\t\t                this.head = next;\n\t\t                next.prev = null;\n\t\t            }\n\t\t            else {\n\t\t                this.head = null;\n\t\t                this.foot = null;\n\t\t            }\n\t\t            this.length--;\n\t\t        }\n\t\t        else if (this.foot === node) {\n\t\t            var prev = node.prev;\n\t\t            node.prev = null;\n\t\t            if (prev) {\n\t\t                this.foot = prev;\n\t\t                prev.next = null;\n\t\t            }\n\t\t            else {\n\t\t                this.head = null;\n\t\t                this.foot = null;\n\t\t            }\n\t\t            this.length--;\n\t\t        }\n\t\t        else if (this.hasNode(node)) {\n\t\t            var prev = node.prev;\n\t\t            var next = node.next;\n\t\t            node.prev = null;\n\t\t            node.next = null;\n\t\t            prev.next = next;\n\t\t            next.prev = prev;\n\t\t            this.length--;\n\t\t        }\n\t\t    };\n\t\t    ListTree.prototype.size = function () {\n\t\t        return this.length;\n\t\t    };\n\t\t    ListTree.prototype.hasNode = function (node) {\n\t\t        if (this.stickyHead && Object.is(this.stickyHead, node))\n\t\t            return true;\n\t\t        if (this.stickyFoot && Object.is(this.stickyFoot, node))\n\t\t            return true;\n\t\t        var listNode = this.head;\n\t\t        while (listNode) {\n\t\t            if (Object.is(listNode, node))\n\t\t                return true;\n\t\t            listNode = listNode.next;\n\t\t        }\n\t\t        return false;\n\t\t    };\n\t\t    ListTree.prototype.hasValue = function (node) {\n\t\t        if (this.stickyHead && Object.is(this.stickyHead.value, node))\n\t\t            return true;\n\t\t        if (this.stickyFoot && Object.is(this.stickyFoot.value, node))\n\t\t            return true;\n\t\t        var listNode = this.head;\n\t\t        while (listNode) {\n\t\t            if (Object.is(listNode.value, node))\n\t\t                return true;\n\t\t            listNode = listNode.next;\n\t\t        }\n\t\t        return false;\n\t\t    };\n\t\t    ListTree.prototype.some = function (iterator) {\n\t\t        var re = false;\n\t\t        this.listToFoot(function (node) {\n\t\t            re = re || iterator(node);\n\t\t        });\n\t\t        return re;\n\t\t    };\n\t\t    ListTree.prototype.every = function (iterator) {\n\t\t        var re = true;\n\t\t        this.listToFoot(function (node) {\n\t\t            re = re && iterator(node);\n\t\t        });\n\t\t        return re;\n\t\t    };\n\t\t    ListTree.prototype.concat = function (list) {\n\t\t        var newList = new ListTree();\n\t\t        this.listToFoot(function (node) { return newList.push(node); });\n\t\t        list.listToFoot(function (node) { return newList.push(node); });\n\t\t        return newList;\n\t\t    };\n\t\t    ListTree.prototype.clone = function () {\n\t\t        var newList = new ListTree();\n\t\t        this.listToFoot(function (v) { return newList.push(v); });\n\t\t        return newList;\n\t\t    };\n\t\t    ListTree.prototype.clear = function () {\n\t\t        this.length = 0;\n\t\t        this.head = null;\n\t\t        this.foot = null;\n\t\t        this.stickyHead = null;\n\t\t        this.stickyFoot = null;\n\t\t    };\n\t\t    return ListTree;\n\t\t}());\n\n\t\texports.Comment = Comment;\n\t\texports.Consumer = Consumer;\n\t\texports.Context = Context;\n\t\texports.Element = Element;\n\t\texports.ForwardRef = ForwardRef;\n\t\texports.Fragment = Fragment;\n\t\texports.Lazy = Lazy;\n\t\texports.ListTree = ListTree;\n\t\texports.ListTreeNode = ListTreeNode;\n\t\texports.Memo = Memo;\n\t\texports.Offscreen = Offscreen;\n\t\texports.Portal = Portal;\n\t\texports.Profiler = Profiler;\n\t\texports.Provider = Provider;\n\t\texports.Root = Root;\n\t\texports.Scope = Scope;\n\t\texports.ScopeLazy = ScopeLazy;\n\t\texports.ScopeSuspense = ScopeSuspense;\n\t\texports.Strict = Strict;\n\t\texports.Suspense = Suspense;\n\t\texports.TYPEKEY = TYPEKEY;\n\t\texports.UniqueArray = UniqueArray;\n\t\texports.compareVersion = compareVersion;\n\t\texports.exclude = exclude;\n\t\texports.include = include;\n\t\texports.isArray = isArray;\n\t\texports.isArrayEquals = isArrayEquals;\n\t\texports.isCollection = isCollection;\n\t\texports.isFunction = isFunction;\n\t\texports.isInteger = isInteger;\n\t\texports.isNormalEquals = isNormalEquals;\n\t\texports.isNumber = isNumber;\n\t\texports.isObject = isObject;\n\t\texports.isPromise = isPromise;\n\t\texports.isString = isString;\n\t\texports.isSymbol = isSymbol;\n\t\texports.merge = merge;\n\t\texports.once = once;\n\t\texports.remove = remove; \n\t} (index_production$1));\n\treturn index_production$1;\n}\n\nvar index_development$1 = {};\n\nvar hasRequiredIndex_development;\n\nfunction requireIndex_development () {\n\tif (hasRequiredIndex_development) return index_development$1;\n\thasRequiredIndex_development = 1;\n\t(function (exports) {\n\n\t\tvar merge = function (src, rest) {\n\t\t    return src | rest;\n\t\t};\n\t\tvar remove = function (src, rest) {\n\t\t    if (src & rest) {\n\t\t        return src ^ rest;\n\t\t    }\n\t\t    else {\n\t\t        return src;\n\t\t    }\n\t\t};\n\t\tvar include = function (src, rest) {\n\t\t    return !!(src & rest);\n\t\t};\n\t\tvar exclude = function (src, rest) {\n\t\t    return !(src & rest);\n\t\t};\n\n\t\t/******************************************************************************\r\n\t\tCopyright (c) Microsoft Corporation.\r\n\r\n\t\tPermission to use, copy, modify, and/or distribute this software for any\r\n\t\tpurpose with or without fee is hereby granted.\r\n\r\n\t\tTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n\t\tREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n\t\tAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n\t\tINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n\t\tLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n\t\tOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n\t\tPERFORMANCE OF THIS SOFTWARE.\r\n\t\t***************************************************************************** */\r\n\t\t/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\n\r\n\t\tfunction __spreadArray(to, from, pack) {\r\n\t\t    if (arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n\t\t        if (ar || !(i in from)) {\r\n\t\t            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n\t\t            ar[i] = from[i];\r\n\t\t        }\r\n\t\t    }\r\n\t\t    return to.concat(ar || Array.prototype.slice.call(from));\r\n\t\t}\r\n\r\n\t\ttypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n\t\t    var e = new Error(message);\r\n\t\t    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n\t\t};\n\n\t\tvar once = function (action) {\n\t\t    var called = false;\n\t\t    return function () {\n\t\t        var args = [];\n\t\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t\t            args[_i] = arguments[_i];\n\t\t        }\n\t\t        if (called)\n\t\t            return;\n\t\t        called = true;\n\t\t        if (typeof action === \"function\")\n\t\t            action.call.apply(action, __spreadArray([null], args, false));\n\t\t    };\n\t\t};\n\n\t\tvar TYPEKEY = \"$$typeof\";\n\t\tvar Element = Symbol.for(\"react.element\");\n\t\tvar Memo = Symbol.for(\"react.memo\");\n\t\tvar ForwardRef = Symbol.for(\"react.forward_ref\");\n\t\tvar Portal = Symbol.for(\"react.portal\");\n\t\tvar Fragment = Symbol.for(\"react.fragment\");\n\t\tvar Context = Symbol.for(\"react.context\");\n\t\tvar Provider = Symbol.for(\"react.provider\");\n\t\tvar Consumer = Symbol.for(\"react.consumer\");\n\t\tvar Lazy = Symbol.for(\"react.lazy\");\n\t\tvar Suspense = Symbol.for(\"react.suspense\");\n\t\tvar Strict = Symbol.for(\"react.strict_mode\");\n\t\tvar Root = Symbol.for(\"react.root\");\n\t\tvar Scope = Symbol.for(\"react.scope\");\n\t\tvar ScopeLazy = Symbol.for(\"react.scope_lazy\");\n\t\tvar ScopeSuspense = Symbol.for(\"react.scope_suspense\");\n\t\tvar Comment = Symbol.for(\"react.comment\");\n\t\tvar Offscreen = Symbol.for(\"react.offscreen\");\n\t\tvar Profiler = Symbol.for(\"react.profiler\");\n\n\t\tfunction isObject(target) {\n\t\t    return typeof target === \"object\" && target !== null;\n\t\t}\n\t\tfunction isFunction(target) {\n\t\t    return typeof target === \"function\";\n\t\t}\n\t\tfunction isArray(target) {\n\t\t    return Array.isArray(target);\n\t\t}\n\t\tfunction isSymbol(target) {\n\t\t    return typeof target === \"symbol\";\n\t\t}\n\t\tfunction isString(target) {\n\t\t    return typeof target === \"string\";\n\t\t}\n\t\tfunction isInteger(target) {\n\t\t    return Number.isInteger(Number(target));\n\t\t}\n\t\tfunction isNumber(target) {\n\t\t    return typeof target === \"number\";\n\t\t}\n\t\tfunction isCollection(target) {\n\t\t    return target instanceof Map || target instanceof Set || target instanceof WeakMap || target instanceof WeakSet;\n\t\t}\n\t\tvar isPromise = function (val) {\n\t\t    return (isObject(val) || isFunction(val)) && isFunction(val.then) && isFunction(val.catch);\n\t\t};\n\n\t\tvar UniqueArray = /** @class */ (function () {\n\t\t    function UniqueArray() {\n\t\t        this.set = new Set();\n\t\t        this.arr = new Array();\n\t\t        this.length = 0;\n\t\t    }\n\t\t    UniqueArray.prototype.uniPop = function () {\n\t\t        var v = this.arr.pop();\n\t\t        this.set.delete(v);\n\t\t        this.length--;\n\t\t        return v;\n\t\t    };\n\t\t    UniqueArray.prototype.uniPush = function (v) {\n\t\t        if (this.set.has(v))\n\t\t            return 0;\n\t\t        this.set.add(v);\n\t\t        this.arr.push(v);\n\t\t        this.length++;\n\t\t    };\n\t\t    UniqueArray.prototype.uniShift = function () {\n\t\t        var v = this.arr.shift();\n\t\t        this.set.delete(v);\n\t\t        this.length--;\n\t\t        return v;\n\t\t    };\n\t\t    UniqueArray.prototype.uniUnshift = function (v) {\n\t\t        if (this.set.has(v))\n\t\t            return 0;\n\t\t        this.set.add(v);\n\t\t        this.arr.unshift(v);\n\t\t        this.length++;\n\t\t    };\n\t\t    UniqueArray.prototype.uniDelete = function (v) {\n\t\t        if (this.set.has(v)) {\n\t\t            this.set.delete(v);\n\t\t            this.arr = this.arr.filter(function (i) { return i !== v; });\n\t\t            this.length--;\n\t\t        }\n\t\t    };\n\t\t    UniqueArray.prototype.clear = function () {\n\t\t        this.length = 0;\n\t\t        this.set.clear();\n\t\t        this.arr.length = 0;\n\t\t    };\n\t\t    UniqueArray.prototype.getAll = function () {\n\t\t        return Array.from(this.arr);\n\t\t    };\n\t\t    return UniqueArray;\n\t\t}());\n\n\t\texports.HOOK_TYPE = void 0;\n\t\t(function (HOOK_TYPE) {\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useId\"] = 0] = \"useId\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useRef\"] = 1] = \"useRef\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useMemo\"] = 2] = \"useMemo\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useState\"] = 3] = \"useState\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useSignal\"] = 4] = \"useSignal\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useEffect\"] = 5] = \"useEffect\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useContext\"] = 6] = \"useContext\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useReducer\"] = 7] = \"useReducer\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useCallback\"] = 8] = \"useCallback\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useTransition\"] = 9] = \"useTransition\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useDebugValue\"] = 10] = \"useDebugValue\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useLayoutEffect\"] = 11] = \"useLayoutEffect\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useDeferredValue\"] = 12] = \"useDeferredValue\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useInsertionEffect\"] = 13] = \"useInsertionEffect\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useImperativeHandle\"] = 14] = \"useImperativeHandle\";\n\t\t    HOOK_TYPE[HOOK_TYPE[\"useSyncExternalStore\"] = 15] = \"useSyncExternalStore\";\n\t\t})(exports.HOOK_TYPE || (exports.HOOK_TYPE = {}));\n\n\t\texports.UpdateQueueType = void 0;\n\t\t(function (UpdateQueueType) {\n\t\t    UpdateQueueType[UpdateQueueType[\"component\"] = 1] = \"component\";\n\t\t    UpdateQueueType[UpdateQueueType[\"hook\"] = 2] = \"hook\";\n\t\t    UpdateQueueType[UpdateQueueType[\"context\"] = 3] = \"context\";\n\t\t    UpdateQueueType[UpdateQueueType[\"hmr\"] = 4] = \"hmr\";\n\t\t    UpdateQueueType[UpdateQueueType[\"trigger\"] = 5] = \"trigger\";\n\t\t    UpdateQueueType[UpdateQueueType[\"suspense\"] = 6] = \"suspense\";\n\t\t    UpdateQueueType[UpdateQueueType[\"lazy\"] = 7] = \"lazy\";\n\t\t    UpdateQueueType[UpdateQueueType[\"promise\"] = 8] = \"promise\";\n\t\t})(exports.UpdateQueueType || (exports.UpdateQueueType = {}));\n\n\t\texports.STATE_TYPE = void 0;\n\t\t(function (STATE_TYPE) {\n\t\t    STATE_TYPE[STATE_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__create__\"] = 1] = \"__create__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__stable__\"] = 2] = \"__stable__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__inherit__\"] = 4] = \"__inherit__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__triggerConcurrent__\"] = 8] = \"__triggerConcurrent__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__triggerConcurrentForce__\"] = 16] = \"__triggerConcurrentForce__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__triggerSync__\"] = 32] = \"__triggerSync__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__triggerSyncForce__\"] = 64] = \"__triggerSyncForce__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__unmount__\"] = 128] = \"__unmount__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__hmr__\"] = 256] = \"__hmr__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__retrigger__\"] = 512] = \"__retrigger__\";\n\t\t    STATE_TYPE[STATE_TYPE[\"__reschedule__\"] = 1024] = \"__reschedule__\";\n\t\t})(exports.STATE_TYPE || (exports.STATE_TYPE = {}));\n\n\t\texports.PATCH_TYPE = void 0;\n\t\t(function (PATCH_TYPE) {\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__create__\"] = 1] = \"__create__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__update__\"] = 2] = \"__update__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__append__\"] = 4] = \"__append__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__position__\"] = 8] = \"__position__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__effect__\"] = 16] = \"__effect__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__layoutEffect__\"] = 32] = \"__layoutEffect__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__insertionEffect__\"] = 64] = \"__insertionEffect__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__unmount__\"] = 128] = \"__unmount__\";\n\t\t    PATCH_TYPE[PATCH_TYPE[\"__ref__\"] = 256] = \"__ref__\";\n\t\t})(exports.PATCH_TYPE || (exports.PATCH_TYPE = {}));\n\n\t\texports.Effect_TYPE = void 0;\n\t\t(function (Effect_TYPE) {\n\t\t    Effect_TYPE[Effect_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t    Effect_TYPE[Effect_TYPE[\"__effect__\"] = 1] = \"__effect__\";\n\t\t    Effect_TYPE[Effect_TYPE[\"__unmount__\"] = 2] = \"__unmount__\";\n\t\t})(exports.Effect_TYPE || (exports.Effect_TYPE = {}));\n\n\t\tvar compareVersion = function (version1, version2) {\n\t\t    var compare = function (arr1, arr2) {\n\t\t        if (arr1.length && arr2.length) {\n\t\t            var v1 = arr1[0];\n\t\t            var v2 = arr2[0];\n\t\t            if (v1 > v2)\n\t\t                return true;\n\t\t            if (v2 > v1)\n\t\t                return false;\n\t\t            return compare(arr1.slice(1), arr2.slice(1));\n\t\t        }\n\t\t        if (arr1.length)\n\t\t            return true;\n\t\t        if (arr2.length)\n\t\t            return false;\n\t\t        return true;\n\t\t    };\n\t\t    return compare(version1.split(\".\").map(Number), version2.split(\".\").map(Number));\n\t\t};\n\n\t\tvar isNormalEquals = function (src, target, isSkipKey) {\n\t\t    var isEquals = Object.is(src, target);\n\t\t    if (isEquals)\n\t\t        return true;\n\t\t    var hasSkipKeyFunction = typeof isSkipKey === \"function\";\n\t\t    if (typeof src === \"object\" && typeof target === \"object\" && src !== null && target !== null) {\n\t\t        var srcKeys = Object.keys(src);\n\t\t        var targetKeys = Object.keys(target);\n\t\t        if (srcKeys.length !== targetKeys.length)\n\t\t            return false;\n\t\t        var res = true;\n\t\t        if (hasSkipKeyFunction) {\n\t\t            for (var _i = 0, srcKeys_1 = srcKeys; _i < srcKeys_1.length; _i++) {\n\t\t                var key = srcKeys_1[_i];\n\t\t                if (isSkipKey(key) && key in target) {\n\t\t                    continue;\n\t\t                }\n\t\t                else {\n\t\t                    res = res && Object.is(src[key], target[key]);\n\t\t                }\n\t\t                if (!res)\n\t\t                    return res;\n\t\t            }\n\t\t        }\n\t\t        else {\n\t\t            for (var _a = 0, srcKeys_2 = srcKeys; _a < srcKeys_2.length; _a++) {\n\t\t                var key = srcKeys_2[_a];\n\t\t                res = res && Object.is(src[key], target[key]);\n\t\t                if (!res)\n\t\t                    return res;\n\t\t            }\n\t\t        }\n\t\t        return res;\n\t\t    }\n\t\t    return false;\n\t\t};\n\t\tvar isArrayEquals = function (src, target) {\n\t\t    var isEquals = Object.is(src, target);\n\t\t    if (isEquals)\n\t\t        return true;\n\t\t    if (Array.isArray(src) && Array.isArray(target) && src.length === target.length) {\n\t\t        var re = true;\n\t\t        for (var key in src) {\n\t\t            re = re && Object.is(src[key], target[key]);\n\t\t            if (!re)\n\t\t                return re;\n\t\t        }\n\t\t        return re;\n\t\t    }\n\t\t    return false;\n\t\t};\n\n\t\tvar ListTreeNode = /** @class */ (function () {\n\t\t    function ListTreeNode(value) {\n\t\t        this.prev = null;\n\t\t        this.next = null;\n\t\t        this.value = value;\n\t\t    }\n\t\t    return ListTreeNode;\n\t\t}());\n\t\tvar ListTree = /** @class */ (function () {\n\t\t    function ListTree() {\n\t\t        this.length = 0;\n\t\t        var _stickyHead = null;\n\t\t        Object.defineProperty(this, \"stickyHead\", {\n\t\t            get: function () {\n\t\t                return _stickyHead;\n\t\t            },\n\t\t            set: function (v) {\n\t\t                _stickyHead = v;\n\t\t            },\n\t\t        });\n\t\t        var _stickyFoot = null;\n\t\t        Object.defineProperty(this, \"stickyFoot\", {\n\t\t            get: function () {\n\t\t                return _stickyFoot;\n\t\t            },\n\t\t            set: function (v) {\n\t\t                _stickyFoot = v;\n\t\t            },\n\t\t        });\n\t\t        var _head = null;\n\t\t        Object.defineProperty(this, \"head\", {\n\t\t            get: function () {\n\t\t                return _head;\n\t\t            },\n\t\t            set: function (v) {\n\t\t                _head = v;\n\t\t            },\n\t\t        });\n\t\t        var _foot = null;\n\t\t        Object.defineProperty(this, \"foot\", {\n\t\t            get: function () {\n\t\t                return _foot;\n\t\t            },\n\t\t            set: function (v) {\n\t\t                _foot = v;\n\t\t            },\n\t\t        });\n\t\t    }\n\t\t    ListTree.prototype.push = function (node) {\n\t\t        var listNode = new ListTreeNode(node);\n\t\t        this.length++;\n\t\t        if (!this.foot) {\n\t\t            this.head = listNode;\n\t\t            this.foot = listNode;\n\t\t        }\n\t\t        else {\n\t\t            this.foot.next = listNode;\n\t\t            listNode.prev = this.foot;\n\t\t            this.foot = listNode;\n\t\t        }\n\t\t    };\n\t\t    ListTree.prototype.pushToLast = function (node) {\n\t\t        if (this.stickyFoot) {\n\t\t            var node_1 = this.stickyFoot;\n\t\t            this.push(node_1.value);\n\t\t            this.stickyFoot = null;\n\t\t        }\n\t\t        else {\n\t\t            this.length++;\n\t\t        }\n\t\t        var listNode = new ListTreeNode(node);\n\t\t        this.stickyFoot = listNode;\n\t\t    };\n\t\t    ListTree.prototype.pushToHead = function (node) {\n\t\t        if (this.stickyHead) {\n\t\t            var node_2 = this.stickyHead;\n\t\t            this.unshift(node_2.value);\n\t\t            this.stickyHead = null;\n\t\t        }\n\t\t        else {\n\t\t            this.length++;\n\t\t        }\n\t\t        var listNode = new ListTreeNode(node);\n\t\t        this.stickyHead = listNode;\n\t\t    };\n\t\t    ListTree.prototype.pop = function () {\n\t\t        var foot = this.stickyFoot || this.foot || this.stickyHead;\n\t\t        if (foot) {\n\t\t            this.delete(foot);\n\t\t            return foot.value;\n\t\t        }\n\t\t        else {\n\t\t            return null;\n\t\t        }\n\t\t    };\n\t\t    ListTree.prototype.unshift = function (node) {\n\t\t        var listNode = new ListTreeNode(node);\n\t\t        this.length++;\n\t\t        if (!this.head) {\n\t\t            this.head = listNode;\n\t\t            this.foot = listNode;\n\t\t        }\n\t\t        else {\n\t\t            this.head.prev = listNode;\n\t\t            listNode.next = this.head;\n\t\t            this.head = listNode;\n\t\t        }\n\t\t    };\n\t\t    ListTree.prototype.unshiftToHead = function (node) {\n\t\t        if (this.stickyHead) {\n\t\t            var node_3 = this.stickyHead;\n\t\t            this.unshift(node_3.value);\n\t\t            this.stickyHead = null;\n\t\t        }\n\t\t        else {\n\t\t            this.length++;\n\t\t        }\n\t\t        var listNode = new ListTreeNode(node);\n\t\t        this.stickyHead = listNode;\n\t\t    };\n\t\t    ListTree.prototype.unshiftToFoot = function (node) {\n\t\t        if (this.stickyFoot) {\n\t\t            var node_4 = this.stickyFoot;\n\t\t            this.push(node_4.value);\n\t\t            this.stickyFoot = null;\n\t\t        }\n\t\t        else {\n\t\t            this.length++;\n\t\t        }\n\t\t        var listNode = new ListTreeNode(node);\n\t\t        this.stickyFoot = listNode;\n\t\t    };\n\t\t    ListTree.prototype.shift = function () {\n\t\t        var head = this.stickyHead || this.head || this.stickyFoot;\n\t\t        if (head) {\n\t\t            this.delete(head);\n\t\t            return head.value;\n\t\t        }\n\t\t        else {\n\t\t            return null;\n\t\t        }\n\t\t    };\n\t\t    ListTree.prototype.pickHead = function () {\n\t\t        var _a, _b;\n\t\t        return ((_a = this.stickyHead) === null || _a === void 0 ? void 0 : _a.value) || ((_b = this.head) === null || _b === void 0 ? void 0 : _b.value);\n\t\t    };\n\t\t    ListTree.prototype.pickFoot = function () {\n\t\t        var _a, _b;\n\t\t        return ((_a = this.stickyFoot) === null || _a === void 0 ? void 0 : _a.value) || ((_b = this.foot) === null || _b === void 0 ? void 0 : _b.value);\n\t\t    };\n\t\t    ListTree.prototype.listToFoot = function (action) {\n\t\t        if (this.stickyHead) {\n\t\t            action(this.stickyHead.value);\n\t\t        }\n\t\t        var node = this.head;\n\t\t        while (node) {\n\t\t            action(node.value);\n\t\t            node = node.next;\n\t\t        }\n\t\t        if (this.stickyFoot) {\n\t\t            action(this.stickyFoot.value);\n\t\t        }\n\t\t    };\n\t\t    ListTree.prototype.listToHead = function (action) {\n\t\t        if (this.stickyFoot) {\n\t\t            action(this.stickyFoot.value);\n\t\t        }\n\t\t        var node = this.foot;\n\t\t        while (node) {\n\t\t            action(node.value);\n\t\t            node = node.prev;\n\t\t        }\n\t\t        if (this.stickyHead) {\n\t\t            action(this.stickyHead.value);\n\t\t        }\n\t\t    };\n\t\t    ListTree.prototype.toArray = function () {\n\t\t        var re = [];\n\t\t        this.listToFoot(function (v) { return re.push(v); });\n\t\t        return re;\n\t\t    };\n\t\t    ListTree.prototype.delete = function (node) {\n\t\t        if (this.stickyHead === node) {\n\t\t            this.stickyHead = null;\n\t\t            this.length--;\n\t\t        }\n\t\t        else if (this.stickyFoot === node) {\n\t\t            this.stickyFoot = null;\n\t\t            this.length--;\n\t\t        }\n\t\t        else if (this.head === node) {\n\t\t            var next = node.next;\n\t\t            node.next = null;\n\t\t            if (next) {\n\t\t                this.head = next;\n\t\t                next.prev = null;\n\t\t            }\n\t\t            else {\n\t\t                this.head = null;\n\t\t                this.foot = null;\n\t\t            }\n\t\t            this.length--;\n\t\t        }\n\t\t        else if (this.foot === node) {\n\t\t            var prev = node.prev;\n\t\t            node.prev = null;\n\t\t            if (prev) {\n\t\t                this.foot = prev;\n\t\t                prev.next = null;\n\t\t            }\n\t\t            else {\n\t\t                this.head = null;\n\t\t                this.foot = null;\n\t\t            }\n\t\t            this.length--;\n\t\t        }\n\t\t        else if (this.hasNode(node)) {\n\t\t            var prev = node.prev;\n\t\t            var next = node.next;\n\t\t            node.prev = null;\n\t\t            node.next = null;\n\t\t            prev.next = next;\n\t\t            next.prev = prev;\n\t\t            this.length--;\n\t\t        }\n\t\t    };\n\t\t    ListTree.prototype.size = function () {\n\t\t        return this.length;\n\t\t    };\n\t\t    ListTree.prototype.hasNode = function (node) {\n\t\t        if (this.stickyHead && Object.is(this.stickyHead, node))\n\t\t            return true;\n\t\t        if (this.stickyFoot && Object.is(this.stickyFoot, node))\n\t\t            return true;\n\t\t        var listNode = this.head;\n\t\t        while (listNode) {\n\t\t            if (Object.is(listNode, node))\n\t\t                return true;\n\t\t            listNode = listNode.next;\n\t\t        }\n\t\t        return false;\n\t\t    };\n\t\t    ListTree.prototype.hasValue = function (node) {\n\t\t        if (this.stickyHead && Object.is(this.stickyHead.value, node))\n\t\t            return true;\n\t\t        if (this.stickyFoot && Object.is(this.stickyFoot.value, node))\n\t\t            return true;\n\t\t        var listNode = this.head;\n\t\t        while (listNode) {\n\t\t            if (Object.is(listNode.value, node))\n\t\t                return true;\n\t\t            listNode = listNode.next;\n\t\t        }\n\t\t        return false;\n\t\t    };\n\t\t    ListTree.prototype.some = function (iterator) {\n\t\t        var re = false;\n\t\t        this.listToFoot(function (node) {\n\t\t            re = re || iterator(node);\n\t\t        });\n\t\t        return re;\n\t\t    };\n\t\t    ListTree.prototype.every = function (iterator) {\n\t\t        var re = true;\n\t\t        this.listToFoot(function (node) {\n\t\t            re = re && iterator(node);\n\t\t        });\n\t\t        return re;\n\t\t    };\n\t\t    ListTree.prototype.concat = function (list) {\n\t\t        var newList = new ListTree();\n\t\t        this.listToFoot(function (node) { return newList.push(node); });\n\t\t        list.listToFoot(function (node) { return newList.push(node); });\n\t\t        return newList;\n\t\t    };\n\t\t    ListTree.prototype.clone = function () {\n\t\t        var newList = new ListTree();\n\t\t        this.listToFoot(function (v) { return newList.push(v); });\n\t\t        return newList;\n\t\t    };\n\t\t    ListTree.prototype.clear = function () {\n\t\t        this.length = 0;\n\t\t        this.head = null;\n\t\t        this.foot = null;\n\t\t        this.stickyHead = null;\n\t\t        this.stickyFoot = null;\n\t\t    };\n\t\t    return ListTree;\n\t\t}());\n\t\t{\n\t\t    Object.defineProperty(ListTree.prototype, \"_debugToArray\", {\n\t\t        get: function () {\n\t\t            return this.toArray();\n\t\t        },\n\t\t    });\n\t\t}\n\n\t\texports.Comment = Comment;\n\t\texports.Consumer = Consumer;\n\t\texports.Context = Context;\n\t\texports.Element = Element;\n\t\texports.ForwardRef = ForwardRef;\n\t\texports.Fragment = Fragment;\n\t\texports.Lazy = Lazy;\n\t\texports.ListTree = ListTree;\n\t\texports.ListTreeNode = ListTreeNode;\n\t\texports.Memo = Memo;\n\t\texports.Offscreen = Offscreen;\n\t\texports.Portal = Portal;\n\t\texports.Profiler = Profiler;\n\t\texports.Provider = Provider;\n\t\texports.Root = Root;\n\t\texports.Scope = Scope;\n\t\texports.ScopeLazy = ScopeLazy;\n\t\texports.ScopeSuspense = ScopeSuspense;\n\t\texports.Strict = Strict;\n\t\texports.Suspense = Suspense;\n\t\texports.TYPEKEY = TYPEKEY;\n\t\texports.UniqueArray = UniqueArray;\n\t\texports.compareVersion = compareVersion;\n\t\texports.exclude = exclude;\n\t\texports.include = include;\n\t\texports.isArray = isArray;\n\t\texports.isArrayEquals = isArrayEquals;\n\t\texports.isCollection = isCollection;\n\t\texports.isFunction = isFunction;\n\t\texports.isInteger = isInteger;\n\t\texports.isNormalEquals = isNormalEquals;\n\t\texports.isNumber = isNumber;\n\t\texports.isObject = isObject;\n\t\texports.isPromise = isPromise;\n\t\texports.isString = isString;\n\t\texports.isSymbol = isSymbol;\n\t\texports.merge = merge;\n\t\texports.once = once;\n\t\texports.remove = remove; \n\t} (index_development$1));\n\treturn index_development$1;\n}\n\nvar hasRequiredMyreactShared;\n\nfunction requireMyreactShared () {\n\tif (hasRequiredMyreactShared) return myreactShared.exports;\n\thasRequiredMyreactShared = 1;\n\n\tif (process.env.NODE_ENV === \"production\") {\n\t  myreactShared.exports = requireIndex_production();\n\t} else {\n\t  myreactShared.exports = requireIndex_development();\n\t}\n\treturn myreactShared.exports;\n}\n\nvar myreactSharedExports = requireMyreactShared();\n\n/**\n * An SSR-friendly useLayoutEffect.\n *\n * React currently throws a warning when using useLayoutEffect on the server.\n * To get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect elsewhere.\n *\n * @see https://github.com/facebook/react/issues/14927\n */\nconst useIsomorphicLayoutEffect$1 = /* @__PURE__ */ (() => typeof window !== \"undefined\" && (window.document?.createElement || window.navigator?.product === \"ReactNative\"))()\n    ? React.useLayoutEffect\n    : React.useEffect;\n/**\n * Traverses up or down a {@link Fiber}, return `true` to stop and select a node.\n */\nfunction traverseFiber(\n/** Input {@link Fiber} to traverse. */\nfiber, \n/** Whether to ascend and walk up the tree. Will walk down if `false`. */\nascending, \n/** A {@link Fiber} node selector, returns the first match when `true` is passed. */\nselector) {\n    if (!fiber)\n        return;\n    if (selector(fiber) === true)\n        return fiber;\n    let child = ascending ? fiber.return : fiber.child;\n    while (child) {\n        const match = traverseFiber(child, ascending, selector);\n        if (match)\n            return match;\n        child = ascending ? null : child.sibling;\n    }\n}\nconst FiberContext = /* @__PURE__ */ React.createContext(null);\n/**\n * A react-internal {@link Fiber} provider. This component binds React children to the React Fiber tree. Call its-fine hooks within this.\n */\nclass FiberProvider extends React.Component {\n    _reactInternals;\n    render() {\n        return jsx(FiberContext.Provider, { value: this._reactInternals, children: this.props.children });\n    }\n}\n/**\n * Returns the current react-internal {@link Fiber}. This is an implementation detail of [react-reconciler](https://github.com/facebook/react/tree/main/packages/react-reconciler).\n */\nfunction useFiber() {\n    const root = React.useContext(FiberContext);\n    if (root === null)\n        throw new Error(\"its-fine: useFiber must be called within a <FiberProvider />!\");\n    const id = React.useId();\n    const fiber = React.useMemo(() => {\n        for (const maybeFiber of [root, root?.alternate]) {\n            if (!maybeFiber)\n                continue;\n            const fiber = traverseFiber(maybeFiber, false, (node) => {\n                const hookList = node.hookList;\n                let hook = hookList?.head;\n                while (hook) {\n                    const typedHook = hook.value;\n                    if (typedHook.type === myreactSharedExports.HOOK_TYPE.useId && typedHook.result === id) {\n                        return true;\n                    }\n                    hook = hook.next;\n                }\n            });\n            if (fiber)\n                return fiber;\n        }\n    }, [root, id]);\n    return fiber;\n}\n/**\n * Returns the current react-reconciler container info passed to {@link ReactReconciler.Reconciler.createContainer}.\n *\n * In react-dom, a container will point to the root DOM element; in react-three-fiber, it will point to the root Zustand store.\n */\nfunction useContainer() {\n    const fiber = useFiber();\n    const root = React.useMemo(() => traverseFiber(fiber, true, (node) => node.stateNode?.containerInfo != null), [fiber]);\n    return root?.stateNode.containerInfo;\n}\n/**\n * Returns the nearest react-reconciler child instance or the node created from {@link ReactReconciler.HostConfig.createInstance}.\n *\n * In react-dom, this would be a DOM element; in react-three-fiber this would be an instance descriptor.\n */\nfunction useNearestChild(\n/** An optional element type to filter to. */\ntype) {\n    const fiber = useFiber();\n    const childRef = React.useRef(undefined);\n    useIsomorphicLayoutEffect$1(() => {\n        childRef.current = traverseFiber(fiber, false, (node) => typeof node.elementType === \"string\" && (type === undefined || node.elementType === type))?.stateNode;\n    }, [fiber]);\n    return childRef;\n}\n/**\n * Returns the nearest react-reconciler parent instance or the node created from {@link ReactReconciler.HostConfig.createInstance}.\n *\n * In react-dom, this would be a DOM element; in react-three-fiber this would be an instance descriptor.\n */\nfunction useNearestParent(\n/** An optional element type to filter to. */\ntype) {\n    const fiber = useFiber();\n    const parentRef = React.useRef(undefined);\n    useIsomorphicLayoutEffect$1(() => {\n        parentRef.current = traverseFiber(fiber, true, (node) => typeof node.elementType === \"string\" && (type === undefined || node.elementType === type))?.stateNode;\n    }, [fiber]);\n    return parentRef;\n}\nconst REACT_CONTEXT_TYPE = Symbol.for(\"react.context\");\nconst REACT_PROVIDER_TYPE = Symbol.for(\"react.provider\");\nconst isContext = (type) => type !== null && typeof type === \"object\" && \"$$typeof\" in type && (type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_PROVIDER_TYPE);\n/**\n * Returns a map of all contexts and their values.\n */\nfunction useContextMap() {\n    const fiber = useFiber();\n    const [contextMap] = React.useState(() => new Map());\n    // Collect live context\n    contextMap.clear();\n    let node = fiber;\n    while (node) {\n        const context = node.elementType;\n        if (isContext(context)) {\n            // @ts-ignore\n            const contextProvider = context.Provider ? context : context.Context;\n            if (!contextMap.has(context) && contextProvider !== FiberContext) {\n                // @ts-ignore\n                contextMap.set(context, React.use(contextProvider));\n            }\n        }\n        node = node.return;\n    }\n    return contextMap;\n}\n/**\n * React Context currently cannot be shared across [React renderers](https://reactjs.org/docs/codebase-overview.html#renderers) but explicitly forwarded between providers (see [react#17275](https://github.com/facebook/react/issues/17275)). This hook returns a {@link ContextBridge} of live context providers to pierce Context across renderers.\n *\n * Pass {@link ContextBridge} as a component to a secondary renderer to enable context-sharing within its children.\n */\nfunction useContextBridge() {\n    const contextMap = useContextMap();\n    // Flatten context and their memoized values into a `ContextBridge` provider\n    return React.useMemo(() => Array.from(contextMap.keys()).reduce((Prev, context) => (props) => {\n        const Tar = (context.Provider || context);\n        return (jsx(Prev, { children: jsx(Tar, { ...props, value: contextMap.get(context) }) }));\n    }, (props) => jsx(FiberProvider, { ...props })), [contextMap]);\n}\n\n/**\n * Returns the instance's initial (outmost) root.\n */\nfunction findInitialRoot(instance) {\n    let root = instance.root;\n    while (root.getState().previousRoot)\n        root = root.getState().previousRoot;\n    return root;\n}\nconst isOrthographicCamera = (def) => def && def.isOrthographicCamera;\nconst isRef = (obj) => obj && obj.hasOwnProperty(\"current\");\nconst isColorRepresentation = (value) => value != null && (typeof value === \"string\" || typeof value === \"number\" || value.isColor);\n/**\n * An SSR-friendly useLayoutEffect.\n *\n * React currently throws a warning when using useLayoutEffect on the server.\n * To get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect elsewhere.\n *\n * @see https://github.com/facebook/react/issues/14927\n */\nconst useIsomorphicLayoutEffect = /* @__PURE__ */ (() => typeof window !== \"undefined\" && (window.document?.createElement || window.navigator?.product === \"ReactNative\"))()\n    ? React.useLayoutEffect\n    : React.useEffect;\nfunction useMutableCallback(fn) {\n    const ref = React.useRef(fn);\n    useIsomorphicLayoutEffect(() => void (ref.current = fn), [fn]);\n    return ref;\n}\n/**\n * Bridges renderer Context and StrictMode from a primary renderer.\n */\nfunction useBridge() {\n    const fiber = useFiber();\n    const ContextBridge = useContextBridge();\n    return React.useMemo(() => ({ children }) => {\n        const strict = !!traverseFiber(fiber, true, (node) => node.elementType === React.StrictMode);\n        const Root = strict ? React.StrictMode : React.Fragment;\n        return (jsx(Root, { children: jsx(ContextBridge, { children: children }) }));\n    }, [fiber, ContextBridge]);\n}\nfunction Block({ set }) {\n    useIsomorphicLayoutEffect(() => {\n        set(new Promise(() => null));\n        return () => set(false);\n    }, [set]);\n    return null;\n}\n// NOTE: static members get down-level transpiled to mutations which break tree-shaking\nconst ErrorBoundary = /* @__PURE__ */ (() => class ErrorBoundary extends React.Component {\n    state = { error: false };\n    static getDerivedStateFromError = () => ({ error: true });\n    componentDidCatch(err) {\n        this.props.set(err);\n    }\n    render() {\n        return this.state.error ? null : this.props.children;\n    }\n})();\nfunction calculateDpr(dpr) {\n    // Err on the side of progress by assuming 2x dpr if we can't detect it\n    // This will happen in workers where window is defined but dpr isn't.\n    const target = typeof window !== \"undefined\" ? (window.devicePixelRatio ?? 2) : 1;\n    return Array.isArray(dpr) ? Math.min(Math.max(dpr[0], target), dpr[1]) : dpr;\n}\n/**\n * Returns instance root state\n */\nfunction getRootState(obj) {\n    return obj.__r3f?.root.getState();\n}\n// A collection of compare functions\nconst is = {\n    obj: (a) => a === Object(a) && !is.arr(a) && typeof a !== \"function\",\n    fun: (a) => typeof a === \"function\",\n    str: (a) => typeof a === \"string\",\n    num: (a) => typeof a === \"number\",\n    boo: (a) => typeof a === \"boolean\",\n    und: (a) => a === void 0,\n    nul: (a) => a === null,\n    arr: (a) => Array.isArray(a),\n    equ(a, b, { arrays = \"shallow\", objects = \"reference\", strict = true } = {}) {\n        // Wrong type or one of the two undefined, doesn't match\n        if (typeof a !== typeof b || !!a !== !!b)\n            return false;\n        // Atomic, just compare a against b\n        if (is.str(a) || is.num(a) || is.boo(a))\n            return a === b;\n        const isObj = is.obj(a);\n        if (isObj && objects === \"reference\")\n            return a === b;\n        const isArr = is.arr(a);\n        if (isArr && arrays === \"reference\")\n            return a === b;\n        // Array or Object, shallow compare first to see if it's a match\n        if ((isArr || isObj) && a === b)\n            return true;\n        // Last resort, go through keys\n        let i;\n        // Check if a has all the keys of b\n        for (i in a)\n            if (!(i in b))\n                return false;\n        // Check if values between keys match\n        if (isObj && arrays === \"shallow\" && objects === \"shallow\") {\n            for (i in strict ? b : a)\n                if (!is.equ(a[i], b[i], { strict, objects: \"reference\" }))\n                    return false;\n        }\n        else {\n            for (i in strict ? b : a)\n                if (a[i] !== b[i])\n                    return false;\n        }\n        // If i is undefined\n        if (is.und(i)) {\n            // If both arrays are empty we consider them equal\n            if (isArr && a.length === 0 && b.length === 0)\n                return true;\n            // If both objects are empty we consider them equal\n            if (isObj && Object.keys(a).length === 0 && Object.keys(b).length === 0)\n                return true;\n            // Otherwise match them by value\n            if (a !== b)\n                return false;\n        }\n        return true;\n    },\n};\n// Collects nodes and materials from a THREE.Object3D\nfunction buildGraph(object) {\n    const data = { nodes: {}, materials: {}, meshes: {} };\n    if (object) {\n        object.traverse((obj) => {\n            if (obj.name)\n                data.nodes[obj.name] = obj;\n            if (obj.material && !data.materials[obj.material.name])\n                data.materials[obj.material.name] = obj.material;\n            if (obj.isMesh && !data.meshes[obj.name])\n                data.meshes[obj.name] = obj;\n        });\n    }\n    return data;\n}\n// Disposes an object and all its properties\nfunction dispose(obj) {\n    if (obj.type !== \"Scene\")\n        obj.dispose?.();\n    for (const p in obj) {\n        const prop = obj[p];\n        if (prop?.type !== \"Scene\")\n            prop?.dispose?.();\n    }\n}\nconst REACT_INTERNAL_PROPS = [\"children\", \"key\", \"ref\"];\n// Gets only instance props from reconciler fibers\nfunction getInstanceProps(queue) {\n    const props = {};\n    for (const key in queue) {\n        if (!REACT_INTERNAL_PROPS.includes(key))\n            props[key] = queue[key];\n    }\n    return props;\n}\n// Each object in the scene carries a small LocalState descriptor\nfunction prepare(target, root, type, props) {\n    const object = target;\n    // Create instance descriptor\n    let instance = object?.__r3f;\n    if (!instance) {\n        instance = {\n            root,\n            type,\n            parent: null,\n            children: [],\n            props: getInstanceProps(props),\n            object,\n            eventCount: 0,\n            handlers: {},\n            isHidden: false,\n        };\n        if (object)\n            object.__r3f = instance;\n    }\n    return instance;\n}\nfunction resolve(root, key) {\n    let target = root[key];\n    if (!key.includes(\"-\"))\n        return { root, key, target };\n    // Resolve pierced target\n    target = root;\n    for (const part of key.split(\"-\")) {\n        key = part;\n        root = target;\n        target = target?.[key];\n    }\n    // TODO: change key to 'foo-bar' if target is undefined?\n    return { root, key, target };\n}\n// Checks if a dash-cased string ends with an integer\nconst INDEX_REGEX = /-\\d+$/;\nfunction attach(parent, child) {\n    if (is.str(child.props.attach)) {\n        // If attaching into an array (foo-0), create one\n        if (INDEX_REGEX.test(child.props.attach)) {\n            const index = child.props.attach.replace(INDEX_REGEX, \"\");\n            const { root, key } = resolve(parent.object, index);\n            if (!Array.isArray(root[key]))\n                root[key] = [];\n        }\n        const { root, key } = resolve(parent.object, child.props.attach);\n        child.previousAttach = root[key];\n        root[key] = child.object;\n    }\n    else if (is.fun(child.props.attach)) {\n        child.previousAttach = child.props.attach(parent.object, child.object);\n    }\n}\nfunction detach(parent, child) {\n    if (is.str(child.props.attach)) {\n        const { root, key } = resolve(parent.object, child.props.attach);\n        const previous = child.previousAttach;\n        // When the previous value was undefined, it means the value was never set to begin with\n        if (previous === undefined)\n            delete root[key];\n        // Otherwise set the previous value\n        else\n            root[key] = previous;\n    }\n    else {\n        child.previousAttach?.(parent.object, child.object);\n    }\n    delete child.previousAttach;\n}\nconst RESERVED_PROPS = [\n    ...REACT_INTERNAL_PROPS,\n    // Instance props\n    \"args\",\n    \"dispose\",\n    \"attach\",\n    \"object\",\n    \"onUpdate\",\n    // Behavior flags\n    \"dispose\",\n];\nconst MEMOIZED_PROTOTYPES = new Map();\nfunction getMemoizedPrototype(root) {\n    let ctor = MEMOIZED_PROTOTYPES.get(root.constructor);\n    try {\n        if (!ctor) {\n            ctor = new root.constructor();\n            MEMOIZED_PROTOTYPES.set(root.constructor, ctor);\n        }\n    }\n    catch (e) {\n        console.log(e);\n        // ...\n    }\n    return ctor;\n}\n// This function prepares a set of changes to be applied to the instance\nfunction diffProps(instance, newProps) {\n    const changedProps = {};\n    // Sort through props\n    for (const prop in newProps) {\n        // Skip reserved keys\n        if (RESERVED_PROPS.includes(prop))\n            continue;\n        // Skip if props match\n        if (is.equ(newProps[prop], instance.props[prop]))\n            continue;\n        // Props changed, add them\n        changedProps[prop] = newProps[prop];\n        // Reset pierced props\n        for (const other in newProps) {\n            if (other.startsWith(`${prop}-`))\n                changedProps[other] = newProps[other];\n        }\n    }\n    // Reset removed props for HMR\n    for (const prop in instance.props) {\n        if (RESERVED_PROPS.includes(prop) || newProps.hasOwnProperty(prop))\n            continue;\n        const { root, key } = resolve(instance.object, prop);\n        // https://github.com/mrdoob/three.js/issues/21209\n        // HMR/fast-refresh relies on the ability to cancel out props, but threejs\n        // has no means to do this. Hence we curate a small collection of value-classes\n        // with their respective constructor/set arguments\n        // For removed props, try to set default values, if possible\n        if (root.constructor && root.constructor.length === 0) {\n            // create a blank slate of the instance and copy the particular parameter.\n            const ctor = getMemoizedPrototype(root);\n            if (!is.und(ctor))\n                changedProps[key] = ctor[key];\n        }\n        else {\n            // instance does not have constructor, just set it to 0\n            changedProps[key] = 0;\n        }\n    }\n    return changedProps;\n}\n// https://github.com/mrdoob/three.js/pull/27042\n// https://github.com/mrdoob/three.js/pull/22748\nconst colorMaps = [\"map\", \"emissiveMap\", \"sheenColorMap\", \"specularColorMap\", \"envMap\"];\nconst EVENT_REGEX = /^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;\n// This function applies a set of changes to the instance\nfunction applyProps(object, props) {\n    const instance = object.__r3f;\n    const rootState = instance && findInitialRoot(instance).getState();\n    const prevHandlers = instance?.eventCount;\n    for (const prop in props) {\n        const value = props[prop];\n        // Don't mutate reserved keys\n        if (RESERVED_PROPS.includes(prop))\n            continue;\n        // Deal with pointer events, including removing them if undefined\n        if (instance && EVENT_REGEX.test(prop)) {\n            if (typeof value === \"function\")\n                instance.handlers[prop] = value;\n            else\n                delete instance.handlers[prop];\n            instance.eventCount = Object.keys(instance.handlers).length;\n            continue;\n        }\n        // Ignore setting undefined props\n        // https://github.com/pmndrs/react-three-fiber/issues/274\n        if (value === undefined)\n            continue;\n        const { root, key, target } = resolve(object, prop);\n        // Layers must be written to the mask property\n        if (target instanceof THREE.Layers && value instanceof THREE.Layers) {\n            target.mask = value.mask;\n        }\n        // Set colors if valid color representation for automatic conversion (copy)\n        else if (target instanceof THREE.Color && isColorRepresentation(value)) {\n            target.set(value);\n        }\n        // Copy if properties match signatures and implement math interface (likely read-only)\n        else if (target !== null &&\n            typeof target === \"object\" &&\n            typeof target.set === \"function\" &&\n            typeof target.copy === \"function\" &&\n            value?.constructor &&\n            target.constructor === value.constructor) {\n            target.copy(value);\n        }\n        // Set array types\n        else if (target !== null && typeof target === \"object\" && typeof target.set === \"function\" && Array.isArray(value)) {\n            if (typeof target.fromArray === \"function\")\n                target.fromArray(value);\n            else\n                target.set(...value);\n        }\n        // Set literal types\n        else if (target !== null && typeof target === \"object\" && typeof target.set === \"function\" && typeof value === \"number\") {\n            // Allow setting array scalars\n            if (typeof target.setScalar === \"function\")\n                target.setScalar(value);\n            // Otherwise just set single value\n            else\n                target.set(value);\n        }\n        // Else, just overwrite the value\n        else {\n            root[key] = value;\n            // Auto-convert sRGB texture parameters for built-in materials\n            // https://github.com/pmndrs/react-three-fiber/issues/344\n            // https://github.com/mrdoob/three.js/pull/25857\n            if (rootState &&\n                !rootState.linear &&\n                colorMaps.includes(key) &&\n                root[key]?.isTexture &&\n                // sRGB textures must be RGBA8 since r137 https://github.com/mrdoob/three.js/pull/23129\n                root[key].format === THREE.RGBAFormat &&\n                root[key].type === THREE.UnsignedByteType) {\n                // NOTE: this cannot be set from the renderer (e.g. sRGB source textures rendered to P3)\n                root[key].colorSpace = THREE.SRGBColorSpace;\n            }\n        }\n    }\n    // Register event handlers\n    if (instance?.parent &&\n        rootState?.internal &&\n        instance.object?.isObject3D &&\n        prevHandlers !== instance.eventCount) {\n        const object = instance.object;\n        // Pre-emptively remove the instance from the interaction manager\n        const index = rootState.internal.interaction.indexOf(object);\n        if (index > -1)\n            rootState.internal.interaction.splice(index, 1);\n        // Add the instance to the interaction manager only when it has handlers\n        if (instance.eventCount && object.raycast !== null) {\n            rootState.internal.interaction.push(object);\n        }\n    }\n    // Auto-attach geometries and materials\n    if (instance && instance.props.attach === undefined) {\n        if (instance.object.isBufferGeometry)\n            instance.props.attach = \"geometry\";\n        else if (instance.object.isMaterial)\n            instance.props.attach = \"material\";\n    }\n    // Instance was updated, request a frame\n    if (instance)\n        invalidateInstance(instance);\n    return object;\n}\nfunction invalidateInstance(instance) {\n    if (!instance.parent)\n        return;\n    instance.props.onUpdate?.(instance.object);\n    const state = instance.root?.getState?.();\n    if (state && state.internal.frames === 0)\n        state.invalidate();\n}\nfunction updateCamera(camera, size) {\n    // Do not mess with the camera if it belongs to the user\n    // https://github.com/pmndrs/react-three-fiber/issues/92\n    if (camera.manual)\n        return;\n    if (isOrthographicCamera(camera)) {\n        camera.left = size.width / -2;\n        camera.right = size.width / 2;\n        camera.top = size.height / 2;\n        camera.bottom = size.height / -2;\n    }\n    else {\n        camera.aspect = size.width / size.height;\n    }\n    camera.updateProjectionMatrix();\n}\nconst isObject3D = (object) => object?.isObject3D;\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable import/namespace */\n/* eslint-disable max-lines */\nfunction makeId(event) {\n    return (event.eventObject || event.object).uuid + \"/\" + event.index + event.instanceId;\n}\n/**\n * Release pointer captures.\n * This is called by releasePointerCapture in the API, and when an object is removed.\n */\nfunction releaseInternalPointerCapture(capturedMap, obj, captures, pointerId) {\n    const captureData = captures.get(obj);\n    if (captureData) {\n        captures.delete(obj);\n        // If this was the last capturing object for this pointer\n        if (captures.size === 0) {\n            capturedMap.delete(pointerId);\n            captureData.target.releasePointerCapture(pointerId);\n        }\n    }\n}\nfunction removeInteractivity(store, object) {\n    const { internal } = store.getState();\n    // Removes every trace of an object from the data store\n    internal.interaction = internal.interaction.filter((o) => o !== object);\n    internal.initialHits = internal.initialHits.filter((o) => o !== object);\n    internal.hovered.forEach((value, key) => {\n        if (value.eventObject === object || value.object === object) {\n            // Clear out intersects, they are outdated by now\n            internal.hovered.delete(key);\n        }\n    });\n    internal.capturedMap.forEach((captures, pointerId) => {\n        releaseInternalPointerCapture(internal.capturedMap, object, captures, pointerId);\n    });\n}\nfunction createEvents(store) {\n    /** Calculates delta */\n    function calculateDistance(event) {\n        const { internal } = store.getState();\n        const dx = event.offsetX - internal.initialClick[0];\n        const dy = event.offsetY - internal.initialClick[1];\n        return Math.round(Math.sqrt(dx * dx + dy * dy));\n    }\n    /** Returns true if an instance has a valid pointer-event registered, this excludes scroll, clicks etc */\n    function filterPointerEvents(objects) {\n        return objects.filter((obj) => [\"Move\", \"Over\", \"Enter\", \"Out\", \"Leave\"].some((name) => obj.__r3f?.handlers[(\"onPointer\" + name)]));\n    }\n    function intersect(event, filter) {\n        const state = store.getState();\n        const duplicates = new Set();\n        const intersections = [];\n        // Allow callers to eliminate event objects\n        const eventsObjects = filter ? filter(state.internal.interaction) : state.internal.interaction;\n        // Reset all raycaster cameras to undefined\n        for (let i = 0; i < eventsObjects.length; i++) {\n            const state = getRootState(eventsObjects[i]);\n            if (state) {\n                state.raycaster.camera = undefined;\n            }\n        }\n        if (!state.previousRoot) {\n            // Make sure root-level pointer and ray are set up\n            state.events.compute?.(event, state);\n        }\n        function handleRaycast(obj) {\n            const state = getRootState(obj);\n            // Skip event handling when noEvents is set, or when the raycasters camera is null\n            if (!state || !state.events.enabled || state.raycaster.camera === null)\n                return [];\n            // When the camera is undefined we have to call the event layers update function\n            if (state.raycaster.camera === undefined) {\n                state.events.compute?.(event, state, state.previousRoot?.getState());\n                // If the camera is still undefined we have to skip this layer entirely\n                if (state.raycaster.camera === undefined)\n                    state.raycaster.camera = null;\n            }\n            // Intersect object by object\n            return state.raycaster.camera ? state.raycaster.intersectObject(obj, true) : [];\n        }\n        // Collect events\n        let hits = eventsObjects\n            // Intersect objects\n            .flatMap(handleRaycast)\n            // Sort by event priority and distance\n            .sort((a, b) => {\n            const aState = getRootState(a.object);\n            const bState = getRootState(b.object);\n            if (!aState || !bState)\n                return a.distance - b.distance;\n            return bState.events.priority - aState.events.priority || a.distance - b.distance;\n        })\n            // Filter out duplicates\n            .filter((item) => {\n            const id = makeId(item);\n            if (duplicates.has(id))\n                return false;\n            duplicates.add(id);\n            return true;\n        });\n        // https://github.com/mrdoob/three.js/issues/16031\n        // Allow custom userland intersect sort order, this likely only makes sense on the root filter\n        if (state.events.filter)\n            hits = state.events.filter(hits, state);\n        // Bubble up the events, find the event source (eventObject)\n        for (const hit of hits) {\n            let eventObject = hit.object;\n            // Bubble event up\n            while (eventObject) {\n                if (eventObject.__r3f?.eventCount)\n                    intersections.push({ ...hit, eventObject });\n                eventObject = eventObject.parent;\n            }\n        }\n        // If the interaction is captured, make all capturing targets part of the intersect.\n        if (\"pointerId\" in event && state.internal.capturedMap.has(event.pointerId)) {\n            for (const captureData of state.internal.capturedMap.get(event.pointerId).values()) {\n                if (!duplicates.has(makeId(captureData.intersection)))\n                    intersections.push(captureData.intersection);\n            }\n        }\n        return intersections;\n    }\n    /**  Handles intersections by forwarding them to handlers */\n    function handleIntersects(intersections, event, delta, callback) {\n        // If anything has been found, forward it to the event listeners\n        if (intersections.length) {\n            const localState = { stopped: false };\n            for (const hit of intersections) {\n                let state = getRootState(hit.object);\n                // If the object is not managed by R3F, it might be parented to an element which is.\n                // Traverse upwards until we find a managed parent and use its state instead.\n                if (!state) {\n                    hit.object.traverseAncestors((obj) => {\n                        const parentState = getRootState(obj);\n                        if (parentState) {\n                            state = parentState;\n                            return false;\n                        }\n                    });\n                }\n                if (state) {\n                    const { raycaster, pointer, camera, internal } = state;\n                    const unprojectedPoint = new THREE.Vector3(pointer.x, pointer.y, 0).unproject(camera);\n                    const hasPointerCapture = (id) => internal.capturedMap.get(id)?.has(hit.eventObject) ?? false;\n                    const setPointerCapture = (id) => {\n                        const captureData = { intersection: hit, target: event.target };\n                        if (internal.capturedMap.has(id)) {\n                            // if the pointerId was previously captured, we add the hit to the\n                            // event capturedMap.\n                            internal.capturedMap.get(id).set(hit.eventObject, captureData);\n                        }\n                        else {\n                            // if the pointerId was not previously captured, we create a map\n                            // containing the hitObject, and the hit. hitObject is used for\n                            // faster access.\n                            internal.capturedMap.set(id, new Map([[hit.eventObject, captureData]]));\n                        }\n                        // Call the original event now\n                        event.target.setPointerCapture(id);\n                    };\n                    const releasePointerCapture = (id) => {\n                        const captures = internal.capturedMap.get(id);\n                        if (captures) {\n                            releaseInternalPointerCapture(internal.capturedMap, hit.eventObject, captures, id);\n                        }\n                    };\n                    // Add native event props\n                    const extractEventProps = {};\n                    // This iterates over the event's properties including the inherited ones. Native PointerEvents have most of their props as getters which are inherited, but polyfilled PointerEvents have them all as their own properties (i.e. not inherited). We can't use Object.keys() or Object.entries() as they only return \"own\" properties; nor Object.getPrototypeOf(event) as that *doesn't* return \"own\" properties, only inherited ones.\n                    for (const prop in event) {\n                        const property = event[prop];\n                        // Only copy over atomics, leave functions alone as these should be\n                        // called as event.nativeEvent.fn()\n                        if (typeof property !== \"function\")\n                            extractEventProps[prop] = property;\n                    }\n                    const raycastEvent = {\n                        ...hit,\n                        ...extractEventProps,\n                        pointer,\n                        intersections,\n                        stopped: localState.stopped,\n                        delta,\n                        unprojectedPoint,\n                        ray: raycaster.ray,\n                        camera: camera,\n                        // Hijack stopPropagation, which just sets a flag\n                        stopPropagation() {\n                            // https://github.com/pmndrs/react-three-fiber/issues/596\n                            // Events are not allowed to stop propagation if the pointer has been captured\n                            const capturesForPointer = \"pointerId\" in event && internal.capturedMap.get(event.pointerId);\n                            // We only authorize stopPropagation...\n                            if (\n                            // ...if this pointer hasn't been captured\n                            !capturesForPointer ||\n                                // ... or if the hit object is capturing the pointer\n                                capturesForPointer.has(hit.eventObject)) {\n                                raycastEvent.stopped = localState.stopped = true;\n                                // Propagation is stopped, remove all other hover records\n                                // An event handler is only allowed to flush other handlers if it is hovered itself\n                                if (internal.hovered.size && Array.from(internal.hovered.values()).find((i) => i.eventObject === hit.eventObject)) {\n                                    // Objects cannot flush out higher up objects that have already caught the event\n                                    const higher = intersections.slice(0, intersections.indexOf(hit));\n                                    cancelPointer([...higher, hit]);\n                                }\n                            }\n                        },\n                        // there should be a distinction between target and currentTarget\n                        target: { hasPointerCapture, setPointerCapture, releasePointerCapture },\n                        currentTarget: { hasPointerCapture, setPointerCapture, releasePointerCapture },\n                        nativeEvent: event,\n                    };\n                    // Call subscribers\n                    callback(raycastEvent);\n                    // Event bubbling may be interrupted by stopPropagation\n                    if (localState.stopped === true)\n                        break;\n                }\n            }\n        }\n        return intersections;\n    }\n    function cancelPointer(intersections) {\n        const { internal } = store.getState();\n        for (const hoveredObj of internal.hovered.values()) {\n            // When no objects were hit or the the hovered object wasn't found underneath the cursor\n            // we call onPointerOut and delete the object from the hovered-elements map\n            if (!intersections.length ||\n                !intersections.find((hit) => hit.object === hoveredObj.object && hit.index === hoveredObj.index && hit.instanceId === hoveredObj.instanceId)) {\n                const eventObject = hoveredObj.eventObject;\n                const instance = eventObject.__r3f;\n                internal.hovered.delete(makeId(hoveredObj));\n                if (instance?.eventCount) {\n                    const handlers = instance.handlers;\n                    // Clear out intersects, they are outdated by now\n                    const data = { ...hoveredObj, intersections };\n                    handlers.onPointerOut?.(data);\n                    handlers.onPointerLeave?.(data);\n                }\n            }\n        }\n    }\n    function pointerMissed(event, objects) {\n        for (let i = 0; i < objects.length; i++) {\n            const instance = objects[i].__r3f;\n            instance?.handlers.onPointerMissed?.(event);\n        }\n    }\n    function handlePointer(name) {\n        // Deal with cancelation\n        switch (name) {\n            case \"onPointerLeave\":\n            case \"onPointerCancel\":\n                return () => cancelPointer([]);\n            case \"onLostPointerCapture\":\n                return (event) => {\n                    const { internal } = store.getState();\n                    if (\"pointerId\" in event && internal.capturedMap.has(event.pointerId)) {\n                        // If the object event interface had onLostPointerCapture, we'd call it here on every\n                        // object that's getting removed. We call it on the next frame because onLostPointerCapture\n                        // fires before onPointerUp. Otherwise pointerUp would never be called if the event didn't\n                        // happen in the object it originated from, leaving components in a in-between state.\n                        requestAnimationFrame(() => {\n                            // Only release if pointer-up didn't do it already\n                            if (internal.capturedMap.has(event.pointerId)) {\n                                internal.capturedMap.delete(event.pointerId);\n                                cancelPointer([]);\n                            }\n                        });\n                    }\n                };\n        }\n        // Any other pointer goes here ...\n        return function handleEvent(event) {\n            const { onPointerMissed, internal } = store.getState();\n            // prepareRay(event)\n            // @ts-ignore\n            internal.lastEvent.current = event;\n            // Get fresh intersects\n            const isPointerMove = name === \"onPointerMove\";\n            const isClickEvent = name === \"onClick\" || name === \"onContextMenu\" || name === \"onDoubleClick\";\n            const filter = isPointerMove ? filterPointerEvents : undefined;\n            const hits = intersect(event, filter);\n            const delta = isClickEvent ? calculateDistance(event) : 0;\n            // Save initial coordinates on pointer-down\n            if (name === \"onPointerDown\") {\n                internal.initialClick = [event.offsetX, event.offsetY];\n                internal.initialHits = hits.map((hit) => hit.eventObject);\n            }\n            // If a click yields no results, pass it back to the user as a miss\n            // Missed events have to come first in order to establish user-land side-effect clean up\n            if (isClickEvent && !hits.length) {\n                if (delta <= 2) {\n                    pointerMissed(event, internal.interaction);\n                    if (onPointerMissed)\n                        onPointerMissed(event);\n                }\n            }\n            // Take care of unhover\n            if (isPointerMove)\n                cancelPointer(hits);\n            function onIntersect(data) {\n                const eventObject = data.eventObject;\n                const instance = eventObject.__r3f;\n                // Check presence of handlers\n                if (!instance?.eventCount)\n                    return;\n                const handlers = instance.handlers;\n                /*\n                MAYBE TODO, DELETE IF NOT:\n                  Check if the object is captured, captured events should not have intersects running in parallel\n                  But wouldn't it be better to just replace capturedMap with a single entry?\n                  Also, are we OK with straight up making picking up multiple objects impossible?\n                  \n                const pointerId = (data as ThreeEvent<PointerEvent>).pointerId\n                if (pointerId !== undefined) {\n                  const capturedMeshSet = internal.capturedMap.get(pointerId)\n                  if (capturedMeshSet) {\n                    const captured = capturedMeshSet.get(eventObject)\n                    if (captured && captured.localState.stopped) return\n                  }\n                }*/\n                if (isPointerMove) {\n                    // Move event ...\n                    if (handlers.onPointerOver || handlers.onPointerEnter || handlers.onPointerOut || handlers.onPointerLeave) {\n                        // When enter or out is present take care of hover-state\n                        const id = makeId(data);\n                        const hoveredItem = internal.hovered.get(id);\n                        if (!hoveredItem) {\n                            // If the object wasn't previously hovered, book it and call its handler\n                            internal.hovered.set(id, data);\n                            handlers.onPointerOver?.(data);\n                            handlers.onPointerEnter?.(data);\n                        }\n                        else if (hoveredItem.stopped) {\n                            // If the object was previously hovered and stopped, we shouldn't allow other items to proceed\n                            data.stopPropagation();\n                        }\n                    }\n                    // Call mouse move\n                    handlers.onPointerMove?.(data);\n                }\n                else {\n                    // All other events ...\n                    const handler = handlers[name];\n                    if (handler) {\n                        // Forward all events back to their respective handlers with the exception of click events,\n                        // which must use the initial target\n                        if (!isClickEvent || internal.initialHits.includes(eventObject)) {\n                            // Missed events have to come first\n                            pointerMissed(event, internal.interaction.filter((object) => !internal.initialHits.includes(object)));\n                            // Now call the handler\n                            handler(data);\n                        }\n                    }\n                    else {\n                        // Trigger onPointerMissed on all elements that have pointer over/out handlers, but not click and weren't hit\n                        if (isClickEvent && internal.initialHits.includes(eventObject)) {\n                            pointerMissed(event, internal.interaction.filter((object) => !internal.initialHits.includes(object)));\n                        }\n                    }\n                }\n            }\n            handleIntersects(hits, event, delta, onIntersect);\n        };\n    }\n    return { handlePointer };\n}\n\n/* eslint-disable import/namespace */\nconst isRenderer = (def) => !!def?.render;\nconst context = /* @__PURE__ */ React.createContext(null);\nconst createStore = (invalidate, advance) => {\n    const rootStore = createWithEqualityFn((set, get) => {\n        const position = new THREE.Vector3();\n        const defaultTarget = new THREE.Vector3();\n        const tempTarget = new THREE.Vector3();\n        function getCurrentViewport(camera = get().camera, target = defaultTarget, size = get().size) {\n            const { width, height, top, left } = size;\n            const aspect = width / height;\n            if (target.isVector3)\n                tempTarget.copy(target);\n            else\n                tempTarget.set(...target);\n            const distance = camera.getWorldPosition(position).distanceTo(tempTarget);\n            if (isOrthographicCamera(camera)) {\n                return { width: width / camera.zoom, height: height / camera.zoom, top, left, factor: 1, distance, aspect };\n            }\n            else {\n                const fov = (camera.fov * Math.PI) / 180; // convert vertical fov to radians\n                const h = 2 * Math.tan(fov / 2) * distance; // visible height\n                const w = h * (width / height);\n                return { width: w, height: h, top, left, factor: width / w, distance, aspect };\n            }\n        }\n        let performanceTimeout = undefined;\n        const setPerformanceCurrent = (current) => set((state) => ({ performance: { ...state.performance, current } }));\n        const pointer = new THREE.Vector2();\n        const rootState = {\n            set,\n            get,\n            // Mock objects that have to be configured\n            gl: null,\n            camera: null,\n            raycaster: null,\n            events: { priority: 1, enabled: true, connected: false },\n            scene: null,\n            xr: null,\n            invalidate: (frames = 1) => invalidate(get(), frames),\n            advance: (timestamp, runGlobalEffects) => advance(timestamp, runGlobalEffects, get()),\n            legacy: false,\n            linear: false,\n            flat: false,\n            controls: null,\n            clock: new THREE.Clock(),\n            pointer,\n            mouse: pointer,\n            frameloop: \"always\",\n            onPointerMissed: undefined,\n            performance: {\n                current: 1,\n                min: 0.5,\n                max: 1,\n                debounce: 200,\n                regress: () => {\n                    const state = get();\n                    // Clear timeout\n                    if (performanceTimeout)\n                        clearTimeout(performanceTimeout);\n                    // Set lower bound performance\n                    if (state.performance.current !== state.performance.min)\n                        setPerformanceCurrent(state.performance.min);\n                    // Go back to upper bound performance after a while unless something regresses meanwhile\n                    performanceTimeout = setTimeout(() => setPerformanceCurrent(get().performance.max), state.performance.debounce);\n                },\n            },\n            size: { width: 0, height: 0, top: 0, left: 0 },\n            viewport: {\n                initialDpr: 0,\n                dpr: 0,\n                width: 0,\n                height: 0,\n                top: 0,\n                left: 0,\n                aspect: 0,\n                distance: 0,\n                factor: 0,\n                getCurrentViewport,\n            },\n            setEvents: (events) => set((state) => ({ ...state, events: { ...state.events, ...events } })),\n            setSize: (width, height, top = 0, left = 0) => {\n                const camera = get().camera;\n                const size = { width, height, top, left };\n                set((state) => ({ size, viewport: { ...state.viewport, ...getCurrentViewport(camera, defaultTarget, size) } }));\n            },\n            setDpr: (dpr) => set((state) => {\n                const resolved = calculateDpr(dpr);\n                return { viewport: { ...state.viewport, dpr: resolved, initialDpr: state.viewport.initialDpr || resolved } };\n            }),\n            setFrameloop: (frameloop = \"always\") => {\n                const clock = get().clock;\n                // if frameloop === \"never\" clock.elapsedTime is updated using advance(timestamp)\n                clock.stop();\n                clock.elapsedTime = 0;\n                if (frameloop !== \"never\") {\n                    clock.start();\n                    clock.elapsedTime = 0;\n                }\n                set(() => ({ frameloop }));\n            },\n            previousRoot: undefined,\n            internal: {\n                // Events\n                interaction: [],\n                hovered: new Map(),\n                subscribers: [],\n                initialClick: [0, 0],\n                initialHits: [],\n                capturedMap: new Map(),\n                lastEvent: React.createRef(),\n                // Updates\n                active: false,\n                frames: 0,\n                priority: 0,\n                subscribe: (ref, priority, store) => {\n                    const internal = get().internal;\n                    // If this subscription was given a priority, it takes rendering into its own hands\n                    // For that reason we switch off automatic rendering and increase the manual flag\n                    // As long as this flag is positive there can be no internal rendering at all\n                    // because there could be multiple render subscriptions\n                    internal.priority = internal.priority + (priority > 0 ? 1 : 0);\n                    internal.subscribers.push({ ref, priority, store });\n                    // Register subscriber and sort layers from lowest to highest, meaning,\n                    // highest priority renders last (on top of the other frames)\n                    internal.subscribers = internal.subscribers.sort((a, b) => a.priority - b.priority);\n                    return () => {\n                        const internal = get().internal;\n                        if (internal?.subscribers) {\n                            // Decrease manual flag if this subscription had a priority\n                            internal.priority = internal.priority - (priority > 0 ? 1 : 0);\n                            // Remove subscriber from list\n                            internal.subscribers = internal.subscribers.filter((s) => s.ref !== ref);\n                        }\n                    };\n                },\n            },\n        };\n        return rootState;\n    });\n    const state = rootStore.getState();\n    let oldSize = state.size;\n    let oldDpr = state.viewport.dpr;\n    let oldCamera = state.camera;\n    rootStore.subscribe(() => {\n        const { camera, size, viewport, gl, set } = rootStore.getState();\n        // Resize camera and renderer on changes to size and pixelratio\n        if (size.width !== oldSize.width || size.height !== oldSize.height || viewport.dpr !== oldDpr) {\n            oldSize = size;\n            oldDpr = viewport.dpr;\n            // Update camera & renderer\n            updateCamera(camera, size);\n            if (viewport.dpr > 0)\n                gl.setPixelRatio(viewport.dpr);\n            const updateStyle = typeof HTMLCanvasElement !== \"undefined\" && gl.domElement instanceof HTMLCanvasElement;\n            gl.setSize(size.width, size.height, updateStyle);\n        }\n        // Update viewport once the camera changes\n        if (camera !== oldCamera) {\n            oldCamera = camera;\n            // Update viewport\n            set((state) => ({ viewport: { ...state.viewport, ...state.viewport.getCurrentViewport(camera) } }));\n        }\n    });\n    // Invalidate on any change\n    rootStore.subscribe((state) => invalidate(state));\n    // Return root state\n    return rootStore;\n};\n\n/**\n * Exposes an object's {@link Instance}.\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#useInstanceHandle\n *\n * **Note**: this is an escape hatch to react-internal fields. Expect this to change significantly between versions.\n */\nfunction useInstanceHandle(ref) {\n    const instance = React.useRef(null);\n    React.useImperativeHandle(instance, () => ref.current.__r3f, [ref]);\n    return instance;\n}\n/**\n * Returns the R3F Canvas' Zustand store. Useful for [transient updates](https://github.com/pmndrs/zustand#transient-updates-for-often-occurring-state-changes).\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#usestore\n */\nfunction useStore() {\n    const store = React.useContext(context);\n    if (!store)\n        throw new Error(\"R3F: Hooks can only be used within the Canvas component!\");\n    return store;\n}\n/**\n * Accesses R3F's internal state, containing renderer, canvas, scene, etc.\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#usethree\n */\nfunction useThree(selector = (state) => state, equalityFn) {\n    return useStore()(selector, equalityFn);\n}\n/**\n * Executes a callback before render in a shared frame loop.\n * Can order effects with render priority or manually render with a positive priority.\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#useframe\n */\nfunction useFrame(callback, renderPriority = 0) {\n    const store = useStore();\n    const subscribe = store.getState().internal.subscribe;\n    // Memoize ref\n    const ref = useMutableCallback(callback);\n    // Subscribe on mount, unsubscribe on unmount\n    useIsomorphicLayoutEffect(() => subscribe(ref, renderPriority, store), [renderPriority, subscribe, store]);\n    return null;\n}\n/**\n * Returns a node graph of an object with named nodes & materials.\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#usegraph\n */\nfunction useGraph(object) {\n    return React.useMemo(() => buildGraph(object), [object]);\n}\nconst memoizedLoaders = new WeakMap();\nconst isConstructor$1 = (value) => typeof value === \"function\" && value?.prototype?.constructor === value;\nfunction loadingFn(extensions, onProgress) {\n    return function (Proto, ...input) {\n        let loader;\n        // Construct and cache loader if constructor was passed\n        if (isConstructor$1(Proto)) {\n            loader = memoizedLoaders.get(Proto);\n            if (!loader) {\n                loader = new Proto();\n                memoizedLoaders.set(Proto, loader);\n            }\n        }\n        else {\n            loader = Proto;\n        }\n        // Apply loader extensions\n        if (extensions)\n            extensions(loader);\n        // Go through the urls and load them\n        return Promise.all(input.map((input) => new Promise((res, reject) => loader.load(input, (data) => {\n            if (isObject3D(data?.scene))\n                Object.assign(data, buildGraph(data.scene));\n            res(data);\n        }, onProgress, (error) => reject(new Error(`Could not load ${input}: ${error?.message}`))))));\n    };\n}\n/**\n * Synchronously loads and caches assets with a three loader.\n *\n * Note: this hook's caller must be wrapped with `React.Suspense`\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#useloader\n */\nfunction useLoader(loader, input, extensions, onProgress) {\n    // Use suspense to load async assets\n    const keys = (Array.isArray(input) ? input : [input]);\n    const results = suspend(loadingFn(extensions, onProgress), [loader, ...keys], { equal: is.equ });\n    // Return the object(s)\n    return (Array.isArray(input) ? results : results[0]);\n}\n/**\n * Preloads an asset into cache as a side-effect.\n */\nuseLoader.preload = function (loader, input, extensions) {\n    const keys = (Array.isArray(input) ? input : [input]);\n    return preload(loadingFn(extensions), [loader, ...keys]);\n};\n/**\n * Removes a loaded asset from cache.\n */\nuseLoader.clear = function (loader, input) {\n    const keys = (Array.isArray(input) ? input : [input]);\n    return clear([loader, ...keys]);\n};\n\nvar myreactReconcilerCompact = {exports: {}};\n\nfunction commonjsRequire(path) {\n\tthrow new Error('Could not dynamically require \"' + path + '\". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');\n}\n\nvar index_production = {};\n\nvar hasRequiredIndex_production_2;\n\nfunction requireIndex_production_2 () {\n\tif (hasRequiredIndex_production_2) return index_production;\n\thasRequiredIndex_production_2 = 1;\n\n\tvar require$$0 = React__default;\n\n\t/******************************************************************************\r\n\tCopyright (c) Microsoft Corporation.\r\n\r\n\tPermission to use, copy, modify, and/or distribute this software for any\r\n\tpurpose with or without fee is hereby granted.\r\n\r\n\tTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n\tREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n\tAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n\tINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n\tLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n\tOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n\tPERFORMANCE OF THIS SOFTWARE.\r\n\t***************************************************************************** */\r\n\t/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\n\tvar extendStatics = function(d, b) {\r\n\t    extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n\t    return extendStatics(d, b);\r\n\t};\r\n\r\n\tfunction __extends(d, b) {\r\n\t    if (typeof b !== \"function\" && b !== null)\r\n\t        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n\t    extendStatics(d, b);\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t}\r\n\r\n\tfunction __awaiter(thisArg, _arguments, P, generator) {\r\n\t    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n\t    return new (P || (P = Promise))(function (resolve, reject) {\r\n\t        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n\t        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n\t        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n\t        step((generator = generator.apply(thisArg, [])).next());\r\n\t    });\r\n\t}\r\n\r\n\tfunction __generator(thisArg, body) {\r\n\t    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n\t    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n\t    function verb(n) { return function (v) { return step([n, v]); }; }\r\n\t    function step(op) {\r\n\t        if (f) throw new TypeError(\"Generator is already executing.\");\r\n\t        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n\t            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n\t            if (y = 0, t) op = [op[0] & 2, t.value];\r\n\t            switch (op[0]) {\r\n\t                case 0: case 1: t = op; break;\r\n\t                case 4: _.label++; return { value: op[1], done: false };\r\n\t                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n\t                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n\t                default:\r\n\t                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n\t                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n\t                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n\t                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n\t                    if (t[2]) _.ops.pop();\r\n\t                    _.trys.pop(); continue;\r\n\t            }\r\n\t            op = body.call(thisArg, _);\r\n\t        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n\t        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n\t    }\r\n\t}\r\n\r\n\ttypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n\t    var e = new Error(message);\r\n\t    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n\t};\n\n\tvar myreactReconciler = {exports: {}};\n\n\tvar index_production$1 = {};\n\n\tvar hasRequiredIndex_production_1;\n\n\tfunction requireIndex_production_1 () {\n\t\tif (hasRequiredIndex_production_1) return index_production$1;\n\t\thasRequiredIndex_production_1 = 1;\n\t\t(function (exports) {\n\n\t\t\tvar react = require$$0;\n\n\t\t\tvar myreactShared = {exports: {}};\n\n\t\t\tvar index_production = {};\n\n\t\t\tvar hasRequiredIndex_production;\n\n\t\t\tfunction requireIndex_production () {\n\t\t\t\tif (hasRequiredIndex_production) return index_production;\n\t\t\t\thasRequiredIndex_production = 1;\n\t\t\t\t(function (exports) {\n\n\t\t\t\t\tvar merge = function (src, rest) {\n\t\t\t\t\t    return src | rest;\n\t\t\t\t\t};\n\t\t\t\t\tvar remove = function (src, rest) {\n\t\t\t\t\t    if (src & rest) {\n\t\t\t\t\t        return src ^ rest;\n\t\t\t\t\t    }\n\t\t\t\t\t    else {\n\t\t\t\t\t        return src;\n\t\t\t\t\t    }\n\t\t\t\t\t};\n\t\t\t\t\tvar include = function (src, rest) {\n\t\t\t\t\t    return !!(src & rest);\n\t\t\t\t\t};\n\t\t\t\t\tvar exclude = function (src, rest) {\n\t\t\t\t\t    return !(src & rest);\n\t\t\t\t\t};\n\n\t\t\t\t\t/******************************************************************************\r\n\t\t\t\t\tCopyright (c) Microsoft Corporation.\r\n\r\n\t\t\t\t\tPermission to use, copy, modify, and/or distribute this software for any\r\n\t\t\t\t\tpurpose with or without fee is hereby granted.\r\n\r\n\t\t\t\t\tTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n\t\t\t\t\tREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n\t\t\t\t\tAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n\t\t\t\t\tINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n\t\t\t\t\tLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n\t\t\t\t\tOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n\t\t\t\t\tPERFORMANCE OF THIS SOFTWARE.\r\n\t\t\t\t\t***************************************************************************** */\r\n\t\t\t\t\t/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\n\r\n\t\t\t\t\tfunction __spreadArray(to, from, pack) {\r\n\t\t\t\t\t    if (arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n\t\t\t\t\t        if (ar || !(i in from)) {\r\n\t\t\t\t\t            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n\t\t\t\t\t            ar[i] = from[i];\r\n\t\t\t\t\t        }\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t    return to.concat(ar || Array.prototype.slice.call(from));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n\t\t\t\t\t    var e = new Error(message);\r\n\t\t\t\t\t    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n\t\t\t\t\t};\n\n\t\t\t\t\tvar once = function (action) {\n\t\t\t\t\t    var called = false;\n\t\t\t\t\t    return function () {\n\t\t\t\t\t        var args = [];\n\t\t\t\t\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t\t\t\t\t            args[_i] = arguments[_i];\n\t\t\t\t\t        }\n\t\t\t\t\t        if (called)\n\t\t\t\t\t            return;\n\t\t\t\t\t        called = true;\n\t\t\t\t\t        if (typeof action === \"function\")\n\t\t\t\t\t            action.call.apply(action, __spreadArray([null], args, false));\n\t\t\t\t\t    };\n\t\t\t\t\t};\n\n\t\t\t\t\tvar TYPEKEY = \"$$typeof\";\n\t\t\t\t\tvar Element = Symbol.for(\"react.element\");\n\t\t\t\t\tvar Memo = Symbol.for(\"react.memo\");\n\t\t\t\t\tvar ForwardRef = Symbol.for(\"react.forward_ref\");\n\t\t\t\t\tvar Portal = Symbol.for(\"react.portal\");\n\t\t\t\t\tvar Fragment = Symbol.for(\"react.fragment\");\n\t\t\t\t\tvar Context = Symbol.for(\"react.context\");\n\t\t\t\t\tvar Provider = Symbol.for(\"react.provider\");\n\t\t\t\t\tvar Consumer = Symbol.for(\"react.consumer\");\n\t\t\t\t\tvar Lazy = Symbol.for(\"react.lazy\");\n\t\t\t\t\tvar Suspense = Symbol.for(\"react.suspense\");\n\t\t\t\t\tvar Strict = Symbol.for(\"react.strict_mode\");\n\t\t\t\t\tvar Root = Symbol.for(\"react.root\");\n\t\t\t\t\tvar Scope = Symbol.for(\"react.scope\");\n\t\t\t\t\tvar ScopeLazy = Symbol.for(\"react.scope_lazy\");\n\t\t\t\t\tvar ScopeSuspense = Symbol.for(\"react.scope_suspense\");\n\t\t\t\t\tvar Comment = Symbol.for(\"react.comment\");\n\t\t\t\t\tvar Offscreen = Symbol.for(\"react.offscreen\");\n\t\t\t\t\tvar Profiler = Symbol.for(\"react.profiler\");\n\n\t\t\t\t\tfunction isObject(target) {\n\t\t\t\t\t    return typeof target === \"object\" && target !== null;\n\t\t\t\t\t}\n\t\t\t\t\tfunction isFunction(target) {\n\t\t\t\t\t    return typeof target === \"function\";\n\t\t\t\t\t}\n\t\t\t\t\tfunction isArray(target) {\n\t\t\t\t\t    return Array.isArray(target);\n\t\t\t\t\t}\n\t\t\t\t\tfunction isSymbol(target) {\n\t\t\t\t\t    return typeof target === \"symbol\";\n\t\t\t\t\t}\n\t\t\t\t\tfunction isString(target) {\n\t\t\t\t\t    return typeof target === \"string\";\n\t\t\t\t\t}\n\t\t\t\t\tfunction isInteger(target) {\n\t\t\t\t\t    return Number.isInteger(Number(target));\n\t\t\t\t\t}\n\t\t\t\t\tfunction isNumber(target) {\n\t\t\t\t\t    return typeof target === \"number\";\n\t\t\t\t\t}\n\t\t\t\t\tfunction isCollection(target) {\n\t\t\t\t\t    return target instanceof Map || target instanceof Set || target instanceof WeakMap || target instanceof WeakSet;\n\t\t\t\t\t}\n\t\t\t\t\tvar isPromise = function (val) {\n\t\t\t\t\t    return (isObject(val) || isFunction(val)) && isFunction(val.then) && isFunction(val.catch);\n\t\t\t\t\t};\n\n\t\t\t\t\tvar UniqueArray = /** @class */ (function () {\n\t\t\t\t\t    function UniqueArray() {\n\t\t\t\t\t        this.set = new Set();\n\t\t\t\t\t        this.arr = new Array();\n\t\t\t\t\t        this.length = 0;\n\t\t\t\t\t    }\n\t\t\t\t\t    UniqueArray.prototype.uniPop = function () {\n\t\t\t\t\t        var v = this.arr.pop();\n\t\t\t\t\t        this.set.delete(v);\n\t\t\t\t\t        this.length--;\n\t\t\t\t\t        return v;\n\t\t\t\t\t    };\n\t\t\t\t\t    UniqueArray.prototype.uniPush = function (v) {\n\t\t\t\t\t        if (this.set.has(v))\n\t\t\t\t\t            return 0;\n\t\t\t\t\t        this.set.add(v);\n\t\t\t\t\t        this.arr.push(v);\n\t\t\t\t\t        this.length++;\n\t\t\t\t\t    };\n\t\t\t\t\t    UniqueArray.prototype.uniShift = function () {\n\t\t\t\t\t        var v = this.arr.shift();\n\t\t\t\t\t        this.set.delete(v);\n\t\t\t\t\t        this.length--;\n\t\t\t\t\t        return v;\n\t\t\t\t\t    };\n\t\t\t\t\t    UniqueArray.prototype.uniUnshift = function (v) {\n\t\t\t\t\t        if (this.set.has(v))\n\t\t\t\t\t            return 0;\n\t\t\t\t\t        this.set.add(v);\n\t\t\t\t\t        this.arr.unshift(v);\n\t\t\t\t\t        this.length++;\n\t\t\t\t\t    };\n\t\t\t\t\t    UniqueArray.prototype.uniDelete = function (v) {\n\t\t\t\t\t        if (this.set.has(v)) {\n\t\t\t\t\t            this.set.delete(v);\n\t\t\t\t\t            this.arr = this.arr.filter(function (i) { return i !== v; });\n\t\t\t\t\t            this.length--;\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    UniqueArray.prototype.clear = function () {\n\t\t\t\t\t        this.length = 0;\n\t\t\t\t\t        this.set.clear();\n\t\t\t\t\t        this.arr.length = 0;\n\t\t\t\t\t    };\n\t\t\t\t\t    UniqueArray.prototype.getAll = function () {\n\t\t\t\t\t        return Array.from(this.arr);\n\t\t\t\t\t    };\n\t\t\t\t\t    return UniqueArray;\n\t\t\t\t\t}());\n\n\t\t\t\t\texports.HOOK_TYPE = void 0;\n\t\t\t\t\t(function (HOOK_TYPE) {\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useId\"] = 0] = \"useId\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useRef\"] = 1] = \"useRef\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useMemo\"] = 2] = \"useMemo\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useState\"] = 3] = \"useState\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useSignal\"] = 4] = \"useSignal\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useEffect\"] = 5] = \"useEffect\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useContext\"] = 6] = \"useContext\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useReducer\"] = 7] = \"useReducer\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useCallback\"] = 8] = \"useCallback\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useTransition\"] = 9] = \"useTransition\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useDebugValue\"] = 10] = \"useDebugValue\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useLayoutEffect\"] = 11] = \"useLayoutEffect\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useDeferredValue\"] = 12] = \"useDeferredValue\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useInsertionEffect\"] = 13] = \"useInsertionEffect\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useImperativeHandle\"] = 14] = \"useImperativeHandle\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useSyncExternalStore\"] = 15] = \"useSyncExternalStore\";\n\t\t\t\t\t})(exports.HOOK_TYPE || (exports.HOOK_TYPE = {}));\n\n\t\t\t\t\texports.UpdateQueueType = void 0;\n\t\t\t\t\t(function (UpdateQueueType) {\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"component\"] = 1] = \"component\";\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"hook\"] = 2] = \"hook\";\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"context\"] = 3] = \"context\";\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"hmr\"] = 4] = \"hmr\";\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"trigger\"] = 5] = \"trigger\";\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"suspense\"] = 6] = \"suspense\";\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"lazy\"] = 7] = \"lazy\";\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"promise\"] = 8] = \"promise\";\n\t\t\t\t\t})(exports.UpdateQueueType || (exports.UpdateQueueType = {}));\n\n\t\t\t\t\texports.STATE_TYPE = void 0;\n\t\t\t\t\t(function (STATE_TYPE) {\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__create__\"] = 1] = \"__create__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__stable__\"] = 2] = \"__stable__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__inherit__\"] = 4] = \"__inherit__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerConcurrent__\"] = 8] = \"__triggerConcurrent__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerConcurrentForce__\"] = 16] = \"__triggerConcurrentForce__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerSync__\"] = 32] = \"__triggerSync__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerSyncForce__\"] = 64] = \"__triggerSyncForce__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__unmount__\"] = 128] = \"__unmount__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__hmr__\"] = 256] = \"__hmr__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__retrigger__\"] = 512] = \"__retrigger__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__reschedule__\"] = 1024] = \"__reschedule__\";\n\t\t\t\t\t})(exports.STATE_TYPE || (exports.STATE_TYPE = {}));\n\n\t\t\t\t\texports.PATCH_TYPE = void 0;\n\t\t\t\t\t(function (PATCH_TYPE) {\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__create__\"] = 1] = \"__create__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__update__\"] = 2] = \"__update__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__append__\"] = 4] = \"__append__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__position__\"] = 8] = \"__position__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__effect__\"] = 16] = \"__effect__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__layoutEffect__\"] = 32] = \"__layoutEffect__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__insertionEffect__\"] = 64] = \"__insertionEffect__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__unmount__\"] = 128] = \"__unmount__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__ref__\"] = 256] = \"__ref__\";\n\t\t\t\t\t})(exports.PATCH_TYPE || (exports.PATCH_TYPE = {}));\n\n\t\t\t\t\texports.Effect_TYPE = void 0;\n\t\t\t\t\t(function (Effect_TYPE) {\n\t\t\t\t\t    Effect_TYPE[Effect_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t\t\t\t    Effect_TYPE[Effect_TYPE[\"__effect__\"] = 1] = \"__effect__\";\n\t\t\t\t\t    Effect_TYPE[Effect_TYPE[\"__unmount__\"] = 2] = \"__unmount__\";\n\t\t\t\t\t})(exports.Effect_TYPE || (exports.Effect_TYPE = {}));\n\n\t\t\t\t\tvar compareVersion = function (version1, version2) {\n\t\t\t\t\t    var compare = function (arr1, arr2) {\n\t\t\t\t\t        if (arr1.length && arr2.length) {\n\t\t\t\t\t            var v1 = arr1[0];\n\t\t\t\t\t            var v2 = arr2[0];\n\t\t\t\t\t            if (v1 > v2)\n\t\t\t\t\t                return true;\n\t\t\t\t\t            if (v2 > v1)\n\t\t\t\t\t                return false;\n\t\t\t\t\t            return compare(arr1.slice(1), arr2.slice(1));\n\t\t\t\t\t        }\n\t\t\t\t\t        if (arr1.length)\n\t\t\t\t\t            return true;\n\t\t\t\t\t        if (arr2.length)\n\t\t\t\t\t            return false;\n\t\t\t\t\t        return true;\n\t\t\t\t\t    };\n\t\t\t\t\t    return compare(version1.split(\".\").map(Number), version2.split(\".\").map(Number));\n\t\t\t\t\t};\n\n\t\t\t\t\tvar isNormalEquals = function (src, target, isSkipKey) {\n\t\t\t\t\t    var isEquals = Object.is(src, target);\n\t\t\t\t\t    if (isEquals)\n\t\t\t\t\t        return true;\n\t\t\t\t\t    var hasSkipKeyFunction = typeof isSkipKey === \"function\";\n\t\t\t\t\t    if (typeof src === \"object\" && typeof target === \"object\" && src !== null && target !== null) {\n\t\t\t\t\t        var srcKeys = Object.keys(src);\n\t\t\t\t\t        var targetKeys = Object.keys(target);\n\t\t\t\t\t        if (srcKeys.length !== targetKeys.length)\n\t\t\t\t\t            return false;\n\t\t\t\t\t        var res = true;\n\t\t\t\t\t        if (hasSkipKeyFunction) {\n\t\t\t\t\t            for (var _i = 0, srcKeys_1 = srcKeys; _i < srcKeys_1.length; _i++) {\n\t\t\t\t\t                var key = srcKeys_1[_i];\n\t\t\t\t\t                if (isSkipKey(key) && key in target) {\n\t\t\t\t\t                    continue;\n\t\t\t\t\t                }\n\t\t\t\t\t                else {\n\t\t\t\t\t                    res = res && Object.is(src[key], target[key]);\n\t\t\t\t\t                }\n\t\t\t\t\t                if (!res)\n\t\t\t\t\t                    return res;\n\t\t\t\t\t            }\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            for (var _a = 0, srcKeys_2 = srcKeys; _a < srcKeys_2.length; _a++) {\n\t\t\t\t\t                var key = srcKeys_2[_a];\n\t\t\t\t\t                res = res && Object.is(src[key], target[key]);\n\t\t\t\t\t                if (!res)\n\t\t\t\t\t                    return res;\n\t\t\t\t\t            }\n\t\t\t\t\t        }\n\t\t\t\t\t        return res;\n\t\t\t\t\t    }\n\t\t\t\t\t    return false;\n\t\t\t\t\t};\n\t\t\t\t\tvar isArrayEquals = function (src, target) {\n\t\t\t\t\t    var isEquals = Object.is(src, target);\n\t\t\t\t\t    if (isEquals)\n\t\t\t\t\t        return true;\n\t\t\t\t\t    if (Array.isArray(src) && Array.isArray(target) && src.length === target.length) {\n\t\t\t\t\t        var re = true;\n\t\t\t\t\t        for (var key in src) {\n\t\t\t\t\t            re = re && Object.is(src[key], target[key]);\n\t\t\t\t\t            if (!re)\n\t\t\t\t\t                return re;\n\t\t\t\t\t        }\n\t\t\t\t\t        return re;\n\t\t\t\t\t    }\n\t\t\t\t\t    return false;\n\t\t\t\t\t};\n\n\t\t\t\t\tvar ListTreeNode = /** @class */ (function () {\n\t\t\t\t\t    function ListTreeNode(value) {\n\t\t\t\t\t        this.prev = null;\n\t\t\t\t\t        this.next = null;\n\t\t\t\t\t        this.value = value;\n\t\t\t\t\t    }\n\t\t\t\t\t    return ListTreeNode;\n\t\t\t\t\t}());\n\t\t\t\t\tvar ListTree = /** @class */ (function () {\n\t\t\t\t\t    function ListTree() {\n\t\t\t\t\t        this.length = 0;\n\t\t\t\t\t        var _stickyHead = null;\n\t\t\t\t\t        Object.defineProperty(this, \"stickyHead\", {\n\t\t\t\t\t            get: function () {\n\t\t\t\t\t                return _stickyHead;\n\t\t\t\t\t            },\n\t\t\t\t\t            set: function (v) {\n\t\t\t\t\t                _stickyHead = v;\n\t\t\t\t\t            },\n\t\t\t\t\t        });\n\t\t\t\t\t        var _stickyFoot = null;\n\t\t\t\t\t        Object.defineProperty(this, \"stickyFoot\", {\n\t\t\t\t\t            get: function () {\n\t\t\t\t\t                return _stickyFoot;\n\t\t\t\t\t            },\n\t\t\t\t\t            set: function (v) {\n\t\t\t\t\t                _stickyFoot = v;\n\t\t\t\t\t            },\n\t\t\t\t\t        });\n\t\t\t\t\t        var _head = null;\n\t\t\t\t\t        Object.defineProperty(this, \"head\", {\n\t\t\t\t\t            get: function () {\n\t\t\t\t\t                return _head;\n\t\t\t\t\t            },\n\t\t\t\t\t            set: function (v) {\n\t\t\t\t\t                _head = v;\n\t\t\t\t\t            },\n\t\t\t\t\t        });\n\t\t\t\t\t        var _foot = null;\n\t\t\t\t\t        Object.defineProperty(this, \"foot\", {\n\t\t\t\t\t            get: function () {\n\t\t\t\t\t                return _foot;\n\t\t\t\t\t            },\n\t\t\t\t\t            set: function (v) {\n\t\t\t\t\t                _foot = v;\n\t\t\t\t\t            },\n\t\t\t\t\t        });\n\t\t\t\t\t    }\n\t\t\t\t\t    ListTree.prototype.push = function (node) {\n\t\t\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t\t\t        this.length++;\n\t\t\t\t\t        if (!this.foot) {\n\t\t\t\t\t            this.head = listNode;\n\t\t\t\t\t            this.foot = listNode;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            this.foot.next = listNode;\n\t\t\t\t\t            listNode.prev = this.foot;\n\t\t\t\t\t            this.foot = listNode;\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.pushToLast = function (node) {\n\t\t\t\t\t        if (this.stickyFoot) {\n\t\t\t\t\t            var node_1 = this.stickyFoot;\n\t\t\t\t\t            this.push(node_1.value);\n\t\t\t\t\t            this.stickyFoot = null;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            this.length++;\n\t\t\t\t\t        }\n\t\t\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t\t\t        this.stickyFoot = listNode;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.pushToHead = function (node) {\n\t\t\t\t\t        if (this.stickyHead) {\n\t\t\t\t\t            var node_2 = this.stickyHead;\n\t\t\t\t\t            this.unshift(node_2.value);\n\t\t\t\t\t            this.stickyHead = null;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            this.length++;\n\t\t\t\t\t        }\n\t\t\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t\t\t        this.stickyHead = listNode;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.pop = function () {\n\t\t\t\t\t        var foot = this.stickyFoot || this.foot || this.stickyHead;\n\t\t\t\t\t        if (foot) {\n\t\t\t\t\t            this.delete(foot);\n\t\t\t\t\t            return foot.value;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            return null;\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.unshift = function (node) {\n\t\t\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t\t\t        this.length++;\n\t\t\t\t\t        if (!this.head) {\n\t\t\t\t\t            this.head = listNode;\n\t\t\t\t\t            this.foot = listNode;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            this.head.prev = listNode;\n\t\t\t\t\t            listNode.next = this.head;\n\t\t\t\t\t            this.head = listNode;\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.unshiftToHead = function (node) {\n\t\t\t\t\t        if (this.stickyHead) {\n\t\t\t\t\t            var node_3 = this.stickyHead;\n\t\t\t\t\t            this.unshift(node_3.value);\n\t\t\t\t\t            this.stickyHead = null;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            this.length++;\n\t\t\t\t\t        }\n\t\t\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t\t\t        this.stickyHead = listNode;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.unshiftToFoot = function (node) {\n\t\t\t\t\t        if (this.stickyFoot) {\n\t\t\t\t\t            var node_4 = this.stickyFoot;\n\t\t\t\t\t            this.push(node_4.value);\n\t\t\t\t\t            this.stickyFoot = null;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            this.length++;\n\t\t\t\t\t        }\n\t\t\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t\t\t        this.stickyFoot = listNode;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.shift = function () {\n\t\t\t\t\t        var head = this.stickyHead || this.head || this.stickyFoot;\n\t\t\t\t\t        if (head) {\n\t\t\t\t\t            this.delete(head);\n\t\t\t\t\t            return head.value;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            return null;\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.pickHead = function () {\n\t\t\t\t\t        var _a, _b;\n\t\t\t\t\t        return ((_a = this.stickyHead) === null || _a === void 0 ? void 0 : _a.value) || ((_b = this.head) === null || _b === void 0 ? void 0 : _b.value);\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.pickFoot = function () {\n\t\t\t\t\t        var _a, _b;\n\t\t\t\t\t        return ((_a = this.stickyFoot) === null || _a === void 0 ? void 0 : _a.value) || ((_b = this.foot) === null || _b === void 0 ? void 0 : _b.value);\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.listToFoot = function (action) {\n\t\t\t\t\t        if (this.stickyHead) {\n\t\t\t\t\t            action(this.stickyHead.value);\n\t\t\t\t\t        }\n\t\t\t\t\t        var node = this.head;\n\t\t\t\t\t        while (node) {\n\t\t\t\t\t            action(node.value);\n\t\t\t\t\t            node = node.next;\n\t\t\t\t\t        }\n\t\t\t\t\t        if (this.stickyFoot) {\n\t\t\t\t\t            action(this.stickyFoot.value);\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.listToHead = function (action) {\n\t\t\t\t\t        if (this.stickyFoot) {\n\t\t\t\t\t            action(this.stickyFoot.value);\n\t\t\t\t\t        }\n\t\t\t\t\t        var node = this.foot;\n\t\t\t\t\t        while (node) {\n\t\t\t\t\t            action(node.value);\n\t\t\t\t\t            node = node.prev;\n\t\t\t\t\t        }\n\t\t\t\t\t        if (this.stickyHead) {\n\t\t\t\t\t            action(this.stickyHead.value);\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.toArray = function () {\n\t\t\t\t\t        var re = [];\n\t\t\t\t\t        this.listToFoot(function (v) { return re.push(v); });\n\t\t\t\t\t        return re;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.delete = function (node) {\n\t\t\t\t\t        if (this.stickyHead === node) {\n\t\t\t\t\t            this.stickyHead = null;\n\t\t\t\t\t            this.length--;\n\t\t\t\t\t        }\n\t\t\t\t\t        else if (this.stickyFoot === node) {\n\t\t\t\t\t            this.stickyFoot = null;\n\t\t\t\t\t            this.length--;\n\t\t\t\t\t        }\n\t\t\t\t\t        else if (this.head === node) {\n\t\t\t\t\t            var next = node.next;\n\t\t\t\t\t            node.next = null;\n\t\t\t\t\t            if (next) {\n\t\t\t\t\t                this.head = next;\n\t\t\t\t\t                next.prev = null;\n\t\t\t\t\t            }\n\t\t\t\t\t            else {\n\t\t\t\t\t                this.head = null;\n\t\t\t\t\t                this.foot = null;\n\t\t\t\t\t            }\n\t\t\t\t\t            this.length--;\n\t\t\t\t\t        }\n\t\t\t\t\t        else if (this.foot === node) {\n\t\t\t\t\t            var prev = node.prev;\n\t\t\t\t\t            node.prev = null;\n\t\t\t\t\t            if (prev) {\n\t\t\t\t\t                this.foot = prev;\n\t\t\t\t\t                prev.next = null;\n\t\t\t\t\t            }\n\t\t\t\t\t            else {\n\t\t\t\t\t                this.head = null;\n\t\t\t\t\t                this.foot = null;\n\t\t\t\t\t            }\n\t\t\t\t\t            this.length--;\n\t\t\t\t\t        }\n\t\t\t\t\t        else if (this.hasNode(node)) {\n\t\t\t\t\t            var prev = node.prev;\n\t\t\t\t\t            var next = node.next;\n\t\t\t\t\t            node.prev = null;\n\t\t\t\t\t            node.next = null;\n\t\t\t\t\t            prev.next = next;\n\t\t\t\t\t            next.prev = prev;\n\t\t\t\t\t            this.length--;\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.size = function () {\n\t\t\t\t\t        return this.length;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.hasNode = function (node) {\n\t\t\t\t\t        if (this.stickyHead && Object.is(this.stickyHead, node))\n\t\t\t\t\t            return true;\n\t\t\t\t\t        if (this.stickyFoot && Object.is(this.stickyFoot, node))\n\t\t\t\t\t            return true;\n\t\t\t\t\t        var listNode = this.head;\n\t\t\t\t\t        while (listNode) {\n\t\t\t\t\t            if (Object.is(listNode, node))\n\t\t\t\t\t                return true;\n\t\t\t\t\t            listNode = listNode.next;\n\t\t\t\t\t        }\n\t\t\t\t\t        return false;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.hasValue = function (node) {\n\t\t\t\t\t        if (this.stickyHead && Object.is(this.stickyHead.value, node))\n\t\t\t\t\t            return true;\n\t\t\t\t\t        if (this.stickyFoot && Object.is(this.stickyFoot.value, node))\n\t\t\t\t\t            return true;\n\t\t\t\t\t        var listNode = this.head;\n\t\t\t\t\t        while (listNode) {\n\t\t\t\t\t            if (Object.is(listNode.value, node))\n\t\t\t\t\t                return true;\n\t\t\t\t\t            listNode = listNode.next;\n\t\t\t\t\t        }\n\t\t\t\t\t        return false;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.some = function (iterator) {\n\t\t\t\t\t        var re = false;\n\t\t\t\t\t        this.listToFoot(function (node) {\n\t\t\t\t\t            re = re || iterator(node);\n\t\t\t\t\t        });\n\t\t\t\t\t        return re;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.every = function (iterator) {\n\t\t\t\t\t        var re = true;\n\t\t\t\t\t        this.listToFoot(function (node) {\n\t\t\t\t\t            re = re && iterator(node);\n\t\t\t\t\t        });\n\t\t\t\t\t        return re;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.concat = function (list) {\n\t\t\t\t\t        var newList = new ListTree();\n\t\t\t\t\t        this.listToFoot(function (node) { return newList.push(node); });\n\t\t\t\t\t        list.listToFoot(function (node) { return newList.push(node); });\n\t\t\t\t\t        return newList;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.clone = function () {\n\t\t\t\t\t        var newList = new ListTree();\n\t\t\t\t\t        this.listToFoot(function (v) { return newList.push(v); });\n\t\t\t\t\t        return newList;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.clear = function () {\n\t\t\t\t\t        this.length = 0;\n\t\t\t\t\t        this.head = null;\n\t\t\t\t\t        this.foot = null;\n\t\t\t\t\t        this.stickyHead = null;\n\t\t\t\t\t        this.stickyFoot = null;\n\t\t\t\t\t    };\n\t\t\t\t\t    return ListTree;\n\t\t\t\t\t}());\n\n\t\t\t\t\texports.Comment = Comment;\n\t\t\t\t\texports.Consumer = Consumer;\n\t\t\t\t\texports.Context = Context;\n\t\t\t\t\texports.Element = Element;\n\t\t\t\t\texports.ForwardRef = ForwardRef;\n\t\t\t\t\texports.Fragment = Fragment;\n\t\t\t\t\texports.Lazy = Lazy;\n\t\t\t\t\texports.ListTree = ListTree;\n\t\t\t\t\texports.ListTreeNode = ListTreeNode;\n\t\t\t\t\texports.Memo = Memo;\n\t\t\t\t\texports.Offscreen = Offscreen;\n\t\t\t\t\texports.Portal = Portal;\n\t\t\t\t\texports.Profiler = Profiler;\n\t\t\t\t\texports.Provider = Provider;\n\t\t\t\t\texports.Root = Root;\n\t\t\t\t\texports.Scope = Scope;\n\t\t\t\t\texports.ScopeLazy = ScopeLazy;\n\t\t\t\t\texports.ScopeSuspense = ScopeSuspense;\n\t\t\t\t\texports.Strict = Strict;\n\t\t\t\t\texports.Suspense = Suspense;\n\t\t\t\t\texports.TYPEKEY = TYPEKEY;\n\t\t\t\t\texports.UniqueArray = UniqueArray;\n\t\t\t\t\texports.compareVersion = compareVersion;\n\t\t\t\t\texports.exclude = exclude;\n\t\t\t\t\texports.include = include;\n\t\t\t\t\texports.isArray = isArray;\n\t\t\t\t\texports.isArrayEquals = isArrayEquals;\n\t\t\t\t\texports.isCollection = isCollection;\n\t\t\t\t\texports.isFunction = isFunction;\n\t\t\t\t\texports.isInteger = isInteger;\n\t\t\t\t\texports.isNormalEquals = isNormalEquals;\n\t\t\t\t\texports.isNumber = isNumber;\n\t\t\t\t\texports.isObject = isObject;\n\t\t\t\t\texports.isPromise = isPromise;\n\t\t\t\t\texports.isString = isString;\n\t\t\t\t\texports.isSymbol = isSymbol;\n\t\t\t\t\texports.merge = merge;\n\t\t\t\t\texports.once = once;\n\t\t\t\t\texports.remove = remove; \n\t\t\t\t} (index_production));\n\t\t\t\treturn index_production;\n\t\t\t}\n\n\t\t\tvar hasRequiredMyreactShared;\n\n\t\t\tfunction requireMyreactShared () {\n\t\t\t\tif (hasRequiredMyreactShared) return myreactShared.exports;\n\t\t\t\thasRequiredMyreactShared = 1;\n\n\t\t\t\t{\n\t\t\t\t  myreactShared.exports = requireIndex_production();\n\t\t\t\t}\n\t\t\t\treturn myreactShared.exports;\n\t\t\t}\n\n\t\t\tvar myreactSharedExports = requireMyreactShared();\n\n\t\t\t/******************************************************************************\r\n\t\t\tCopyright (c) Microsoft Corporation.\r\n\r\n\t\t\tPermission to use, copy, modify, and/or distribute this software for any\r\n\t\t\tpurpose with or without fee is hereby granted.\r\n\r\n\t\t\tTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n\t\t\tREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n\t\t\tAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n\t\t\tINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n\t\t\tLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n\t\t\tOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n\t\t\tPERFORMANCE OF THIS SOFTWARE.\r\n\t\t\t***************************************************************************** */\r\n\t\t\t/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\n\t\t\tvar extendStatics = function(d, b) {\r\n\t\t\t    extendStatics = Object.setPrototypeOf ||\r\n\t\t\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t\t\t        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n\t\t\t    return extendStatics(d, b);\r\n\t\t\t};\r\n\r\n\t\t\tfunction __extends(d, b) {\r\n\t\t\t    if (typeof b !== \"function\" && b !== null)\r\n\t\t\t        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n\t\t\t    extendStatics(d, b);\r\n\t\t\t    function __() { this.constructor = d; }\r\n\t\t\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t\t\t}\r\n\r\n\t\t\tvar __assign = function() {\r\n\t\t\t    __assign = Object.assign || function __assign(t) {\r\n\t\t\t        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n\t\t\t            s = arguments[i];\r\n\t\t\t            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n\t\t\t        }\r\n\t\t\t        return t;\r\n\t\t\t    };\r\n\t\t\t    return __assign.apply(this, arguments);\r\n\t\t\t};\r\n\r\n\t\t\tfunction __awaiter(thisArg, _arguments, P, generator) {\r\n\t\t\t    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n\t\t\t    return new (P || (P = Promise))(function (resolve, reject) {\r\n\t\t\t        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n\t\t\t        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n\t\t\t        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n\t\t\t        step((generator = generator.apply(thisArg, [])).next());\r\n\t\t\t    });\r\n\t\t\t}\r\n\r\n\t\t\tfunction __generator(thisArg, body) {\r\n\t\t\t    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n\t\t\t    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n\t\t\t    function verb(n) { return function (v) { return step([n, v]); }; }\r\n\t\t\t    function step(op) {\r\n\t\t\t        if (f) throw new TypeError(\"Generator is already executing.\");\r\n\t\t\t        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n\t\t\t            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n\t\t\t            if (y = 0, t) op = [op[0] & 2, t.value];\r\n\t\t\t            switch (op[0]) {\r\n\t\t\t                case 0: case 1: t = op; break;\r\n\t\t\t                case 4: _.label++; return { value: op[1], done: false };\r\n\t\t\t                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n\t\t\t                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n\t\t\t                default:\r\n\t\t\t                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n\t\t\t                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n\t\t\t                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n\t\t\t                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n\t\t\t                    if (t[2]) _.ops.pop();\r\n\t\t\t                    _.trys.pop(); continue;\r\n\t\t\t            }\r\n\t\t\t            op = body.call(thisArg, _);\r\n\t\t\t        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n\t\t\t        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n\t\t\t    }\r\n\t\t\t}\r\n\r\n\t\t\tfunction __spreadArray(to, from, pack) {\r\n\t\t\t    if (arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n\t\t\t        if (ar || !(i in from)) {\r\n\t\t\t            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n\t\t\t            ar[i] = from[i];\r\n\t\t\t        }\r\n\t\t\t    }\r\n\t\t\t    return to.concat(ar || Array.prototype.slice.call(from));\r\n\t\t\t}\r\n\r\n\t\t\ttypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n\t\t\t    var e = new Error(message);\r\n\t\t\t    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n\t\t\t};\n\n\t\t\tvar MyWeakMap = typeof WeakMap !== \"undefined\" ? WeakMap : Map;\n\n\t\t\tvar currentRefreshHandler = react.createRef(null);\n\t\t\t// TODO\n\t\t\t// need improve\n\t\t\tvar currentTriggerFiber = react.createRef(null);\n\t\t\tvar fiberToDispatchMap = react.__my_react_internal__.fiberToDispatchMap;\n\t\t\tvar enableFiberForLog = react.createRef(false);\n\t\t\tvar enableDebugUpdateQueue = react.createRef(false);\n\t\t\tvar enableValidMyReactElement = react.createRef(false);\n\t\t\tvar enableLogForCurrentFlowIsRunning = react.createRef(false);\n\n\t\t\texports.NODE_TYPE = void 0;\n\t\t\t(function (NODE_TYPE) {\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__class__\"] = 1] = \"__class__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__function__\"] = 2] = \"__function__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__lazy__\"] = 4] = \"__lazy__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__memo__\"] = 8] = \"__memo__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__forwardRef__\"] = 16] = \"__forwardRef__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__provider__\"] = 32] = \"__provider__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__consumer__\"] = 64] = \"__consumer__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__portal__\"] = 128] = \"__portal__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__null__\"] = 256] = \"__null__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__text__\"] = 512] = \"__text__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__empty__\"] = 1024] = \"__empty__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__plain__\"] = 2048] = \"__plain__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__strict__\"] = 4096] = \"__strict__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__suspense__\"] = 8192] = \"__suspense__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__fragment__\"] = 16384] = \"__fragment__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__root__\"] = 32768] = \"__root__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__scope__\"] = 65536] = \"__scope__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__comment__\"] = 131072] = \"__comment__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__profiler__\"] = 262144] = \"__profiler__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__context__\"] = 524288] = \"__context__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__scopeLazy__\"] = 1048576] = \"__scopeLazy__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__scopeSuspense__\"] = 2097152] = \"__scopeSuspense__\";\n\t\t\t})(exports.NODE_TYPE || (exports.NODE_TYPE = {}));\n\n\t\t\tvar enableSyncFlush$1 = react.__my_react_shared__.enableSyncFlush;\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\texports.syncFlush = false;\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tvar beforeSyncFlush = function () {\n\t\t\t    exports.syncFlush = true;\n\t\t\t};\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tvar afterSyncFlush = function () {\n\t\t\t    exports.syncFlush = false;\n\t\t\t};\n\t\t\tvar stack = [enableSyncFlush$1.current];\n\t\t\tvar beforeSyncUpdate = function () {\n\t\t\t    stack.push(enableSyncFlush$1.current);\n\t\t\t    enableSyncFlush$1.current = true;\n\t\t\t};\n\t\t\tvar afterSyncUpdate = function () {\n\t\t\t    enableSyncFlush$1.current = stack.pop();\n\t\t\t};\n\n\t\t\tvar currentRunningFiber$5 = react.__my_react_internal__.currentRunningFiber, currentScheduler$g = react.__my_react_internal__.currentScheduler, currentScopeFiber$1 = react.__my_react_internal__.currentScopeFiber, currentError$1 = react.__my_react_internal__.currentError, currentCallingFiber$1 = react.__my_react_internal__.currentCallingFiber;\n\t\t\tvar safeCall = function (action) {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    try {\n\t\t\t        return action.call.apply(action, __spreadArray([null], args, false));\n\t\t\t    }\n\t\t\t    catch (e) {\n\t\t\t        var fiber = (currentCallingFiber$1 === null || currentCallingFiber$1 === void 0 ? void 0 : currentCallingFiber$1[(currentCallingFiber$1 === null || currentCallingFiber$1 === void 0 ? void 0 : currentCallingFiber$1.length) - 1]) || currentScopeFiber$1.current || currentRunningFiber$5.current;\n\t\t\t        var renderScheduler = currentScheduler$g.current;\n\t\t\t        currentError$1.current = currentError$1.current || e;\n\t\t\t        renderScheduler.dispatchError({ fiber: fiber, error: currentError$1.current });\n\t\t\t    }\n\t\t\t};\n\t\t\tvar safeCallWithCurrentFiber = function (_a) {\n\t\t\t    var action = _a.action, fiber = _a.fiber, fallback = _a.fallback;\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    currentCallingFiber$1.push(fiber);\n\t\t\t    try {\n\t\t\t        return action.call.apply(action, __spreadArray([null], args, false));\n\t\t\t    }\n\t\t\t    catch (e) {\n\t\t\t        if (fallback) {\n\t\t\t            return fallback();\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            var renderScheduler = currentScheduler$g.current;\n\t\t\t            currentError$1.current = currentError$1.current || e;\n\t\t\t            renderScheduler.dispatchError({ fiber: fiber, error: currentError$1.current });\n\t\t\t        }\n\t\t\t    }\n\t\t\t    finally {\n\t\t\t        currentCallingFiber$1.pop();\n\t\t\t    }\n\t\t\t};\n\t\t\tvar callWithFiber = function (_a) {\n\t\t\t    var action = _a.action, fiber = _a.fiber;\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    currentScopeFiber$1.current = fiber;\n\t\t\t    try {\n\t\t\t        return action.call.apply(action, __spreadArray([null], args, false));\n\t\t\t    }\n\t\t\t    finally {\n\t\t\t        currentScopeFiber$1.current = null;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar safeCallWithSync = function (action) {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    try {\n\t\t\t        beforeSyncUpdate();\n\t\t\t        return action.call.apply(action, __spreadArray([null], args, false));\n\t\t\t    }\n\t\t\t    catch (e) {\n\t\t\t        var fiber = (currentCallingFiber$1 === null || currentCallingFiber$1 === void 0 ? void 0 : currentCallingFiber$1[(currentCallingFiber$1 === null || currentCallingFiber$1 === void 0 ? void 0 : currentCallingFiber$1.length) - 1]) || currentScopeFiber$1.current || currentRunningFiber$5.current;\n\t\t\t        var renderScheduler = currentScheduler$g.current;\n\t\t\t        currentError$1.current = currentError$1.current || e;\n\t\t\t        renderScheduler.dispatchError({ fiber: fiber, error: currentError$1.current });\n\t\t\t    }\n\t\t\t    finally {\n\t\t\t        afterSyncUpdate();\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar currentScheduler$f = react.__my_react_internal__.currentScheduler, currentRunningFiber$4 = react.__my_react_internal__.currentRunningFiber, currentScopeFiber = react.__my_react_internal__.currentScopeFiber, currentCallingFiber = react.__my_react_internal__.currentCallingFiber;\n\t\t\tvar enableOptimizeTreeLog = react.__my_react_shared__.enableOptimizeTreeLog;\n\t\t\tvar typeColor = {\n\t\t\t    normal: \"rgba(10, 190, 235, 0.8)\",\n\t\t\t    plain: \"rgba(100, 230, 40, 0.8)\",\n\t\t\t    unmount: \"rgba(230, 40, 40, 0.8)\",\n\t\t\t};\n\t\t\tvar warnMap = {};\n\t\t\tvar errorMap = {};\n\t\t\tvar fiberWarn = function (fiber) {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    var renderDispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberWarnListener() {\n\t\t\t            var _a, _b;\n\t\t\t            try {\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberWarn) === null || _b === void 0 ? void 0 : _b.forEach(function (listener) { return listener.apply(void 0, __spreadArray([fiber], args, false)); });\n\t\t\t            }\n\t\t\t            catch (_c) {\n\t\t\t            }\n\t\t\t        },\n\t\t\t    });\n\t\t\t};\n\t\t\tvar fiberError = function (fiber) {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    var renderDispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberErrorListener() {\n\t\t\t            var _a, _b;\n\t\t\t            try {\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberError) === null || _b === void 0 ? void 0 : _b.forEach(function (listener) { return listener.apply(void 0, __spreadArray([fiber], args, false)); });\n\t\t\t            }\n\t\t\t            catch (_c) {\n\t\t\t            }\n\t\t\t        },\n\t\t\t    });\n\t\t\t};\n\t\t\t// TODO! improve log\n\t\t\tvar originalWarn = console.warn;\n\t\t\tvar originalError = console.error;\n\t\t\tvar warnFiber = null;\n\t\t\tvar errorFiber = null;\n\t\t\tvar devWarn = function () {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 0; _i < arguments.length; _i++) {\n\t\t\t        args[_i] = arguments[_i];\n\t\t\t    }\n\t\t\t    var renderScheduler = currentScheduler$f.current;\n\t\t\t    var startWithPlain = typeof args[0] === \"string\";\n\t\t\t    var renderFiber = warnFiber || (currentCallingFiber === null || currentCallingFiber === void 0 ? void 0 : currentCallingFiber[(currentCallingFiber === null || currentCallingFiber === void 0 ? void 0 : currentCallingFiber.length) - 1]) || currentScopeFiber.current || currentRunningFiber$4.current;\n\t\t\t    renderFiber && fiberWarn.apply(void 0, __spreadArray([renderFiber], args, false));\n\t\t\t    var treeLog = renderFiber ? renderScheduler.getFiberTree(renderFiber) : \"\";\n\t\t\t    if (enableFiberForLog.current && renderFiber) {\n\t\t\t        if (startWithPlain) {\n\t\t\t            originalWarn.call.apply(originalWarn, __spreadArray(__spreadArray([console], args, false), [treeLog, \"\\n\", renderFiber], false));\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            originalWarn.call.apply(originalWarn, __spreadArray(__spreadArray([console, \"\"], args, false), [treeLog, \"\\n\", renderFiber], false));\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        if (startWithPlain) {\n\t\t\t            originalWarn.call.apply(originalWarn, __spreadArray(__spreadArray([console], args, false), [treeLog], false));\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            originalWarn.call.apply(originalWarn, __spreadArray(__spreadArray([console, \"\"], args, false), [treeLog], false));\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar devWarnWithFiber = function (fiber) {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    warnFiber = fiber;\n\t\t\t    devWarn.apply(void 0, args);\n\t\t\t    // TODO\n\t\t\t    warnFiber = null;\n\t\t\t};\n\t\t\tvar devError = function () {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 0; _i < arguments.length; _i++) {\n\t\t\t        args[_i] = arguments[_i];\n\t\t\t    }\n\t\t\t    var renderScheduler = currentScheduler$f.current;\n\t\t\t    var startWithPlain = typeof args[0] === \"string\";\n\t\t\t    var renderFiber = errorFiber || (currentCallingFiber === null || currentCallingFiber === void 0 ? void 0 : currentCallingFiber[(currentCallingFiber === null || currentCallingFiber === void 0 ? void 0 : currentCallingFiber.length) - 1]) || currentScopeFiber.current || currentRunningFiber$4.current;\n\t\t\t    renderFiber && fiberError.apply(void 0, __spreadArray([renderFiber], args, false));\n\t\t\t    var treeLog = renderFiber ? renderScheduler.getFiberTree(renderFiber) : \"\";\n\t\t\t    if (enableFiberForLog.current && renderFiber) {\n\t\t\t        if (startWithPlain) {\n\t\t\t            originalError.call.apply(originalError, __spreadArray(__spreadArray([console], args, false), [treeLog, \"\\n\", renderFiber], false));\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            originalError.call.apply(originalError, __spreadArray(__spreadArray([console, \"\"], args, false), [treeLog, \"\\n\", renderFiber], false));\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        if (startWithPlain) {\n\t\t\t            originalError.call.apply(originalError, __spreadArray(__spreadArray([console], args, false), [treeLog], false));\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            originalError.call.apply(originalError, __spreadArray(__spreadArray([console, \"\"], args, false), [treeLog], false));\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar devErrorWithFiber = function (fiber) {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    errorFiber = fiber;\n\t\t\t    devError.apply(void 0, args);\n\t\t\t    errorFiber = null;\n\t\t\t};\n\t\t\tvar setLogScope = function () {\n\t\t\t};\n\t\t\tvar resetLogScope = function () {\n\t\t\t};\n\t\t\tvar debugWithNode = function (fiber) {\n\t\t\t    var mayFiberContainer = fiber;\n\t\t\t    if (fiber.nativeNode || mayFiberContainer.containerNode) {\n\t\t\t        var node = (fiber.nativeNode || mayFiberContainer.containerNode);\n\t\t\t        node.__fiber__ = fiber;\n\t\t\t        node.__props__ = fiber.pendingProps;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar getTrackDevLog = function (fiber) {\n\t\t\t    {\n\t\t\t        return \"\";\n\t\t\t    }\n\t\t\t};\n\t\t\tvar shouldIncludeLog = function (fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__class__ | exports.NODE_TYPE.__function__)) {\n\t\t\t        return true;\n\t\t\t    }\n\t\t\t    return false;\n\t\t\t};\n\t\t\tvar getFiberTagName = function (fiber) {\n\t\t\t    var tag = [];\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__memo__) {\n\t\t\t        tag.push(\"memo\");\n\t\t\t    }\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__forwardRef__) {\n\t\t\t        tag.push(\"forwardRef\");\n\t\t\t    }\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__lazy__) {\n\t\t\t        tag.push(\"lazy\");\n\t\t\t    }\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__fragment__ && fiber.pendingProps[\"wrap\"]) {\n\t\t\t        tag.push(\"auto-wrap\");\n\t\t\t    }\n\t\t\t    return tag.join(\"-\");\n\t\t\t};\n\t\t\tvar getPlainFiberName = function (fiber) {\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__provider__) {\n\t\t\t        var typedElementType = fiber.elementType;\n\t\t\t        var name_2 = typedElementType.Context.displayName;\n\t\t\t        return \"\".concat(name_2 || \"Context\", \".Provider\");\n\t\t\t    }\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__context__) {\n\t\t\t        var typedElementType = fiber.elementType;\n\t\t\t        var name_3 = typedElementType.displayName;\n\t\t\t        return \"\".concat(name_3 || \"Context\");\n\t\t\t    }\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__consumer__) {\n\t\t\t        var typedElementType = fiber.elementType;\n\t\t\t        var name_4 = typedElementType.Context.displayName;\n\t\t\t        return \"\".concat(name_4 || \"Context\", \".Consumer\");\n\t\t\t    }\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__lazy__) {\n\t\t\t        var typedElementType = fiber.elementType;\n\t\t\t        var typedRender = typedElementType === null || typedElementType === void 0 ? void 0 : typedElementType.render;\n\t\t\t        var name_5 = (typedRender === null || typedRender === void 0 ? void 0 : typedRender.displayName) || (typedRender === null || typedRender === void 0 ? void 0 : typedRender.name) || \"\";\n\t\t\t        return \"\".concat(name_5 || \"Anonymous\");\n\t\t\t    }\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__portal__)\n\t\t\t        return \"Portal\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__null__)\n\t\t\t        return \"Null\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__empty__)\n\t\t\t        return \"Empty\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__scope__)\n\t\t\t        return \"Scope\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__scopeLazy__)\n\t\t\t        return \"ScopeLazy\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__scopeSuspense__)\n\t\t\t        return \"ScopeSuspense\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__strict__)\n\t\t\t        return \"Strict\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__profiler__)\n\t\t\t        return \"Profiler\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__suspense__)\n\t\t\t        return \"Suspense\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__comment__)\n\t\t\t        return \"Comment\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__root__)\n\t\t\t        return \"Root\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__fragment__)\n\t\t\t        return \"Fragment\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__text__)\n\t\t\t        return \"text\";\n\t\t\t    if (typeof fiber.elementType === \"string\")\n\t\t\t        return \"\".concat(fiber.elementType);\n\t\t\t    if (typeof fiber.elementType === \"function\") {\n\t\t\t        var typedElementType = fiber.elementType;\n\t\t\t        var name_6 = typedElementType.displayName || typedElementType.name || \"Anonymous\";\n\t\t\t        return \"\".concat(name_6);\n\t\t\t    }\n\t\t\t    return \"unknown\";\n\t\t\t};\n\t\t\t// TODO\n\t\t\tvar getElementName = function (fiber) {\n\t\t\t    var name = getPlainFiberName(fiber);\n\t\t\t    var tag = getFiberTagName(fiber);\n\t\t\t    return \"<\".concat(name).concat(tag ? \" - (\".concat(tag, \")\") : \"\", \" />\");\n\t\t\t};\n\t\t\tvar getFiberNodeName = function (fiber) { return \"\".concat(getElementName(fiber), \" \").concat(getTrackDevLog()); };\n\t\t\tvar getFiberNodeNameWithFiber = function (fiber) { return \"%c\".concat(getElementName(fiber), \"%c (%o)\"); };\n\t\t\tvar getFiberTree$1 = function (fiber) {\n\t\t\t    if (fiber) {\n\t\t\t        var preString = \"\".padEnd(4) + \"at\".padEnd(3);\n\t\t\t        var res = \"\";\n\t\t\t        var temp = fiber;\n\t\t\t        if (enableOptimizeTreeLog.current) {\n\t\t\t            while (temp) {\n\t\t\t                if (shouldIncludeLog(temp)) {\n\t\t\t                    res ? (res += \"\\n\".concat(preString).concat(getFiberNodeName(temp))) : (res = \"\".concat(preString).concat(getFiberNodeName(temp)));\n\t\t\t                }\n\t\t\t                temp = temp.parent;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            while (temp) {\n\t\t\t                res ? (res += \"\\n\".concat(preString).concat(getFiberNodeName(temp))) : (res = \"\".concat(preString).concat(getFiberNodeName(temp)));\n\t\t\t                temp = temp.parent;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        return \"\\n\".concat(res);\n\t\t\t    }\n\t\t\t    return \"\";\n\t\t\t};\n\t\t\tvar getStackTree = function (fiber) {\n\t\t\t    var preString = \"\".padEnd(4) + \"at\".padEnd(3);\n\t\t\t    var res = \"\";\n\t\t\t    var temp = fiber;\n\t\t\t    while (temp) {\n\t\t\t        res ? (res += \"\\n\".concat(preString).concat(getElementName(temp))) : (res = \"\".concat(preString).concat(getElementName(temp)));\n\t\t\t        temp = temp.parent;\n\t\t\t    }\n\t\t\t    return \"\\n\".concat(res);\n\t\t\t};\n\t\t\tvar getFiberTreeWithFiber = function (fiber) {\n\t\t\t    var preString = \"at\".padEnd(3);\n\t\t\t    var res = \"\";\n\t\t\t    var arr = [];\n\t\t\t    var temp = fiber;\n\t\t\t    while (temp) {\n\t\t\t        res ? (res += \"\\n\".concat(preString).concat(getFiberNodeNameWithFiber(temp))) : (res = \"\".concat(preString).concat(getFiberNodeNameWithFiber(temp)));\n\t\t\t        var isMount = temp._debugIsMount;\n\t\t\t        var isPlain = temp.type & exports.NODE_TYPE.__plain__;\n\t\t\t        arr.push(\"color: white;background-color: \".concat(isMount ? (isPlain ? typeColor.plain : typeColor.normal) : typeColor.unmount, \"; border-radius: 2px; padding: 1px 5px; margin: 1px 0px\"));\n\t\t\t        arr.push(\"\");\n\t\t\t        arr.push(temp);\n\t\t\t        temp = temp.parent;\n\t\t\t    }\n\t\t\t    return { str: \"\".concat(res), arr: arr };\n\t\t\t};\n\t\t\tvar getHookTree = function (treeHookNode, errorType) {\n\t\t\t    var pre = \"\".toString().padEnd(3);\n\t\t\t    var message = \"[@my-react/react] hook for current component has a different state on current render and previous render, this is not a valid usage.\";\n\t\t\t    var re = \"\\n\" + pre + \"Last render:\".padEnd(28) + \"Next render:\".padEnd(10) + \"\\n\" + pre + \"-\".repeat(44) + \"\\n\";\n\t\t\t    var stack = pre + myreactSharedExports.HOOK_TYPE[errorType.lastRender].padEnd(28) + myreactSharedExports.HOOK_TYPE[errorType.nextRender].padEnd(10) + \"\\n\";\n\t\t\t    while (treeHookNode && treeHookNode.value) {\n\t\t\t        var t = treeHookNode.value.type;\n\t\t\t        stack = pre + myreactSharedExports.HOOK_TYPE[t].padEnd(28) + myreactSharedExports.HOOK_TYPE[t].padEnd(10) + \"\\n\" + stack;\n\t\t\t        treeHookNode = treeHookNode.prev;\n\t\t\t    }\n\t\t\t    stack += pre + \"^\".repeat(44);\n\t\t\t    return message + re + stack;\n\t\t\t};\n\t\t\tvar onceWarnWithKeyAndFiber = function (fiber, key) {\n\t\t\t    var _a;\n\t\t\t    var _b;\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 2; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 2] = arguments[_i];\n\t\t\t    }\n\t\t\t    var renderScheduler = currentScheduler$f.current;\n\t\t\t    var tree = renderScheduler.getFiberTree(fiber);\n\t\t\t    if ((_b = warnMap === null || warnMap === void 0 ? void 0 : warnMap[tree]) === null || _b === void 0 ? void 0 : _b[key])\n\t\t\t        return;\n\t\t\t    warnMap[tree] = __assign(__assign({}, warnMap === null || warnMap === void 0 ? void 0 : warnMap[tree]), (_a = {}, _a[key] = true, _a));\n\t\t\t    warnFiber = fiber;\n\t\t\t    devWarn.apply(void 0, args);\n\t\t\t    warnFiber = null;\n\t\t\t};\n\t\t\tvar onceErrorWithKeyAndFiber = function (fiber, key) {\n\t\t\t    var _a;\n\t\t\t    var _b;\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 2; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 2] = arguments[_i];\n\t\t\t    }\n\t\t\t    var renderScheduler = currentScheduler$f.current;\n\t\t\t    var tree = renderScheduler.getFiberTree(fiber);\n\t\t\t    if ((_b = errorMap === null || errorMap === void 0 ? void 0 : errorMap[tree]) === null || _b === void 0 ? void 0 : _b[key])\n\t\t\t        return;\n\t\t\t    errorMap[tree] = __assign(__assign({}, errorMap === null || errorMap === void 0 ? void 0 : errorMap[tree]), (_a = {}, _a[key] = true, _a));\n\t\t\t    errorFiber = fiber;\n\t\t\t    devError.apply(void 0, args);\n\t\t\t    errorFiber = null;\n\t\t\t};\n\n\t\t\treact.__my_react_shared__.enableHMRForDev;\n\t\t\tvar emptyProps$1 = {};\n\t\t\tvar getElementTypeFromType = function (type) {\n\t\t\t    if (typeof type === \"object\") {\n\t\t\t        switch (type[myreactSharedExports.TYPEKEY]) {\n\t\t\t            case myreactSharedExports.ForwardRef:\n\t\t\t            case myreactSharedExports.Memo:\n\t\t\t                return getElementTypeFromType(type.render);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    return type;\n\t\t\t};\n\t\t\tvar getTypeFromElementNode = function (element) {\n\t\t\t    var nodeType = exports.NODE_TYPE.__initial__;\n\t\t\t    if (react.isValidElement(element)) {\n\t\t\t        return getTypeFromElement(element);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        if (typeof element === \"object\" && element !== null) {\n\t\t\t            nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__empty__);\n\t\t\t        }\n\t\t\t        else if (element === null || element === undefined || typeof element === \"boolean\" || typeof element === \"function\") {\n\t\t\t            nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__null__);\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            // text element\n\t\t\t            return { key: null, ref: null, nodeType: exports.NODE_TYPE.__text__, elementType: String(element), pendingProps: emptyProps$1, finalElement: element, pendingText: String(element) };\n\t\t\t        }\n\t\t\t    }\n\t\t\t    return { key: null, ref: null, nodeType: nodeType, elementType: null, pendingProps: emptyProps$1, finalElement: element };\n\t\t\t};\n\t\t\tvar getTypeFromElement = function (element) {\n\t\t\t    var _a, _b, _e, _f, _g;\n\t\t\t    var nodeType = exports.NODE_TYPE.__initial__;\n\t\t\t    var elementType = element.type;\n\t\t\t    var finalElement = element;\n\t\t\t    var pendingProps = element.props;\n\t\t\t    var ref = (_a = element.ref) !== null && _a !== void 0 ? _a : undefined;\n\t\t\t    var key = (_b = element.key) !== null && _b !== void 0 ? _b : undefined;\n\t\t\t    if (typeof elementType === \"object\" && elementType !== null) {\n\t\t\t        var typedElementType = elementType;\n\t\t\t        switch (typedElementType[myreactSharedExports.TYPEKEY]) {\n\t\t\t            case myreactSharedExports.Provider:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__provider__);\n\t\t\t                break;\n\t\t\t            // support react 19 context api\n\t\t\t            case myreactSharedExports.Context:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__context__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Consumer:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__consumer__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Memo:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__memo__);\n\t\t\t                elementType = typedElementType.render;\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.ForwardRef:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__forwardRef__);\n\t\t\t                elementType = typedElementType.render;\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Lazy:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__lazy__);\n\t\t\t                break;\n\t\t\t            default:\n\t\t\t                throw new Error(\"[@my-react/react] invalid object element type \\\"\".concat((_e = typedElementType[myreactSharedExports.TYPEKEY]) === null || _e === void 0 ? void 0 : _e.toString(), \"\\\"\"));\n\t\t\t        }\n\t\t\t        if (typeof elementType === \"object\") {\n\t\t\t            if (elementType[myreactSharedExports.TYPEKEY] === myreactSharedExports.ForwardRef) {\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__forwardRef__);\n\t\t\t                elementType = elementType.render;\n\t\t\t            }\n\t\t\t            if (elementType[myreactSharedExports.TYPEKEY] === myreactSharedExports.Provider) {\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__provider__);\n\t\t\t            }\n\t\t\t            if (elementType[myreactSharedExports.TYPEKEY] === myreactSharedExports.Context) {\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__context__);\n\t\t\t            }\n\t\t\t            if (elementType[myreactSharedExports.TYPEKEY] === myreactSharedExports.Consumer) {\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__consumer__);\n\t\t\t            }\n\t\t\t        }\n\t\t\t        if (typeof elementType === \"function\") {\n\t\t\t            if ((_f = elementType.prototype) === null || _f === void 0 ? void 0 : _f.isMyReactComponent) {\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__class__);\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__function__);\n\t\t\t            }\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else if (typeof elementType === \"function\") {\n\t\t\t        if ((_g = elementType.prototype) === null || _g === void 0 ? void 0 : _g.isMyReactComponent) {\n\t\t\t            nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__class__);\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__function__);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else if (typeof elementType === \"symbol\") {\n\t\t\t        switch (elementType) {\n\t\t\t            case myreactSharedExports.Root:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__root__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Fragment:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__fragment__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Strict:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__strict__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Suspense:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__suspense__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Scope:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__scope__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.ScopeLazy:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__scopeLazy__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.ScopeSuspense:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__scopeSuspense__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Comment:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__comment__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Portal:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__portal__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Profiler:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__profiler__);\n\t\t\t                break;\n\t\t\t            default:\n\t\t\t                throw new Error(\"[@my-react/react] invalid symbol element type \\\"\".concat(elementType === null || elementType === void 0 ? void 0 : elementType.toString(), \"\\\"\"));\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else if (typeof elementType === \"string\") {\n\t\t\t        nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__plain__);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__empty__);\n\t\t\t    }\n\t\t\t    return { key: key, ref: ref, nodeType: nodeType, elementType: elementType, pendingProps: pendingProps, finalElement: finalElement };\n\t\t\t};\n\n\t\t\t// used for hmr\n\t\t\tvar typeToFibersMap = new MyWeakMap();\n\t\t\tvar setRefreshHandler = function (handler) {\n\t\t\t};\n\t\t\tvar setRefreshTypeMap = function (fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__class__ | exports.NODE_TYPE.__function__)) {\n\t\t\t        var elementType = fiber.elementType;\n\t\t\t        var exist = typeToFibersMap.get(elementType) || new Set();\n\t\t\t        exist.add(fiber);\n\t\t\t        typeToFibersMap.set(elementType, exist);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar getCurrentTypeFromRefresh = function (type) {\n\t\t\t    var _a;\n\t\t\t    return ((_a = void 0 ) === null || _a === void 0 ? void 0 : _a.current) || type;\n\t\t\t};\n\t\t\tvar getCurrentTypeFromRefreshOnly = function (type) {\n\t\t\t    var _a;\n\t\t\t    return (_a = void 0 ) === null || _a === void 0 ? void 0 : _a.current;\n\t\t\t};\n\t\t\tvar getCurrentFibersFromType = function (type) {\n\t\t\t    return typeToFibersMap.get(type);\n\t\t\t};\n\t\t\tvar getCurrentDispatchFromType = function (type) {\n\t\t\t    var fibers = getCurrentFibersFromType(type);\n\t\t\t    return new Set(Array.from(fibers || []).map(function (fiber) { return fiberToDispatchMap.get(fiber); }));\n\t\t\t};\n\t\t\tvar getCurrentDispatchFromFiber = function (fiber) {\n\t\t\t    return fiberToDispatchMap.get(fiber);\n\t\t\t};\n\t\t\tvar getElementFromRefreshIfExist = function (element) {\n\t\t\t    var _a, _b;\n\t\t\t    var elementType = getElementTypeFromType(element.type);\n\t\t\t    // current element is React component\n\t\t\t    if (typeof elementType === \"function\") {\n\t\t\t        var typeFromRefresh = getCurrentTypeFromRefreshOnly();\n\t\t\t        // have a new version elementType from hmr runtime\n\t\t\t        if (typeFromRefresh) {\n\t\t\t            return react.createElement(typeFromRefresh, __assign(__assign({}, element.props), { key: (_a = element.key) !== null && _a !== void 0 ? _a : undefined, ref: (_b = element.ref) !== null && _b !== void 0 ? _b : undefined }));\n\t\t\t        }\n\t\t\t    }\n\t\t\t    return element;\n\t\t\t};\n\n\t\t\treact.__my_react_internal__.currentComponentFiber;\n\t\t\tvar initHMR = function (env) {\n\t\t\t};\n\n\t\t\tvar currentRunningFiber$3 = react.__my_react_internal__.currentRunningFiber, currentScheduler$e = react.__my_react_internal__.currentScheduler;\n\t\t\tvar dispatchHook = function (params) {\n\t\t\t    var fiber = currentRunningFiber$3.current;\n\t\t\t    if (!fiber) {\n\t\t\t        throw new Error(\"No current running fiber found for dispatching hook.\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var dispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    if (!dispatch) {\n\t\t\t        throw new Error(\"No dispatch found for the current running fiber.\");\n\t\t\t    }\n\t\t\t    return dispatch.dispatchHook(params);\n\t\t\t};\n\t\t\tvar dispatchState = function (_params) {\n\t\t\t    var trigger = _params.trigger;\n\t\t\t    var fiber = trigger._reactInternals || trigger;\n\t\t\t    if (!fiber) {\n\t\t\t        throw new Error(\"No fiber found for dispatching state.\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var dispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    if (!dispatch) {\n\t\t\t        throw new Error(\"No dispatch found for the current running fiber.\");\n\t\t\t    }\n\t\t\t    return dispatch.dispatchState(_params);\n\t\t\t};\n\t\t\tvar dispatchError = function (_params) {\n\t\t\t    var fiber = _params.fiber || currentRunningFiber$3.current;\n\t\t\t    if (!fiber) {\n\t\t\t        throw new Error(\"No fiber found for dispatching error.\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var dispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    if (!dispatch) {\n\t\t\t        throw new Error(\"No dispatch found for the current running fiber.\");\n\t\t\t    }\n\t\t\t    return dispatch.dispatchError(_params);\n\t\t\t};\n\t\t\tvar dispatchPromise = function (_params) {\n\t\t\t    var fiber = _params.fiber || currentRunningFiber$3.current;\n\t\t\t    if (!fiber) {\n\t\t\t        throw new Error(\"No fiber found for dispatching promise.\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var dispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    if (!dispatch) {\n\t\t\t        throw new Error(\"No dispatch found for the current running fiber.\");\n\t\t\t    }\n\t\t\t    return dispatch.dispatchPromise(_params);\n\t\t\t};\n\t\t\tvar readContext = function (_params) {\n\t\t\t    var fiber = currentRunningFiber$3.current;\n\t\t\t    if (!fiber) {\n\t\t\t        throw new Error(\"No current running fiber found for reading context.\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var dispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    if (!dispatch) {\n\t\t\t        throw new Error(\"No dispatch found for the current running fiber.\");\n\t\t\t    }\n\t\t\t    return dispatch.readContext(_params);\n\t\t\t};\n\t\t\tvar readPromise = function (_params) {\n\t\t\t    var fiber = currentRunningFiber$3.current;\n\t\t\t    if (!fiber) {\n\t\t\t        throw new Error(\"No current running fiber found for reading promise.\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var dispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    if (!dispatch) {\n\t\t\t        throw new Error(\"No dispatch found for the current running fiber.\");\n\t\t\t    }\n\t\t\t    return dispatch.readPromise(_params);\n\t\t\t};\n\t\t\tvar getFiberTree = function (fiber) {\n\t\t\t    var dispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    if (dispatch) {\n\t\t\t        return dispatch.getFiberTree(fiber);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        return getFiberTree$1(fiber);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar initScheduler = function () {\n\t\t\t    var scheduler = currentScheduler$e.current;\n\t\t\t    scheduler.getFiberTree = getFiberTree;\n\t\t\t    scheduler.readPromise = readPromise;\n\t\t\t    scheduler.readContext = readContext;\n\t\t\t    scheduler.dispatchState = dispatchState;\n\t\t\t    scheduler.dispatchHook = dispatchHook;\n\t\t\t    scheduler.dispatchError = dispatchError;\n\t\t\t    scheduler.dispatchPromise = dispatchPromise;\n\t\t\t};\n\n\t\t\treact.__my_react_shared__.enableHMRForDev;\n\t\t\tfunction checkIsSameType(p, element) {\n\t\t\t    if (p instanceof MyReactFiberNode) {\n\t\t\t        var _a = getTypeFromElementNode(element), nodeType = _a.nodeType, elementType = _a.elementType;\n\t\t\t        if (p.type === nodeType) {\n\t\t\t            if (react.isValidElement(element)) {\n\t\t\t                {\n\t\t\t                    return Object.is(p.elementType, elementType);\n\t\t\t                }\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                return true;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            return false;\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        var existElementType = getTypeFromElementNode(p);\n\t\t\t        var incomingElementType = getTypeFromElementNode(element);\n\t\t\t        if (existElementType.nodeType === incomingElementType.nodeType) {\n\t\t\t            if (react.isValidElement(element)) {\n\t\t\t                var typedExistElement = p;\n\t\t\t                var typedIncomingElement = element;\n\t\t\t                {\n\t\t\t                    return Object.is(typedIncomingElement.type, typedExistElement.type);\n\t\t\t                }\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                return true;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            return false;\n\t\t\t        }\n\t\t\t    }\n\t\t\t}\n\n\t\t\tvar generateFiberToMountList = function (fiber) {\n\t\t\t    var listTree = new myreactSharedExports.ListTree();\n\t\t\t    var getNext = function (fiber, root) {\n\t\t\t        if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t            return null;\n\t\t\t        if (fiber.child)\n\t\t\t            return fiber.child;\n\t\t\t        while (fiber && fiber !== root) {\n\t\t\t            listTree.push(fiber);\n\t\t\t            if (fiber.sibling)\n\t\t\t                return fiber.sibling;\n\t\t\t            fiber = fiber.parent;\n\t\t\t        }\n\t\t\t        if (fiber === root) {\n\t\t\t            listTree.push(fiber);\n\t\t\t        }\n\t\t\t        return null;\n\t\t\t    };\n\t\t\t    var f = fiber;\n\t\t\t    while (f) {\n\t\t\t        f = getNext(f, fiber);\n\t\t\t    }\n\t\t\t    return listTree;\n\t\t\t};\n\t\t\tvar generateFiberToUnmountList = generateFiberToMountList;\n\n\t\t\tvar currentRunningFiber$2 = react.__my_react_internal__.currentRunningFiber;\n\t\t\tvar mountToNextFiberFromRoot = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) || renderDispatch.isAppCrashed)\n\t\t\t        return null;\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__create__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__inherit__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerSync__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerSyncForce__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerConcurrent__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerConcurrentForce__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__retrigger__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__reschedule__)) {\n\t\t\t        fiber.state = myreactSharedExports.remove(fiber.state, myreactSharedExports.STATE_TYPE.__retrigger__);\n\t\t\t        currentRunningFiber$2.current = fiber;\n\t\t\t        {\n\t\t\t            runtimeNextWork(renderDispatch, fiber);\n\t\t\t        }\n\t\t\t        currentRunningFiber$2.current = null;\n\t\t\t    }\n\t\t\t    if (!myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__retrigger__)) {\n\t\t\t        fiber.state = myreactSharedExports.STATE_TYPE.__stable__;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        fiber.state = myreactSharedExports.STATE_TYPE.__triggerSync__;\n\t\t\t    }\n\t\t\t    if (fiber.child)\n\t\t\t        return fiber.child;\n\t\t\t    var nextFiber = fiber;\n\t\t\t    while (nextFiber && nextFiber !== renderDispatch.runtimeFiber.scheduledFiber) {\n\t\t\t        renderDispatch.generateCommitList(nextFiber);\n\t\t\t        if (nextFiber.sibling)\n\t\t\t            return nextFiber.sibling;\n\t\t\t        nextFiber = nextFiber.parent;\n\t\t\t    }\n\t\t\t    if (nextFiber === renderDispatch.runtimeFiber.scheduledFiber)\n\t\t\t        renderDispatch.generateCommitList(nextFiber);\n\t\t\t    return null;\n\t\t\t};\n\t\t\tvar performToNextFiberFromRoot = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) || renderDispatch.isAppCrashed)\n\t\t\t        return null;\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__create__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__inherit__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerSync__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerSyncForce__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerConcurrent__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerConcurrentForce__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__retrigger__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__reschedule__)) {\n\t\t\t        fiber.state = myreactSharedExports.remove(fiber.state, myreactSharedExports.STATE_TYPE.__retrigger__);\n\t\t\t        currentRunningFiber$2.current = fiber;\n\t\t\t        {\n\t\t\t            runtimeNextWork(renderDispatch, fiber);\n\t\t\t        }\n\t\t\t        currentRunningFiber$2.current = null;\n\t\t\t        triggerFiberUpdateListener(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    if (!myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__retrigger__)) {\n\t\t\t        fiber.state = myreactSharedExports.STATE_TYPE.__stable__;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        fiber.state = myreactSharedExports.STATE_TYPE.__triggerSync__;\n\t\t\t    }\n\t\t\t    if (fiber.child)\n\t\t\t        return fiber.child;\n\t\t\t    var nextFiber = fiber;\n\t\t\t    while (nextFiber && nextFiber !== renderDispatch.runtimeFiber.scheduledFiber) {\n\t\t\t        renderDispatch.generateCommitList(nextFiber);\n\t\t\t        if (nextFiber.sibling)\n\t\t\t            return nextFiber.sibling;\n\t\t\t        nextFiber = nextFiber.parent;\n\t\t\t    }\n\t\t\t    if (nextFiber === renderDispatch.runtimeFiber.scheduledFiber)\n\t\t\t        renderDispatch.generateCommitList(nextFiber);\n\t\t\t    return null;\n\t\t\t};\n\n\t\t\tvar defaultGenerateEffectMap = function (fiber, effect, map, option) {\n\t\t\t    var list = map.get(fiber) || new myreactSharedExports.ListTree();\n\t\t\t    if (option) {\n\t\t\t        if (option.stickyToHead) {\n\t\t\t            list.pushToHead(effect);\n\t\t\t        }\n\t\t\t        else if (option.stickyToFoot) {\n\t\t\t            list.pushToLast(effect);\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            list.push(effect);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        list.push(effect);\n\t\t\t    }\n\t\t\t    map.set(fiber, list);\n\t\t\t};\n\t\t\tvar defaultInvokeEffect = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.patch, myreactSharedExports.PATCH_TYPE.__effect__)) {\n\t\t\t        var effectMap = renderDispatch.runtimeMap.effectMap;\n\t\t\t        var allEffect = effectMap.get(fiber);\n\t\t\t        effectMap.delete(fiber);\n\t\t\t        if (allEffect && allEffect.length) {\n\t\t\t            allEffect.listToFoot(function invokeEffect(effect) {\n\t\t\t                safeCallWithCurrentFiber({\n\t\t\t                    fiber: fiber,\n\t\t\t                    action: function safeCallEffect() {\n\t\t\t                        effect.call(null);\n\t\t\t                    },\n\t\t\t                });\n\t\t\t            });\n\t\t\t        }\n\t\t\t        fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__effect__);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar defaultInvokeLayoutEffect = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.patch, myreactSharedExports.PATCH_TYPE.__layoutEffect__)) {\n\t\t\t        var layoutEffectMap = renderDispatch.runtimeMap.layoutEffectMap;\n\t\t\t        var allLayoutEffect = layoutEffectMap.get(fiber);\n\t\t\t        layoutEffectMap.delete(fiber);\n\t\t\t        if (allLayoutEffect && allLayoutEffect.length) {\n\t\t\t            allLayoutEffect.listToFoot(function invokeLayoutEffect(effect) {\n\t\t\t                safeCallWithCurrentFiber({\n\t\t\t                    fiber: fiber,\n\t\t\t                    action: function safeCallLayoutEffect() {\n\t\t\t                        effect.call(null);\n\t\t\t                    },\n\t\t\t                });\n\t\t\t            });\n\t\t\t        }\n\t\t\t        fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__layoutEffect__);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar defaultInvokeInsertionEffect = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.patch, myreactSharedExports.PATCH_TYPE.__insertionEffect__)) {\n\t\t\t        var insertionEffectMap = renderDispatch.runtimeMap.insertionEffectMap;\n\t\t\t        var allInsertionEffect = insertionEffectMap.get(fiber);\n\t\t\t        insertionEffectMap.delete(fiber);\n\t\t\t        if (allInsertionEffect && allInsertionEffect.length) {\n\t\t\t            allInsertionEffect.listToFoot(function invokeInsertionEffect(effect) {\n\t\t\t                safeCallWithCurrentFiber({\n\t\t\t                    fiber: fiber,\n\t\t\t                    action: function safeCallInsertionEffect() {\n\t\t\t                        effect.call(null);\n\t\t\t                    },\n\t\t\t                });\n\t\t\t            });\n\t\t\t        }\n\t\t\t        fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__insertionEffect__);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar defaultDeleteCurrentEffect = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.patch, myreactSharedExports.PATCH_TYPE.__insertionEffect__)) {\n\t\t\t        var insertionEffectMap = renderDispatch.runtimeMap.insertionEffectMap;\n\t\t\t        insertionEffectMap.delete(fiber);\n\t\t\t        fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__insertionEffect__);\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.patch, myreactSharedExports.PATCH_TYPE.__layoutEffect__)) {\n\t\t\t        var layoutEffectMap = renderDispatch.runtimeMap.layoutEffectMap;\n\t\t\t        layoutEffectMap.delete(fiber);\n\t\t\t        fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__layoutEffect__);\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.patch, myreactSharedExports.PATCH_TYPE.__effect__)) {\n\t\t\t        var effectMap = renderDispatch.runtimeMap.effectMap;\n\t\t\t        effectMap.delete(fiber);\n\t\t\t        fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__effect__);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar defaultDeleteChildEffect = function (renderDispatch, fiber) {\n\t\t\t    var child = fiber.child;\n\t\t\t    while (child) {\n\t\t\t        defaultDeleteCurrentEffect(renderDispatch, child);\n\t\t\t        defaultDeleteChildEffect(renderDispatch, child);\n\t\t\t        child = child.sibling;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar effect = defaultInvokeEffect;\n\t\t\tvar layoutEffect = defaultInvokeLayoutEffect;\n\t\t\tvar insertionEffect = defaultInvokeInsertionEffect;\n\n\t\t\t// TODO use Symbol to avoid conflict\n\t\t\tvar defaultReadPromise = function (_promise) {\n\t\t\t    if (_promise.status === \"fulfilled\") {\n\t\t\t        return _promise._value;\n\t\t\t    }\n\t\t\t    else if (_promise.status === \"rejected\") {\n\t\t\t        throw _promise._reason;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        throw _promise;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar defaultResolveSuspenseValue = function (fiber) {\n\t\t\t    var _a;\n\t\t\t    var parent = fiber.parent;\n\t\t\t    while (parent) {\n\t\t\t        if (myreactSharedExports.include(parent.type, exports.NODE_TYPE.__suspense__)) {\n\t\t\t            return (_a = parent.pendingProps) === null || _a === void 0 ? void 0 : _a[\"fallback\"];\n\t\t\t        }\n\t\t\t        parent = parent.parent;\n\t\t\t    }\n\t\t\t    return null;\n\t\t\t};\n\t\t\tvar defaultResolveSuspenseFiber = function (fiber) {\n\t\t\t    var parent = fiber.parent;\n\t\t\t    while (parent) {\n\t\t\t        if (myreactSharedExports.include(parent.type, exports.NODE_TYPE.__suspense__)) {\n\t\t\t            return parent;\n\t\t\t        }\n\t\t\t        parent = parent.parent;\n\t\t\t    }\n\t\t\t    return null;\n\t\t\t};\n\t\t\tvar defaultResolveAliveSuspenseFiber = function (fiber) {\n\t\t\t    while (fiber) {\n\t\t\t        if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__suspense__) && myreactSharedExports.exclude(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__)) {\n\t\t\t            return fiber;\n\t\t\t        }\n\t\t\t        fiber = fiber.parent;\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar enableSuspenseRoot$2 = react.__my_react_shared__.enableSuspenseRoot;\n\t\t\tvar currentScheduler$d = react.__my_react_internal__.currentScheduler;\n\t\t\tvar mountLoopAllFromScheduler = function (renderDispatch) {\n\t\t\t    while (renderDispatch.runtimeFiber.nextWorkingFiber) {\n\t\t\t        renderDispatch.runtimeFiber.retriggerFiber = null;\n\t\t\t        var currentFiber = renderDispatch.runtimeFiber.nextWorkingFiber;\n\t\t\t        var nextFiber = mountToNextFiberFromRoot(renderDispatch, currentFiber);\n\t\t\t        var retriggerFiber = renderDispatch.runtimeFiber.retriggerFiber;\n\t\t\t        renderDispatch.runtimeFiber.nextWorkingFiber = retriggerFiber || nextFiber;\n\t\t\t        renderDispatch.runtimeFiber.retriggerFiber = null;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar mountLoopAll = function (renderDispatch, fiber) {\n\t\t\t    renderDispatch.runtimeFiber.scheduledFiber = fiber;\n\t\t\t    renderDispatch.runtimeFiber.nextWorkingFiber = fiber;\n\t\t\t    mountLoopAllFromScheduler(renderDispatch);\n\t\t\t};\n\t\t\tvar processAsyncLoadListOnAsyncMount = function (renderDispatch) { return __awaiter(void 0, void 0, void 0, function () {\n\t\t\t    var _loop_1, suspenseField_1, list;\n\t\t\t    return __generator(this, function (_a) {\n\t\t\t        switch (_a.label) {\n\t\t\t            case 0:\n\t\t\t                _loop_1 = function () {\n\t\t\t                    var node, suspenseField, list;\n\t\t\t                    return __generator(this, function (_b) {\n\t\t\t                        switch (_b.label) {\n\t\t\t                            case 0:\n\t\t\t                                node = renderDispatch.pendingSuspenseFiberArray.uniShift();\n\t\t\t                                suspenseField = getInstanceFieldByInstance(node.instance);\n\t\t\t                                renderDispatch.pendingSuspenseFiberArray.clear();\n\t\t\t                                list = suspenseField.asyncLoadList.getAll();\n\t\t\t                                return [4 /*yield*/, Promise.all(list.map(function (item) { return __awaiter(void 0, void 0, void 0, function () {\n\t\t\t                                        var set;\n\t\t\t                                        return __generator(this, function (_a) {\n\t\t\t                                            switch (_a.label) {\n\t\t\t                                                case 0:\n\t\t\t                                                    if (!myreactSharedExports.isPromise(item)) return [3 /*break*/, 2];\n\t\t\t                                                    return [4 /*yield*/, renderDispatch.processPromise(item)];\n\t\t\t                                                case 1:\n\t\t\t                                                    _a.sent();\n\t\t\t                                                    return [3 /*break*/, 4];\n\t\t\t                                                case 2: return [4 /*yield*/, renderDispatch.processLazy(item)];\n\t\t\t                                                case 3:\n\t\t\t                                                    _a.sent();\n\t\t\t                                                    _a.label = 4;\n\t\t\t                                                case 4:\n\t\t\t                                                    set = new Set(item._list);\n\t\t\t                                                    item._list.clear();\n\t\t\t                                                    set.forEach(function (node) {\n\t\t\t                                                        node.state = myreactSharedExports.remove(node.state, myreactSharedExports.STATE_TYPE.__stable__);\n\t\t\t                                                        node.state = myreactSharedExports.merge(node.state, myreactSharedExports.STATE_TYPE.__create__);\n\t\t\t                                                        mountLoopAll(renderDispatch, node);\n\t\t\t                                                    });\n\t\t\t                                                    suspenseField.asyncLoadList.uniDelete(item);\n\t\t\t                                                    return [2 /*return*/];\n\t\t\t                                            }\n\t\t\t                                        });\n\t\t\t                                    }); }))];\n\t\t\t                            case 1:\n\t\t\t                                _b.sent();\n\t\t\t                                return [2 /*return*/];\n\t\t\t                        }\n\t\t\t                    });\n\t\t\t                };\n\t\t\t                _a.label = 1;\n\t\t\t            case 1:\n\t\t\t                if (!renderDispatch.pendingSuspenseFiberArray.length) return [3 /*break*/, 3];\n\t\t\t                return [5 /*yield**/, _loop_1()];\n\t\t\t            case 2:\n\t\t\t                _a.sent();\n\t\t\t                return [3 /*break*/, 1];\n\t\t\t            case 3:\n\t\t\t                if (!enableSuspenseRoot$2.current) return [3 /*break*/, 5];\n\t\t\t                suspenseField_1 = getInstanceFieldByInstance(renderDispatch);\n\t\t\t                list = suspenseField_1.asyncLoadList.getAll();\n\t\t\t                if (list.length === 0)\n\t\t\t                    return [2 /*return*/];\n\t\t\t                return [4 /*yield*/, Promise.all(list.map(function (item) { return __awaiter(void 0, void 0, void 0, function () {\n\t\t\t                        var set;\n\t\t\t                        return __generator(this, function (_a) {\n\t\t\t                            switch (_a.label) {\n\t\t\t                                case 0:\n\t\t\t                                    if (!myreactSharedExports.isPromise(item)) return [3 /*break*/, 2];\n\t\t\t                                    return [4 /*yield*/, renderDispatch.processPromise(item)];\n\t\t\t                                case 1:\n\t\t\t                                    _a.sent();\n\t\t\t                                    return [3 /*break*/, 4];\n\t\t\t                                case 2: return [4 /*yield*/, renderDispatch.processLazy(item)];\n\t\t\t                                case 3:\n\t\t\t                                    _a.sent();\n\t\t\t                                    _a.label = 4;\n\t\t\t                                case 4:\n\t\t\t                                    set = new Set(item._list);\n\t\t\t                                    item._list.clear();\n\t\t\t                                    set.forEach(function (node) {\n\t\t\t                                        node.state = myreactSharedExports.remove(node.state, myreactSharedExports.STATE_TYPE.__stable__);\n\t\t\t                                        node.state = myreactSharedExports.merge(node.state, myreactSharedExports.STATE_TYPE.__create__);\n\t\t\t                                        mountLoopAll(renderDispatch, node);\n\t\t\t                                    });\n\t\t\t                                    suspenseField_1.asyncLoadList.uniDelete(item);\n\t\t\t                                    return [2 /*return*/];\n\t\t\t                            }\n\t\t\t                        });\n\t\t\t                    }); }))];\n\t\t\t            case 4:\n\t\t\t                _a.sent();\n\t\t\t                processAsyncLoadListOnAsyncMount(renderDispatch);\n\t\t\t                _a.label = 5;\n\t\t\t            case 5: return [2 /*return*/];\n\t\t\t        }\n\t\t\t    });\n\t\t\t}); };\n\t\t\tvar processAsyncLoadListOnSyncMount = function (renderDispatch) {\n\t\t\t    var _a;\n\t\t\t    if ((_a = renderDispatch.pendingSuspenseFiberArray) === null || _a === void 0 ? void 0 : _a.length) {\n\t\t\t        var allPendingSuspenseFiberArray = renderDispatch.pendingSuspenseFiberArray.getAll();\n\t\t\t        if (renderDispatch.enableAsyncLoad) {\n\t\t\t            var allField_1 = [];\n\t\t\t            allPendingSuspenseFiberArray.forEach(function (node) {\n\t\t\t                defaultDeleteChildEffect(renderDispatch, node);\n\t\t\t                var field = getInstanceFieldByInstance(node.instance);\n\t\t\t                var allPendingLoadArray = field.asyncLoadList.getAll().filter(function (item) {\n\t\t\t                    if (myreactSharedExports.isPromise(item)) {\n\t\t\t                        return typeof item.status !== \"string\";\n\t\t\t                    }\n\t\t\t                    else {\n\t\t\t                        return !item._loading && !item._loaded && !item._error;\n\t\t\t                    }\n\t\t\t                });\n\t\t\t                if (allPendingLoadArray.length) {\n\t\t\t                    Promise.all(allPendingLoadArray.map(function (item) { return __awaiter(void 0, void 0, void 0, function () {\n\t\t\t                        var _a;\n\t\t\t                        return __generator(this, function (_b) {\n\t\t\t                            switch (_b.label) {\n\t\t\t                                case 0:\n\t\t\t                                    if (!myreactSharedExports.isPromise(item)) return [3 /*break*/, 2];\n\t\t\t                                    return [4 /*yield*/, renderDispatch.processPromise(item)];\n\t\t\t                                case 1:\n\t\t\t                                    _b.sent();\n\t\t\t                                    return [3 /*break*/, 4];\n\t\t\t                                case 2: return [4 /*yield*/, renderDispatch.processLazy(item)];\n\t\t\t                                case 3:\n\t\t\t                                    _b.sent();\n\t\t\t                                    _b.label = 4;\n\t\t\t                                case 4:\n\t\t\t                                    (_a = item._list) === null || _a === void 0 ? void 0 : _a.clear();\n\t\t\t                                    field.asyncLoadList.uniDelete(item);\n\t\t\t                                    return [2 /*return*/];\n\t\t\t                            }\n\t\t\t                        });\n\t\t\t                    }); })).then(function () {\n\t\t\t                        var aliveNode = defaultResolveAliveSuspenseFiber(node);\n\t\t\t                        aliveNode.state = myreactSharedExports.STATE_TYPE.__triggerSyncForce__;\n\t\t\t                        var renderScheduler = currentScheduler$d.current;\n\t\t\t                        var updater = {\n\t\t\t                            type: myreactSharedExports.UpdateQueueType.suspense,\n\t\t\t                            trigger: aliveNode,\n\t\t\t                            isSync: true,\n\t\t\t                            isForce: true,\n\t\t\t                            payLoad: allPendingLoadArray,\n\t\t\t                        };\n\t\t\t                        renderScheduler.dispatchState(updater);\n\t\t\t                    });\n\t\t\t                }\n\t\t\t                node.state = myreactSharedExports.STATE_TYPE.__create__;\n\t\t\t                field.isHidden = true;\n\t\t\t                allField_1.push(field);\n\t\t\t            });\n\t\t\t            var root = renderDispatch.rootFiber;\n\t\t\t            root.state = myreactSharedExports.remove(root.state, myreactSharedExports.STATE_TYPE.__stable__);\n\t\t\t            root.state = myreactSharedExports.merge(root.state, myreactSharedExports.STATE_TYPE.__retrigger__);\n\t\t\t            // TODO use hide tree to improve\n\t\t\t            mountLoopAll(renderDispatch, root);\n\t\t\t            allField_1.forEach(function (field) { return (field.isHidden = false); });\n\t\t\t            renderDispatch.pendingSuspenseFiberArray.clear();\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            throw new Error(\"[@my-react/reconciler] should not process async load list on sync mount without enableAsyncLoad, you may use a wrong renderDispatch instance\");\n\t\t\t        }\n\t\t\t    }\n\t\t\t    // TODO update flow\n\t\t\t    // if (enableSuspenseRoot.current) {\n\t\t\t    //   const suspenseField = getInstanceFieldByInstance(renderDispatch) as SuspenseInstanceField;\n\t\t\t    //   const list = suspenseField.asyncLoadList.getAll();\n\t\t\t    //   if (list.length === 0) return;\n\t\t\t    //   if (renderDispatch.enableAsyncLoad) {\n\t\t\t    //     defaultDeleteCurrentEffect(renderDispatch, renderDispatch.rootFiber);\n\t\t\t    //     defaultDeleteChildEffect(renderDispatch, renderDispatch.rootFiber);\n\t\t\t    //     const allPendingLoadArray = list.filter((item) => {\n\t\t\t    //       if (isPromise(item)) {\n\t\t\t    //         return typeof item.status !== \"string\";\n\t\t\t    //       } else {\n\t\t\t    //         return !item._loading && !item._loaded && !item._error;\n\t\t\t    //       }\n\t\t\t    //     });\n\t\t\t    //     if (allPendingLoadArray.length) {\n\t\t\t    //       Promise.all(\n\t\t\t    //         allPendingLoadArray.map(async (item) => {\n\t\t\t    //           if (isPromise(item)) {\n\t\t\t    //             await renderDispatch.processPromise(item);\n\t\t\t    //           } else {\n\t\t\t    //             await renderDispatch.processLazy(item);\n\t\t\t    //           }\n\t\t\t    //           item._list?.clear();\n\t\t\t    //           suspenseField.asyncLoadList.uniDelete(item);\n\t\t\t    //         })\n\t\t\t    //       ).then(() => {\n\t\t\t    //         const aliveNode = defaultResolveAliveSuspenseFiber(node);\n\t\t\t    //         aliveNode.state = STATE_TYPE.__triggerSyncForce__;\n\t\t\t    //         const renderScheduler = currentScheduler.current;\n\t\t\t    //         const updater: SuspenseUpdateQueue = {\n\t\t\t    //           type: UpdateQueueType.suspense,\n\t\t\t    //           trigger: aliveNode,\n\t\t\t    //           isSync: true,\n\t\t\t    //           isForce: true,\n\t\t\t    //           payLoad: allPendingLoadArray,\n\t\t\t    //         };\n\t\t\t    //         renderScheduler.dispatchState(updater);\n\t\t\t    //       });\n\t\t\t    //     }\n\t\t\t    //     suspenseField.isHidden = true;\n\t\t\t    //     const root = renderDispatch.rootFiber;\n\t\t\t    //     root.state = remove(root.state, STATE_TYPE.__stable__);\n\t\t\t    //     root.state = merge(root.state, STATE_TYPE.__retrigger__);\n\t\t\t    //     // TODO use hide tree to improve\n\t\t\t    //     mountLoopAll(renderDispatch, root);\n\t\t\t    //     suspenseField.isHidden = false;\n\t\t\t    //   } else {\n\t\t\t    //     throw new Error(\n\t\t\t    //       \"[@my-react/reconciler] should not process async load list on sync mount without enableAsyncLoad, you may use a wrong renderDispatch instance\"\n\t\t\t    //     );\n\t\t\t    //   }\n\t\t\t    // }\n\t\t\t};\n\n\t\t\texports.updateTypeEnum = void 0;\n\t\t\t(function (updateTypeEnum) {\n\t\t\t    updateTypeEnum[updateTypeEnum[\"syncFromRoot\"] = 0] = \"syncFromRoot\";\n\t\t\t    updateTypeEnum[updateTypeEnum[\"syncFromTrigger\"] = 1] = \"syncFromTrigger\";\n\t\t\t    updateTypeEnum[updateTypeEnum[\"concurrentFromRoot\"] = 2] = \"concurrentFromRoot\";\n\t\t\t    updateTypeEnum[updateTypeEnum[\"concurrentFromTrigger\"] = 3] = \"concurrentFromTrigger\";\n\t\t\t})(exports.updateTypeEnum || (exports.updateTypeEnum = {}));\n\t\t\tvar triggerFiberUpdateListener = function (renderDispatch, fiber) {\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallPatchToFiberUpdate() {\n\t\t\t            var _a;\n\t\t\t            (_a = renderDispatch.patchToFiberUpdate) === null || _a === void 0 ? void 0 : _a.call(renderDispatch, fiber);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberUpdateListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberUpdate) === null || _b === void 0 ? void 0 : _b.forEach(function (listener) { return listener(fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t};\n\t\t\tvar updateLoopSyncFromRoot = function (renderDispatch) {\n\t\t\t    while (renderDispatch.runtimeFiber.nextWorkingFiber) {\n\t\t\t        renderDispatch.runtimeFiber.retriggerFiber = null;\n\t\t\t        var currentFiber = renderDispatch.runtimeFiber.nextWorkingFiber;\n\t\t\t        var nextFiber = performToNextFiberFromRoot(renderDispatch, currentFiber);\n\t\t\t        var retriggerFiber = renderDispatch.runtimeFiber.retriggerFiber;\n\t\t\t        renderDispatch.runtimeFiber.nextWorkingFiber = retriggerFiber || nextFiber;\n\t\t\t        renderDispatch.runtimeFiber.retriggerFiber = null;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar updateLoopConcurrentFromRoot = function (renderDispatch) {\n\t\t\t    while (renderDispatch.runtimeFiber.nextWorkingFiber && !renderDispatch.shouldYield()) {\n\t\t\t        renderDispatch.runtimeFiber.retriggerFiber = null;\n\t\t\t        var currentFiber = renderDispatch.runtimeFiber.nextWorkingFiber;\n\t\t\t        var nextFiber = performToNextFiberFromRoot(renderDispatch, currentFiber);\n\t\t\t        var retriggerFiber = renderDispatch.runtimeFiber.retriggerFiber;\n\t\t\t        renderDispatch.runtimeFiber.nextWorkingFiber = retriggerFiber || nextFiber;\n\t\t\t        renderDispatch.runtimeFiber.retriggerFiber = null;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processAsyncLoadListOnUpdate = processAsyncLoadListOnSyncMount;\n\n\t\t\tvar isErrorBoundariesInstance = function (instance, Component) {\n\t\t\t    return typeof instance.componentDidCatch === \"function\" || typeof Component.getDerivedStateFromError === \"function\";\n\t\t\t};\n\t\t\tvar isErrorBoundariesComponent = function (fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__class__) && myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__stable__)) {\n\t\t\t        var Component = fiber.elementType;\n\t\t\t        var typedComponent = Component;\n\t\t\t        var typedInstance = fiber.instance;\n\t\t\t        return isErrorBoundariesInstance(typedInstance, typedComponent);\n\t\t\t    }\n\t\t\t    return false;\n\t\t\t};\n\t\t\tvar defaultResolveErrorBoundaries = function (fiber) {\n\t\t\t    var parent = fiber.parent;\n\t\t\t    while (parent) {\n\t\t\t        if (isErrorBoundariesComponent(parent)) {\n\t\t\t            return parent;\n\t\t\t        }\n\t\t\t        parent = parent.parent;\n\t\t\t    }\n\t\t\t    return null;\n\t\t\t};\n\n\t\t\tvar initClassInstance = function (instance) {\n\t\t\t    var field = getInstanceFieldByInstance(instance);\n\t\t\t    if (!field)\n\t\t\t        throw new Error(\"[@my-react/react] can not find instance field for component, look like a bug for @my-react\");\n\t\t\t    var typedField = field;\n\t\t\t    typedField.isMounted = false;\n\t\t\t};\n\t\t\tvar mountClassInstance = function (instance) {\n\t\t\t    var field = getInstanceFieldByInstance(instance);\n\t\t\t    if (!field)\n\t\t\t        throw new Error(\"[@my-react/react] can not find instance field for component, look like a bug for @my-react\");\n\t\t\t    var typedField = field;\n\t\t\t    typedField.isMounted = true;\n\t\t\t};\n\t\t\tvar getClassInstanceFieldByInstance = function (instance) {\n\t\t\t    var field = getInstanceFieldByInstance(instance);\n\t\t\t    if (!field)\n\t\t\t        throw new Error(\"[@my-react/react] can not find instance field for component, look like a bug for @my-react\");\n\t\t\t    return field;\n\t\t\t};\n\n\t\t\t/* eslint-disable max-lines */\n\t\t\tvar enableLegacyLifeCycle = react.__my_react_shared__.enableLegacyLifeCycle;\n\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t// @ts-ignore\n\t\t\tif (!Object.prototype.hasOwnProperty.call(react.Component.prototype, \"_reactInternals\")) {\n\t\t\t    Object.defineProperty(react.Component.prototype, \"_reactInternals\", {\n\t\t\t        get: function () {\n\t\t\t            return getInstanceOwnerFiber(this);\n\t\t\t        },\n\t\t\t        set: function () {\n\t\t\t            // do nothing\n\t\t\t        },\n\t\t\t        configurable: false,\n\t\t\t    });\n\t\t\t}\n\t\t\tvar processComponentStateFromProps = function (fiber) {\n\t\t\t    var Component = fiber.elementType;\n\t\t\t    var typedComponent = Component;\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var pendingProps = fiber.pendingProps;\n\t\t\t    var pendingState = fiber.pendingState;\n\t\t\t    if (typedComponent.getDerivedStateFromProps) {\n\t\t\t        var payloadState = safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallGetDerivedStateFromProps() {\n\t\t\t                var _a;\n\t\t\t                return (_a = typedComponent.getDerivedStateFromProps) === null || _a === void 0 ? void 0 : _a.call(typedComponent, pendingProps, pendingState);\n\t\t\t            },\n\t\t\t        });\n\t\t\t        if (payloadState) {\n\t\t\t            var newState = Object.assign({}, pendingState, payloadState);\n\t\t\t            typedInstance.state = newState;\n\t\t\t            fiber.pendingState = newState;\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processComponentInstanceOnMount = function (renderDispatch, fiber) {\n\t\t\t    var Component = fiber.elementType;\n\t\t\t    var typedComponent = Component;\n\t\t\t    var providerFiber = renderDispatch.resolveContextFiber(fiber, typedComponent.contextType);\n\t\t\t    var context = renderDispatch.resolveContextValue(providerFiber, typedComponent.contextType);\n\t\t\t    var props = Object.assign({}, fiber.pendingProps);\n\t\t\t    var instance = safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallCreateComponentInstance() {\n\t\t\t            return new typedComponent(props, context);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallInstanceInitialListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.instanceInitial) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(instance, fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    instance.props = props;\n\t\t\t    instance.context = context;\n\t\t\t    fiber.instance = instance;\n\t\t\t    initInstance(instance);\n\t\t\t    initClassInstance(instance);\n\t\t\t    setOwnerForInstance(instance, fiber);\n\t\t\t    setContextForInstance(instance, providerFiber);\n\t\t\t    fiber.pendingState = instance.state;\n\t\t\t};\n\t\t\tvar processComponentFiberOnUpdate = function (renderDispatch, fiber) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallInstanceUpdateListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.instanceUpdate) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(typedInstance, fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    setOwnerForInstance(typedInstance, fiber);\n\t\t\t};\n\t\t\tvar processComponentRenderOnMountAndUpdate = function (fiber) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var children = safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallRender() {\n\t\t\t            return typedInstance.render();\n\t\t\t        },\n\t\t\t    });\n\t\t\t    return children;\n\t\t\t};\n\t\t\tvar processComponentDidMountOnMount = function (renderDispatch, fiber) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var effect = getInstanceEffectState(typedInstance);\n\t\t\t    if (myreactSharedExports.exclude(effect, myreactSharedExports.Effect_TYPE.__effect__)) {\n\t\t\t        setEffectForInstance(typedInstance, myreactSharedExports.Effect_TYPE.__effect__);\n\t\t\t        renderDispatch.pendingLayoutEffect(fiber, function invokeComponentDidMountOnInstance() {\n\t\t\t            var _a;\n\t\t\t            setEffectForInstance(typedInstance, myreactSharedExports.Effect_TYPE.__initial__);\n\t\t\t            (_a = typedInstance.componentDidMount) === null || _a === void 0 ? void 0 : _a.call(typedInstance);\n\t\t\t            mountClassInstance(typedInstance);\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processComponentContextOnUpdate = function (renderDispatch, fiber) {\n\t\t\t    var Component = fiber.elementType;\n\t\t\t    var typedComponent = Component;\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    if (typedComponent.contextType) {\n\t\t\t        var contextFiber = getInstanceContextFiber(typedInstance);\n\t\t\t        if (!contextFiber || myreactSharedExports.include(contextFiber.state, myreactSharedExports.STATE_TYPE.__unmount__)) {\n\t\t\t            var providerFiber = renderDispatch.resolveContextFiber(fiber, typedComponent.contextType);\n\t\t\t            var context = renderDispatch.resolveContextValue(providerFiber, typedComponent.contextType);\n\t\t\t            setContextForInstance(typedInstance, providerFiber);\n\t\t\t            return context;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            var context = renderDispatch.resolveContextValue(contextFiber, typedComponent.contextType);\n\t\t\t            setContextForInstance(typedInstance, contextFiber);\n\t\t\t            return context;\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processComponentPropsAndContextOnActive = function (renderDispatch, fiber) {\n\t\t\t    var props = Object.assign({}, fiber.pendingProps);\n\t\t\t    var context = processComponentContextOnUpdate(renderDispatch, fiber);\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    typedInstance.props = props;\n\t\t\t    typedInstance.context = context;\n\t\t\t};\n\t\t\tvar processComponentShouldUpdateOnUpdate = function (fiber, _a) {\n\t\t\t    var nextState = _a.nextState, nextProps = _a.nextProps, nextContext = _a.nextContext;\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    // if (include(fiber.state, STATE_TYPE.__triggerSync__ | STATE_TYPE.__triggerConcurrent__)) return true;\n\t\t\t    if (typedInstance.shouldComponentUpdate) {\n\t\t\t        return safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallShouldComponentUpdateOnInstance() {\n\t\t\t                var _a;\n\t\t\t                return (_a = typedInstance.shouldComponentUpdate) === null || _a === void 0 ? void 0 : _a.call(typedInstance, nextProps, nextState, nextContext);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    return true;\n\t\t\t};\n\t\t\tvar processComponentGetSnapshotOnUpdate = function (fiber, _a) {\n\t\t\t    var baseState = _a.baseState, baseProps = _a.baseProps;\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    if (typedInstance.getSnapshotBeforeUpdate) {\n\t\t\t        return safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallGetSnapshotBeforeUpdateOnInstance() {\n\t\t\t                var _a;\n\t\t\t                return (_a = typedInstance.getSnapshotBeforeUpdate) === null || _a === void 0 ? void 0 : _a.call(typedInstance, baseProps, baseState);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    return null;\n\t\t\t};\n\t\t\tvar processComponentDidUpdateOnUpdate = function (renderDispatch, fiber, _a) {\n\t\t\t    var baseState = _a.baseState, baseProps = _a.baseProps, snapshot = _a.snapshot;\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var effect = getInstanceEffectState(typedInstance);\n\t\t\t    if (typedInstance.componentDidUpdate && myreactSharedExports.exclude(effect, myreactSharedExports.Effect_TYPE.__effect__)) {\n\t\t\t        setEffectForInstance(typedInstance, myreactSharedExports.Effect_TYPE.__effect__);\n\t\t\t        renderDispatch.pendingLayoutEffect(fiber, function invokeComponentDidUpdateOnInstance() {\n\t\t\t            var _a;\n\t\t\t            setEffectForInstance(typedInstance, myreactSharedExports.Effect_TYPE.__initial__);\n\t\t\t            (_a = typedInstance.componentDidUpdate) === null || _a === void 0 ? void 0 : _a.call(typedInstance, baseProps, baseState, snapshot);\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tvar processComponentWillMountOnMount = function (fiber) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var hasLegacyLifeFunction = false;\n\t\t\t    if (typedInstance.UNSAFE_componentWillMount) {\n\t\t\t        hasLegacyLifeFunction = true;\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallUNSAFE_componentWillMountOnInstance() {\n\t\t\t                var _a;\n\t\t\t                (_a = typedInstance.UNSAFE_componentWillMount) === null || _a === void 0 ? void 0 : _a.call(typedInstance);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    if (typedInstance.componentWillMount) {\n\t\t\t        hasLegacyLifeFunction = true;\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallComponentWillMountOnInstance() {\n\t\t\t                var _a;\n\t\t\t                (_a = typedInstance.componentWillMount) === null || _a === void 0 ? void 0 : _a.call(typedInstance);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    return hasLegacyLifeFunction;\n\t\t\t};\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tvar processComponentWillReceiveProps = function (fiber) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var hasLegacyLifeFunction = false;\n\t\t\t    // only trigger on parent component update\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__inherit__)) {\n\t\t\t        if (typedInstance.UNSAFE_componentWillReceiveProps) {\n\t\t\t            hasLegacyLifeFunction = true;\n\t\t\t            var nextProps_1 = Object.assign({}, fiber.pendingProps);\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: fiber,\n\t\t\t                action: function safeCallUNSAFE_componentWillReceivePropsOnInstance() {\n\t\t\t                    var _a;\n\t\t\t                    (_a = typedInstance.UNSAFE_componentWillReceiveProps) === null || _a === void 0 ? void 0 : _a.call(typedInstance, nextProps_1);\n\t\t\t                },\n\t\t\t            });\n\t\t\t        }\n\t\t\t        if (typedInstance.componentWillReceiveProps) {\n\t\t\t            hasLegacyLifeFunction = true;\n\t\t\t            var nextProps_2 = Object.assign({}, fiber.pendingProps);\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: fiber,\n\t\t\t                action: function safeCallComponentWillReceivePropsOnInstance() {\n\t\t\t                    var _a;\n\t\t\t                    (_a = typedInstance.componentWillReceiveProps) === null || _a === void 0 ? void 0 : _a.call(typedInstance, nextProps_2);\n\t\t\t                },\n\t\t\t            });\n\t\t\t        }\n\t\t\t    }\n\t\t\t    return hasLegacyLifeFunction;\n\t\t\t};\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tvar processComponentWillUpdate = function (fiber, _a) {\n\t\t\t    var nextProps = _a.nextProps, nextState = _a.nextState;\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    if (typedInstance.UNSAFE_componentWillUpdate) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallUNSAFE_componentWillUpdateOnInstance() {\n\t\t\t                var _a;\n\t\t\t                (_a = typedInstance.UNSAFE_componentWillUpdate) === null || _a === void 0 ? void 0 : _a.call(typedInstance, nextProps, nextState);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    if (typedInstance.componentWillUpdate) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallComponentWillUpdateOnInstance() {\n\t\t\t                var _a;\n\t\t\t                (_a = typedInstance.componentWillUpdate) === null || _a === void 0 ? void 0 : _a.call(typedInstance, nextProps, nextState);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processClassComponentMount = function (renderDispatch, fiber) {\n\t\t\t    processComponentInstanceOnMount(renderDispatch, fiber);\n\t\t\t    processComponentStateFromProps(fiber);\n\t\t\t    // legacy lifeCycle\n\t\t\t    if (enableLegacyLifeCycle.current) {\n\t\t\t        beforeSyncFlush();\n\t\t\t        processComponentWillMountOnMount(fiber) && syncFlushComponentQueue(renderDispatch, fiber);\n\t\t\t        afterSyncFlush();\n\t\t\t    }\n\t\t\t    var children = processComponentRenderOnMountAndUpdate(fiber);\n\t\t\t    processComponentDidMountOnMount(renderDispatch, fiber);\n\t\t\t    return children;\n\t\t\t};\n\t\t\t// TODO\n\t\t\tvar processClassComponentActive = function (renderDispatch, fiber) {\n\t\t\t    processComponentFiberOnUpdate(renderDispatch, fiber);\n\t\t\t    processComponentPropsAndContextOnActive(renderDispatch, fiber);\n\t\t\t    var children = processComponentRenderOnMountAndUpdate(fiber);\n\t\t\t    processComponentDidMountOnMount(renderDispatch, fiber);\n\t\t\t    return children;\n\t\t\t};\n\t\t\t// TODO\n\t\t\tvar classComponentUpdateImpl = function (renderDispatch, fiber) {\n\t\t\t    processComponentFiberOnUpdate(renderDispatch, fiber);\n\t\t\t    processComponentStateFromProps(fiber);\n\t\t\t    if (enableLegacyLifeCycle.current) {\n\t\t\t        beforeSyncFlush();\n\t\t\t        processComponentWillReceiveProps(fiber) && syncFlushComponentQueue(renderDispatch, fiber);\n\t\t\t        afterSyncFlush();\n\t\t\t    }\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var baseState = typedInstance.state;\n\t\t\t    var baseProps = typedInstance.props;\n\t\t\t    // const baseContext = typedInstance.context;\n\t\t\t    var nextState = Object.assign({}, fiber.pendingState);\n\t\t\t    var nextProps = Object.assign({}, fiber.pendingProps);\n\t\t\t    var nextContext = processComponentContextOnUpdate(renderDispatch, fiber);\n\t\t\t    var shouldUpdate = Boolean(myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__triggerSyncForce__ | myreactSharedExports.STATE_TYPE.__triggerConcurrentForce__));\n\t\t\t    if (!shouldUpdate) {\n\t\t\t        shouldUpdate = processComponentShouldUpdateOnUpdate(fiber, {\n\t\t\t            nextState: nextState,\n\t\t\t            nextProps: nextProps,\n\t\t\t            nextContext: nextContext,\n\t\t\t        });\n\t\t\t    }\n\t\t\t    if (shouldUpdate && enableLegacyLifeCycle.current) {\n\t\t\t        processComponentWillUpdate(fiber, { nextProps: nextProps, nextState: nextState });\n\t\t\t    }\n\t\t\t    typedInstance.state = nextState;\n\t\t\t    typedInstance.props = nextProps;\n\t\t\t    typedInstance.context = nextContext;\n\t\t\t    if (shouldUpdate) {\n\t\t\t        var children = processComponentRenderOnMountAndUpdate(fiber);\n\t\t\t        var snapshot = processComponentGetSnapshotOnUpdate(fiber, { baseState: baseState, baseProps: baseProps });\n\t\t\t        processComponentDidUpdateOnUpdate(renderDispatch, fiber, {\n\t\t\t            snapshot: snapshot,\n\t\t\t            baseProps: baseProps,\n\t\t\t            baseState: baseState,\n\t\t\t        });\n\t\t\t        return { updated: true, children: children };\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        return { updated: false };\n\t\t\t    }\n\t\t\t};\n\t\t\tvar syncComponentStateToFiber = function (fiber) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    // sync pendingState\n\t\t\t    fiber.pendingState = Object.assign({}, typedInstance.state);\n\t\t\t};\n\t\t\tvar processClassComponentUpdate = function (renderDispatch, fiber) {\n\t\t\t    var res = classComponentUpdateImpl(renderDispatch, fiber);\n\t\t\t    syncComponentStateToFiber(fiber);\n\t\t\t    return res;\n\t\t\t};\n\t\t\tvar processClassComponentUnmount = function (renderDispatch, fiber) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    if (!typedInstance)\n\t\t\t        return;\n\t\t\t    var classField = getInstanceFieldByInstance(typedInstance);\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallInstanceUnmountListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.instanceUnmount) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(typedInstance, fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallComponentWillUnmountOnInstance() {\n\t\t\t            var _a;\n\t\t\t            if (classField.isMounted) {\n\t\t\t                (_a = typedInstance === null || typedInstance === void 0 ? void 0 : typedInstance.componentWillUnmount) === null || _a === void 0 ? void 0 : _a.call(typedInstance);\n\t\t\t            }\n\t\t\t        },\n\t\t\t    });\n\t\t\t};\n\n\t\t\t/* eslint-disable max-lines */\n\t\t\treact.__my_react_shared__.enableDebugFiled;\n\t\t\tvar currentScheduler$c = react.__my_react_internal__.currentScheduler;\n\t\t\t// TODO 整合\n\t\t\tvar processClassComponentUpdateQueue = function (renderDispatch, fiber, enableTaskPriority) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    if (myreactSharedExports.exclude(fiber.type, exports.NODE_TYPE.__class__))\n\t\t\t        throw new Error(\"[@my-react/react] current fiber is not a class component, look like a bug for @my-react\");\n\t\t\t    var renderScheduler = currentScheduler$c.current;\n\t\t\t    var allQueue = fiber.updateQueue;\n\t\t\t    var node = allQueue === null || allQueue === void 0 ? void 0 : allQueue.head;\n\t\t\t    var needUpdate = true;\n\t\t\t    var isSync = false;\n\t\t\t    var isForce = false;\n\t\t\t    var isImmediate = false;\n\t\t\t    var isRetrigger = false;\n\t\t\t    var callbacks = [];\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var baseState = Object.assign({}, fiber.pendingState);\n\t\t\t    var baseProps = Object.assign({}, typedInstance.props);\n\t\t\t    var pendingState = Object.assign({}, fiber.pendingState);\n\t\t\t    if (enableTaskPriority && allQueue.some(function (l) { return l.isSync; })) {\n\t\t\t        var _loop_1 = function () {\n\t\t\t            var updater = node.value;\n\t\t\t            var nextNode = node.next;\n\t\t\t            if (updater.type === myreactSharedExports.UpdateQueueType.component && updater.isSync) {\n\t\t\t                allQueue.delete(node);\n\t\t\t                var payLoad_1 = updater.payLoad;\n\t\t\t                fiber.pendingState = safeCallWithCurrentFiber({\n\t\t\t                    fiber: fiber,\n\t\t\t                    fallback: function safeFallbackForState() {\n\t\t\t                        return pendingState;\n\t\t\t                    },\n\t\t\t                    action: function safeGetNextState() {\n\t\t\t                        return Object.assign({}, fiber.pendingState, typeof payLoad_1 === \"function\" ? payLoad_1(baseState, baseProps) : payLoad_1);\n\t\t\t                    },\n\t\t\t                });\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t            }\n\t\t\t            else if (updater.isSync) {\n\t\t\t                allQueue.delete(node);\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t            }\n\t\t\t            node = nextNode;\n\t\t\t        };\n\t\t\t        while (node) {\n\t\t\t            _loop_1();\n\t\t\t        }\n\t\t\t        if (allQueue.length) {\n\t\t\t            renderScheduler.macroTask(function prepareUpdateOnFiberTask() {\n\t\t\t                prepareUpdateOnFiber(renderDispatch, fiber, true);\n\t\t\t            });\n\t\t\t        }\n\t\t\t        var invokeCallbackArray = callbacks.length\n\t\t\t            ? function invokeCallbackArray() {\n\t\t\t                return callbacks.forEach(function (cb) { return cb === null || cb === void 0 ? void 0 : cb(); });\n\t\t\t            }\n\t\t\t            : void 0;\n\t\t\t        {\n\t\t\t            return {\n\t\t\t                needUpdate: needUpdate,\n\t\t\t                isSync: isSync,\n\t\t\t                isForce: isForce,\n\t\t\t                isImmediate: isImmediate,\n\t\t\t                isRetrigger: isRetrigger,\n\t\t\t                callback: invokeCallbackArray,\n\t\t\t            };\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        var _loop_2 = function () {\n\t\t\t            var updater = node.value;\n\t\t\t            var nextNode = node.next;\n\t\t\t            if (updater.type === myreactSharedExports.UpdateQueueType.component) {\n\t\t\t                allQueue.delete(node);\n\t\t\t                var payLoad_2 = updater.payLoad;\n\t\t\t                fiber.pendingState = safeCallWithCurrentFiber({\n\t\t\t                    fiber: fiber,\n\t\t\t                    fallback: function safeFallbackForState() {\n\t\t\t                        return pendingState;\n\t\t\t                    },\n\t\t\t                    action: function safeGetNextState() {\n\t\t\t                        return Object.assign({}, fiber.pendingState, typeof payLoad_2 === \"function\" ? payLoad_2(baseState, baseProps) : payLoad_2);\n\t\t\t                    },\n\t\t\t                });\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                allQueue.delete(node);\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t            }\n\t\t\t            node = nextNode;\n\t\t\t        };\n\t\t\t        while (node) {\n\t\t\t            _loop_2();\n\t\t\t        }\n\t\t\t        var invokeCallbackArray = callbacks.length\n\t\t\t            ? function invokeCallbackArray() {\n\t\t\t                return callbacks.forEach(function (cb) { return cb === null || cb === void 0 ? void 0 : cb(); });\n\t\t\t            }\n\t\t\t            : void 0;\n\t\t\t        {\n\t\t\t            return {\n\t\t\t                needUpdate: needUpdate,\n\t\t\t                isSync: isSync,\n\t\t\t                isForce: isForce,\n\t\t\t                isImmediate: isImmediate,\n\t\t\t                isRetrigger: isRetrigger,\n\t\t\t                callback: invokeCallbackArray,\n\t\t\t            };\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processFunctionComponentUpdateQueue = function (renderDispatch, fiber, enableTaskPriority) {\n\t\t\t    var _a, _b;\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    if (myreactSharedExports.exclude(fiber.type, exports.NODE_TYPE.__function__)) {\n\t\t\t        throw new Error(\"[@my-react/react] current fiber is not a function component, look like a bug for @my-react\");\n\t\t\t    }\n\t\t\t    var renderScheduler = currentScheduler$c.current;\n\t\t\t    var allQueue = fiber.updateQueue;\n\t\t\t    var node = allQueue === null || allQueue === void 0 ? void 0 : allQueue.head;\n\t\t\t    var needUpdate = false;\n\t\t\t    var isSync = false;\n\t\t\t    var isForce = false;\n\t\t\t    var isImmediate = false;\n\t\t\t    var isRetrigger = false;\n\t\t\t    var callbacks = [];\n\t\t\t    if (enableTaskPriority && allQueue.some(function (l) { return l.isSync; })) {\n\t\t\t        var _loop_3 = function () {\n\t\t\t            var updater = node.value;\n\t\t\t            var nextNode = node.next;\n\t\t\t            if (updater.type === myreactSharedExports.UpdateQueueType.hook && updater.isSync) {\n\t\t\t                allQueue.delete(node);\n\t\t\t                var trigger = updater.trigger, payLoad_3 = updater.payLoad, reducer_1 = updater.reducer;\n\t\t\t                var typedTrigger_1 = trigger;\n\t\t\t                var lastResult_1 = typedTrigger_1.result;\n\t\t\t                if (typedTrigger_1.type === myreactSharedExports.HOOK_TYPE.useSyncExternalStore) {\n\t\t\t                    lastResult_1 = (_a = trigger.value) === null || _a === void 0 ? void 0 : _a.result;\n\t\t\t                }\n\t\t\t                var hasError_1 = false;\n\t\t\t                typedTrigger_1.result = safeCallWithCurrentFiber({\n\t\t\t                    fiber: fiber,\n\t\t\t                    fallback: function safeFallbackForState() {\n\t\t\t                        hasError_1 = true;\n\t\t\t                        return lastResult_1;\n\t\t\t                    },\n\t\t\t                    action: function safeGetNextState() {\n\t\t\t                        if (reducer_1 && typeof reducer_1 === \"function\") {\n\t\t\t                            return reducer_1(lastResult_1, payLoad_3);\n\t\t\t                        }\n\t\t\t                        else {\n\t\t\t                            return typedTrigger_1.reducer(lastResult_1, payLoad_3);\n\t\t\t                        }\n\t\t\t                    },\n\t\t\t                });\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t                if (!needUpdate && (isForce || hasError_1 || callbacks.length || !Object.is(lastResult_1, typedTrigger_1.result)))\n\t\t\t                    needUpdate = true;\n\t\t\t            }\n\t\t\t            else if (updater.isSync) {\n\t\t\t                allQueue.delete(node);\n\t\t\t                updater.payLoad;\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t                needUpdate = true;\n\t\t\t            }\n\t\t\t            node = nextNode;\n\t\t\t        };\n\t\t\t        while (node) {\n\t\t\t            _loop_3();\n\t\t\t        }\n\t\t\t        if (allQueue.length) {\n\t\t\t            renderScheduler.macroTask(function prepareUpdateOnFiberTask() {\n\t\t\t                prepareUpdateOnFiber(renderDispatch, fiber, true);\n\t\t\t            });\n\t\t\t        }\n\t\t\t        var invokeCallbackArray = callbacks.length\n\t\t\t            ? function invokeCallbackArray() {\n\t\t\t                return callbacks.forEach(function (cb) { return cb === null || cb === void 0 ? void 0 : cb(); });\n\t\t\t            }\n\t\t\t            : void 0;\n\t\t\t        {\n\t\t\t            return {\n\t\t\t                needUpdate: needUpdate,\n\t\t\t                isSync: isSync,\n\t\t\t                isForce: isForce,\n\t\t\t                isImmediate: isImmediate,\n\t\t\t                isRetrigger: isRetrigger,\n\t\t\t                callback: invokeCallbackArray,\n\t\t\t            };\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        var _loop_4 = function () {\n\t\t\t            var updater = node.value;\n\t\t\t            var nextNode = node.next;\n\t\t\t            if (updater.type === myreactSharedExports.UpdateQueueType.hook) {\n\t\t\t                allQueue.delete(node);\n\t\t\t                var trigger = updater.trigger, payLoad_4 = updater.payLoad, reducer_2 = updater.reducer;\n\t\t\t                var typedTrigger_2 = trigger;\n\t\t\t                var lastResult_2 = typedTrigger_2.result;\n\t\t\t                if (typedTrigger_2.type === myreactSharedExports.HOOK_TYPE.useSyncExternalStore) {\n\t\t\t                    lastResult_2 = (_b = trigger.value) === null || _b === void 0 ? void 0 : _b.result;\n\t\t\t                }\n\t\t\t                var hasError_2 = false;\n\t\t\t                typedTrigger_2.result = safeCallWithCurrentFiber({\n\t\t\t                    fiber: fiber,\n\t\t\t                    fallback: function safeFallbackForState() {\n\t\t\t                        hasError_2 = true;\n\t\t\t                        return lastResult_2;\n\t\t\t                    },\n\t\t\t                    action: function safeGetNextState() {\n\t\t\t                        if (reducer_2 && typeof reducer_2 === \"function\") {\n\t\t\t                            return reducer_2(lastResult_2, payLoad_4);\n\t\t\t                        }\n\t\t\t                        else {\n\t\t\t                            return typedTrigger_2.reducer(lastResult_2, payLoad_4);\n\t\t\t                        }\n\t\t\t                    },\n\t\t\t                });\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t                if (!needUpdate && (isForce || hasError_2 || callbacks.length || !Object.is(lastResult_2, typedTrigger_2.result)))\n\t\t\t                    needUpdate = true;\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                allQueue.delete(node);\n\t\t\t                updater.payLoad;\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t                needUpdate = true;\n\t\t\t            }\n\t\t\t            node = nextNode;\n\t\t\t        };\n\t\t\t        while (node) {\n\t\t\t            _loop_4();\n\t\t\t        }\n\t\t\t        var invokeCallbackArray = callbacks.length\n\t\t\t            ? function invokeCallbackArray() {\n\t\t\t                return callbacks.forEach(function (cb) { return cb === null || cb === void 0 ? void 0 : cb(); });\n\t\t\t            }\n\t\t\t            : void 0;\n\t\t\t        {\n\t\t\t            return {\n\t\t\t                needUpdate: needUpdate,\n\t\t\t                isSync: isSync,\n\t\t\t                isForce: isForce,\n\t\t\t                isImmediate: isImmediate,\n\t\t\t                isRetrigger: isRetrigger,\n\t\t\t                callback: invokeCallbackArray,\n\t\t\t            };\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processNormalComponentUpdate = function (fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var allQueue = fiber.updateQueue;\n\t\t\t    var node = allQueue === null || allQueue === void 0 ? void 0 : allQueue.head;\n\t\t\t    var needUpdate = true;\n\t\t\t    var isSync = false;\n\t\t\t    var isForce = false;\n\t\t\t    var isImmediate = false;\n\t\t\t    var isRetrigger = false;\n\t\t\t    var callbacks = [];\n\t\t\t    while (node) {\n\t\t\t        var updater = node.value;\n\t\t\t        var nextNode = node.next;\n\t\t\t        allQueue.delete(node);\n\t\t\t        updater.payLoad;\n\t\t\t        isSync = isSync || updater.isSync;\n\t\t\t        isForce = isForce || updater.isForce;\n\t\t\t        isImmediate = isImmediate || updater.isImmediate;\n\t\t\t        isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t        updater.callback && callbacks.push(updater.callback);\n\t\t\t        node = nextNode;\n\t\t\t    }\n\t\t\t    var invokeCallbackArray = callbacks.length\n\t\t\t        ? function invokeCallbackArray() {\n\t\t\t            return callbacks.forEach(function (cb) { return cb === null || cb === void 0 ? void 0 : cb(); });\n\t\t\t        }\n\t\t\t        : void 0;\n\t\t\t    {\n\t\t\t        return {\n\t\t\t            needUpdate: needUpdate,\n\t\t\t            isSync: isSync,\n\t\t\t            isForce: isForce,\n\t\t\t            isImmediate: isImmediate,\n\t\t\t            isRetrigger: isRetrigger,\n\t\t\t            callback: invokeCallbackArray,\n\t\t\t        };\n\t\t\t    }\n\t\t\t};\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tvar syncFiberStateToComponent = function (renderDispatch, fiber, callback) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var typedPendingState = fiber.pendingState;\n\t\t\t    typedInstance.state = Object.assign({}, typedInstance.state, typedPendingState);\n\t\t\t    callback && renderDispatch.pendingLayoutEffect(fiber, callback, { stickyToFoot: true });\n\t\t\t};\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tvar syncFlushComponentQueue = function (renderDispatch, fiber) {\n\t\t\t    var _a = processClassComponentUpdateQueue(renderDispatch, fiber), needUpdate = _a.needUpdate, callback = _a.callback;\n\t\t\t    needUpdate && syncFiberStateToComponent(renderDispatch, fiber, callback);\n\t\t\t    syncComponentStateToFiber(fiber);\n\t\t\t};\n\n\t\t\treact.__my_react_internal__.currentComponentFiber; var currentRunningFiber$1 = react.__my_react_internal__.currentRunningFiber;\n\t\t\treact.__my_react_shared__.enableDebugFiled;\n\t\t\tvar processState = function (renderDispatch, _params) {\n\t\t\t    var ownerFiber = getInstanceOwnerFiber(_params.trigger);\n\t\t\t    if (!renderDispatch)\n\t\t\t        return;\n\t\t\t    _params.isRetrigger = currentRunningFiber$1.current === ownerFiber || !!_params.isRetrigger;\n\t\t\t    _params.isImmediate =\n\t\t\t        typeof _params.isImmediate === \"boolean\"\n\t\t\t            ? _params.isImmediate\n\t\t\t            : _params.isRetrigger || (renderDispatch.isAppMounted ? !!currentRunningFiber$1.current : false);\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: ownerFiber,\n\t\t\t        action: function safeCallFiberStateListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberState) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(ownerFiber, _params); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    var isImmediate = _params.isImmediate;\n\t\t\t    _params.isRetrigger;\n\t\t\t    if (_params.type === myreactSharedExports.UpdateQueueType.component) {\n\t\t\t        if (!ownerFiber || myreactSharedExports.include(ownerFiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t            return;\n\t\t\t        var trigger_1 = _params.trigger;\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: ownerFiber,\n\t\t\t            action: function safeCallInstanceStateListener() {\n\t\t\t                var _a, _b;\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.instanceState) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(trigger_1, ownerFiber, _params); });\n\t\t\t            },\n\t\t\t        });\n\t\t\t        ownerFiber.updateQueue = ownerFiber.updateQueue || new myreactSharedExports.ListTree();\n\t\t\t        ownerFiber.updateQueue.push(_params);\n\t\t\t        prepareUpdateOnFiber(renderDispatch, ownerFiber, isImmediate);\n\t\t\t    }\n\t\t\t    else if (_params.type === myreactSharedExports.UpdateQueueType.hook) {\n\t\t\t        if (!ownerFiber || myreactSharedExports.include(ownerFiber === null || ownerFiber === void 0 ? void 0 : ownerFiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t            return;\n\t\t\t        var trigger_2 = _params.trigger;\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: ownerFiber,\n\t\t\t            action: function safeCallHookStateListener() {\n\t\t\t                var _a, _b;\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.hookState) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(trigger_2, ownerFiber, _params); });\n\t\t\t            },\n\t\t\t        });\n\t\t\t        ownerFiber.updateQueue = ownerFiber.updateQueue || new myreactSharedExports.ListTree();\n\t\t\t        ownerFiber.updateQueue.push(_params);\n\t\t\t        prepareUpdateOnFiber(renderDispatch, ownerFiber, isImmediate);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        var ownerFiber_1 = _params.trigger;\n\t\t\t        if (!ownerFiber_1 || myreactSharedExports.include(ownerFiber_1.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t            return;\n\t\t\t        ownerFiber_1.updateQueue = ownerFiber_1.updateQueue || new myreactSharedExports.ListTree();\n\t\t\t        ownerFiber_1.updateQueue.push(_params);\n\t\t\t        prepareUpdateOnFiber(renderDispatch, ownerFiber_1, isImmediate);\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar defaultGenerateUnmountMap = function (fiber, unmount, map) {\n\t\t\t    var list = map.get(fiber) || new myreactSharedExports.ListTree();\n\t\t\t    var newList = generateFiberToUnmountList(unmount);\n\t\t\t    map.set(fiber, list.concat(newList));\n\t\t\t};\n\t\t\tvar defaultDispatchUnmount = function (renderDispatch) {\n\t\t\t    if (renderDispatch.isAppUnmounted)\n\t\t\t        return;\n\t\t\t    var rootFiber = renderDispatch.rootFiber;\n\t\t\t    unmountFiber(renderDispatch, rootFiber);\n\t\t\t    clearContainer(renderDispatch);\n\t\t\t};\n\t\t\tvar defaultInvokeUnmountList = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.patch, myreactSharedExports.PATCH_TYPE.__unmount__)) {\n\t\t\t        var unmountMap = renderDispatch.runtimeMap.unmountMap;\n\t\t\t        var allUnmount_1 = unmountMap.get(fiber);\n\t\t\t        unmountMap.delete(fiber);\n\t\t\t        if (allUnmount_1 && allUnmount_1.length)\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: fiber,\n\t\t\t                action: function safeCallUnmountList() {\n\t\t\t                    unmountList(renderDispatch, allUnmount_1);\n\t\t\t                },\n\t\t\t            });\n\t\t\t        fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__unmount__);\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar unmountList = function (renderDispatch, list) {\n\t\t\t    // will happen when app crash\n\t\t\t    list.listToFoot(function invokeUnmountPendingList(f) {\n\t\t\t        defaultInvokeUnmountList(renderDispatch, f);\n\t\t\t    });\n\t\t\t    list.listToFoot(function invokeFiberUnmountList(f) {\n\t\t\t        unmountFiberNode(renderDispatch, f);\n\t\t\t    });\n\t\t\t};\n\t\t\t// unmount current fiber\n\t\t\tvar unmountFiber = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var list = generateFiberToUnmountList(fiber);\n\t\t\t    unmountList(renderDispatch, list);\n\t\t\t};\n\t\t\t// unmount current container with safe\n\t\t\tvar unmountContainer = function (renderDispatch, cb) {\n\t\t\t    renderDispatch.reconcileUnmount();\n\t\t\t    cb === null || cb === void 0 ? void 0 : cb();\n\t\t\t};\n\t\t\tvar clearContainer = function (renderDispatch) {\n\t\t\t    var _a, _b, _c, _d;\n\t\t\t    renderDispatch.pendingCommitFiberPatch = myreactSharedExports.PATCH_TYPE.__initial__;\n\t\t\t    (_a = renderDispatch.pendingUpdateFiberArray) === null || _a === void 0 ? void 0 : _a.clear();\n\t\t\t    (_b = renderDispatch.pendingSuspenseFiberArray) === null || _b === void 0 ? void 0 : _b.clear();\n\t\t\t    (_c = renderDispatch.pendingCommitFiberList) === null || _c === void 0 ? void 0 : _c.clear();\n\t\t\t    (_d = renderDispatch.pendingChangedFiberList) === null || _d === void 0 ? void 0 : _d.clear();\n\t\t\t    renderDispatch.resetUpdateFlowRuntimeFiber();\n\t\t\t    renderDispatch.isAppMounted = false;\n\t\t\t    renderDispatch.isAppUnmounted = true;\n\t\t\t};\n\n\t\t\tvar globalLoop$3 = react.__my_react_internal__.globalLoop, currentScheduler$b = react.__my_react_internal__.currentScheduler, currentError = react.__my_react_internal__.currentError;\n\t\t\tvar applyTriggerFiberCb = function (renderDispatch, fiber) {\n\t\t\t    var _a, _b;\n\t\t\t    var cbArray = renderDispatch.runtimeMap.triggerCallbackMap.get(fiber);\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__class__)) {\n\t\t\t        (_a = cbArray === null || cbArray === void 0 ? void 0 : cbArray.listToFoot) === null || _a === void 0 ? void 0 : _a.call(cbArray, function (cb) {\n\t\t\t            renderDispatch.pendingLayoutEffect(fiber, cb, { stickyToFoot: true });\n\t\t\t        });\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        (_b = cbArray === null || cbArray === void 0 ? void 0 : cbArray.listToFoot) === null || _b === void 0 ? void 0 : _b.call(cbArray, function (cb) {\n\t\t\t            renderDispatch.pendingEffect(fiber, cb, { stickyToFoot: true });\n\t\t\t        });\n\t\t\t    }\n\t\t\t    renderDispatch.runtimeMap.triggerCallbackMap.delete(fiber);\n\t\t\t};\n\t\t\t/**\n\t\t\t * only used for dev HMR\n\t\t\t * only invoke on the errorCatchFiber\n\t\t\t */\n\t\t\tvar triggerRevert = function (renderDispatch, fiber, cb) {\n\t\t\t    {\n\t\t\t        console.error(\"[@my-react/react] can not call revert on prod mode\");\n\t\t\t    }\n\t\t\t};\n\t\t\tvar triggerUpdate = function (renderDispatch, fiber, state, cb) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var renderScheduler = currentScheduler$b.current;\n\t\t\t    if (!renderDispatch || !renderDispatch.enableUpdate)\n\t\t\t        return;\n\t\t\t    if (renderDispatch.isAppCrashed)\n\t\t\t        return;\n\t\t\t    if (renderDispatch.isAppUnmounted)\n\t\t\t        return;\n\t\t\t    // TODO\n\t\t\t    if (!renderDispatch.isAppMounted) {\n\t\t\t        renderScheduler.macroTask(function scheduleUpdateBeforeMount() {\n\t\t\t            triggerUpdate(renderDispatch, fiber, state, cb);\n\t\t\t        });\n\t\t\t        return;\n\t\t\t    }\n\t\t\t    if (typeof state === \"function\") {\n\t\t\t        cb = state;\n\t\t\t        state = myreactSharedExports.STATE_TYPE.__triggerConcurrent__;\n\t\t\t    }\n\t\t\t    state = state || myreactSharedExports.STATE_TYPE.__triggerSync__;\n\t\t\t    if (fiber.state === myreactSharedExports.STATE_TYPE.__stable__) {\n\t\t\t        fiber.state = state;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        fiber.state = myreactSharedExports.merge(fiber.state, state);\n\t\t\t    }\n\t\t\t    renderDispatch.pendingUpdateFiberArray.uniPush(fiber);\n\t\t\t    if (cb) {\n\t\t\t        var map = renderDispatch.runtimeMap.triggerCallbackMap;\n\t\t\t        var exist = map.get(fiber) || new myreactSharedExports.ListTree();\n\t\t\t        exist.push(cb);\n\t\t\t        map.set(fiber, exist);\n\t\t\t    }\n\t\t\t    if (globalLoop$3.current)\n\t\t\t        return;\n\t\t\t    globalLoop$3.current = true;\n\t\t\t    scheduleUpdate(renderDispatch);\n\t\t\t};\n\t\t\t// TODO: error flow\n\t\t\t// currently only work render flow\n\t\t\t// commit flow not work as expected\n\t\t\tvar triggerError = function (renderDispatch, fiber, error, cb) {\n\t\t\t    var _a;\n\t\t\t    var renderScheduler = currentScheduler$b.current;\n\t\t\t    var errorBoundariesFiber = renderDispatch.resolveErrorBoundaries(fiber);\n\t\t\t    if (errorBoundariesFiber) {\n\t\t\t        defaultDeleteChildEffect(renderDispatch, fiber);\n\t\t\t        var typedComponent = errorBoundariesFiber.elementType;\n\t\t\t        var typedInstance_1 = errorBoundariesFiber.instance;\n\t\t\t        var payloadState = (_a = typedComponent.getDerivedStateFromError) === null || _a === void 0 ? void 0 : _a.call(typedComponent, error);\n\t\t\t        if (!errorBoundariesFiber.memoizedState) {\n\t\t\t            errorBoundariesFiber.memoizedState = Object.assign({}, errorBoundariesFiber.pendingState);\n\t\t\t        }\n\t\t\t        if (renderDispatch.runtimeFiber.nextWorkingFiber) {\n\t\t\t            var updateQueue = {\n\t\t\t                type: myreactSharedExports.UpdateQueueType.component,\n\t\t\t                trigger: typedInstance_1,\n\t\t\t                payLoad: payloadState,\n\t\t\t                isSync: true,\n\t\t\t                isForce: true,\n\t\t\t                isRetrigger: true,\n\t\t\t                isImmediate: true,\n\t\t\t                callback: function finishTriggerErrorOnFiber() {\n\t\t\t                    var _a;\n\t\t\t                    (_a = typedInstance_1.componentDidCatch) === null || _a === void 0 ? void 0 : _a.call(typedInstance_1, error, { componentStack: renderScheduler.getFiberTree(fiber) });\n\t\t\t                    renderDispatch.runtimeFiber.errorCatchFiber = errorBoundariesFiber;\n\t\t\t                    cb === null || cb === void 0 ? void 0 : cb();\n\t\t\t                    currentError.current = null;\n\t\t\t                },\n\t\t\t            };\n\t\t\t            errorBoundariesFiber.state = myreactSharedExports.merge(errorBoundariesFiber.state, myreactSharedExports.STATE_TYPE.__create__);\n\t\t\t            errorBoundariesFiber.state = myreactSharedExports.merge(errorBoundariesFiber.state, myreactSharedExports.STATE_TYPE.__triggerSyncForce__);\n\t\t\t            processState(renderDispatch, updateQueue);\n\t\t\t            syncFiberStateToComponent(renderDispatch, errorBoundariesFiber);\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            var updateQueue = {\n\t\t\t                type: myreactSharedExports.UpdateQueueType.component,\n\t\t\t                trigger: typedInstance_1,\n\t\t\t                payLoad: payloadState,\n\t\t\t                isSync: true,\n\t\t\t                isForce: true,\n\t\t\t                isRetrigger: false,\n\t\t\t                isImmediate: false,\n\t\t\t                callback: function finishTriggerErrorOnFiber() {\n\t\t\t                    var _a;\n\t\t\t                    (_a = typedInstance_1.componentDidCatch) === null || _a === void 0 ? void 0 : _a.call(typedInstance_1, error, { componentStack: renderScheduler.getFiberTree(fiber) });\n\t\t\t                    renderDispatch.runtimeFiber.errorCatchFiber = errorBoundariesFiber;\n\t\t\t                    cb === null || cb === void 0 ? void 0 : cb();\n\t\t\t                    currentError.current = null;\n\t\t\t                },\n\t\t\t            };\n\t\t\t            processState(renderDispatch, updateQueue);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        if (renderDispatch.isAppCrashed)\n\t\t\t            return;\n\t\t\t        renderDispatch.pendingUpdateFiberArray.clear();\n\t\t\t        renderDispatch.resetUpdateFlowRuntimeFiber();\n\t\t\t        renderDispatch.isAppCrashed = true;\n\t\t\t        globalLoop$3.current = false;\n\t\t\t        {\n\t\t\t            console.error(\"[@my-react/react] a uncaught exception have been throw\", error);\n\t\t\t            throw error;\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar globalLoop$2 = react.__my_react_internal__.globalLoop, currentScheduler$a = react.__my_react_internal__.currentScheduler;\n\t\t\tvar enableConcurrentMode$1 = react.__my_react_shared__.enableConcurrentMode;\n\t\t\tvar scheduleUpdateFromRoot = function (renderDispatch) {\n\t\t\t    var allLive = renderDispatch.pendingUpdateFiberArray.getAll().filter(function (f) { return myreactSharedExports.exclude(f.state, myreactSharedExports.STATE_TYPE.__unmount__); });\n\t\t\t    renderDispatch.pendingUpdateFiberArray.clear();\n\t\t\t    if (allLive.length) {\n\t\t\t        renderDispatch.runtimeFiber.scheduledFiber = renderDispatch.rootFiber;\n\t\t\t        renderDispatch.runtimeFiber.nextWorkingFiber = renderDispatch.rootFiber;\n\t\t\t        allLive.forEach(function (fiber) { return applyTriggerFiberCb(renderDispatch, fiber); });\n\t\t\t        if (!enableConcurrentMode$1.current || allLive.some(function (f) { return myreactSharedExports.include(f.state, myreactSharedExports.STATE_TYPE.__triggerSync__ | myreactSharedExports.STATE_TYPE.__triggerSyncForce__); })) {\n\t\t\t            updateSyncFromRoot(renderDispatch);\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            updateConcurrentFromRoot(renderDispatch);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        scheduleNext(renderDispatch);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar scheduleNext = function (renderDispatch) {\n\t\t\t    var _a;\n\t\t\t    if (!renderDispatch.isAppUnmounted && !renderDispatch.isAppCrashed && renderDispatch.enableUpdate && renderDispatch.pendingUpdateFiberArray.length) {\n\t\t\t        scheduleUpdate(renderDispatch);\n\t\t\t        return;\n\t\t\t    }\n\t\t\t    var renderScheduler = currentScheduler$a.current;\n\t\t\t    if (!renderScheduler.dispatchSet || ((_a = renderScheduler.dispatchSet) === null || _a === void 0 ? void 0 : _a.length) === 1)\n\t\t\t        return;\n\t\t\t    var allDispatch = renderScheduler.dispatchSet;\n\t\t\t    var hasPending = allDispatch\n\t\t\t        .getAll()\n\t\t\t        .find(function (d) { return d !== renderDispatch && d.isAppMounted && d.enableUpdate && !d.isAppCrashed && !d.isAppUnmounted && d.pendingUpdateFiberArray.length; });\n\t\t\t    if (hasPending) {\n\t\t\t        scheduleUpdate(hasPending);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        globalLoop$2.current = false;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar scheduleUpdate = function (renderDispatch) {\n\t\t\t    if (renderDispatch.isAppUnmounted) {\n\t\t\t        scheduleNext(renderDispatch);\n\t\t\t        return;\n\t\t\t    }\n\t\t\t    scheduleUpdateFromRoot(renderDispatch);\n\t\t\t};\n\n\t\t\tvar globalLoop$1 = react.__my_react_internal__.globalLoop, currentScheduler$9 = react.__my_react_internal__.currentScheduler;\n\t\t\treact.__my_react_shared__.enableScopeTreeLog;\n\t\t\tvar updateSyncFromRoot = function (renderDispatch) {\n\t\t\t    globalLoop$1.current = true;\n\t\t\t    var renderScheduler = currentScheduler$9.current;\n\t\t\t    updateLoopSyncFromRoot(renderDispatch);\n\t\t\t    processAsyncLoadListOnUpdate(renderDispatch);\n\t\t\t    (function finishUpdateSyncFromRoot() {\n\t\t\t        var commitList = renderDispatch.pendingCommitFiberList;\n\t\t\t        var changedList = renderDispatch.pendingChangedFiberList;\n\t\t\t        renderDispatch.resetUpdateFlowRuntimeFiber();\n\t\t\t        renderDispatch.pendingCommitFiberList = null;\n\t\t\t        renderDispatch.pendingChangedFiberList = null;\n\t\t\t        (commitList === null || commitList === void 0 ? void 0 : commitList.length) && renderDispatch.reconcileUpdate(commitList);\n\t\t\t        (changedList === null || changedList === void 0 ? void 0 : changedList.length) &&\n\t\t\t            safeCall(function safeCallFiberHasChangeListener() {\n\t\t\t                var _a, _b;\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberHasChange) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(changedList); });\n\t\t\t            });\n\t\t\t    })();\n\t\t\t    renderScheduler.microTask(function callScheduleNext() {\n\t\t\t        globalLoop$1.current = false;\n\t\t\t        scheduleNext(renderDispatch);\n\t\t\t    });\n\t\t\t};\n\t\t\tvar updateConcurrentFromRoot = function (renderDispatch) {\n\t\t\t    globalLoop$1.current = true;\n\t\t\t    var renderScheduler = currentScheduler$9.current;\n\t\t\t    updateLoopConcurrentFromRoot(renderDispatch);\n\t\t\t    if (renderDispatch.runtimeFiber.nextWorkingFiber) {\n\t\t\t        renderScheduler.yieldTask(function resumeUpdateConcurrentFromRoot() {\n\t\t\t            updateConcurrentFromRoot(renderDispatch);\n\t\t\t        });\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        processAsyncLoadListOnUpdate(renderDispatch);\n\t\t\t        (function finishUpdateConcurrentFromRoot() {\n\t\t\t            var commitList = renderDispatch.pendingCommitFiberList;\n\t\t\t            var changedList = renderDispatch.pendingChangedFiberList;\n\t\t\t            renderDispatch.resetUpdateFlowRuntimeFiber();\n\t\t\t            renderDispatch.pendingCommitFiberList = null;\n\t\t\t            renderDispatch.pendingChangedFiberList = null;\n\t\t\t            (commitList === null || commitList === void 0 ? void 0 : commitList.length) && renderDispatch.reconcileUpdate(commitList);\n\t\t\t            (changedList === null || changedList === void 0 ? void 0 : changedList.length) &&\n\t\t\t                safeCall(function safeCallFiberHasChangeListener() {\n\t\t\t                    var _a, _b;\n\t\t\t                    (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberHasChange) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(changedList); });\n\t\t\t                });\n\t\t\t        })();\n\t\t\t        renderScheduler.microTask(function callScheduleNext() {\n\t\t\t            // TODO! flash all effect\n\t\t\t            globalLoop$1.current = false;\n\t\t\t            scheduleNext(renderDispatch);\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar MyReactInternalInstance$4 = react.__my_react_internal__.MyReactInternalInstance, currentScheduler$8 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar enableSyncFlush = react.__my_react_shared__.enableSyncFlush;\n\t\t\tvar defaultPayLoad = function (a) { return a; };\n\t\t\tvar MyReactHookNode = /** @class */ (function (_super) {\n\t\t\t    __extends(MyReactHookNode, _super);\n\t\t\t    function MyReactHookNode(type, value, reducer, deps) {\n\t\t\t        var _this = _super.call(this) || this;\n\t\t\t        _this.hasEffect = false;\n\t\t\t        _this.type = type;\n\t\t\t        _this.deps = deps;\n\t\t\t        _this.value = value;\n\t\t\t        _this.reducer = reducer;\n\t\t\t        return _this;\n\t\t\t    }\n\t\t\t    Object.defineProperty(MyReactHookNode.prototype, \"isMyReactHook\", {\n\t\t\t        get: function () {\n\t\t\t            return true;\n\t\t\t        },\n\t\t\t        enumerable: false,\n\t\t\t        configurable: true\n\t\t\t    });\n\t\t\t    MyReactHookNode.prototype._update = function (params) {\n\t\t\t        if (params === void 0) { params = {}; }\n\t\t\t        var updater = __assign({ type: myreactSharedExports.UpdateQueueType.hook, trigger: this, payLoad: defaultPayLoad, isSync: false, isForce: false }, params);\n\t\t\t        var renderScheduler = currentScheduler$8.current;\n\t\t\t        renderScheduler === null || renderScheduler === void 0 ? void 0 : renderScheduler.dispatchState(updater);\n\t\t\t    };\n\t\t\t    return MyReactHookNode;\n\t\t\t}(MyReactInternalInstance$4));\n\t\t\tvar initHookInstance = function (hookNode) {\n\t\t\t    var field = getInstanceFieldByInstance(hookNode);\n\t\t\t    if (!field)\n\t\t\t        throw new Error(\"[@my-react/react] hook instance not found, look like a bug for @my-react\");\n\t\t\t    var typedField = field;\n\t\t\t    typedField.dispatch = function (action) { return hookNode._update({ payLoad: action, isForce: false, isSync: enableSyncFlush.current }); };\n\t\t\t};\n\n\t\t\tvar currentComponentFiber$3 = react.__my_react_internal__.currentComponentFiber;\n\t\t\tvar MyReactSignal = /** @class */ (function () {\n\t\t\t    function MyReactSignal(_rawValue, _renderDispatch) {\n\t\t\t        var _this = this;\n\t\t\t        this._renderDispatch = _renderDispatch;\n\t\t\t        this._depsSet = new Set();\n\t\t\t        this.getValue = function () {\n\t\t\t            if (currentComponentFiber$3.current) {\n\t\t\t                _this._depsSet.add(currentComponentFiber$3.current);\n\t\t\t            }\n\t\t\t            return _this._value;\n\t\t\t        };\n\t\t\t        this.setValue = function (newValue) {\n\t\t\t            if (!Object.is(_this._value, newValue)) {\n\t\t\t                var allDeps = new Set(_this._depsSet);\n\t\t\t                _this._depsSet.clear();\n\t\t\t                _this._value = newValue;\n\t\t\t                allDeps.forEach(function (f) { return myreactSharedExports.exclude(f.state, myreactSharedExports.STATE_TYPE.__unmount__) && (f.state = myreactSharedExports.STATE_TYPE.__triggerConcurrent__); });\n\t\t\t                triggerUpdateOnFiber(_this._renderDispatch.rootFiber, myreactSharedExports.STATE_TYPE.__triggerConcurrent__);\n\t\t\t            }\n\t\t\t        };\n\t\t\t        this._value = _rawValue;\n\t\t\t    }\n\t\t\t    return MyReactSignal;\n\t\t\t}());\n\n\t\t\tvar enableDebugLog$1 = react.__my_react_shared__.enableDebugLog; react.__my_react_shared__.enableDebugFiled;\n\t\t\tvar currentHookTreeNode$2 = react.__my_react_internal__.currentHookTreeNode, currentHookNodeIndex$2 = react.__my_react_internal__.currentHookNodeIndex;\n\t\t\tvar defaultReducer = function (state, action) {\n\t\t\t    return typeof action === \"function\" ? action(state) : action;\n\t\t\t};\n\t\t\tvar createHookNode = function (renderDispatch, _a, fiber) {\n\t\t\t    var _b;\n\t\t\t    var type = _a.type, value = _a.value, reducer = _a.reducer, deps = _a.deps;\n\t\t\t    var currentHook = (_b = currentHookTreeNode$2.current) === null || _b === void 0 ? void 0 : _b.value;\n\t\t\t    var currentHookIndex = currentHookNodeIndex$2.current;\n\t\t\t    if (currentHook) {\n\t\t\t        throw new Error(\"[@my-react/react] should not have a hookList for current node, this is a bug for @my-react\");\n\t\t\t    }\n\t\t\t    var hookNode = new MyReactHookNode(type, value, reducer || defaultReducer, deps);\n\t\t\t    initInstance(hookNode);\n\t\t\t    initHookInstance(hookNode);\n\t\t\t    setOwnerForInstance(hookNode, fiber);\n\t\t\t    fiber.hookList.push(hookNode);\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useMemo || hookNode.type === myreactSharedExports.HOOK_TYPE.useState || hookNode.type === myreactSharedExports.HOOK_TYPE.useReducer) {\n\t\t\t        hookNode.result = hookNode.value.call(null);\n\t\t\t        // 兼容极端情况的hack code\n\t\t\t        var a = function () {\n\t\t\t        };\n\t\t\t        a.bind(null, fiber);\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useEffect ||\n\t\t\t        hookNode.type === myreactSharedExports.HOOK_TYPE.useLayoutEffect ||\n\t\t\t        hookNode.type === myreactSharedExports.HOOK_TYPE.useInsertionEffect ||\n\t\t\t        hookNode.type === myreactSharedExports.HOOK_TYPE.useImperativeHandle) {\n\t\t\t        hookNode.result = hookNode.value;\n\t\t\t        hookNode.hasEffect = true;\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useRef || hookNode.type === myreactSharedExports.HOOK_TYPE.useCallback || hookNode.type === myreactSharedExports.HOOK_TYPE.useDeferredValue) {\n\t\t\t        hookNode.result = hookNode.value;\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useId) {\n\t\t\t        hookNode.result = \"_-\".concat(currentHookIndex, \"-\").concat(renderDispatch.uniqueIdCount++, \"-_\");\n\t\t\t        hookNode.cancel = function () { return renderDispatch.uniqueIdCount--; };\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useDebugValue) {\n\t\t\t        hookNode.result = hookNode.value;\n\t\t\t        if (enableDebugLog$1.current) {\n\t\t\t            console.warn.apply(console, __spreadArray([\"[debug]\"], hookNode.value, false));\n\t\t\t        }\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useContext) {\n\t\t\t        var providerFiber = renderDispatch.resolveContextFiber(fiber, hookNode.value);\n\t\t\t        var context = renderDispatch.resolveContextValue(providerFiber, hookNode.value);\n\t\t\t        setContextForInstance(hookNode, providerFiber);\n\t\t\t        hookNode.result = context;\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useSyncExternalStore) {\n\t\t\t        var storeApi_1 = hookNode.value;\n\t\t\t        var getNextResult = function () {\n\t\t\t            return safeCallWithCurrentFiber({\n\t\t\t                fiber: fiber,\n\t\t\t                action: function safeCallGetSnapshot() {\n\t\t\t                    var _a;\n\t\t\t                    return renderDispatch.isAppMounted\n\t\t\t                        ? storeApi_1.getSnapshot.call(null)\n\t\t\t                        : storeApi_1.getServerSnapshot\n\t\t\t                            ? (_a = storeApi_1.getServerSnapshot) === null || _a === void 0 ? void 0 : _a.call(null)\n\t\t\t                            : storeApi_1.getSnapshot.call(null);\n\t\t\t                },\n\t\t\t            });\n\t\t\t        };\n\t\t\t        var nextResult = getNextResult();\n\t\t\t        if (!Object.is(nextResult, getNextResult())) {\n\t\t\t            throw new Error(\"[@my-react/react] syncExternalStore getSnapshot not stable!\");\n\t\t\t        }\n\t\t\t        storeApi_1.result = nextResult;\n\t\t\t        hookNode.result = nextResult;\n\t\t\t        var checkResultUpdate_1 = function checkResultUpdate() {\n\t\t\t            var prevResult = storeApi_1.result;\n\t\t\t            var nextResult = null;\n\t\t\t            var hasChange = true;\n\t\t\t            try {\n\t\t\t                nextResult = storeApi_1.getSnapshot.call(null);\n\t\t\t                hasChange = !Object.is(prevResult, nextResult);\n\t\t\t            }\n\t\t\t            catch (_a) {\n\t\t\t                hasChange = true;\n\t\t\t            }\n\t\t\t            if (hasChange) {\n\t\t\t                hookNode._update({ isForce: true, isSync: true, payLoad: function () { return nextResult; } });\n\t\t\t            }\n\t\t\t        };\n\t\t\t        renderDispatch.pendingLayoutEffect(fiber, function invokeLayoutEffectOnHook() {\n\t\t\t            checkResultUpdate_1();\n\t\t\t        });\n\t\t\t        renderDispatch.pendingEffect(fiber, function invokeEffectOnHook() {\n\t\t\t            hookNode.cancel && hookNode.cancel();\n\t\t\t            checkResultUpdate_1();\n\t\t\t            hookNode.cancel = storeApi_1.subscribe(checkResultUpdate_1);\n\t\t\t        });\n\t\t\t    }\n\t\t\t    // if (hookNode.type === HOOK_TYPE.useSyncExternalStore) {\n\t\t\t    //   const storeApi = hookNode.value;\n\t\t\t    //   const getNextResult = () =>\n\t\t\t    //     safeCallWithCurrentFiber({\n\t\t\t    //       fiber,\n\t\t\t    //       action: function safeCallGetSnapshot() {\n\t\t\t    //         return renderDispatch.isAppMounted\n\t\t\t    //           ? storeApi.getSnapshot.call(null)\n\t\t\t    //           : storeApi.getServerSnapshot\n\t\t\t    //             ? storeApi.getServerSnapshot?.call(null)\n\t\t\t    //             : storeApi.getSnapshot.call(null);\n\t\t\t    //       },\n\t\t\t    //     });\n\t\t\t    //   const nextResult = getNextResult();\n\t\t\t    //   if (!Object.is(nextResult, getNextResult())) {\n\t\t\t    //     throw new Error(`[@my-react/react] syncExternalStore getSnapshot not stable!`);\n\t\t\t    //   }\n\t\t\t    //   storeApi.result = nextResult;\n\t\t\t    //   hookNode.result = nextResult;\n\t\t\t    //   hookNode.hasEffect = true;\n\t\t\t    // }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useSignal) {\n\t\t\t        hookNode.result = new MyReactSignal(hookNode.value.call(null), renderDispatch);\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useTransition) {\n\t\t\t        hookNode.result = [\n\t\t\t            false,\n\t\t\t            // TODO\n\t\t\t            function startTransitionByHook(cb) {\n\t\t\t                var loadingCallback = function (cb) {\n\t\t\t                    react.startTransition(function () {\n\t\t\t                        hookNode.result[0] = true;\n\t\t\t                        hookNode._update({ isForce: true, isSync: true, callback: cb });\n\t\t\t                    });\n\t\t\t                };\n\t\t\t                var loadedCallback = function () {\n\t\t\t                    react.startTransition(function () {\n\t\t\t                        hookNode.result[0] = false;\n\t\t\t                        hookNode._update({ isForce: true, isSync: true });\n\t\t\t                    });\n\t\t\t                };\n\t\t\t                var taskCallback = function () {\n\t\t\t                    react.startTransition(function () {\n\t\t\t                        safeCallWithCurrentFiber({ fiber: fiber, action: cb });\n\t\t\t                        loadedCallback();\n\t\t\t                    });\n\t\t\t                };\n\t\t\t                loadingCallback(taskCallback);\n\t\t\t            },\n\t\t\t        ];\n\t\t\t    }\n\t\t\t    return hookNode;\n\t\t\t};\n\n\t\t\tvar effectHookNode = function (renderDispatch, fiber, hookNode, field) {\n\t\t\t    var effect = field.effect;\n\t\t\t    if (hookNode.hasEffect && effect === myreactSharedExports.Effect_TYPE.__initial__) {\n\t\t\t        setEffectForInstance(hookNode, myreactSharedExports.Effect_TYPE.__effect__);\n\t\t\t        if (hookNode.type === myreactSharedExports.HOOK_TYPE.useEffect) {\n\t\t\t            renderDispatch.pendingEffect(fiber, function invokeEffectOnHook() {\n\t\t\t                hookNode.cancel && hookNode.cancel();\n\t\t\t                var ownerFiber = getInstanceOwnerFiber(hookNode);\n\t\t\t                if (ownerFiber && myreactSharedExports.exclude(ownerFiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t                    hookNode.cancel = hookNode.value();\n\t\t\t                hookNode.hasEffect = false;\n\t\t\t                setEffectForInstance(hookNode, myreactSharedExports.Effect_TYPE.__initial__);\n\t\t\t            });\n\t\t\t        }\n\t\t\t        if (hookNode.type === myreactSharedExports.HOOK_TYPE.useLayoutEffect) {\n\t\t\t            renderDispatch.pendingLayoutEffect(fiber, function invokeLayoutEffectOnHook() {\n\t\t\t                hookNode.cancel && hookNode.cancel();\n\t\t\t                hookNode.cancel = hookNode.value();\n\t\t\t                hookNode.hasEffect = false;\n\t\t\t                setEffectForInstance(hookNode, myreactSharedExports.Effect_TYPE.__initial__);\n\t\t\t            });\n\t\t\t        }\n\t\t\t        if (hookNode.type === myreactSharedExports.HOOK_TYPE.useInsertionEffect) {\n\t\t\t            renderDispatch.pendingInsertionEffect(fiber, function invokeInsertionEffectOnHook() {\n\t\t\t                hookNode.cancel && hookNode.cancel();\n\t\t\t                hookNode.cancel = hookNode.value();\n\t\t\t                hookNode.hasEffect = false;\n\t\t\t                setEffectForInstance(hookNode, myreactSharedExports.Effect_TYPE.__initial__);\n\t\t\t            });\n\t\t\t        }\n\t\t\t        if (hookNode.type === myreactSharedExports.HOOK_TYPE.useImperativeHandle) {\n\t\t\t            renderDispatch.pendingLayoutEffect(fiber, function invokeLayoutEffectOnHook() {\n\t\t\t                hookNode.cancel && hookNode.cancel();\n\t\t\t                // ref obj\n\t\t\t                if (hookNode.value && typeof hookNode.value === \"object\")\n\t\t\t                    hookNode.value.current = hookNode.reducer.call(null);\n\t\t\t                // ref function\n\t\t\t                if (hookNode.value && typeof hookNode.value === \"function\")\n\t\t\t                    hookNode.value(hookNode.reducer.call(null));\n\t\t\t                // TODO\n\t\t\t                // hookNode.cancel =\n\t\t\t                hookNode.hasEffect = false;\n\t\t\t                setEffectForInstance(hookNode, myreactSharedExports.Effect_TYPE.__initial__);\n\t\t\t            });\n\t\t\t        }\n\t\t\t        if (hookNode.type === myreactSharedExports.HOOK_TYPE.useSyncExternalStore) {\n\t\t\t            renderDispatch.pendingEffect(fiber, function invokeEffectOnHook() {\n\t\t\t                hookNode.cancel && hookNode.cancel();\n\t\t\t                var storeApi = hookNode.value;\n\t\t\t                hookNode.cancel = storeApi.subscribe(function triggerHookUpdate() {\n\t\t\t                    hookNode._update({ payLoad: function () { return storeApi.getSnapshot.call(null); } });\n\t\t\t                });\n\t\t\t                hookNode.hasEffect = false;\n\t\t\t                setEffectForInstance(hookNode, myreactSharedExports.Effect_TYPE.__initial__);\n\t\t\t            });\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar enableDebugLog = react.__my_react_shared__.enableDebugLog;\n\t\t\tvar currentHookTreeNode$1 = react.__my_react_internal__.currentHookTreeNode, currentScheduler$7 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar updateHookNode = function (renderDispatch, _a, fiber, isHMR) {\n\t\t\t    var _b, _c;\n\t\t\t    var type = _a.type, value = _a.value, reducer = _a.reducer, deps = _a.deps;\n\t\t\t    var renderScheduler = currentScheduler$7.current;\n\t\t\t    var currentHook = (_b = currentHookTreeNode$1.current) === null || _b === void 0 ? void 0 : _b.value;\n\t\t\t    if (!currentHook) {\n\t\t\t        throw new Error(\"[@my-react/react] should have a hookList for current node, this is a bug for @my-react\");\n\t\t\t    }\n\t\t\t    if (type !== (currentHook === null || currentHook === void 0 ? void 0 : currentHook.type)) {\n\t\t\t        throw new Error(getHookTree(currentHookTreeNode$1.current.prev, {\n\t\t\t            lastRender: currentHook === null || currentHook === void 0 ? void 0 : currentHook.type,\n\t\t\t            nextRender: type,\n\t\t\t        }));\n\t\t\t    }\n\t\t\t    setOwnerForInstance(currentHook, fiber);\n\t\t\t    currentHookTreeNode$1.current = currentHookTreeNode$1.current.next;\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useMemo ||\n\t\t\t        currentHook.type === myreactSharedExports.HOOK_TYPE.useEffect ||\n\t\t\t        currentHook.type === myreactSharedExports.HOOK_TYPE.useCallback ||\n\t\t\t        currentHook.type === myreactSharedExports.HOOK_TYPE.useLayoutEffect ||\n\t\t\t        currentHook.type === myreactSharedExports.HOOK_TYPE.useInsertionEffect ||\n\t\t\t        currentHook.type === myreactSharedExports.HOOK_TYPE.useImperativeHandle) {\n\t\t\t        if (deps && !currentHook.deps) {\n\t\t\t            throw new Error(\"[@my-react/react] deps state change\");\n\t\t\t        }\n\t\t\t        if (!deps && currentHook.deps) {\n\t\t\t            throw new Error(\"[@my-react/react] deps state change\");\n\t\t\t        }\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useEffect || currentHook.type === myreactSharedExports.HOOK_TYPE.useLayoutEffect || currentHook.type === myreactSharedExports.HOOK_TYPE.useInsertionEffect) {\n\t\t\t        if (isHMR || !deps || !myreactSharedExports.isArrayEquals(currentHook.deps, deps)) {\n\t\t\t            currentHook.value = value;\n\t\t\t            currentHook.result = value;\n\t\t\t            currentHook.reducer = reducer || currentHook.reducer;\n\t\t\t            currentHook.deps = deps;\n\t\t\t            currentHook.hasEffect = true;\n\t\t\t        }\n\t\t\t        return currentHook;\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useImperativeHandle) {\n\t\t\t        var depsChanged = false;\n\t\t\t        // ref changed also need to trigger effect\n\t\t\t        if (isHMR || !deps || !myreactSharedExports.isNormalEquals(currentHook.value, value) || ((depsChanged = !myreactSharedExports.isArrayEquals(currentHook.deps, deps)), depsChanged)) {\n\t\t\t            currentHook.value = value;\n\t\t\t            currentHook.result = value;\n\t\t\t            currentHook.reducer = depsChanged ? reducer || currentHook.reducer : currentHook.reducer;\n\t\t\t            currentHook.deps = deps;\n\t\t\t            currentHook.hasEffect = true;\n\t\t\t        }\n\t\t\t        return currentHook;\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useSyncExternalStore) {\n\t\t\t        var storeApi_1 = currentHook.value;\n\t\t\t        var newStoreApi_1 = value;\n\t\t\t        var prevResult = storeApi_1.result;\n\t\t\t        var nextResult_1 = safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallGetSnapshot() {\n\t\t\t                return newStoreApi_1.getSnapshot.call(null);\n\t\t\t            },\n\t\t\t        });\n\t\t\t        if (!Object.is(nextResult_1, newStoreApi_1.getSnapshot.call(null))) {\n\t\t\t            throw new Error(\"[@my-react/react] syncExternalStore getSnapshot not stable!\");\n\t\t\t        }\n\t\t\t        currentHook.result = nextResult_1;\n\t\t\t        var checkResultUpdate_1 = function checkResultUpdate() {\n\t\t\t            var prevResult = storeApi_1.result;\n\t\t\t            var nextResult = null;\n\t\t\t            var hasChange = true;\n\t\t\t            try {\n\t\t\t                nextResult = storeApi_1.getSnapshot.call(null);\n\t\t\t                hasChange = !Object.is(prevResult, nextResult);\n\t\t\t            }\n\t\t\t            catch (_a) {\n\t\t\t                hasChange = true;\n\t\t\t            }\n\t\t\t            if (hasChange) {\n\t\t\t                currentHook._update({ isForce: true, isSync: true, payLoad: function () { return nextResult; } });\n\t\t\t            }\n\t\t\t        };\n\t\t\t        if (!Object.is(prevResult, nextResult_1) ||\n\t\t\t            !Object.is(storeApi_1.getSnapshot, newStoreApi_1.getSnapshot) ||\n\t\t\t            !Object.is(storeApi_1.subscribe, newStoreApi_1.subscribe)) {\n\t\t\t            renderDispatch.pendingLayoutEffect(fiber, function invokeLayoutEffectOnHook() {\n\t\t\t                storeApi_1.result = nextResult_1;\n\t\t\t                storeApi_1.getSnapshot = newStoreApi_1.getSnapshot;\n\t\t\t                checkResultUpdate_1();\n\t\t\t            });\n\t\t\t        }\n\t\t\t        if (isHMR || !Object.is(storeApi_1.subscribe, newStoreApi_1.subscribe)) {\n\t\t\t            renderDispatch.pendingEffect(fiber, function invokeEffectOnHook() {\n\t\t\t                currentHook.cancel && currentHook.cancel();\n\t\t\t                checkResultUpdate_1();\n\t\t\t                currentHook.cancel = storeApi_1.subscribe(checkResultUpdate_1);\n\t\t\t            });\n\t\t\t        }\n\t\t\t        return currentHook;\n\t\t\t    }\n\t\t\t    // if (currentHook.type === HOOK_TYPE.useSyncExternalStore) {\n\t\t\t    //   const storeApi = currentHook.value;\n\t\t\t    //   const newStoreApi = value;\n\t\t\t    //   const nextResult = safeCallWithCurrentFiber({\n\t\t\t    //     fiber,\n\t\t\t    //     action: function safeCallGetSnapshot() {\n\t\t\t    //       return newStoreApi.getSnapshot.call(null);\n\t\t\t    //     },\n\t\t\t    //   });\n\t\t\t    //   if (!Object.is(nextResult, newStoreApi.getSnapshot.call(null))) {\n\t\t\t    //     throw new Error(`[@my-react/react] syncExternalStore getSnapshot not stable!`);\n\t\t\t    //   }\n\t\t\t    //   currentHook.result = nextResult;\n\t\t\t    //   if (isHMR || !Object.is(storeApi.subscribe, newStoreApi.subscribe)) {\n\t\t\t    //     storeApi.subscribe = newStoreApi.subscribe;\n\t\t\t    //     currentHook.hasEffect = true;\n\t\t\t    //   }\n\t\t\t    //   storeApi.getSnapshot = newStoreApi.getSnapshot;\n\t\t\t    //   return currentHook;\n\t\t\t    // }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useCallback) {\n\t\t\t        if (isHMR || !deps || !myreactSharedExports.isArrayEquals(currentHook.deps, deps)) {\n\t\t\t            currentHook.value = value;\n\t\t\t            currentHook.result = value;\n\t\t\t            currentHook.deps = deps;\n\t\t\t        }\n\t\t\t        return currentHook;\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useMemo) {\n\t\t\t        if (isHMR || !deps || !myreactSharedExports.isArrayEquals(currentHook.deps, deps)) {\n\t\t\t            currentHook.value = value;\n\t\t\t            currentHook.result = safeCallWithCurrentFiber({\n\t\t\t                fiber: fiber,\n\t\t\t                action: function safeCallMemoOnHook() {\n\t\t\t                    return value.call(null);\n\t\t\t                },\n\t\t\t            });\n\t\t\t            currentHook.deps = deps;\n\t\t\t        }\n\t\t\t        return currentHook;\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useContext) {\n\t\t\t        var contextFiber = getInstanceContextFiber(currentHook);\n\t\t\t        if (!contextFiber || myreactSharedExports.include(contextFiber.state, myreactSharedExports.STATE_TYPE.__unmount__) || !Object.is(currentHook.value, value)) {\n\t\t\t            currentHook.value = value;\n\t\t\t            var providerFiber = renderDispatch.resolveContextFiber(fiber, currentHook.value);\n\t\t\t            var context = renderDispatch.resolveContextValue(providerFiber, currentHook.value);\n\t\t\t            setContextForInstance(currentHook, providerFiber);\n\t\t\t            currentHook.result = context;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            var context = renderDispatch.resolveContextValue(contextFiber, currentHook.value);\n\t\t\t            currentHook.result = context;\n\t\t\t        }\n\t\t\t        return currentHook;\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useReducer) {\n\t\t\t        currentHook.value = value;\n\t\t\t        currentHook.reducer = reducer;\n\t\t\t        return currentHook;\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useDeferredValue) {\n\t\t\t        (_c = currentHook.cancel) === null || _c === void 0 ? void 0 : _c.call(currentHook);\n\t\t\t        currentHook.value = value;\n\t\t\t        if (!Object.is(currentHook.value, currentHook.result)) {\n\t\t\t            currentHook.cancel = renderScheduler.yieldTask(function triggerHookUpdate() {\n\t\t\t                currentHook.result = currentHook.value;\n\t\t\t                currentHook._update({ isForce: true });\n\t\t\t                currentHook.cancel = null;\n\t\t\t            });\n\t\t\t        }\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useDebugValue) {\n\t\t\t        if (!myreactSharedExports.isArrayEquals(currentHook.value, value)) {\n\t\t\t            currentHook.value = value;\n\t\t\t            currentHook.result = value;\n\t\t\t            if (enableDebugLog.current) {\n\t\t\t                console.warn.apply(console, __spreadArray([\"[debug]\"], currentHook.value, false));\n\t\t\t            }\n\t\t\t        }\n\t\t\t    }\n\t\t\t    return currentHook;\n\t\t\t};\n\n\t\t\tvar hookListUnmount = function (renderDispatch, fiber) {\n\t\t\t    var _a, _b;\n\t\t\t    (_b = (_a = fiber.hookList) === null || _a === void 0 ? void 0 : _a.listToFoot) === null || _b === void 0 ? void 0 : _b.call(_a, function invokeHookUnmount(hookNode) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallHookUnmountListener() {\n\t\t\t                var _a, _b;\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.hookUnmount) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(hookNode, fiber); });\n\t\t\t            },\n\t\t\t        });\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallHookNodeUnmount() {\n\t\t\t                hookNode.hasEffect = false;\n\t\t\t                hookNode.cancel && hookNode.cancel();\n\t\t\t                unmountInstance(hookNode);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    });\n\t\t\t};\n\n\t\t\treact.__my_react_shared__.enableDebugFiled;\n\t\t\tvar clearFiberNode = function (renderDispatch, fiber) {\n\t\t\t    hookListUnmount(renderDispatch, fiber);\n\t\t\t    processClassComponentUnmount(renderDispatch, fiber);\n\t\t\t    defaultDeleteCurrentEffect(renderDispatch, fiber);\n\t\t\t    fiber.instance = null;\n\t\t\t    fiber.hookList = null;\n\t\t\t    fiber.updateQueue = null;\n\t\t\t    renderDispatch.commitUnsetRef(fiber);\n\t\t\t};\n\n\t\t\tvar currentScheduler$6 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar hmr = function (fiber, nextType, forceRefresh) {\n\t\t\t    {\n\t\t\t        throw new Error(\"[@my-react/react] can not try to dev refresh this app in prod env!\");\n\t\t\t    }\n\t\t\t};\n\t\t\tfunction hmrRevert(cb) {\n\t\t\t    if (myreactSharedExports.include(this.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    getCurrentDispatchFromFiber(this);\n\t\t\t    triggerRevert();\n\t\t\t}\n\t\t\tfunction hmrUpdate(state, cb) {\n\t\t\t    if (myreactSharedExports.include(this.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var renderScheduler = currentScheduler$6.current;\n\t\t\t    var updater = {\n\t\t\t        type: myreactSharedExports.UpdateQueueType.hmr,\n\t\t\t        trigger: this,\n\t\t\t        isSync: true,\n\t\t\t        isForce: false,\n\t\t\t        isImmediate: true,\n\t\t\t        isRetrigger: false,\n\t\t\t        callback: cb,\n\t\t\t    };\n\t\t\t    renderScheduler.dispatchState(updater);\n\t\t\t}\n\n\t\t\tvar checkIsMyReactFiberNode = function (fiber) {\n\t\t\t    return (fiber &&\n\t\t\t        typeof fiber === \"object\" &&\n\t\t\t        fiber.constructor &&\n\t\t\t        fiber.constructor.prototype &&\n\t\t\t        Object.prototype.hasOwnProperty.call(fiber.constructor.prototype, \"isMyReactFiberNode\") &&\n\t\t\t        fiber.constructor.prototype.isMyReactFiberNode);\n\t\t\t};\n\n\t\t\tvar enableConcurrentMode = react.__my_react_shared__.enableConcurrentMode;\n\t\t\tvar currentScheduler$5 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar processUpdateOnFiber = function (renderDispatch, fiber, _isImmediate, _isRetrigger) {\n\t\t\t    var renderScheduler = currentScheduler$5.current;\n\t\t\t    var flag = enableConcurrentMode.current;\n\t\t\t    var updateState = null;\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__class__)) {\n\t\t\t        updateState = processClassComponentUpdateQueue(renderDispatch, fiber, flag);\n\t\t\t    }\n\t\t\t    else if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__function__)) {\n\t\t\t        updateState = processFunctionComponentUpdateQueue(renderDispatch, fiber, flag);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        updateState = processNormalComponentUpdate(fiber);\n\t\t\t    }\n\t\t\t    if (updateState === null || updateState === void 0 ? void 0 : updateState.needUpdate) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallFiberTriggerListener() {\n\t\t\t                var _a, _b;\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberTrigger) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(fiber, updateState); });\n\t\t\t            },\n\t\t\t        });\n\t\t\t        // TODO get from updateState ?\n\t\t\t        if (updateState.isRetrigger) {\n\t\t\t            fiber.state = myreactSharedExports.remove(fiber.state, myreactSharedExports.STATE_TYPE.__stable__);\n\t\t\t            fiber.state = myreactSharedExports.merge(fiber.state, myreactSharedExports.STATE_TYPE.__retrigger__);\n\t\t\t            if (updateState.callback) {\n\t\t\t                renderDispatch.pendingLayoutEffect(fiber, updateState.callback, { stickyToFoot: true });\n\t\t\t            }\n\t\t\t            renderDispatch.runtimeFiber.retriggerFiber = fiber;\n\t\t\t            // render flow is done, here should trigger a new render flow\n\t\t\t            if (!renderDispatch.runtimeFiber.nextWorkingFiber) {\n\t\t\t                renderDispatch.runtimeFiber.nextWorkingFiber = fiber;\n\t\t\t                mountLoopAllFromScheduler(renderDispatch);\n\t\t\t            }\n\t\t\t            return;\n\t\t\t        }\n\t\t\t        if (updateState.isSync) {\n\t\t\t            if (updateState.isImmediate) {\n\t\t\t                triggerUpdate(renderDispatch, fiber, updateState.isForce ? myreactSharedExports.STATE_TYPE.__triggerSyncForce__ : myreactSharedExports.STATE_TYPE.__triggerSync__, updateState.callback);\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                renderScheduler.microTask(function triggerSyncUpdateOnFiber() {\n\t\t\t                    triggerUpdate(renderDispatch, fiber, updateState.isForce ? myreactSharedExports.STATE_TYPE.__triggerSyncForce__ : myreactSharedExports.STATE_TYPE.__triggerSync__, updateState.callback);\n\t\t\t                });\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            if (updateState.isImmediate) {\n\t\t\t                triggerUpdate(renderDispatch, fiber, updateState.isForce ? myreactSharedExports.STATE_TYPE.__triggerConcurrentForce__ : myreactSharedExports.STATE_TYPE.__triggerConcurrent__, updateState.callback);\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                renderScheduler.microTask(function triggerConcurrentUpdateOnFiber() {\n\t\t\t                    triggerUpdate(renderDispatch, fiber, updateState.isForce ? myreactSharedExports.STATE_TYPE.__triggerConcurrentForce__ : myreactSharedExports.STATE_TYPE.__triggerConcurrent__, updateState.callback);\n\t\t\t                });\n\t\t\t            }\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar prepareUpdateOnFiber = function (renderDispatch, fiber, isImmediate, isRetrigger) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var renderScheduler = currentScheduler$5.current;\n\t\t\t    if (isImmediate) {\n\t\t\t        processUpdateOnFiber(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        renderScheduler.microTask(function asyncProcessUpdateOnFiber() {\n\t\t\t            processUpdateOnFiber(renderDispatch, fiber);\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\t\t\tvar SyncState = myreactSharedExports.merge(myreactSharedExports.STATE_TYPE.__triggerSyncForce__, myreactSharedExports.STATE_TYPE.__triggerSync__);\n\t\t\tvar ForceState = myreactSharedExports.merge(myreactSharedExports.STATE_TYPE.__triggerSyncForce__, myreactSharedExports.STATE_TYPE.__triggerConcurrentForce__);\n\t\t\tvar triggerUpdateOnFiber = function (fiber, state, callback) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var renderScheduler = currentScheduler$5.current;\n\t\t\t    var updater = {\n\t\t\t        type: myreactSharedExports.UpdateQueueType.trigger,\n\t\t\t        trigger: fiber,\n\t\t\t        isSync: myreactSharedExports.include(state, SyncState),\n\t\t\t        isForce: myreactSharedExports.include(state, ForceState),\n\t\t\t        callback: callback,\n\t\t\t    };\n\t\t\t    renderScheduler.dispatchState(updater);\n\t\t\t};\n\n\t\t\tvar emptyProps = {};\n\t\t\tvar MyReactFiberNode = /** @class */ (function () {\n\t\t\t    function MyReactFiberNode(element) {\n\t\t\t        this.state = myreactSharedExports.STATE_TYPE.__initial__;\n\t\t\t        this.patch = myreactSharedExports.PATCH_TYPE.__initial__;\n\t\t\t        this.type = exports.NODE_TYPE.__initial__;\n\t\t\t        this.child = null;\n\t\t\t        this.parent = null;\n\t\t\t        this.sibling = null;\n\t\t\t        this.pendingProps = emptyProps;\n\t\t\t        this.memoizedProps = emptyProps;\n\t\t\t        this.state = myreactSharedExports.STATE_TYPE.__create__;\n\t\t\t        this._installElement(element);\n\t\t\t    }\n\t\t\t    MyReactFiberNode.prototype._installElement = function (element) {\n\t\t\t        var _a = getTypeFromElementNode(element), key = _a.key, ref = _a.ref, nodeType = _a.nodeType, elementType = _a.elementType, pendingProps = _a.pendingProps, pendingText = _a.pendingText;\n\t\t\t        this.ref = ref;\n\t\t\t        this.key = key;\n\t\t\t        this.type = nodeType;\n\t\t\t        this.elementType = elementType;\n\t\t\t        this.pendingProps = pendingProps;\n\t\t\t        if (typeof pendingText === \"string\") {\n\t\t\t            this.pendingText = pendingText;\n\t\t\t        }\n\t\t\t        return element;\n\t\t\t    };\n\t\t\t    MyReactFiberNode.prototype._addDependence = function (instance) {\n\t\t\t        this.dependence = this.dependence || new Set();\n\t\t\t        this.dependence.add(instance);\n\t\t\t    };\n\t\t\t    MyReactFiberNode.prototype._delDependence = function (instance) {\n\t\t\t        var _a;\n\t\t\t        (_a = this.dependence) === null || _a === void 0 ? void 0 : _a.delete(instance);\n\t\t\t    };\n\t\t\t    MyReactFiberNode.prototype._update = function (state) {\n\t\t\t        triggerUpdateOnFiber(this, state);\n\t\t\t    };\n\t\t\t    return MyReactFiberNode;\n\t\t\t}());\n\t\t\tObject.defineProperty(MyReactFiberNode.prototype, \"isMyReactFiberNode\", {\n\t\t\t    value: true,\n\t\t\t    configurable: true,\n\t\t\t});\n\t\t\tObject.defineProperty(MyReactFiberNode.prototype, \"return\", {\n\t\t\t    get: function () {\n\t\t\t        return this.parent;\n\t\t\t    },\n\t\t\t    configurable: true,\n\t\t\t});\n\t\t\tObject.defineProperty(MyReactFiberNode.prototype, \"stateNode\", {\n\t\t\t    get: function () {\n\t\t\t        return this.nativeNode || this.containerNode;\n\t\t\t    },\n\t\t\t    configurable: true,\n\t\t\t});\n\n\t\t\tvar createFiberNode = function (renderDispatch, _a, element) {\n\t\t\t    var parent = _a.parent, _b = _a.type, type = _b === void 0 ? \"append\" : _b;\n\t\t\t    var newFiberNode = new MyReactFiberNode(element);\n\t\t\t    fiberToDispatchMap.set(newFiberNode, renderDispatch);\n\t\t\t    newFiberNode.parent = parent;\n\t\t\t    parent.child = parent.child || newFiberNode;\n\t\t\t    renderDispatch.pendingCreate(newFiberNode);\n\t\t\t    renderDispatch.pendingUpdate(newFiberNode);\n\t\t\t    if (type === \"position\") {\n\t\t\t        renderDispatch.pendingPosition(newFiberNode);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        renderDispatch.pendingAppend(newFiberNode);\n\t\t\t    }\n\t\t\t    renderDispatch.pendingRef(newFiberNode);\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: newFiberNode,\n\t\t\t        action: function safeCallPatchToFiberInitial() {\n\t\t\t            var _a;\n\t\t\t            (_a = renderDispatch.patchToFiberInitial) === null || _a === void 0 ? void 0 : _a.call(renderDispatch, newFiberNode);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: newFiberNode,\n\t\t\t        action: function safeCallFiberInitialListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberInitial) === null || _b === void 0 ? void 0 : _b.forEach(function (listener) { return listener(newFiberNode); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    if (myreactSharedExports.exclude(newFiberNode.patch, myreactSharedExports.PATCH_TYPE.__update__)) {\n\t\t\t        newFiberNode.memoizedProps = newFiberNode.pendingProps;\n\t\t\t    }\n\t\t\t    return newFiberNode;\n\t\t\t};\n\n\t\t\tvar updateFiberNode = function (renderDispatch, _a, nextElement) {\n\t\t\t    var fiber = _a.fiber, parent = _a.parent, prevFiber = _a.prevFiber;\n\t\t\t    var prevElementType = fiber.elementType;\n\t\t\t    var prevProps = fiber.memoizedProps;\n\t\t\t    var prevRef = fiber.ref;\n\t\t\t    fiber.parent = parent;\n\t\t\t    fiber.sibling = null;\n\t\t\t    parent.child = parent.child || fiber;\n\t\t\t    nextElement = fiber._installElement(nextElement);\n\t\t\t    var nextElementType = fiber.elementType;\n\t\t\t    var nextProps = fiber.pendingProps;\n\t\t\t    var nextRef = fiber.ref;\n\t\t\t    if (prevElementType !== nextElementType || prevProps !== nextProps) {\n\t\t\t        if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__memo__)) {\n\t\t\t            var typedElement = nextElement;\n\t\t\t            var typedElementType = typedElement.type;\n\t\t\t            var compare = typedElementType.compare || myreactSharedExports.isNormalEquals;\n\t\t\t            if (myreactSharedExports.exclude(fiber.state, myreactSharedExports.STATE_TYPE.__triggerSync__ | myreactSharedExports.STATE_TYPE.__triggerConcurrent__ | myreactSharedExports.STATE_TYPE.__triggerSyncForce__ | myreactSharedExports.STATE_TYPE.__triggerConcurrentForce__) &&\n\t\t\t                compare(fiber.pendingProps, fiber.memoizedProps)) {\n\t\t\t                fiber.state = myreactSharedExports.STATE_TYPE.__stable__;\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                fiber.state = myreactSharedExports.remove(fiber.state, myreactSharedExports.STATE_TYPE.__stable__);\n\t\t\t                fiber.state = myreactSharedExports.merge(fiber.state, myreactSharedExports.STATE_TYPE.__inherit__);\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            fiber.state = myreactSharedExports.remove(fiber.state, myreactSharedExports.STATE_TYPE.__stable__);\n\t\t\t            fiber.state = myreactSharedExports.merge(fiber.state, myreactSharedExports.STATE_TYPE.__inherit__);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    if (fiber.state !== myreactSharedExports.STATE_TYPE.__stable__) {\n\t\t\t        if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__plain__)) {\n\t\t\t            if (!myreactSharedExports.isNormalEquals(fiber.pendingProps, fiber.memoizedProps, function (key) { return key === \"children\"; })) {\n\t\t\t                renderDispatch.pendingUpdate(fiber);\n\t\t\t            }\n\t\t\t        }\n\t\t\t        if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__text__)) {\n\t\t\t            renderDispatch.pendingUpdate(fiber);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    if (nextRef && prevRef !== nextRef) {\n\t\t\t        renderDispatch.pendingRef(fiber);\n\t\t\t    }\n\t\t\t    if (fiber !== prevFiber) {\n\t\t\t        renderDispatch.pendingPosition(fiber);\n\t\t\t    }\n\t\t\t    // if (exclude(fiber.patch, PATCH_TYPE.__update__)) {\n\t\t\t    //   fiber.memoizedProps = fiber.pendingProps;\n\t\t\t    // }\n\t\t\t    return fiber;\n\t\t\t};\n\n\t\t\t// no need to resolve map for this fiber, this code only used for fiberRoot init\n\t\t\tvar initialFiberNode = function (renderDispatch, fiber) {\n\t\t\t    fiberToDispatchMap.set(fiber, renderDispatch);\n\t\t\t    renderDispatch.pendingCreate(fiber);\n\t\t\t    renderDispatch.pendingUpdate(fiber);\n\t\t\t    renderDispatch.pendingAppend(fiber);\n\t\t\t    renderDispatch.pendingRef(fiber);\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallPatchToFiberInitial() {\n\t\t\t            var _a;\n\t\t\t            (_a = renderDispatch.patchToFiberInitial) === null || _a === void 0 ? void 0 : _a.call(renderDispatch, fiber);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberInitialListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberInitial) === null || _b === void 0 ? void 0 : _b.forEach(function (listener) { return listener(fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    if (myreactSharedExports.exclude(fiber.patch, myreactSharedExports.PATCH_TYPE.__update__)) {\n\t\t\t        fiber.memoizedProps = fiber.pendingProps;\n\t\t\t    }\n\t\t\t    return fiber;\n\t\t\t};\n\n\t\t\treact.__my_react_shared__.enableDebugFiled;\n\t\t\tvar unmountFiberNode = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    hookListUnmount(renderDispatch, fiber);\n\t\t\t    processClassComponentUnmount(renderDispatch, fiber);\n\t\t\t    unmountInstance(fiber.instance);\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallCommitUnsetRef() {\n\t\t\t            renderDispatch.commitUnsetRef(fiber);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallCommitClear() {\n\t\t\t            renderDispatch.commitClear(fiber);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallPatchToFiberUnmount() {\n\t\t\t            var _a;\n\t\t\t            (_a = renderDispatch.patchToFiberUnmount) === null || _a === void 0 ? void 0 : _a.call(renderDispatch, fiber);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberUnmountListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberUnmount) === null || _b === void 0 ? void 0 : _b.forEach(function (listener) { return listener(fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    fiberToDispatchMap.delete(fiber);\n\t\t\t    renderDispatch.runtimeMap.insertionEffectMap.delete(fiber);\n\t\t\t    renderDispatch.runtimeMap.effectMap.delete(fiber);\n\t\t\t    renderDispatch.runtimeMap.layoutEffectMap.delete(fiber);\n\t\t\t    renderDispatch.runtimeMap.unmountMap.delete(fiber);\n\t\t\t    renderDispatch.runtimeMap.eventMap.delete(fiber);\n\t\t\t    renderDispatch.runtimeMap.triggerCallbackMap.delete(fiber);\n\t\t\t    if (Boolean(false) === false) {\n\t\t\t        // fiber.child = null;\n\t\t\t        // fiber.parent = null;\n\t\t\t        // fiber.sibling = null;\n\t\t\t        fiber.instance = null;\n\t\t\t        fiber.hookList = null;\n\t\t\t        fiber.dependence = null;\n\t\t\t        fiber.nativeNode = null;\n\t\t\t        fiber.updateQueue = null;\n\t\t\t    }\n\t\t\t    fiber.patch = myreactSharedExports.PATCH_TYPE.__initial__;\n\t\t\t    fiber.state = myreactSharedExports.STATE_TYPE.__unmount__;\n\t\t\t};\n\n\t\t\treact.__my_react_shared__.enableDebugFiled;\n\t\t\tvar getIsSameTypeNode = function (newChild, draftFiber) {\n\t\t\t    if (!draftFiber)\n\t\t\t        return false;\n\t\t\t    var result = checkIsSameType(draftFiber, newChild);\n\t\t\t    return result;\n\t\t\t};\n\t\t\tvar getExistingChildren = function (parentFiber) {\n\t\t\t    var existingChildrenMap = new Map();\n\t\t\t    var existingChildrenArray = [];\n\t\t\t    var child = parentFiber.child;\n\t\t\t    var index = 0;\n\t\t\t    while (child) {\n\t\t\t        var key = typeof child.key === \"string\" ? child.key : index;\n\t\t\t        var existingChild = existingChildrenMap.get(key) || new myreactSharedExports.ListTree();\n\t\t\t        existingChild.push(child);\n\t\t\t        existingChildrenMap.set(key, existingChild);\n\t\t\t        existingChildrenArray.push(child);\n\t\t\t        child = child.sibling;\n\t\t\t        index++;\n\t\t\t    }\n\t\t\t    return { existingChildrenMap: existingChildrenMap, existingChildrenArray: existingChildrenArray };\n\t\t\t};\n\t\t\tvar dynamicFragmentProps = { wrap: true };\n\t\t\tvar createFragmentWithInitial = function (renderDispatch, newChild, parentFiber) {\n\t\t\t    // TODO make there are not a element\n\t\t\t    var newElement = react.createElement(myreactSharedExports.Fragment, dynamicFragmentProps, newChild);\n\t\t\t    var newFiber = createFiberNode(renderDispatch, { parent: parentFiber }, newElement);\n\t\t\t    return newFiber;\n\t\t\t};\n\t\t\tvar createFragmentWithUpdate = function (renderDispatch, newChild, parentFiber) {\n\t\t\t    var newElement = react.createElement(myreactSharedExports.Fragment, dynamicFragmentProps, newChild);\n\t\t\t    var newFiber = createFiberNode(renderDispatch, { parent: parentFiber, type: \"position\" }, newElement);\n\t\t\t    return newFiber;\n\t\t\t};\n\t\t\tvar deleteIfNeed = function (renderDispatch, parentFiber, existingChildren) {\n\t\t\t    if (existingChildren.size) {\n\t\t\t        existingChildren.forEach(function forEachInvokePendingUnmountList(list) {\n\t\t\t            list.listToFoot(function invokePendingUnmountList(f) {\n\t\t\t                renderDispatch.pendingUnmount(parentFiber, f);\n\t\t\t            });\n\t\t\t        });\n\t\t\t        renderDispatch.generateChangedList(parentFiber, true);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar getNewFiberWithUpdate = function (renderDispatch, newChild, parentFiber, existingChildren, prevFiberChild, index) {\n\t\t\t    if (Array.isArray(newChild)) {\n\t\t\t        var draftList_1 = existingChildren.get(index);\n\t\t\t        // TODO try to get the same type node?\n\t\t\t        var draftFiber_1 = draftList_1 === null || draftList_1 === void 0 ? void 0 : draftList_1.shift();\n\t\t\t        if (draftList_1 && !draftList_1.length) {\n\t\t\t            existingChildren.delete(index);\n\t\t\t        }\n\t\t\t        // same type\n\t\t\t        if (myreactSharedExports.include(draftFiber_1 === null || draftFiber_1 === void 0 ? void 0 : draftFiber_1.type, exports.NODE_TYPE.__fragment__)) {\n\t\t\t            var newElement = react.createElement(myreactSharedExports.Fragment, dynamicFragmentProps, newChild);\n\t\t\t            draftFiber_1 !== prevFiberChild && renderDispatch.generateChangedList(parentFiber);\n\t\t\t            return updateFiberNode(renderDispatch, { fiber: draftFiber_1, parent: parentFiber, prevFiber: prevFiberChild }, newElement);\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            renderDispatch.generateChangedList(parentFiber);\n\t\t\t            renderDispatch.pendingUnmount(parentFiber, draftFiber_1);\n\t\t\t            return createFragmentWithUpdate(renderDispatch, newChild, parentFiber);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    var keyToGet = react.isValidElement(newChild) && typeof newChild.key === \"string\" ? newChild.key : index;\n\t\t\t    var draftList = existingChildren.get(keyToGet);\n\t\t\t    var draftFiber = draftList === null || draftList === void 0 ? void 0 : draftList.shift();\n\t\t\t    if (draftList && !draftList.length) {\n\t\t\t        existingChildren.delete(keyToGet);\n\t\t\t    }\n\t\t\t    var isSameType = getIsSameTypeNode(newChild, draftFiber);\n\t\t\t    if (isSameType) {\n\t\t\t        draftFiber !== prevFiberChild && renderDispatch.generateChangedList(parentFiber);\n\t\t\t        return updateFiberNode(renderDispatch, { fiber: draftFiber, parent: parentFiber, prevFiber: prevFiberChild }, newChild);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        draftFiber && renderDispatch.pendingUnmount(parentFiber, draftFiber);\n\t\t\t        renderDispatch.generateChangedList(parentFiber);\n\t\t\t        return createFiberNode(renderDispatch, { parent: parentFiber, type: \"position\" }, newChild);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar getNewFiberWithInitial = function (renderDispatch, newChild, parentFiber) {\n\t\t\t    // wrapper array child item as a Fragment fiber node, so all of the children will be a fiber node\n\t\t\t    // and could be add to the child list\n\t\t\t    if (Array.isArray(newChild))\n\t\t\t        return createFragmentWithInitial(renderDispatch, newChild, parentFiber);\n\t\t\t    return createFiberNode(renderDispatch, { parent: parentFiber }, newChild);\n\t\t\t};\n\t\t\tvar transformChildrenFiber = function (renderDispatch, parentFiber, children) {\n\t\t\t    var isUpdate = myreactSharedExports.exclude(parentFiber.state, myreactSharedExports.STATE_TYPE.__create__);\n\t\t\t    var isHMR = myreactSharedExports.include(parentFiber.state, myreactSharedExports.STATE_TYPE.__hmr__);\n\t\t\t    var isRetrigger = myreactSharedExports.include(parentFiber.state, myreactSharedExports.STATE_TYPE.__retrigger__);\n\t\t\t    // is current is retrigger update, skip update children\n\t\t\t    if (isRetrigger)\n\t\t\t        return;\n\t\t\t    if (isUpdate || isHMR) {\n\t\t\t        var _a = getExistingChildren(parentFiber), existingChildrenMap = _a.existingChildrenMap, existingChildrenArray = _a.existingChildrenArray;\n\t\t\t        parentFiber.child = null;\n\t\t\t        if (Array.isArray(children)) {\n\t\t\t            var newChildren = children;\n\t\t\t            var index = 0;\n\t\t\t            var lastFiber = null;\n\t\t\t            while (index < newChildren.length) {\n\t\t\t                var newChild = newChildren[index];\n\t\t\t                var newFiber = getNewFiberWithUpdate(renderDispatch, newChild, parentFiber, existingChildrenMap, existingChildrenArray[index] || null, index);\n\t\t\t                lastFiber && (lastFiber.sibling = newFiber);\n\t\t\t                lastFiber = newFiber;\n\t\t\t                index++;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            getNewFiberWithUpdate(renderDispatch, children, parentFiber, existingChildrenMap, existingChildrenArray[0], 0);\n\t\t\t        }\n\t\t\t        deleteIfNeed(renderDispatch, parentFiber, existingChildrenMap);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        renderDispatch.generateChangedList(parentFiber);\n\t\t\t        var existingChildrenMap = getExistingChildren(parentFiber).existingChildrenMap;\n\t\t\t        deleteIfNeed(renderDispatch, parentFiber, existingChildrenMap);\n\t\t\t        parentFiber.child = null;\n\t\t\t        if (Array.isArray(children)) {\n\t\t\t            var newChildren = children;\n\t\t\t            var lastFiber = null;\n\t\t\t            var index = 0;\n\t\t\t            while (index < newChildren.length) {\n\t\t\t                var newChild = newChildren[index];\n\t\t\t                var newFiber = getNewFiberWithInitial(renderDispatch, newChild, parentFiber);\n\t\t\t                lastFiber && (lastFiber.sibling = newFiber);\n\t\t\t                lastFiber = newFiber;\n\t\t\t                index++;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            getNewFiberWithInitial(renderDispatch, children, parentFiber);\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar currentComponentFiber$2 = react.__my_react_internal__.currentComponentFiber, MyReactInternalInstance$3 = react.__my_react_internal__.MyReactInternalInstance;\n\t\t\tvar processProvider = function (renderDispatch, fiber) {\n\t\t\t    if (renderDispatch.isAppMounted) {\n\t\t\t        var prevProps = fiber.memoizedProps.value;\n\t\t\t        var nextProps = fiber.pendingProps.value;\n\t\t\t        if (!myreactSharedExports.isNormalEquals(prevProps, nextProps)) {\n\t\t\t            prepareUpdateAllDependence(renderDispatch, fiber);\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processConsumer = function (renderDispatch, fiber) {\n\t\t\t    var typedElementType = fiber.elementType;\n\t\t\t    var isUpdate = !!fiber.instance;\n\t\t\t    fiber.instance = fiber.instance || new MyReactInternalInstance$3();\n\t\t\t    !isUpdate && initInstance(fiber.instance);\n\t\t\t    !isUpdate && setOwnerForInstance(fiber.instance, fiber);\n\t\t\t    var Context = typedElementType.Context;\n\t\t\t    currentComponentFiber$2.current = fiber;\n\t\t\t    var contextFiber = getInstanceContextFiber(fiber.instance);\n\t\t\t    var finalContext = null;\n\t\t\t    if (!contextFiber || myreactSharedExports.include(contextFiber.state, myreactSharedExports.STATE_TYPE.__unmount__)) {\n\t\t\t        var providerFiber = renderDispatch.resolveContextFiber(fiber, Context);\n\t\t\t        var context = renderDispatch.resolveContextValue(providerFiber, Context);\n\t\t\t        finalContext = context;\n\t\t\t        setContextForInstance(fiber.instance, providerFiber);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        var context = renderDispatch.resolveContextValue(contextFiber, Context);\n\t\t\t        finalContext = context;\n\t\t\t    }\n\t\t\t    var typedChildren = fiber.pendingProps.children;\n\t\t\t    var children = safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallConsumerChildren() {\n\t\t\t            return typedChildren(finalContext);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    currentComponentFiber$2.current = null;\n\t\t\t    return children;\n\t\t\t};\n\n\t\t\tvar currentHookTreeNode = react.__my_react_internal__.currentHookTreeNode, currentHookNodeIndex$1 = react.__my_react_internal__.currentHookNodeIndex, currentScheduler$4 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar processFunction = function (fiber) {\n\t\t\t    var _a;\n\t\t\t    currentHookTreeNode.current = (_a = fiber.hookList) === null || _a === void 0 ? void 0 : _a.head;\n\t\t\t    currentHookNodeIndex$1.current = 0;\n\t\t\t    var typedElementType = fiber.elementType;\n\t\t\t    var children = null;\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__forwardRef__)) {\n\t\t\t        var typedElementTypeWithRef_1 = typedElementType;\n\t\t\t        children = safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallForwardRefFunctionalComponent() {\n\t\t\t                var _a, _b;\n\t\t\t                var re = undefined;\n\t\t\t                try {\n\t\t\t                    re = typedElementTypeWithRef_1(fiber.pendingProps, fiber.ref);\n\t\t\t                }\n\t\t\t                catch (e) {\n\t\t\t                    if (myreactSharedExports.isPromise(e)) {\n\t\t\t                        re = (_b = (_a = currentScheduler$4.current) === null || _a === void 0 ? void 0 : _a.dispatchPromise) === null || _b === void 0 ? void 0 : _b.call(_a, { fiber: fiber, promise: e });\n\t\t\t                    }\n\t\t\t                    else {\n\t\t\t                        throw e;\n\t\t\t                    }\n\t\t\t                }\n\t\t\t                return re;\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        children = safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallFunctionalComponent() {\n\t\t\t                var _a, _b;\n\t\t\t                var re = undefined;\n\t\t\t                try {\n\t\t\t                    re = typedElementType(fiber.pendingProps);\n\t\t\t                }\n\t\t\t                catch (e) {\n\t\t\t                    if (myreactSharedExports.isPromise(e)) {\n\t\t\t                        re = (_b = (_a = currentScheduler$4.current) === null || _a === void 0 ? void 0 : _a.dispatchPromise) === null || _b === void 0 ? void 0 : _b.call(_a, { fiber: fiber, promise: e });\n\t\t\t                    }\n\t\t\t                    else {\n\t\t\t                        throw e;\n\t\t\t                    }\n\t\t\t                }\n\t\t\t                return re;\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    currentHookNodeIndex$1.current = 0;\n\t\t\t    currentHookTreeNode.current = null;\n\t\t\t    return children;\n\t\t\t};\n\n\t\t\tvar WrapperByLazyScope = function (children) { return react.createElement(myreactSharedExports.ScopeLazy, null, children); };\n\t\t\tvar WrapperBySuspenseScope = function (children) {\n\t\t\t    return react.createElement(myreactSharedExports.ScopeSuspense, null, react.createElement(myreactSharedExports.Comment, { mode: \"s\" }), children, react.createElement(myreactSharedExports.Comment, { mode: \"e\" }));\n\t\t\t};\n\t\t\tvar isCommentElement = function (fiber) { return myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__comment__); };\n\t\t\tvar isCommentStartElement = function (fiber) {\n\t\t\t    if (isCommentElement(fiber)) {\n\t\t\t        return fiber.pendingProps[\"mode\"] === \"s\";\n\t\t\t    }\n\t\t\t    return false;\n\t\t\t};\n\t\t\tvar isCommentEndElement = function (fiber) {\n\t\t\t    if (isCommentElement(fiber)) {\n\t\t\t        return fiber.pendingProps[\"mode\"] === \"e\";\n\t\t\t    }\n\t\t\t    return false;\n\t\t\t};\n\n\t\t\tvar enableSuspenseRoot$1 = react.__my_react_shared__.enableSuspenseRoot;\n\t\t\tvar currentScheduler$3 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar loadLazy = function (renderDispatch, typedElementType) { return __awaiter(void 0, void 0, void 0, function () {\n\t\t\t    var loadedPromise, loaded, render, e_1;\n\t\t\t    return __generator(this, function (_a) {\n\t\t\t        switch (_a.label) {\n\t\t\t            case 0:\n\t\t\t                if (typedElementType._loaded)\n\t\t\t                    return [2 /*return*/];\n\t\t\t                _a.label = 1;\n\t\t\t            case 1:\n\t\t\t                _a.trys.push([1, 3, 4, 5]);\n\t\t\t                typedElementType._loading = true;\n\t\t\t                loadedPromise = typedElementType.loader();\n\t\t\t                return [4 /*yield*/, Promise.resolve(loadedPromise)];\n\t\t\t            case 2:\n\t\t\t                loaded = _a.sent();\n\t\t\t                render = typeof loaded === \"object\" && (typeof (loaded === null || loaded === void 0 ? void 0 : loaded.default) === \"function\" || typeof (loaded === null || loaded === void 0 ? void 0 : loaded.default) === \"object\") ? loaded.default : loaded;\n\t\t\t                typedElementType.render = render;\n\t\t\t                return [3 /*break*/, 5];\n\t\t\t            case 3:\n\t\t\t                e_1 = _a.sent();\n\t\t\t                typedElementType._error = e_1;\n\t\t\t                return [3 /*break*/, 5];\n\t\t\t            case 4:\n\t\t\t                typedElementType._loaded = true;\n\t\t\t                typedElementType._loading = false;\n\t\t\t                return [7 /*endfinally*/];\n\t\t\t            case 5: return [2 /*return*/];\n\t\t\t        }\n\t\t\t    });\n\t\t\t}); };\n\t\t\tvar processLazy = function (renderDispatch, fiber) {\n\t\t\t    var _a, _b;\n\t\t\t    var typedElementType = fiber.elementType;\n\t\t\t    if (typedElementType._error) {\n\t\t\t        (_b = (_a = currentScheduler$3.current).dispatchError) === null || _b === void 0 ? void 0 : _b.call(_a, { fiber: fiber, error: typedElementType._error });\n\t\t\t        return null;\n\t\t\t    }\n\t\t\t    if (typedElementType._loaded === true) {\n\t\t\t        var render = typedElementType.render;\n\t\t\t        return WrapperByLazyScope(react.createElement(render, fiber.pendingProps));\n\t\t\t    }\n\t\t\t    typedElementType._list = typedElementType._list || new Set();\n\t\t\t    typedElementType._list.add(fiber);\n\t\t\t    var suspenseFiber = renderDispatch.resolveSuspenseFiber(fiber);\n\t\t\t    if (suspenseFiber) {\n\t\t\t        var suspenseField = getInstanceFieldByInstance(suspenseFiber.instance);\n\t\t\t        suspenseField.asyncLoadList.uniPush(typedElementType);\n\t\t\t        renderDispatch.pendingSuspenseFiberArray.uniPush(suspenseFiber);\n\t\t\t        return null;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        // TODO  update flow\n\t\t\t        if (enableSuspenseRoot$1.current && !renderDispatch.isAppMounted) {\n\t\t\t            var suspenseField = getInstanceFieldByInstance(renderDispatch);\n\t\t\t            suspenseField.asyncLoadList.uniPush(typedElementType);\n\t\t\t            return null;\n\t\t\t        }\n\t\t\t        if (typedElementType._loading)\n\t\t\t            return null;\n\t\t\t        typedElementType._loading = true;\n\t\t\t        var renderScheduler_1 = currentScheduler$3.current;\n\t\t\t        renderDispatch.processLazy(typedElementType).then(function () {\n\t\t\t            fiber.state = myreactSharedExports.STATE_TYPE.__triggerSync__;\n\t\t\t            typedElementType._list.delete(fiber);\n\t\t\t            var updater = {\n\t\t\t                type: myreactSharedExports.UpdateQueueType.lazy,\n\t\t\t                trigger: fiber,\n\t\t\t                isSync: true,\n\t\t\t                isForce: true,\n\t\t\t                payLoad: typedElementType,\n\t\t\t            };\n\t\t\t            renderScheduler_1.dispatchState(updater);\n\t\t\t        });\n\t\t\t        return null;\n\t\t\t    }\n\t\t\t};\n\n\t\t\treact.__my_react_internal__.MyReactInternalInstance; var instanceToInitialFieldMap = react.__my_react_internal__.instanceToInitialFieldMap;\n\t\t\t// support private instance field\n\t\t\tvar instanceMap = instanceToInitialFieldMap;\n\t\t\tvar initInstance = function (instance) {\n\t\t\t    var exist = instanceMap.get(instance);\n\t\t\t    if (exist)\n\t\t\t        return exist;\n\t\t\t    var field = {\n\t\t\t        _owner: null,\n\t\t\t        _context: null,\n\t\t\t        _subscribe: null,\n\t\t\t        effect: myreactSharedExports.Effect_TYPE.__initial__,\n\t\t\t    };\n\t\t\t    instanceMap.set(instance, field);\n\t\t\t    return field;\n\t\t\t};\n\t\t\tvar initVisibleInstance = function (instance) {\n\t\t\t    var field = getInstanceFieldByInstance(instance);\n\t\t\t    if (!field)\n\t\t\t        throw new Error(\"[@my-react/react] can not get field for instance, this is a bug for @my-react\");\n\t\t\t    var typedField = field;\n\t\t\t    typedField.isHidden = false;\n\t\t\t};\n\t\t\tvar setOwnerForInstance = function (instance, fiber, instanceField) {\n\t\t\t    var field = instanceField || instanceMap.get(instance);\n\t\t\t    instance._reactInternals = fiber;\n\t\t\t    // unmount instance\n\t\t\t    if (!field)\n\t\t\t        return;\n\t\t\t    field._owner = fiber;\n\t\t\t};\n\t\t\tvar setContextForInstance = function (instance, fiber, instanceField) {\n\t\t\t    var _a, _b;\n\t\t\t    var field = instanceField || instanceMap.get(instance);\n\t\t\t    // unmount instance\n\t\t\t    if (!field)\n\t\t\t        return;\n\t\t\t    (_a = field._context) === null || _a === void 0 ? void 0 : _a._delDependence(instance);\n\t\t\t    field._context = fiber;\n\t\t\t    (_b = field._context) === null || _b === void 0 ? void 0 : _b._addDependence(instance);\n\t\t\t};\n\t\t\tvar setSubscribeForInstance = function (instance, fiber, instanceField) {\n\t\t\t    var field = instanceField || instanceMap.get(instance);\n\t\t\t    // unmount instance\n\t\t\t    if (!field)\n\t\t\t        return;\n\t\t\t    if (!field._subscribe) {\n\t\t\t        field._subscribe = new Set();\n\t\t\t    }\n\t\t\t    if (fiber) {\n\t\t\t        field._subscribe.add(fiber);\n\t\t\t        fiber._addDependence(instance);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar setEffectForInstance = function (instance, effect, instanceField) {\n\t\t\t    var field = instanceField || instanceMap.get(instance);\n\t\t\t    // unmount instance\n\t\t\t    if (!field)\n\t\t\t        return;\n\t\t\t    field.effect = effect;\n\t\t\t};\n\t\t\tvar unmountInstance = function (instance) {\n\t\t\t    var _a, _b, _c;\n\t\t\t    if (!instance || !instance.isMyReactInstance)\n\t\t\t        return;\n\t\t\t    var field = instanceMap.get(instance);\n\t\t\t    if (!field)\n\t\t\t        return;\n\t\t\t    (_a = field._context) === null || _a === void 0 ? void 0 : _a._delDependence(instance);\n\t\t\t    field.effect = myreactSharedExports.Effect_TYPE.__unmount__;\n\t\t\t    field._owner = null;\n\t\t\t    field._context = null;\n\t\t\t    (_c = (_b = field._subscribe) === null || _b === void 0 ? void 0 : _b.forEach) === null || _c === void 0 ? void 0 : _c.call(_b, function (fiber) {\n\t\t\t        var _a;\n\t\t\t        (_a = fiber === null || fiber === void 0 ? void 0 : fiber._delDependence) === null || _a === void 0 ? void 0 : _a.call(fiber, instance);\n\t\t\t    });\n\t\t\t    instanceMap.delete(instance);\n\t\t\t};\n\t\t\tvar getInstanceFieldByInstance = function (instance) {\n\t\t\t    var field = instanceMap.get(instance);\n\t\t\t    if (!field)\n\t\t\t        throw new Error(\"[@my-react/react] instance not found, look like a bug for @my-react\");\n\t\t\t    return field;\n\t\t\t};\n\t\t\tvar getInstanceOwnerFiber = function (instance) {\n\t\t\t    var typedInstance = instance;\n\t\t\t    if (typedInstance.isMyReactInstance) {\n\t\t\t        var field = instanceMap.get(typedInstance);\n\t\t\t        return field === null || field === void 0 ? void 0 : field._owner;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        if (checkIsMyReactFiberNode(instance)) {\n\t\t\t            return instance;\n\t\t\t        }\n\t\t\t        throw new Error(\"instance is not a MyReactInternalInstance or MyReactFiberNode\");\n\t\t\t    }\n\t\t\t};\n\t\t\tvar getInstanceContextFiber = function (instance) {\n\t\t\t    var field = instanceMap.get(instance);\n\t\t\t    return field === null || field === void 0 ? void 0 : field._context;\n\t\t\t};\n\t\t\tvar getInstanceEffectState = function (instance) {\n\t\t\t    var field = instanceMap.get(instance);\n\t\t\t    return field === null || field === void 0 ? void 0 : field.effect;\n\t\t\t};\n\n\t\t\tvar currentComponentFiber$1 = react.__my_react_internal__.currentComponentFiber, MyReactInternalInstance$2 = react.__my_react_internal__.MyReactInternalInstance;\n\t\t\tvar enablePerformanceLog = react.__my_react_shared__.enablePerformanceLog, enableDebugFiled = react.__my_react_shared__.enableDebugFiled;\n\t\t\tvar nextWorkCommon = function (renderDispatch, fiber, children) {\n\t\t\t    if (myreactSharedExports.exclude(fiber.patch, myreactSharedExports.PATCH_TYPE.__update__)) {\n\t\t\t        fiber.memoizedProps = fiber.pendingProps;\n\t\t\t    }\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallTransformChildrenFiber() {\n\t\t\t            transformChildrenFiber(renderDispatch, fiber, children);\n\t\t\t        },\n\t\t\t    });\n\t\t\t};\n\t\t\tvar nextWorkNormal = function (renderDispatch, fiber) {\n\t\t\t    if (\"children\" in fiber.pendingProps ||\n\t\t\t        \"children\" in fiber.memoizedProps ||\n\t\t\t        \"dangerouslySetInnerHTML\" in fiber.pendingProps ||\n\t\t\t        \"dangerouslySetInnerHTML\" in fiber.memoizedProps) {\n\t\t\t        var children = fiber.pendingProps.children;\n\t\t\t        nextWorkCommon(renderDispatch, fiber, children);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar nextWorkClassComponent = function (renderDispatch, fiber) {\n\t\t\t    if (!fiber.instance) {\n\t\t\t        var children = processClassComponentMount(renderDispatch, fiber);\n\t\t\t        nextWorkCommon(renderDispatch, fiber, children);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        var field = getClassInstanceFieldByInstance(fiber.instance);\n\t\t\t        if (!field.isMounted)\n\t\t\t            return;\n\t\t\t        var _a = processClassComponentUpdate(renderDispatch, fiber), updated = _a.updated, children = _a.children;\n\t\t\t        if (updated)\n\t\t\t            nextWorkCommon(renderDispatch, fiber, children);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar nextWorkFunctionComponent = function (renderDispatch, fiber) {\n\t\t\t    var children = processFunction(fiber);\n\t\t\t    nextWorkCommon(renderDispatch, fiber, children);\n\t\t\t};\n\t\t\tvar nextWorkComponent = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__function__)) {\n\t\t\t        currentComponentFiber$1.current = fiber;\n\t\t\t        nextWorkFunctionComponent(renderDispatch, fiber);\n\t\t\t        currentComponentFiber$1.current = null;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        currentComponentFiber$1.current = fiber;\n\t\t\t        nextWorkClassComponent(renderDispatch, fiber);\n\t\t\t        currentComponentFiber$1.current = null;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar nextWorkLazy = function (renderDispatch, fiber) {\n\t\t\t    var children = processLazy(renderDispatch, fiber);\n\t\t\t    nextWorkCommon(renderDispatch, fiber, children);\n\t\t\t};\n\t\t\tvar nextWorkSuspense = function (renderDispatch, fiber) {\n\t\t\t    var children = processSuspense(fiber);\n\t\t\t    nextWorkCommon(renderDispatch, fiber, children);\n\t\t\t};\n\t\t\tvar nextWorkProvider = function (renderDispatch, fiber) {\n\t\t\t    processProvider(renderDispatch, fiber);\n\t\t\t    nextWorkNormal(renderDispatch, fiber);\n\t\t\t};\n\t\t\tvar nextWorkConsumer = function (renderDispatch, fiber) {\n\t\t\t    var children = processConsumer(renderDispatch, fiber);\n\t\t\t    nextWorkCommon(renderDispatch, fiber, children);\n\t\t\t};\n\t\t\tvar nextWorkRoot = function (renderDispatch, fiber) {\n\t\t\t    var isUpdate = !!fiber.instance;\n\t\t\t    fiber.instance = fiber.instance || new MyReactInternalInstance$2();\n\t\t\t    !isUpdate && initInstance(fiber.instance);\n\t\t\t    !isUpdate && initVisibleInstance(fiber.instance);\n\t\t\t    !isUpdate && setOwnerForInstance(fiber.instance, fiber);\n\t\t\t    var instanceField = getInstanceFieldByInstance(fiber.instance);\n\t\t\t    if (instanceField.isHidden) {\n\t\t\t        nextWorkCommon(renderDispatch, fiber, null);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        nextWorkNormal(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar runtimeNextWork = function (renderDispatch, fiber) {\n\t\t\t    renderDispatch.dispatchFiber(fiber);\n\t\t\t};\n\t\t\tvar runtimeNextWorkDev = function (renderDispatch, fiber) {\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberRunListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.beforeFiberRun) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    setRefreshTypeMap(fiber);\n\t\t\t    var typedFiber = fiber;\n\t\t\t    var start = Date.now();\n\t\t\t    runtimeNextWork(renderDispatch, fiber);\n\t\t\t    var end = Date.now();\n\t\t\t    var renderTime = end - start;\n\t\t\t    var hasPerformanceWarn = renderTime > renderDispatch.performanceLogTimeLimit;\n\t\t\t    if (enablePerformanceLog.current && hasPerformanceWarn) {\n\t\t\t        onceWarnWithKeyAndFiber(fiber, \"performance\", \"[@my-react/react] render current component take a lot of time, there have a performance warning\");\n\t\t\t    }\n\t\t\t    if (hasPerformanceWarn) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallPerformanceWarnListener() {\n\t\t\t                var _a, _b;\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.performanceWarn) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(fiber); });\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    var timeNow = end;\n\t\t\t    if (enableDebugFiled.current) {\n\t\t\t        if (typedFiber.state === myreactSharedExports.STATE_TYPE.__create__) {\n\t\t\t            typedFiber._debugRenderState = {\n\t\t\t                mountTimeStep: timeNow,\n\t\t\t                timeForRender: renderTime,\n\t\t\t                maxTimeForRender: renderTime,\n\t\t\t            };\n\t\t\t            typedFiber._debugIsMount = true;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            var prevRenderState = Object.assign({}, typedFiber._debugRenderState);\n\t\t\t            var prevRenderTime = prevRenderState.updateTimeStep || prevRenderState.mountTimeStep;\n\t\t\t            typedFiber._debugRenderState = {\n\t\t\t                renderCount: (prevRenderState.renderCount || 0) + 1,\n\t\t\t                mountTimeStep: prevRenderState.mountTimeStep,\n\t\t\t                updateTimeStep: timeNow,\n\t\t\t                trigger: currentTriggerFiber.current,\n\t\t\t                timeForRender: renderTime,\n\t\t\t                timeForUpdate: timeNow - prevRenderTime,\n\t\t\t                maxTimeForRender: Math.max(prevRenderState.maxTimeForRender, renderTime),\n\t\t\t            };\n\t\t\t        }\n\t\t\t    }\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberRunListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.afterFiberRun) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t};\n\n\t\t\tvar initSuspenseInstance = function (instance) {\n\t\t\t    var field = getInstanceFieldByInstance(instance);\n\t\t\t    if (!field)\n\t\t\t        throw new Error(\"[@my-react/react] can not get field for instance, this is a bug for @my-react\");\n\t\t\t    var typedField = field;\n\t\t\t    typedField.isHidden = false;\n\t\t\t    typedField.asyncLoadList = new myreactSharedExports.UniqueArray();\n\t\t\t};\n\n\t\t\tvar MyReactInternalInstance$1 = react.__my_react_internal__.MyReactInternalInstance;\n\t\t\tvar processSuspense = function (fiber) {\n\t\t\t    var isUpdate = !!fiber.instance;\n\t\t\t    fiber.instance = fiber.instance || new MyReactInternalInstance$1();\n\t\t\t    !isUpdate && initInstance(fiber.instance);\n\t\t\t    !isUpdate && initVisibleInstance(fiber.instance);\n\t\t\t    !isUpdate && initSuspenseInstance(fiber.instance);\n\t\t\t    !isUpdate && setOwnerForInstance(fiber.instance, fiber);\n\t\t\t    var instanceField = getInstanceFieldByInstance(fiber.instance);\n\t\t\t    var children = WrapperBySuspenseScope(instanceField.isHidden ? fiber.pendingProps.fallback : fiber.pendingProps.children);\n\t\t\t    return children;\n\t\t\t};\n\n\t\t\tvar Dispatcher = react.__my_react_internal__.Dispatcher, MyReactInternalInstanceClass = react.__my_react_internal__.MyReactInternalInstance, dispatchToListenerMap = react.__my_react_internal__.dispatchToListenerMap;\n\t\t\tvar getInitialListeners = function () {\n\t\t\t    return {\n\t\t\t            fiberInitial: new Set(),\n\t\t\t            fiberUpdate: new Set(),\n\t\t\t            fiberHasChange: new Set(),\n\t\t\t            fiberUnmount: new Set(),\n\t\t\t            fiberState: new Set(),\n\t\t\t            fiberTrigger: new Set(),\n\t\t\t            instanceInitial: new Set(),\n\t\t\t            instanceUpdate: new Set(),\n\t\t\t            instanceState: new Set(),\n\t\t\t            instanceUnmount: new Set(),\n\t\t\t            hookInitial: new Set(),\n\t\t\t            hookUpdate: new Set(),\n\t\t\t            hookState: new Set(),\n\t\t\t            hookUnmount: new Set(),\n\t\t\t            beforeCommit: new Set(),\n\t\t\t            afterCommit: new Set(),\n\t\t\t            beforeUpdate: new Set(),\n\t\t\t            afterUpdate: new Set(),\n\t\t\t            beforeUnmount: new Set(),\n\t\t\t            afterUnmount: new Set(),\n\t\t\t        };\n\t\t\t};\n\t\t\tvar getInitialMap = function () { return ({\n\t\t\t    effectMap: new MyWeakMap(),\n\t\t\t    layoutEffectMap: new MyWeakMap(),\n\t\t\t    insertionEffectMap: new MyWeakMap(),\n\t\t\t    unmountMap: new MyWeakMap(),\n\t\t\t    eventMap: new MyWeakMap(),\n\t\t\t    triggerCallbackMap: new MyWeakMap(),\n\t\t\t}); };\n\t\t\tvar getInitialFiber = function () { return ({\n\t\t\t    scheduledFiber: null,\n\t\t\t    errorCatchFiber: null,\n\t\t\t    nextWorkingFiber: null,\n\t\t\t    retriggerFiber: null,\n\t\t\t}); };\n\t\t\tvar initialRef = {\n\t\t\t    typeForRef: exports.NODE_TYPE.__plain__ | exports.NODE_TYPE.__class__,\n\t\t\t    typeForCreate: exports.NODE_TYPE.__text__ | exports.NODE_TYPE.__plain__ | exports.NODE_TYPE.__portal__ | exports.NODE_TYPE.__comment__,\n\t\t\t    typeForUpdate: exports.NODE_TYPE.__text__ | exports.NODE_TYPE.__plain__ | exports.NODE_TYPE.__comment__,\n\t\t\t    typeForAppend: exports.NODE_TYPE.__text__ | exports.NODE_TYPE.__plain__ | exports.NODE_TYPE.__comment__,\n\t\t\t    typeForNativeNode: exports.NODE_TYPE.__text__ | exports.NODE_TYPE.__plain__ | exports.NODE_TYPE.__portal__ | exports.NODE_TYPE.__comment__,\n\t\t\t};\n\t\t\tvar listenerMap = dispatchToListenerMap;\n\t\t\tvar RenderDispatchEvent = /** @class */ (function (_super) {\n\t\t\t    __extends(RenderDispatchEvent, _super);\n\t\t\t    function RenderDispatchEvent() {\n\t\t\t        var _this = _super.call(this) || this;\n\t\t\t        _this.dispatcher = Dispatcher;\n\t\t\t        _this.runtimeRef = initialRef;\n\t\t\t        _this.runtimeMap = getInitialMap();\n\t\t\t        _this.runtimeFiber = getInitialFiber();\n\t\t\t        listenerMap.set(_this, getInitialListeners());\n\t\t\t        initInstance(_this);\n\t\t\t        initVisibleInstance(_this);\n\t\t\t        initSuspenseInstance(_this);\n\t\t\t        Object.defineProperty(_this, \"dispatcher\", {\n\t\t\t            value: Dispatcher,\n\t\t\t            writable: false,\n\t\t\t            enumerable: false,\n\t\t\t            configurable: false,\n\t\t\t        });\n\t\t\t        return _this;\n\t\t\t    }\n\t\t\t    RenderDispatchEvent.prototype.getFiberTree = function (_fiber) {\n\t\t\t        throw new Error(\"Method not implemented.\");\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.readPromise = function (_params) {\n\t\t\t        throw new Error(\"Method not implemented.\");\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.readContext = function (_params) {\n\t\t\t        throw new Error(\"Method not implemented.\");\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.dispatchHook = function (_params) {\n\t\t\t        throw new Error(\"Method not implemented.\");\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.dispatchState = function (_params) {\n\t\t\t        throw new Error(\"Method not implemented.\");\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.dispatchError = function (_params) {\n\t\t\t        throw new Error(\"Method not implemented.\");\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.dispatchPromise = function (_params) {\n\t\t\t        throw new Error(\"Method not implemented.\");\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.trigger = function (_fiber, _state, cb) {\n\t\t\t        return triggerUpdateOnFiber(_fiber, _state, cb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.generateCommitList = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingCreate = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingUpdate = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingAppend = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingPosition = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingRef = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingUnmount = function (_fiber, _pendingUnmount) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingEffect = function (_fiber, _effect, _option) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingLayoutEffect = function (_fiber, _layoutEffect, _option) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingInsertionEffect = function (_fiber, _insertionEffect, _option) { };\n\t\t\t    RenderDispatchEvent.prototype.dispatchFiber = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.processLazy = function (_elementType) {\n\t\t\t        return Promise.resolve();\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.processPromise = function (_promise) {\n\t\t\t        return Promise.resolve();\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.commitCreate = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.commitUpdate = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.commitAppend = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.commitPosition = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.commitSetRef = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.commitUnsetRef = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.commitClear = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.resolveStrict = function (_fiber) {\n\t\t\t        return false;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.resolveScope = function (_fiber) {\n\t\t\t        return null;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.resolveSuspenseValue = function (_fiber) {\n\t\t\t        return null;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.resolveSuspenseFiber = function (_fiber) {\n\t\t\t        return null;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.resolveErrorBoundaries = function (_fiber) {\n\t\t\t        return null;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.resolveContextFiber = function (_fiber, _contextObject) {\n\t\t\t        return null;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.resolveContextValue = function (_fiber, _contextObject) {\n\t\t\t        return null;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.reconcileCommit = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.reconcileUpdate = function (_list) { };\n\t\t\t    RenderDispatchEvent.prototype.reconcileUnmount = function () { };\n\t\t\t    RenderDispatchEvent.prototype.shouldYield = function () {\n\t\t\t        return false;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberInitial = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberInitial;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberInitial = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberInitial;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            cb(_fiber);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberUpdate;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberChange = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberHasChange;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberChange = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberHasChange;\n\t\t\t        var onceCb = function (_list) {\n\t\t\t            cb(_list);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberUpdate;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            cb(_fiber);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberUnmount;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberUnmount;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            cb(_fiber);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberState = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberState;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberState = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberState;\n\t\t\t        var onceCb = function (_fiber, _updater) {\n\t\t\t            cb(_fiber, _updater);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberTrigger = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberTrigger;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberTrigger = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberTrigger;\n\t\t\t        var onceCb = function (_fiber, _state) {\n\t\t\t            cb(_fiber, _state);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberHMR = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).fiberHMR;\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, cb);\n\t\t\t        return function () { var _a; return (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberHMR = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).fiberHMR;\n\t\t\t        var onceCb = function (_fiber, _forceRefresh) {\n\t\t\t            var _a;\n\t\t\t            cb(_fiber, _forceRefresh);\n\t\t\t            (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t        };\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberWarn = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).fiberWarn;\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, cb);\n\t\t\t        return function () { var _a; return (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberWarn = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).fiberWarn;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            var _a;\n\t\t\t            cb(_fiber);\n\t\t\t            (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t        };\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberError = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).fiberError;\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, cb);\n\t\t\t        return function () { var _a; return (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberError = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).fiberError;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            var _a;\n\t\t\t            cb(_fiber);\n\t\t\t            (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t        };\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onPerformanceWarn = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).performanceWarn;\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, cb);\n\t\t\t        return function () { var _a; return (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.oncePerformanceWarn = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).performanceWarn;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            var _a;\n\t\t\t            cb(_fiber);\n\t\t\t            (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t        };\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onBeforeFiberRun = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).beforeFiberRun;\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, cb);\n\t\t\t        return function () { var _a; return (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceBeforeFiberRun = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).beforeFiberRun;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            var _a;\n\t\t\t            cb(_fiber);\n\t\t\t            (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t        };\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onAfterFiberRun = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).afterFiberRun;\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, cb);\n\t\t\t        return function () { var _a; return (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceAfterFiberRun = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).afterFiberRun;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            var _a;\n\t\t\t            cb(_fiber);\n\t\t\t            (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t        };\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onInstanceInitial = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceInitial;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceInstanceInitial = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceInitial;\n\t\t\t        var onceCb = function (_instance, _fiber) {\n\t\t\t            cb(_instance, _fiber);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onInstanceUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceUpdate;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceInstanceUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceUpdate;\n\t\t\t        var onceCb = function (_instance, _fiber) {\n\t\t\t            cb(_instance, _fiber);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onInstanceState = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceState;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceInstanceState = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceState;\n\t\t\t        var onceCb = function (_instance, _fiber, _updater) {\n\t\t\t            cb(_instance, _fiber, _updater);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onInstanceUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceUnmount;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceInstanceUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceUnmount;\n\t\t\t        var onceCb = function (_instance, _fiber) {\n\t\t\t            cb(_instance, _fiber);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onHookInitial = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookInitial;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceHookInitial = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookInitial;\n\t\t\t        var onceCb = function (_hook) {\n\t\t\t            cb(_hook);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onHookUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookUpdate;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceHookUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookUpdate;\n\t\t\t        var onceCb = function (_hook) {\n\t\t\t            cb(_hook);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onHookUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookUnmount;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceHookUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookUnmount;\n\t\t\t        var onceCb = function (_hook) {\n\t\t\t            cb(_hook);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onHookState = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookState;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceHookTrigger = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookState;\n\t\t\t        var onceCb = function (_hook, _fiber, _updater) {\n\t\t\t            cb(_hook, _fiber, _updater);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onBeforeCommit = function (cb) {\n\t\t\t        var set = listenerMap.get(this).beforeCommit;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceBeforeCommit = function (cb) {\n\t\t\t        var set = listenerMap.get(this).beforeCommit;\n\t\t\t        var onceCb = function () {\n\t\t\t            cb();\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onAfterCommit = function (cb) {\n\t\t\t        var set = listenerMap.get(this).afterCommit;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceAfterCommit = function (cb) {\n\t\t\t        var set = listenerMap.get(this).afterCommit;\n\t\t\t        var onceCb = function () {\n\t\t\t            cb();\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onBeforeUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).beforeUpdate;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceBeforeUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).beforeUpdate;\n\t\t\t        var onceCb = function () {\n\t\t\t            cb();\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onAfterUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).afterUpdate;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceAfterUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).afterUpdate;\n\t\t\t        var onceCb = function () {\n\t\t\t            cb();\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onBeforeUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).beforeUnmount;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceBeforeUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).beforeUnmount;\n\t\t\t        var onceCb = function () {\n\t\t\t            cb();\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onAfterUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).afterUnmount;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceAfterUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).afterUnmount;\n\t\t\t        var onceCb = function () {\n\t\t\t            cb();\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    return RenderDispatchEvent;\n\t\t\t}(MyReactInternalInstanceClass));\n\n\t\t\tvar defaultDispatchFiber = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__root__)) {\n\t\t\t        // TODO\n\t\t\t        nextWorkRoot(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    else if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__class__ | exports.NODE_TYPE.__function__)) {\n\t\t\t        nextWorkComponent(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    else if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__lazy__)) {\n\t\t\t        nextWorkLazy(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    else if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__suspense__)) {\n\t\t\t        nextWorkSuspense(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    else if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__consumer__)) {\n\t\t\t        nextWorkConsumer(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    else if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__provider__ | exports.NODE_TYPE.__context__)) {\n\t\t\t        nextWorkProvider(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        nextWorkNormal(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar currentScheduler$2 = react.__my_react_internal__.currentScheduler;\n\t\t\treact.__my_react_shared__.enableScopeTreeLog;\n\t\t\tvar defaultDispatchMountLegacy = function (_dispatch, _fiber) {\n\t\t\t    var mountInsertionEffectList = function (_fiber) {\n\t\t\t        if (_fiber.child)\n\t\t\t            mountInsertionEffectList(_fiber.child);\n\t\t\t        insertionEffect(_dispatch, _fiber);\n\t\t\t        if (_fiber.sibling)\n\t\t\t            mountInsertionEffectList(_fiber.sibling);\n\t\t\t    };\n\t\t\t    var mountCommit = function (_fiber) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: _fiber,\n\t\t\t            action: function safeCallCreateAndUpdate() {\n\t\t\t                _dispatch.commitCreate(_fiber);\n\t\t\t                _dispatch.commitUpdate(_fiber);\n\t\t\t            },\n\t\t\t        });\n\t\t\t        if (_fiber.child)\n\t\t\t            mountCommit(_fiber.child);\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: _fiber,\n\t\t\t            action: function safeCallAppendAndSetRef() {\n\t\t\t                _dispatch.commitAppend(_fiber);\n\t\t\t                _dispatch.commitSetRef(_fiber);\n\t\t\t            },\n\t\t\t        });\n\t\t\t        if (_fiber.sibling) {\n\t\t\t            mountCommit(_fiber.sibling);\n\t\t\t        }\n\t\t\t    };\n\t\t\t    var mountLayoutEffectList = function (_fiber) {\n\t\t\t        if (_fiber.child)\n\t\t\t            mountLayoutEffectList(_fiber.child);\n\t\t\t        layoutEffect(_dispatch, _fiber);\n\t\t\t        if (_fiber.sibling)\n\t\t\t            mountLayoutEffectList(_fiber.sibling);\n\t\t\t    };\n\t\t\t    var mountEffectList = function (_fiber) {\n\t\t\t        if (_fiber.child)\n\t\t\t            mountEffectList(_fiber.child);\n\t\t\t        effect(_dispatch, _fiber);\n\t\t\t        if (_fiber.sibling)\n\t\t\t            mountEffectList(_fiber.sibling);\n\t\t\t    };\n\t\t\t    var mountLoop = function (_fiber) {\n\t\t\t        beforeSyncUpdate();\n\t\t\t        mountInsertionEffectList(_fiber);\n\t\t\t        afterSyncUpdate();\n\t\t\t        mountCommit(_fiber);\n\t\t\t        beforeSyncUpdate();\n\t\t\t        mountLayoutEffectList(_fiber);\n\t\t\t        afterSyncUpdate();\n\t\t\t        var renderScheduler = currentScheduler$2.current;\n\t\t\t        renderScheduler.microTask(function invokeEffectList() {\n\t\t\t            mountEffectList(_fiber);\n\t\t\t        });\n\t\t\t    };\n\t\t\t    mountLoop(_fiber);\n\t\t\t};\n\t\t\tvar defaultDispatchMountLatest = function (_dispatch, _fiber) {\n\t\t\t    var _list = generateFiberToMountList(_fiber);\n\t\t\t    beforeSyncUpdate();\n\t\t\t    _list.listToFoot(function invokeInsertionEffectList(_fiber) {\n\t\t\t        insertionEffect(_dispatch, _fiber);\n\t\t\t    });\n\t\t\t    afterSyncUpdate();\n\t\t\t    _list.listToFoot(function invokeCreateAndUpdateList(_fiber) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: _fiber,\n\t\t\t            action: function safeCallCreateAndUpdate() {\n\t\t\t                _dispatch.commitCreate(_fiber);\n\t\t\t                _dispatch.commitUpdate(_fiber);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    });\n\t\t\t    _list.listToFoot(function invokeAppendList(_fiber) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: _fiber,\n\t\t\t            action: function safeCallAppendList() {\n\t\t\t                _dispatch.commitAppend(_fiber);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    });\n\t\t\t    _list.listToFoot(function invokeSetRefList(_fiber) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: _fiber,\n\t\t\t            action: function safeCallSetRefList() {\n\t\t\t                _dispatch.commitSetRef(_fiber);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    });\n\t\t\t    beforeSyncUpdate();\n\t\t\t    _list.listToFoot(function invokeLayoutEffectList(_fiber) {\n\t\t\t        layoutEffect(_dispatch, _fiber);\n\t\t\t    });\n\t\t\t    afterSyncUpdate();\n\t\t\t    var renderScheduler = currentScheduler$2.current;\n\t\t\t    renderScheduler.microTask(function invokeEffectListTask() {\n\t\t\t        _list.listToFoot(function invokeEffectList(_fiber) {\n\t\t\t            effect(_dispatch, _fiber);\n\t\t\t        });\n\t\t\t    });\n\t\t\t};\n\t\t\tvar defaultDispatchMount = defaultDispatchMountLatest;\n\n\t\t\tvar defaultResolveScope = function (fiber) {\n\t\t\t    var parent = fiber.parent;\n\t\t\t    while (parent) {\n\t\t\t        if (myreactSharedExports.include(parent.type, exports.NODE_TYPE.__scope__) || myreactSharedExports.include(parent.type, exports.NODE_TYPE.__scopeSuspense__)) {\n\t\t\t            return parent;\n\t\t\t        }\n\t\t\t        parent = parent.parent;\n\t\t\t    }\n\t\t\t    return null;\n\t\t\t};\n\n\t\t\treact.__my_react_shared__.enableDebugFiled;\n\t\t\tvar defaultGenerateStrict = function (fiber) {\n\t\t\t    return false;\n\t\t\t};\n\n\t\t\tvar currentScheduler$1 = react.__my_react_internal__.currentScheduler;\n\t\t\treact.__my_react_shared__.enableScopeTreeLog;\n\t\t\tvar defaultDispatchUpdate = function (_dispatch, _list) {\n\t\t\t    // TODO maybe need call `insertionEffect` in another function\n\t\t\t    beforeSyncUpdate();\n\t\t\t    _list.listToFoot(function invokeUnmountPendingAndInsertionEffectList(_fiber) {\n\t\t\t        if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t            defaultInvokeUnmountList(_dispatch, _fiber);\n\t\t\t        }\n\t\t\t    });\n\t\t\t    _list.listToFoot(function invokeUnmountPendingAndInsertionEffectList(_fiber) {\n\t\t\t        if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t            insertionEffect(_dispatch, _fiber);\n\t\t\t        }\n\t\t\t    });\n\t\t\t    afterSyncUpdate();\n\t\t\t    _list.listToFoot(function invokeCreateAndUpdateList(_fiber) {\n\t\t\t        if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: _fiber,\n\t\t\t                action: function safeCallCreateAndUpdate() {\n\t\t\t                    _dispatch.commitCreate(_fiber);\n\t\t\t                    _dispatch.commitUpdate(_fiber);\n\t\t\t                },\n\t\t\t            });\n\t\t\t        }\n\t\t\t    });\n\t\t\t    _list.listToHead(function invokePositionList(_fiber) {\n\t\t\t        if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: _fiber,\n\t\t\t                action: function safeCallPosition() {\n\t\t\t                    _dispatch.commitPosition(_fiber);\n\t\t\t                },\n\t\t\t            });\n\t\t\t        }\n\t\t\t    });\n\t\t\t    _list.listToFoot(function invokeAppendList(_fiber) {\n\t\t\t        if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: _fiber,\n\t\t\t                action: function safeCallAppendList() {\n\t\t\t                    _dispatch.commitAppend(_fiber);\n\t\t\t                },\n\t\t\t            });\n\t\t\t        }\n\t\t\t    });\n\t\t\t    _list.listToFoot(function invokeSetRefList(_fiber) {\n\t\t\t        if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: _fiber,\n\t\t\t                action: function safeCallSetRefList() {\n\t\t\t                    _dispatch.commitSetRef(_fiber);\n\t\t\t                },\n\t\t\t            });\n\t\t\t        }\n\t\t\t    });\n\t\t\t    beforeSyncUpdate();\n\t\t\t    _list.listToFoot(function invokeLayoutEffectList(_fiber) {\n\t\t\t        if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t            layoutEffect(_dispatch, _fiber);\n\t\t\t        }\n\t\t\t    });\n\t\t\t    afterSyncUpdate();\n\t\t\t    var renderScheduler = currentScheduler$1.current;\n\t\t\t    // TODO before next update flow, make sure all the effect has done\n\t\t\t    renderScheduler.microTask(function invokeEffectListTask() {\n\t\t\t        _list.listToFoot(function invokeEffectList(_fiber) {\n\t\t\t            if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t                effect(_dispatch, _fiber);\n\t\t\t            }\n\t\t\t        });\n\t\t\t    });\n\t\t\t};\n\n\t\t\tvar enableSuspenseRoot = react.__my_react_shared__.enableSuspenseRoot;\n\t\t\tvar currentScheduler = react.__my_react_internal__.currentScheduler;\n\t\t\tvar loadPromise = function (renderDispatch, promise) { return __awaiter(void 0, void 0, void 0, function () {\n\t\t\t    var value, reason_1;\n\t\t\t    return __generator(this, function (_a) {\n\t\t\t        switch (_a.label) {\n\t\t\t            case 0:\n\t\t\t                if (promise.status === \"fulfilled\" || promise.status === \"rejected\")\n\t\t\t                    return [2 /*return*/];\n\t\t\t                _a.label = 1;\n\t\t\t            case 1:\n\t\t\t                _a.trys.push([1, 3, , 4]);\n\t\t\t                promise.status = \"pending\";\n\t\t\t                return [4 /*yield*/, Promise.resolve(promise)];\n\t\t\t            case 2:\n\t\t\t                value = _a.sent();\n\t\t\t                promise.status = \"fulfilled\";\n\t\t\t                promise._value = value;\n\t\t\t                return [3 /*break*/, 4];\n\t\t\t            case 3:\n\t\t\t                reason_1 = _a.sent();\n\t\t\t                promise.status = \"rejected\";\n\t\t\t                promise._reason = reason_1;\n\t\t\t                return [3 /*break*/, 4];\n\t\t\t            case 4: return [2 /*return*/];\n\t\t\t        }\n\t\t\t    });\n\t\t\t}); };\n\t\t\tvar processPromise = function (renderDispatch, fiber, promise) {\n\t\t\t    var _a, _b;\n\t\t\t    defaultDeleteCurrentEffect(renderDispatch, fiber);\n\t\t\t    if (promise.status === \"rejected\") {\n\t\t\t        (_b = (_a = currentScheduler.current).dispatchError) === null || _b === void 0 ? void 0 : _b.call(_a, { fiber: fiber, error: promise._reason });\n\t\t\t        return null;\n\t\t\t    }\n\t\t\t    if (promise.status === \"fulfilled\") ;\n\t\t\t    promise._list = promise._list || new Set();\n\t\t\t    promise._list.add(fiber);\n\t\t\t    var suspenseFiber = renderDispatch.resolveSuspenseFiber(fiber);\n\t\t\t    if (suspenseFiber) {\n\t\t\t        var suspenseField = getInstanceFieldByInstance(suspenseFiber.instance);\n\t\t\t        suspenseField.asyncLoadList.uniPush(promise);\n\t\t\t        renderDispatch.pendingSuspenseFiberArray.uniPush(suspenseFiber);\n\t\t\t        return null;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        // TODO update flow\n\t\t\t        if (enableSuspenseRoot.current && !renderDispatch.isAppMounted) {\n\t\t\t            var suspenseField = getInstanceFieldByInstance(renderDispatch);\n\t\t\t            suspenseField.asyncLoadList.uniPush(promise);\n\t\t\t            return null;\n\t\t\t        }\n\t\t\t        if (promise._loading)\n\t\t\t            return null;\n\t\t\t        promise._loading = true;\n\t\t\t        promise.status = \"pending\";\n\t\t\t        var renderScheduler_1 = currentScheduler.current;\n\t\t\t        renderDispatch.processPromise(promise).then(function () {\n\t\t\t            fiber.state = myreactSharedExports.STATE_TYPE.__create__;\n\t\t\t            promise._list.delete(fiber);\n\t\t\t            promise._loading = false;\n\t\t\t            var updater = {\n\t\t\t                type: myreactSharedExports.UpdateQueueType.promise,\n\t\t\t                trigger: fiber,\n\t\t\t                isSync: true,\n\t\t\t                isForce: true,\n\t\t\t                payLoad: promise,\n\t\t\t            };\n\t\t\t            renderScheduler_1.dispatchState(updater);\n\t\t\t        });\n\t\t\t        return null;\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar CustomRenderDispatch = /** @class */ (function (_super) {\n\t\t\t    __extends(CustomRenderDispatch, _super);\n\t\t\t    function CustomRenderDispatch(rootNode, rootFiber, rootElement) {\n\t\t\t        var _this = _super.call(this) || this;\n\t\t\t        _this.rootNode = rootNode;\n\t\t\t        _this.rootFiber = rootFiber;\n\t\t\t        _this.isAppMounted = false;\n\t\t\t        _this.isAppCrashed = false;\n\t\t\t        _this.isAppUnmounted = false;\n\t\t\t        _this.version = \"0.3.12\";\n\t\t\t        _this.mode = \"production\";\n\t\t\t        _this.renderMode = \"render\";\n\t\t\t        _this.pendingCommitFiberList = null;\n\t\t\t        _this.pendingCommitFiberPatch = myreactSharedExports.PATCH_TYPE.__initial__;\n\t\t\t        _this.pendingChangedFiberList = null;\n\t\t\t        _this.pendingUpdateFiberArray = new myreactSharedExports.UniqueArray();\n\t\t\t        _this.pendingSuspenseFiberArray = new myreactSharedExports.UniqueArray();\n\t\t\t        _this.uniqueIdCount = 0;\n\t\t\t        _this.rootElement = rootElement;\n\t\t\t        var typedFiber = rootFiber;\n\t\t\t        typedFiber.renderDispatch = _this;\n\t\t\t        return _this;\n\t\t\t    }\n\t\t\t    CustomRenderDispatch.prototype.generateCommitList = function (_fiber) {\n\t\t\t        if (!_fiber)\n\t\t\t            return;\n\t\t\t        this.pendingCommitFiberPatch = myreactSharedExports.merge(this.pendingCommitFiberPatch, _fiber.patch);\n\t\t\t        if (_fiber.patch !== myreactSharedExports.PATCH_TYPE.__initial__) {\n\t\t\t            this.pendingCommitFiberList = this.pendingCommitFiberList || new myreactSharedExports.ListTree();\n\t\t\t            this.pendingCommitFiberList.push(_fiber);\n\t\t\t        }\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.generateChangedList = function (_fiber, withCheck) {\n\t\t\t        if (!_fiber)\n\t\t\t            return;\n\t\t\t        if (!this.isAppMounted)\n\t\t\t            return;\n\t\t\t        this.pendingChangedFiberList = this.pendingChangedFiberList || new myreactSharedExports.ListTree();\n\t\t\t        if (withCheck && this.pendingChangedFiberList.hasValue(_fiber)) {\n\t\t\t            return;\n\t\t\t        }\n\t\t\t        this.pendingChangedFiberList.push(_fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingCreate = function (_fiber) {\n\t\t\t        if (myreactSharedExports.include(_fiber.type, this.runtimeRef.typeForCreate)) {\n\t\t\t            _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__create__);\n\t\t\t        }\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingUpdate = function (_fiber) {\n\t\t\t        if (myreactSharedExports.include(_fiber.type, this.runtimeRef.typeForUpdate)) {\n\t\t\t            _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__update__);\n\t\t\t        }\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingAppend = function (_fiber) {\n\t\t\t        if (myreactSharedExports.include(_fiber.type, this.runtimeRef.typeForAppend)) {\n\t\t\t            _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__append__);\n\t\t\t        }\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingPosition = function (_fiber) {\n\t\t\t        _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__position__);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingRef = function (_fiber) {\n\t\t\t        if (_fiber.ref) {\n\t\t\t            if (myreactSharedExports.include(_fiber.type, this.runtimeRef.typeForRef)) {\n\t\t\t                _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__ref__);\n\t\t\t            }\n\t\t\t            else if (myreactSharedExports.exclude(_fiber.type, exports.NODE_TYPE.__forwardRef__)) {\n\t\t\t                onceWarnWithKeyAndFiber(_fiber, \"ref\", \"[@my-react/react] set ref for current element will be ignored\");\n\t\t\t            }\n\t\t\t        }\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingUnmount = function (_fiber, _pendingUnmount) {\n\t\t\t        _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__unmount__);\n\t\t\t        defaultGenerateUnmountMap(_fiber, _pendingUnmount, this.runtimeMap.unmountMap);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingEffect = function (_fiber, _effect, option) {\n\t\t\t        _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__effect__);\n\t\t\t        defaultGenerateEffectMap(_fiber, _effect, this.runtimeMap.effectMap, option);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingLayoutEffect = function (_fiber, _layoutEffect, option) {\n\t\t\t        _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__layoutEffect__);\n\t\t\t        defaultGenerateEffectMap(_fiber, _layoutEffect, this.runtimeMap.layoutEffectMap, option);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingInsertionEffect = function (_fiber, _insertionEffect, option) {\n\t\t\t        _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__insertionEffect__);\n\t\t\t        defaultGenerateEffectMap(_fiber, _insertionEffect, this.runtimeMap.insertionEffectMap, option);\n\t\t\t    };\n\t\t\t    /**\n\t\t\t     * @deprecated\n\t\t\t     */\n\t\t\t    CustomRenderDispatch.prototype.patchToFiberInitial = function (_fiber) {\n\t\t\t    };\n\t\t\t    /**\n\t\t\t     * @deprecated\n\t\t\t     */\n\t\t\t    CustomRenderDispatch.prototype.patchToFiberUpdate = function (_fiber) {\n\t\t\t    };\n\t\t\t    /**\n\t\t\t     * @deprecated\n\t\t\t     */\n\t\t\t    CustomRenderDispatch.prototype.patchToFiberUnmount = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.dispatchFiber = function (_fiber) {\n\t\t\t        defaultDispatchFiber(this, _fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.processLazy = function (_elementType) {\n\t\t\t        return loadLazy(this, _elementType);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.processPromise = function (_promise) {\n\t\t\t        return loadPromise(this, _promise);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.commitCreate = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.commitUpdate = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.commitAppend = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.commitPosition = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.commitSetRef = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.commitUnsetRef = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.commitClear = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resolveStrict = function (_fiber) {\n\t\t\t        return defaultGenerateStrict();\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resolveScope = function (_fiber) {\n\t\t\t        return defaultResolveScope(_fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resolveSuspenseValue = function (_fiber) {\n\t\t\t        return defaultResolveSuspenseValue(_fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resolveSuspenseFiber = function (_fiber) {\n\t\t\t        return defaultResolveSuspenseFiber(_fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resolveErrorBoundaries = function (_fiber) {\n\t\t\t        return defaultResolveErrorBoundaries(_fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resolveContextFiber = function (_fiber, _contextObject) {\n\t\t\t        return defaultGetContextFiber(_fiber, _contextObject);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resolveContextValue = function (_fiber, _contextObject) {\n\t\t\t        return defaultGetContextValue(_fiber, _contextObject);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.reconcileCommit = function (_fiber) {\n\t\t\t        var instance = this;\n\t\t\t        safeCall(function safeCallBeforeCommit() {\n\t\t\t            var _a;\n\t\t\t            (_a = instance.beforeCommit) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t\t\t        });\n\t\t\t        safeCall(function safeCallBeforeCommitListener() {\n\t\t\t            listenerMap.get(instance).beforeCommit.forEach(function (cb) { return cb(); });\n\t\t\t        });\n\t\t\t        defaultDispatchMount(this, _fiber);\n\t\t\t        safeCall(function safeCallAfterCommitListener() {\n\t\t\t            listenerMap.get(instance).afterCommit.forEach(function (cb) { return cb(); });\n\t\t\t        });\n\t\t\t        safeCall(function safeCallAfterCommit() {\n\t\t\t            var _a;\n\t\t\t            (_a = instance.afterCommit) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t\t\t        });\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.reconcileUpdate = function (_list) {\n\t\t\t        var instance = this;\n\t\t\t        safeCall(function safeCallBeforeUpdate() {\n\t\t\t            var _a;\n\t\t\t            (_a = instance.beforeUpdate) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t\t\t        });\n\t\t\t        safeCall(function safeCallBeforeUpdateListener() {\n\t\t\t            listenerMap.get(instance).beforeUpdate.forEach(function (cb) { return cb(); });\n\t\t\t        });\n\t\t\t        defaultDispatchUpdate(this, _list);\n\t\t\t        safeCall(function safeCallAfterUpdateListener() {\n\t\t\t            listenerMap.get(instance).afterUpdate.forEach(function (cb) { return cb(); });\n\t\t\t        });\n\t\t\t        safeCall(function safeCallAfterUpdate() {\n\t\t\t            var _a;\n\t\t\t            (_a = instance.afterUpdate) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t\t\t        });\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.reconcileUnmount = function () {\n\t\t\t        var instance = this;\n\t\t\t        safeCall(function safeCallBeforeUnmount() {\n\t\t\t            var _a;\n\t\t\t            (_a = instance.beforeUnmount) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t\t\t        });\n\t\t\t        safeCall(function safeCallBeforeUnmountListener() {\n\t\t\t            listenerMap.get(instance).beforeUnmount.forEach(function (cb) { return cb(); });\n\t\t\t        });\n\t\t\t        defaultDispatchUnmount(this);\n\t\t\t        safeCall(function safeCallAfterUnmountListener() {\n\t\t\t            listenerMap.get(instance).afterUnmount.forEach(function (cb) { return cb(); });\n\t\t\t        });\n\t\t\t        safeCall(function safeCallAfterUnmount() {\n\t\t\t            var _a;\n\t\t\t            (_a = instance.afterUnmount) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t\t\t        });\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.shouldYield = function () {\n\t\t\t        return false;\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resetUpdateFlowRuntimeFiber = function () {\n\t\t\t        this.runtimeFiber.scheduledFiber = null;\n\t\t\t        this.runtimeFiber.nextWorkingFiber = null;\n\t\t\t        this.runtimeFiber.retriggerFiber = null;\n\t\t\t        this.pendingCommitFiberPatch = myreactSharedExports.PATCH_TYPE.__initial__;\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.getFiberTree = function (_fiber) {\n\t\t\t        return getFiberTree$1(_fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.readPromise = function (_params) {\n\t\t\t        return defaultReadPromise(_params);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.readContext = function (_params) {\n\t\t\t        return defaultReadContext(_params);\n\t\t\t    };\n\t\t\t    return CustomRenderDispatch;\n\t\t\t}(RenderDispatchEvent));\n\n\t\t\treact.__my_react_shared__.enableDebugFiled;\n\t\t\tvar currentRunningFiber = react.__my_react_internal__.currentRunningFiber, MyReactInternalInstance = react.__my_react_internal__.MyReactInternalInstance;\n\t\t\tvar defaultGetContextValue = function (fiber, ContextObject) {\n\t\t\t    var _a;\n\t\t\t    if (fiber) {\n\t\t\t        return fiber.pendingProps[\"value\"];\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        return (_a = ContextObject === null || ContextObject === void 0 ? void 0 : ContextObject.Provider) === null || _a === void 0 ? void 0 : _a[\"value\"];\n\t\t\t    }\n\t\t\t};\n\t\t\tvar defaultGetContextFiber = function (fiber, ContextObject) {\n\t\t\t    if ((fiber === null || fiber === void 0 ? void 0 : fiber.parent) && ContextObject) {\n\t\t\t        var parent_1 = fiber.parent;\n\t\t\t        while (parent_1) {\n\t\t\t            if (myreactSharedExports.include(parent_1.type, exports.NODE_TYPE.__provider__)) {\n\t\t\t                var typedElementType = parent_1.elementType;\n\t\t\t                var contextObj = typedElementType[\"Context\"];\n\t\t\t                if (contextObj === ContextObject) {\n\t\t\t                    return parent_1;\n\t\t\t                }\n\t\t\t            }\n\t\t\t            if (myreactSharedExports.include(parent_1.type, exports.NODE_TYPE.__context__)) {\n\t\t\t                var typedElementType = parent_1.elementType;\n\t\t\t                var contextObj = typedElementType;\n\t\t\t                if (contextObj === ContextObject) {\n\t\t\t                    return parent_1;\n\t\t\t                }\n\t\t\t            }\n\t\t\t            parent_1 = parent_1.parent;\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        return null;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar defaultReadContext = function (Context) {\n\t\t\t    var fiber = currentRunningFiber.current;\n\t\t\t    if (!Context) {\n\t\t\t        throw new Error(\"the Context what you read is not exist\");\n\t\t\t    }\n\t\t\t    if (!fiber) {\n\t\t\t        throw new Error('current environment is not support \"readContext\"');\n\t\t\t    }\n\t\t\t    var isUpdate = !!fiber.instance;\n\t\t\t    fiber.instance = fiber.instance || new MyReactInternalInstance();\n\t\t\t    !isUpdate && initInstance(fiber.instance);\n\t\t\t    !isUpdate && setOwnerForInstance(fiber.instance, fiber);\n\t\t\t    var contextFiber = defaultGetContextFiber(fiber, Context);\n\t\t\t    setSubscribeForInstance(fiber.instance, contextFiber);\n\t\t\t    return defaultGetContextValue(contextFiber, Context);\n\t\t\t};\n\t\t\tvar prepareUpdateAllDependence = function (renderDispatch, fiber, beforeValue, afterValue) {\n\t\t\t    var consumerList = new Set((fiber === null || fiber === void 0 ? void 0 : fiber.dependence) || []);\n\t\t\t    consumerList.forEach(function prepareUpdateSingleConsumer(i) {\n\t\t\t        var owner = getInstanceOwnerFiber(i);\n\t\t\t        if (owner && myreactSharedExports.exclude(owner.state, myreactSharedExports.STATE_TYPE.__unmount__)) {\n\t\t\t            var typedFiber_1 = owner;\n\t\t\t            typedFiber_1.state = myreactSharedExports.STATE_TYPE.__triggerSyncForce__;\n\t\t\t        }\n\t\t\t    });\n\t\t\t    var proUpdater = {\n\t\t\t        needUpdate: true,\n\t\t\t        isSync: true,\n\t\t\t        isForce: true,\n\t\t\t        isImmediate: true,\n\t\t\t        isRetrigger: true,\n\t\t\t    };\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberTriggerListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberTrigger) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(fiber, proUpdater); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t};\n\n\t\t\tvar currentComponentFiber = react.__my_react_internal__.currentComponentFiber, currentHookNodeIndex = react.__my_react_internal__.currentHookNodeIndex;\n\t\t\tvar resolveHookValue = function (hookNode, field) {\n\t\t\t    if (hookNode) {\n\t\t\t        switch (hookNode.type) {\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useState:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useReducer:\n\t\t\t                return [hookNode.result, field.dispatch];\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useId:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useRef:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useMemo:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useContext:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useCallback:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useTransition:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useDeferredValue:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useSyncExternalStore:\n\t\t\t                return hookNode.result;\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useSignal:\n\t\t\t                return [hookNode.result.getValue, hookNode.result.setValue];\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processHook = function (renderDispatch, _a) {\n\t\t\t    var type = _a.type, reducer = _a.reducer, value = _a.value, deps = _a.deps;\n\t\t\t    var fiber = currentComponentFiber.current;\n\t\t\t    if (!fiber)\n\t\t\t        throw new Error(\"[@my-react/react] can not use hook outside of component\");\n\t\t\t    if (!renderDispatch)\n\t\t\t        throw new Error(\"[@my-react/react] internal error, can not get 'renderDispatch' for current render\");\n\t\t\t    fiber.hookList = fiber.hookList || new myreactSharedExports.ListTree();\n\t\t\t    var currentHook = null;\n\t\t\t    // initial\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__create__)) {\n\t\t\t        currentHook = createHookNode(renderDispatch, { type: type, reducer: reducer, value: value, deps: deps }, fiber);\n\t\t\t        safeCall(function safeCallHookInitialListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.hookInitial) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(currentHook, fiber); });\n\t\t\t        });\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        // update\n\t\t\t        currentHook = updateHookNode(renderDispatch, { type: type, reducer: reducer, value: value, deps: deps }, fiber, false);\n\t\t\t        safeCall(function safeCallHookUpdateListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.hookUpdate) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(currentHook, fiber); });\n\t\t\t        });\n\t\t\t    }\n\t\t\t    currentHookNodeIndex.current++;\n\t\t\t    var field = getInstanceFieldByInstance(currentHook);\n\t\t\t    effectHookNode(renderDispatch, fiber, currentHook, field);\n\t\t\t    return resolveHookValue(currentHook, field);\n\t\t\t};\n\n\t\t\tvar globalLoop = react.__my_react_internal__.globalLoop;\n\t\t\treact.__my_react_shared__.enableScopeTreeLog;\n\t\t\tvar mountSync = function (renderDispatch, fiber) {\n\t\t\t    globalLoop.current = true;\n\t\t\t    mountLoopAll(renderDispatch, fiber);\n\t\t\t    processAsyncLoadListOnSyncMount(renderDispatch);\n\t\t\t    (function finishMount() {\n\t\t\t        renderDispatch.reconcileCommit(fiber);\n\t\t\t        var commitList = renderDispatch.pendingCommitFiberList;\n\t\t\t        var changedList = renderDispatch.pendingChangedFiberList;\n\t\t\t        renderDispatch.resetUpdateFlowRuntimeFiber();\n\t\t\t        renderDispatch.pendingCommitFiberList = null;\n\t\t\t        renderDispatch.pendingChangedFiberList = null;\n\t\t\t        (commitList === null || commitList === void 0 ? void 0 : commitList.length) && renderDispatch.reconcileUpdate(commitList);\n\t\t\t        (changedList === null || changedList === void 0 ? void 0 : changedList.length) &&\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: fiber,\n\t\t\t                action: function safeCallFiberHasChangeListener() {\n\t\t\t                    var _a, _b;\n\t\t\t                    (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberHasChange) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(changedList); });\n\t\t\t                },\n\t\t\t            });\n\t\t\t    })();\n\t\t\t    globalLoop.current = false;\n\t\t\t};\n\t\t\tvar mountAsync = function (renderDispatch, fiber) { return __awaiter(void 0, void 0, void 0, function () {\n\t\t\t    return __generator(this, function (_a) {\n\t\t\t        switch (_a.label) {\n\t\t\t            case 0:\n\t\t\t                globalLoop.current = true;\n\t\t\t                mountLoopAll(renderDispatch, fiber);\n\t\t\t                return [4 /*yield*/, processAsyncLoadListOnAsyncMount(renderDispatch)];\n\t\t\t            case 1:\n\t\t\t                _a.sent();\n\t\t\t                (function finishMount() {\n\t\t\t                    renderDispatch.reconcileCommit(fiber);\n\t\t\t                    var commitList = renderDispatch.pendingCommitFiberList;\n\t\t\t                    var changedList = renderDispatch.pendingChangedFiberList;\n\t\t\t                    renderDispatch.resetUpdateFlowRuntimeFiber();\n\t\t\t                    renderDispatch.pendingCommitFiberList = null;\n\t\t\t                    renderDispatch.pendingChangedFiberList = null;\n\t\t\t                    (commitList === null || commitList === void 0 ? void 0 : commitList.length) && renderDispatch.reconcileUpdate(commitList);\n\t\t\t                    (changedList === null || changedList === void 0 ? void 0 : changedList.length) &&\n\t\t\t                        safeCallWithCurrentFiber({\n\t\t\t                            fiber: fiber,\n\t\t\t                            action: function safeCallFiberHasChangeListener() {\n\t\t\t                                var _a, _b;\n\t\t\t                                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberHasChange) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(changedList); });\n\t\t\t                            },\n\t\t\t                        });\n\t\t\t                })();\n\t\t\t                globalLoop.current = false;\n\t\t\t                return [2 /*return*/];\n\t\t\t        }\n\t\t\t    });\n\t\t\t}); };\n\n\t\t\tvar version = \"0.3.12\";\n\n\t\t\texports.CustomRenderDispatch = CustomRenderDispatch;\n\t\t\texports.MyReactFiberNode = MyReactFiberNode;\n\t\t\texports.MyReactHookNode = MyReactHookNode;\n\t\t\texports.MyWeakMap = MyWeakMap;\n\t\t\texports.RenderDispatchEvent = RenderDispatchEvent;\n\t\t\texports.WrapperByLazyScope = WrapperByLazyScope;\n\t\t\texports.WrapperBySuspenseScope = WrapperBySuspenseScope;\n\t\t\texports.afterSyncFlush = afterSyncFlush;\n\t\t\texports.afterSyncUpdate = afterSyncUpdate;\n\t\t\texports.applyTriggerFiberCb = applyTriggerFiberCb;\n\t\t\texports.beforeSyncFlush = beforeSyncFlush;\n\t\t\texports.beforeSyncUpdate = beforeSyncUpdate;\n\t\t\texports.callWithFiber = callWithFiber;\n\t\t\texports.checkIsMyReactFiberNode = checkIsMyReactFiberNode;\n\t\t\texports.checkIsSameType = checkIsSameType;\n\t\t\texports.clearContainer = clearContainer;\n\t\t\texports.clearFiberNode = clearFiberNode;\n\t\t\texports.createFiberNode = createFiberNode;\n\t\t\texports.createHookNode = createHookNode;\n\t\t\texports.currentRefreshHandler = currentRefreshHandler;\n\t\t\texports.currentTriggerFiber = currentTriggerFiber;\n\t\t\texports.debugWithNode = debugWithNode;\n\t\t\texports.defaultDeleteChildEffect = defaultDeleteChildEffect;\n\t\t\texports.defaultDeleteCurrentEffect = defaultDeleteCurrentEffect;\n\t\t\texports.defaultDispatchMount = defaultDispatchMount;\n\t\t\texports.defaultDispatchMountLatest = defaultDispatchMountLatest;\n\t\t\texports.defaultDispatchMountLegacy = defaultDispatchMountLegacy;\n\t\t\texports.defaultDispatchUnmount = defaultDispatchUnmount;\n\t\t\texports.defaultDispatchUpdate = defaultDispatchUpdate;\n\t\t\texports.defaultGenerateEffectMap = defaultGenerateEffectMap;\n\t\t\texports.defaultGenerateStrict = defaultGenerateStrict;\n\t\t\texports.defaultGenerateUnmountMap = defaultGenerateUnmountMap;\n\t\t\texports.defaultGetContextFiber = defaultGetContextFiber;\n\t\t\texports.defaultGetContextValue = defaultGetContextValue;\n\t\t\texports.defaultInvokeEffect = defaultInvokeEffect;\n\t\t\texports.defaultInvokeInsertionEffect = defaultInvokeInsertionEffect;\n\t\t\texports.defaultInvokeLayoutEffect = defaultInvokeLayoutEffect;\n\t\t\texports.defaultInvokeUnmountList = defaultInvokeUnmountList;\n\t\t\texports.defaultReadContext = defaultReadContext;\n\t\t\texports.defaultReadPromise = defaultReadPromise;\n\t\t\texports.defaultResolveAliveSuspenseFiber = defaultResolveAliveSuspenseFiber;\n\t\t\texports.defaultResolveErrorBoundaries = defaultResolveErrorBoundaries;\n\t\t\texports.defaultResolveScope = defaultResolveScope;\n\t\t\texports.defaultResolveSuspenseFiber = defaultResolveSuspenseFiber;\n\t\t\texports.defaultResolveSuspenseValue = defaultResolveSuspenseValue;\n\t\t\texports.devError = devError;\n\t\t\texports.devErrorWithFiber = devErrorWithFiber;\n\t\t\texports.devWarn = devWarn;\n\t\t\texports.devWarnWithFiber = devWarnWithFiber;\n\t\t\texports.effect = effect;\n\t\t\texports.effectHookNode = effectHookNode;\n\t\t\texports.emptyProps = emptyProps;\n\t\t\texports.enableDebugUpdateQueue = enableDebugUpdateQueue;\n\t\t\texports.enableFiberForLog = enableFiberForLog;\n\t\t\texports.enableLogForCurrentFlowIsRunning = enableLogForCurrentFlowIsRunning;\n\t\t\texports.enableValidMyReactElement = enableValidMyReactElement;\n\t\t\texports.fiberToDispatchMap = fiberToDispatchMap;\n\t\t\texports.generateFiberToMountList = generateFiberToMountList;\n\t\t\texports.generateFiberToUnmountList = generateFiberToUnmountList;\n\t\t\texports.getClassInstanceFieldByInstance = getClassInstanceFieldByInstance;\n\t\t\texports.getCurrentDispatchFromFiber = getCurrentDispatchFromFiber;\n\t\t\texports.getCurrentDispatchFromType = getCurrentDispatchFromType;\n\t\t\texports.getCurrentFibersFromType = getCurrentFibersFromType;\n\t\t\texports.getCurrentTypeFromRefresh = getCurrentTypeFromRefresh;\n\t\t\texports.getCurrentTypeFromRefreshOnly = getCurrentTypeFromRefreshOnly;\n\t\t\texports.getElementFromRefreshIfExist = getElementFromRefreshIfExist;\n\t\t\texports.getElementName = getElementName;\n\t\t\texports.getElementTypeFromType = getElementTypeFromType;\n\t\t\texports.getFiberTree = getFiberTree$1;\n\t\t\texports.getFiberTreeWithFiber = getFiberTreeWithFiber;\n\t\t\texports.getHookTree = getHookTree;\n\t\t\texports.getInstanceContextFiber = getInstanceContextFiber;\n\t\t\texports.getInstanceEffectState = getInstanceEffectState;\n\t\t\texports.getInstanceFieldByInstance = getInstanceFieldByInstance;\n\t\t\texports.getInstanceOwnerFiber = getInstanceOwnerFiber;\n\t\t\texports.getPlainFiberName = getPlainFiberName;\n\t\t\texports.getStackTree = getStackTree;\n\t\t\texports.getTypeFromElement = getTypeFromElement;\n\t\t\texports.getTypeFromElementNode = getTypeFromElementNode;\n\t\t\texports.hmr = hmr;\n\t\t\texports.hmrRevert = hmrRevert;\n\t\t\texports.hmrUpdate = hmrUpdate;\n\t\t\texports.hookListUnmount = hookListUnmount;\n\t\t\texports.initClassInstance = initClassInstance;\n\t\t\texports.initHMR = initHMR;\n\t\t\texports.initHookInstance = initHookInstance;\n\t\t\texports.initInstance = initInstance;\n\t\t\texports.initScheduler = initScheduler;\n\t\t\texports.initSuspenseInstance = initSuspenseInstance;\n\t\t\texports.initVisibleInstance = initVisibleInstance;\n\t\t\texports.initialFiberNode = initialFiberNode;\n\t\t\texports.insertionEffect = insertionEffect;\n\t\t\texports.isCommentElement = isCommentElement;\n\t\t\texports.isCommentEndElement = isCommentEndElement;\n\t\t\texports.isCommentStartElement = isCommentStartElement;\n\t\t\texports.isErrorBoundariesComponent = isErrorBoundariesComponent;\n\t\t\texports.isErrorBoundariesInstance = isErrorBoundariesInstance;\n\t\t\texports.layoutEffect = layoutEffect;\n\t\t\texports.listenerMap = listenerMap;\n\t\t\texports.loadLazy = loadLazy;\n\t\t\texports.loadPromise = loadPromise;\n\t\t\texports.mountAsync = mountAsync;\n\t\t\texports.mountClassInstance = mountClassInstance;\n\t\t\texports.mountLoopAll = mountLoopAll;\n\t\t\texports.mountLoopAllFromScheduler = mountLoopAllFromScheduler;\n\t\t\texports.mountSync = mountSync;\n\t\t\texports.mountToNextFiberFromRoot = mountToNextFiberFromRoot;\n\t\t\texports.nextWorkClassComponent = nextWorkClassComponent;\n\t\t\texports.nextWorkCommon = nextWorkCommon;\n\t\t\texports.nextWorkComponent = nextWorkComponent;\n\t\t\texports.nextWorkConsumer = nextWorkConsumer;\n\t\t\texports.nextWorkFunctionComponent = nextWorkFunctionComponent;\n\t\t\texports.nextWorkLazy = nextWorkLazy;\n\t\t\texports.nextWorkNormal = nextWorkNormal;\n\t\t\texports.nextWorkProvider = nextWorkProvider;\n\t\t\texports.nextWorkRoot = nextWorkRoot;\n\t\t\texports.nextWorkSuspense = nextWorkSuspense;\n\t\t\texports.onceErrorWithKeyAndFiber = onceErrorWithKeyAndFiber;\n\t\t\texports.onceWarnWithKeyAndFiber = onceWarnWithKeyAndFiber;\n\t\t\texports.originalError = originalError;\n\t\t\texports.originalWarn = originalWarn;\n\t\t\texports.performToNextFiberFromRoot = performToNextFiberFromRoot;\n\t\t\texports.prepareUpdateAllDependence = prepareUpdateAllDependence;\n\t\t\texports.prepareUpdateOnFiber = prepareUpdateOnFiber;\n\t\t\texports.processAsyncLoadListOnAsyncMount = processAsyncLoadListOnAsyncMount;\n\t\t\texports.processAsyncLoadListOnSyncMount = processAsyncLoadListOnSyncMount;\n\t\t\texports.processAsyncLoadListOnUpdate = processAsyncLoadListOnUpdate;\n\t\t\texports.processClassComponentActive = processClassComponentActive;\n\t\t\texports.processClassComponentMount = processClassComponentMount;\n\t\t\texports.processClassComponentUnmount = processClassComponentUnmount;\n\t\t\texports.processClassComponentUpdate = processClassComponentUpdate;\n\t\t\texports.processClassComponentUpdateQueue = processClassComponentUpdateQueue;\n\t\t\texports.processConsumer = processConsumer;\n\t\t\texports.processFunction = processFunction;\n\t\t\texports.processFunctionComponentUpdateQueue = processFunctionComponentUpdateQueue;\n\t\t\texports.processHook = processHook;\n\t\t\texports.processLazy = processLazy;\n\t\t\texports.processNormalComponentUpdate = processNormalComponentUpdate;\n\t\t\texports.processPromise = processPromise;\n\t\t\texports.processProvider = processProvider;\n\t\t\texports.processState = processState;\n\t\t\texports.processSuspense = processSuspense;\n\t\t\texports.resetLogScope = resetLogScope;\n\t\t\texports.runtimeNextWork = runtimeNextWork;\n\t\t\texports.runtimeNextWorkDev = runtimeNextWorkDev;\n\t\t\texports.safeCall = safeCall;\n\t\t\texports.safeCallWithCurrentFiber = safeCallWithCurrentFiber;\n\t\t\texports.safeCallWithSync = safeCallWithSync;\n\t\t\texports.scheduleNext = scheduleNext;\n\t\t\texports.scheduleUpdate = scheduleUpdate;\n\t\t\texports.setContextForInstance = setContextForInstance;\n\t\t\texports.setEffectForInstance = setEffectForInstance;\n\t\t\texports.setLogScope = setLogScope;\n\t\t\texports.setOwnerForInstance = setOwnerForInstance;\n\t\t\texports.setRefreshHandler = setRefreshHandler;\n\t\t\texports.setRefreshTypeMap = setRefreshTypeMap;\n\t\t\texports.setSubscribeForInstance = setSubscribeForInstance;\n\t\t\texports.syncComponentStateToFiber = syncComponentStateToFiber;\n\t\t\texports.syncFiberStateToComponent = syncFiberStateToComponent;\n\t\t\texports.syncFlushComponentQueue = syncFlushComponentQueue;\n\t\t\texports.transformChildrenFiber = transformChildrenFiber;\n\t\t\texports.triggerError = triggerError;\n\t\t\texports.triggerFiberUpdateListener = triggerFiberUpdateListener;\n\t\t\texports.triggerRevert = triggerRevert;\n\t\t\texports.triggerUpdate = triggerUpdate;\n\t\t\texports.triggerUpdateOnFiber = triggerUpdateOnFiber;\n\t\t\texports.typeToFibersMap = typeToFibersMap;\n\t\t\texports.unmountContainer = unmountContainer;\n\t\t\texports.unmountFiber = unmountFiber;\n\t\t\texports.unmountFiberNode = unmountFiberNode;\n\t\t\texports.unmountInstance = unmountInstance;\n\t\t\texports.unmountList = unmountList;\n\t\t\texports.updateConcurrentFromRoot = updateConcurrentFromRoot;\n\t\t\texports.updateFiberNode = updateFiberNode;\n\t\t\texports.updateHookNode = updateHookNode;\n\t\t\texports.updateLoopConcurrentFromRoot = updateLoopConcurrentFromRoot;\n\t\t\texports.updateLoopSyncFromRoot = updateLoopSyncFromRoot;\n\t\t\texports.updateSyncFromRoot = updateSyncFromRoot;\n\t\t\texports.version = version; \n\t\t} (index_production$1));\n\t\treturn index_production$1;\n\t}\n\n\tvar hasRequiredMyreactReconciler;\n\n\tfunction requireMyreactReconciler () {\n\t\tif (hasRequiredMyreactReconciler) return myreactReconciler.exports;\n\t\thasRequiredMyreactReconciler = 1;\n\n\t\t{\n\t\t  myreactReconciler.exports = requireIndex_production_1();\n\t\t}\n\t\treturn myreactReconciler.exports;\n\t}\n\n\tvar myreactReconcilerExports = requireMyreactReconciler();\n\n\tvar myreactShared = {exports: {}};\n\n\tvar index_production$2 = {};\n\n\tvar hasRequiredIndex_production;\n\n\tfunction requireIndex_production () {\n\t\tif (hasRequiredIndex_production) return index_production$2;\n\t\thasRequiredIndex_production = 1;\n\t\t(function (exports) {\n\n\t\t\tvar merge = function (src, rest) {\n\t\t\t    return src | rest;\n\t\t\t};\n\t\t\tvar remove = function (src, rest) {\n\t\t\t    if (src & rest) {\n\t\t\t        return src ^ rest;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        return src;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar include = function (src, rest) {\n\t\t\t    return !!(src & rest);\n\t\t\t};\n\t\t\tvar exclude = function (src, rest) {\n\t\t\t    return !(src & rest);\n\t\t\t};\n\n\t\t\t/******************************************************************************\r\n\t\t\tCopyright (c) Microsoft Corporation.\r\n\r\n\t\t\tPermission to use, copy, modify, and/or distribute this software for any\r\n\t\t\tpurpose with or without fee is hereby granted.\r\n\r\n\t\t\tTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n\t\t\tREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n\t\t\tAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n\t\t\tINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n\t\t\tLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n\t\t\tOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n\t\t\tPERFORMANCE OF THIS SOFTWARE.\r\n\t\t\t***************************************************************************** */\r\n\t\t\t/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\n\r\n\t\t\tfunction __spreadArray(to, from, pack) {\r\n\t\t\t    if (arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n\t\t\t        if (ar || !(i in from)) {\r\n\t\t\t            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n\t\t\t            ar[i] = from[i];\r\n\t\t\t        }\r\n\t\t\t    }\r\n\t\t\t    return to.concat(ar || Array.prototype.slice.call(from));\r\n\t\t\t}\r\n\r\n\t\t\ttypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n\t\t\t    var e = new Error(message);\r\n\t\t\t    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n\t\t\t};\n\n\t\t\tvar once = function (action) {\n\t\t\t    var called = false;\n\t\t\t    return function () {\n\t\t\t        var args = [];\n\t\t\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t\t\t            args[_i] = arguments[_i];\n\t\t\t        }\n\t\t\t        if (called)\n\t\t\t            return;\n\t\t\t        called = true;\n\t\t\t        if (typeof action === \"function\")\n\t\t\t            action.call.apply(action, __spreadArray([null], args, false));\n\t\t\t    };\n\t\t\t};\n\n\t\t\tvar TYPEKEY = \"$$typeof\";\n\t\t\tvar Element = Symbol.for(\"react.element\");\n\t\t\tvar Memo = Symbol.for(\"react.memo\");\n\t\t\tvar ForwardRef = Symbol.for(\"react.forward_ref\");\n\t\t\tvar Portal = Symbol.for(\"react.portal\");\n\t\t\tvar Fragment = Symbol.for(\"react.fragment\");\n\t\t\tvar Context = Symbol.for(\"react.context\");\n\t\t\tvar Provider = Symbol.for(\"react.provider\");\n\t\t\tvar Consumer = Symbol.for(\"react.consumer\");\n\t\t\tvar Lazy = Symbol.for(\"react.lazy\");\n\t\t\tvar Suspense = Symbol.for(\"react.suspense\");\n\t\t\tvar Strict = Symbol.for(\"react.strict_mode\");\n\t\t\tvar Root = Symbol.for(\"react.root\");\n\t\t\tvar Scope = Symbol.for(\"react.scope\");\n\t\t\tvar ScopeLazy = Symbol.for(\"react.scope_lazy\");\n\t\t\tvar ScopeSuspense = Symbol.for(\"react.scope_suspense\");\n\t\t\tvar Comment = Symbol.for(\"react.comment\");\n\t\t\tvar Offscreen = Symbol.for(\"react.offscreen\");\n\t\t\tvar Profiler = Symbol.for(\"react.profiler\");\n\n\t\t\tfunction isObject(target) {\n\t\t\t    return typeof target === \"object\" && target !== null;\n\t\t\t}\n\t\t\tfunction isFunction(target) {\n\t\t\t    return typeof target === \"function\";\n\t\t\t}\n\t\t\tfunction isArray(target) {\n\t\t\t    return Array.isArray(target);\n\t\t\t}\n\t\t\tfunction isSymbol(target) {\n\t\t\t    return typeof target === \"symbol\";\n\t\t\t}\n\t\t\tfunction isString(target) {\n\t\t\t    return typeof target === \"string\";\n\t\t\t}\n\t\t\tfunction isInteger(target) {\n\t\t\t    return Number.isInteger(Number(target));\n\t\t\t}\n\t\t\tfunction isNumber(target) {\n\t\t\t    return typeof target === \"number\";\n\t\t\t}\n\t\t\tfunction isCollection(target) {\n\t\t\t    return target instanceof Map || target instanceof Set || target instanceof WeakMap || target instanceof WeakSet;\n\t\t\t}\n\t\t\tvar isPromise = function (val) {\n\t\t\t    return (isObject(val) || isFunction(val)) && isFunction(val.then) && isFunction(val.catch);\n\t\t\t};\n\n\t\t\tvar UniqueArray = /** @class */ (function () {\n\t\t\t    function UniqueArray() {\n\t\t\t        this.set = new Set();\n\t\t\t        this.arr = new Array();\n\t\t\t        this.length = 0;\n\t\t\t    }\n\t\t\t    UniqueArray.prototype.uniPop = function () {\n\t\t\t        var v = this.arr.pop();\n\t\t\t        this.set.delete(v);\n\t\t\t        this.length--;\n\t\t\t        return v;\n\t\t\t    };\n\t\t\t    UniqueArray.prototype.uniPush = function (v) {\n\t\t\t        if (this.set.has(v))\n\t\t\t            return 0;\n\t\t\t        this.set.add(v);\n\t\t\t        this.arr.push(v);\n\t\t\t        this.length++;\n\t\t\t    };\n\t\t\t    UniqueArray.prototype.uniShift = function () {\n\t\t\t        var v = this.arr.shift();\n\t\t\t        this.set.delete(v);\n\t\t\t        this.length--;\n\t\t\t        return v;\n\t\t\t    };\n\t\t\t    UniqueArray.prototype.uniUnshift = function (v) {\n\t\t\t        if (this.set.has(v))\n\t\t\t            return 0;\n\t\t\t        this.set.add(v);\n\t\t\t        this.arr.unshift(v);\n\t\t\t        this.length++;\n\t\t\t    };\n\t\t\t    UniqueArray.prototype.uniDelete = function (v) {\n\t\t\t        if (this.set.has(v)) {\n\t\t\t            this.set.delete(v);\n\t\t\t            this.arr = this.arr.filter(function (i) { return i !== v; });\n\t\t\t            this.length--;\n\t\t\t        }\n\t\t\t    };\n\t\t\t    UniqueArray.prototype.clear = function () {\n\t\t\t        this.length = 0;\n\t\t\t        this.set.clear();\n\t\t\t        this.arr.length = 0;\n\t\t\t    };\n\t\t\t    UniqueArray.prototype.getAll = function () {\n\t\t\t        return Array.from(this.arr);\n\t\t\t    };\n\t\t\t    return UniqueArray;\n\t\t\t}());\n\n\t\t\texports.HOOK_TYPE = void 0;\n\t\t\t(function (HOOK_TYPE) {\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useId\"] = 0] = \"useId\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useRef\"] = 1] = \"useRef\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useMemo\"] = 2] = \"useMemo\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useState\"] = 3] = \"useState\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useSignal\"] = 4] = \"useSignal\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useEffect\"] = 5] = \"useEffect\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useContext\"] = 6] = \"useContext\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useReducer\"] = 7] = \"useReducer\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useCallback\"] = 8] = \"useCallback\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useTransition\"] = 9] = \"useTransition\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useDebugValue\"] = 10] = \"useDebugValue\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useLayoutEffect\"] = 11] = \"useLayoutEffect\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useDeferredValue\"] = 12] = \"useDeferredValue\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useInsertionEffect\"] = 13] = \"useInsertionEffect\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useImperativeHandle\"] = 14] = \"useImperativeHandle\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useSyncExternalStore\"] = 15] = \"useSyncExternalStore\";\n\t\t\t})(exports.HOOK_TYPE || (exports.HOOK_TYPE = {}));\n\n\t\t\texports.UpdateQueueType = void 0;\n\t\t\t(function (UpdateQueueType) {\n\t\t\t    UpdateQueueType[UpdateQueueType[\"component\"] = 1] = \"component\";\n\t\t\t    UpdateQueueType[UpdateQueueType[\"hook\"] = 2] = \"hook\";\n\t\t\t    UpdateQueueType[UpdateQueueType[\"context\"] = 3] = \"context\";\n\t\t\t    UpdateQueueType[UpdateQueueType[\"hmr\"] = 4] = \"hmr\";\n\t\t\t    UpdateQueueType[UpdateQueueType[\"trigger\"] = 5] = \"trigger\";\n\t\t\t    UpdateQueueType[UpdateQueueType[\"suspense\"] = 6] = \"suspense\";\n\t\t\t    UpdateQueueType[UpdateQueueType[\"lazy\"] = 7] = \"lazy\";\n\t\t\t    UpdateQueueType[UpdateQueueType[\"promise\"] = 8] = \"promise\";\n\t\t\t})(exports.UpdateQueueType || (exports.UpdateQueueType = {}));\n\n\t\t\texports.STATE_TYPE = void 0;\n\t\t\t(function (STATE_TYPE) {\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__create__\"] = 1] = \"__create__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__stable__\"] = 2] = \"__stable__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__inherit__\"] = 4] = \"__inherit__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerConcurrent__\"] = 8] = \"__triggerConcurrent__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerConcurrentForce__\"] = 16] = \"__triggerConcurrentForce__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerSync__\"] = 32] = \"__triggerSync__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerSyncForce__\"] = 64] = \"__triggerSyncForce__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__unmount__\"] = 128] = \"__unmount__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__hmr__\"] = 256] = \"__hmr__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__retrigger__\"] = 512] = \"__retrigger__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__reschedule__\"] = 1024] = \"__reschedule__\";\n\t\t\t})(exports.STATE_TYPE || (exports.STATE_TYPE = {}));\n\n\t\t\texports.PATCH_TYPE = void 0;\n\t\t\t(function (PATCH_TYPE) {\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__create__\"] = 1] = \"__create__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__update__\"] = 2] = \"__update__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__append__\"] = 4] = \"__append__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__position__\"] = 8] = \"__position__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__effect__\"] = 16] = \"__effect__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__layoutEffect__\"] = 32] = \"__layoutEffect__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__insertionEffect__\"] = 64] = \"__insertionEffect__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__unmount__\"] = 128] = \"__unmount__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__ref__\"] = 256] = \"__ref__\";\n\t\t\t})(exports.PATCH_TYPE || (exports.PATCH_TYPE = {}));\n\n\t\t\texports.Effect_TYPE = void 0;\n\t\t\t(function (Effect_TYPE) {\n\t\t\t    Effect_TYPE[Effect_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t\t    Effect_TYPE[Effect_TYPE[\"__effect__\"] = 1] = \"__effect__\";\n\t\t\t    Effect_TYPE[Effect_TYPE[\"__unmount__\"] = 2] = \"__unmount__\";\n\t\t\t})(exports.Effect_TYPE || (exports.Effect_TYPE = {}));\n\n\t\t\tvar compareVersion = function (version1, version2) {\n\t\t\t    var compare = function (arr1, arr2) {\n\t\t\t        if (arr1.length && arr2.length) {\n\t\t\t            var v1 = arr1[0];\n\t\t\t            var v2 = arr2[0];\n\t\t\t            if (v1 > v2)\n\t\t\t                return true;\n\t\t\t            if (v2 > v1)\n\t\t\t                return false;\n\t\t\t            return compare(arr1.slice(1), arr2.slice(1));\n\t\t\t        }\n\t\t\t        if (arr1.length)\n\t\t\t            return true;\n\t\t\t        if (arr2.length)\n\t\t\t            return false;\n\t\t\t        return true;\n\t\t\t    };\n\t\t\t    return compare(version1.split(\".\").map(Number), version2.split(\".\").map(Number));\n\t\t\t};\n\n\t\t\tvar isNormalEquals = function (src, target, isSkipKey) {\n\t\t\t    var isEquals = Object.is(src, target);\n\t\t\t    if (isEquals)\n\t\t\t        return true;\n\t\t\t    var hasSkipKeyFunction = typeof isSkipKey === \"function\";\n\t\t\t    if (typeof src === \"object\" && typeof target === \"object\" && src !== null && target !== null) {\n\t\t\t        var srcKeys = Object.keys(src);\n\t\t\t        var targetKeys = Object.keys(target);\n\t\t\t        if (srcKeys.length !== targetKeys.length)\n\t\t\t            return false;\n\t\t\t        var res = true;\n\t\t\t        if (hasSkipKeyFunction) {\n\t\t\t            for (var _i = 0, srcKeys_1 = srcKeys; _i < srcKeys_1.length; _i++) {\n\t\t\t                var key = srcKeys_1[_i];\n\t\t\t                if (isSkipKey(key) && key in target) {\n\t\t\t                    continue;\n\t\t\t                }\n\t\t\t                else {\n\t\t\t                    res = res && Object.is(src[key], target[key]);\n\t\t\t                }\n\t\t\t                if (!res)\n\t\t\t                    return res;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            for (var _a = 0, srcKeys_2 = srcKeys; _a < srcKeys_2.length; _a++) {\n\t\t\t                var key = srcKeys_2[_a];\n\t\t\t                res = res && Object.is(src[key], target[key]);\n\t\t\t                if (!res)\n\t\t\t                    return res;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        return res;\n\t\t\t    }\n\t\t\t    return false;\n\t\t\t};\n\t\t\tvar isArrayEquals = function (src, target) {\n\t\t\t    var isEquals = Object.is(src, target);\n\t\t\t    if (isEquals)\n\t\t\t        return true;\n\t\t\t    if (Array.isArray(src) && Array.isArray(target) && src.length === target.length) {\n\t\t\t        var re = true;\n\t\t\t        for (var key in src) {\n\t\t\t            re = re && Object.is(src[key], target[key]);\n\t\t\t            if (!re)\n\t\t\t                return re;\n\t\t\t        }\n\t\t\t        return re;\n\t\t\t    }\n\t\t\t    return false;\n\t\t\t};\n\n\t\t\tvar ListTreeNode = /** @class */ (function () {\n\t\t\t    function ListTreeNode(value) {\n\t\t\t        this.prev = null;\n\t\t\t        this.next = null;\n\t\t\t        this.value = value;\n\t\t\t    }\n\t\t\t    return ListTreeNode;\n\t\t\t}());\n\t\t\tvar ListTree = /** @class */ (function () {\n\t\t\t    function ListTree() {\n\t\t\t        this.length = 0;\n\t\t\t        var _stickyHead = null;\n\t\t\t        Object.defineProperty(this, \"stickyHead\", {\n\t\t\t            get: function () {\n\t\t\t                return _stickyHead;\n\t\t\t            },\n\t\t\t            set: function (v) {\n\t\t\t                _stickyHead = v;\n\t\t\t            },\n\t\t\t        });\n\t\t\t        var _stickyFoot = null;\n\t\t\t        Object.defineProperty(this, \"stickyFoot\", {\n\t\t\t            get: function () {\n\t\t\t                return _stickyFoot;\n\t\t\t            },\n\t\t\t            set: function (v) {\n\t\t\t                _stickyFoot = v;\n\t\t\t            },\n\t\t\t        });\n\t\t\t        var _head = null;\n\t\t\t        Object.defineProperty(this, \"head\", {\n\t\t\t            get: function () {\n\t\t\t                return _head;\n\t\t\t            },\n\t\t\t            set: function (v) {\n\t\t\t                _head = v;\n\t\t\t            },\n\t\t\t        });\n\t\t\t        var _foot = null;\n\t\t\t        Object.defineProperty(this, \"foot\", {\n\t\t\t            get: function () {\n\t\t\t                return _foot;\n\t\t\t            },\n\t\t\t            set: function (v) {\n\t\t\t                _foot = v;\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    ListTree.prototype.push = function (node) {\n\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t        this.length++;\n\t\t\t        if (!this.foot) {\n\t\t\t            this.head = listNode;\n\t\t\t            this.foot = listNode;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            this.foot.next = listNode;\n\t\t\t            listNode.prev = this.foot;\n\t\t\t            this.foot = listNode;\n\t\t\t        }\n\t\t\t    };\n\t\t\t    ListTree.prototype.pushToLast = function (node) {\n\t\t\t        if (this.stickyFoot) {\n\t\t\t            var node_1 = this.stickyFoot;\n\t\t\t            this.push(node_1.value);\n\t\t\t            this.stickyFoot = null;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            this.length++;\n\t\t\t        }\n\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t        this.stickyFoot = listNode;\n\t\t\t    };\n\t\t\t    ListTree.prototype.pushToHead = function (node) {\n\t\t\t        if (this.stickyHead) {\n\t\t\t            var node_2 = this.stickyHead;\n\t\t\t            this.unshift(node_2.value);\n\t\t\t            this.stickyHead = null;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            this.length++;\n\t\t\t        }\n\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t        this.stickyHead = listNode;\n\t\t\t    };\n\t\t\t    ListTree.prototype.pop = function () {\n\t\t\t        var foot = this.stickyFoot || this.foot || this.stickyHead;\n\t\t\t        if (foot) {\n\t\t\t            this.delete(foot);\n\t\t\t            return foot.value;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            return null;\n\t\t\t        }\n\t\t\t    };\n\t\t\t    ListTree.prototype.unshift = function (node) {\n\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t        this.length++;\n\t\t\t        if (!this.head) {\n\t\t\t            this.head = listNode;\n\t\t\t            this.foot = listNode;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            this.head.prev = listNode;\n\t\t\t            listNode.next = this.head;\n\t\t\t            this.head = listNode;\n\t\t\t        }\n\t\t\t    };\n\t\t\t    ListTree.prototype.unshiftToHead = function (node) {\n\t\t\t        if (this.stickyHead) {\n\t\t\t            var node_3 = this.stickyHead;\n\t\t\t            this.unshift(node_3.value);\n\t\t\t            this.stickyHead = null;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            this.length++;\n\t\t\t        }\n\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t        this.stickyHead = listNode;\n\t\t\t    };\n\t\t\t    ListTree.prototype.unshiftToFoot = function (node) {\n\t\t\t        if (this.stickyFoot) {\n\t\t\t            var node_4 = this.stickyFoot;\n\t\t\t            this.push(node_4.value);\n\t\t\t            this.stickyFoot = null;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            this.length++;\n\t\t\t        }\n\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t        this.stickyFoot = listNode;\n\t\t\t    };\n\t\t\t    ListTree.prototype.shift = function () {\n\t\t\t        var head = this.stickyHead || this.head || this.stickyFoot;\n\t\t\t        if (head) {\n\t\t\t            this.delete(head);\n\t\t\t            return head.value;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            return null;\n\t\t\t        }\n\t\t\t    };\n\t\t\t    ListTree.prototype.pickHead = function () {\n\t\t\t        var _a, _b;\n\t\t\t        return ((_a = this.stickyHead) === null || _a === void 0 ? void 0 : _a.value) || ((_b = this.head) === null || _b === void 0 ? void 0 : _b.value);\n\t\t\t    };\n\t\t\t    ListTree.prototype.pickFoot = function () {\n\t\t\t        var _a, _b;\n\t\t\t        return ((_a = this.stickyFoot) === null || _a === void 0 ? void 0 : _a.value) || ((_b = this.foot) === null || _b === void 0 ? void 0 : _b.value);\n\t\t\t    };\n\t\t\t    ListTree.prototype.listToFoot = function (action) {\n\t\t\t        if (this.stickyHead) {\n\t\t\t            action(this.stickyHead.value);\n\t\t\t        }\n\t\t\t        var node = this.head;\n\t\t\t        while (node) {\n\t\t\t            action(node.value);\n\t\t\t            node = node.next;\n\t\t\t        }\n\t\t\t        if (this.stickyFoot) {\n\t\t\t            action(this.stickyFoot.value);\n\t\t\t        }\n\t\t\t    };\n\t\t\t    ListTree.prototype.listToHead = function (action) {\n\t\t\t        if (this.stickyFoot) {\n\t\t\t            action(this.stickyFoot.value);\n\t\t\t        }\n\t\t\t        var node = this.foot;\n\t\t\t        while (node) {\n\t\t\t            action(node.value);\n\t\t\t            node = node.prev;\n\t\t\t        }\n\t\t\t        if (this.stickyHead) {\n\t\t\t            action(this.stickyHead.value);\n\t\t\t        }\n\t\t\t    };\n\t\t\t    ListTree.prototype.toArray = function () {\n\t\t\t        var re = [];\n\t\t\t        this.listToFoot(function (v) { return re.push(v); });\n\t\t\t        return re;\n\t\t\t    };\n\t\t\t    ListTree.prototype.delete = function (node) {\n\t\t\t        if (this.stickyHead === node) {\n\t\t\t            this.stickyHead = null;\n\t\t\t            this.length--;\n\t\t\t        }\n\t\t\t        else if (this.stickyFoot === node) {\n\t\t\t            this.stickyFoot = null;\n\t\t\t            this.length--;\n\t\t\t        }\n\t\t\t        else if (this.head === node) {\n\t\t\t            var next = node.next;\n\t\t\t            node.next = null;\n\t\t\t            if (next) {\n\t\t\t                this.head = next;\n\t\t\t                next.prev = null;\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                this.head = null;\n\t\t\t                this.foot = null;\n\t\t\t            }\n\t\t\t            this.length--;\n\t\t\t        }\n\t\t\t        else if (this.foot === node) {\n\t\t\t            var prev = node.prev;\n\t\t\t            node.prev = null;\n\t\t\t            if (prev) {\n\t\t\t                this.foot = prev;\n\t\t\t                prev.next = null;\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                this.head = null;\n\t\t\t                this.foot = null;\n\t\t\t            }\n\t\t\t            this.length--;\n\t\t\t        }\n\t\t\t        else if (this.hasNode(node)) {\n\t\t\t            var prev = node.prev;\n\t\t\t            var next = node.next;\n\t\t\t            node.prev = null;\n\t\t\t            node.next = null;\n\t\t\t            prev.next = next;\n\t\t\t            next.prev = prev;\n\t\t\t            this.length--;\n\t\t\t        }\n\t\t\t    };\n\t\t\t    ListTree.prototype.size = function () {\n\t\t\t        return this.length;\n\t\t\t    };\n\t\t\t    ListTree.prototype.hasNode = function (node) {\n\t\t\t        if (this.stickyHead && Object.is(this.stickyHead, node))\n\t\t\t            return true;\n\t\t\t        if (this.stickyFoot && Object.is(this.stickyFoot, node))\n\t\t\t            return true;\n\t\t\t        var listNode = this.head;\n\t\t\t        while (listNode) {\n\t\t\t            if (Object.is(listNode, node))\n\t\t\t                return true;\n\t\t\t            listNode = listNode.next;\n\t\t\t        }\n\t\t\t        return false;\n\t\t\t    };\n\t\t\t    ListTree.prototype.hasValue = function (node) {\n\t\t\t        if (this.stickyHead && Object.is(this.stickyHead.value, node))\n\t\t\t            return true;\n\t\t\t        if (this.stickyFoot && Object.is(this.stickyFoot.value, node))\n\t\t\t            return true;\n\t\t\t        var listNode = this.head;\n\t\t\t        while (listNode) {\n\t\t\t            if (Object.is(listNode.value, node))\n\t\t\t                return true;\n\t\t\t            listNode = listNode.next;\n\t\t\t        }\n\t\t\t        return false;\n\t\t\t    };\n\t\t\t    ListTree.prototype.some = function (iterator) {\n\t\t\t        var re = false;\n\t\t\t        this.listToFoot(function (node) {\n\t\t\t            re = re || iterator(node);\n\t\t\t        });\n\t\t\t        return re;\n\t\t\t    };\n\t\t\t    ListTree.prototype.every = function (iterator) {\n\t\t\t        var re = true;\n\t\t\t        this.listToFoot(function (node) {\n\t\t\t            re = re && iterator(node);\n\t\t\t        });\n\t\t\t        return re;\n\t\t\t    };\n\t\t\t    ListTree.prototype.concat = function (list) {\n\t\t\t        var newList = new ListTree();\n\t\t\t        this.listToFoot(function (node) { return newList.push(node); });\n\t\t\t        list.listToFoot(function (node) { return newList.push(node); });\n\t\t\t        return newList;\n\t\t\t    };\n\t\t\t    ListTree.prototype.clone = function () {\n\t\t\t        var newList = new ListTree();\n\t\t\t        this.listToFoot(function (v) { return newList.push(v); });\n\t\t\t        return newList;\n\t\t\t    };\n\t\t\t    ListTree.prototype.clear = function () {\n\t\t\t        this.length = 0;\n\t\t\t        this.head = null;\n\t\t\t        this.foot = null;\n\t\t\t        this.stickyHead = null;\n\t\t\t        this.stickyFoot = null;\n\t\t\t    };\n\t\t\t    return ListTree;\n\t\t\t}());\n\n\t\t\texports.Comment = Comment;\n\t\t\texports.Consumer = Consumer;\n\t\t\texports.Context = Context;\n\t\t\texports.Element = Element;\n\t\t\texports.ForwardRef = ForwardRef;\n\t\t\texports.Fragment = Fragment;\n\t\t\texports.Lazy = Lazy;\n\t\t\texports.ListTree = ListTree;\n\t\t\texports.ListTreeNode = ListTreeNode;\n\t\t\texports.Memo = Memo;\n\t\t\texports.Offscreen = Offscreen;\n\t\t\texports.Portal = Portal;\n\t\t\texports.Profiler = Profiler;\n\t\t\texports.Provider = Provider;\n\t\t\texports.Root = Root;\n\t\t\texports.Scope = Scope;\n\t\t\texports.ScopeLazy = ScopeLazy;\n\t\t\texports.ScopeSuspense = ScopeSuspense;\n\t\t\texports.Strict = Strict;\n\t\t\texports.Suspense = Suspense;\n\t\t\texports.TYPEKEY = TYPEKEY;\n\t\t\texports.UniqueArray = UniqueArray;\n\t\t\texports.compareVersion = compareVersion;\n\t\t\texports.exclude = exclude;\n\t\t\texports.include = include;\n\t\t\texports.isArray = isArray;\n\t\t\texports.isArrayEquals = isArrayEquals;\n\t\t\texports.isCollection = isCollection;\n\t\t\texports.isFunction = isFunction;\n\t\t\texports.isInteger = isInteger;\n\t\t\texports.isNormalEquals = isNormalEquals;\n\t\t\texports.isNumber = isNumber;\n\t\t\texports.isObject = isObject;\n\t\t\texports.isPromise = isPromise;\n\t\t\texports.isString = isString;\n\t\t\texports.isSymbol = isSymbol;\n\t\t\texports.merge = merge;\n\t\t\texports.once = once;\n\t\t\texports.remove = remove; \n\t\t} (index_production$2));\n\t\treturn index_production$2;\n\t}\n\n\tvar hasRequiredMyreactShared;\n\n\tfunction requireMyreactShared () {\n\t\tif (hasRequiredMyreactShared) return myreactShared.exports;\n\t\thasRequiredMyreactShared = 1;\n\n\t\t{\n\t\t  myreactShared.exports = requireIndex_production();\n\t\t}\n\t\treturn myreactShared.exports;\n\t}\n\n\tvar myreactSharedExports = requireMyreactShared();\n\n\tvar DISPATCH_FIELD = \"__@my-react/dispatch__\";\n\tvar DEV_TOOL_FIELD = \"__@my-react/react-devtool-inject__\";\n\tvar addGlobalDispatch = function (dispatch) {\n\t    if (typeof globalThis !== \"undefined\") {\n\t        if (Array.isArray(globalThis[DISPATCH_FIELD])) {\n\t            globalThis[DISPATCH_FIELD] = globalThis[DISPATCH_FIELD].filter(function (i) { return i !== dispatch; });\n\t            globalThis[DISPATCH_FIELD].push(dispatch);\n\t        }\n\t        else {\n\t            globalThis[DISPATCH_FIELD] = [dispatch];\n\t        }\n\t    }\n\t};\n\tvar autoSetDevTools = function (dispatch) {\n\t    addGlobalDispatch(dispatch);\n\t    if (typeof globalThis !== \"undefined\" && globalThis[DEV_TOOL_FIELD]) {\n\t        try {\n\t            var typedRuntimeField = globalThis[DEV_TOOL_FIELD];\n\t            typedRuntimeField === null || typedRuntimeField === void 0 ? void 0 : typedRuntimeField(dispatch);\n\t        }\n\t        catch (_a) {\n\t        }\n\t    }\n\t};\n\tvar delGlobalDispatch = function (dispatch) {\n\t    if (typeof globalThis !== \"undefined\") {\n\t        if (Array.isArray(globalThis[DISPATCH_FIELD])) {\n\t            globalThis[DISPATCH_FIELD] = globalThis[DISPATCH_FIELD].filter(function (i) { return i !== dispatch; });\n\t        }\n\t    }\n\t};\n\n\t/**\n\t * @internal\n\t */\n\tvar setRef = function (_fiber, config) {\n\t    var _a, _b;\n\t    if (myreactSharedExports.include(_fiber.patch, myreactSharedExports.PATCH_TYPE.__ref__)) {\n\t        if (myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__plain__)) {\n\t            if (_fiber.nativeNode) {\n\t                var ref_1 = _fiber.ref;\n\t                if (typeof ref_1 === \"object\" && ref_1 !== null) {\n\t                    ref_1.current = (_a = config === null || config === void 0 ? void 0 : config.getPublicInstance) === null || _a === void 0 ? void 0 : _a.call(config, _fiber.nativeNode);\n\t                }\n\t                else if (typeof ref_1 === \"function\") {\n\t                    myreactReconcilerExports.safeCallWithCurrentFiber({\n\t                        fiber: _fiber,\n\t                        action: function safeCallSetRef() {\n\t                            var _a, _b;\n\t                            (_a = _fiber.refCleanup) === null || _a === void 0 ? void 0 : _a.call(_fiber);\n\t                            var refCleanUp = ref_1((_b = config === null || config === void 0 ? void 0 : config.getPublicInstance) === null || _b === void 0 ? void 0 : _b.call(config, _fiber.nativeNode));\n\t                            if (typeof refCleanUp === \"function\") {\n\t                                _fiber.refCleanup = refCleanUp;\n\t                            }\n\t                        },\n\t                    });\n\t                }\n\t            }\n\t            else {\n\t                throw new Error(\"[@my-react/react] plain element do not have a native node\");\n\t            }\n\t        }\n\t        else if (myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__class__)) {\n\t            if (_fiber.instance) {\n\t                var ref_2 = _fiber.ref;\n\t                if (typeof ref_2 === \"object\" && ref_2 !== null) {\n\t                    ref_2.current = (_b = config === null || config === void 0 ? void 0 : config.getPublicInstance) === null || _b === void 0 ? void 0 : _b.call(config, _fiber.instance);\n\t                }\n\t                else if (typeof ref_2 === \"function\") {\n\t                    myreactReconcilerExports.safeCallWithCurrentFiber({\n\t                        fiber: _fiber,\n\t                        action: function safeCallSetRef() {\n\t                            var _a, _b;\n\t                            (_a = _fiber.refCleanup) === null || _a === void 0 ? void 0 : _a.call(_fiber);\n\t                            var refCleanUp = ref_2((_b = config === null || config === void 0 ? void 0 : config.getPublicInstance) === null || _b === void 0 ? void 0 : _b.call(config, _fiber.instance));\n\t                            if (typeof refCleanUp === \"function\") {\n\t                                _fiber.refCleanup = refCleanUp;\n\t                            }\n\t                        },\n\t                    });\n\t                }\n\t            }\n\t            else {\n\t                throw new Error(\"[@my-react/react-dom] class component do not have a instance\");\n\t            }\n\t        }\n\t        else {\n\t            console.error(\"can not set ref for current element\");\n\t        }\n\t        _fiber.patch = myreactSharedExports.remove(_fiber.patch, myreactSharedExports.PATCH_TYPE.__ref__);\n\t    }\n\t};\n\t/**\n\t * @internal\n\t */\n\tvar unsetRef = function (_fiber) {\n\t    if (myreactSharedExports.include(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t        return;\n\t    if (_fiber.ref && myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__plain__ | myreactReconcilerExports.NODE_TYPE.__class__)) {\n\t        var ref_3 = _fiber.ref;\n\t        if (typeof ref_3 === \"object\" && ref_3 !== null) {\n\t            ref_3.current = null;\n\t        }\n\t        else if (typeof ref_3 === \"function\") {\n\t            myreactReconcilerExports.safeCallWithCurrentFiber({\n\t                fiber: _fiber,\n\t                action: function safeCallClearRef() {\n\t                    if (_fiber.refCleanup) {\n\t                        _fiber.refCleanup();\n\t                    }\n\t                    else {\n\t                        ref_3(null);\n\t                    }\n\t                },\n\t            });\n\t        }\n\t    }\n\t};\n\n\tvar create = function (_dispatch, _fiber, _config) {\n\t    var _a;\n\t    if (!myreactSharedExports.include(_fiber.patch, myreactSharedExports.PATCH_TYPE.__create__))\n\t        return;\n\t    var type = _fiber.elementType;\n\t    var props = _fiber.pendingProps;\n\t    // const rootContainerInstance = config.getPublicInstance(rootNode);\n\t    var rootContainerInstance = _dispatch.rootNode;\n\t    var hostContext = _dispatch.runtimeDom.hostContextMap.get(_fiber.parent || _fiber);\n\t    // TODO\n\t    if (myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__text__)) {\n\t        _fiber.nativeNode = _config.createTextInstance(type, rootContainerInstance, hostContext, _fiber);\n\t    }\n\t    else if (myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__plain__)) {\n\t        _fiber.nativeNode = _config.createInstance(type, props, rootContainerInstance, hostContext, _fiber);\n\t    }\n\t    else if (myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__portal__)) {\n\t        var fiberContainer = _fiber;\n\t        var containerNode = _fiber.pendingProps[\"container\"];\n\t        (_a = _config.preparePortalMount) === null || _a === void 0 ? void 0 : _a.call(_config, containerNode);\n\t        fiberContainer.containerNode = containerNode;\n\t    }\n\t    else {\n\t        throw new Error(\"current type node not supported\");\n\t    }\n\t    _fiber.memoizedProps = _fiber.pendingProps;\n\t    _fiber.patch = myreactSharedExports.remove(_fiber.patch, myreactSharedExports.PATCH_TYPE.__update__);\n\t    _fiber.patch = myreactSharedExports.remove(_fiber.patch, myreactSharedExports.PATCH_TYPE.__create__);\n\t};\n\n\tvar initialMap = function (dispatch, fiber, config) {\n\t    var parentFiberWithNode = null;\n\t    var parentFiberHostContext = null;\n\t    var hostContext = null;\n\t    if (fiber.parent) {\n\t        var mayFiberContainer = fiber.parent;\n\t        if (mayFiberContainer.containerNode) {\n\t            parentFiberWithNode = fiber.parent;\n\t        }\n\t        else if (myreactSharedExports.include(fiber.parent.type, dispatch.runtimeRef.typeForNativeNode)) {\n\t            parentFiberWithNode = fiber.parent;\n\t        }\n\t        else {\n\t            parentFiberWithNode = dispatch.runtimeDom.elementMap.get(fiber.parent) || dispatch.rootFiber;\n\t        }\n\t        parentFiberHostContext = dispatch.runtimeDom.hostContextMap.get(parentFiberWithNode);\n\t        if (checkFiberWithNativeNode(dispatch, fiber)) {\n\t            hostContext = config.getChildHostContext(parentFiberHostContext, fiber.elementType, dispatch.rootNode, fiber);\n\t        }\n\t        else {\n\t            hostContext = parentFiberHostContext;\n\t        }\n\t    }\n\t    else {\n\t        hostContext = config.getRootHostContext(dispatch.rootNode);\n\t    }\n\t    if (parentFiberWithNode) {\n\t        dispatch.runtimeDom.elementMap.set(fiber, parentFiberWithNode);\n\t    }\n\t    dispatch.runtimeDom.hostContextMap.set(fiber, hostContext);\n\t};\n\tvar unmountMap = function (dispatch, fiber) {\n\t    dispatch.runtimeDom.hostContextMap.delete(fiber);\n\t    dispatch.runtimeDom.elementMap.delete(fiber);\n\t};\n\tvar getFiberWithNativeNode = function (fiber, transform) {\n\t    while (fiber) {\n\t        var maybeContainer = fiber;\n\t        if (fiber.nativeNode && myreactSharedExports.exclude(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t            return fiber;\n\t        if (maybeContainer.containerNode && myreactSharedExports.exclude(maybeContainer.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t            return fiber;\n\t        fiber = transform(fiber);\n\t    }\n\t    return null;\n\t};\n\tvar getValidParentFiberWithNode = function (_dispatch, _fiber) {\n\t    var parentFiberWithNode = _dispatch.runtimeDom.elementMap.get(_fiber);\n\t    if (!parentFiberWithNode || myreactSharedExports.include(parentFiberWithNode.state, myreactSharedExports.STATE_TYPE.__unmount__)) {\n\t        parentFiberWithNode = getFiberWithNativeNode(_fiber.parent, function (f) { return f.parent; });\n\t        _dispatch.runtimeDom.elementMap.set(_fiber, parentFiberWithNode);\n\t    }\n\t    return parentFiberWithNode;\n\t};\n\tvar findFiberWithNodeFromFiber = function (fiber) {\n\t    if (!fiber || myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t        return null;\n\t    if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__portal__))\n\t        return null;\n\t    if (fiber.nativeNode)\n\t        return fiber;\n\t    var child = fiber.child;\n\t    while (child) {\n\t        var childWithDom = findFiberWithNodeFromFiber(child);\n\t        if (childWithDom)\n\t            return childWithDom;\n\t        child = child.sibling;\n\t    }\n\t    return null;\n\t};\n\tvar getInsertBeforeNodeFromSibling = function (fiber) {\n\t    if (!fiber)\n\t        return null;\n\t    return findFiberWithNodeFromFiber(fiber) || getInsertBeforeNodeFromSibling(fiber === null || fiber === void 0 ? void 0 : fiber.sibling);\n\t};\n\tvar getInsertBeforeNodeFromSiblingAndParent = function (fiber, parentFiber) {\n\t    if (!fiber)\n\t        return null;\n\t    if (fiber === parentFiber)\n\t        return null;\n\t    var beforeDom = getInsertBeforeNodeFromSibling(fiber.sibling);\n\t    if (beforeDom)\n\t        return beforeDom;\n\t    return getInsertBeforeNodeFromSiblingAndParent(fiber.parent, parentFiber);\n\t};\n\tvar checkFiberWithNativeNode = function (dispatch, fiber) {\n\t    var _a;\n\t    var maybeContainer = fiber;\n\t    var maybeRoot = fiber;\n\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t        return false;\n\t    if (maybeContainer.containerNode)\n\t        return true;\n\t    if ((_a = maybeRoot.renderDispatch) === null || _a === void 0 ? void 0 : _a.rootNode)\n\t        return true;\n\t    if (myreactSharedExports.include(fiber.type, dispatch.runtimeRef.typeForNativeNode)) {\n\t        return true;\n\t    }\n\t    return false;\n\t};\n\n\tvar append$1 = function (_dispatch, _fiber, _config) {\n\t    var _a, _b, _c, _d, _e, _f;\n\t    if (!myreactSharedExports.include(_fiber.patch, myreactSharedExports.PATCH_TYPE.__append__))\n\t        return;\n\t    var isRender = !_dispatch.isAppMounted;\n\t    var parentFiberWithNode = getValidParentFiberWithNode(_dispatch, _fiber);\n\t    var mayFiberContainer = parentFiberWithNode;\n\t    if (!_fiber.nativeNode)\n\t        throw new Error(\"append error, current render node not have a native node\");\n\t    // const parentNode = config.getPublicInstance(parentFiberWithNode?.nativeNode || mayFiberContainer?.containerNode);\n\t    var parentNode = (parentFiberWithNode === null || parentFiberWithNode === void 0 ? void 0 : parentFiberWithNode.nativeNode) || (mayFiberContainer === null || mayFiberContainer === void 0 ? void 0 : mayFiberContainer.containerNode);\n\t    // const rootNode = config.getPublicInstance(this.rootNode);\n\t    var rootNode = _dispatch.rootNode;\n\t    var isContainer = !parentNode || (parentNode && parentNode === (mayFiberContainer === null || mayFiberContainer === void 0 ? void 0 : mayFiberContainer.containerNode));\n\t    // const currentNode = config.getPublicInstance(_fiber.nativeNode);\n\t    var currentNode = _fiber.nativeNode;\n\t    if (isRender) {\n\t        if (isContainer) {\n\t            if (_config.appendChildToContainer) {\n\t                (_a = _config.appendChildToContainer) === null || _a === void 0 ? void 0 : _a.call(_config, rootNode, currentNode, _fiber);\n\t            }\n\t            else {\n\t                (_b = _config.appendInitialChild) === null || _b === void 0 ? void 0 : _b.call(_config, rootNode, currentNode, _fiber);\n\t            }\n\t        }\n\t        else {\n\t            (_c = _config.appendInitialChild) === null || _c === void 0 ? void 0 : _c.call(_config, parentNode, currentNode, _fiber);\n\t        }\n\t    }\n\t    else {\n\t        if (isContainer) {\n\t            if (_config.appendChildToContainer) {\n\t                (_d = _config.appendChildToContainer) === null || _d === void 0 ? void 0 : _d.call(_config, rootNode, currentNode, _fiber);\n\t            }\n\t            else {\n\t                (_e = _config.appendChild) === null || _e === void 0 ? void 0 : _e.call(_config, rootNode, currentNode, _fiber);\n\t            }\n\t        }\n\t        else {\n\t            (_f = _config.appendChild) === null || _f === void 0 ? void 0 : _f.call(_config, parentNode, currentNode, _fiber);\n\t        }\n\t    }\n\t    _fiber.patch = myreactSharedExports.remove(_fiber.patch, myreactSharedExports.PATCH_TYPE.__append__);\n\t};\n\n\tvar update = function (_dispatch, _fiber, _config) {\n\t    var _a;\n\t    if (!myreactSharedExports.include(_fiber.patch, myreactSharedExports.PATCH_TYPE.__update__))\n\t        return;\n\t    // const node = config.getPublicInstance(_fiber.nativeNode);\n\t    var node = _fiber.nativeNode;\n\t    var type = _fiber.elementType;\n\t    var oldProps = _fiber.memoizedProps;\n\t    var newProps = _fiber.pendingProps;\n\t    // const rootContainerInstance = config.getPublicInstance(rootNode);\n\t    var rootContainerInstance = _dispatch.rootNode;\n\t    var hostContext = _dispatch.runtimeDom.hostContextMap.get(_fiber.parent || _fiber);\n\t    if (myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__text__)) {\n\t        (_a = _config.commitTextUpdate) === null || _a === void 0 ? void 0 : _a.call(_config, node, _fiber.memoizedText, _fiber.pendingText);\n\t    }\n\t    else if (myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__plain__)) {\n\t        if (typeof _config.prepareUpdate === \"function\") {\n\t            var updatePayload = _config.prepareUpdate(node, type, oldProps, newProps, rootContainerInstance, hostContext, _fiber);\n\t            if (updatePayload) {\n\t                _config.commitUpdate(node, updatePayload, type, oldProps, newProps, _fiber);\n\t            }\n\t        }\n\t        else {\n\t            _config.commitUpdate(node, type, oldProps, newProps, _fiber);\n\t        }\n\t    }\n\t    _fiber.memoizedProps = _fiber.pendingProps;\n\t    _fiber.patch = myreactSharedExports.remove(_fiber.patch, myreactSharedExports.PATCH_TYPE.__update__);\n\t};\n\n\tvar remove = function (_dispatch, _fiber, _config) {\n\t    var _a, _b;\n\t    if (myreactSharedExports.include(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t        return;\n\t    if (!_fiber.nativeNode)\n\t        return;\n\t    var parentFiberWithNode = getValidParentFiberWithNode(_dispatch, _fiber);\n\t    var maybeContainer = parentFiberWithNode;\n\t    // const parentNode = config.getPublicInstance(parentFiberWithNode?.nativeNode || mayFiberContainer?.containerNode);\n\t    var parentNode = (parentFiberWithNode === null || parentFiberWithNode === void 0 ? void 0 : parentFiberWithNode.nativeNode) || (maybeContainer === null || maybeContainer === void 0 ? void 0 : maybeContainer.containerNode);\n\t    // const rootNode = config.getPublicInstance(this.rootNode);\n\t    var rootNode = _dispatch.rootNode;\n\t    // const currentNode = config.getPublicInstance(_fiber.nativeNode);\n\t    var currentNode = _fiber.nativeNode;\n\t    var isContainer = !parentNode || (parentNode && parentNode === (maybeContainer === null || maybeContainer === void 0 ? void 0 : maybeContainer.containerNode));\n\t    if (isContainer) {\n\t        (_a = _config.removeChildFromContainer) === null || _a === void 0 ? void 0 : _a.call(_config, rootNode, currentNode, _fiber);\n\t    }\n\t    else {\n\t        (_b = _config.removeChild) === null || _b === void 0 ? void 0 : _b.call(_config, parentNode, currentNode, _fiber);\n\t    }\n\t};\n\n\tvar append = function (dispatch, config, fiber, parentFiberWithNode) {\n\t    var _a, _b, _c;\n\t    if (!fiber)\n\t        throw new Error(\"position error, look like a bug for @my-react\");\n\t    fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__append__);\n\t    fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__position__);\n\t    if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__portal__))\n\t        return;\n\t    if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__plain__ | myreactReconcilerExports.NODE_TYPE.__text__)) {\n\t        var maybeContainer = parentFiberWithNode;\n\t        var maybeFiber = parentFiberWithNode;\n\t        // const parentNode = config?.getPublicInstance?.(maybeFiber?.nativeNode || maybeContainer?.containerNode);\n\t        var parentNode = (maybeFiber === null || maybeFiber === void 0 ? void 0 : maybeFiber.nativeNode) || (maybeContainer === null || maybeContainer === void 0 ? void 0 : maybeContainer.containerNode);\n\t        // const rootNode = config?.getPublicInstance?.(dispatch.rootNode);\n\t        var rootNode = dispatch.rootNode;\n\t        // const childNode = config?.getPublicInstance?.(fiber.nativeNode);\n\t        var childNode = fiber.nativeNode;\n\t        var isContainer = !parentNode || (parentNode && parentNode === (maybeContainer === null || maybeContainer === void 0 ? void 0 : maybeContainer.containerNode));\n\t        if (isContainer) {\n\t            if (config.appendChildToContainer) {\n\t                (_a = config.appendChildToContainer) === null || _a === void 0 ? void 0 : _a.call(config, rootNode, childNode, fiber);\n\t            }\n\t            else {\n\t                (_b = config.appendChild) === null || _b === void 0 ? void 0 : _b.call(config, rootNode, childNode, fiber);\n\t            }\n\t        }\n\t        else {\n\t            (_c = config.appendChild) === null || _c === void 0 ? void 0 : _c.call(config, parentNode, childNode, fiber);\n\t        }\n\t        return;\n\t    }\n\t    var child = fiber.child;\n\t    while (child) {\n\t        append(dispatch, config, child, parentFiberWithNode);\n\t        child = child.sibling;\n\t    }\n\t};\n\tvar insertBefore = function (dispatch, config, fiber, beforeFiberWithNode, parentFiberWithNode) {\n\t    var _a, _b, _c;\n\t    if (!fiber)\n\t        throw new Error(\"position error, look like a bug for @my-react\");\n\t    fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__append__);\n\t    fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__position__);\n\t    if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__portal__))\n\t        return;\n\t    if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__plain__ | myreactReconcilerExports.NODE_TYPE.__text__)) {\n\t        var maybeContainer = parentFiberWithNode;\n\t        var maybeFiber = parentFiberWithNode;\n\t        // const parentNode = config?.getPublicInstance?.(maybeFiber?.nativeNode || maybeContainer?.containerNode);\n\t        var parentNode = (maybeFiber === null || maybeFiber === void 0 ? void 0 : maybeFiber.nativeNode) || (maybeContainer === null || maybeContainer === void 0 ? void 0 : maybeContainer.containerNode);\n\t        // const rootNode = config?.getPublicInstance?.(dispatch.rootNode);\n\t        var rootNode = dispatch.rootNode;\n\t        // the before dom will not have containerNode\n\t        // const beforeNode = config?.getPublicInstance?.(beforeFiberWithNode.nativeNode);\n\t        var beforeNode = beforeFiberWithNode.nativeNode;\n\t        // const childNode = config?.getPublicInstance?.(fiber.nativeNode);\n\t        var childNode = fiber.nativeNode;\n\t        var isContainer = !parentNode || (parentNode && parentNode === (maybeContainer === null || maybeContainer === void 0 ? void 0 : maybeContainer.containerNode));\n\t        if (isContainer) {\n\t            if (config.insertInContainerBefore) {\n\t                (_a = config.insertInContainerBefore) === null || _a === void 0 ? void 0 : _a.call(config, rootNode, childNode, beforeNode, fiber);\n\t            }\n\t            else {\n\t                (_b = config.insertBefore) === null || _b === void 0 ? void 0 : _b.call(config, rootNode, childNode, beforeNode, fiber);\n\t            }\n\t        }\n\t        else {\n\t            (_c = config.insertBefore) === null || _c === void 0 ? void 0 : _c.call(config, parentNode, childNode, beforeNode, fiber);\n\t        }\n\t        return;\n\t    }\n\t    var child = fiber.child;\n\t    while (child) {\n\t        insertBefore(dispatch, config, child, beforeFiberWithNode, parentFiberWithNode);\n\t        child = child.sibling;\n\t    }\n\t};\n\tvar position = function (_dispatch, _fiber, _config) {\n\t    if (!myreactSharedExports.include(_fiber.patch, myreactSharedExports.PATCH_TYPE.__position__))\n\t        return;\n\t    var rootFiber = _dispatch.rootFiber;\n\t    var parentFiberWithNode = getValidParentFiberWithNode(_dispatch, _fiber);\n\t    var beforeFiberWithNode = getInsertBeforeNodeFromSiblingAndParent(_fiber, parentFiberWithNode || rootFiber);\n\t    if (beforeFiberWithNode && myreactSharedExports.exclude(beforeFiberWithNode.patch, myreactSharedExports.PATCH_TYPE.__append__ | myreactSharedExports.PATCH_TYPE.__position__)) {\n\t        insertBefore(_dispatch, _config, _fiber, beforeFiberWithNode, parentFiberWithNode);\n\t    }\n\t    else {\n\t        append(_dispatch, _config, _fiber, parentFiberWithNode);\n\t    }\n\t    _fiber.patch = myreactSharedExports.remove(_fiber.patch, myreactSharedExports.PATCH_TYPE.__position__);\n\t};\n\n\tvar createPortal = function (_element, _container) {\n\t    var portal = require$$0.createElement(myreactSharedExports.Portal, { container: _container }, _element);\n\t    return portal;\n\t};\n\tvar nextWorkPortal = function (renderDispatch, fiber) {\n\t    var typedFiber = fiber;\n\t    myreactReconcilerExports.nextWorkNormal(renderDispatch, fiber);\n\t    if (typedFiber.containerNode !== fiber.pendingProps[\"container\"]) {\n\t        renderDispatch.pendingCreate(fiber);\n\t        var child = fiber.child;\n\t        while (child) {\n\t            renderDispatch.pendingAppend(child);\n\t            child = child.sibling;\n\t        }\n\t    }\n\t};\n\n\tvar ReconcilerDispatchFiber = function (renderDispatch, fiber) {\n\t    if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__root__)) {\n\t        // TODO\n\t        myreactReconcilerExports.nextWorkRoot(renderDispatch, fiber);\n\t    }\n\t    else if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__class__ | myreactReconcilerExports.NODE_TYPE.__function__)) {\n\t        myreactReconcilerExports.nextWorkComponent(renderDispatch, fiber);\n\t    }\n\t    else if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__portal__)) {\n\t        nextWorkPortal(renderDispatch, fiber);\n\t    }\n\t    else if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__lazy__)) {\n\t        myreactReconcilerExports.nextWorkLazy(renderDispatch, fiber);\n\t    }\n\t    else if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__suspense__)) {\n\t        myreactReconcilerExports.nextWorkSuspense(renderDispatch, fiber);\n\t    }\n\t    else if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__consumer__)) {\n\t        myreactReconcilerExports.nextWorkConsumer(renderDispatch, fiber);\n\t    }\n\t    else if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__provider__ | myreactReconcilerExports.NODE_TYPE.__context__)) {\n\t        myreactReconcilerExports.nextWorkProvider(renderDispatch, fiber);\n\t    }\n\t    else {\n\t        myreactReconcilerExports.nextWorkNormal(renderDispatch, fiber);\n\t    }\n\t};\n\n\tvar currentScheduler$1 = require$$0.__my_react_internal__.currentScheduler;\n\trequire$$0.__my_react_shared__.enableScopeTreeLog;\n\tvar ReconcilerDispatchMount = function (_dispatch, _fiber, config) {\n\t    var _list = myreactReconcilerExports.generateFiberToMountList(_fiber);\n\t    var pendingCommitFiberArray = [];\n\t    myreactReconcilerExports.beforeSyncUpdate();\n\t    _list.listToFoot(function invokeInsertionEffectList(_fiber) {\n\t        myreactReconcilerExports.insertionEffect(_dispatch, _fiber);\n\t    });\n\t    myreactReconcilerExports.afterSyncUpdate();\n\t    _list.listToFoot(function invokeCreateAndUpdateList(_fiber) {\n\t        myreactReconcilerExports.safeCallWithCurrentFiber({\n\t            fiber: _fiber,\n\t            action: function safeCallCreateAndUpdate() {\n\t                _dispatch.commitCreate(_fiber);\n\t                _dispatch.commitUpdate(_fiber);\n\t            },\n\t        });\n\t    });\n\t    _list.listToFoot(function invokeAppendList(_fiber) {\n\t        myreactReconcilerExports.safeCallWithCurrentFiber({\n\t            fiber: _fiber,\n\t            action: function safeCallAppendList() {\n\t                _dispatch.commitAppend(_fiber);\n\t            },\n\t        });\n\t    });\n\t    _list.listToFoot(function invokeSetRefList(_fiber) {\n\t        myreactReconcilerExports.safeCallWithCurrentFiber({\n\t            fiber: _fiber,\n\t            action: function safeCallSetRefList() {\n\t                _dispatch.commitSetRef(_fiber);\n\t            },\n\t        });\n\t    });\n\t    _list.listToFoot(function invokeFinalizeInitialChildren(_fiber) {\n\t        if (_fiber.nativeNode) {\n\t            var node = config.getPublicInstance(_fiber.nativeNode);\n\t            var type = _fiber.elementType;\n\t            var props = _fiber.pendingProps;\n\t            var rootContainerInstance = config.getPublicInstance(_dispatch.rootNode);\n\t            var hostContext = _dispatch.runtimeDom.hostContextMap.get(_fiber.parent || _fiber);\n\t            if (config.finalizeInitialChildren(node, type, props, rootContainerInstance, hostContext)) {\n\t                pendingCommitFiberArray.push(_fiber);\n\t            }\n\t        }\n\t    });\n\t    pendingCommitFiberArray.forEach(function invokeCommitMount(_fiber) {\n\t        var _a;\n\t        var node = config.getPublicInstance(_fiber.nativeNode);\n\t        var type = _fiber.elementType;\n\t        var props = _fiber.pendingProps;\n\t        (_a = config.commitMount) === null || _a === void 0 ? void 0 : _a.call(config, node, type, props, _fiber);\n\t    });\n\t    myreactReconcilerExports.beforeSyncUpdate();\n\t    _list.listToFoot(function invokeLayoutEffectList(_fiber) {\n\t        myreactReconcilerExports.layoutEffect(_dispatch, _fiber);\n\t    });\n\t    myreactReconcilerExports.afterSyncUpdate();\n\t    var renderScheduler = currentScheduler$1.current;\n\t    renderScheduler.microTask(function invokeEffectListTask() {\n\t        _list.listToFoot(function invokeEffectList(_fiber) {\n\t            myreactReconcilerExports.effect(_dispatch, _fiber);\n\t        });\n\t    });\n\t};\n\n\trequire$$0.__my_react_internal__.currentComponentFiber;\n\tvar initialRef = {\n\t    typeForRef: myreactReconcilerExports.NODE_TYPE.__plain__ | myreactReconcilerExports.NODE_TYPE.__class__,\n\t    typeForCreate: myreactReconcilerExports.NODE_TYPE.__text__ | myreactReconcilerExports.NODE_TYPE.__plain__ | myreactReconcilerExports.NODE_TYPE.__portal__,\n\t    typeForUpdate: myreactReconcilerExports.NODE_TYPE.__text__ | myreactReconcilerExports.NODE_TYPE.__plain__,\n\t    typeForAppend: myreactReconcilerExports.NODE_TYPE.__text__ | myreactReconcilerExports.NODE_TYPE.__plain__,\n\t    typeForNativeNode: myreactReconcilerExports.NODE_TYPE.__text__ | myreactReconcilerExports.NODE_TYPE.__plain__ | myreactReconcilerExports.NODE_TYPE.__portal__,\n\t};\n\tvar createDispatch = function (rootNode, rootFiber, rootElement, config) {\n\t    var ReconcilerDispatch = /** @class */ (function (_super) {\n\t        __extends(ReconcilerDispatch, _super);\n\t        function ReconcilerDispatch() {\n\t            var _this = _super !== null && _super.apply(this, arguments) || this;\n\t            _this.enableUpdate = true;\n\t            _this.enableAsyncLoad = true;\n\t            _this.runtimeDom = {\n\t                hostContextMap: new WeakMap(),\n\t                elementMap: new WeakMap(),\n\t            };\n\t            _this.runtimeRef = initialRef;\n\t            return _this;\n\t        }\n\t        ReconcilerDispatch.prototype.dispatchFiber = function (_fiber) {\n\t            ReconcilerDispatchFiber(this, _fiber);\n\t        };\n\t        ReconcilerDispatch.prototype.commitCreate = function (_fiber) {\n\t            create(this, _fiber, config);\n\t        };\n\t        ReconcilerDispatch.prototype.commitUpdate = function (_fiber) {\n\t            update(this, _fiber, config);\n\t        };\n\t        ReconcilerDispatch.prototype.commitAppend = function (_fiber) {\n\t            append$1(this, _fiber, config);\n\t        };\n\t        ReconcilerDispatch.prototype.commitPosition = function (_fiber) {\n\t            position(this, _fiber, config);\n\t        };\n\t        ReconcilerDispatch.prototype.commitSetRef = function (_fiber) {\n\t            setRef(_fiber, config);\n\t        };\n\t        ReconcilerDispatch.prototype.commitUnsetRef = function (_fiber) {\n\t            unsetRef(_fiber);\n\t        };\n\t        ReconcilerDispatch.prototype.commitClear = function (_fiber) {\n\t            remove(this, _fiber, config);\n\t        };\n\t        ReconcilerDispatch.prototype.reconcileCommit = function (_fiber) {\n\t            var _a, _b;\n\t            (_a = config.prepareForCommit) === null || _a === void 0 ? void 0 : _a.call(config, rootNode);\n\t            var instance = this;\n\t            myreactReconcilerExports.safeCall(function safeCallBeforeCommit() {\n\t                var _a;\n\t                (_a = instance.beforeCommit) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t            });\n\t            myreactReconcilerExports.safeCall(function safeCallBeforeCommitListener() {\n\t                myreactReconcilerExports.listenerMap.get(instance).beforeCommit.forEach(function (cb) { return cb(); });\n\t            });\n\t            ReconcilerDispatchMount(this, _fiber, config);\n\t            myreactReconcilerExports.safeCall(function safeCallAfterCommitListener() {\n\t                myreactReconcilerExports.listenerMap.get(instance).afterCommit.forEach(function (cb) { return cb(); });\n\t            });\n\t            myreactReconcilerExports.safeCall(function safeCallAfterCommit() {\n\t                var _a;\n\t                (_a = instance.afterCommit) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t            });\n\t            (_b = config.resetAfterCommit) === null || _b === void 0 ? void 0 : _b.call(config, rootNode);\n\t        };\n\t        ReconcilerDispatch.prototype.reconcileUpdate = function (_list) {\n\t            var _a, _b;\n\t            (_a = config.prepareForCommit) === null || _a === void 0 ? void 0 : _a.call(config, rootNode);\n\t            _super.prototype.reconcileUpdate.call(this, _list);\n\t            (_b = config.resetAfterCommit) === null || _b === void 0 ? void 0 : _b.call(config, rootNode);\n\t        };\n\t        ReconcilerDispatch.prototype.patchToFiberInitial = function (_fiber) {\n\t            initialMap(this, _fiber, config);\n\t        };\n\t        ReconcilerDispatch.prototype.patchToFiberUnmount = function (_fiber) {\n\t            unmountMap(this, _fiber);\n\t        };\n\t        ReconcilerDispatch.prototype.dispatchState = function (_params) {\n\t            return myreactReconcilerExports.processState(this, _params);\n\t        };\n\t        ReconcilerDispatch.prototype.dispatchHook = function (_params) {\n\t            return myreactReconcilerExports.processHook(this, _params);\n\t        };\n\t        ReconcilerDispatch.prototype.dispatchPromise = function (_params) {\n\t            return myreactReconcilerExports.processPromise(this, _params.fiber, _params.promise);\n\t        };\n\t        ReconcilerDispatch.prototype.dispatchError = function (_params) {\n\t            myreactReconcilerExports.triggerError(this, _params.fiber, _params.error);\n\t            return void 0;\n\t        };\n\t        return ReconcilerDispatch;\n\t    }(myreactReconcilerExports.CustomRenderDispatch));\n\t    return new ReconcilerDispatch(rootNode, rootFiber, rootElement);\n\t};\n\n\t/* eslint-disable @typescript-eslint/no-require-imports */\n\tvar loadScript = function (url) {\n\t    if (typeof window !== \"undefined\") {\n\t        return new Promise(function (resolve, reject) {\n\t            if (typeof document === \"undefined\") {\n\t                reject(new Error(\"[@my-react-devtool/polyfill] document not found, current environment not support\"));\n\t                return;\n\t            }\n\t            var script = document.createElement(\"script\");\n\t            script.src = url;\n\t            script.onload = function () { return resolve(); };\n\t            script.onerror = reject;\n\t            document.body.appendChild(script);\n\t        });\n\t    }\n\t    else if (typeof process !== \"undefined\" && typeof commonjsRequire === \"function\") {\n\t        return new Promise(function (resolve, reject) {\n\t            var loadPkg = function () { return __awaiter(void 0, void 0, void 0, function () {\n\t                var http, https, vm, protocol;\n\t                return __generator(this, function (_a) {\n\t                    switch (_a.label) {\n\t                        case 0: return [4 /*yield*/, import('http')];\n\t                        case 1:\n\t                            http = _a.sent();\n\t                            return [4 /*yield*/, import('https')];\n\t                        case 2:\n\t                            https = _a.sent();\n\t                            return [4 /*yield*/, import('vm')];\n\t                        case 3:\n\t                            vm = _a.sent();\n\t                            protocol = url.startsWith(\"https\") ? https : http;\n\t                            protocol\n\t                                .get(url, function (res) {\n\t                                var data = \"\";\n\t                                res.on(\"data\", function (chunk) {\n\t                                    data += chunk;\n\t                                });\n\t                                res.on(\"end\", function () {\n\t                                    try {\n\t                                        vm.runInThisContext(data);\n\t                                        resolve();\n\t                                    }\n\t                                    catch (error) {\n\t                                        reject(error);\n\t                                    }\n\t                                });\n\t                            })\n\t                                .on(\"error\", function (error) {\n\t                                reject(error);\n\t                            });\n\t                            return [2 /*return*/];\n\t                    }\n\t                });\n\t            }); };\n\t            loadPkg();\n\t        });\n\t    }\n\t};\n\n\tvar enableDebugFiled$1 = require$$0.__my_react_shared__.enableDebugFiled, enableScopeTreeLog$1 = require$$0.__my_react_shared__.enableScopeTreeLog;\n\t/**\n\t * @internal\n\t */\n\tvar prepareScheduler = function () {\n\t    enableDebugFiled$1.current = true;\n\t    enableScopeTreeLog$1.current = true;\n\t    myreactReconcilerExports.enableFiberForLog.current = true;\n\t    myreactReconcilerExports.enableValidMyReactElement.current = false;\n\t    myreactReconcilerExports.initScheduler();\n\t};\n\n\tvar enableDebugFiled = require$$0.__my_react_shared__.enableDebugFiled, enableScopeTreeLog = require$$0.__my_react_shared__.enableScopeTreeLog;\n\tvar currentScheduler = require$$0.__my_react_internal__.currentScheduler;\n\t// react-reconciler compact implementation\n\tvar Reconciler = function (_config) {\n\t    var rendererPackageName = \"@my-react\";\n\t    var ReconcilerSet = new Set();\n\t    var createContainer = function (_container) {\n\t        prepareScheduler();\n\t        enableDebugFiled.current = false;\n\t        enableScopeTreeLog.current = false;\n\t        // enableFiberForLog.current = false;\n\t        return _container;\n\t    };\n\t    var updateContainer = function (_element, _container, _ignore, _cb) {\n\t        var renderDispatch = _container.__container__;\n\t        var renderScheduler = currentScheduler.current;\n\t        if (renderDispatch instanceof myreactReconcilerExports.CustomRenderDispatch) {\n\t            var _fiber_1 = _container.__fiber__;\n\t            if (renderDispatch.isAppCrashed || myreactSharedExports.include(_fiber_1.state, myreactSharedExports.STATE_TYPE.__unmount__)) {\n\t                // is there are not a valid render tree, try do the pure rerender\n\t                _container.__fiber__ = null;\n\t                _container.__container__ = null;\n\t                updateContainer(_element, _container, _config, _cb);\n\t                return;\n\t            }\n\t            if (myreactReconcilerExports.checkIsSameType(_fiber_1, _element)) {\n\t                _fiber_1._installElement(_element);\n\t                myreactReconcilerExports.triggerUpdateOnFiber(_fiber_1, myreactSharedExports.STATE_TYPE.__triggerSync__, _cb);\n\t                return;\n\t            }\n\t            myreactReconcilerExports.unmountContainer(renderDispatch);\n\t            ReconcilerSet.delete(renderDispatch);\n\t            renderScheduler.dispatchSet.uniDelete(renderDispatch);\n\t            delGlobalDispatch(renderDispatch);\n\t        }\n\t        var _fiber = new myreactReconcilerExports.MyReactFiberNode(_element);\n\t        var _renderDispatch = createDispatch(_container, _fiber, _element, _config);\n\t        _cb && _renderDispatch.pendingEffect(_fiber, _cb);\n\t        ReconcilerSet.add(_renderDispatch);\n\t        renderScheduler.dispatchSet.uniPush(_renderDispatch);\n\t        _renderDispatch.renderPackage = rendererPackageName;\n\t        _container.__fiber__ = _fiber;\n\t        _container.__container__ = _renderDispatch;\n\t        autoSetDevTools(_renderDispatch);\n\t        myreactReconcilerExports.initialFiberNode(_renderDispatch, _fiber);\n\t        myreactReconcilerExports.mountSync(_renderDispatch, _fiber);\n\t        _renderDispatch.isAppMounted = true;\n\t    };\n\t    var injectIntoDevTools = function (_config) { return __awaiter(void 0, void 0, void 0, function () {\n\t        return __generator(this, function (_a) {\n\t            switch (_a.label) {\n\t                case 0:\n\t                    rendererPackageName = _config.rendererPackageName || rendererPackageName;\n\t                    ReconcilerSet.forEach(function (renderDispatch) { return (renderDispatch.renderPackage = rendererPackageName); });\n\t                    if (globalThis[\"__MY_REACT_DEVTOOL_INTERNAL__\"])\n\t                        return [2 /*return*/];\n\t                    // load core runtime\n\t                    // await loadScript(\"https://mrwangjusttodo.github.io/myreact-devtools/bundle/hook.js\");\n\t                    return [4 /*yield*/, loadScript(\"https://mrwangjusttodo.github.io/myreact-devtools/bundle/hook.js\")];\n\t                case 1:\n\t                    // load core runtime\n\t                    // await loadScript(\"https://mrwangjusttodo.github.io/myreact-devtools/bundle/hook.js\");\n\t                    _a.sent();\n\t                    return [2 /*return*/];\n\t            }\n\t        });\n\t    }); };\n\t    var injectIntoDevToolsWithSocketIO = function (url, _config) { return __awaiter(void 0, void 0, void 0, function () {\n\t        var init;\n\t        return __generator(this, function (_b) {\n\t            switch (_b.label) {\n\t                case 0: \n\t                // load core runtime\n\t                return [4 /*yield*/, injectIntoDevTools(_config || {})];\n\t                case 1:\n\t                    // load core runtime\n\t                    _b.sent();\n\t                    init = globalThis[\"__MY_REACT_DEVTOOL_NODE__\"];\n\t                    _b.label = 2;\n\t                case 2:\n\t                    _b.trys.push([2, 4, , 5]);\n\t                    return [4 /*yield*/, init(url)];\n\t                case 3:\n\t                    _b.sent();\n\t                    return [3 /*break*/, 5];\n\t                case 4:\n\t                    _b.sent();\n\t                    return [3 /*break*/, 5];\n\t                case 5: return [2 /*return*/];\n\t            }\n\t        });\n\t    }); };\n\t    return {\n\t        createPortal: createPortal,\n\t        createContainer: createContainer,\n\t        updateContainer: updateContainer,\n\t        injectIntoDevTools: injectIntoDevTools,\n\t        injectIntoDevToolsWithSocketIO: injectIntoDevToolsWithSocketIO,\n\t        flushSync: myreactReconcilerExports.safeCallWithSync,\n\t        batchedUpdates: myreactReconcilerExports.safeCallWithSync,\n\t    };\n\t};\n\n\tvar version = \"0.0.3\";\n\tvar createReconciler = Reconciler;\n\n\tindex_production.createReconciler = createReconciler;\n\tindex_production.version = version;\n\treturn index_production;\n}\n\nvar index_development = {};\n\nvar hasRequiredIndex_development_2;\n\nfunction requireIndex_development_2 () {\n\tif (hasRequiredIndex_development_2) return index_development;\n\thasRequiredIndex_development_2 = 1;\n\n\tvar require$$0 = React__default;\n\n\t/******************************************************************************\r\n\tCopyright (c) Microsoft Corporation.\r\n\r\n\tPermission to use, copy, modify, and/or distribute this software for any\r\n\tpurpose with or without fee is hereby granted.\r\n\r\n\tTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n\tREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n\tAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n\tINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n\tLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n\tOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n\tPERFORMANCE OF THIS SOFTWARE.\r\n\t***************************************************************************** */\r\n\t/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\n\tvar extendStatics = function(d, b) {\r\n\t    extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n\t    return extendStatics(d, b);\r\n\t};\r\n\r\n\tfunction __extends(d, b) {\r\n\t    if (typeof b !== \"function\" && b !== null)\r\n\t        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n\t    extendStatics(d, b);\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t}\r\n\r\n\tfunction __awaiter(thisArg, _arguments, P, generator) {\r\n\t    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n\t    return new (P || (P = Promise))(function (resolve, reject) {\r\n\t        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n\t        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n\t        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n\t        step((generator = generator.apply(thisArg, [])).next());\r\n\t    });\r\n\t}\r\n\r\n\tfunction __generator(thisArg, body) {\r\n\t    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n\t    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n\t    function verb(n) { return function (v) { return step([n, v]); }; }\r\n\t    function step(op) {\r\n\t        if (f) throw new TypeError(\"Generator is already executing.\");\r\n\t        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n\t            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n\t            if (y = 0, t) op = [op[0] & 2, t.value];\r\n\t            switch (op[0]) {\r\n\t                case 0: case 1: t = op; break;\r\n\t                case 4: _.label++; return { value: op[1], done: false };\r\n\t                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n\t                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n\t                default:\r\n\t                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n\t                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n\t                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n\t                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n\t                    if (t[2]) _.ops.pop();\r\n\t                    _.trys.pop(); continue;\r\n\t            }\r\n\t            op = body.call(thisArg, _);\r\n\t        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n\t        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n\t    }\r\n\t}\r\n\r\n\ttypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n\t    var e = new Error(message);\r\n\t    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n\t};\n\n\tvar myreactReconciler = {exports: {}};\n\n\tvar index_development$1 = {};\n\n\tvar hasRequiredIndex_development_1;\n\n\tfunction requireIndex_development_1 () {\n\t\tif (hasRequiredIndex_development_1) return index_development$1;\n\t\thasRequiredIndex_development_1 = 1;\n\t\t(function (exports) {\n\n\t\t\tvar react = require$$0;\n\n\t\t\tvar myreactShared = {exports: {}};\n\n\t\t\tvar index_development = {};\n\n\t\t\tvar hasRequiredIndex_development;\n\n\t\t\tfunction requireIndex_development () {\n\t\t\t\tif (hasRequiredIndex_development) return index_development;\n\t\t\t\thasRequiredIndex_development = 1;\n\t\t\t\t(function (exports) {\n\n\t\t\t\t\tvar merge = function (src, rest) {\n\t\t\t\t\t    return src | rest;\n\t\t\t\t\t};\n\t\t\t\t\tvar remove = function (src, rest) {\n\t\t\t\t\t    if (src & rest) {\n\t\t\t\t\t        return src ^ rest;\n\t\t\t\t\t    }\n\t\t\t\t\t    else {\n\t\t\t\t\t        return src;\n\t\t\t\t\t    }\n\t\t\t\t\t};\n\t\t\t\t\tvar include = function (src, rest) {\n\t\t\t\t\t    return !!(src & rest);\n\t\t\t\t\t};\n\t\t\t\t\tvar exclude = function (src, rest) {\n\t\t\t\t\t    return !(src & rest);\n\t\t\t\t\t};\n\n\t\t\t\t\t/******************************************************************************\r\n\t\t\t\t\tCopyright (c) Microsoft Corporation.\r\n\r\n\t\t\t\t\tPermission to use, copy, modify, and/or distribute this software for any\r\n\t\t\t\t\tpurpose with or without fee is hereby granted.\r\n\r\n\t\t\t\t\tTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n\t\t\t\t\tREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n\t\t\t\t\tAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n\t\t\t\t\tINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n\t\t\t\t\tLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n\t\t\t\t\tOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n\t\t\t\t\tPERFORMANCE OF THIS SOFTWARE.\r\n\t\t\t\t\t***************************************************************************** */\r\n\t\t\t\t\t/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\n\r\n\t\t\t\t\tfunction __spreadArray(to, from, pack) {\r\n\t\t\t\t\t    if (arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n\t\t\t\t\t        if (ar || !(i in from)) {\r\n\t\t\t\t\t            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n\t\t\t\t\t            ar[i] = from[i];\r\n\t\t\t\t\t        }\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t    return to.concat(ar || Array.prototype.slice.call(from));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n\t\t\t\t\t    var e = new Error(message);\r\n\t\t\t\t\t    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n\t\t\t\t\t};\n\n\t\t\t\t\tvar once = function (action) {\n\t\t\t\t\t    var called = false;\n\t\t\t\t\t    return function () {\n\t\t\t\t\t        var args = [];\n\t\t\t\t\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t\t\t\t\t            args[_i] = arguments[_i];\n\t\t\t\t\t        }\n\t\t\t\t\t        if (called)\n\t\t\t\t\t            return;\n\t\t\t\t\t        called = true;\n\t\t\t\t\t        if (typeof action === \"function\")\n\t\t\t\t\t            action.call.apply(action, __spreadArray([null], args, false));\n\t\t\t\t\t    };\n\t\t\t\t\t};\n\n\t\t\t\t\tvar TYPEKEY = \"$$typeof\";\n\t\t\t\t\tvar Element = Symbol.for(\"react.element\");\n\t\t\t\t\tvar Memo = Symbol.for(\"react.memo\");\n\t\t\t\t\tvar ForwardRef = Symbol.for(\"react.forward_ref\");\n\t\t\t\t\tvar Portal = Symbol.for(\"react.portal\");\n\t\t\t\t\tvar Fragment = Symbol.for(\"react.fragment\");\n\t\t\t\t\tvar Context = Symbol.for(\"react.context\");\n\t\t\t\t\tvar Provider = Symbol.for(\"react.provider\");\n\t\t\t\t\tvar Consumer = Symbol.for(\"react.consumer\");\n\t\t\t\t\tvar Lazy = Symbol.for(\"react.lazy\");\n\t\t\t\t\tvar Suspense = Symbol.for(\"react.suspense\");\n\t\t\t\t\tvar Strict = Symbol.for(\"react.strict_mode\");\n\t\t\t\t\tvar Root = Symbol.for(\"react.root\");\n\t\t\t\t\tvar Scope = Symbol.for(\"react.scope\");\n\t\t\t\t\tvar ScopeLazy = Symbol.for(\"react.scope_lazy\");\n\t\t\t\t\tvar ScopeSuspense = Symbol.for(\"react.scope_suspense\");\n\t\t\t\t\tvar Comment = Symbol.for(\"react.comment\");\n\t\t\t\t\tvar Offscreen = Symbol.for(\"react.offscreen\");\n\t\t\t\t\tvar Profiler = Symbol.for(\"react.profiler\");\n\n\t\t\t\t\tfunction isObject(target) {\n\t\t\t\t\t    return typeof target === \"object\" && target !== null;\n\t\t\t\t\t}\n\t\t\t\t\tfunction isFunction(target) {\n\t\t\t\t\t    return typeof target === \"function\";\n\t\t\t\t\t}\n\t\t\t\t\tfunction isArray(target) {\n\t\t\t\t\t    return Array.isArray(target);\n\t\t\t\t\t}\n\t\t\t\t\tfunction isSymbol(target) {\n\t\t\t\t\t    return typeof target === \"symbol\";\n\t\t\t\t\t}\n\t\t\t\t\tfunction isString(target) {\n\t\t\t\t\t    return typeof target === \"string\";\n\t\t\t\t\t}\n\t\t\t\t\tfunction isInteger(target) {\n\t\t\t\t\t    return Number.isInteger(Number(target));\n\t\t\t\t\t}\n\t\t\t\t\tfunction isNumber(target) {\n\t\t\t\t\t    return typeof target === \"number\";\n\t\t\t\t\t}\n\t\t\t\t\tfunction isCollection(target) {\n\t\t\t\t\t    return target instanceof Map || target instanceof Set || target instanceof WeakMap || target instanceof WeakSet;\n\t\t\t\t\t}\n\t\t\t\t\tvar isPromise = function (val) {\n\t\t\t\t\t    return (isObject(val) || isFunction(val)) && isFunction(val.then) && isFunction(val.catch);\n\t\t\t\t\t};\n\n\t\t\t\t\tvar UniqueArray = /** @class */ (function () {\n\t\t\t\t\t    function UniqueArray() {\n\t\t\t\t\t        this.set = new Set();\n\t\t\t\t\t        this.arr = new Array();\n\t\t\t\t\t        this.length = 0;\n\t\t\t\t\t    }\n\t\t\t\t\t    UniqueArray.prototype.uniPop = function () {\n\t\t\t\t\t        var v = this.arr.pop();\n\t\t\t\t\t        this.set.delete(v);\n\t\t\t\t\t        this.length--;\n\t\t\t\t\t        return v;\n\t\t\t\t\t    };\n\t\t\t\t\t    UniqueArray.prototype.uniPush = function (v) {\n\t\t\t\t\t        if (this.set.has(v))\n\t\t\t\t\t            return 0;\n\t\t\t\t\t        this.set.add(v);\n\t\t\t\t\t        this.arr.push(v);\n\t\t\t\t\t        this.length++;\n\t\t\t\t\t    };\n\t\t\t\t\t    UniqueArray.prototype.uniShift = function () {\n\t\t\t\t\t        var v = this.arr.shift();\n\t\t\t\t\t        this.set.delete(v);\n\t\t\t\t\t        this.length--;\n\t\t\t\t\t        return v;\n\t\t\t\t\t    };\n\t\t\t\t\t    UniqueArray.prototype.uniUnshift = function (v) {\n\t\t\t\t\t        if (this.set.has(v))\n\t\t\t\t\t            return 0;\n\t\t\t\t\t        this.set.add(v);\n\t\t\t\t\t        this.arr.unshift(v);\n\t\t\t\t\t        this.length++;\n\t\t\t\t\t    };\n\t\t\t\t\t    UniqueArray.prototype.uniDelete = function (v) {\n\t\t\t\t\t        if (this.set.has(v)) {\n\t\t\t\t\t            this.set.delete(v);\n\t\t\t\t\t            this.arr = this.arr.filter(function (i) { return i !== v; });\n\t\t\t\t\t            this.length--;\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    UniqueArray.prototype.clear = function () {\n\t\t\t\t\t        this.length = 0;\n\t\t\t\t\t        this.set.clear();\n\t\t\t\t\t        this.arr.length = 0;\n\t\t\t\t\t    };\n\t\t\t\t\t    UniqueArray.prototype.getAll = function () {\n\t\t\t\t\t        return Array.from(this.arr);\n\t\t\t\t\t    };\n\t\t\t\t\t    return UniqueArray;\n\t\t\t\t\t}());\n\n\t\t\t\t\texports.HOOK_TYPE = void 0;\n\t\t\t\t\t(function (HOOK_TYPE) {\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useId\"] = 0] = \"useId\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useRef\"] = 1] = \"useRef\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useMemo\"] = 2] = \"useMemo\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useState\"] = 3] = \"useState\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useSignal\"] = 4] = \"useSignal\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useEffect\"] = 5] = \"useEffect\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useContext\"] = 6] = \"useContext\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useReducer\"] = 7] = \"useReducer\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useCallback\"] = 8] = \"useCallback\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useTransition\"] = 9] = \"useTransition\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useDebugValue\"] = 10] = \"useDebugValue\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useLayoutEffect\"] = 11] = \"useLayoutEffect\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useDeferredValue\"] = 12] = \"useDeferredValue\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useInsertionEffect\"] = 13] = \"useInsertionEffect\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useImperativeHandle\"] = 14] = \"useImperativeHandle\";\n\t\t\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useSyncExternalStore\"] = 15] = \"useSyncExternalStore\";\n\t\t\t\t\t})(exports.HOOK_TYPE || (exports.HOOK_TYPE = {}));\n\n\t\t\t\t\texports.UpdateQueueType = void 0;\n\t\t\t\t\t(function (UpdateQueueType) {\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"component\"] = 1] = \"component\";\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"hook\"] = 2] = \"hook\";\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"context\"] = 3] = \"context\";\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"hmr\"] = 4] = \"hmr\";\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"trigger\"] = 5] = \"trigger\";\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"suspense\"] = 6] = \"suspense\";\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"lazy\"] = 7] = \"lazy\";\n\t\t\t\t\t    UpdateQueueType[UpdateQueueType[\"promise\"] = 8] = \"promise\";\n\t\t\t\t\t})(exports.UpdateQueueType || (exports.UpdateQueueType = {}));\n\n\t\t\t\t\texports.STATE_TYPE = void 0;\n\t\t\t\t\t(function (STATE_TYPE) {\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__create__\"] = 1] = \"__create__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__stable__\"] = 2] = \"__stable__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__inherit__\"] = 4] = \"__inherit__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerConcurrent__\"] = 8] = \"__triggerConcurrent__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerConcurrentForce__\"] = 16] = \"__triggerConcurrentForce__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerSync__\"] = 32] = \"__triggerSync__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerSyncForce__\"] = 64] = \"__triggerSyncForce__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__unmount__\"] = 128] = \"__unmount__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__hmr__\"] = 256] = \"__hmr__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__retrigger__\"] = 512] = \"__retrigger__\";\n\t\t\t\t\t    STATE_TYPE[STATE_TYPE[\"__reschedule__\"] = 1024] = \"__reschedule__\";\n\t\t\t\t\t})(exports.STATE_TYPE || (exports.STATE_TYPE = {}));\n\n\t\t\t\t\texports.PATCH_TYPE = void 0;\n\t\t\t\t\t(function (PATCH_TYPE) {\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__create__\"] = 1] = \"__create__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__update__\"] = 2] = \"__update__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__append__\"] = 4] = \"__append__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__position__\"] = 8] = \"__position__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__effect__\"] = 16] = \"__effect__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__layoutEffect__\"] = 32] = \"__layoutEffect__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__insertionEffect__\"] = 64] = \"__insertionEffect__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__unmount__\"] = 128] = \"__unmount__\";\n\t\t\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__ref__\"] = 256] = \"__ref__\";\n\t\t\t\t\t})(exports.PATCH_TYPE || (exports.PATCH_TYPE = {}));\n\n\t\t\t\t\texports.Effect_TYPE = void 0;\n\t\t\t\t\t(function (Effect_TYPE) {\n\t\t\t\t\t    Effect_TYPE[Effect_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t\t\t\t    Effect_TYPE[Effect_TYPE[\"__effect__\"] = 1] = \"__effect__\";\n\t\t\t\t\t    Effect_TYPE[Effect_TYPE[\"__unmount__\"] = 2] = \"__unmount__\";\n\t\t\t\t\t})(exports.Effect_TYPE || (exports.Effect_TYPE = {}));\n\n\t\t\t\t\tvar compareVersion = function (version1, version2) {\n\t\t\t\t\t    var compare = function (arr1, arr2) {\n\t\t\t\t\t        if (arr1.length && arr2.length) {\n\t\t\t\t\t            var v1 = arr1[0];\n\t\t\t\t\t            var v2 = arr2[0];\n\t\t\t\t\t            if (v1 > v2)\n\t\t\t\t\t                return true;\n\t\t\t\t\t            if (v2 > v1)\n\t\t\t\t\t                return false;\n\t\t\t\t\t            return compare(arr1.slice(1), arr2.slice(1));\n\t\t\t\t\t        }\n\t\t\t\t\t        if (arr1.length)\n\t\t\t\t\t            return true;\n\t\t\t\t\t        if (arr2.length)\n\t\t\t\t\t            return false;\n\t\t\t\t\t        return true;\n\t\t\t\t\t    };\n\t\t\t\t\t    return compare(version1.split(\".\").map(Number), version2.split(\".\").map(Number));\n\t\t\t\t\t};\n\n\t\t\t\t\tvar isNormalEquals = function (src, target, isSkipKey) {\n\t\t\t\t\t    var isEquals = Object.is(src, target);\n\t\t\t\t\t    if (isEquals)\n\t\t\t\t\t        return true;\n\t\t\t\t\t    var hasSkipKeyFunction = typeof isSkipKey === \"function\";\n\t\t\t\t\t    if (typeof src === \"object\" && typeof target === \"object\" && src !== null && target !== null) {\n\t\t\t\t\t        var srcKeys = Object.keys(src);\n\t\t\t\t\t        var targetKeys = Object.keys(target);\n\t\t\t\t\t        if (srcKeys.length !== targetKeys.length)\n\t\t\t\t\t            return false;\n\t\t\t\t\t        var res = true;\n\t\t\t\t\t        if (hasSkipKeyFunction) {\n\t\t\t\t\t            for (var _i = 0, srcKeys_1 = srcKeys; _i < srcKeys_1.length; _i++) {\n\t\t\t\t\t                var key = srcKeys_1[_i];\n\t\t\t\t\t                if (isSkipKey(key) && key in target) {\n\t\t\t\t\t                    continue;\n\t\t\t\t\t                }\n\t\t\t\t\t                else {\n\t\t\t\t\t                    res = res && Object.is(src[key], target[key]);\n\t\t\t\t\t                }\n\t\t\t\t\t                if (!res)\n\t\t\t\t\t                    return res;\n\t\t\t\t\t            }\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            for (var _a = 0, srcKeys_2 = srcKeys; _a < srcKeys_2.length; _a++) {\n\t\t\t\t\t                var key = srcKeys_2[_a];\n\t\t\t\t\t                res = res && Object.is(src[key], target[key]);\n\t\t\t\t\t                if (!res)\n\t\t\t\t\t                    return res;\n\t\t\t\t\t            }\n\t\t\t\t\t        }\n\t\t\t\t\t        return res;\n\t\t\t\t\t    }\n\t\t\t\t\t    return false;\n\t\t\t\t\t};\n\t\t\t\t\tvar isArrayEquals = function (src, target) {\n\t\t\t\t\t    var isEquals = Object.is(src, target);\n\t\t\t\t\t    if (isEquals)\n\t\t\t\t\t        return true;\n\t\t\t\t\t    if (Array.isArray(src) && Array.isArray(target) && src.length === target.length) {\n\t\t\t\t\t        var re = true;\n\t\t\t\t\t        for (var key in src) {\n\t\t\t\t\t            re = re && Object.is(src[key], target[key]);\n\t\t\t\t\t            if (!re)\n\t\t\t\t\t                return re;\n\t\t\t\t\t        }\n\t\t\t\t\t        return re;\n\t\t\t\t\t    }\n\t\t\t\t\t    return false;\n\t\t\t\t\t};\n\n\t\t\t\t\tvar ListTreeNode = /** @class */ (function () {\n\t\t\t\t\t    function ListTreeNode(value) {\n\t\t\t\t\t        this.prev = null;\n\t\t\t\t\t        this.next = null;\n\t\t\t\t\t        this.value = value;\n\t\t\t\t\t    }\n\t\t\t\t\t    return ListTreeNode;\n\t\t\t\t\t}());\n\t\t\t\t\tvar ListTree = /** @class */ (function () {\n\t\t\t\t\t    function ListTree() {\n\t\t\t\t\t        this.length = 0;\n\t\t\t\t\t        var _stickyHead = null;\n\t\t\t\t\t        Object.defineProperty(this, \"stickyHead\", {\n\t\t\t\t\t            get: function () {\n\t\t\t\t\t                return _stickyHead;\n\t\t\t\t\t            },\n\t\t\t\t\t            set: function (v) {\n\t\t\t\t\t                _stickyHead = v;\n\t\t\t\t\t            },\n\t\t\t\t\t        });\n\t\t\t\t\t        var _stickyFoot = null;\n\t\t\t\t\t        Object.defineProperty(this, \"stickyFoot\", {\n\t\t\t\t\t            get: function () {\n\t\t\t\t\t                return _stickyFoot;\n\t\t\t\t\t            },\n\t\t\t\t\t            set: function (v) {\n\t\t\t\t\t                _stickyFoot = v;\n\t\t\t\t\t            },\n\t\t\t\t\t        });\n\t\t\t\t\t        var _head = null;\n\t\t\t\t\t        Object.defineProperty(this, \"head\", {\n\t\t\t\t\t            get: function () {\n\t\t\t\t\t                return _head;\n\t\t\t\t\t            },\n\t\t\t\t\t            set: function (v) {\n\t\t\t\t\t                _head = v;\n\t\t\t\t\t            },\n\t\t\t\t\t        });\n\t\t\t\t\t        var _foot = null;\n\t\t\t\t\t        Object.defineProperty(this, \"foot\", {\n\t\t\t\t\t            get: function () {\n\t\t\t\t\t                return _foot;\n\t\t\t\t\t            },\n\t\t\t\t\t            set: function (v) {\n\t\t\t\t\t                _foot = v;\n\t\t\t\t\t            },\n\t\t\t\t\t        });\n\t\t\t\t\t    }\n\t\t\t\t\t    ListTree.prototype.push = function (node) {\n\t\t\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t\t\t        this.length++;\n\t\t\t\t\t        if (!this.foot) {\n\t\t\t\t\t            this.head = listNode;\n\t\t\t\t\t            this.foot = listNode;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            this.foot.next = listNode;\n\t\t\t\t\t            listNode.prev = this.foot;\n\t\t\t\t\t            this.foot = listNode;\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.pushToLast = function (node) {\n\t\t\t\t\t        if (this.stickyFoot) {\n\t\t\t\t\t            var node_1 = this.stickyFoot;\n\t\t\t\t\t            this.push(node_1.value);\n\t\t\t\t\t            this.stickyFoot = null;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            this.length++;\n\t\t\t\t\t        }\n\t\t\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t\t\t        this.stickyFoot = listNode;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.pushToHead = function (node) {\n\t\t\t\t\t        if (this.stickyHead) {\n\t\t\t\t\t            var node_2 = this.stickyHead;\n\t\t\t\t\t            this.unshift(node_2.value);\n\t\t\t\t\t            this.stickyHead = null;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            this.length++;\n\t\t\t\t\t        }\n\t\t\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t\t\t        this.stickyHead = listNode;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.pop = function () {\n\t\t\t\t\t        var foot = this.stickyFoot || this.foot || this.stickyHead;\n\t\t\t\t\t        if (foot) {\n\t\t\t\t\t            this.delete(foot);\n\t\t\t\t\t            return foot.value;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            return null;\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.unshift = function (node) {\n\t\t\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t\t\t        this.length++;\n\t\t\t\t\t        if (!this.head) {\n\t\t\t\t\t            this.head = listNode;\n\t\t\t\t\t            this.foot = listNode;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            this.head.prev = listNode;\n\t\t\t\t\t            listNode.next = this.head;\n\t\t\t\t\t            this.head = listNode;\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.unshiftToHead = function (node) {\n\t\t\t\t\t        if (this.stickyHead) {\n\t\t\t\t\t            var node_3 = this.stickyHead;\n\t\t\t\t\t            this.unshift(node_3.value);\n\t\t\t\t\t            this.stickyHead = null;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            this.length++;\n\t\t\t\t\t        }\n\t\t\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t\t\t        this.stickyHead = listNode;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.unshiftToFoot = function (node) {\n\t\t\t\t\t        if (this.stickyFoot) {\n\t\t\t\t\t            var node_4 = this.stickyFoot;\n\t\t\t\t\t            this.push(node_4.value);\n\t\t\t\t\t            this.stickyFoot = null;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            this.length++;\n\t\t\t\t\t        }\n\t\t\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t\t\t        this.stickyFoot = listNode;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.shift = function () {\n\t\t\t\t\t        var head = this.stickyHead || this.head || this.stickyFoot;\n\t\t\t\t\t        if (head) {\n\t\t\t\t\t            this.delete(head);\n\t\t\t\t\t            return head.value;\n\t\t\t\t\t        }\n\t\t\t\t\t        else {\n\t\t\t\t\t            return null;\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.pickHead = function () {\n\t\t\t\t\t        var _a, _b;\n\t\t\t\t\t        return ((_a = this.stickyHead) === null || _a === void 0 ? void 0 : _a.value) || ((_b = this.head) === null || _b === void 0 ? void 0 : _b.value);\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.pickFoot = function () {\n\t\t\t\t\t        var _a, _b;\n\t\t\t\t\t        return ((_a = this.stickyFoot) === null || _a === void 0 ? void 0 : _a.value) || ((_b = this.foot) === null || _b === void 0 ? void 0 : _b.value);\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.listToFoot = function (action) {\n\t\t\t\t\t        if (this.stickyHead) {\n\t\t\t\t\t            action(this.stickyHead.value);\n\t\t\t\t\t        }\n\t\t\t\t\t        var node = this.head;\n\t\t\t\t\t        while (node) {\n\t\t\t\t\t            action(node.value);\n\t\t\t\t\t            node = node.next;\n\t\t\t\t\t        }\n\t\t\t\t\t        if (this.stickyFoot) {\n\t\t\t\t\t            action(this.stickyFoot.value);\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.listToHead = function (action) {\n\t\t\t\t\t        if (this.stickyFoot) {\n\t\t\t\t\t            action(this.stickyFoot.value);\n\t\t\t\t\t        }\n\t\t\t\t\t        var node = this.foot;\n\t\t\t\t\t        while (node) {\n\t\t\t\t\t            action(node.value);\n\t\t\t\t\t            node = node.prev;\n\t\t\t\t\t        }\n\t\t\t\t\t        if (this.stickyHead) {\n\t\t\t\t\t            action(this.stickyHead.value);\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.toArray = function () {\n\t\t\t\t\t        var re = [];\n\t\t\t\t\t        this.listToFoot(function (v) { return re.push(v); });\n\t\t\t\t\t        return re;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.delete = function (node) {\n\t\t\t\t\t        if (this.stickyHead === node) {\n\t\t\t\t\t            this.stickyHead = null;\n\t\t\t\t\t            this.length--;\n\t\t\t\t\t        }\n\t\t\t\t\t        else if (this.stickyFoot === node) {\n\t\t\t\t\t            this.stickyFoot = null;\n\t\t\t\t\t            this.length--;\n\t\t\t\t\t        }\n\t\t\t\t\t        else if (this.head === node) {\n\t\t\t\t\t            var next = node.next;\n\t\t\t\t\t            node.next = null;\n\t\t\t\t\t            if (next) {\n\t\t\t\t\t                this.head = next;\n\t\t\t\t\t                next.prev = null;\n\t\t\t\t\t            }\n\t\t\t\t\t            else {\n\t\t\t\t\t                this.head = null;\n\t\t\t\t\t                this.foot = null;\n\t\t\t\t\t            }\n\t\t\t\t\t            this.length--;\n\t\t\t\t\t        }\n\t\t\t\t\t        else if (this.foot === node) {\n\t\t\t\t\t            var prev = node.prev;\n\t\t\t\t\t            node.prev = null;\n\t\t\t\t\t            if (prev) {\n\t\t\t\t\t                this.foot = prev;\n\t\t\t\t\t                prev.next = null;\n\t\t\t\t\t            }\n\t\t\t\t\t            else {\n\t\t\t\t\t                this.head = null;\n\t\t\t\t\t                this.foot = null;\n\t\t\t\t\t            }\n\t\t\t\t\t            this.length--;\n\t\t\t\t\t        }\n\t\t\t\t\t        else if (this.hasNode(node)) {\n\t\t\t\t\t            var prev = node.prev;\n\t\t\t\t\t            var next = node.next;\n\t\t\t\t\t            node.prev = null;\n\t\t\t\t\t            node.next = null;\n\t\t\t\t\t            prev.next = next;\n\t\t\t\t\t            next.prev = prev;\n\t\t\t\t\t            this.length--;\n\t\t\t\t\t        }\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.size = function () {\n\t\t\t\t\t        return this.length;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.hasNode = function (node) {\n\t\t\t\t\t        if (this.stickyHead && Object.is(this.stickyHead, node))\n\t\t\t\t\t            return true;\n\t\t\t\t\t        if (this.stickyFoot && Object.is(this.stickyFoot, node))\n\t\t\t\t\t            return true;\n\t\t\t\t\t        var listNode = this.head;\n\t\t\t\t\t        while (listNode) {\n\t\t\t\t\t            if (Object.is(listNode, node))\n\t\t\t\t\t                return true;\n\t\t\t\t\t            listNode = listNode.next;\n\t\t\t\t\t        }\n\t\t\t\t\t        return false;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.hasValue = function (node) {\n\t\t\t\t\t        if (this.stickyHead && Object.is(this.stickyHead.value, node))\n\t\t\t\t\t            return true;\n\t\t\t\t\t        if (this.stickyFoot && Object.is(this.stickyFoot.value, node))\n\t\t\t\t\t            return true;\n\t\t\t\t\t        var listNode = this.head;\n\t\t\t\t\t        while (listNode) {\n\t\t\t\t\t            if (Object.is(listNode.value, node))\n\t\t\t\t\t                return true;\n\t\t\t\t\t            listNode = listNode.next;\n\t\t\t\t\t        }\n\t\t\t\t\t        return false;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.some = function (iterator) {\n\t\t\t\t\t        var re = false;\n\t\t\t\t\t        this.listToFoot(function (node) {\n\t\t\t\t\t            re = re || iterator(node);\n\t\t\t\t\t        });\n\t\t\t\t\t        return re;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.every = function (iterator) {\n\t\t\t\t\t        var re = true;\n\t\t\t\t\t        this.listToFoot(function (node) {\n\t\t\t\t\t            re = re && iterator(node);\n\t\t\t\t\t        });\n\t\t\t\t\t        return re;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.concat = function (list) {\n\t\t\t\t\t        var newList = new ListTree();\n\t\t\t\t\t        this.listToFoot(function (node) { return newList.push(node); });\n\t\t\t\t\t        list.listToFoot(function (node) { return newList.push(node); });\n\t\t\t\t\t        return newList;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.clone = function () {\n\t\t\t\t\t        var newList = new ListTree();\n\t\t\t\t\t        this.listToFoot(function (v) { return newList.push(v); });\n\t\t\t\t\t        return newList;\n\t\t\t\t\t    };\n\t\t\t\t\t    ListTree.prototype.clear = function () {\n\t\t\t\t\t        this.length = 0;\n\t\t\t\t\t        this.head = null;\n\t\t\t\t\t        this.foot = null;\n\t\t\t\t\t        this.stickyHead = null;\n\t\t\t\t\t        this.stickyFoot = null;\n\t\t\t\t\t    };\n\t\t\t\t\t    return ListTree;\n\t\t\t\t\t}());\n\t\t\t\t\t{\n\t\t\t\t\t    Object.defineProperty(ListTree.prototype, \"_debugToArray\", {\n\t\t\t\t\t        get: function () {\n\t\t\t\t\t            return this.toArray();\n\t\t\t\t\t        },\n\t\t\t\t\t    });\n\t\t\t\t\t}\n\n\t\t\t\t\texports.Comment = Comment;\n\t\t\t\t\texports.Consumer = Consumer;\n\t\t\t\t\texports.Context = Context;\n\t\t\t\t\texports.Element = Element;\n\t\t\t\t\texports.ForwardRef = ForwardRef;\n\t\t\t\t\texports.Fragment = Fragment;\n\t\t\t\t\texports.Lazy = Lazy;\n\t\t\t\t\texports.ListTree = ListTree;\n\t\t\t\t\texports.ListTreeNode = ListTreeNode;\n\t\t\t\t\texports.Memo = Memo;\n\t\t\t\t\texports.Offscreen = Offscreen;\n\t\t\t\t\texports.Portal = Portal;\n\t\t\t\t\texports.Profiler = Profiler;\n\t\t\t\t\texports.Provider = Provider;\n\t\t\t\t\texports.Root = Root;\n\t\t\t\t\texports.Scope = Scope;\n\t\t\t\t\texports.ScopeLazy = ScopeLazy;\n\t\t\t\t\texports.ScopeSuspense = ScopeSuspense;\n\t\t\t\t\texports.Strict = Strict;\n\t\t\t\t\texports.Suspense = Suspense;\n\t\t\t\t\texports.TYPEKEY = TYPEKEY;\n\t\t\t\t\texports.UniqueArray = UniqueArray;\n\t\t\t\t\texports.compareVersion = compareVersion;\n\t\t\t\t\texports.exclude = exclude;\n\t\t\t\t\texports.include = include;\n\t\t\t\t\texports.isArray = isArray;\n\t\t\t\t\texports.isArrayEquals = isArrayEquals;\n\t\t\t\t\texports.isCollection = isCollection;\n\t\t\t\t\texports.isFunction = isFunction;\n\t\t\t\t\texports.isInteger = isInteger;\n\t\t\t\t\texports.isNormalEquals = isNormalEquals;\n\t\t\t\t\texports.isNumber = isNumber;\n\t\t\t\t\texports.isObject = isObject;\n\t\t\t\t\texports.isPromise = isPromise;\n\t\t\t\t\texports.isString = isString;\n\t\t\t\t\texports.isSymbol = isSymbol;\n\t\t\t\t\texports.merge = merge;\n\t\t\t\t\texports.once = once;\n\t\t\t\t\texports.remove = remove; \n\t\t\t\t} (index_development));\n\t\t\t\treturn index_development;\n\t\t\t}\n\n\t\t\tvar hasRequiredMyreactShared;\n\n\t\t\tfunction requireMyreactShared () {\n\t\t\t\tif (hasRequiredMyreactShared) return myreactShared.exports;\n\t\t\t\thasRequiredMyreactShared = 1;\n\n\t\t\t\t{\n\t\t\t\t  myreactShared.exports = requireIndex_development();\n\t\t\t\t}\n\t\t\t\treturn myreactShared.exports;\n\t\t\t}\n\n\t\t\tvar myreactSharedExports = requireMyreactShared();\n\n\t\t\t/******************************************************************************\r\n\t\t\tCopyright (c) Microsoft Corporation.\r\n\r\n\t\t\tPermission to use, copy, modify, and/or distribute this software for any\r\n\t\t\tpurpose with or without fee is hereby granted.\r\n\r\n\t\t\tTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n\t\t\tREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n\t\t\tAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n\t\t\tINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n\t\t\tLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n\t\t\tOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n\t\t\tPERFORMANCE OF THIS SOFTWARE.\r\n\t\t\t***************************************************************************** */\r\n\t\t\t/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\n\t\t\tvar extendStatics = function(d, b) {\r\n\t\t\t    extendStatics = Object.setPrototypeOf ||\r\n\t\t\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t\t\t        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n\t\t\t    return extendStatics(d, b);\r\n\t\t\t};\r\n\r\n\t\t\tfunction __extends(d, b) {\r\n\t\t\t    if (typeof b !== \"function\" && b !== null)\r\n\t\t\t        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n\t\t\t    extendStatics(d, b);\r\n\t\t\t    function __() { this.constructor = d; }\r\n\t\t\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t\t\t}\r\n\r\n\t\t\tvar __assign = function() {\r\n\t\t\t    __assign = Object.assign || function __assign(t) {\r\n\t\t\t        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n\t\t\t            s = arguments[i];\r\n\t\t\t            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n\t\t\t        }\r\n\t\t\t        return t;\r\n\t\t\t    };\r\n\t\t\t    return __assign.apply(this, arguments);\r\n\t\t\t};\r\n\r\n\t\t\tfunction __awaiter(thisArg, _arguments, P, generator) {\r\n\t\t\t    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n\t\t\t    return new (P || (P = Promise))(function (resolve, reject) {\r\n\t\t\t        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n\t\t\t        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n\t\t\t        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n\t\t\t        step((generator = generator.apply(thisArg, [])).next());\r\n\t\t\t    });\r\n\t\t\t}\r\n\r\n\t\t\tfunction __generator(thisArg, body) {\r\n\t\t\t    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n\t\t\t    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n\t\t\t    function verb(n) { return function (v) { return step([n, v]); }; }\r\n\t\t\t    function step(op) {\r\n\t\t\t        if (f) throw new TypeError(\"Generator is already executing.\");\r\n\t\t\t        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n\t\t\t            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n\t\t\t            if (y = 0, t) op = [op[0] & 2, t.value];\r\n\t\t\t            switch (op[0]) {\r\n\t\t\t                case 0: case 1: t = op; break;\r\n\t\t\t                case 4: _.label++; return { value: op[1], done: false };\r\n\t\t\t                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n\t\t\t                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n\t\t\t                default:\r\n\t\t\t                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n\t\t\t                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n\t\t\t                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n\t\t\t                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n\t\t\t                    if (t[2]) _.ops.pop();\r\n\t\t\t                    _.trys.pop(); continue;\r\n\t\t\t            }\r\n\t\t\t            op = body.call(thisArg, _);\r\n\t\t\t        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n\t\t\t        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n\t\t\t    }\r\n\t\t\t}\r\n\r\n\t\t\tfunction __spreadArray(to, from, pack) {\r\n\t\t\t    if (arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n\t\t\t        if (ar || !(i in from)) {\r\n\t\t\t            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n\t\t\t            ar[i] = from[i];\r\n\t\t\t        }\r\n\t\t\t    }\r\n\t\t\t    return to.concat(ar || Array.prototype.slice.call(from));\r\n\t\t\t}\r\n\r\n\t\t\ttypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n\t\t\t    var e = new Error(message);\r\n\t\t\t    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n\t\t\t};\n\n\t\t\tvar MyWeakMap = typeof WeakMap !== \"undefined\" ? WeakMap : Map;\n\n\t\t\tvar currentRefreshHandler = react.createRef(null);\n\t\t\t// TODO\n\t\t\t// need improve\n\t\t\tvar currentTriggerFiber = react.createRef(null);\n\t\t\tvar fiberToDispatchMap = react.__my_react_internal__.fiberToDispatchMap;\n\t\t\tvar enableFiberForLog = react.createRef(false);\n\t\t\tvar enableDebugUpdateQueue = react.createRef(false);\n\t\t\tvar enableValidMyReactElement = react.createRef(false);\n\t\t\tvar enableLogForCurrentFlowIsRunning = react.createRef(false);\n\n\t\t\texports.NODE_TYPE = void 0;\n\t\t\t(function (NODE_TYPE) {\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__class__\"] = 1] = \"__class__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__function__\"] = 2] = \"__function__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__lazy__\"] = 4] = \"__lazy__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__memo__\"] = 8] = \"__memo__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__forwardRef__\"] = 16] = \"__forwardRef__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__provider__\"] = 32] = \"__provider__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__consumer__\"] = 64] = \"__consumer__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__portal__\"] = 128] = \"__portal__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__null__\"] = 256] = \"__null__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__text__\"] = 512] = \"__text__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__empty__\"] = 1024] = \"__empty__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__plain__\"] = 2048] = \"__plain__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__strict__\"] = 4096] = \"__strict__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__suspense__\"] = 8192] = \"__suspense__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__fragment__\"] = 16384] = \"__fragment__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__root__\"] = 32768] = \"__root__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__scope__\"] = 65536] = \"__scope__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__comment__\"] = 131072] = \"__comment__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__profiler__\"] = 262144] = \"__profiler__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__context__\"] = 524288] = \"__context__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__scopeLazy__\"] = 1048576] = \"__scopeLazy__\";\n\t\t\t    NODE_TYPE[NODE_TYPE[\"__scopeSuspense__\"] = 2097152] = \"__scopeSuspense__\";\n\t\t\t})(exports.NODE_TYPE || (exports.NODE_TYPE = {}));\n\n\t\t\tvar enableSyncFlush$1 = react.__my_react_shared__.enableSyncFlush;\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\texports.syncFlush = false;\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tvar beforeSyncFlush = function () {\n\t\t\t    exports.syncFlush = true;\n\t\t\t};\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tvar afterSyncFlush = function () {\n\t\t\t    exports.syncFlush = false;\n\t\t\t};\n\t\t\tvar stack = [enableSyncFlush$1.current];\n\t\t\tvar beforeSyncUpdate = function () {\n\t\t\t    stack.push(enableSyncFlush$1.current);\n\t\t\t    enableSyncFlush$1.current = true;\n\t\t\t};\n\t\t\tvar afterSyncUpdate = function () {\n\t\t\t    enableSyncFlush$1.current = stack.pop();\n\t\t\t};\n\n\t\t\tvar currentRunningFiber$5 = react.__my_react_internal__.currentRunningFiber, currentScheduler$g = react.__my_react_internal__.currentScheduler, currentScopeFiber$1 = react.__my_react_internal__.currentScopeFiber, currentError$1 = react.__my_react_internal__.currentError, currentCallingFiber$1 = react.__my_react_internal__.currentCallingFiber;\n\t\t\tvar safeCall = function (action) {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    try {\n\t\t\t        return action.call.apply(action, __spreadArray([null], args, false));\n\t\t\t    }\n\t\t\t    catch (e) {\n\t\t\t        var fiber = (currentCallingFiber$1 === null || currentCallingFiber$1 === void 0 ? void 0 : currentCallingFiber$1[(currentCallingFiber$1 === null || currentCallingFiber$1 === void 0 ? void 0 : currentCallingFiber$1.length) - 1]) || currentScopeFiber$1.current || currentRunningFiber$5.current;\n\t\t\t        var renderScheduler = currentScheduler$g.current;\n\t\t\t        currentError$1.current = currentError$1.current || e;\n\t\t\t        renderScheduler.dispatchError({ fiber: fiber, error: currentError$1.current });\n\t\t\t    }\n\t\t\t};\n\t\t\tvar safeCallWithCurrentFiber = function (_a) {\n\t\t\t    var action = _a.action, fiber = _a.fiber, fallback = _a.fallback;\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    currentCallingFiber$1.push(fiber);\n\t\t\t    try {\n\t\t\t        return action.call.apply(action, __spreadArray([null], args, false));\n\t\t\t    }\n\t\t\t    catch (e) {\n\t\t\t        if (fallback) {\n\t\t\t            return fallback();\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            var renderScheduler = currentScheduler$g.current;\n\t\t\t            currentError$1.current = currentError$1.current || e;\n\t\t\t            renderScheduler.dispatchError({ fiber: fiber, error: currentError$1.current });\n\t\t\t        }\n\t\t\t    }\n\t\t\t    finally {\n\t\t\t        currentCallingFiber$1.pop();\n\t\t\t    }\n\t\t\t};\n\t\t\tvar callWithFiber = function (_a) {\n\t\t\t    var action = _a.action, fiber = _a.fiber;\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    currentScopeFiber$1.current = fiber;\n\t\t\t    try {\n\t\t\t        return action.call.apply(action, __spreadArray([null], args, false));\n\t\t\t    }\n\t\t\t    finally {\n\t\t\t        currentScopeFiber$1.current = null;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar safeCallWithSync = function (action) {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    try {\n\t\t\t        beforeSyncUpdate();\n\t\t\t        return action.call.apply(action, __spreadArray([null], args, false));\n\t\t\t    }\n\t\t\t    catch (e) {\n\t\t\t        var fiber = (currentCallingFiber$1 === null || currentCallingFiber$1 === void 0 ? void 0 : currentCallingFiber$1[(currentCallingFiber$1 === null || currentCallingFiber$1 === void 0 ? void 0 : currentCallingFiber$1.length) - 1]) || currentScopeFiber$1.current || currentRunningFiber$5.current;\n\t\t\t        var renderScheduler = currentScheduler$g.current;\n\t\t\t        currentError$1.current = currentError$1.current || e;\n\t\t\t        renderScheduler.dispatchError({ fiber: fiber, error: currentError$1.current });\n\t\t\t    }\n\t\t\t    finally {\n\t\t\t        afterSyncUpdate();\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar currentScheduler$f = react.__my_react_internal__.currentScheduler, currentRunningFiber$4 = react.__my_react_internal__.currentRunningFiber, currentScopeFiber = react.__my_react_internal__.currentScopeFiber, currentCallingFiber = react.__my_react_internal__.currentCallingFiber;\n\t\t\tvar enableOptimizeTreeLog = react.__my_react_shared__.enableOptimizeTreeLog;\n\t\t\tvar typeColor = {\n\t\t\t    normal: \"rgba(10, 190, 235, 0.8)\",\n\t\t\t    plain: \"rgba(100, 230, 40, 0.8)\",\n\t\t\t    unmount: \"rgba(230, 40, 40, 0.8)\",\n\t\t\t};\n\t\t\tvar warnMap = {};\n\t\t\tvar errorMap = {};\n\t\t\tvar fiberWarn = function (fiber) {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    var renderDispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberWarnListener() {\n\t\t\t            var _a, _b;\n\t\t\t            try {\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberWarn) === null || _b === void 0 ? void 0 : _b.forEach(function (listener) { return listener.apply(void 0, __spreadArray([fiber], args, false)); });\n\t\t\t            }\n\t\t\t            catch (_c) {\n\t\t\t            }\n\t\t\t        },\n\t\t\t    });\n\t\t\t};\n\t\t\tvar fiberError = function (fiber) {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    var renderDispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberErrorListener() {\n\t\t\t            var _a, _b;\n\t\t\t            try {\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberError) === null || _b === void 0 ? void 0 : _b.forEach(function (listener) { return listener.apply(void 0, __spreadArray([fiber], args, false)); });\n\t\t\t            }\n\t\t\t            catch (_c) {\n\t\t\t            }\n\t\t\t        },\n\t\t\t    });\n\t\t\t};\n\t\t\t// TODO! improve log\n\t\t\tvar originalWarn = console.warn;\n\t\t\tvar originalError = console.error;\n\t\t\tvar warnFiber = null;\n\t\t\tvar errorFiber = null;\n\t\t\tvar devWarn = function () {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 0; _i < arguments.length; _i++) {\n\t\t\t        args[_i] = arguments[_i];\n\t\t\t    }\n\t\t\t    var renderScheduler = currentScheduler$f.current;\n\t\t\t    var startWithPlain = typeof args[0] === \"string\";\n\t\t\t    var renderFiber = warnFiber || (currentCallingFiber === null || currentCallingFiber === void 0 ? void 0 : currentCallingFiber[(currentCallingFiber === null || currentCallingFiber === void 0 ? void 0 : currentCallingFiber.length) - 1]) || currentScopeFiber.current || currentRunningFiber$4.current;\n\t\t\t    renderFiber && fiberWarn.apply(void 0, __spreadArray([renderFiber], args, false));\n\t\t\t    var treeLog = renderFiber ? renderScheduler.getFiberTree(renderFiber) : \"\";\n\t\t\t    if (enableFiberForLog.current && renderFiber) {\n\t\t\t        if (startWithPlain) {\n\t\t\t            originalWarn.call.apply(originalWarn, __spreadArray(__spreadArray([console], args, false), [treeLog, \"\\n\", renderFiber], false));\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            originalWarn.call.apply(originalWarn, __spreadArray(__spreadArray([console, \"\"], args, false), [treeLog, \"\\n\", renderFiber], false));\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        if (startWithPlain) {\n\t\t\t            originalWarn.call.apply(originalWarn, __spreadArray(__spreadArray([console], args, false), [treeLog], false));\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            originalWarn.call.apply(originalWarn, __spreadArray(__spreadArray([console, \"\"], args, false), [treeLog], false));\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar devWarnWithFiber = function (fiber) {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    warnFiber = fiber;\n\t\t\t    devWarn.apply(void 0, args);\n\t\t\t    // TODO\n\t\t\t    warnFiber = null;\n\t\t\t};\n\t\t\tvar devError = function () {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 0; _i < arguments.length; _i++) {\n\t\t\t        args[_i] = arguments[_i];\n\t\t\t    }\n\t\t\t    var renderScheduler = currentScheduler$f.current;\n\t\t\t    var startWithPlain = typeof args[0] === \"string\";\n\t\t\t    var renderFiber = errorFiber || (currentCallingFiber === null || currentCallingFiber === void 0 ? void 0 : currentCallingFiber[(currentCallingFiber === null || currentCallingFiber === void 0 ? void 0 : currentCallingFiber.length) - 1]) || currentScopeFiber.current || currentRunningFiber$4.current;\n\t\t\t    renderFiber && fiberError.apply(void 0, __spreadArray([renderFiber], args, false));\n\t\t\t    var treeLog = renderFiber ? renderScheduler.getFiberTree(renderFiber) : \"\";\n\t\t\t    if (enableFiberForLog.current && renderFiber) {\n\t\t\t        if (startWithPlain) {\n\t\t\t            originalError.call.apply(originalError, __spreadArray(__spreadArray([console], args, false), [treeLog, \"\\n\", renderFiber], false));\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            originalError.call.apply(originalError, __spreadArray(__spreadArray([console, \"\"], args, false), [treeLog, \"\\n\", renderFiber], false));\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        if (startWithPlain) {\n\t\t\t            originalError.call.apply(originalError, __spreadArray(__spreadArray([console], args, false), [treeLog], false));\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            originalError.call.apply(originalError, __spreadArray(__spreadArray([console, \"\"], args, false), [treeLog], false));\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar devErrorWithFiber = function (fiber) {\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 1] = arguments[_i];\n\t\t\t    }\n\t\t\t    errorFiber = fiber;\n\t\t\t    devError.apply(void 0, args);\n\t\t\t    errorFiber = null;\n\t\t\t};\n\t\t\tvar setLogScope = function () {\n\t\t\t    {\n\t\t\t        console.warn = devWarn;\n\t\t\t        console.error = devError;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar resetLogScope = function () {\n\t\t\t    {\n\t\t\t        console.warn = originalWarn;\n\t\t\t        console.error = originalError;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar debugWithNode = function (fiber) {\n\t\t\t    var mayFiberContainer = fiber;\n\t\t\t    if (fiber.nativeNode || mayFiberContainer.containerNode) {\n\t\t\t        var node = (fiber.nativeNode || mayFiberContainer.containerNode);\n\t\t\t        node.__fiber__ = fiber;\n\t\t\t        node.__props__ = fiber.pendingProps;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar getTrackDevLog = function (fiber) {\n\t\t\t    {\n\t\t\t        var typedFiber = fiber;\n\t\t\t        var element = typedFiber._debugElement;\n\t\t\t        var source = typeof element === \"object\" ? element === null || element === void 0 ? void 0 : element[\"_source\"] : null;\n\t\t\t        var owner = typeof element === \"object\" ? element === null || element === void 0 ? void 0 : element[\"_owner\"] : null;\n\t\t\t        var preString = \"\";\n\t\t\t        if (source) {\n\t\t\t            var _a = source || {}, fileName = _a.fileName, lineNumber = _a.lineNumber;\n\t\t\t            preString = \"\".concat(preString, \"(\").concat(fileName, \":\").concat(lineNumber, \") \");\n\t\t\t        }\n\t\t\t        if (owner) {\n\t\t\t            var ownerFiber = owner;\n\t\t\t            var ownerFiberElementType = ownerFiber.elementType;\n\t\t\t            if (myreactSharedExports.include(ownerFiber.type, exports.NODE_TYPE.__class__ | exports.NODE_TYPE.__function__)) {\n\t\t\t                var ownerElement = ownerFiber._debugElement;\n\t\t\t                var typedOwnerElementType = ownerFiberElementType;\n\t\t\t                var name_1 = typedOwnerElementType.displayName || typedOwnerElementType.name;\n\t\t\t                name_1 = typeof ownerElement.type === \"object\" ? ownerElement.type.displayName : name_1;\n\t\t\t                preString = name_1 ? \"\".concat(preString, \"(render dy \").concat(name_1, \")\") : preString;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        return preString;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar shouldIncludeLog = function (fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__class__ | exports.NODE_TYPE.__function__)) {\n\t\t\t        return true;\n\t\t\t    }\n\t\t\t    return false;\n\t\t\t};\n\t\t\tvar getFiberTagName = function (fiber) {\n\t\t\t    var tag = [];\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__memo__) {\n\t\t\t        tag.push(\"memo\");\n\t\t\t    }\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__forwardRef__) {\n\t\t\t        tag.push(\"forwardRef\");\n\t\t\t    }\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__lazy__) {\n\t\t\t        tag.push(\"lazy\");\n\t\t\t    }\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__fragment__ && fiber.pendingProps[\"wrap\"]) {\n\t\t\t        tag.push(\"auto-wrap\");\n\t\t\t    }\n\t\t\t    return tag.join(\"-\");\n\t\t\t};\n\t\t\tvar getPlainFiberName = function (fiber) {\n\t\t\t    var typedFiber = fiber;\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__provider__) {\n\t\t\t        var typedElementType = fiber.elementType;\n\t\t\t        var name_2 = typedElementType.Context.displayName;\n\t\t\t        return \"\".concat(name_2 || \"Context\", \".Provider\");\n\t\t\t    }\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__context__) {\n\t\t\t        var typedElementType = fiber.elementType;\n\t\t\t        var name_3 = typedElementType.displayName;\n\t\t\t        return \"\".concat(name_3 || \"Context\");\n\t\t\t    }\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__consumer__) {\n\t\t\t        var typedElementType = fiber.elementType;\n\t\t\t        var name_4 = typedElementType.Context.displayName;\n\t\t\t        return \"\".concat(name_4 || \"Context\", \".Consumer\");\n\t\t\t    }\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__lazy__) {\n\t\t\t        var typedElementType = fiber.elementType;\n\t\t\t        var typedRender = typedElementType === null || typedElementType === void 0 ? void 0 : typedElementType.render;\n\t\t\t        var name_5 = (typedRender === null || typedRender === void 0 ? void 0 : typedRender.displayName) || (typedRender === null || typedRender === void 0 ? void 0 : typedRender.name) || \"\";\n\t\t\t        {\n\t\t\t            var element = typedFiber._debugElement;\n\t\t\t            // may be a Suspense element\n\t\t\t            var type = element === null || element === void 0 ? void 0 : element.type;\n\t\t\t            name_5 = (type === null || type === void 0 ? void 0 : type.displayName) || name_5;\n\t\t\t        }\n\t\t\t        return \"\".concat(name_5 || \"Anonymous\");\n\t\t\t    }\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__portal__)\n\t\t\t        return \"Portal\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__null__)\n\t\t\t        return \"Null\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__empty__)\n\t\t\t        return \"Empty\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__scope__)\n\t\t\t        return \"Scope\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__scopeLazy__)\n\t\t\t        return \"ScopeLazy\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__scopeSuspense__)\n\t\t\t        return \"ScopeSuspense\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__strict__)\n\t\t\t        return \"Strict\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__profiler__)\n\t\t\t        return \"Profiler\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__suspense__)\n\t\t\t        return \"Suspense\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__comment__)\n\t\t\t        return \"Comment\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__root__)\n\t\t\t        return \"Root\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__fragment__)\n\t\t\t        return \"Fragment\";\n\t\t\t    if (fiber.type & exports.NODE_TYPE.__text__)\n\t\t\t        return \"text\";\n\t\t\t    if (typeof fiber.elementType === \"string\")\n\t\t\t        return \"\".concat(fiber.elementType);\n\t\t\t    if (typeof fiber.elementType === \"function\") {\n\t\t\t        var typedElementType = fiber.elementType;\n\t\t\t        var name_6 = typedElementType.displayName || typedElementType.name || \"Anonymous\";\n\t\t\t        {\n\t\t\t            var element = typedFiber._debugElement;\n\t\t\t            var type = element === null || element === void 0 ? void 0 : element.type;\n\t\t\t            name_6 = (type === null || type === void 0 ? void 0 : type.displayName) || name_6;\n\t\t\t        }\n\t\t\t        return \"\".concat(name_6);\n\t\t\t    }\n\t\t\t    return \"unknown\";\n\t\t\t};\n\t\t\t// TODO\n\t\t\tvar getElementName = function (fiber) {\n\t\t\t    var name = getPlainFiberName(fiber);\n\t\t\t    var tag = getFiberTagName(fiber);\n\t\t\t    return \"<\".concat(name).concat(tag ? \" - (\".concat(tag, \")\") : \"\", \" />\");\n\t\t\t};\n\t\t\tvar getFiberNodeName = function (fiber) { return \"\".concat(getElementName(fiber), \" \").concat(getTrackDevLog(fiber)); };\n\t\t\tvar getFiberNodeNameWithFiber = function (fiber) { return \"%c\".concat(getElementName(fiber), \"%c (%o)\"); };\n\t\t\tvar getFiberTree$1 = function (fiber) {\n\t\t\t    if (fiber) {\n\t\t\t        var preString = \"\".padEnd(4) + \"at\".padEnd(3);\n\t\t\t        var res = \"\";\n\t\t\t        var temp = fiber;\n\t\t\t        if (enableOptimizeTreeLog.current) {\n\t\t\t            while (temp) {\n\t\t\t                if (shouldIncludeLog(temp)) {\n\t\t\t                    res ? (res += \"\\n\".concat(preString).concat(getFiberNodeName(temp))) : (res = \"\".concat(preString).concat(getFiberNodeName(temp)));\n\t\t\t                }\n\t\t\t                temp = temp.parent;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            while (temp) {\n\t\t\t                res ? (res += \"\\n\".concat(preString).concat(getFiberNodeName(temp))) : (res = \"\".concat(preString).concat(getFiberNodeName(temp)));\n\t\t\t                temp = temp.parent;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        return \"\\n\".concat(res);\n\t\t\t    }\n\t\t\t    return \"\";\n\t\t\t};\n\t\t\tvar getStackTree = function (fiber) {\n\t\t\t    var preString = \"\".padEnd(4) + \"at\".padEnd(3);\n\t\t\t    var res = \"\";\n\t\t\t    var temp = fiber;\n\t\t\t    while (temp) {\n\t\t\t        res ? (res += \"\\n\".concat(preString).concat(getElementName(temp))) : (res = \"\".concat(preString).concat(getElementName(temp)));\n\t\t\t        temp = temp.parent;\n\t\t\t    }\n\t\t\t    return \"\\n\".concat(res);\n\t\t\t};\n\t\t\tvar getFiberTreeWithFiber = function (fiber) {\n\t\t\t    var preString = \"at\".padEnd(3);\n\t\t\t    var res = \"\";\n\t\t\t    var arr = [];\n\t\t\t    var temp = fiber;\n\t\t\t    while (temp) {\n\t\t\t        res ? (res += \"\\n\".concat(preString).concat(getFiberNodeNameWithFiber(temp))) : (res = \"\".concat(preString).concat(getFiberNodeNameWithFiber(temp)));\n\t\t\t        var isMount = temp._debugIsMount;\n\t\t\t        var isPlain = temp.type & exports.NODE_TYPE.__plain__;\n\t\t\t        arr.push(\"color: white;background-color: \".concat(isMount ? (isPlain ? typeColor.plain : typeColor.normal) : typeColor.unmount, \"; border-radius: 2px; padding: 1px 5px; margin: 1px 0px\"));\n\t\t\t        arr.push(\"\");\n\t\t\t        arr.push(temp);\n\t\t\t        temp = temp.parent;\n\t\t\t    }\n\t\t\t    return { str: \"\".concat(res), arr: arr };\n\t\t\t};\n\t\t\tvar getHookTree = function (treeHookNode, errorType) {\n\t\t\t    var pre = \"\".toString().padEnd(3);\n\t\t\t    var message = \"[@my-react/react] hook for current component has a different state on current render and previous render, this is not a valid usage.\";\n\t\t\t    var re = \"\\n\" + pre + \"Last render:\".padEnd(28) + \"Next render:\".padEnd(10) + \"\\n\" + pre + \"-\".repeat(44) + \"\\n\";\n\t\t\t    var stack = pre + myreactSharedExports.HOOK_TYPE[errorType.lastRender].padEnd(28) + myreactSharedExports.HOOK_TYPE[errorType.nextRender].padEnd(10) + \"\\n\";\n\t\t\t    while (treeHookNode && treeHookNode.value) {\n\t\t\t        var t = treeHookNode.value.type;\n\t\t\t        stack = pre + myreactSharedExports.HOOK_TYPE[t].padEnd(28) + myreactSharedExports.HOOK_TYPE[t].padEnd(10) + \"\\n\" + stack;\n\t\t\t        treeHookNode = treeHookNode.prev;\n\t\t\t    }\n\t\t\t    stack += pre + \"^\".repeat(44);\n\t\t\t    return message + re + stack;\n\t\t\t};\n\t\t\tvar onceWarnWithKeyAndFiber = function (fiber, key) {\n\t\t\t    var _a;\n\t\t\t    var _b;\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 2; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 2] = arguments[_i];\n\t\t\t    }\n\t\t\t    var renderScheduler = currentScheduler$f.current;\n\t\t\t    var tree = renderScheduler.getFiberTree(fiber);\n\t\t\t    if ((_b = warnMap === null || warnMap === void 0 ? void 0 : warnMap[tree]) === null || _b === void 0 ? void 0 : _b[key])\n\t\t\t        return;\n\t\t\t    warnMap[tree] = __assign(__assign({}, warnMap === null || warnMap === void 0 ? void 0 : warnMap[tree]), (_a = {}, _a[key] = true, _a));\n\t\t\t    warnFiber = fiber;\n\t\t\t    devWarn.apply(void 0, args);\n\t\t\t    warnFiber = null;\n\t\t\t};\n\t\t\tvar onceErrorWithKeyAndFiber = function (fiber, key) {\n\t\t\t    var _a;\n\t\t\t    var _b;\n\t\t\t    var args = [];\n\t\t\t    for (var _i = 2; _i < arguments.length; _i++) {\n\t\t\t        args[_i - 2] = arguments[_i];\n\t\t\t    }\n\t\t\t    var renderScheduler = currentScheduler$f.current;\n\t\t\t    var tree = renderScheduler.getFiberTree(fiber);\n\t\t\t    if ((_b = errorMap === null || errorMap === void 0 ? void 0 : errorMap[tree]) === null || _b === void 0 ? void 0 : _b[key])\n\t\t\t        return;\n\t\t\t    errorMap[tree] = __assign(__assign({}, errorMap === null || errorMap === void 0 ? void 0 : errorMap[tree]), (_a = {}, _a[key] = true, _a));\n\t\t\t    errorFiber = fiber;\n\t\t\t    devError.apply(void 0, args);\n\t\t\t    errorFiber = null;\n\t\t\t};\n\n\t\t\tvar enableHMRForDev$1 = react.__my_react_shared__.enableHMRForDev;\n\t\t\tvar emptyProps$1 = {};\n\t\t\tvar checkIsMyReactElement = function (element) {\n\t\t\t    if (react.isValidElement(element)) {\n\t\t\t        var isMyReactElement = element._jsx || element._legacy;\n\t\t\t        if (!isMyReactElement) {\n\t\t\t            devWarn(\"[@my-react/react] look like current element is not a valid @my-react element %o\", element);\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar getElementTypeFromType = function (type) {\n\t\t\t    if (typeof type === \"object\") {\n\t\t\t        switch (type[myreactSharedExports.TYPEKEY]) {\n\t\t\t            case myreactSharedExports.ForwardRef:\n\t\t\t            case myreactSharedExports.Memo:\n\t\t\t                return getElementTypeFromType(type.render);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    return type;\n\t\t\t};\n\t\t\tvar getTypeFromElementNode = function (element) {\n\t\t\t    var nodeType = exports.NODE_TYPE.__initial__;\n\t\t\t    if (enableValidMyReactElement.current) {\n\t\t\t        checkIsMyReactElement(element);\n\t\t\t    }\n\t\t\t    if (react.isValidElement(element)) {\n\t\t\t        return getTypeFromElement(element);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        if (typeof element === \"object\" && element !== null) {\n\t\t\t            {\n\t\t\t                devWarn(\"[@my-react/react] invalid object element type \\\"\".concat(JSON.stringify(element), \"\\\"\"));\n\t\t\t            }\n\t\t\t            nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__empty__);\n\t\t\t        }\n\t\t\t        else if (element === null || element === undefined || typeof element === \"boolean\" || typeof element === \"function\") {\n\t\t\t            nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__null__);\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            // text element\n\t\t\t            return { key: null, ref: null, nodeType: exports.NODE_TYPE.__text__, elementType: String(element), pendingProps: emptyProps$1, finalElement: element, pendingText: String(element) };\n\t\t\t        }\n\t\t\t    }\n\t\t\t    return { key: null, ref: null, nodeType: nodeType, elementType: null, pendingProps: emptyProps$1, finalElement: element };\n\t\t\t};\n\t\t\tvar getTypeFromElement = function (element) {\n\t\t\t    var _a, _b, _c, _d, _e, _f, _g;\n\t\t\t    var nodeType = exports.NODE_TYPE.__initial__;\n\t\t\t    var elementType = element.type;\n\t\t\t    var finalElement = element;\n\t\t\t    var pendingProps = element.props;\n\t\t\t    var ref = (_a = element.ref) !== null && _a !== void 0 ? _a : undefined;\n\t\t\t    var key = (_b = element.key) !== null && _b !== void 0 ? _b : undefined;\n\t\t\t    if (enableHMRForDev$1.current) {\n\t\t\t        finalElement = getElementFromRefreshIfExist(element);\n\t\t\t        elementType = finalElement.type;\n\t\t\t        pendingProps = finalElement.props;\n\t\t\t        ref = (_c = finalElement.ref) !== null && _c !== void 0 ? _c : undefined;\n\t\t\t        key = (_d = finalElement.key) !== null && _d !== void 0 ? _d : undefined;\n\t\t\t    }\n\t\t\t    if (typeof elementType === \"object\" && elementType !== null) {\n\t\t\t        var typedElementType = elementType;\n\t\t\t        switch (typedElementType[myreactSharedExports.TYPEKEY]) {\n\t\t\t            case myreactSharedExports.Provider:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__provider__);\n\t\t\t                break;\n\t\t\t            // support react 19 context api\n\t\t\t            case myreactSharedExports.Context:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__context__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Consumer:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__consumer__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Memo:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__memo__);\n\t\t\t                elementType = typedElementType.render;\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.ForwardRef:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__forwardRef__);\n\t\t\t                elementType = typedElementType.render;\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Lazy:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__lazy__);\n\t\t\t                break;\n\t\t\t            default:\n\t\t\t                throw new Error(\"[@my-react/react] invalid object element type \\\"\".concat((_e = typedElementType[myreactSharedExports.TYPEKEY]) === null || _e === void 0 ? void 0 : _e.toString(), \"\\\"\"));\n\t\t\t        }\n\t\t\t        if (typeof elementType === \"object\") {\n\t\t\t            if (elementType[myreactSharedExports.TYPEKEY] === myreactSharedExports.ForwardRef) {\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__forwardRef__);\n\t\t\t                elementType = elementType.render;\n\t\t\t            }\n\t\t\t            if (elementType[myreactSharedExports.TYPEKEY] === myreactSharedExports.Provider) {\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__provider__);\n\t\t\t            }\n\t\t\t            if (elementType[myreactSharedExports.TYPEKEY] === myreactSharedExports.Context) {\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__context__);\n\t\t\t            }\n\t\t\t            if (elementType[myreactSharedExports.TYPEKEY] === myreactSharedExports.Consumer) {\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__consumer__);\n\t\t\t            }\n\t\t\t        }\n\t\t\t        if (typeof elementType === \"function\") {\n\t\t\t            if ((_f = elementType.prototype) === null || _f === void 0 ? void 0 : _f.isMyReactComponent) {\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__class__);\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__function__);\n\t\t\t            }\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else if (typeof elementType === \"function\") {\n\t\t\t        if ((_g = elementType.prototype) === null || _g === void 0 ? void 0 : _g.isMyReactComponent) {\n\t\t\t            nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__class__);\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__function__);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else if (typeof elementType === \"symbol\") {\n\t\t\t        switch (elementType) {\n\t\t\t            case myreactSharedExports.Root:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__root__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Fragment:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__fragment__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Strict:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__strict__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Suspense:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__suspense__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Scope:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__scope__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.ScopeLazy:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__scopeLazy__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.ScopeSuspense:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__scopeSuspense__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Comment:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__comment__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Portal:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__portal__);\n\t\t\t                break;\n\t\t\t            case myreactSharedExports.Profiler:\n\t\t\t                nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__profiler__);\n\t\t\t                break;\n\t\t\t            default:\n\t\t\t                throw new Error(\"[@my-react/react] invalid symbol element type \\\"\".concat(elementType === null || elementType === void 0 ? void 0 : elementType.toString(), \"\\\"\"));\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else if (typeof elementType === \"string\") {\n\t\t\t        nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__plain__);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        {\n\t\t\t            devWarn(\"[@my-react/react] invalid element type \\\"\".concat(elementType === null || elementType === void 0 ? void 0 : elementType.toString(), \"\\\"\"));\n\t\t\t        }\n\t\t\t        nodeType = myreactSharedExports.merge(nodeType, exports.NODE_TYPE.__empty__);\n\t\t\t    }\n\t\t\t    return { key: key, ref: ref, nodeType: nodeType, elementType: elementType, pendingProps: pendingProps, finalElement: finalElement };\n\t\t\t};\n\n\t\t\tvar refreshHandler = null;\n\t\t\t// used for hmr\n\t\t\tvar typeToFibersMap = new MyWeakMap();\n\t\t\tvar setRefreshHandler = function (handler) {\n\t\t\t    {\n\t\t\t        if (refreshHandler) {\n\t\t\t            throw new Error(\"[@my-react/react] \\\"refreshHandler\\\" can be only set once\");\n\t\t\t        }\n\t\t\t        currentRefreshHandler.current = handler;\n\t\t\t        refreshHandler = handler;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar setRefreshTypeMap = function (fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__class__ | exports.NODE_TYPE.__function__)) {\n\t\t\t        var elementType = fiber.elementType;\n\t\t\t        var exist = typeToFibersMap.get(elementType) || new Set();\n\t\t\t        exist.add(fiber);\n\t\t\t        typeToFibersMap.set(elementType, exist);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar getCurrentTypeFromRefresh = function (type) {\n\t\t\t    var _a;\n\t\t\t    return ((_a = refreshHandler === null || refreshHandler === void 0 ? void 0 : refreshHandler(type)) === null || _a === void 0 ? void 0 : _a.current) || type;\n\t\t\t};\n\t\t\tvar getCurrentTypeFromRefreshOnly = function (type) {\n\t\t\t    var _a;\n\t\t\t    return (_a = refreshHandler === null || refreshHandler === void 0 ? void 0 : refreshHandler(type)) === null || _a === void 0 ? void 0 : _a.current;\n\t\t\t};\n\t\t\tvar getCurrentFibersFromType = function (type) {\n\t\t\t    return typeToFibersMap.get(type);\n\t\t\t};\n\t\t\tvar getCurrentDispatchFromType = function (type) {\n\t\t\t    var fibers = getCurrentFibersFromType(type);\n\t\t\t    return new Set(Array.from(fibers || []).map(function (fiber) { return fiberToDispatchMap.get(fiber); }));\n\t\t\t};\n\t\t\tvar getCurrentDispatchFromFiber = function (fiber) {\n\t\t\t    return fiberToDispatchMap.get(fiber);\n\t\t\t};\n\t\t\tvar getElementFromRefreshIfExist = function (element) {\n\t\t\t    var _a, _b;\n\t\t\t    var elementType = getElementTypeFromType(element.type);\n\t\t\t    // current element is React component\n\t\t\t    if (typeof elementType === \"function\") {\n\t\t\t        var typeFromRefresh = getCurrentTypeFromRefreshOnly(elementType);\n\t\t\t        // have a new version elementType from hmr runtime\n\t\t\t        if (typeFromRefresh) {\n\t\t\t            return react.createElement(typeFromRefresh, __assign(__assign({}, element.props), { key: (_a = element.key) !== null && _a !== void 0 ? _a : undefined, ref: (_b = element.ref) !== null && _b !== void 0 ? _b : undefined }));\n\t\t\t        }\n\t\t\t    }\n\t\t\t    return element;\n\t\t\t};\n\n\t\t\tvar currentComponentFiber$5 = react.__my_react_internal__.currentComponentFiber;\n\t\t\tvar initHMR = function (env) {\n\t\t\t    {\n\t\t\t        if (env[\"hmr\"] || env[\"setRefreshHandler\"] || env[\"currentComponentFiber\"] || env[\"getCurrentFibersFromType\"] || env[\"getCurrentDispatchFromType\"]) {\n\t\t\t            console.error(\"[@my-react/react] current HMR environment is invalid\");\n\t\t\t            return;\n\t\t\t        }\n\t\t\t        try {\n\t\t\t            env[\"hmr\"] = hmr;\n\t\t\t            env[\"typeToFibersMap\"] = typeToFibersMap;\n\t\t\t            env[\"setRefreshHandler\"] = setRefreshHandler;\n\t\t\t            env[\"currentComponentFiber\"] = currentComponentFiber$5;\n\t\t\t            env[\"getCurrentFibersFromType\"] = getCurrentFibersFromType;\n\t\t\t            env[\"getCurrentDispatchFromType\"] = getCurrentDispatchFromType;\n\t\t\t            env[\"getCurrentDispatchFromFiber\"] = getCurrentDispatchFromFiber;\n\t\t\t        }\n\t\t\t        catch (e) {\n\t\t\t            console.error(\"[@my-react/react] init HMR for current environment failed, \".concat(e.message));\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar currentRunningFiber$3 = react.__my_react_internal__.currentRunningFiber, currentScheduler$e = react.__my_react_internal__.currentScheduler;\n\t\t\tvar dispatchHook = function (params) {\n\t\t\t    var fiber = currentRunningFiber$3.current;\n\t\t\t    if (!fiber) {\n\t\t\t        throw new Error(\"No current running fiber found for dispatching hook.\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var dispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    if (!dispatch) {\n\t\t\t        throw new Error(\"No dispatch found for the current running fiber.\");\n\t\t\t    }\n\t\t\t    return dispatch.dispatchHook(params);\n\t\t\t};\n\t\t\tvar dispatchState = function (_params) {\n\t\t\t    var trigger = _params.trigger;\n\t\t\t    var fiber = trigger._reactInternals || trigger;\n\t\t\t    if (!fiber) {\n\t\t\t        throw new Error(\"No fiber found for dispatching state.\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var dispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    if (!dispatch) {\n\t\t\t        throw new Error(\"No dispatch found for the current running fiber.\");\n\t\t\t    }\n\t\t\t    return dispatch.dispatchState(_params);\n\t\t\t};\n\t\t\tvar dispatchError = function (_params) {\n\t\t\t    var fiber = _params.fiber || currentRunningFiber$3.current;\n\t\t\t    if (!fiber) {\n\t\t\t        throw new Error(\"No fiber found for dispatching error.\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var dispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    if (!dispatch) {\n\t\t\t        throw new Error(\"No dispatch found for the current running fiber.\");\n\t\t\t    }\n\t\t\t    return dispatch.dispatchError(_params);\n\t\t\t};\n\t\t\tvar dispatchPromise = function (_params) {\n\t\t\t    var fiber = _params.fiber || currentRunningFiber$3.current;\n\t\t\t    if (!fiber) {\n\t\t\t        throw new Error(\"No fiber found for dispatching promise.\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var dispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    if (!dispatch) {\n\t\t\t        throw new Error(\"No dispatch found for the current running fiber.\");\n\t\t\t    }\n\t\t\t    return dispatch.dispatchPromise(_params);\n\t\t\t};\n\t\t\tvar readContext = function (_params) {\n\t\t\t    var fiber = currentRunningFiber$3.current;\n\t\t\t    if (!fiber) {\n\t\t\t        throw new Error(\"No current running fiber found for reading context.\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var dispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    if (!dispatch) {\n\t\t\t        throw new Error(\"No dispatch found for the current running fiber.\");\n\t\t\t    }\n\t\t\t    return dispatch.readContext(_params);\n\t\t\t};\n\t\t\tvar readPromise = function (_params) {\n\t\t\t    var fiber = currentRunningFiber$3.current;\n\t\t\t    if (!fiber) {\n\t\t\t        throw new Error(\"No current running fiber found for reading promise.\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var dispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    if (!dispatch) {\n\t\t\t        throw new Error(\"No dispatch found for the current running fiber.\");\n\t\t\t    }\n\t\t\t    return dispatch.readPromise(_params);\n\t\t\t};\n\t\t\tvar getFiberTree = function (fiber) {\n\t\t\t    var dispatch = getCurrentDispatchFromFiber(fiber);\n\t\t\t    if (dispatch) {\n\t\t\t        return dispatch.getFiberTree(fiber);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        return getFiberTree$1(fiber);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar initScheduler = function () {\n\t\t\t    var scheduler = currentScheduler$e.current;\n\t\t\t    scheduler.getFiberTree = getFiberTree;\n\t\t\t    scheduler.readPromise = readPromise;\n\t\t\t    scheduler.readContext = readContext;\n\t\t\t    scheduler.dispatchState = dispatchState;\n\t\t\t    scheduler.dispatchHook = dispatchHook;\n\t\t\t    scheduler.dispatchError = dispatchError;\n\t\t\t    scheduler.dispatchPromise = dispatchPromise;\n\t\t\t};\n\n\t\t\tvar enableHMRForDev = react.__my_react_shared__.enableHMRForDev;\n\t\t\tfunction checkIsSameType(p, element) {\n\t\t\t    if (p instanceof MyReactFiberNode) {\n\t\t\t        var _a = getTypeFromElementNode(element), nodeType = _a.nodeType, elementType = _a.elementType;\n\t\t\t        if (p.type === nodeType) {\n\t\t\t            if (react.isValidElement(element)) {\n\t\t\t                if (enableHMRForDev.current && myreactSharedExports.include(nodeType, exports.NODE_TYPE.__class__ | exports.NODE_TYPE.__function__)) {\n\t\t\t                    // type error\n\t\t\t                    return Object.is(getCurrentTypeFromRefresh(p.elementType), getCurrentTypeFromRefresh(elementType));\n\t\t\t                }\n\t\t\t                else {\n\t\t\t                    return Object.is(p.elementType, elementType);\n\t\t\t                }\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                return true;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            return false;\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        var existElementType = getTypeFromElementNode(p);\n\t\t\t        var incomingElementType = getTypeFromElementNode(element);\n\t\t\t        if (existElementType.nodeType === incomingElementType.nodeType) {\n\t\t\t            if (react.isValidElement(element)) {\n\t\t\t                var typedExistElement = p;\n\t\t\t                var typedIncomingElement = element;\n\t\t\t                if (enableHMRForDev.current && myreactSharedExports.include(existElementType.nodeType, exports.NODE_TYPE.__class__ | exports.NODE_TYPE.__function__)) {\n\t\t\t                    return Object.is(getCurrentTypeFromRefresh(typedIncomingElement.type), getCurrentTypeFromRefresh(typedExistElement.type));\n\t\t\t                }\n\t\t\t                else {\n\t\t\t                    return Object.is(typedIncomingElement.type, typedExistElement.type);\n\t\t\t                }\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                return true;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            return false;\n\t\t\t        }\n\t\t\t    }\n\t\t\t}\n\n\t\t\tvar generateFiberToMountList = function (fiber) {\n\t\t\t    var listTree = new myreactSharedExports.ListTree();\n\t\t\t    var getNext = function (fiber, root) {\n\t\t\t        if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t            return null;\n\t\t\t        if (fiber.child)\n\t\t\t            return fiber.child;\n\t\t\t        while (fiber && fiber !== root) {\n\t\t\t            listTree.push(fiber);\n\t\t\t            if (fiber.sibling)\n\t\t\t                return fiber.sibling;\n\t\t\t            fiber = fiber.parent;\n\t\t\t        }\n\t\t\t        if (fiber === root) {\n\t\t\t            listTree.push(fiber);\n\t\t\t        }\n\t\t\t        return null;\n\t\t\t    };\n\t\t\t    var f = fiber;\n\t\t\t    while (f) {\n\t\t\t        f = getNext(f, fiber);\n\t\t\t    }\n\t\t\t    return listTree;\n\t\t\t};\n\t\t\tvar generateFiberToUnmountList = generateFiberToMountList;\n\n\t\t\tvar currentRunningFiber$2 = react.__my_react_internal__.currentRunningFiber;\n\t\t\tvar mountToNextFiberFromRoot = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) || renderDispatch.isAppCrashed)\n\t\t\t        return null;\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__stable__) && fiber.state !== myreactSharedExports.STATE_TYPE.__stable__) {\n\t\t\t        devErrorWithFiber(fiber, \"[@my-react/react] current fiber state not valid, look like a bug for @my-react\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__create__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__inherit__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerSync__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerSyncForce__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerConcurrent__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerConcurrentForce__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__retrigger__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__reschedule__)) {\n\t\t\t        fiber.state = myreactSharedExports.remove(fiber.state, myreactSharedExports.STATE_TYPE.__retrigger__);\n\t\t\t        currentRunningFiber$2.current = fiber;\n\t\t\t        {\n\t\t\t            runtimeNextWorkDev(renderDispatch, fiber);\n\t\t\t        }\n\t\t\t        currentRunningFiber$2.current = null;\n\t\t\t    }\n\t\t\t    if (!myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__retrigger__)) {\n\t\t\t        fiber.state = myreactSharedExports.STATE_TYPE.__stable__;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        fiber.state = myreactSharedExports.STATE_TYPE.__triggerSync__;\n\t\t\t    }\n\t\t\t    if (fiber.child)\n\t\t\t        return fiber.child;\n\t\t\t    var nextFiber = fiber;\n\t\t\t    while (nextFiber && nextFiber !== renderDispatch.runtimeFiber.scheduledFiber) {\n\t\t\t        renderDispatch.generateCommitList(nextFiber);\n\t\t\t        if (nextFiber.sibling)\n\t\t\t            return nextFiber.sibling;\n\t\t\t        nextFiber = nextFiber.parent;\n\t\t\t    }\n\t\t\t    if (nextFiber === renderDispatch.runtimeFiber.scheduledFiber)\n\t\t\t        renderDispatch.generateCommitList(nextFiber);\n\t\t\t    return null;\n\t\t\t};\n\t\t\tvar performToNextFiberFromRoot = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) || renderDispatch.isAppCrashed)\n\t\t\t        return null;\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__stable__) && fiber.state !== myreactSharedExports.STATE_TYPE.__stable__) {\n\t\t\t        devErrorWithFiber(fiber, \"[@my-react/react] current fiber state not valid, look like a bug for @my-react\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__create__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__inherit__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerSync__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerSyncForce__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerConcurrent__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__triggerConcurrentForce__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__retrigger__ |\n\t\t\t        myreactSharedExports.STATE_TYPE.__reschedule__)) {\n\t\t\t        fiber.state = myreactSharedExports.remove(fiber.state, myreactSharedExports.STATE_TYPE.__retrigger__);\n\t\t\t        currentRunningFiber$2.current = fiber;\n\t\t\t        {\n\t\t\t            runtimeNextWorkDev(renderDispatch, fiber);\n\t\t\t        }\n\t\t\t        currentRunningFiber$2.current = null;\n\t\t\t        triggerFiberUpdateListener(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    if (!myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__retrigger__)) {\n\t\t\t        fiber.state = myreactSharedExports.STATE_TYPE.__stable__;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        fiber.state = myreactSharedExports.STATE_TYPE.__triggerSync__;\n\t\t\t    }\n\t\t\t    if (fiber.child)\n\t\t\t        return fiber.child;\n\t\t\t    var nextFiber = fiber;\n\t\t\t    while (nextFiber && nextFiber !== renderDispatch.runtimeFiber.scheduledFiber) {\n\t\t\t        renderDispatch.generateCommitList(nextFiber);\n\t\t\t        if (nextFiber.sibling)\n\t\t\t            return nextFiber.sibling;\n\t\t\t        nextFiber = nextFiber.parent;\n\t\t\t    }\n\t\t\t    if (nextFiber === renderDispatch.runtimeFiber.scheduledFiber)\n\t\t\t        renderDispatch.generateCommitList(nextFiber);\n\t\t\t    return null;\n\t\t\t};\n\n\t\t\tvar defaultGenerateEffectMap = function (fiber, effect, map, option) {\n\t\t\t    var list = map.get(fiber) || new myreactSharedExports.ListTree();\n\t\t\t    if (option) {\n\t\t\t        if (option.stickyToHead) {\n\t\t\t            list.pushToHead(effect);\n\t\t\t        }\n\t\t\t        else if (option.stickyToFoot) {\n\t\t\t            list.pushToLast(effect);\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            list.push(effect);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        list.push(effect);\n\t\t\t    }\n\t\t\t    map.set(fiber, list);\n\t\t\t};\n\t\t\tvar defaultInvokeEffect = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.patch, myreactSharedExports.PATCH_TYPE.__effect__)) {\n\t\t\t        var effectMap = renderDispatch.runtimeMap.effectMap;\n\t\t\t        var allEffect = effectMap.get(fiber);\n\t\t\t        effectMap.delete(fiber);\n\t\t\t        if (allEffect && allEffect.length) {\n\t\t\t            allEffect.listToFoot(function invokeEffect(effect) {\n\t\t\t                safeCallWithCurrentFiber({\n\t\t\t                    fiber: fiber,\n\t\t\t                    action: function safeCallEffect() {\n\t\t\t                        effect.call(null);\n\t\t\t                    },\n\t\t\t                });\n\t\t\t            });\n\t\t\t        }\n\t\t\t        fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__effect__);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar defaultInvokeLayoutEffect = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.patch, myreactSharedExports.PATCH_TYPE.__layoutEffect__)) {\n\t\t\t        var layoutEffectMap = renderDispatch.runtimeMap.layoutEffectMap;\n\t\t\t        var allLayoutEffect = layoutEffectMap.get(fiber);\n\t\t\t        layoutEffectMap.delete(fiber);\n\t\t\t        if (allLayoutEffect && allLayoutEffect.length) {\n\t\t\t            allLayoutEffect.listToFoot(function invokeLayoutEffect(effect) {\n\t\t\t                safeCallWithCurrentFiber({\n\t\t\t                    fiber: fiber,\n\t\t\t                    action: function safeCallLayoutEffect() {\n\t\t\t                        effect.call(null);\n\t\t\t                    },\n\t\t\t                });\n\t\t\t            });\n\t\t\t        }\n\t\t\t        fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__layoutEffect__);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar defaultInvokeInsertionEffect = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.patch, myreactSharedExports.PATCH_TYPE.__insertionEffect__)) {\n\t\t\t        var insertionEffectMap = renderDispatch.runtimeMap.insertionEffectMap;\n\t\t\t        var allInsertionEffect = insertionEffectMap.get(fiber);\n\t\t\t        insertionEffectMap.delete(fiber);\n\t\t\t        if (allInsertionEffect && allInsertionEffect.length) {\n\t\t\t            allInsertionEffect.listToFoot(function invokeInsertionEffect(effect) {\n\t\t\t                safeCallWithCurrentFiber({\n\t\t\t                    fiber: fiber,\n\t\t\t                    action: function safeCallInsertionEffect() {\n\t\t\t                        effect.call(null);\n\t\t\t                    },\n\t\t\t                });\n\t\t\t            });\n\t\t\t        }\n\t\t\t        fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__insertionEffect__);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar defaultDeleteCurrentEffect = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.patch, myreactSharedExports.PATCH_TYPE.__insertionEffect__)) {\n\t\t\t        var insertionEffectMap = renderDispatch.runtimeMap.insertionEffectMap;\n\t\t\t        insertionEffectMap.delete(fiber);\n\t\t\t        fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__insertionEffect__);\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.patch, myreactSharedExports.PATCH_TYPE.__layoutEffect__)) {\n\t\t\t        var layoutEffectMap = renderDispatch.runtimeMap.layoutEffectMap;\n\t\t\t        layoutEffectMap.delete(fiber);\n\t\t\t        fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__layoutEffect__);\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.include(fiber.patch, myreactSharedExports.PATCH_TYPE.__effect__)) {\n\t\t\t        var effectMap = renderDispatch.runtimeMap.effectMap;\n\t\t\t        effectMap.delete(fiber);\n\t\t\t        fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__effect__);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar defaultDeleteChildEffect = function (renderDispatch, fiber) {\n\t\t\t    var child = fiber.child;\n\t\t\t    while (child) {\n\t\t\t        defaultDeleteCurrentEffect(renderDispatch, child);\n\t\t\t        defaultDeleteChildEffect(renderDispatch, child);\n\t\t\t        child = child.sibling;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar effect = defaultInvokeEffect;\n\t\t\tvar layoutEffect = defaultInvokeLayoutEffect;\n\t\t\tvar insertionEffect = defaultInvokeInsertionEffect;\n\n\t\t\t// TODO use Symbol to avoid conflict\n\t\t\tvar defaultReadPromise = function (_promise) {\n\t\t\t    if (_promise.status === \"fulfilled\") {\n\t\t\t        return _promise._value;\n\t\t\t    }\n\t\t\t    else if (_promise.status === \"rejected\") {\n\t\t\t        throw _promise._reason;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        throw _promise;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar defaultResolveSuspenseValue = function (fiber) {\n\t\t\t    var _a;\n\t\t\t    var parent = fiber.parent;\n\t\t\t    while (parent) {\n\t\t\t        if (myreactSharedExports.include(parent.type, exports.NODE_TYPE.__suspense__)) {\n\t\t\t            return (_a = parent.pendingProps) === null || _a === void 0 ? void 0 : _a[\"fallback\"];\n\t\t\t        }\n\t\t\t        parent = parent.parent;\n\t\t\t    }\n\t\t\t    return null;\n\t\t\t};\n\t\t\tvar defaultResolveSuspenseFiber = function (fiber) {\n\t\t\t    var parent = fiber.parent;\n\t\t\t    while (parent) {\n\t\t\t        if (myreactSharedExports.include(parent.type, exports.NODE_TYPE.__suspense__)) {\n\t\t\t            return parent;\n\t\t\t        }\n\t\t\t        parent = parent.parent;\n\t\t\t    }\n\t\t\t    return null;\n\t\t\t};\n\t\t\tvar defaultResolveAliveSuspenseFiber = function (fiber) {\n\t\t\t    while (fiber) {\n\t\t\t        if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__suspense__) && myreactSharedExports.exclude(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__)) {\n\t\t\t            return fiber;\n\t\t\t        }\n\t\t\t        fiber = fiber.parent;\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar enableSuspenseRoot$2 = react.__my_react_shared__.enableSuspenseRoot;\n\t\t\tvar currentScheduler$d = react.__my_react_internal__.currentScheduler;\n\t\t\tvar mountLoopAllFromScheduler = function (renderDispatch) {\n\t\t\t    while (renderDispatch.runtimeFiber.nextWorkingFiber) {\n\t\t\t        renderDispatch.runtimeFiber.retriggerFiber = null;\n\t\t\t        var currentFiber = renderDispatch.runtimeFiber.nextWorkingFiber;\n\t\t\t        var nextFiber = mountToNextFiberFromRoot(renderDispatch, currentFiber);\n\t\t\t        var retriggerFiber = renderDispatch.runtimeFiber.retriggerFiber;\n\t\t\t        renderDispatch.runtimeFiber.nextWorkingFiber = retriggerFiber || nextFiber;\n\t\t\t        renderDispatch.runtimeFiber.retriggerFiber = null;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar mountLoopAll = function (renderDispatch, fiber) {\n\t\t\t    renderDispatch.runtimeFiber.scheduledFiber = fiber;\n\t\t\t    renderDispatch.runtimeFiber.nextWorkingFiber = fiber;\n\t\t\t    mountLoopAllFromScheduler(renderDispatch);\n\t\t\t};\n\t\t\tvar processAsyncLoadListOnAsyncMount = function (renderDispatch) { return __awaiter(void 0, void 0, void 0, function () {\n\t\t\t    var _loop_1, suspenseField_1, list;\n\t\t\t    return __generator(this, function (_a) {\n\t\t\t        switch (_a.label) {\n\t\t\t            case 0:\n\t\t\t                _loop_1 = function () {\n\t\t\t                    var node, suspenseField, list;\n\t\t\t                    return __generator(this, function (_b) {\n\t\t\t                        switch (_b.label) {\n\t\t\t                            case 0:\n\t\t\t                                node = renderDispatch.pendingSuspenseFiberArray.uniShift();\n\t\t\t                                suspenseField = getInstanceFieldByInstance(node.instance);\n\t\t\t                                renderDispatch.pendingSuspenseFiberArray.clear();\n\t\t\t                                list = suspenseField.asyncLoadList.getAll();\n\t\t\t                                return [4 /*yield*/, Promise.all(list.map(function (item) { return __awaiter(void 0, void 0, void 0, function () {\n\t\t\t                                        var set;\n\t\t\t                                        return __generator(this, function (_a) {\n\t\t\t                                            switch (_a.label) {\n\t\t\t                                                case 0:\n\t\t\t                                                    if (!myreactSharedExports.isPromise(item)) return [3 /*break*/, 2];\n\t\t\t                                                    return [4 /*yield*/, renderDispatch.processPromise(item)];\n\t\t\t                                                case 1:\n\t\t\t                                                    _a.sent();\n\t\t\t                                                    return [3 /*break*/, 4];\n\t\t\t                                                case 2: return [4 /*yield*/, renderDispatch.processLazy(item)];\n\t\t\t                                                case 3:\n\t\t\t                                                    _a.sent();\n\t\t\t                                                    _a.label = 4;\n\t\t\t                                                case 4:\n\t\t\t                                                    set = new Set(item._list);\n\t\t\t                                                    item._list.clear();\n\t\t\t                                                    set.forEach(function (node) {\n\t\t\t                                                        node.state = myreactSharedExports.remove(node.state, myreactSharedExports.STATE_TYPE.__stable__);\n\t\t\t                                                        node.state = myreactSharedExports.merge(node.state, myreactSharedExports.STATE_TYPE.__create__);\n\t\t\t                                                        mountLoopAll(renderDispatch, node);\n\t\t\t                                                    });\n\t\t\t                                                    suspenseField.asyncLoadList.uniDelete(item);\n\t\t\t                                                    return [2 /*return*/];\n\t\t\t                                            }\n\t\t\t                                        });\n\t\t\t                                    }); }))];\n\t\t\t                            case 1:\n\t\t\t                                _b.sent();\n\t\t\t                                return [2 /*return*/];\n\t\t\t                        }\n\t\t\t                    });\n\t\t\t                };\n\t\t\t                _a.label = 1;\n\t\t\t            case 1:\n\t\t\t                if (!renderDispatch.pendingSuspenseFiberArray.length) return [3 /*break*/, 3];\n\t\t\t                return [5 /*yield**/, _loop_1()];\n\t\t\t            case 2:\n\t\t\t                _a.sent();\n\t\t\t                return [3 /*break*/, 1];\n\t\t\t            case 3:\n\t\t\t                if (!enableSuspenseRoot$2.current) return [3 /*break*/, 5];\n\t\t\t                suspenseField_1 = getInstanceFieldByInstance(renderDispatch);\n\t\t\t                list = suspenseField_1.asyncLoadList.getAll();\n\t\t\t                if (list.length === 0)\n\t\t\t                    return [2 /*return*/];\n\t\t\t                return [4 /*yield*/, Promise.all(list.map(function (item) { return __awaiter(void 0, void 0, void 0, function () {\n\t\t\t                        var set;\n\t\t\t                        return __generator(this, function (_a) {\n\t\t\t                            switch (_a.label) {\n\t\t\t                                case 0:\n\t\t\t                                    if (!myreactSharedExports.isPromise(item)) return [3 /*break*/, 2];\n\t\t\t                                    return [4 /*yield*/, renderDispatch.processPromise(item)];\n\t\t\t                                case 1:\n\t\t\t                                    _a.sent();\n\t\t\t                                    return [3 /*break*/, 4];\n\t\t\t                                case 2: return [4 /*yield*/, renderDispatch.processLazy(item)];\n\t\t\t                                case 3:\n\t\t\t                                    _a.sent();\n\t\t\t                                    _a.label = 4;\n\t\t\t                                case 4:\n\t\t\t                                    set = new Set(item._list);\n\t\t\t                                    item._list.clear();\n\t\t\t                                    set.forEach(function (node) {\n\t\t\t                                        node.state = myreactSharedExports.remove(node.state, myreactSharedExports.STATE_TYPE.__stable__);\n\t\t\t                                        node.state = myreactSharedExports.merge(node.state, myreactSharedExports.STATE_TYPE.__create__);\n\t\t\t                                        mountLoopAll(renderDispatch, node);\n\t\t\t                                    });\n\t\t\t                                    suspenseField_1.asyncLoadList.uniDelete(item);\n\t\t\t                                    return [2 /*return*/];\n\t\t\t                            }\n\t\t\t                        });\n\t\t\t                    }); }))];\n\t\t\t            case 4:\n\t\t\t                _a.sent();\n\t\t\t                processAsyncLoadListOnAsyncMount(renderDispatch);\n\t\t\t                _a.label = 5;\n\t\t\t            case 5: return [2 /*return*/];\n\t\t\t        }\n\t\t\t    });\n\t\t\t}); };\n\t\t\tvar processAsyncLoadListOnSyncMount = function (renderDispatch) {\n\t\t\t    var _a;\n\t\t\t    if ((_a = renderDispatch.pendingSuspenseFiberArray) === null || _a === void 0 ? void 0 : _a.length) {\n\t\t\t        var allPendingSuspenseFiberArray = renderDispatch.pendingSuspenseFiberArray.getAll();\n\t\t\t        if (renderDispatch.enableAsyncLoad) {\n\t\t\t            var allField_1 = [];\n\t\t\t            allPendingSuspenseFiberArray.forEach(function (node) {\n\t\t\t                defaultDeleteChildEffect(renderDispatch, node);\n\t\t\t                var field = getInstanceFieldByInstance(node.instance);\n\t\t\t                var allPendingLoadArray = field.asyncLoadList.getAll().filter(function (item) {\n\t\t\t                    if (myreactSharedExports.isPromise(item)) {\n\t\t\t                        return typeof item.status !== \"string\";\n\t\t\t                    }\n\t\t\t                    else {\n\t\t\t                        return !item._loading && !item._loaded && !item._error;\n\t\t\t                    }\n\t\t\t                });\n\t\t\t                if (allPendingLoadArray.length) {\n\t\t\t                    Promise.all(allPendingLoadArray.map(function (item) { return __awaiter(void 0, void 0, void 0, function () {\n\t\t\t                        var _a;\n\t\t\t                        return __generator(this, function (_b) {\n\t\t\t                            switch (_b.label) {\n\t\t\t                                case 0:\n\t\t\t                                    if (!myreactSharedExports.isPromise(item)) return [3 /*break*/, 2];\n\t\t\t                                    return [4 /*yield*/, renderDispatch.processPromise(item)];\n\t\t\t                                case 1:\n\t\t\t                                    _b.sent();\n\t\t\t                                    return [3 /*break*/, 4];\n\t\t\t                                case 2: return [4 /*yield*/, renderDispatch.processLazy(item)];\n\t\t\t                                case 3:\n\t\t\t                                    _b.sent();\n\t\t\t                                    _b.label = 4;\n\t\t\t                                case 4:\n\t\t\t                                    (_a = item._list) === null || _a === void 0 ? void 0 : _a.clear();\n\t\t\t                                    field.asyncLoadList.uniDelete(item);\n\t\t\t                                    return [2 /*return*/];\n\t\t\t                            }\n\t\t\t                        });\n\t\t\t                    }); })).then(function () {\n\t\t\t                        var aliveNode = defaultResolveAliveSuspenseFiber(node);\n\t\t\t                        aliveNode.state = myreactSharedExports.STATE_TYPE.__triggerSyncForce__;\n\t\t\t                        var renderScheduler = currentScheduler$d.current;\n\t\t\t                        var updater = {\n\t\t\t                            type: myreactSharedExports.UpdateQueueType.suspense,\n\t\t\t                            trigger: aliveNode,\n\t\t\t                            isSync: true,\n\t\t\t                            isForce: true,\n\t\t\t                            payLoad: allPendingLoadArray,\n\t\t\t                        };\n\t\t\t                        renderScheduler.dispatchState(updater);\n\t\t\t                    });\n\t\t\t                }\n\t\t\t                node.state = myreactSharedExports.STATE_TYPE.__create__;\n\t\t\t                field.isHidden = true;\n\t\t\t                allField_1.push(field);\n\t\t\t            });\n\t\t\t            var root = renderDispatch.rootFiber;\n\t\t\t            root.state = myreactSharedExports.remove(root.state, myreactSharedExports.STATE_TYPE.__stable__);\n\t\t\t            root.state = myreactSharedExports.merge(root.state, myreactSharedExports.STATE_TYPE.__retrigger__);\n\t\t\t            // TODO use hide tree to improve\n\t\t\t            mountLoopAll(renderDispatch, root);\n\t\t\t            allField_1.forEach(function (field) { return (field.isHidden = false); });\n\t\t\t            renderDispatch.pendingSuspenseFiberArray.clear();\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            throw new Error(\"[@my-react/reconciler] should not process async load list on sync mount without enableAsyncLoad, you may use a wrong renderDispatch instance\");\n\t\t\t        }\n\t\t\t    }\n\t\t\t    // TODO update flow\n\t\t\t    // if (enableSuspenseRoot.current) {\n\t\t\t    //   const suspenseField = getInstanceFieldByInstance(renderDispatch) as SuspenseInstanceField;\n\t\t\t    //   const list = suspenseField.asyncLoadList.getAll();\n\t\t\t    //   if (list.length === 0) return;\n\t\t\t    //   if (renderDispatch.enableAsyncLoad) {\n\t\t\t    //     defaultDeleteCurrentEffect(renderDispatch, renderDispatch.rootFiber);\n\t\t\t    //     defaultDeleteChildEffect(renderDispatch, renderDispatch.rootFiber);\n\t\t\t    //     const allPendingLoadArray = list.filter((item) => {\n\t\t\t    //       if (isPromise(item)) {\n\t\t\t    //         return typeof item.status !== \"string\";\n\t\t\t    //       } else {\n\t\t\t    //         return !item._loading && !item._loaded && !item._error;\n\t\t\t    //       }\n\t\t\t    //     });\n\t\t\t    //     if (allPendingLoadArray.length) {\n\t\t\t    //       Promise.all(\n\t\t\t    //         allPendingLoadArray.map(async (item) => {\n\t\t\t    //           if (isPromise(item)) {\n\t\t\t    //             await renderDispatch.processPromise(item);\n\t\t\t    //           } else {\n\t\t\t    //             await renderDispatch.processLazy(item);\n\t\t\t    //           }\n\t\t\t    //           item._list?.clear();\n\t\t\t    //           suspenseField.asyncLoadList.uniDelete(item);\n\t\t\t    //         })\n\t\t\t    //       ).then(() => {\n\t\t\t    //         const aliveNode = defaultResolveAliveSuspenseFiber(node);\n\t\t\t    //         aliveNode.state = STATE_TYPE.__triggerSyncForce__;\n\t\t\t    //         const renderScheduler = currentScheduler.current;\n\t\t\t    //         const updater: SuspenseUpdateQueue = {\n\t\t\t    //           type: UpdateQueueType.suspense,\n\t\t\t    //           trigger: aliveNode,\n\t\t\t    //           isSync: true,\n\t\t\t    //           isForce: true,\n\t\t\t    //           payLoad: allPendingLoadArray,\n\t\t\t    //         };\n\t\t\t    //         renderScheduler.dispatchState(updater);\n\t\t\t    //       });\n\t\t\t    //     }\n\t\t\t    //     suspenseField.isHidden = true;\n\t\t\t    //     const root = renderDispatch.rootFiber;\n\t\t\t    //     root.state = remove(root.state, STATE_TYPE.__stable__);\n\t\t\t    //     root.state = merge(root.state, STATE_TYPE.__retrigger__);\n\t\t\t    //     // TODO use hide tree to improve\n\t\t\t    //     mountLoopAll(renderDispatch, root);\n\t\t\t    //     suspenseField.isHidden = false;\n\t\t\t    //   } else {\n\t\t\t    //     throw new Error(\n\t\t\t    //       \"[@my-react/reconciler] should not process async load list on sync mount without enableAsyncLoad, you may use a wrong renderDispatch instance\"\n\t\t\t    //     );\n\t\t\t    //   }\n\t\t\t    // }\n\t\t\t};\n\n\t\t\texports.updateTypeEnum = void 0;\n\t\t\t(function (updateTypeEnum) {\n\t\t\t    updateTypeEnum[updateTypeEnum[\"syncFromRoot\"] = 0] = \"syncFromRoot\";\n\t\t\t    updateTypeEnum[updateTypeEnum[\"syncFromTrigger\"] = 1] = \"syncFromTrigger\";\n\t\t\t    updateTypeEnum[updateTypeEnum[\"concurrentFromRoot\"] = 2] = \"concurrentFromRoot\";\n\t\t\t    updateTypeEnum[updateTypeEnum[\"concurrentFromTrigger\"] = 3] = \"concurrentFromTrigger\";\n\t\t\t})(exports.updateTypeEnum || (exports.updateTypeEnum = {}));\n\t\t\tvar triggerFiberUpdateListener = function (renderDispatch, fiber) {\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallPatchToFiberUpdate() {\n\t\t\t            var _a;\n\t\t\t            (_a = renderDispatch.patchToFiberUpdate) === null || _a === void 0 ? void 0 : _a.call(renderDispatch, fiber);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberUpdateListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberUpdate) === null || _b === void 0 ? void 0 : _b.forEach(function (listener) { return listener(fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t};\n\t\t\tvar updateLoopSyncFromRoot = function (renderDispatch) {\n\t\t\t    while (renderDispatch.runtimeFiber.nextWorkingFiber) {\n\t\t\t        renderDispatch.runtimeFiber.retriggerFiber = null;\n\t\t\t        var currentFiber = renderDispatch.runtimeFiber.nextWorkingFiber;\n\t\t\t        var nextFiber = performToNextFiberFromRoot(renderDispatch, currentFiber);\n\t\t\t        var retriggerFiber = renderDispatch.runtimeFiber.retriggerFiber;\n\t\t\t        renderDispatch.runtimeFiber.nextWorkingFiber = retriggerFiber || nextFiber;\n\t\t\t        renderDispatch.runtimeFiber.retriggerFiber = null;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar updateLoopConcurrentFromRoot = function (renderDispatch) {\n\t\t\t    while (renderDispatch.runtimeFiber.nextWorkingFiber && !renderDispatch.shouldYield()) {\n\t\t\t        renderDispatch.runtimeFiber.retriggerFiber = null;\n\t\t\t        var currentFiber = renderDispatch.runtimeFiber.nextWorkingFiber;\n\t\t\t        var nextFiber = performToNextFiberFromRoot(renderDispatch, currentFiber);\n\t\t\t        var retriggerFiber = renderDispatch.runtimeFiber.retriggerFiber;\n\t\t\t        renderDispatch.runtimeFiber.nextWorkingFiber = retriggerFiber || nextFiber;\n\t\t\t        renderDispatch.runtimeFiber.retriggerFiber = null;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processAsyncLoadListOnUpdate = processAsyncLoadListOnSyncMount;\n\n\t\t\tvar isErrorBoundariesInstance = function (instance, Component) {\n\t\t\t    return typeof instance.componentDidCatch === \"function\" || typeof Component.getDerivedStateFromError === \"function\";\n\t\t\t};\n\t\t\tvar isErrorBoundariesComponent = function (fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__class__) && myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__stable__)) {\n\t\t\t        var Component = fiber.elementType;\n\t\t\t        var typedComponent = Component;\n\t\t\t        var typedInstance = fiber.instance;\n\t\t\t        return isErrorBoundariesInstance(typedInstance, typedComponent);\n\t\t\t    }\n\t\t\t    return false;\n\t\t\t};\n\t\t\tvar defaultResolveErrorBoundaries = function (fiber) {\n\t\t\t    var parent = fiber.parent;\n\t\t\t    while (parent) {\n\t\t\t        if (isErrorBoundariesComponent(parent)) {\n\t\t\t            return parent;\n\t\t\t        }\n\t\t\t        parent = parent.parent;\n\t\t\t    }\n\t\t\t    return null;\n\t\t\t};\n\n\t\t\tvar initClassInstance = function (instance) {\n\t\t\t    var field = getInstanceFieldByInstance(instance);\n\t\t\t    if (!field)\n\t\t\t        throw new Error(\"[@my-react/react] can not find instance field for component, look like a bug for @my-react\");\n\t\t\t    var typedField = field;\n\t\t\t    typedField.isMounted = false;\n\t\t\t};\n\t\t\tvar mountClassInstance = function (instance) {\n\t\t\t    var field = getInstanceFieldByInstance(instance);\n\t\t\t    if (!field)\n\t\t\t        throw new Error(\"[@my-react/react] can not find instance field for component, look like a bug for @my-react\");\n\t\t\t    var typedField = field;\n\t\t\t    typedField.isMounted = true;\n\t\t\t};\n\t\t\tvar getClassInstanceFieldByInstance = function (instance) {\n\t\t\t    var field = getInstanceFieldByInstance(instance);\n\t\t\t    if (!field)\n\t\t\t        throw new Error(\"[@my-react/react] can not find instance field for component, look like a bug for @my-react\");\n\t\t\t    return field;\n\t\t\t};\n\n\t\t\t/* eslint-disable max-lines */\n\t\t\tvar enableLegacyLifeCycle = react.__my_react_shared__.enableLegacyLifeCycle;\n\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t// @ts-ignore\n\t\t\tif (!Object.prototype.hasOwnProperty.call(react.Component.prototype, \"_reactInternals\")) {\n\t\t\t    Object.defineProperty(react.Component.prototype, \"_reactInternals\", {\n\t\t\t        get: function () {\n\t\t\t            return getInstanceOwnerFiber(this);\n\t\t\t        },\n\t\t\t        set: function () {\n\t\t\t            // do nothing\n\t\t\t        },\n\t\t\t        configurable: false,\n\t\t\t    });\n\t\t\t}\n\t\t\tvar processComponentStateFromProps = function (fiber) {\n\t\t\t    var Component = fiber.elementType;\n\t\t\t    var typedComponent = Component;\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var pendingProps = fiber.pendingProps;\n\t\t\t    var pendingState = fiber.pendingState;\n\t\t\t    if (typedComponent.getDerivedStateFromProps) {\n\t\t\t        var payloadState = safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallGetDerivedStateFromProps() {\n\t\t\t                var _a;\n\t\t\t                return (_a = typedComponent.getDerivedStateFromProps) === null || _a === void 0 ? void 0 : _a.call(typedComponent, pendingProps, pendingState);\n\t\t\t            },\n\t\t\t        });\n\t\t\t        if (payloadState) {\n\t\t\t            var newState = Object.assign({}, pendingState, payloadState);\n\t\t\t            typedInstance.state = newState;\n\t\t\t            fiber.pendingState = newState;\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processComponentInstanceOnMount = function (renderDispatch, fiber) {\n\t\t\t    var Component = fiber.elementType;\n\t\t\t    var typedComponent = Component;\n\t\t\t    var providerFiber = renderDispatch.resolveContextFiber(fiber, typedComponent.contextType);\n\t\t\t    var context = renderDispatch.resolveContextValue(providerFiber, typedComponent.contextType);\n\t\t\t    var props = Object.assign({}, fiber.pendingProps);\n\t\t\t    Object.freeze(props);\n\t\t\t    var instance = safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallCreateComponentInstance() {\n\t\t\t            return new typedComponent(props, context);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallInstanceInitialListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.instanceInitial) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(instance, fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    Object.freeze(instance.state);\n\t\t\t    instance.props = props;\n\t\t\t    instance.context = context;\n\t\t\t    fiber.instance = instance;\n\t\t\t    initInstance(instance);\n\t\t\t    initClassInstance(instance);\n\t\t\t    setOwnerForInstance(instance, fiber);\n\t\t\t    setContextForInstance(instance, providerFiber);\n\t\t\t    fiber.pendingState = instance.state;\n\t\t\t};\n\t\t\tvar processComponentFiberOnUpdate = function (renderDispatch, fiber) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallInstanceUpdateListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.instanceUpdate) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(typedInstance, fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    setOwnerForInstance(typedInstance, fiber);\n\t\t\t};\n\t\t\tvar processComponentRenderOnMountAndUpdate = function (fiber) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var children = safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallRender() {\n\t\t\t            return typedInstance.render();\n\t\t\t        },\n\t\t\t    });\n\t\t\t    return children;\n\t\t\t};\n\t\t\tvar processComponentDidMountOnMount = function (renderDispatch, fiber) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var effect = getInstanceEffectState(typedInstance);\n\t\t\t    if (myreactSharedExports.exclude(effect, myreactSharedExports.Effect_TYPE.__effect__)) {\n\t\t\t        setEffectForInstance(typedInstance, myreactSharedExports.Effect_TYPE.__effect__);\n\t\t\t        renderDispatch.pendingLayoutEffect(fiber, function invokeComponentDidMountOnInstance() {\n\t\t\t            var _a;\n\t\t\t            setEffectForInstance(typedInstance, myreactSharedExports.Effect_TYPE.__initial__);\n\t\t\t            (_a = typedInstance.componentDidMount) === null || _a === void 0 ? void 0 : _a.call(typedInstance);\n\t\t\t            mountClassInstance(typedInstance);\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processComponentContextOnUpdate = function (renderDispatch, fiber) {\n\t\t\t    var Component = fiber.elementType;\n\t\t\t    var typedComponent = Component;\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    if (typedComponent.contextType) {\n\t\t\t        var contextFiber = getInstanceContextFiber(typedInstance);\n\t\t\t        if (!contextFiber || myreactSharedExports.include(contextFiber.state, myreactSharedExports.STATE_TYPE.__unmount__)) {\n\t\t\t            var providerFiber = renderDispatch.resolveContextFiber(fiber, typedComponent.contextType);\n\t\t\t            var context = renderDispatch.resolveContextValue(providerFiber, typedComponent.contextType);\n\t\t\t            setContextForInstance(typedInstance, providerFiber);\n\t\t\t            return context;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            var context = renderDispatch.resolveContextValue(contextFiber, typedComponent.contextType);\n\t\t\t            setContextForInstance(typedInstance, contextFiber);\n\t\t\t            return context;\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processComponentPropsAndContextOnActive = function (renderDispatch, fiber) {\n\t\t\t    var props = Object.assign({}, fiber.pendingProps);\n\t\t\t    var context = processComponentContextOnUpdate(renderDispatch, fiber);\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    typedInstance.props = props;\n\t\t\t    typedInstance.context = context;\n\t\t\t};\n\t\t\tvar processComponentShouldUpdateOnUpdate = function (fiber, _a) {\n\t\t\t    var nextState = _a.nextState, nextProps = _a.nextProps, nextContext = _a.nextContext;\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    // if (include(fiber.state, STATE_TYPE.__triggerSync__ | STATE_TYPE.__triggerConcurrent__)) return true;\n\t\t\t    if (typedInstance.shouldComponentUpdate) {\n\t\t\t        return safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallShouldComponentUpdateOnInstance() {\n\t\t\t                var _a;\n\t\t\t                return (_a = typedInstance.shouldComponentUpdate) === null || _a === void 0 ? void 0 : _a.call(typedInstance, nextProps, nextState, nextContext);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    return true;\n\t\t\t};\n\t\t\tvar processComponentGetSnapshotOnUpdate = function (fiber, _a) {\n\t\t\t    var baseState = _a.baseState, baseProps = _a.baseProps;\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    if (typedInstance.getSnapshotBeforeUpdate) {\n\t\t\t        return safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallGetSnapshotBeforeUpdateOnInstance() {\n\t\t\t                var _a;\n\t\t\t                return (_a = typedInstance.getSnapshotBeforeUpdate) === null || _a === void 0 ? void 0 : _a.call(typedInstance, baseProps, baseState);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    return null;\n\t\t\t};\n\t\t\tvar processComponentDidUpdateOnUpdate = function (renderDispatch, fiber, _a) {\n\t\t\t    var baseState = _a.baseState, baseProps = _a.baseProps, snapshot = _a.snapshot;\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var effect = getInstanceEffectState(typedInstance);\n\t\t\t    if (typedInstance.componentDidUpdate && myreactSharedExports.exclude(effect, myreactSharedExports.Effect_TYPE.__effect__)) {\n\t\t\t        setEffectForInstance(typedInstance, myreactSharedExports.Effect_TYPE.__effect__);\n\t\t\t        renderDispatch.pendingLayoutEffect(fiber, function invokeComponentDidUpdateOnInstance() {\n\t\t\t            var _a;\n\t\t\t            setEffectForInstance(typedInstance, myreactSharedExports.Effect_TYPE.__initial__);\n\t\t\t            (_a = typedInstance.componentDidUpdate) === null || _a === void 0 ? void 0 : _a.call(typedInstance, baseProps, baseState, snapshot);\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tvar processComponentWillMountOnMount = function (fiber) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var hasLegacyLifeFunction = false;\n\t\t\t    if (typedInstance.UNSAFE_componentWillMount) {\n\t\t\t        hasLegacyLifeFunction = true;\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallUNSAFE_componentWillMountOnInstance() {\n\t\t\t                var _a;\n\t\t\t                (_a = typedInstance.UNSAFE_componentWillMount) === null || _a === void 0 ? void 0 : _a.call(typedInstance);\n\t\t\t            },\n\t\t\t        });\n\t\t\t        {\n\t\t\t            onceWarnWithKeyAndFiber(fiber, \"UNSAFE_componentWillMount\", \"[@my-react/react] current component have legacy lifeCycle function 'UNSAFE_componentWillMount'\");\n\t\t\t        }\n\t\t\t    }\n\t\t\t    if (typedInstance.componentWillMount) {\n\t\t\t        hasLegacyLifeFunction = true;\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallComponentWillMountOnInstance() {\n\t\t\t                var _a;\n\t\t\t                (_a = typedInstance.componentWillMount) === null || _a === void 0 ? void 0 : _a.call(typedInstance);\n\t\t\t            },\n\t\t\t        });\n\t\t\t        {\n\t\t\t            onceWarnWithKeyAndFiber(fiber, \"componentWillMount\", \"[@my-react/react] current component have legacy lifeCycle function 'componentWillMount'\");\n\t\t\t        }\n\t\t\t    }\n\t\t\t    return hasLegacyLifeFunction;\n\t\t\t};\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tvar processComponentWillReceiveProps = function (fiber) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var hasLegacyLifeFunction = false;\n\t\t\t    // only trigger on parent component update\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__inherit__)) {\n\t\t\t        if (typedInstance.UNSAFE_componentWillReceiveProps) {\n\t\t\t            hasLegacyLifeFunction = true;\n\t\t\t            var nextProps_1 = Object.assign({}, fiber.pendingProps);\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: fiber,\n\t\t\t                action: function safeCallUNSAFE_componentWillReceivePropsOnInstance() {\n\t\t\t                    var _a;\n\t\t\t                    (_a = typedInstance.UNSAFE_componentWillReceiveProps) === null || _a === void 0 ? void 0 : _a.call(typedInstance, nextProps_1);\n\t\t\t                },\n\t\t\t            });\n\t\t\t            {\n\t\t\t                onceWarnWithKeyAndFiber(fiber, \"UNSAFE_componentWillReceiveProps\", \"[@my-react/react] current component have legacy lifeCycle function 'UNSAFE_componentWillReceiveProps'\");\n\t\t\t            }\n\t\t\t        }\n\t\t\t        if (typedInstance.componentWillReceiveProps) {\n\t\t\t            hasLegacyLifeFunction = true;\n\t\t\t            var nextProps_2 = Object.assign({}, fiber.pendingProps);\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: fiber,\n\t\t\t                action: function safeCallComponentWillReceivePropsOnInstance() {\n\t\t\t                    var _a;\n\t\t\t                    (_a = typedInstance.componentWillReceiveProps) === null || _a === void 0 ? void 0 : _a.call(typedInstance, nextProps_2);\n\t\t\t                },\n\t\t\t            });\n\t\t\t            {\n\t\t\t                onceWarnWithKeyAndFiber(fiber, \"componentWillReceiveProps\", \"[@my-react/react] current component have legacy lifeCycle function 'componentWillReceiveProps'\");\n\t\t\t            }\n\t\t\t        }\n\t\t\t    }\n\t\t\t    return hasLegacyLifeFunction;\n\t\t\t};\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tvar processComponentWillUpdate = function (fiber, _a) {\n\t\t\t    var nextProps = _a.nextProps, nextState = _a.nextState;\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    if (typedInstance.UNSAFE_componentWillUpdate) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallUNSAFE_componentWillUpdateOnInstance() {\n\t\t\t                var _a;\n\t\t\t                (_a = typedInstance.UNSAFE_componentWillUpdate) === null || _a === void 0 ? void 0 : _a.call(typedInstance, nextProps, nextState);\n\t\t\t            },\n\t\t\t        });\n\t\t\t        {\n\t\t\t            onceWarnWithKeyAndFiber(fiber, \"UNSAFE_componentWillUpdate\", \"[@my-react/react] current component have legacy lifeCycle function 'UNSAFE_componentWillUpdate'\");\n\t\t\t        }\n\t\t\t    }\n\t\t\t    if (typedInstance.componentWillUpdate) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallComponentWillUpdateOnInstance() {\n\t\t\t                var _a;\n\t\t\t                (_a = typedInstance.componentWillUpdate) === null || _a === void 0 ? void 0 : _a.call(typedInstance, nextProps, nextState);\n\t\t\t            },\n\t\t\t        });\n\t\t\t        {\n\t\t\t            onceWarnWithKeyAndFiber(fiber, \"componentWillUpdate\", \"[@my-react/react] current component have legacy lifeCycle function 'componentWillUpdate'\");\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processClassComponentMount = function (renderDispatch, fiber) {\n\t\t\t    processComponentInstanceOnMount(renderDispatch, fiber);\n\t\t\t    processComponentStateFromProps(fiber);\n\t\t\t    // legacy lifeCycle\n\t\t\t    if (enableLegacyLifeCycle.current) {\n\t\t\t        beforeSyncFlush();\n\t\t\t        processComponentWillMountOnMount(fiber) && syncFlushComponentQueue(renderDispatch, fiber);\n\t\t\t        afterSyncFlush();\n\t\t\t    }\n\t\t\t    var children = processComponentRenderOnMountAndUpdate(fiber);\n\t\t\t    processComponentDidMountOnMount(renderDispatch, fiber);\n\t\t\t    return children;\n\t\t\t};\n\t\t\t// TODO\n\t\t\tvar processClassComponentActive = function (renderDispatch, fiber) {\n\t\t\t    processComponentFiberOnUpdate(renderDispatch, fiber);\n\t\t\t    processComponentPropsAndContextOnActive(renderDispatch, fiber);\n\t\t\t    var children = processComponentRenderOnMountAndUpdate(fiber);\n\t\t\t    processComponentDidMountOnMount(renderDispatch, fiber);\n\t\t\t    return children;\n\t\t\t};\n\t\t\t// TODO\n\t\t\tvar classComponentUpdateImpl = function (renderDispatch, fiber) {\n\t\t\t    processComponentFiberOnUpdate(renderDispatch, fiber);\n\t\t\t    processComponentStateFromProps(fiber);\n\t\t\t    if (enableLegacyLifeCycle.current) {\n\t\t\t        beforeSyncFlush();\n\t\t\t        processComponentWillReceiveProps(fiber) && syncFlushComponentQueue(renderDispatch, fiber);\n\t\t\t        afterSyncFlush();\n\t\t\t    }\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var baseState = typedInstance.state;\n\t\t\t    var baseProps = typedInstance.props;\n\t\t\t    // const baseContext = typedInstance.context;\n\t\t\t    var nextState = Object.assign({}, fiber.pendingState);\n\t\t\t    var nextProps = Object.assign({}, fiber.pendingProps);\n\t\t\t    var nextContext = processComponentContextOnUpdate(renderDispatch, fiber);\n\t\t\t    var shouldUpdate = Boolean(myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__triggerSyncForce__ | myreactSharedExports.STATE_TYPE.__triggerConcurrentForce__));\n\t\t\t    if (!shouldUpdate) {\n\t\t\t        shouldUpdate = processComponentShouldUpdateOnUpdate(fiber, {\n\t\t\t            nextState: nextState,\n\t\t\t            nextProps: nextProps,\n\t\t\t            nextContext: nextContext,\n\t\t\t        });\n\t\t\t    }\n\t\t\t    if (shouldUpdate && enableLegacyLifeCycle.current) {\n\t\t\t        processComponentWillUpdate(fiber, { nextProps: nextProps, nextState: nextState });\n\t\t\t    }\n\t\t\t    typedInstance.state = nextState;\n\t\t\t    typedInstance.props = nextProps;\n\t\t\t    typedInstance.context = nextContext;\n\t\t\t    if (shouldUpdate) {\n\t\t\t        var children = processComponentRenderOnMountAndUpdate(fiber);\n\t\t\t        var snapshot = processComponentGetSnapshotOnUpdate(fiber, { baseState: baseState, baseProps: baseProps });\n\t\t\t        processComponentDidUpdateOnUpdate(renderDispatch, fiber, {\n\t\t\t            snapshot: snapshot,\n\t\t\t            baseProps: baseProps,\n\t\t\t            baseState: baseState,\n\t\t\t        });\n\t\t\t        return { updated: true, children: children };\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        return { updated: false };\n\t\t\t    }\n\t\t\t};\n\t\t\tvar syncComponentStateToFiber = function (fiber) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    // sync pendingState\n\t\t\t    fiber.pendingState = Object.assign({}, typedInstance.state);\n\t\t\t};\n\t\t\tvar processClassComponentUpdate = function (renderDispatch, fiber) {\n\t\t\t    var res = classComponentUpdateImpl(renderDispatch, fiber);\n\t\t\t    syncComponentStateToFiber(fiber);\n\t\t\t    return res;\n\t\t\t};\n\t\t\tvar processClassComponentUnmount = function (renderDispatch, fiber) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    if (!typedInstance)\n\t\t\t        return;\n\t\t\t    var classField = getInstanceFieldByInstance(typedInstance);\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallInstanceUnmountListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.instanceUnmount) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(typedInstance, fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallComponentWillUnmountOnInstance() {\n\t\t\t            var _a;\n\t\t\t            if (classField.isMounted) {\n\t\t\t                (_a = typedInstance === null || typedInstance === void 0 ? void 0 : typedInstance.componentWillUnmount) === null || _a === void 0 ? void 0 : _a.call(typedInstance);\n\t\t\t            }\n\t\t\t        },\n\t\t\t    });\n\t\t\t};\n\n\t\t\t/* eslint-disable max-lines */\n\t\t\tvar enableDebugFiled$8 = react.__my_react_shared__.enableDebugFiled;\n\t\t\tvar currentScheduler$c = react.__my_react_internal__.currentScheduler;\n\t\t\t// TODO 整合\n\t\t\tvar processClassComponentUpdateQueue = function (renderDispatch, fiber, enableTaskPriority) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    if (myreactSharedExports.exclude(fiber.type, exports.NODE_TYPE.__class__))\n\t\t\t        throw new Error(\"[@my-react/react] current fiber is not a class component, look like a bug for @my-react\");\n\t\t\t    var renderScheduler = currentScheduler$c.current;\n\t\t\t    var allQueue = fiber.updateQueue;\n\t\t\t    var typedFiber = fiber;\n\t\t\t    var node = allQueue === null || allQueue === void 0 ? void 0 : allQueue.head;\n\t\t\t    var needUpdate = true;\n\t\t\t    var isSync = false;\n\t\t\t    var isForce = false;\n\t\t\t    var isImmediate = false;\n\t\t\t    var isRetrigger = false;\n\t\t\t    var callbacks = [];\n\t\t\t    var processedNodes = [];\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var baseState = Object.assign({}, fiber.pendingState);\n\t\t\t    var baseProps = Object.assign({}, typedInstance.props);\n\t\t\t    var pendingState = Object.assign({}, fiber.pendingState);\n\t\t\t    if (enableTaskPriority && allQueue.some(function (l) { return l.isSync; })) {\n\t\t\t        var _loop_1 = function () {\n\t\t\t            var updater = node.value;\n\t\t\t            var nextNode = node.next;\n\t\t\t            if (updater.type === myreactSharedExports.UpdateQueueType.component && updater.isSync) {\n\t\t\t                if (updater.trigger !== typedInstance) {\n\t\t\t                    throw new Error(\"[@my-react/react] current update not valid, look like a bug for @my-react\");\n\t\t\t                }\n\t\t\t                allQueue.delete(node);\n\t\t\t                {\n\t\t\t                    processedNodes.push(updater);\n\t\t\t                }\n\t\t\t                var payLoad_1 = updater.payLoad;\n\t\t\t                fiber.pendingState = safeCallWithCurrentFiber({\n\t\t\t                    fiber: fiber,\n\t\t\t                    fallback: function safeFallbackForState() {\n\t\t\t                        return pendingState;\n\t\t\t                    },\n\t\t\t                    action: function safeGetNextState() {\n\t\t\t                        return Object.assign({}, fiber.pendingState, typeof payLoad_1 === \"function\" ? payLoad_1(baseState, baseProps) : payLoad_1);\n\t\t\t                    },\n\t\t\t                });\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t                if (enableDebugFiled$8.current) {\n\t\t\t                    var typedNode = updater;\n\t\t\t                    typedNode._debugRunTime = Date.now();\n\t\t\t                    typedNode._debugBeforeValue = pendingState;\n\t\t\t                    typedNode._debugBaseValue = baseState;\n\t\t\t                    typedNode._debugAfterValue = fiber.pendingState;\n\t\t\t                    if (enableDebugUpdateQueue.current) {\n\t\t\t                        typedFiber._debugUpdateQueue = typedFiber._debugUpdateQueue || new myreactSharedExports.ListTree();\n\t\t\t                        typedFiber._debugUpdateQueue.push(typedNode);\n\t\t\t                    }\n\t\t\t                }\n\t\t\t            }\n\t\t\t            else if (updater.isSync) {\n\t\t\t                allQueue.delete(node);\n\t\t\t                {\n\t\t\t                    processedNodes.push(updater);\n\t\t\t                }\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t                if (enableDebugFiled$8.current) {\n\t\t\t                    var typedNode = updater;\n\t\t\t                    typedNode._debugRunTime = Date.now();\n\t\t\t                    typedNode._debugBeforeValue = pendingState;\n\t\t\t                    typedNode._debugBaseValue = baseState;\n\t\t\t                    typedNode._debugAfterValue = fiber.pendingState;\n\t\t\t                    if (enableDebugUpdateQueue.current) {\n\t\t\t                        typedFiber._debugUpdateQueue = typedFiber._debugUpdateQueue || new myreactSharedExports.ListTree();\n\t\t\t                        typedFiber._debugUpdateQueue.push(typedNode);\n\t\t\t                    }\n\t\t\t                }\n\t\t\t            }\n\t\t\t            node = nextNode;\n\t\t\t        };\n\t\t\t        while (node) {\n\t\t\t            _loop_1();\n\t\t\t        }\n\t\t\t        if (allQueue.length) {\n\t\t\t            renderScheduler.macroTask(function prepareUpdateOnFiberTask() {\n\t\t\t                prepareUpdateOnFiber(renderDispatch, fiber, true);\n\t\t\t            });\n\t\t\t        }\n\t\t\t        var invokeCallbackArray = callbacks.length\n\t\t\t            ? function invokeCallbackArray() {\n\t\t\t                return callbacks.forEach(function (cb) { return cb === null || cb === void 0 ? void 0 : cb(); });\n\t\t\t            }\n\t\t\t            : void 0;\n\t\t\t        {\n\t\t\t            return {\n\t\t\t                needUpdate: needUpdate,\n\t\t\t                nodes: processedNodes,\n\t\t\t                isSync: isSync,\n\t\t\t                isForce: isForce,\n\t\t\t                isImmediate: isImmediate,\n\t\t\t                isRetrigger: isRetrigger,\n\t\t\t                callback: invokeCallbackArray,\n\t\t\t            };\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        var _loop_2 = function () {\n\t\t\t            var updater = node.value;\n\t\t\t            var nextNode = node.next;\n\t\t\t            if (updater.type === myreactSharedExports.UpdateQueueType.component) {\n\t\t\t                if (updater.trigger !== typedInstance)\n\t\t\t                    throw new Error(\"[@my-react/react] current update not valid, look like a bug for @my-react\");\n\t\t\t                allQueue.delete(node);\n\t\t\t                {\n\t\t\t                    processedNodes.push(updater);\n\t\t\t                }\n\t\t\t                var payLoad_2 = updater.payLoad;\n\t\t\t                fiber.pendingState = safeCallWithCurrentFiber({\n\t\t\t                    fiber: fiber,\n\t\t\t                    fallback: function safeFallbackForState() {\n\t\t\t                        return pendingState;\n\t\t\t                    },\n\t\t\t                    action: function safeGetNextState() {\n\t\t\t                        return Object.assign({}, fiber.pendingState, typeof payLoad_2 === \"function\" ? payLoad_2(baseState, baseProps) : payLoad_2);\n\t\t\t                    },\n\t\t\t                });\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t                if (enableDebugFiled$8.current) {\n\t\t\t                    var typedNode = updater;\n\t\t\t                    typedNode._debugRunTime = Date.now();\n\t\t\t                    typedNode._debugBeforeValue = pendingState;\n\t\t\t                    typedNode._debugBaseValue = baseState;\n\t\t\t                    typedNode._debugAfterValue = fiber.pendingState;\n\t\t\t                    if (enableDebugUpdateQueue.current) {\n\t\t\t                        typedFiber._debugUpdateQueue = typedFiber._debugUpdateQueue || new myreactSharedExports.ListTree();\n\t\t\t                        typedFiber._debugUpdateQueue.push(typedNode);\n\t\t\t                    }\n\t\t\t                }\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                allQueue.delete(node);\n\t\t\t                {\n\t\t\t                    processedNodes.push(updater);\n\t\t\t                }\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t                if (enableDebugFiled$8.current) {\n\t\t\t                    var typedNode = updater;\n\t\t\t                    typedNode._debugRunTime = Date.now();\n\t\t\t                    typedNode._debugBeforeValue = pendingState;\n\t\t\t                    typedNode._debugBaseValue = baseState;\n\t\t\t                    typedNode._debugAfterValue = fiber.pendingState;\n\t\t\t                    if (enableDebugUpdateQueue.current) {\n\t\t\t                        typedFiber._debugUpdateQueue = typedFiber._debugUpdateQueue || new myreactSharedExports.ListTree();\n\t\t\t                        typedFiber._debugUpdateQueue.push(typedNode);\n\t\t\t                    }\n\t\t\t                }\n\t\t\t            }\n\t\t\t            node = nextNode;\n\t\t\t        };\n\t\t\t        while (node) {\n\t\t\t            _loop_2();\n\t\t\t        }\n\t\t\t        var invokeCallbackArray = callbacks.length\n\t\t\t            ? function invokeCallbackArray() {\n\t\t\t                return callbacks.forEach(function (cb) { return cb === null || cb === void 0 ? void 0 : cb(); });\n\t\t\t            }\n\t\t\t            : void 0;\n\t\t\t        {\n\t\t\t            return {\n\t\t\t                needUpdate: needUpdate,\n\t\t\t                nodes: processedNodes,\n\t\t\t                isSync: isSync,\n\t\t\t                isForce: isForce,\n\t\t\t                isImmediate: isImmediate,\n\t\t\t                isRetrigger: isRetrigger,\n\t\t\t                callback: invokeCallbackArray,\n\t\t\t            };\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processFunctionComponentUpdateQueue = function (renderDispatch, fiber, enableTaskPriority) {\n\t\t\t    var _a, _b;\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    if (myreactSharedExports.exclude(fiber.type, exports.NODE_TYPE.__function__)) {\n\t\t\t        throw new Error(\"[@my-react/react] current fiber is not a function component, look like a bug for @my-react\");\n\t\t\t    }\n\t\t\t    var renderScheduler = currentScheduler$c.current;\n\t\t\t    var allQueue = fiber.updateQueue;\n\t\t\t    var typedFiber = fiber;\n\t\t\t    var node = allQueue === null || allQueue === void 0 ? void 0 : allQueue.head;\n\t\t\t    var needUpdate = false;\n\t\t\t    var isSync = false;\n\t\t\t    var isForce = false;\n\t\t\t    var isImmediate = false;\n\t\t\t    var isRetrigger = false;\n\t\t\t    var processedNodes = [];\n\t\t\t    var callbacks = [];\n\t\t\t    if (enableTaskPriority && allQueue.some(function (l) { return l.isSync; })) {\n\t\t\t        var _loop_3 = function () {\n\t\t\t            var updater = node.value;\n\t\t\t            var nextNode = node.next;\n\t\t\t            if (updater.type === myreactSharedExports.UpdateQueueType.hook && updater.isSync) {\n\t\t\t                if (getInstanceOwnerFiber(updater.trigger) !== fiber) {\n\t\t\t                    throw new Error(\"[@my-react/react] current update not valid, look like a bug for @my-react\");\n\t\t\t                }\n\t\t\t                allQueue.delete(node);\n\t\t\t                {\n\t\t\t                    processedNodes.push(updater);\n\t\t\t                }\n\t\t\t                var trigger = updater.trigger, payLoad_3 = updater.payLoad, reducer_1 = updater.reducer;\n\t\t\t                var typedTrigger_1 = trigger;\n\t\t\t                var lastResult_1 = typedTrigger_1.result;\n\t\t\t                if (typedTrigger_1.type === myreactSharedExports.HOOK_TYPE.useSyncExternalStore) {\n\t\t\t                    lastResult_1 = (_a = trigger.value) === null || _a === void 0 ? void 0 : _a.result;\n\t\t\t                }\n\t\t\t                var hasError_1 = false;\n\t\t\t                typedTrigger_1.result = safeCallWithCurrentFiber({\n\t\t\t                    fiber: fiber,\n\t\t\t                    fallback: function safeFallbackForState() {\n\t\t\t                        hasError_1 = true;\n\t\t\t                        return lastResult_1;\n\t\t\t                    },\n\t\t\t                    action: function safeGetNextState() {\n\t\t\t                        if (reducer_1 && typeof reducer_1 === \"function\") {\n\t\t\t                            return reducer_1(lastResult_1, payLoad_3);\n\t\t\t                        }\n\t\t\t                        else {\n\t\t\t                            return typedTrigger_1.reducer(lastResult_1, payLoad_3);\n\t\t\t                        }\n\t\t\t                    },\n\t\t\t                });\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t                if (!needUpdate && (isForce || hasError_1 || callbacks.length || !Object.is(lastResult_1, typedTrigger_1.result)))\n\t\t\t                    needUpdate = true;\n\t\t\t                if (enableDebugFiled$8.current) {\n\t\t\t                    var typedNode = updater;\n\t\t\t                    typedNode._debugRunTime = Date.now();\n\t\t\t                    typedNode._debugBeforeValue = lastResult_1;\n\t\t\t                    typedNode._debugAfterValue = typedTrigger_1.result;\n\t\t\t                    if (enableDebugUpdateQueue.current) {\n\t\t\t                        typedFiber._debugUpdateQueue = typedFiber._debugUpdateQueue || new myreactSharedExports.ListTree();\n\t\t\t                        typedFiber._debugUpdateQueue.push(typedNode);\n\t\t\t                        typedTrigger_1._debugUpdateQueue = typedTrigger_1._debugUpdateQueue || new myreactSharedExports.ListTree();\n\t\t\t                        typedTrigger_1._debugUpdateQueue.push(typedNode);\n\t\t\t                    }\n\t\t\t                }\n\t\t\t            }\n\t\t\t            else if (updater.isSync) {\n\t\t\t                allQueue.delete(node);\n\t\t\t                {\n\t\t\t                    processedNodes.push(updater);\n\t\t\t                }\n\t\t\t                var payLoad = updater.payLoad;\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t                needUpdate = true;\n\t\t\t                if (enableDebugFiled$8.current) {\n\t\t\t                    var typedNode = updater;\n\t\t\t                    typedNode._debugRunTime = Date.now();\n\t\t\t                    typedNode._debugBeforeValue = undefined;\n\t\t\t                    typedNode._debugAfterValue = payLoad;\n\t\t\t                    if (enableDebugUpdateQueue.current) {\n\t\t\t                        typedFiber._debugUpdateQueue = typedFiber._debugUpdateQueue || new myreactSharedExports.ListTree();\n\t\t\t                        typedFiber._debugUpdateQueue.push(typedNode);\n\t\t\t                    }\n\t\t\t                }\n\t\t\t            }\n\t\t\t            node = nextNode;\n\t\t\t        };\n\t\t\t        while (node) {\n\t\t\t            _loop_3();\n\t\t\t        }\n\t\t\t        if (allQueue.length) {\n\t\t\t            renderScheduler.macroTask(function prepareUpdateOnFiberTask() {\n\t\t\t                prepareUpdateOnFiber(renderDispatch, fiber, true);\n\t\t\t            });\n\t\t\t        }\n\t\t\t        var invokeCallbackArray = callbacks.length\n\t\t\t            ? function invokeCallbackArray() {\n\t\t\t                return callbacks.forEach(function (cb) { return cb === null || cb === void 0 ? void 0 : cb(); });\n\t\t\t            }\n\t\t\t            : void 0;\n\t\t\t        {\n\t\t\t            return {\n\t\t\t                needUpdate: needUpdate,\n\t\t\t                nodes: processedNodes,\n\t\t\t                isSync: isSync,\n\t\t\t                isForce: isForce,\n\t\t\t                isImmediate: isImmediate,\n\t\t\t                isRetrigger: isRetrigger,\n\t\t\t                callback: invokeCallbackArray,\n\t\t\t            };\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        var _loop_4 = function () {\n\t\t\t            var updater = node.value;\n\t\t\t            var nextNode = node.next;\n\t\t\t            if (updater.type === myreactSharedExports.UpdateQueueType.hook) {\n\t\t\t                if (getInstanceOwnerFiber(updater.trigger) !== fiber) {\n\t\t\t                    throw new Error(\"[@my-react/react] current update not valid, look like a bug for @my-react\");\n\t\t\t                }\n\t\t\t                allQueue.delete(node);\n\t\t\t                {\n\t\t\t                    processedNodes.push(updater);\n\t\t\t                }\n\t\t\t                var trigger = updater.trigger, payLoad_4 = updater.payLoad, reducer_2 = updater.reducer;\n\t\t\t                var typedTrigger_2 = trigger;\n\t\t\t                var lastResult_2 = typedTrigger_2.result;\n\t\t\t                if (typedTrigger_2.type === myreactSharedExports.HOOK_TYPE.useSyncExternalStore) {\n\t\t\t                    lastResult_2 = (_b = trigger.value) === null || _b === void 0 ? void 0 : _b.result;\n\t\t\t                }\n\t\t\t                var hasError_2 = false;\n\t\t\t                typedTrigger_2.result = safeCallWithCurrentFiber({\n\t\t\t                    fiber: fiber,\n\t\t\t                    fallback: function safeFallbackForState() {\n\t\t\t                        hasError_2 = true;\n\t\t\t                        return lastResult_2;\n\t\t\t                    },\n\t\t\t                    action: function safeGetNextState() {\n\t\t\t                        if (reducer_2 && typeof reducer_2 === \"function\") {\n\t\t\t                            return reducer_2(lastResult_2, payLoad_4);\n\t\t\t                        }\n\t\t\t                        else {\n\t\t\t                            return typedTrigger_2.reducer(lastResult_2, payLoad_4);\n\t\t\t                        }\n\t\t\t                    },\n\t\t\t                });\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t                if (!needUpdate && (isForce || hasError_2 || callbacks.length || !Object.is(lastResult_2, typedTrigger_2.result)))\n\t\t\t                    needUpdate = true;\n\t\t\t                if (enableDebugFiled$8.current) {\n\t\t\t                    var typedNode = updater;\n\t\t\t                    typedNode._debugRunTime = Date.now();\n\t\t\t                    typedNode._debugBeforeValue = lastResult_2;\n\t\t\t                    typedNode._debugAfterValue = typedTrigger_2.result;\n\t\t\t                    if (enableDebugUpdateQueue.current) {\n\t\t\t                        typedFiber._debugUpdateQueue = typedFiber._debugUpdateQueue || new myreactSharedExports.ListTree();\n\t\t\t                        typedFiber._debugUpdateQueue.push(typedNode);\n\t\t\t                        typedTrigger_2._debugUpdateQueue = typedTrigger_2._debugUpdateQueue || new myreactSharedExports.ListTree();\n\t\t\t                        typedTrigger_2._debugUpdateQueue.push(typedNode);\n\t\t\t                    }\n\t\t\t                }\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                allQueue.delete(node);\n\t\t\t                {\n\t\t\t                    processedNodes.push(updater);\n\t\t\t                }\n\t\t\t                var payLoad = updater.payLoad;\n\t\t\t                isSync = isSync || updater.isSync;\n\t\t\t                isForce = isForce || updater.isForce;\n\t\t\t                isImmediate = isImmediate || updater.isImmediate;\n\t\t\t                isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t                updater.callback && callbacks.push(updater.callback);\n\t\t\t                needUpdate = true;\n\t\t\t                if (enableDebugFiled$8.current) {\n\t\t\t                    var typedNode = updater;\n\t\t\t                    typedNode._debugRunTime = Date.now();\n\t\t\t                    typedNode._debugBeforeValue = undefined;\n\t\t\t                    typedNode._debugAfterValue = payLoad;\n\t\t\t                    if (enableDebugUpdateQueue.current) {\n\t\t\t                        typedFiber._debugUpdateQueue = typedFiber._debugUpdateQueue || new myreactSharedExports.ListTree();\n\t\t\t                        typedFiber._debugUpdateQueue.push(typedNode);\n\t\t\t                    }\n\t\t\t                }\n\t\t\t            }\n\t\t\t            node = nextNode;\n\t\t\t        };\n\t\t\t        while (node) {\n\t\t\t            _loop_4();\n\t\t\t        }\n\t\t\t        var invokeCallbackArray = callbacks.length\n\t\t\t            ? function invokeCallbackArray() {\n\t\t\t                return callbacks.forEach(function (cb) { return cb === null || cb === void 0 ? void 0 : cb(); });\n\t\t\t            }\n\t\t\t            : void 0;\n\t\t\t        {\n\t\t\t            return {\n\t\t\t                needUpdate: needUpdate,\n\t\t\t                nodes: processedNodes,\n\t\t\t                isSync: isSync,\n\t\t\t                isForce: isForce,\n\t\t\t                isImmediate: isImmediate,\n\t\t\t                isRetrigger: isRetrigger,\n\t\t\t                callback: invokeCallbackArray,\n\t\t\t            };\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processNormalComponentUpdate = function (fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var allQueue = fiber.updateQueue;\n\t\t\t    var typedFiber = fiber;\n\t\t\t    var node = allQueue === null || allQueue === void 0 ? void 0 : allQueue.head;\n\t\t\t    var needUpdate = true;\n\t\t\t    var isSync = false;\n\t\t\t    var isForce = false;\n\t\t\t    var isImmediate = false;\n\t\t\t    var isRetrigger = false;\n\t\t\t    var processedNodes = [];\n\t\t\t    var callbacks = [];\n\t\t\t    while (node) {\n\t\t\t        var updater = node.value;\n\t\t\t        var nextNode = node.next;\n\t\t\t        allQueue.delete(node);\n\t\t\t        {\n\t\t\t            processedNodes.push(updater);\n\t\t\t        }\n\t\t\t        var payLoad = updater.payLoad;\n\t\t\t        isSync = isSync || updater.isSync;\n\t\t\t        isForce = isForce || updater.isForce;\n\t\t\t        isImmediate = isImmediate || updater.isImmediate;\n\t\t\t        isRetrigger = isRetrigger || updater.isRetrigger;\n\t\t\t        updater.callback && callbacks.push(updater.callback);\n\t\t\t        if (enableDebugFiled$8.current) {\n\t\t\t            var typedNode = updater;\n\t\t\t            typedNode._debugRunTime = Date.now();\n\t\t\t            typedNode._debugBeforeValue = undefined;\n\t\t\t            typedNode._debugAfterValue = payLoad;\n\t\t\t            if (enableDebugUpdateQueue.current) {\n\t\t\t                typedFiber._debugUpdateQueue = typedFiber._debugUpdateQueue || new myreactSharedExports.ListTree();\n\t\t\t                typedFiber._debugUpdateQueue.push(typedNode);\n\t\t\t            }\n\t\t\t        }\n\t\t\t        node = nextNode;\n\t\t\t    }\n\t\t\t    var invokeCallbackArray = callbacks.length\n\t\t\t        ? function invokeCallbackArray() {\n\t\t\t            return callbacks.forEach(function (cb) { return cb === null || cb === void 0 ? void 0 : cb(); });\n\t\t\t        }\n\t\t\t        : void 0;\n\t\t\t    {\n\t\t\t        return {\n\t\t\t            needUpdate: needUpdate,\n\t\t\t            nodes: processedNodes,\n\t\t\t            isSync: isSync,\n\t\t\t            isForce: isForce,\n\t\t\t            isImmediate: isImmediate,\n\t\t\t            isRetrigger: isRetrigger,\n\t\t\t            callback: invokeCallbackArray,\n\t\t\t        };\n\t\t\t    }\n\t\t\t};\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tvar syncFiberStateToComponent = function (renderDispatch, fiber, callback) {\n\t\t\t    var typedInstance = fiber.instance;\n\t\t\t    var typedPendingState = fiber.pendingState;\n\t\t\t    typedInstance.state = Object.assign({}, typedInstance.state, typedPendingState);\n\t\t\t    callback && renderDispatch.pendingLayoutEffect(fiber, callback, { stickyToFoot: true });\n\t\t\t};\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tvar syncFlushComponentQueue = function (renderDispatch, fiber) {\n\t\t\t    var _a = processClassComponentUpdateQueue(renderDispatch, fiber), needUpdate = _a.needUpdate, callback = _a.callback;\n\t\t\t    needUpdate && syncFiberStateToComponent(renderDispatch, fiber, callback);\n\t\t\t    syncComponentStateToFiber(fiber);\n\t\t\t};\n\n\t\t\tvar currentComponentFiber$4 = react.__my_react_internal__.currentComponentFiber, currentRunningFiber$1 = react.__my_react_internal__.currentRunningFiber;\n\t\t\tvar enableDebugFiled$7 = react.__my_react_shared__.enableDebugFiled;\n\t\t\tvar MAX_UPDATE_COUNT = 25;\n\t\t\tvar lastRenderComponentFiber = null;\n\t\t\tvar lastRenderComponentTimeStep = null;\n\t\t\tvar renderCount = 0;\n\t\t\tvar processState = function (renderDispatch, _params) {\n\t\t\t    if (enableDebugFiled$7.current) {\n\t\t\t        var typedUpdateQueue = _params;\n\t\t\t        typedUpdateQueue._debugCreateTime = Date.now();\n\t\t\t        typedUpdateQueue._debugType = myreactSharedExports.UpdateQueueType[_params.type];\n\t\t\t    }\n\t\t\t    var ownerFiber = getInstanceOwnerFiber(_params.trigger);\n\t\t\t    if (!renderDispatch)\n\t\t\t        return;\n\t\t\t    _params.isRetrigger = currentRunningFiber$1.current === ownerFiber || !!_params.isRetrigger;\n\t\t\t    _params.isImmediate =\n\t\t\t        typeof _params.isImmediate === \"boolean\"\n\t\t\t            ? _params.isImmediate\n\t\t\t            : _params.isRetrigger || (renderDispatch.isAppMounted ? !!currentRunningFiber$1.current : false);\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: ownerFiber,\n\t\t\t        action: function safeCallFiberStateListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberState) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(ownerFiber, _params); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    var isImmediate = _params.isImmediate;\n\t\t\t    _params.isRetrigger;\n\t\t\t    if (_params.type === myreactSharedExports.UpdateQueueType.component) {\n\t\t\t        if (!ownerFiber || myreactSharedExports.include(ownerFiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t            return;\n\t\t\t        if (!exports.syncFlush && currentComponentFiber$4.current) {\n\t\t\t            var currentRFiber = currentRunningFiber$1.current;\n\t\t\t            var currentCFiber = currentComponentFiber$4.current;\n\t\t\t            var now = Date.now();\n\t\t\t            if (lastRenderComponentFiber === currentCFiber) {\n\t\t\t                if (lastRenderComponentTimeStep && now - lastRenderComponentTimeStep < 4) {\n\t\t\t                    renderCount++;\n\t\t\t                }\n\t\t\t                else {\n\t\t\t                    renderCount = 0;\n\t\t\t                }\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                renderCount = 0;\n\t\t\t            }\n\t\t\t            if (renderCount > MAX_UPDATE_COUNT) {\n\t\t\t                renderCount = 0;\n\t\t\t                throw new Error(\"[@my-react/react] look like there are infinity update for current component \".concat(currentComponentFiber$4.current && getElementName(currentComponentFiber$4.current)));\n\t\t\t            }\n\t\t\t            else if (!isErrorBoundariesComponent(ownerFiber)) {\n\t\t\t                var triggeredElementName = getElementName(ownerFiber);\n\t\t\t                var currentElementName = getElementName(currentCFiber);\n\t\t\t                if (enableLogForCurrentFlowIsRunning.current) {\n\t\t\t                    onceWarnWithKeyAndFiber(currentRFiber, \"updateWhenCurrentFlowIsRunning-\".concat(triggeredElementName), \"[@my-react/react] trigger an update for \".concat(triggeredElementName, \" when current update flow is running, this is a unexpected behavior, please make sure current render function for \").concat(currentElementName, \" is a pure function\"));\n\t\t\t                }\n\t\t\t            }\n\t\t\t            lastRenderComponentFiber = currentCFiber;\n\t\t\t            lastRenderComponentTimeStep = now;\n\t\t\t        }\n\t\t\t        var trigger_1 = _params.trigger;\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: ownerFiber,\n\t\t\t            action: function safeCallInstanceStateListener() {\n\t\t\t                var _a, _b;\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.instanceState) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(trigger_1, ownerFiber, _params); });\n\t\t\t            },\n\t\t\t        });\n\t\t\t        ownerFiber.updateQueue = ownerFiber.updateQueue || new myreactSharedExports.ListTree();\n\t\t\t        ownerFiber.updateQueue.push(_params);\n\t\t\t        prepareUpdateOnFiber(renderDispatch, ownerFiber, isImmediate);\n\t\t\t    }\n\t\t\t    else if (_params.type === myreactSharedExports.UpdateQueueType.hook) {\n\t\t\t        if (!ownerFiber || myreactSharedExports.include(ownerFiber === null || ownerFiber === void 0 ? void 0 : ownerFiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t            return;\n\t\t\t        if (!exports.syncFlush && currentComponentFiber$4.current) {\n\t\t\t            var currentRFiber = currentRunningFiber$1.current;\n\t\t\t            var currentCFiber = currentComponentFiber$4.current;\n\t\t\t            var now = Date.now();\n\t\t\t            if (lastRenderComponentFiber === currentCFiber) {\n\t\t\t                if (lastRenderComponentTimeStep && now - lastRenderComponentTimeStep < 4) {\n\t\t\t                    renderCount++;\n\t\t\t                }\n\t\t\t                else {\n\t\t\t                    renderCount = 0;\n\t\t\t                }\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                renderCount = 0;\n\t\t\t            }\n\t\t\t            if (renderCount > MAX_UPDATE_COUNT) {\n\t\t\t                renderCount = 0;\n\t\t\t                throw new Error(\"[@my-react/react] look like there are infinity update for current component \".concat(currentComponentFiber$4.current && getElementName(currentComponentFiber$4.current)));\n\t\t\t            }\n\t\t\t            else if (!isErrorBoundariesComponent(ownerFiber)) {\n\t\t\t                var triggeredElementName = getElementName(ownerFiber);\n\t\t\t                var currentElementName = getElementName(currentCFiber);\n\t\t\t                if (enableLogForCurrentFlowIsRunning.current) {\n\t\t\t                    onceWarnWithKeyAndFiber(currentRFiber, \"updateWhenCurrentFlowIsRunning-\".concat(triggeredElementName), \"[@my-react/react] trigger an update for \".concat(triggeredElementName, \" when current update flow is running, this is a unexpected behavior, please make sure current render function for \").concat(currentElementName, \" is a pure function\"));\n\t\t\t                }\n\t\t\t            }\n\t\t\t            lastRenderComponentFiber = currentCFiber;\n\t\t\t            lastRenderComponentTimeStep = now;\n\t\t\t        }\n\t\t\t        var trigger_2 = _params.trigger;\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: ownerFiber,\n\t\t\t            action: function safeCallHookStateListener() {\n\t\t\t                var _a, _b;\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.hookState) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(trigger_2, ownerFiber, _params); });\n\t\t\t            },\n\t\t\t        });\n\t\t\t        ownerFiber.updateQueue = ownerFiber.updateQueue || new myreactSharedExports.ListTree();\n\t\t\t        ownerFiber.updateQueue.push(_params);\n\t\t\t        prepareUpdateOnFiber(renderDispatch, ownerFiber, isImmediate);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        var ownerFiber_1 = _params.trigger;\n\t\t\t        if (!ownerFiber_1 || myreactSharedExports.include(ownerFiber_1.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t            return;\n\t\t\t        ownerFiber_1.updateQueue = ownerFiber_1.updateQueue || new myreactSharedExports.ListTree();\n\t\t\t        ownerFiber_1.updateQueue.push(_params);\n\t\t\t        prepareUpdateOnFiber(renderDispatch, ownerFiber_1, isImmediate);\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar defaultGenerateUnmountMap = function (fiber, unmount, map) {\n\t\t\t    var list = map.get(fiber) || new myreactSharedExports.ListTree();\n\t\t\t    var newList = generateFiberToUnmountList(unmount);\n\t\t\t    map.set(fiber, list.concat(newList));\n\t\t\t};\n\t\t\tvar defaultDispatchUnmount = function (renderDispatch) {\n\t\t\t    if (renderDispatch.isAppUnmounted)\n\t\t\t        return;\n\t\t\t    var rootFiber = renderDispatch.rootFiber;\n\t\t\t    unmountFiber(renderDispatch, rootFiber);\n\t\t\t    clearContainer(renderDispatch);\n\t\t\t};\n\t\t\tvar defaultInvokeUnmountList = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.patch, myreactSharedExports.PATCH_TYPE.__unmount__)) {\n\t\t\t        var unmountMap = renderDispatch.runtimeMap.unmountMap;\n\t\t\t        var allUnmount_1 = unmountMap.get(fiber);\n\t\t\t        unmountMap.delete(fiber);\n\t\t\t        if (allUnmount_1 && allUnmount_1.length)\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: fiber,\n\t\t\t                action: function safeCallUnmountList() {\n\t\t\t                    unmountList(renderDispatch, allUnmount_1);\n\t\t\t                },\n\t\t\t            });\n\t\t\t        fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__unmount__);\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar unmountList = function (renderDispatch, list) {\n\t\t\t    // will happen when app crash\n\t\t\t    list.listToFoot(function invokeUnmountPendingList(f) {\n\t\t\t        defaultInvokeUnmountList(renderDispatch, f);\n\t\t\t    });\n\t\t\t    list.listToFoot(function invokeFiberUnmountList(f) {\n\t\t\t        unmountFiberNode(renderDispatch, f);\n\t\t\t    });\n\t\t\t};\n\t\t\t// unmount current fiber\n\t\t\tvar unmountFiber = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var list = generateFiberToUnmountList(fiber);\n\t\t\t    unmountList(renderDispatch, list);\n\t\t\t};\n\t\t\t// unmount current container with safe\n\t\t\tvar unmountContainer = function (renderDispatch, cb) {\n\t\t\t    renderDispatch.reconcileUnmount();\n\t\t\t    cb === null || cb === void 0 ? void 0 : cb();\n\t\t\t    currentTriggerFiber.current = null;\n\t\t\t};\n\t\t\tvar clearContainer = function (renderDispatch) {\n\t\t\t    var _a, _b, _c, _d;\n\t\t\t    renderDispatch.pendingCommitFiberPatch = myreactSharedExports.PATCH_TYPE.__initial__;\n\t\t\t    (_a = renderDispatch.pendingUpdateFiberArray) === null || _a === void 0 ? void 0 : _a.clear();\n\t\t\t    (_b = renderDispatch.pendingSuspenseFiberArray) === null || _b === void 0 ? void 0 : _b.clear();\n\t\t\t    (_c = renderDispatch.pendingCommitFiberList) === null || _c === void 0 ? void 0 : _c.clear();\n\t\t\t    (_d = renderDispatch.pendingChangedFiberList) === null || _d === void 0 ? void 0 : _d.clear();\n\t\t\t    renderDispatch.resetUpdateFlowRuntimeFiber();\n\t\t\t    renderDispatch.isAppMounted = false;\n\t\t\t    renderDispatch.isAppUnmounted = true;\n\t\t\t};\n\n\t\t\tvar globalLoop$3 = react.__my_react_internal__.globalLoop, currentScheduler$b = react.__my_react_internal__.currentScheduler, currentError = react.__my_react_internal__.currentError;\n\t\t\tvar applyTriggerFiberCb = function (renderDispatch, fiber) {\n\t\t\t    var _a, _b;\n\t\t\t    var cbArray = renderDispatch.runtimeMap.triggerCallbackMap.get(fiber);\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__class__)) {\n\t\t\t        (_a = cbArray === null || cbArray === void 0 ? void 0 : cbArray.listToFoot) === null || _a === void 0 ? void 0 : _a.call(cbArray, function (cb) {\n\t\t\t            renderDispatch.pendingLayoutEffect(fiber, cb, { stickyToFoot: true });\n\t\t\t        });\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        (_b = cbArray === null || cbArray === void 0 ? void 0 : cbArray.listToFoot) === null || _b === void 0 ? void 0 : _b.call(cbArray, function (cb) {\n\t\t\t            renderDispatch.pendingEffect(fiber, cb, { stickyToFoot: true });\n\t\t\t        });\n\t\t\t    }\n\t\t\t    renderDispatch.runtimeMap.triggerCallbackMap.delete(fiber);\n\t\t\t};\n\t\t\t/**\n\t\t\t * only used for dev HMR\n\t\t\t * only invoke on the errorCatchFiber\n\t\t\t */\n\t\t\tvar triggerRevert = function (renderDispatch, fiber, cb) {\n\t\t\t    {\n\t\t\t        if (!isErrorBoundariesComponent(fiber))\n\t\t\t            return;\n\t\t\t        var instance = fiber.instance;\n\t\t\t        instance === null || instance === void 0 ? void 0 : instance.setState(fiber.memoizedState, function finishTriggerRevertOnFiber() {\n\t\t\t            renderDispatch.runtimeFiber.errorCatchFiber = null;\n\t\t\t            fiber.memoizedState = null;\n\t\t\t            cb === null || cb === void 0 ? void 0 : cb();\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\t\t\tvar triggerUpdate = function (renderDispatch, fiber, state, cb) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var renderScheduler = currentScheduler$b.current;\n\t\t\t    if (!renderDispatch || !renderDispatch.enableUpdate)\n\t\t\t        return;\n\t\t\t    if (renderDispatch.isAppCrashed)\n\t\t\t        return;\n\t\t\t    if (renderDispatch.isAppUnmounted)\n\t\t\t        return;\n\t\t\t    // TODO\n\t\t\t    if (!renderDispatch.isAppMounted) {\n\t\t\t        devWarnWithFiber(fiber, \"[@my-react/react] pending, waiting for app mounted\");\n\t\t\t        renderScheduler.macroTask(function scheduleUpdateBeforeMount() {\n\t\t\t            triggerUpdate(renderDispatch, fiber, state, cb);\n\t\t\t        });\n\t\t\t        return;\n\t\t\t    }\n\t\t\t    if (typeof state === \"function\") {\n\t\t\t        cb = state;\n\t\t\t        state = myreactSharedExports.STATE_TYPE.__triggerConcurrent__;\n\t\t\t    }\n\t\t\t    state = state || myreactSharedExports.STATE_TYPE.__triggerSync__;\n\t\t\t    if (fiber.state === myreactSharedExports.STATE_TYPE.__stable__) {\n\t\t\t        fiber.state = state;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        fiber.state = myreactSharedExports.merge(fiber.state, state);\n\t\t\t    }\n\t\t\t    renderDispatch.pendingUpdateFiberArray.uniPush(fiber);\n\t\t\t    if (cb) {\n\t\t\t        var map = renderDispatch.runtimeMap.triggerCallbackMap;\n\t\t\t        var exist = map.get(fiber) || new myreactSharedExports.ListTree();\n\t\t\t        exist.push(cb);\n\t\t\t        map.set(fiber, exist);\n\t\t\t    }\n\t\t\t    if (globalLoop$3.current)\n\t\t\t        return;\n\t\t\t    globalLoop$3.current = true;\n\t\t\t    scheduleUpdate(renderDispatch);\n\t\t\t};\n\t\t\t// TODO: error flow\n\t\t\t// currently only work render flow\n\t\t\t// commit flow not work as expected\n\t\t\tvar triggerError = function (renderDispatch, fiber, error, cb) {\n\t\t\t    var _a;\n\t\t\t    var renderScheduler = currentScheduler$b.current;\n\t\t\t    var errorBoundariesFiber = renderDispatch.resolveErrorBoundaries(fiber);\n\t\t\t    if (errorBoundariesFiber) {\n\t\t\t        defaultDeleteChildEffect(renderDispatch, fiber);\n\t\t\t        var typedComponent = errorBoundariesFiber.elementType;\n\t\t\t        var typedInstance_1 = errorBoundariesFiber.instance;\n\t\t\t        var payloadState = (_a = typedComponent.getDerivedStateFromError) === null || _a === void 0 ? void 0 : _a.call(typedComponent, error);\n\t\t\t        if (!errorBoundariesFiber.memoizedState) {\n\t\t\t            errorBoundariesFiber.memoizedState = Object.assign({}, errorBoundariesFiber.pendingState);\n\t\t\t        }\n\t\t\t        if (renderDispatch.runtimeFiber.nextWorkingFiber) {\n\t\t\t            var updateQueue = {\n\t\t\t                type: myreactSharedExports.UpdateQueueType.component,\n\t\t\t                trigger: typedInstance_1,\n\t\t\t                payLoad: payloadState,\n\t\t\t                isSync: true,\n\t\t\t                isForce: true,\n\t\t\t                isRetrigger: true,\n\t\t\t                isImmediate: true,\n\t\t\t                callback: function finishTriggerErrorOnFiber() {\n\t\t\t                    var _a;\n\t\t\t                    (_a = typedInstance_1.componentDidCatch) === null || _a === void 0 ? void 0 : _a.call(typedInstance_1, error, { componentStack: renderScheduler.getFiberTree(fiber) });\n\t\t\t                    renderDispatch.runtimeFiber.errorCatchFiber = errorBoundariesFiber;\n\t\t\t                    cb === null || cb === void 0 ? void 0 : cb();\n\t\t\t                    currentError.current = null;\n\t\t\t                },\n\t\t\t            };\n\t\t\t            errorBoundariesFiber.state = myreactSharedExports.merge(errorBoundariesFiber.state, myreactSharedExports.STATE_TYPE.__create__);\n\t\t\t            errorBoundariesFiber.state = myreactSharedExports.merge(errorBoundariesFiber.state, myreactSharedExports.STATE_TYPE.__triggerSyncForce__);\n\t\t\t            processState(renderDispatch, updateQueue);\n\t\t\t            syncFiberStateToComponent(renderDispatch, errorBoundariesFiber);\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            var updateQueue = {\n\t\t\t                type: myreactSharedExports.UpdateQueueType.component,\n\t\t\t                trigger: typedInstance_1,\n\t\t\t                payLoad: payloadState,\n\t\t\t                isSync: true,\n\t\t\t                isForce: true,\n\t\t\t                isRetrigger: false,\n\t\t\t                isImmediate: false,\n\t\t\t                callback: function finishTriggerErrorOnFiber() {\n\t\t\t                    var _a;\n\t\t\t                    (_a = typedInstance_1.componentDidCatch) === null || _a === void 0 ? void 0 : _a.call(typedInstance_1, error, { componentStack: renderScheduler.getFiberTree(fiber) });\n\t\t\t                    renderDispatch.runtimeFiber.errorCatchFiber = errorBoundariesFiber;\n\t\t\t                    cb === null || cb === void 0 ? void 0 : cb();\n\t\t\t                    currentError.current = null;\n\t\t\t                },\n\t\t\t            };\n\t\t\t            processState(renderDispatch, updateQueue);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        if (renderDispatch.isAppCrashed)\n\t\t\t            return;\n\t\t\t        renderDispatch.pendingUpdateFiberArray.clear();\n\t\t\t        renderDispatch.resetUpdateFlowRuntimeFiber();\n\t\t\t        renderDispatch.isAppCrashed = true;\n\t\t\t        globalLoop$3.current = false;\n\t\t\t        {\n\t\t\t            currentTriggerFiber.current = null;\n\t\t\t            devErrorWithFiber(fiber, \"[@my-react/react] a uncaught exception have been throw, current App will been unmount\");\n\t\t\t            unmountContainer(renderDispatch, cb);\n\t\t\t            throw error;\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar globalLoop$2 = react.__my_react_internal__.globalLoop, currentScheduler$a = react.__my_react_internal__.currentScheduler;\n\t\t\tvar enableConcurrentMode$1 = react.__my_react_shared__.enableConcurrentMode;\n\t\t\tvar scheduleUpdateFromRoot = function (renderDispatch) {\n\t\t\t    var allLive = renderDispatch.pendingUpdateFiberArray.getAll().filter(function (f) { return myreactSharedExports.exclude(f.state, myreactSharedExports.STATE_TYPE.__unmount__); });\n\t\t\t    renderDispatch.pendingUpdateFiberArray.clear();\n\t\t\t    if (allLive.length) {\n\t\t\t        renderDispatch.runtimeFiber.scheduledFiber = renderDispatch.rootFiber;\n\t\t\t        renderDispatch.runtimeFiber.nextWorkingFiber = renderDispatch.rootFiber;\n\t\t\t        currentTriggerFiber.current = allLive.length > 1 ? allLive : allLive[0];\n\t\t\t        allLive.forEach(function (fiber) { return applyTriggerFiberCb(renderDispatch, fiber); });\n\t\t\t        if (!enableConcurrentMode$1.current || allLive.some(function (f) { return myreactSharedExports.include(f.state, myreactSharedExports.STATE_TYPE.__triggerSync__ | myreactSharedExports.STATE_TYPE.__triggerSyncForce__); })) {\n\t\t\t            updateSyncFromRoot(renderDispatch);\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            updateConcurrentFromRoot(renderDispatch);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        currentTriggerFiber.current = null;\n\t\t\t        scheduleNext(renderDispatch);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar scheduleNext = function (renderDispatch) {\n\t\t\t    var _a;\n\t\t\t    if (!renderDispatch.isAppUnmounted && !renderDispatch.isAppCrashed && renderDispatch.enableUpdate && renderDispatch.pendingUpdateFiberArray.length) {\n\t\t\t        scheduleUpdate(renderDispatch);\n\t\t\t        return;\n\t\t\t    }\n\t\t\t    var renderScheduler = currentScheduler$a.current;\n\t\t\t    if (!renderScheduler.dispatchSet || ((_a = renderScheduler.dispatchSet) === null || _a === void 0 ? void 0 : _a.length) === 1)\n\t\t\t        return;\n\t\t\t    var allDispatch = renderScheduler.dispatchSet;\n\t\t\t    var hasPending = allDispatch\n\t\t\t        .getAll()\n\t\t\t        .find(function (d) { return d !== renderDispatch && d.isAppMounted && d.enableUpdate && !d.isAppCrashed && !d.isAppUnmounted && d.pendingUpdateFiberArray.length; });\n\t\t\t    if (hasPending) {\n\t\t\t        scheduleUpdate(hasPending);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        globalLoop$2.current = false;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar scheduleUpdate = function (renderDispatch) {\n\t\t\t    if (renderDispatch.isAppUnmounted) {\n\t\t\t        scheduleNext(renderDispatch);\n\t\t\t        return;\n\t\t\t    }\n\t\t\t    scheduleUpdateFromRoot(renderDispatch);\n\t\t\t};\n\n\t\t\tvar globalLoop$1 = react.__my_react_internal__.globalLoop, currentScheduler$9 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar enableScopeTreeLog$3 = react.__my_react_shared__.enableScopeTreeLog;\n\t\t\tvar updateSyncFromRoot = function (renderDispatch) {\n\t\t\t    globalLoop$1.current = true;\n\t\t\t    var renderScheduler = currentScheduler$9.current;\n\t\t\t    enableScopeTreeLog$3.current && setLogScope();\n\t\t\t    updateLoopSyncFromRoot(renderDispatch);\n\t\t\t    processAsyncLoadListOnUpdate(renderDispatch);\n\t\t\t    enableScopeTreeLog$3.current && resetLogScope();\n\t\t\t    (function finishUpdateSyncFromRoot() {\n\t\t\t        var commitList = renderDispatch.pendingCommitFiberList;\n\t\t\t        var changedList = renderDispatch.pendingChangedFiberList;\n\t\t\t        renderDispatch.resetUpdateFlowRuntimeFiber();\n\t\t\t        renderDispatch.pendingCommitFiberList = null;\n\t\t\t        renderDispatch.pendingChangedFiberList = null;\n\t\t\t        enableScopeTreeLog$3.current && setLogScope();\n\t\t\t        (commitList === null || commitList === void 0 ? void 0 : commitList.length) && renderDispatch.reconcileUpdate(commitList);\n\t\t\t        enableScopeTreeLog$3.current && resetLogScope();\n\t\t\t        (changedList === null || changedList === void 0 ? void 0 : changedList.length) &&\n\t\t\t            safeCall(function safeCallFiberHasChangeListener() {\n\t\t\t                var _a, _b;\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberHasChange) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(changedList); });\n\t\t\t            });\n\t\t\t    })();\n\t\t\t    renderScheduler.microTask(function callScheduleNext() {\n\t\t\t        globalLoop$1.current = false;\n\t\t\t        scheduleNext(renderDispatch);\n\t\t\t    });\n\t\t\t};\n\t\t\tvar updateConcurrentFromRoot = function (renderDispatch) {\n\t\t\t    globalLoop$1.current = true;\n\t\t\t    var renderScheduler = currentScheduler$9.current;\n\t\t\t    enableScopeTreeLog$3.current && setLogScope();\n\t\t\t    updateLoopConcurrentFromRoot(renderDispatch);\n\t\t\t    enableScopeTreeLog$3.current && resetLogScope();\n\t\t\t    if (renderDispatch.runtimeFiber.nextWorkingFiber) {\n\t\t\t        renderScheduler.yieldTask(function resumeUpdateConcurrentFromRoot() {\n\t\t\t            updateConcurrentFromRoot(renderDispatch);\n\t\t\t        });\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        processAsyncLoadListOnUpdate(renderDispatch);\n\t\t\t        (function finishUpdateConcurrentFromRoot() {\n\t\t\t            var commitList = renderDispatch.pendingCommitFiberList;\n\t\t\t            var changedList = renderDispatch.pendingChangedFiberList;\n\t\t\t            renderDispatch.resetUpdateFlowRuntimeFiber();\n\t\t\t            renderDispatch.pendingCommitFiberList = null;\n\t\t\t            renderDispatch.pendingChangedFiberList = null;\n\t\t\t            enableScopeTreeLog$3.current && setLogScope();\n\t\t\t            (commitList === null || commitList === void 0 ? void 0 : commitList.length) && renderDispatch.reconcileUpdate(commitList);\n\t\t\t            enableScopeTreeLog$3.current && setLogScope();\n\t\t\t            (changedList === null || changedList === void 0 ? void 0 : changedList.length) &&\n\t\t\t                safeCall(function safeCallFiberHasChangeListener() {\n\t\t\t                    var _a, _b;\n\t\t\t                    (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberHasChange) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(changedList); });\n\t\t\t                });\n\t\t\t        })();\n\t\t\t        renderScheduler.microTask(function callScheduleNext() {\n\t\t\t            // TODO! flash all effect\n\t\t\t            globalLoop$1.current = false;\n\t\t\t            scheduleNext(renderDispatch);\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar checkHookValid = function (hookNode) {\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useMemo ||\n\t\t\t        hookNode.type === myreactSharedExports.HOOK_TYPE.useEffect ||\n\t\t\t        hookNode.type === myreactSharedExports.HOOK_TYPE.useCallback ||\n\t\t\t        hookNode.type === myreactSharedExports.HOOK_TYPE.useLayoutEffect) {\n\t\t\t        if (typeof hookNode.value !== \"function\") {\n\t\t\t            throw new Error(\"[@my-react/react] \".concat(myreactSharedExports.HOOK_TYPE[hookNode.type], \" initial error\"));\n\t\t\t        }\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useContext) {\n\t\t\t        if (typeof hookNode.value !== \"object\" || hookNode.value === null) {\n\t\t\t            throw new Error(\"[@my-react/react] \".concat(myreactSharedExports.HOOK_TYPE[hookNode.type], \" initial error\"));\n\t\t\t        }\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useSyncExternalStore) {\n\t\t\t        var storeApi = hookNode.value;\n\t\t\t        if (typeof storeApi.subscribe !== \"function\" || typeof storeApi.getSnapshot !== \"function\") {\n\t\t\t            throw new Error(\"[@my-react/react] \".concat(myreactSharedExports.HOOK_TYPE[hookNode.type], \" initial error\"));\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar MyReactInternalInstance$4 = react.__my_react_internal__.MyReactInternalInstance, currentScheduler$8 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar enableSyncFlush = react.__my_react_shared__.enableSyncFlush;\n\t\t\tvar defaultPayLoad = function (a) { return a; };\n\t\t\tvar MyReactHookNode = /** @class */ (function (_super) {\n\t\t\t    __extends(MyReactHookNode, _super);\n\t\t\t    function MyReactHookNode(type, value, reducer, deps) {\n\t\t\t        var _this = _super.call(this) || this;\n\t\t\t        _this.hasEffect = false;\n\t\t\t        _this.type = type;\n\t\t\t        _this.deps = deps;\n\t\t\t        _this.value = value;\n\t\t\t        _this.reducer = reducer;\n\t\t\t        return _this;\n\t\t\t    }\n\t\t\t    Object.defineProperty(MyReactHookNode.prototype, \"isMyReactHook\", {\n\t\t\t        get: function () {\n\t\t\t            return true;\n\t\t\t        },\n\t\t\t        enumerable: false,\n\t\t\t        configurable: true\n\t\t\t    });\n\t\t\t    MyReactHookNode.prototype._update = function (params) {\n\t\t\t        if (params === void 0) { params = {}; }\n\t\t\t        var updater = __assign({ type: myreactSharedExports.UpdateQueueType.hook, trigger: this, payLoad: defaultPayLoad, isSync: false, isForce: false }, params);\n\t\t\t        var renderScheduler = currentScheduler$8.current;\n\t\t\t        renderScheduler === null || renderScheduler === void 0 ? void 0 : renderScheduler.dispatchState(updater);\n\t\t\t    };\n\t\t\t    return MyReactHookNode;\n\t\t\t}(MyReactInternalInstance$4));\n\t\t\tvar initHookInstance = function (hookNode) {\n\t\t\t    var field = getInstanceFieldByInstance(hookNode);\n\t\t\t    if (!field)\n\t\t\t        throw new Error(\"[@my-react/react] hook instance not found, look like a bug for @my-react\");\n\t\t\t    var typedField = field;\n\t\t\t    typedField.dispatch = function (action) { return hookNode._update({ payLoad: action, isForce: false, isSync: enableSyncFlush.current }); };\n\t\t\t};\n\n\t\t\tvar currentComponentFiber$3 = react.__my_react_internal__.currentComponentFiber;\n\t\t\tvar MyReactSignal = /** @class */ (function () {\n\t\t\t    function MyReactSignal(_rawValue, _renderDispatch) {\n\t\t\t        var _this = this;\n\t\t\t        this._renderDispatch = _renderDispatch;\n\t\t\t        this._depsSet = new Set();\n\t\t\t        this.getValue = function () {\n\t\t\t            if (currentComponentFiber$3.current) {\n\t\t\t                _this._depsSet.add(currentComponentFiber$3.current);\n\t\t\t            }\n\t\t\t            return _this._value;\n\t\t\t        };\n\t\t\t        this.setValue = function (newValue) {\n\t\t\t            if (!Object.is(_this._value, newValue)) {\n\t\t\t                var allDeps = new Set(_this._depsSet);\n\t\t\t                _this._depsSet.clear();\n\t\t\t                _this._value = newValue;\n\t\t\t                allDeps.forEach(function (f) { return myreactSharedExports.exclude(f.state, myreactSharedExports.STATE_TYPE.__unmount__) && (f.state = myreactSharedExports.STATE_TYPE.__triggerConcurrent__); });\n\t\t\t                triggerUpdateOnFiber(_this._renderDispatch.rootFiber, myreactSharedExports.STATE_TYPE.__triggerConcurrent__);\n\t\t\t            }\n\t\t\t        };\n\t\t\t        this._value = _rawValue;\n\t\t\t    }\n\t\t\t    return MyReactSignal;\n\t\t\t}());\n\n\t\t\tvar enableDebugLog$1 = react.__my_react_shared__.enableDebugLog, enableDebugFiled$6 = react.__my_react_shared__.enableDebugFiled;\n\t\t\tvar currentHookTreeNode$2 = react.__my_react_internal__.currentHookTreeNode, currentHookNodeIndex$2 = react.__my_react_internal__.currentHookNodeIndex;\n\t\t\tvar defaultReducer = function (state, action) {\n\t\t\t    return typeof action === \"function\" ? action(state) : action;\n\t\t\t};\n\t\t\tvar createHookNode = function (renderDispatch, _a, fiber) {\n\t\t\t    var _b;\n\t\t\t    var type = _a.type, value = _a.value, reducer = _a.reducer, deps = _a.deps;\n\t\t\t    var currentHook = (_b = currentHookTreeNode$2.current) === null || _b === void 0 ? void 0 : _b.value;\n\t\t\t    var currentHookIndex = currentHookNodeIndex$2.current;\n\t\t\t    if (currentHook) {\n\t\t\t        throw new Error(\"[@my-react/react] should not have a hookList for current node, this is a bug for @my-react\");\n\t\t\t    }\n\t\t\t    var hookNode = new MyReactHookNode(type, value, reducer || defaultReducer, deps);\n\t\t\t    initInstance(hookNode);\n\t\t\t    initHookInstance(hookNode);\n\t\t\t    setOwnerForInstance(hookNode, fiber);\n\t\t\t    fiber.hookList.push(hookNode);\n\t\t\t    checkHookValid(hookNode);\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useMemo || hookNode.type === myreactSharedExports.HOOK_TYPE.useState || hookNode.type === myreactSharedExports.HOOK_TYPE.useReducer) {\n\t\t\t        hookNode.result = hookNode.value.call(null);\n\t\t\t        // 兼容极端情况的hack code\n\t\t\t        var a = function () {\n\t\t\t        };\n\t\t\t        a.bind(null, fiber);\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useEffect ||\n\t\t\t        hookNode.type === myreactSharedExports.HOOK_TYPE.useLayoutEffect ||\n\t\t\t        hookNode.type === myreactSharedExports.HOOK_TYPE.useInsertionEffect ||\n\t\t\t        hookNode.type === myreactSharedExports.HOOK_TYPE.useImperativeHandle) {\n\t\t\t        hookNode.result = hookNode.value;\n\t\t\t        hookNode.hasEffect = true;\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useRef || hookNode.type === myreactSharedExports.HOOK_TYPE.useCallback || hookNode.type === myreactSharedExports.HOOK_TYPE.useDeferredValue) {\n\t\t\t        hookNode.result = hookNode.value;\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useId) {\n\t\t\t        hookNode.result = \"_-\".concat(currentHookIndex, \"-\").concat(renderDispatch.uniqueIdCount++, \"-_\");\n\t\t\t        hookNode.cancel = function () { return renderDispatch.uniqueIdCount--; };\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useDebugValue) {\n\t\t\t        hookNode.result = hookNode.value;\n\t\t\t        if (enableDebugLog$1.current) {\n\t\t\t            console.warn.apply(console, __spreadArray([\"[debug]\"], hookNode.value, false));\n\t\t\t        }\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useContext) {\n\t\t\t        var providerFiber = renderDispatch.resolveContextFiber(fiber, hookNode.value);\n\t\t\t        var context = renderDispatch.resolveContextValue(providerFiber, hookNode.value);\n\t\t\t        setContextForInstance(hookNode, providerFiber);\n\t\t\t        hookNode.result = context;\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useSyncExternalStore) {\n\t\t\t        var storeApi_1 = hookNode.value;\n\t\t\t        var getNextResult = function () {\n\t\t\t            return safeCallWithCurrentFiber({\n\t\t\t                fiber: fiber,\n\t\t\t                action: function safeCallGetSnapshot() {\n\t\t\t                    var _a;\n\t\t\t                    return renderDispatch.isAppMounted\n\t\t\t                        ? storeApi_1.getSnapshot.call(null)\n\t\t\t                        : storeApi_1.getServerSnapshot\n\t\t\t                            ? (_a = storeApi_1.getServerSnapshot) === null || _a === void 0 ? void 0 : _a.call(null)\n\t\t\t                            : storeApi_1.getSnapshot.call(null);\n\t\t\t                },\n\t\t\t            });\n\t\t\t        };\n\t\t\t        var nextResult = getNextResult();\n\t\t\t        if (!Object.is(nextResult, getNextResult())) {\n\t\t\t            throw new Error(\"[@my-react/react] syncExternalStore getSnapshot not stable!\");\n\t\t\t        }\n\t\t\t        storeApi_1.result = nextResult;\n\t\t\t        hookNode.result = nextResult;\n\t\t\t        var checkResultUpdate_1 = function checkResultUpdate() {\n\t\t\t            var prevResult = storeApi_1.result;\n\t\t\t            var nextResult = null;\n\t\t\t            var hasChange = true;\n\t\t\t            try {\n\t\t\t                nextResult = storeApi_1.getSnapshot.call(null);\n\t\t\t                hasChange = !Object.is(prevResult, nextResult);\n\t\t\t            }\n\t\t\t            catch (_a) {\n\t\t\t                hasChange = true;\n\t\t\t            }\n\t\t\t            if (hasChange) {\n\t\t\t                hookNode._update({ isForce: true, isSync: true, payLoad: function () { return nextResult; } });\n\t\t\t            }\n\t\t\t        };\n\t\t\t        renderDispatch.pendingLayoutEffect(fiber, function invokeLayoutEffectOnHook() {\n\t\t\t            checkResultUpdate_1();\n\t\t\t        });\n\t\t\t        renderDispatch.pendingEffect(fiber, function invokeEffectOnHook() {\n\t\t\t            hookNode.cancel && hookNode.cancel();\n\t\t\t            checkResultUpdate_1();\n\t\t\t            hookNode.cancel = storeApi_1.subscribe(checkResultUpdate_1);\n\t\t\t        });\n\t\t\t    }\n\t\t\t    // if (hookNode.type === HOOK_TYPE.useSyncExternalStore) {\n\t\t\t    //   const storeApi = hookNode.value;\n\t\t\t    //   const getNextResult = () =>\n\t\t\t    //     safeCallWithCurrentFiber({\n\t\t\t    //       fiber,\n\t\t\t    //       action: function safeCallGetSnapshot() {\n\t\t\t    //         return renderDispatch.isAppMounted\n\t\t\t    //           ? storeApi.getSnapshot.call(null)\n\t\t\t    //           : storeApi.getServerSnapshot\n\t\t\t    //             ? storeApi.getServerSnapshot?.call(null)\n\t\t\t    //             : storeApi.getSnapshot.call(null);\n\t\t\t    //       },\n\t\t\t    //     });\n\t\t\t    //   const nextResult = getNextResult();\n\t\t\t    //   if (!Object.is(nextResult, getNextResult())) {\n\t\t\t    //     throw new Error(`[@my-react/react] syncExternalStore getSnapshot not stable!`);\n\t\t\t    //   }\n\t\t\t    //   storeApi.result = nextResult;\n\t\t\t    //   hookNode.result = nextResult;\n\t\t\t    //   hookNode.hasEffect = true;\n\t\t\t    // }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useSignal) {\n\t\t\t        hookNode.result = new MyReactSignal(hookNode.value.call(null), renderDispatch);\n\t\t\t    }\n\t\t\t    if (hookNode.type === myreactSharedExports.HOOK_TYPE.useTransition) {\n\t\t\t        hookNode.result = [\n\t\t\t            false,\n\t\t\t            // TODO\n\t\t\t            function startTransitionByHook(cb) {\n\t\t\t                var loadingCallback = function (cb) {\n\t\t\t                    react.startTransition(function () {\n\t\t\t                        hookNode.result[0] = true;\n\t\t\t                        hookNode._update({ isForce: true, isSync: true, callback: cb });\n\t\t\t                    });\n\t\t\t                };\n\t\t\t                var loadedCallback = function () {\n\t\t\t                    react.startTransition(function () {\n\t\t\t                        hookNode.result[0] = false;\n\t\t\t                        hookNode._update({ isForce: true, isSync: true });\n\t\t\t                    });\n\t\t\t                };\n\t\t\t                var taskCallback = function () {\n\t\t\t                    react.startTransition(function () {\n\t\t\t                        safeCallWithCurrentFiber({ fiber: fiber, action: cb });\n\t\t\t                        loadedCallback();\n\t\t\t                    });\n\t\t\t                };\n\t\t\t                loadingCallback(taskCallback);\n\t\t\t            },\n\t\t\t        ];\n\t\t\t    }\n\t\t\t    var typedHook = hookNode;\n\t\t\t    if (enableDebugFiled$6.current) {\n\t\t\t        var typedFiber = fiber;\n\t\t\t        typedFiber._debugHookTypes = typedFiber._debugHookTypes || [];\n\t\t\t        typedFiber._debugHookTypes.push(myreactSharedExports.HOOK_TYPE[hookNode.type]);\n\t\t\t        typedHook._debugType = myreactSharedExports.HOOK_TYPE[hookNode.type];\n\t\t\t        typedHook._debugIndex = currentHookIndex;\n\t\t\t    }\n\t\t\t    return hookNode;\n\t\t\t};\n\n\t\t\tvar effectHookNode = function (renderDispatch, fiber, hookNode, field) {\n\t\t\t    var effect = field.effect;\n\t\t\t    if (hookNode.hasEffect && effect === myreactSharedExports.Effect_TYPE.__initial__) {\n\t\t\t        setEffectForInstance(hookNode, myreactSharedExports.Effect_TYPE.__effect__);\n\t\t\t        if (hookNode.type === myreactSharedExports.HOOK_TYPE.useEffect) {\n\t\t\t            renderDispatch.pendingEffect(fiber, function invokeEffectOnHook() {\n\t\t\t                hookNode.cancel && hookNode.cancel();\n\t\t\t                var ownerFiber = getInstanceOwnerFiber(hookNode);\n\t\t\t                if (ownerFiber && myreactSharedExports.exclude(ownerFiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t                    hookNode.cancel = hookNode.value();\n\t\t\t                hookNode.hasEffect = false;\n\t\t\t                setEffectForInstance(hookNode, myreactSharedExports.Effect_TYPE.__initial__);\n\t\t\t            });\n\t\t\t        }\n\t\t\t        if (hookNode.type === myreactSharedExports.HOOK_TYPE.useLayoutEffect) {\n\t\t\t            renderDispatch.pendingLayoutEffect(fiber, function invokeLayoutEffectOnHook() {\n\t\t\t                hookNode.cancel && hookNode.cancel();\n\t\t\t                hookNode.cancel = hookNode.value();\n\t\t\t                hookNode.hasEffect = false;\n\t\t\t                setEffectForInstance(hookNode, myreactSharedExports.Effect_TYPE.__initial__);\n\t\t\t            });\n\t\t\t        }\n\t\t\t        if (hookNode.type === myreactSharedExports.HOOK_TYPE.useInsertionEffect) {\n\t\t\t            renderDispatch.pendingInsertionEffect(fiber, function invokeInsertionEffectOnHook() {\n\t\t\t                hookNode.cancel && hookNode.cancel();\n\t\t\t                hookNode.cancel = hookNode.value();\n\t\t\t                hookNode.hasEffect = false;\n\t\t\t                setEffectForInstance(hookNode, myreactSharedExports.Effect_TYPE.__initial__);\n\t\t\t            });\n\t\t\t        }\n\t\t\t        if (hookNode.type === myreactSharedExports.HOOK_TYPE.useImperativeHandle) {\n\t\t\t            renderDispatch.pendingLayoutEffect(fiber, function invokeLayoutEffectOnHook() {\n\t\t\t                hookNode.cancel && hookNode.cancel();\n\t\t\t                // ref obj\n\t\t\t                if (hookNode.value && typeof hookNode.value === \"object\")\n\t\t\t                    hookNode.value.current = hookNode.reducer.call(null);\n\t\t\t                // ref function\n\t\t\t                if (hookNode.value && typeof hookNode.value === \"function\")\n\t\t\t                    hookNode.value(hookNode.reducer.call(null));\n\t\t\t                // TODO\n\t\t\t                // hookNode.cancel =\n\t\t\t                hookNode.hasEffect = false;\n\t\t\t                setEffectForInstance(hookNode, myreactSharedExports.Effect_TYPE.__initial__);\n\t\t\t            });\n\t\t\t        }\n\t\t\t        if (hookNode.type === myreactSharedExports.HOOK_TYPE.useSyncExternalStore) {\n\t\t\t            renderDispatch.pendingEffect(fiber, function invokeEffectOnHook() {\n\t\t\t                hookNode.cancel && hookNode.cancel();\n\t\t\t                var storeApi = hookNode.value;\n\t\t\t                hookNode.cancel = storeApi.subscribe(function triggerHookUpdate() {\n\t\t\t                    hookNode._update({ payLoad: function () { return storeApi.getSnapshot.call(null); } });\n\t\t\t                });\n\t\t\t                hookNode.hasEffect = false;\n\t\t\t                setEffectForInstance(hookNode, myreactSharedExports.Effect_TYPE.__initial__);\n\t\t\t            });\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar enableDebugLog = react.__my_react_shared__.enableDebugLog;\n\t\t\tvar currentHookTreeNode$1 = react.__my_react_internal__.currentHookTreeNode, currentScheduler$7 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar updateHookNode = function (renderDispatch, _a, fiber, isHMR) {\n\t\t\t    var _b, _c;\n\t\t\t    var type = _a.type, value = _a.value, reducer = _a.reducer, deps = _a.deps;\n\t\t\t    var renderScheduler = currentScheduler$7.current;\n\t\t\t    var currentHook = (_b = currentHookTreeNode$1.current) === null || _b === void 0 ? void 0 : _b.value;\n\t\t\t    if (!currentHook) {\n\t\t\t        throw new Error(\"[@my-react/react] should have a hookList for current node, this is a bug for @my-react\");\n\t\t\t    }\n\t\t\t    if (type !== (currentHook === null || currentHook === void 0 ? void 0 : currentHook.type)) {\n\t\t\t        throw new Error(getHookTree(currentHookTreeNode$1.current.prev, {\n\t\t\t            lastRender: currentHook === null || currentHook === void 0 ? void 0 : currentHook.type,\n\t\t\t            nextRender: type,\n\t\t\t        }));\n\t\t\t    }\n\t\t\t    setOwnerForInstance(currentHook, fiber);\n\t\t\t    currentHookTreeNode$1.current = currentHookTreeNode$1.current.next;\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useMemo ||\n\t\t\t        currentHook.type === myreactSharedExports.HOOK_TYPE.useEffect ||\n\t\t\t        currentHook.type === myreactSharedExports.HOOK_TYPE.useCallback ||\n\t\t\t        currentHook.type === myreactSharedExports.HOOK_TYPE.useLayoutEffect ||\n\t\t\t        currentHook.type === myreactSharedExports.HOOK_TYPE.useInsertionEffect ||\n\t\t\t        currentHook.type === myreactSharedExports.HOOK_TYPE.useImperativeHandle) {\n\t\t\t        if (deps && !currentHook.deps) {\n\t\t\t            throw new Error(\"[@my-react/react] deps state change\");\n\t\t\t        }\n\t\t\t        if (!deps && currentHook.deps) {\n\t\t\t            throw new Error(\"[@my-react/react] deps state change\");\n\t\t\t        }\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useEffect || currentHook.type === myreactSharedExports.HOOK_TYPE.useLayoutEffect || currentHook.type === myreactSharedExports.HOOK_TYPE.useInsertionEffect) {\n\t\t\t        if (isHMR || !deps || !myreactSharedExports.isArrayEquals(currentHook.deps, deps)) {\n\t\t\t            currentHook.value = value;\n\t\t\t            currentHook.result = value;\n\t\t\t            currentHook.reducer = reducer || currentHook.reducer;\n\t\t\t            currentHook.deps = deps;\n\t\t\t            currentHook.hasEffect = true;\n\t\t\t        }\n\t\t\t        return currentHook;\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useImperativeHandle) {\n\t\t\t        var depsChanged = false;\n\t\t\t        // ref changed also need to trigger effect\n\t\t\t        if (isHMR || !deps || !myreactSharedExports.isNormalEquals(currentHook.value, value) || ((depsChanged = !myreactSharedExports.isArrayEquals(currentHook.deps, deps)), depsChanged)) {\n\t\t\t            currentHook.value = value;\n\t\t\t            currentHook.result = value;\n\t\t\t            currentHook.reducer = depsChanged ? reducer || currentHook.reducer : currentHook.reducer;\n\t\t\t            currentHook.deps = deps;\n\t\t\t            currentHook.hasEffect = true;\n\t\t\t        }\n\t\t\t        return currentHook;\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useSyncExternalStore) {\n\t\t\t        var storeApi_1 = currentHook.value;\n\t\t\t        var newStoreApi_1 = value;\n\t\t\t        var prevResult = storeApi_1.result;\n\t\t\t        var nextResult_1 = safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallGetSnapshot() {\n\t\t\t                return newStoreApi_1.getSnapshot.call(null);\n\t\t\t            },\n\t\t\t        });\n\t\t\t        if (!Object.is(nextResult_1, newStoreApi_1.getSnapshot.call(null))) {\n\t\t\t            throw new Error(\"[@my-react/react] syncExternalStore getSnapshot not stable!\");\n\t\t\t        }\n\t\t\t        currentHook.result = nextResult_1;\n\t\t\t        var checkResultUpdate_1 = function checkResultUpdate() {\n\t\t\t            var prevResult = storeApi_1.result;\n\t\t\t            var nextResult = null;\n\t\t\t            var hasChange = true;\n\t\t\t            try {\n\t\t\t                nextResult = storeApi_1.getSnapshot.call(null);\n\t\t\t                hasChange = !Object.is(prevResult, nextResult);\n\t\t\t            }\n\t\t\t            catch (_a) {\n\t\t\t                hasChange = true;\n\t\t\t            }\n\t\t\t            if (hasChange) {\n\t\t\t                currentHook._update({ isForce: true, isSync: true, payLoad: function () { return nextResult; } });\n\t\t\t            }\n\t\t\t        };\n\t\t\t        if (!Object.is(prevResult, nextResult_1) ||\n\t\t\t            !Object.is(storeApi_1.getSnapshot, newStoreApi_1.getSnapshot) ||\n\t\t\t            !Object.is(storeApi_1.subscribe, newStoreApi_1.subscribe)) {\n\t\t\t            renderDispatch.pendingLayoutEffect(fiber, function invokeLayoutEffectOnHook() {\n\t\t\t                storeApi_1.result = nextResult_1;\n\t\t\t                storeApi_1.getSnapshot = newStoreApi_1.getSnapshot;\n\t\t\t                checkResultUpdate_1();\n\t\t\t            });\n\t\t\t        }\n\t\t\t        if (isHMR || !Object.is(storeApi_1.subscribe, newStoreApi_1.subscribe)) {\n\t\t\t            renderDispatch.pendingEffect(fiber, function invokeEffectOnHook() {\n\t\t\t                currentHook.cancel && currentHook.cancel();\n\t\t\t                checkResultUpdate_1();\n\t\t\t                currentHook.cancel = storeApi_1.subscribe(checkResultUpdate_1);\n\t\t\t            });\n\t\t\t        }\n\t\t\t        return currentHook;\n\t\t\t    }\n\t\t\t    // if (currentHook.type === HOOK_TYPE.useSyncExternalStore) {\n\t\t\t    //   const storeApi = currentHook.value;\n\t\t\t    //   const newStoreApi = value;\n\t\t\t    //   const nextResult = safeCallWithCurrentFiber({\n\t\t\t    //     fiber,\n\t\t\t    //     action: function safeCallGetSnapshot() {\n\t\t\t    //       return newStoreApi.getSnapshot.call(null);\n\t\t\t    //     },\n\t\t\t    //   });\n\t\t\t    //   if (!Object.is(nextResult, newStoreApi.getSnapshot.call(null))) {\n\t\t\t    //     throw new Error(`[@my-react/react] syncExternalStore getSnapshot not stable!`);\n\t\t\t    //   }\n\t\t\t    //   currentHook.result = nextResult;\n\t\t\t    //   if (isHMR || !Object.is(storeApi.subscribe, newStoreApi.subscribe)) {\n\t\t\t    //     storeApi.subscribe = newStoreApi.subscribe;\n\t\t\t    //     currentHook.hasEffect = true;\n\t\t\t    //   }\n\t\t\t    //   storeApi.getSnapshot = newStoreApi.getSnapshot;\n\t\t\t    //   return currentHook;\n\t\t\t    // }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useCallback) {\n\t\t\t        if (isHMR || !deps || !myreactSharedExports.isArrayEquals(currentHook.deps, deps)) {\n\t\t\t            currentHook.value = value;\n\t\t\t            currentHook.result = value;\n\t\t\t            currentHook.deps = deps;\n\t\t\t        }\n\t\t\t        return currentHook;\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useMemo) {\n\t\t\t        if (isHMR || !deps || !myreactSharedExports.isArrayEquals(currentHook.deps, deps)) {\n\t\t\t            currentHook.value = value;\n\t\t\t            currentHook.result = safeCallWithCurrentFiber({\n\t\t\t                fiber: fiber,\n\t\t\t                action: function safeCallMemoOnHook() {\n\t\t\t                    return value.call(null);\n\t\t\t                },\n\t\t\t            });\n\t\t\t            currentHook.deps = deps;\n\t\t\t        }\n\t\t\t        return currentHook;\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useContext) {\n\t\t\t        var contextFiber = getInstanceContextFiber(currentHook);\n\t\t\t        if (!contextFiber || myreactSharedExports.include(contextFiber.state, myreactSharedExports.STATE_TYPE.__unmount__) || !Object.is(currentHook.value, value)) {\n\t\t\t            currentHook.value = value;\n\t\t\t            var providerFiber = renderDispatch.resolveContextFiber(fiber, currentHook.value);\n\t\t\t            var context = renderDispatch.resolveContextValue(providerFiber, currentHook.value);\n\t\t\t            setContextForInstance(currentHook, providerFiber);\n\t\t\t            currentHook.result = context;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            var context = renderDispatch.resolveContextValue(contextFiber, currentHook.value);\n\t\t\t            currentHook.result = context;\n\t\t\t        }\n\t\t\t        return currentHook;\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useReducer) {\n\t\t\t        currentHook.value = value;\n\t\t\t        currentHook.reducer = reducer;\n\t\t\t        return currentHook;\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useDeferredValue) {\n\t\t\t        (_c = currentHook.cancel) === null || _c === void 0 ? void 0 : _c.call(currentHook);\n\t\t\t        currentHook.value = value;\n\t\t\t        if (!Object.is(currentHook.value, currentHook.result)) {\n\t\t\t            currentHook.cancel = renderScheduler.yieldTask(function triggerHookUpdate() {\n\t\t\t                currentHook.result = currentHook.value;\n\t\t\t                currentHook._update({ isForce: true });\n\t\t\t                currentHook.cancel = null;\n\t\t\t            });\n\t\t\t        }\n\t\t\t    }\n\t\t\t    if (currentHook.type === myreactSharedExports.HOOK_TYPE.useDebugValue) {\n\t\t\t        if (!myreactSharedExports.isArrayEquals(currentHook.value, value)) {\n\t\t\t            currentHook.value = value;\n\t\t\t            currentHook.result = value;\n\t\t\t            if (enableDebugLog.current) {\n\t\t\t                console.warn.apply(console, __spreadArray([\"[debug]\"], currentHook.value, false));\n\t\t\t            }\n\t\t\t        }\n\t\t\t    }\n\t\t\t    return currentHook;\n\t\t\t};\n\n\t\t\tvar hookListUnmount = function (renderDispatch, fiber) {\n\t\t\t    var _a, _b;\n\t\t\t    (_b = (_a = fiber.hookList) === null || _a === void 0 ? void 0 : _a.listToFoot) === null || _b === void 0 ? void 0 : _b.call(_a, function invokeHookUnmount(hookNode) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallHookUnmountListener() {\n\t\t\t                var _a, _b;\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.hookUnmount) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(hookNode, fiber); });\n\t\t\t            },\n\t\t\t        });\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallHookNodeUnmount() {\n\t\t\t                hookNode.hasEffect = false;\n\t\t\t                hookNode.cancel && hookNode.cancel();\n\t\t\t                unmountInstance(hookNode);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    });\n\t\t\t};\n\n\t\t\tvar enableDebugFiled$5 = react.__my_react_shared__.enableDebugFiled;\n\t\t\tvar clearFiberNode = function (renderDispatch, fiber) {\n\t\t\t    hookListUnmount(renderDispatch, fiber);\n\t\t\t    processClassComponentUnmount(renderDispatch, fiber);\n\t\t\t    defaultDeleteCurrentEffect(renderDispatch, fiber);\n\t\t\t    fiber.instance = null;\n\t\t\t    fiber.hookList = null;\n\t\t\t    fiber.updateQueue = null;\n\t\t\t    renderDispatch.commitUnsetRef(fiber);\n\t\t\t    if (enableDebugFiled$5.current) {\n\t\t\t        var typedFiber = fiber;\n\t\t\t        typedFiber._debugHookTypes = [];\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar currentScheduler$6 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar hmr = function (fiber, nextType, forceRefresh) {\n\t\t\t    {\n\t\t\t        if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t            return;\n\t\t\t        var renderDispatch_1 = getCurrentDispatchFromFiber(fiber);\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallHMR() {\n\t\t\t                var _a, _b;\n\t\t\t                // keep the type\n\t\t\t                var nodeType = fiber.type;\n\t\t\t                var element = react.createElement(nextType, __assign(__assign({}, fiber.pendingProps), { key: (_a = fiber.key) !== null && _a !== void 0 ? _a : undefined, ref: (_b = fiber.ref) !== null && _b !== void 0 ? _b : undefined }));\n\t\t\t                fiber._installElement(element);\n\t\t\t                fiber.type = nodeType;\n\t\t\t            },\n\t\t\t        });\n\t\t\t        setRefreshTypeMap(fiber);\n\t\t\t        if (forceRefresh) {\n\t\t\t            clearFiberNode(renderDispatch_1, fiber);\n\t\t\t            fiber.state = myreactSharedExports.merge(myreactSharedExports.STATE_TYPE.__create__, myreactSharedExports.STATE_TYPE.__hmr__);\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            fiber.state = myreactSharedExports.merge(myreactSharedExports.STATE_TYPE.__triggerSync__, myreactSharedExports.STATE_TYPE.__hmr__);\n\t\t\t        }\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallFiberHMRListener() {\n\t\t\t                var _a, _b;\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch_1)) === null || _a === void 0 ? void 0 : _a.fiberHMR) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(fiber, forceRefresh); });\n\t\t\t            },\n\t\t\t        });\n\t\t\t        return fiber;\n\t\t\t    }\n\t\t\t};\n\t\t\tfunction hmrRevert(cb) {\n\t\t\t    if (myreactSharedExports.include(this.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var renderDispatch = getCurrentDispatchFromFiber(this);\n\t\t\t    triggerRevert(renderDispatch, this, cb);\n\t\t\t}\n\t\t\tfunction hmrUpdate(state, cb) {\n\t\t\t    if (myreactSharedExports.include(this.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var renderScheduler = currentScheduler$6.current;\n\t\t\t    var updater = {\n\t\t\t        type: myreactSharedExports.UpdateQueueType.hmr,\n\t\t\t        trigger: this,\n\t\t\t        isSync: true,\n\t\t\t        isForce: false,\n\t\t\t        isImmediate: true,\n\t\t\t        isRetrigger: false,\n\t\t\t        callback: cb,\n\t\t\t    };\n\t\t\t    renderScheduler.dispatchState(updater);\n\t\t\t}\n\n\t\t\tvar checkIsMyReactFiberNode = function (fiber) {\n\t\t\t    return (fiber &&\n\t\t\t        typeof fiber === \"object\" &&\n\t\t\t        fiber.constructor &&\n\t\t\t        fiber.constructor.prototype &&\n\t\t\t        Object.prototype.hasOwnProperty.call(fiber.constructor.prototype, \"isMyReactFiberNode\") &&\n\t\t\t        fiber.constructor.prototype.isMyReactFiberNode);\n\t\t\t};\n\n\t\t\tvar enableConcurrentMode = react.__my_react_shared__.enableConcurrentMode;\n\t\t\tvar currentScheduler$5 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar processUpdateOnFiber = function (renderDispatch, fiber, _isImmediate, _isRetrigger) {\n\t\t\t    var renderScheduler = currentScheduler$5.current;\n\t\t\t    var flag = enableConcurrentMode.current;\n\t\t\t    var updateState = null;\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__class__)) {\n\t\t\t        updateState = processClassComponentUpdateQueue(renderDispatch, fiber, flag);\n\t\t\t    }\n\t\t\t    else if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__function__)) {\n\t\t\t        updateState = processFunctionComponentUpdateQueue(renderDispatch, fiber, flag);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        updateState = processNormalComponentUpdate(fiber);\n\t\t\t    }\n\t\t\t    if (updateState === null || updateState === void 0 ? void 0 : updateState.needUpdate) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallFiberTriggerListener() {\n\t\t\t                var _a, _b;\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberTrigger) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(fiber, updateState); });\n\t\t\t            },\n\t\t\t        });\n\t\t\t        // TODO get from updateState ?\n\t\t\t        if (updateState.isRetrigger) {\n\t\t\t            fiber.state = myreactSharedExports.remove(fiber.state, myreactSharedExports.STATE_TYPE.__stable__);\n\t\t\t            fiber.state = myreactSharedExports.merge(fiber.state, myreactSharedExports.STATE_TYPE.__retrigger__);\n\t\t\t            if (updateState.callback) {\n\t\t\t                renderDispatch.pendingLayoutEffect(fiber, updateState.callback, { stickyToFoot: true });\n\t\t\t            }\n\t\t\t            renderDispatch.runtimeFiber.retriggerFiber = fiber;\n\t\t\t            // render flow is done, here should trigger a new render flow\n\t\t\t            if (!renderDispatch.runtimeFiber.nextWorkingFiber) {\n\t\t\t                renderDispatch.runtimeFiber.nextWorkingFiber = fiber;\n\t\t\t                mountLoopAllFromScheduler(renderDispatch);\n\t\t\t            }\n\t\t\t            return;\n\t\t\t        }\n\t\t\t        if (updateState.isSync) {\n\t\t\t            if (updateState.isImmediate) {\n\t\t\t                triggerUpdate(renderDispatch, fiber, updateState.isForce ? myreactSharedExports.STATE_TYPE.__triggerSyncForce__ : myreactSharedExports.STATE_TYPE.__triggerSync__, updateState.callback);\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                renderScheduler.microTask(function triggerSyncUpdateOnFiber() {\n\t\t\t                    triggerUpdate(renderDispatch, fiber, updateState.isForce ? myreactSharedExports.STATE_TYPE.__triggerSyncForce__ : myreactSharedExports.STATE_TYPE.__triggerSync__, updateState.callback);\n\t\t\t                });\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            if (updateState.isImmediate) {\n\t\t\t                triggerUpdate(renderDispatch, fiber, updateState.isForce ? myreactSharedExports.STATE_TYPE.__triggerConcurrentForce__ : myreactSharedExports.STATE_TYPE.__triggerConcurrent__, updateState.callback);\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                renderScheduler.microTask(function triggerConcurrentUpdateOnFiber() {\n\t\t\t                    triggerUpdate(renderDispatch, fiber, updateState.isForce ? myreactSharedExports.STATE_TYPE.__triggerConcurrentForce__ : myreactSharedExports.STATE_TYPE.__triggerConcurrent__, updateState.callback);\n\t\t\t                });\n\t\t\t            }\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar prepareUpdateOnFiber = function (renderDispatch, fiber, isImmediate, isRetrigger) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var renderScheduler = currentScheduler$5.current;\n\t\t\t    if (isImmediate) {\n\t\t\t        processUpdateOnFiber(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        renderScheduler.microTask(function asyncProcessUpdateOnFiber() {\n\t\t\t            processUpdateOnFiber(renderDispatch, fiber);\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\t\t\tvar SyncState = myreactSharedExports.merge(myreactSharedExports.STATE_TYPE.__triggerSyncForce__, myreactSharedExports.STATE_TYPE.__triggerSync__);\n\t\t\tvar ForceState = myreactSharedExports.merge(myreactSharedExports.STATE_TYPE.__triggerSyncForce__, myreactSharedExports.STATE_TYPE.__triggerConcurrentForce__);\n\t\t\tvar triggerUpdateOnFiber = function (fiber, state, callback) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    var renderScheduler = currentScheduler$5.current;\n\t\t\t    var updater = {\n\t\t\t        type: myreactSharedExports.UpdateQueueType.trigger,\n\t\t\t        trigger: fiber,\n\t\t\t        isSync: myreactSharedExports.include(state, SyncState),\n\t\t\t        isForce: myreactSharedExports.include(state, ForceState),\n\t\t\t        callback: callback,\n\t\t\t    };\n\t\t\t    renderScheduler.dispatchState(updater);\n\t\t\t};\n\n\t\t\tvar emptyProps = {};\n\t\t\tvar MyReactFiberNode = /** @class */ (function () {\n\t\t\t    function MyReactFiberNode(element) {\n\t\t\t        this.state = myreactSharedExports.STATE_TYPE.__initial__;\n\t\t\t        this.patch = myreactSharedExports.PATCH_TYPE.__initial__;\n\t\t\t        this.type = exports.NODE_TYPE.__initial__;\n\t\t\t        this.child = null;\n\t\t\t        this.parent = null;\n\t\t\t        this.sibling = null;\n\t\t\t        this.pendingProps = emptyProps;\n\t\t\t        this.memoizedProps = emptyProps;\n\t\t\t        this.state = myreactSharedExports.STATE_TYPE.__create__;\n\t\t\t        this._installElement(element);\n\t\t\t    }\n\t\t\t    MyReactFiberNode.prototype._installElement = function (element) {\n\t\t\t        var _a = getTypeFromElementNode(element), key = _a.key, ref = _a.ref, nodeType = _a.nodeType, elementType = _a.elementType, pendingProps = _a.pendingProps, pendingText = _a.pendingText;\n\t\t\t        this.ref = ref;\n\t\t\t        this.key = key;\n\t\t\t        this.type = nodeType;\n\t\t\t        this.elementType = elementType;\n\t\t\t        this.pendingProps = pendingProps;\n\t\t\t        if (typeof pendingText === \"string\") {\n\t\t\t            this.pendingText = pendingText;\n\t\t\t        }\n\t\t\t        {\n\t\t\t            var typeThis = this;\n\t\t\t            typeThis._debugElement = element;\n\t\t\t        }\n\t\t\t        return element;\n\t\t\t    };\n\t\t\t    MyReactFiberNode.prototype._addDependence = function (instance) {\n\t\t\t        this.dependence = this.dependence || new Set();\n\t\t\t        this.dependence.add(instance);\n\t\t\t    };\n\t\t\t    MyReactFiberNode.prototype._delDependence = function (instance) {\n\t\t\t        var _a;\n\t\t\t        (_a = this.dependence) === null || _a === void 0 ? void 0 : _a.delete(instance);\n\t\t\t    };\n\t\t\t    MyReactFiberNode.prototype._update = function (state) {\n\t\t\t        triggerUpdateOnFiber(this, state);\n\t\t\t    };\n\t\t\t    return MyReactFiberNode;\n\t\t\t}());\n\t\t\tObject.defineProperty(MyReactFiberNode.prototype, \"isMyReactFiberNode\", {\n\t\t\t    value: true,\n\t\t\t    configurable: true,\n\t\t\t});\n\t\t\tObject.defineProperty(MyReactFiberNode.prototype, \"return\", {\n\t\t\t    get: function () {\n\t\t\t        return this.parent;\n\t\t\t    },\n\t\t\t    configurable: true,\n\t\t\t});\n\t\t\tObject.defineProperty(MyReactFiberNode.prototype, \"stateNode\", {\n\t\t\t    get: function () {\n\t\t\t        return this.nativeNode || this.containerNode;\n\t\t\t    },\n\t\t\t    configurable: true,\n\t\t\t});\n\t\t\t{\n\t\t\t    Object.defineProperty(MyReactFiberNode.prototype, \"_debugLog\", {\n\t\t\t        get: function () {\n\t\t\t            var _a = getFiberTreeWithFiber(this), str = _a.str, arr = _a.arr;\n\t\t\t            console.log.apply(console, __spreadArray([str], arr, false));\n\t\t\t            return true;\n\t\t\t        },\n\t\t\t        configurable: true,\n\t\t\t    });\n\t\t\t    Object.defineProperty(MyReactFiberNode.prototype, \"__dev_hmr_revert__\", {\n\t\t\t        value: hmrRevert,\n\t\t\t        configurable: true,\n\t\t\t    });\n\t\t\t    Object.defineProperty(MyReactFiberNode.prototype, \"__dev_hmr_update__\", {\n\t\t\t        value: hmrUpdate,\n\t\t\t        configurable: true,\n\t\t\t    });\n\t\t\t}\n\n\t\t\tvar createFiberNode = function (renderDispatch, _a, element) {\n\t\t\t    var parent = _a.parent, _b = _a.type, type = _b === void 0 ? \"append\" : _b;\n\t\t\t    var newFiberNode = new MyReactFiberNode(element);\n\t\t\t    fiberToDispatchMap.set(newFiberNode, renderDispatch);\n\t\t\t    newFiberNode.parent = parent;\n\t\t\t    parent.child = parent.child || newFiberNode;\n\t\t\t    renderDispatch.pendingCreate(newFiberNode);\n\t\t\t    renderDispatch.pendingUpdate(newFiberNode);\n\t\t\t    if (type === \"position\") {\n\t\t\t        renderDispatch.pendingPosition(newFiberNode);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        renderDispatch.pendingAppend(newFiberNode);\n\t\t\t    }\n\t\t\t    renderDispatch.pendingRef(newFiberNode);\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: newFiberNode,\n\t\t\t        action: function safeCallPatchToFiberInitial() {\n\t\t\t            var _a;\n\t\t\t            (_a = renderDispatch.patchToFiberInitial) === null || _a === void 0 ? void 0 : _a.call(renderDispatch, newFiberNode);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: newFiberNode,\n\t\t\t        action: function safeCallFiberInitialListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberInitial) === null || _b === void 0 ? void 0 : _b.forEach(function (listener) { return listener(newFiberNode); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    if (myreactSharedExports.exclude(newFiberNode.patch, myreactSharedExports.PATCH_TYPE.__update__)) {\n\t\t\t        newFiberNode.memoizedProps = newFiberNode.pendingProps;\n\t\t\t    }\n\t\t\t    return newFiberNode;\n\t\t\t};\n\n\t\t\tvar updateFiberNode = function (renderDispatch, _a, nextElement) {\n\t\t\t    var fiber = _a.fiber, parent = _a.parent, prevFiber = _a.prevFiber;\n\t\t\t    var prevElementType = fiber.elementType;\n\t\t\t    var prevProps = fiber.memoizedProps;\n\t\t\t    var prevRef = fiber.ref;\n\t\t\t    fiber.parent = parent;\n\t\t\t    fiber.sibling = null;\n\t\t\t    parent.child = parent.child || fiber;\n\t\t\t    nextElement = fiber._installElement(nextElement);\n\t\t\t    var nextElementType = fiber.elementType;\n\t\t\t    var nextProps = fiber.pendingProps;\n\t\t\t    var nextRef = fiber.ref;\n\t\t\t    if (prevElementType !== nextElementType || prevProps !== nextProps) {\n\t\t\t        if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__memo__)) {\n\t\t\t            var typedElement = nextElement;\n\t\t\t            var typedElementType = typedElement.type;\n\t\t\t            var compare = typedElementType.compare || myreactSharedExports.isNormalEquals;\n\t\t\t            if (myreactSharedExports.exclude(fiber.state, myreactSharedExports.STATE_TYPE.__triggerSync__ | myreactSharedExports.STATE_TYPE.__triggerConcurrent__ | myreactSharedExports.STATE_TYPE.__triggerSyncForce__ | myreactSharedExports.STATE_TYPE.__triggerConcurrentForce__) &&\n\t\t\t                compare(fiber.pendingProps, fiber.memoizedProps)) {\n\t\t\t                fiber.state = myreactSharedExports.STATE_TYPE.__stable__;\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                fiber.state = myreactSharedExports.remove(fiber.state, myreactSharedExports.STATE_TYPE.__stable__);\n\t\t\t                fiber.state = myreactSharedExports.merge(fiber.state, myreactSharedExports.STATE_TYPE.__inherit__);\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            fiber.state = myreactSharedExports.remove(fiber.state, myreactSharedExports.STATE_TYPE.__stable__);\n\t\t\t            fiber.state = myreactSharedExports.merge(fiber.state, myreactSharedExports.STATE_TYPE.__inherit__);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    if (fiber.state !== myreactSharedExports.STATE_TYPE.__stable__) {\n\t\t\t        if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__plain__)) {\n\t\t\t            if (!myreactSharedExports.isNormalEquals(fiber.pendingProps, fiber.memoizedProps, function (key) { return key === \"children\"; })) {\n\t\t\t                renderDispatch.pendingUpdate(fiber);\n\t\t\t            }\n\t\t\t        }\n\t\t\t        if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__text__)) {\n\t\t\t            renderDispatch.pendingUpdate(fiber);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    if (nextRef && prevRef !== nextRef) {\n\t\t\t        renderDispatch.pendingRef(fiber);\n\t\t\t    }\n\t\t\t    if (fiber !== prevFiber) {\n\t\t\t        renderDispatch.pendingPosition(fiber);\n\t\t\t    }\n\t\t\t    // if (exclude(fiber.patch, PATCH_TYPE.__update__)) {\n\t\t\t    //   fiber.memoizedProps = fiber.pendingProps;\n\t\t\t    // }\n\t\t\t    return fiber;\n\t\t\t};\n\n\t\t\t// no need to resolve map for this fiber, this code only used for fiberRoot init\n\t\t\tvar initialFiberNode = function (renderDispatch, fiber) {\n\t\t\t    fiberToDispatchMap.set(fiber, renderDispatch);\n\t\t\t    renderDispatch.pendingCreate(fiber);\n\t\t\t    renderDispatch.pendingUpdate(fiber);\n\t\t\t    renderDispatch.pendingAppend(fiber);\n\t\t\t    renderDispatch.pendingRef(fiber);\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallPatchToFiberInitial() {\n\t\t\t            var _a;\n\t\t\t            (_a = renderDispatch.patchToFiberInitial) === null || _a === void 0 ? void 0 : _a.call(renderDispatch, fiber);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberInitialListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberInitial) === null || _b === void 0 ? void 0 : _b.forEach(function (listener) { return listener(fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    if (myreactSharedExports.exclude(fiber.patch, myreactSharedExports.PATCH_TYPE.__update__)) {\n\t\t\t        fiber.memoizedProps = fiber.pendingProps;\n\t\t\t    }\n\t\t\t    return fiber;\n\t\t\t};\n\n\t\t\tvar enableDebugFiled$4 = react.__my_react_shared__.enableDebugFiled;\n\t\t\tvar unmountFiberNode = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t\t\t        return;\n\t\t\t    hookListUnmount(renderDispatch, fiber);\n\t\t\t    processClassComponentUnmount(renderDispatch, fiber);\n\t\t\t    unmountInstance(fiber.instance);\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallCommitUnsetRef() {\n\t\t\t            renderDispatch.commitUnsetRef(fiber);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallCommitClear() {\n\t\t\t            renderDispatch.commitClear(fiber);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallPatchToFiberUnmount() {\n\t\t\t            var _a;\n\t\t\t            (_a = renderDispatch.patchToFiberUnmount) === null || _a === void 0 ? void 0 : _a.call(renderDispatch, fiber);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberUnmountListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberUnmount) === null || _b === void 0 ? void 0 : _b.forEach(function (listener) { return listener(fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    renderDispatch.runtimeMap.insertionEffectMap.delete(fiber);\n\t\t\t    renderDispatch.runtimeMap.effectMap.delete(fiber);\n\t\t\t    renderDispatch.runtimeMap.layoutEffectMap.delete(fiber);\n\t\t\t    renderDispatch.runtimeMap.unmountMap.delete(fiber);\n\t\t\t    renderDispatch.runtimeMap.eventMap.delete(fiber);\n\t\t\t    renderDispatch.runtimeMap.triggerCallbackMap.delete(fiber);\n\t\t\t    if (Boolean(true) === false) {\n\t\t\t        // fiber.child = null;\n\t\t\t        // fiber.parent = null;\n\t\t\t        // fiber.sibling = null;\n\t\t\t        fiber.instance = null;\n\t\t\t        fiber.hookList = null;\n\t\t\t        fiber.dependence = null;\n\t\t\t        fiber.nativeNode = null;\n\t\t\t        fiber.updateQueue = null;\n\t\t\t    }\n\t\t\t    fiber.patch = myreactSharedExports.PATCH_TYPE.__initial__;\n\t\t\t    fiber.state = myreactSharedExports.STATE_TYPE.__unmount__;\n\t\t\t    if (enableDebugFiled$4.current) {\n\t\t\t        var typedFiber = fiber;\n\t\t\t        typedFiber._debugIsMount = false;\n\t\t\t        delete typedFiber._debugStrict;\n\t\t\t        delete typedFiber._debugEventMap;\n\t\t\t        delete typedFiber._debugUpdateQueue;\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar enableDebugFiled$3 = react.__my_react_shared__.enableDebugFiled;\n\t\t\tvar getIsSameTypeNode = function (newChild, draftFiber) {\n\t\t\t    if (!draftFiber)\n\t\t\t        return false;\n\t\t\t    var result = checkIsSameType(draftFiber, newChild);\n\t\t\t    return result;\n\t\t\t};\n\t\t\tvar getExistingChildren = function (parentFiber) {\n\t\t\t    var existingChildrenMap = new Map();\n\t\t\t    var existingChildrenArray = [];\n\t\t\t    var child = parentFiber.child;\n\t\t\t    var index = 0;\n\t\t\t    while (child) {\n\t\t\t        var key = typeof child.key === \"string\" ? child.key : index;\n\t\t\t        var existingChild = existingChildrenMap.get(key) || new myreactSharedExports.ListTree();\n\t\t\t        existingChild.push(child);\n\t\t\t        existingChildrenMap.set(key, existingChild);\n\t\t\t        existingChildrenArray.push(child);\n\t\t\t        child = child.sibling;\n\t\t\t        index++;\n\t\t\t    }\n\t\t\t    return { existingChildrenMap: existingChildrenMap, existingChildrenArray: existingChildrenArray };\n\t\t\t};\n\t\t\tvar dynamicFragmentProps = { wrap: true };\n\t\t\tvar createFragmentWithInitial = function (renderDispatch, newChild, parentFiber) {\n\t\t\t    // TODO make there are not a element\n\t\t\t    var newElement = react.createElement(myreactSharedExports.Fragment, dynamicFragmentProps, newChild);\n\t\t\t    var newFiber = createFiberNode(renderDispatch, { parent: parentFiber }, newElement);\n\t\t\t    return newFiber;\n\t\t\t};\n\t\t\tvar createFragmentWithUpdate = function (renderDispatch, newChild, parentFiber) {\n\t\t\t    var newElement = react.createElement(myreactSharedExports.Fragment, dynamicFragmentProps, newChild);\n\t\t\t    var newFiber = createFiberNode(renderDispatch, { parent: parentFiber, type: \"position\" }, newElement);\n\t\t\t    return newFiber;\n\t\t\t};\n\t\t\tvar deleteIfNeed = function (renderDispatch, parentFiber, existingChildren) {\n\t\t\t    if (existingChildren.size) {\n\t\t\t        existingChildren.forEach(function forEachInvokePendingUnmountList(list) {\n\t\t\t            list.listToFoot(function invokePendingUnmountList(f) {\n\t\t\t                renderDispatch.pendingUnmount(parentFiber, f);\n\t\t\t            });\n\t\t\t        });\n\t\t\t        renderDispatch.generateChangedList(parentFiber, true);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar getNewFiberWithUpdate = function (renderDispatch, newChild, parentFiber, existingChildren, prevFiberChild, index) {\n\t\t\t    if (Array.isArray(newChild)) {\n\t\t\t        var draftList_1 = existingChildren.get(index);\n\t\t\t        // TODO try to get the same type node?\n\t\t\t        var draftFiber_1 = draftList_1 === null || draftList_1 === void 0 ? void 0 : draftList_1.shift();\n\t\t\t        if (draftList_1 && !draftList_1.length) {\n\t\t\t            existingChildren.delete(index);\n\t\t\t        }\n\t\t\t        // same type\n\t\t\t        if (myreactSharedExports.include(draftFiber_1 === null || draftFiber_1 === void 0 ? void 0 : draftFiber_1.type, exports.NODE_TYPE.__fragment__)) {\n\t\t\t            var newElement = react.createElement(myreactSharedExports.Fragment, dynamicFragmentProps, newChild);\n\t\t\t            draftFiber_1 !== prevFiberChild && renderDispatch.generateChangedList(parentFiber);\n\t\t\t            return updateFiberNode(renderDispatch, { fiber: draftFiber_1, parent: parentFiber, prevFiber: prevFiberChild }, newElement);\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            renderDispatch.generateChangedList(parentFiber);\n\t\t\t            renderDispatch.pendingUnmount(parentFiber, draftFiber_1);\n\t\t\t            return createFragmentWithUpdate(renderDispatch, newChild, parentFiber);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    var keyToGet = react.isValidElement(newChild) && typeof newChild.key === \"string\" ? newChild.key : index;\n\t\t\t    var draftList = existingChildren.get(keyToGet);\n\t\t\t    var draftFiber = draftList === null || draftList === void 0 ? void 0 : draftList.shift();\n\t\t\t    if (draftList && !draftList.length) {\n\t\t\t        existingChildren.delete(keyToGet);\n\t\t\t    }\n\t\t\t    var isSameType = getIsSameTypeNode(newChild, draftFiber);\n\t\t\t    if (isSameType) {\n\t\t\t        draftFiber !== prevFiberChild && renderDispatch.generateChangedList(parentFiber);\n\t\t\t        return updateFiberNode(renderDispatch, { fiber: draftFiber, parent: parentFiber, prevFiber: prevFiberChild }, newChild);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        draftFiber && renderDispatch.pendingUnmount(parentFiber, draftFiber);\n\t\t\t        renderDispatch.generateChangedList(parentFiber);\n\t\t\t        return createFiberNode(renderDispatch, { parent: parentFiber, type: \"position\" }, newChild);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar getNewFiberWithInitial = function (renderDispatch, newChild, parentFiber) {\n\t\t\t    // wrapper array child item as a Fragment fiber node, so all of the children will be a fiber node\n\t\t\t    // and could be add to the child list\n\t\t\t    if (Array.isArray(newChild))\n\t\t\t        return createFragmentWithInitial(renderDispatch, newChild, parentFiber);\n\t\t\t    return createFiberNode(renderDispatch, { parent: parentFiber }, newChild);\n\t\t\t};\n\t\t\tvar transformChildrenFiber = function (renderDispatch, parentFiber, children) {\n\t\t\t    var isUpdate = myreactSharedExports.exclude(parentFiber.state, myreactSharedExports.STATE_TYPE.__create__);\n\t\t\t    var isHMR = myreactSharedExports.include(parentFiber.state, myreactSharedExports.STATE_TYPE.__hmr__);\n\t\t\t    var isRetrigger = myreactSharedExports.include(parentFiber.state, myreactSharedExports.STATE_TYPE.__retrigger__);\n\t\t\t    // is current is retrigger update, skip update children\n\t\t\t    if (isRetrigger)\n\t\t\t        return;\n\t\t\t    if (isUpdate || isHMR) {\n\t\t\t        var _a = getExistingChildren(parentFiber), existingChildrenMap = _a.existingChildrenMap, existingChildrenArray = _a.existingChildrenArray;\n\t\t\t        parentFiber.child = null;\n\t\t\t        var typedParentFiber = parentFiber;\n\t\t\t        if (enableDebugFiled$3.current) {\n\t\t\t            typedParentFiber._debugRenderChildrenCurrent && (typedParentFiber._debugRenderChildrenPrevious = typedParentFiber._debugRenderChildrenCurrent);\n\t\t\t            typedParentFiber._debugRenderChildrenCurrent = [];\n\t\t\t        }\n\t\t\t        if (Array.isArray(children)) {\n\t\t\t            var newChildren = children;\n\t\t\t            var index = 0;\n\t\t\t            var lastFiber = null;\n\t\t\t            while (index < newChildren.length) {\n\t\t\t                var newChild = newChildren[index];\n\t\t\t                var newFiber = getNewFiberWithUpdate(renderDispatch, newChild, parentFiber, existingChildrenMap, existingChildrenArray[index] || null, index);\n\t\t\t                lastFiber && (lastFiber.sibling = newFiber);\n\t\t\t                lastFiber = newFiber;\n\t\t\t                if (enableDebugFiled$3.current)\n\t\t\t                    typedParentFiber._debugRenderChildrenCurrent.push(newChild);\n\t\t\t                index++;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            getNewFiberWithUpdate(renderDispatch, children, parentFiber, existingChildrenMap, existingChildrenArray[0], 0);\n\t\t\t            if (enableDebugFiled$3.current)\n\t\t\t                typedParentFiber._debugRenderChildrenCurrent.push(children);\n\t\t\t        }\n\t\t\t        deleteIfNeed(renderDispatch, parentFiber, existingChildrenMap);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        renderDispatch.generateChangedList(parentFiber);\n\t\t\t        var existingChildrenMap = getExistingChildren(parentFiber).existingChildrenMap;\n\t\t\t        deleteIfNeed(renderDispatch, parentFiber, existingChildrenMap);\n\t\t\t        var typedParentFiber = parentFiber;\n\t\t\t        if (enableDebugFiled$3.current) {\n\t\t\t            typedParentFiber._debugRenderChildrenCurrent && (typedParentFiber._debugRenderChildrenPrevious = typedParentFiber._debugRenderChildrenCurrent);\n\t\t\t            typedParentFiber._debugRenderChildrenCurrent = [];\n\t\t\t        }\n\t\t\t        parentFiber.child = null;\n\t\t\t        if (Array.isArray(children)) {\n\t\t\t            var newChildren = children;\n\t\t\t            var lastFiber = null;\n\t\t\t            var index = 0;\n\t\t\t            while (index < newChildren.length) {\n\t\t\t                var newChild = newChildren[index];\n\t\t\t                var newFiber = getNewFiberWithInitial(renderDispatch, newChild, parentFiber);\n\t\t\t                lastFiber && (lastFiber.sibling = newFiber);\n\t\t\t                lastFiber = newFiber;\n\t\t\t                if (enableDebugFiled$3.current)\n\t\t\t                    typedParentFiber._debugRenderChildrenCurrent.push(newChild);\n\t\t\t                index++;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            getNewFiberWithInitial(renderDispatch, children, parentFiber);\n\t\t\t            if (enableDebugFiled$3.current)\n\t\t\t                typedParentFiber._debugRenderChildrenCurrent.push(children);\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar currentComponentFiber$2 = react.__my_react_internal__.currentComponentFiber, MyReactInternalInstance$3 = react.__my_react_internal__.MyReactInternalInstance;\n\t\t\tvar processProvider = function (renderDispatch, fiber) {\n\t\t\t    if (renderDispatch.isAppMounted) {\n\t\t\t        var prevProps = fiber.memoizedProps.value;\n\t\t\t        var nextProps = fiber.pendingProps.value;\n\t\t\t        if (!myreactSharedExports.isNormalEquals(prevProps, nextProps)) {\n\t\t\t            prepareUpdateAllDependence(renderDispatch, fiber, prevProps, nextProps);\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processConsumer = function (renderDispatch, fiber) {\n\t\t\t    var typedElementType = fiber.elementType;\n\t\t\t    var isUpdate = !!fiber.instance;\n\t\t\t    fiber.instance = fiber.instance || new MyReactInternalInstance$3();\n\t\t\t    !isUpdate && initInstance(fiber.instance);\n\t\t\t    !isUpdate && setOwnerForInstance(fiber.instance, fiber);\n\t\t\t    var Context = typedElementType.Context;\n\t\t\t    currentComponentFiber$2.current = fiber;\n\t\t\t    var contextFiber = getInstanceContextFiber(fiber.instance);\n\t\t\t    var finalContext = null;\n\t\t\t    if (!contextFiber || myreactSharedExports.include(contextFiber.state, myreactSharedExports.STATE_TYPE.__unmount__)) {\n\t\t\t        var providerFiber = renderDispatch.resolveContextFiber(fiber, Context);\n\t\t\t        var context = renderDispatch.resolveContextValue(providerFiber, Context);\n\t\t\t        finalContext = context;\n\t\t\t        setContextForInstance(fiber.instance, providerFiber);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        var context = renderDispatch.resolveContextValue(contextFiber, Context);\n\t\t\t        finalContext = context;\n\t\t\t    }\n\t\t\t    var typedChildren = fiber.pendingProps.children;\n\t\t\t    var children = safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallConsumerChildren() {\n\t\t\t            return typedChildren(finalContext);\n\t\t\t        },\n\t\t\t    });\n\t\t\t    currentComponentFiber$2.current = null;\n\t\t\t    return children;\n\t\t\t};\n\n\t\t\tvar currentHookTreeNode = react.__my_react_internal__.currentHookTreeNode, currentHookNodeIndex$1 = react.__my_react_internal__.currentHookNodeIndex, currentScheduler$4 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar processFunction = function (fiber) {\n\t\t\t    var _a;\n\t\t\t    currentHookTreeNode.current = (_a = fiber.hookList) === null || _a === void 0 ? void 0 : _a.head;\n\t\t\t    currentHookNodeIndex$1.current = 0;\n\t\t\t    var typedElementType = fiber.elementType;\n\t\t\t    var children = null;\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__forwardRef__)) {\n\t\t\t        var typedElementTypeWithRef_1 = typedElementType;\n\t\t\t        children = safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallForwardRefFunctionalComponent() {\n\t\t\t                var _a, _b;\n\t\t\t                var re = undefined;\n\t\t\t                try {\n\t\t\t                    re = typedElementTypeWithRef_1(fiber.pendingProps, fiber.ref);\n\t\t\t                }\n\t\t\t                catch (e) {\n\t\t\t                    if (myreactSharedExports.isPromise(e)) {\n\t\t\t                        re = (_b = (_a = currentScheduler$4.current) === null || _a === void 0 ? void 0 : _a.dispatchPromise) === null || _b === void 0 ? void 0 : _b.call(_a, { fiber: fiber, promise: e });\n\t\t\t                    }\n\t\t\t                    else {\n\t\t\t                        throw e;\n\t\t\t                    }\n\t\t\t                }\n\t\t\t                return re;\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        children = safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallFunctionalComponent() {\n\t\t\t                var _a, _b;\n\t\t\t                var re = undefined;\n\t\t\t                try {\n\t\t\t                    re = typedElementType(fiber.pendingProps);\n\t\t\t                }\n\t\t\t                catch (e) {\n\t\t\t                    if (myreactSharedExports.isPromise(e)) {\n\t\t\t                        re = (_b = (_a = currentScheduler$4.current) === null || _a === void 0 ? void 0 : _a.dispatchPromise) === null || _b === void 0 ? void 0 : _b.call(_a, { fiber: fiber, promise: e });\n\t\t\t                    }\n\t\t\t                    else {\n\t\t\t                        throw e;\n\t\t\t                    }\n\t\t\t                }\n\t\t\t                return re;\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    currentHookNodeIndex$1.current = 0;\n\t\t\t    currentHookTreeNode.current = null;\n\t\t\t    return children;\n\t\t\t};\n\n\t\t\tvar WrapperByLazyScope = function (children) { return react.createElement(myreactSharedExports.ScopeLazy, null, children); };\n\t\t\tvar WrapperBySuspenseScope = function (children) {\n\t\t\t    return react.createElement(myreactSharedExports.ScopeSuspense, null, react.createElement(myreactSharedExports.Comment, { mode: \"s\" }), children, react.createElement(myreactSharedExports.Comment, { mode: \"e\" }));\n\t\t\t};\n\t\t\tvar isCommentElement = function (fiber) { return myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__comment__); };\n\t\t\tvar isCommentStartElement = function (fiber) {\n\t\t\t    if (isCommentElement(fiber)) {\n\t\t\t        return fiber.pendingProps[\"mode\"] === \"s\";\n\t\t\t    }\n\t\t\t    return false;\n\t\t\t};\n\t\t\tvar isCommentEndElement = function (fiber) {\n\t\t\t    if (isCommentElement(fiber)) {\n\t\t\t        return fiber.pendingProps[\"mode\"] === \"e\";\n\t\t\t    }\n\t\t\t    return false;\n\t\t\t};\n\n\t\t\tvar enableSuspenseRoot$1 = react.__my_react_shared__.enableSuspenseRoot;\n\t\t\tvar currentScheduler$3 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar loadLazy = function (renderDispatch, typedElementType) { return __awaiter(void 0, void 0, void 0, function () {\n\t\t\t    var loadedPromise, loaded, render, e_1;\n\t\t\t    return __generator(this, function (_a) {\n\t\t\t        switch (_a.label) {\n\t\t\t            case 0:\n\t\t\t                if (typedElementType._loaded)\n\t\t\t                    return [2 /*return*/];\n\t\t\t                _a.label = 1;\n\t\t\t            case 1:\n\t\t\t                _a.trys.push([1, 3, 4, 5]);\n\t\t\t                typedElementType._loading = true;\n\t\t\t                loadedPromise = typedElementType.loader();\n\t\t\t                if (!myreactSharedExports.isPromise(loadedPromise)) {\n\t\t\t                    console.warn(\"[@my-react/react] lazy() must return a promise, but got\", loadedPromise);\n\t\t\t                }\n\t\t\t                return [4 /*yield*/, Promise.resolve(loadedPromise)];\n\t\t\t            case 2:\n\t\t\t                loaded = _a.sent();\n\t\t\t                render = typeof loaded === \"object\" && (typeof (loaded === null || loaded === void 0 ? void 0 : loaded.default) === \"function\" || typeof (loaded === null || loaded === void 0 ? void 0 : loaded.default) === \"object\") ? loaded.default : loaded;\n\t\t\t                typedElementType.render = render;\n\t\t\t                return [3 /*break*/, 5];\n\t\t\t            case 3:\n\t\t\t                e_1 = _a.sent();\n\t\t\t                typedElementType._error = e_1;\n\t\t\t                return [3 /*break*/, 5];\n\t\t\t            case 4:\n\t\t\t                typedElementType._loaded = true;\n\t\t\t                typedElementType._loading = false;\n\t\t\t                return [7 /*endfinally*/];\n\t\t\t            case 5: return [2 /*return*/];\n\t\t\t        }\n\t\t\t    });\n\t\t\t}); };\n\t\t\tvar processLazy = function (renderDispatch, fiber) {\n\t\t\t    var _a, _b;\n\t\t\t    var typedElementType = fiber.elementType;\n\t\t\t    if (typedElementType._error) {\n\t\t\t        (_b = (_a = currentScheduler$3.current).dispatchError) === null || _b === void 0 ? void 0 : _b.call(_a, { fiber: fiber, error: typedElementType._error });\n\t\t\t        return null;\n\t\t\t    }\n\t\t\t    if (typedElementType._loaded === true) {\n\t\t\t        var render = typedElementType.render;\n\t\t\t        return WrapperByLazyScope(react.createElement(render, fiber.pendingProps));\n\t\t\t    }\n\t\t\t    typedElementType._list = typedElementType._list || new Set();\n\t\t\t    typedElementType._list.add(fiber);\n\t\t\t    var suspenseFiber = renderDispatch.resolveSuspenseFiber(fiber);\n\t\t\t    if (suspenseFiber) {\n\t\t\t        var suspenseField = getInstanceFieldByInstance(suspenseFiber.instance);\n\t\t\t        suspenseField.asyncLoadList.uniPush(typedElementType);\n\t\t\t        renderDispatch.pendingSuspenseFiberArray.uniPush(suspenseFiber);\n\t\t\t        return null;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        // TODO  update flow\n\t\t\t        if (enableSuspenseRoot$1.current && !renderDispatch.isAppMounted) {\n\t\t\t            var suspenseField = getInstanceFieldByInstance(renderDispatch);\n\t\t\t            suspenseField.asyncLoadList.uniPush(typedElementType);\n\t\t\t            return null;\n\t\t\t        }\n\t\t\t        if (typedElementType._loading)\n\t\t\t            return null;\n\t\t\t        typedElementType._loading = true;\n\t\t\t        var renderScheduler_1 = currentScheduler$3.current;\n\t\t\t        renderDispatch.processLazy(typedElementType).then(function () {\n\t\t\t            fiber.state = myreactSharedExports.STATE_TYPE.__triggerSync__;\n\t\t\t            typedElementType._list.delete(fiber);\n\t\t\t            var updater = {\n\t\t\t                type: myreactSharedExports.UpdateQueueType.lazy,\n\t\t\t                trigger: fiber,\n\t\t\t                isSync: true,\n\t\t\t                isForce: true,\n\t\t\t                payLoad: typedElementType,\n\t\t\t            };\n\t\t\t            renderScheduler_1.dispatchState(updater);\n\t\t\t        });\n\t\t\t        return null;\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar MyReactInternalInstanceClass$1 = react.__my_react_internal__.MyReactInternalInstance, instanceToInitialFieldMap = react.__my_react_internal__.instanceToInitialFieldMap;\n\t\t\t// support private instance field\n\t\t\tvar instanceMap = instanceToInitialFieldMap;\n\t\t\tvar initInstance = function (instance) {\n\t\t\t    var exist = instanceMap.get(instance);\n\t\t\t    if (exist)\n\t\t\t        return exist;\n\t\t\t    var field = {\n\t\t\t        _owner: null,\n\t\t\t        _context: null,\n\t\t\t        _subscribe: null,\n\t\t\t        effect: myreactSharedExports.Effect_TYPE.__initial__,\n\t\t\t    };\n\t\t\t    instanceMap.set(instance, field);\n\t\t\t    return field;\n\t\t\t};\n\t\t\tvar initVisibleInstance = function (instance) {\n\t\t\t    var field = getInstanceFieldByInstance(instance);\n\t\t\t    if (!field)\n\t\t\t        throw new Error(\"[@my-react/react] can not get field for instance, this is a bug for @my-react\");\n\t\t\t    var typedField = field;\n\t\t\t    typedField.isHidden = false;\n\t\t\t};\n\t\t\tvar setOwnerForInstance = function (instance, fiber, instanceField) {\n\t\t\t    var field = instanceField || instanceMap.get(instance);\n\t\t\t    instance._reactInternals = fiber;\n\t\t\t    // unmount instance\n\t\t\t    if (!field)\n\t\t\t        return;\n\t\t\t    field._owner = fiber;\n\t\t\t};\n\t\t\tvar setContextForInstance = function (instance, fiber, instanceField) {\n\t\t\t    var _a, _b;\n\t\t\t    var field = instanceField || instanceMap.get(instance);\n\t\t\t    // unmount instance\n\t\t\t    if (!field)\n\t\t\t        return;\n\t\t\t    (_a = field._context) === null || _a === void 0 ? void 0 : _a._delDependence(instance);\n\t\t\t    field._context = fiber;\n\t\t\t    (_b = field._context) === null || _b === void 0 ? void 0 : _b._addDependence(instance);\n\t\t\t};\n\t\t\tvar setSubscribeForInstance = function (instance, fiber, instanceField) {\n\t\t\t    var field = instanceField || instanceMap.get(instance);\n\t\t\t    // unmount instance\n\t\t\t    if (!field)\n\t\t\t        return;\n\t\t\t    if (!field._subscribe) {\n\t\t\t        field._subscribe = new Set();\n\t\t\t    }\n\t\t\t    if (fiber) {\n\t\t\t        field._subscribe.add(fiber);\n\t\t\t        fiber._addDependence(instance);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar setEffectForInstance = function (instance, effect, instanceField) {\n\t\t\t    var field = instanceField || instanceMap.get(instance);\n\t\t\t    // unmount instance\n\t\t\t    if (!field)\n\t\t\t        return;\n\t\t\t    field.effect = effect;\n\t\t\t};\n\t\t\tvar unmountInstance = function (instance) {\n\t\t\t    var _a, _b, _c;\n\t\t\t    if (!instance || !instance.isMyReactInstance)\n\t\t\t        return;\n\t\t\t    var field = instanceMap.get(instance);\n\t\t\t    if (!field)\n\t\t\t        return;\n\t\t\t    (_a = field._context) === null || _a === void 0 ? void 0 : _a._delDependence(instance);\n\t\t\t    field.effect = myreactSharedExports.Effect_TYPE.__unmount__;\n\t\t\t    field._owner = null;\n\t\t\t    field._context = null;\n\t\t\t    (_c = (_b = field._subscribe) === null || _b === void 0 ? void 0 : _b.forEach) === null || _c === void 0 ? void 0 : _c.call(_b, function (fiber) {\n\t\t\t        var _a;\n\t\t\t        (_a = fiber === null || fiber === void 0 ? void 0 : fiber._delDependence) === null || _a === void 0 ? void 0 : _a.call(fiber, instance);\n\t\t\t    });\n\t\t\t    instanceMap.delete(instance);\n\t\t\t};\n\t\t\tvar getInstanceFieldByInstance = function (instance) {\n\t\t\t    var field = instanceMap.get(instance);\n\t\t\t    if (!field)\n\t\t\t        throw new Error(\"[@my-react/react] instance not found, look like a bug for @my-react\");\n\t\t\t    return field;\n\t\t\t};\n\t\t\tvar getInstanceOwnerFiber = function (instance) {\n\t\t\t    var typedInstance = instance;\n\t\t\t    if (typedInstance.isMyReactInstance) {\n\t\t\t        var field = instanceMap.get(typedInstance);\n\t\t\t        return field === null || field === void 0 ? void 0 : field._owner;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        if (checkIsMyReactFiberNode(instance)) {\n\t\t\t            return instance;\n\t\t\t        }\n\t\t\t        throw new Error(\"instance is not a MyReactInternalInstance or MyReactFiberNode\");\n\t\t\t    }\n\t\t\t};\n\t\t\tvar getInstanceContextFiber = function (instance) {\n\t\t\t    var field = instanceMap.get(instance);\n\t\t\t    return field === null || field === void 0 ? void 0 : field._context;\n\t\t\t};\n\t\t\tvar getInstanceEffectState = function (instance) {\n\t\t\t    var field = instanceMap.get(instance);\n\t\t\t    return field === null || field === void 0 ? void 0 : field.effect;\n\t\t\t};\n\t\t\t{\n\t\t\t    Object.defineProperty(MyReactInternalInstanceClass$1.prototype, \"_debugField\", {\n\t\t\t        get: function () {\n\t\t\t            return instanceMap.get(this);\n\t\t\t        },\n\t\t\t        configurable: true,\n\t\t\t    });\n\t\t\t}\n\n\t\t\tvar currentComponentFiber$1 = react.__my_react_internal__.currentComponentFiber, MyReactInternalInstance$2 = react.__my_react_internal__.MyReactInternalInstance;\n\t\t\tvar enablePerformanceLog = react.__my_react_shared__.enablePerformanceLog, enableDebugFiled$2 = react.__my_react_shared__.enableDebugFiled;\n\t\t\tvar nextWorkCommon = function (renderDispatch, fiber, children) {\n\t\t\t    if (myreactSharedExports.isPromise(children)) {\n\t\t\t        console.error(\"[@my-react/react] render function should not return a promise, please check your code\");\n\t\t\t    }\n\t\t\t    if (myreactSharedExports.exclude(fiber.patch, myreactSharedExports.PATCH_TYPE.__update__)) {\n\t\t\t        fiber.memoizedProps = fiber.pendingProps;\n\t\t\t    }\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallTransformChildrenFiber() {\n\t\t\t            transformChildrenFiber(renderDispatch, fiber, children);\n\t\t\t        },\n\t\t\t    });\n\t\t\t};\n\t\t\tvar nextWorkNormal = function (renderDispatch, fiber) {\n\t\t\t    if (\"children\" in fiber.pendingProps ||\n\t\t\t        \"children\" in fiber.memoizedProps ||\n\t\t\t        \"dangerouslySetInnerHTML\" in fiber.pendingProps ||\n\t\t\t        \"dangerouslySetInnerHTML\" in fiber.memoizedProps) {\n\t\t\t        var children = fiber.pendingProps.children;\n\t\t\t        nextWorkCommon(renderDispatch, fiber, children);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar nextWorkClassComponent = function (renderDispatch, fiber) {\n\t\t\t    if (!fiber.instance) {\n\t\t\t        var children = processClassComponentMount(renderDispatch, fiber);\n\t\t\t        nextWorkCommon(renderDispatch, fiber, children);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        var field = getClassInstanceFieldByInstance(fiber.instance);\n\t\t\t        if (!field.isMounted)\n\t\t\t            return;\n\t\t\t        var _a = processClassComponentUpdate(renderDispatch, fiber), updated = _a.updated, children = _a.children;\n\t\t\t        if (updated)\n\t\t\t            nextWorkCommon(renderDispatch, fiber, children);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar nextWorkFunctionComponent = function (renderDispatch, fiber) {\n\t\t\t    var children = processFunction(fiber);\n\t\t\t    nextWorkCommon(renderDispatch, fiber, children);\n\t\t\t};\n\t\t\tvar nextWorkComponent = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__function__)) {\n\t\t\t        currentComponentFiber$1.current = fiber;\n\t\t\t        nextWorkFunctionComponent(renderDispatch, fiber);\n\t\t\t        currentComponentFiber$1.current = null;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        currentComponentFiber$1.current = fiber;\n\t\t\t        nextWorkClassComponent(renderDispatch, fiber);\n\t\t\t        currentComponentFiber$1.current = null;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar nextWorkLazy = function (renderDispatch, fiber) {\n\t\t\t    var children = processLazy(renderDispatch, fiber);\n\t\t\t    nextWorkCommon(renderDispatch, fiber, children);\n\t\t\t};\n\t\t\tvar nextWorkSuspense = function (renderDispatch, fiber) {\n\t\t\t    var children = processSuspense(fiber);\n\t\t\t    nextWorkCommon(renderDispatch, fiber, children);\n\t\t\t};\n\t\t\tvar nextWorkProvider = function (renderDispatch, fiber) {\n\t\t\t    processProvider(renderDispatch, fiber);\n\t\t\t    nextWorkNormal(renderDispatch, fiber);\n\t\t\t};\n\t\t\tvar nextWorkConsumer = function (renderDispatch, fiber) {\n\t\t\t    var children = processConsumer(renderDispatch, fiber);\n\t\t\t    nextWorkCommon(renderDispatch, fiber, children);\n\t\t\t};\n\t\t\tvar nextWorkRoot = function (renderDispatch, fiber) {\n\t\t\t    var isUpdate = !!fiber.instance;\n\t\t\t    fiber.instance = fiber.instance || new MyReactInternalInstance$2();\n\t\t\t    !isUpdate && initInstance(fiber.instance);\n\t\t\t    !isUpdate && initVisibleInstance(fiber.instance);\n\t\t\t    !isUpdate && setOwnerForInstance(fiber.instance, fiber);\n\t\t\t    var instanceField = getInstanceFieldByInstance(fiber.instance);\n\t\t\t    if (instanceField.isHidden) {\n\t\t\t        nextWorkCommon(renderDispatch, fiber, null);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        nextWorkNormal(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t};\n\t\t\tvar runtimeNextWork = function (renderDispatch, fiber) {\n\t\t\t    renderDispatch.dispatchFiber(fiber);\n\t\t\t};\n\t\t\tvar runtimeNextWorkDev = function (renderDispatch, fiber) {\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberRunListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.beforeFiberRun) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t    setRefreshTypeMap(fiber);\n\t\t\t    var typedFiber = fiber;\n\t\t\t    var start = Date.now();\n\t\t\t    runtimeNextWork(renderDispatch, fiber);\n\t\t\t    var end = Date.now();\n\t\t\t    var renderTime = end - start;\n\t\t\t    var hasPerformanceWarn = renderTime > renderDispatch.performanceLogTimeLimit;\n\t\t\t    if (enablePerformanceLog.current && hasPerformanceWarn) {\n\t\t\t        onceWarnWithKeyAndFiber(fiber, \"performance\", \"[@my-react/react] render current component take a lot of time, there have a performance warning\");\n\t\t\t    }\n\t\t\t    if (hasPerformanceWarn) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: fiber,\n\t\t\t            action: function safeCallPerformanceWarnListener() {\n\t\t\t                var _a, _b;\n\t\t\t                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.performanceWarn) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(fiber); });\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    var timeNow = end;\n\t\t\t    if (enableDebugFiled$2.current) {\n\t\t\t        if (typedFiber.state === myreactSharedExports.STATE_TYPE.__create__) {\n\t\t\t            typedFiber._debugRenderState = {\n\t\t\t                mountTimeStep: timeNow,\n\t\t\t                timeForRender: renderTime,\n\t\t\t                maxTimeForRender: renderTime,\n\t\t\t            };\n\t\t\t            typedFiber._debugIsMount = true;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            var prevRenderState = Object.assign({}, typedFiber._debugRenderState);\n\t\t\t            var prevRenderTime = prevRenderState.updateTimeStep || prevRenderState.mountTimeStep;\n\t\t\t            typedFiber._debugRenderState = {\n\t\t\t                renderCount: (prevRenderState.renderCount || 0) + 1,\n\t\t\t                mountTimeStep: prevRenderState.mountTimeStep,\n\t\t\t                updateTimeStep: timeNow,\n\t\t\t                trigger: currentTriggerFiber.current,\n\t\t\t                timeForRender: renderTime,\n\t\t\t                timeForUpdate: timeNow - prevRenderTime,\n\t\t\t                maxTimeForRender: Math.max(prevRenderState.maxTimeForRender, renderTime),\n\t\t\t            };\n\t\t\t        }\n\t\t\t    }\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberRunListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.afterFiberRun) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(fiber); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t};\n\n\t\t\tvar initSuspenseInstance = function (instance) {\n\t\t\t    var field = getInstanceFieldByInstance(instance);\n\t\t\t    if (!field)\n\t\t\t        throw new Error(\"[@my-react/react] can not get field for instance, this is a bug for @my-react\");\n\t\t\t    var typedField = field;\n\t\t\t    typedField.isHidden = false;\n\t\t\t    typedField.asyncLoadList = new myreactSharedExports.UniqueArray();\n\t\t\t};\n\n\t\t\tvar MyReactInternalInstance$1 = react.__my_react_internal__.MyReactInternalInstance;\n\t\t\tvar processSuspense = function (fiber) {\n\t\t\t    var isUpdate = !!fiber.instance;\n\t\t\t    fiber.instance = fiber.instance || new MyReactInternalInstance$1();\n\t\t\t    !isUpdate && initInstance(fiber.instance);\n\t\t\t    !isUpdate && initVisibleInstance(fiber.instance);\n\t\t\t    !isUpdate && initSuspenseInstance(fiber.instance);\n\t\t\t    !isUpdate && setOwnerForInstance(fiber.instance, fiber);\n\t\t\t    var instanceField = getInstanceFieldByInstance(fiber.instance);\n\t\t\t    var children = WrapperBySuspenseScope(instanceField.isHidden ? fiber.pendingProps.fallback : fiber.pendingProps.children);\n\t\t\t    return children;\n\t\t\t};\n\n\t\t\tvar Dispatcher = react.__my_react_internal__.Dispatcher, MyReactInternalInstanceClass = react.__my_react_internal__.MyReactInternalInstance, dispatchToListenerMap = react.__my_react_internal__.dispatchToListenerMap;\n\t\t\tvar getInitialListeners = function () {\n\t\t\t    return {\n\t\t\t            fiberInitial: new Set(),\n\t\t\t            fiberUpdate: new Set(),\n\t\t\t            fiberHasChange: new Set(),\n\t\t\t            fiberUnmount: new Set(),\n\t\t\t            fiberHMR: new Set(),\n\t\t\t            beforeFiberRun: new Set(),\n\t\t\t            afterFiberRun: new Set(),\n\t\t\t            fiberWarn: new Set(),\n\t\t\t            fiberError: new Set(),\n\t\t\t            fiberState: new Set(),\n\t\t\t            fiberTrigger: new Set(),\n\t\t\t            performanceWarn: new Set(),\n\t\t\t            instanceInitial: new Set(),\n\t\t\t            instanceUpdate: new Set(),\n\t\t\t            instanceState: new Set(),\n\t\t\t            instanceUnmount: new Set(),\n\t\t\t            hookInitial: new Set(),\n\t\t\t            hookUpdate: new Set(),\n\t\t\t            hookState: new Set(),\n\t\t\t            hookUnmount: new Set(),\n\t\t\t            beforeCommit: new Set(),\n\t\t\t            afterCommit: new Set(),\n\t\t\t            beforeUpdate: new Set(),\n\t\t\t            afterUpdate: new Set(),\n\t\t\t            beforeUnmount: new Set(),\n\t\t\t            afterUnmount: new Set(),\n\t\t\t        }\n\t\t\t        ;\n\t\t\t};\n\t\t\tvar getInitialMap = function () { return ({\n\t\t\t    effectMap: new MyWeakMap(),\n\t\t\t    layoutEffectMap: new MyWeakMap(),\n\t\t\t    insertionEffectMap: new MyWeakMap(),\n\t\t\t    unmountMap: new MyWeakMap(),\n\t\t\t    eventMap: new MyWeakMap(),\n\t\t\t    triggerCallbackMap: new MyWeakMap(),\n\t\t\t}); };\n\t\t\tvar getInitialFiber = function () { return ({\n\t\t\t    scheduledFiber: null,\n\t\t\t    errorCatchFiber: null,\n\t\t\t    nextWorkingFiber: null,\n\t\t\t    retriggerFiber: null,\n\t\t\t}); };\n\t\t\tvar initialRef = {\n\t\t\t    typeForRef: exports.NODE_TYPE.__plain__ | exports.NODE_TYPE.__class__,\n\t\t\t    typeForCreate: exports.NODE_TYPE.__text__ | exports.NODE_TYPE.__plain__ | exports.NODE_TYPE.__portal__ | exports.NODE_TYPE.__comment__,\n\t\t\t    typeForUpdate: exports.NODE_TYPE.__text__ | exports.NODE_TYPE.__plain__ | exports.NODE_TYPE.__comment__,\n\t\t\t    typeForAppend: exports.NODE_TYPE.__text__ | exports.NODE_TYPE.__plain__ | exports.NODE_TYPE.__comment__,\n\t\t\t    typeForNativeNode: exports.NODE_TYPE.__text__ | exports.NODE_TYPE.__plain__ | exports.NODE_TYPE.__portal__ | exports.NODE_TYPE.__comment__,\n\t\t\t};\n\t\t\tvar listenerMap = dispatchToListenerMap;\n\t\t\tvar RenderDispatchEvent = /** @class */ (function (_super) {\n\t\t\t    __extends(RenderDispatchEvent, _super);\n\t\t\t    function RenderDispatchEvent() {\n\t\t\t        var _this = _super.call(this) || this;\n\t\t\t        _this.dispatcher = Dispatcher;\n\t\t\t        _this.runtimeRef = initialRef;\n\t\t\t        _this.runtimeMap = getInitialMap();\n\t\t\t        _this.runtimeFiber = getInitialFiber();\n\t\t\t        listenerMap.set(_this, getInitialListeners());\n\t\t\t        initInstance(_this);\n\t\t\t        initVisibleInstance(_this);\n\t\t\t        initSuspenseInstance(_this);\n\t\t\t        Object.defineProperty(_this, \"dispatcher\", {\n\t\t\t            value: Dispatcher,\n\t\t\t            writable: false,\n\t\t\t            enumerable: false,\n\t\t\t            configurable: false,\n\t\t\t        });\n\t\t\t        return _this;\n\t\t\t    }\n\t\t\t    RenderDispatchEvent.prototype.getFiberTree = function (_fiber) {\n\t\t\t        throw new Error(\"Method not implemented.\");\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.readPromise = function (_params) {\n\t\t\t        throw new Error(\"Method not implemented.\");\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.readContext = function (_params) {\n\t\t\t        throw new Error(\"Method not implemented.\");\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.dispatchHook = function (_params) {\n\t\t\t        throw new Error(\"Method not implemented.\");\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.dispatchState = function (_params) {\n\t\t\t        throw new Error(\"Method not implemented.\");\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.dispatchError = function (_params) {\n\t\t\t        throw new Error(\"Method not implemented.\");\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.dispatchPromise = function (_params) {\n\t\t\t        throw new Error(\"Method not implemented.\");\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.trigger = function (_fiber, _state, cb) {\n\t\t\t        return triggerUpdateOnFiber(_fiber, _state, cb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.generateCommitList = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingCreate = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingUpdate = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingAppend = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingPosition = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingRef = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingUnmount = function (_fiber, _pendingUnmount) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingEffect = function (_fiber, _effect, _option) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingLayoutEffect = function (_fiber, _layoutEffect, _option) { };\n\t\t\t    RenderDispatchEvent.prototype.pendingInsertionEffect = function (_fiber, _insertionEffect, _option) { };\n\t\t\t    RenderDispatchEvent.prototype.dispatchFiber = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.processLazy = function (_elementType) {\n\t\t\t        return Promise.resolve();\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.processPromise = function (_promise) {\n\t\t\t        return Promise.resolve();\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.commitCreate = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.commitUpdate = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.commitAppend = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.commitPosition = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.commitSetRef = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.commitUnsetRef = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.commitClear = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.resolveStrict = function (_fiber) {\n\t\t\t        return false;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.resolveScope = function (_fiber) {\n\t\t\t        return null;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.resolveSuspenseValue = function (_fiber) {\n\t\t\t        return null;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.resolveSuspenseFiber = function (_fiber) {\n\t\t\t        return null;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.resolveErrorBoundaries = function (_fiber) {\n\t\t\t        return null;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.resolveContextFiber = function (_fiber, _contextObject) {\n\t\t\t        return null;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.resolveContextValue = function (_fiber, _contextObject) {\n\t\t\t        return null;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.reconcileCommit = function (_fiber) { };\n\t\t\t    RenderDispatchEvent.prototype.reconcileUpdate = function (_list) { };\n\t\t\t    RenderDispatchEvent.prototype.reconcileUnmount = function () { };\n\t\t\t    RenderDispatchEvent.prototype.shouldYield = function () {\n\t\t\t        return false;\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberInitial = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberInitial;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberInitial = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberInitial;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            cb(_fiber);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberUpdate;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberChange = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberHasChange;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberChange = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberHasChange;\n\t\t\t        var onceCb = function (_list) {\n\t\t\t            cb(_list);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberUpdate;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            cb(_fiber);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberUnmount;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberUnmount;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            cb(_fiber);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberState = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberState;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberState = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberState;\n\t\t\t        var onceCb = function (_fiber, _updater) {\n\t\t\t            cb(_fiber, _updater);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberTrigger = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberTrigger;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberTrigger = function (cb) {\n\t\t\t        var set = listenerMap.get(this).fiberTrigger;\n\t\t\t        var onceCb = function (_fiber, _state) {\n\t\t\t            cb(_fiber, _state);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberHMR = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).fiberHMR;\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, cb);\n\t\t\t        return function () { var _a; return (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberHMR = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).fiberHMR;\n\t\t\t        var onceCb = function (_fiber, _forceRefresh) {\n\t\t\t            var _a;\n\t\t\t            cb(_fiber, _forceRefresh);\n\t\t\t            (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t        };\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberWarn = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).fiberWarn;\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, cb);\n\t\t\t        return function () { var _a; return (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberWarn = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).fiberWarn;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            var _a;\n\t\t\t            cb(_fiber);\n\t\t\t            (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t        };\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onFiberError = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).fiberError;\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, cb);\n\t\t\t        return function () { var _a; return (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceFiberError = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).fiberError;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            var _a;\n\t\t\t            cb(_fiber);\n\t\t\t            (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t        };\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onPerformanceWarn = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).performanceWarn;\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, cb);\n\t\t\t        return function () { var _a; return (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.oncePerformanceWarn = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).performanceWarn;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            var _a;\n\t\t\t            cb(_fiber);\n\t\t\t            (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t        };\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onBeforeFiberRun = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).beforeFiberRun;\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, cb);\n\t\t\t        return function () { var _a; return (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceBeforeFiberRun = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).beforeFiberRun;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            var _a;\n\t\t\t            cb(_fiber);\n\t\t\t            (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t        };\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onAfterFiberRun = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).afterFiberRun;\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, cb);\n\t\t\t        return function () { var _a; return (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceAfterFiberRun = function (cb) {\n\t\t\t        var _a;\n\t\t\t        var set = listenerMap.get(this).afterFiberRun;\n\t\t\t        var onceCb = function (_fiber) {\n\t\t\t            var _a;\n\t\t\t            cb(_fiber);\n\t\t\t            (_a = set === null || set === void 0 ? void 0 : set.delete) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t        };\n\t\t\t        (_a = set === null || set === void 0 ? void 0 : set.add) === null || _a === void 0 ? void 0 : _a.call(set, onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onInstanceInitial = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceInitial;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceInstanceInitial = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceInitial;\n\t\t\t        var onceCb = function (_instance, _fiber) {\n\t\t\t            cb(_instance, _fiber);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onInstanceUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceUpdate;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceInstanceUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceUpdate;\n\t\t\t        var onceCb = function (_instance, _fiber) {\n\t\t\t            cb(_instance, _fiber);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onInstanceState = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceState;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceInstanceState = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceState;\n\t\t\t        var onceCb = function (_instance, _fiber, _updater) {\n\t\t\t            cb(_instance, _fiber, _updater);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onInstanceUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceUnmount;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceInstanceUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).instanceUnmount;\n\t\t\t        var onceCb = function (_instance, _fiber) {\n\t\t\t            cb(_instance, _fiber);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onHookInitial = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookInitial;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceHookInitial = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookInitial;\n\t\t\t        var onceCb = function (_hook) {\n\t\t\t            cb(_hook);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onHookUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookUpdate;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceHookUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookUpdate;\n\t\t\t        var onceCb = function (_hook) {\n\t\t\t            cb(_hook);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onHookUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookUnmount;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceHookUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookUnmount;\n\t\t\t        var onceCb = function (_hook) {\n\t\t\t            cb(_hook);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onHookState = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookState;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceHookTrigger = function (cb) {\n\t\t\t        var set = listenerMap.get(this).hookState;\n\t\t\t        var onceCb = function (_hook, _fiber, _updater) {\n\t\t\t            cb(_hook, _fiber, _updater);\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onBeforeCommit = function (cb) {\n\t\t\t        var set = listenerMap.get(this).beforeCommit;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceBeforeCommit = function (cb) {\n\t\t\t        var set = listenerMap.get(this).beforeCommit;\n\t\t\t        var onceCb = function () {\n\t\t\t            cb();\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onAfterCommit = function (cb) {\n\t\t\t        var set = listenerMap.get(this).afterCommit;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceAfterCommit = function (cb) {\n\t\t\t        var set = listenerMap.get(this).afterCommit;\n\t\t\t        var onceCb = function () {\n\t\t\t            cb();\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onBeforeUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).beforeUpdate;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceBeforeUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).beforeUpdate;\n\t\t\t        var onceCb = function () {\n\t\t\t            cb();\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onAfterUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).afterUpdate;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceAfterUpdate = function (cb) {\n\t\t\t        var set = listenerMap.get(this).afterUpdate;\n\t\t\t        var onceCb = function () {\n\t\t\t            cb();\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onBeforeUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).beforeUnmount;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceBeforeUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).beforeUnmount;\n\t\t\t        var onceCb = function () {\n\t\t\t            cb();\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onAfterUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).afterUnmount;\n\t\t\t        set.add(cb);\n\t\t\t        return function () { return set.delete(cb); };\n\t\t\t    };\n\t\t\t    RenderDispatchEvent.prototype.onceAfterUnmount = function (cb) {\n\t\t\t        var set = listenerMap.get(this).afterUnmount;\n\t\t\t        var onceCb = function () {\n\t\t\t            cb();\n\t\t\t            set.delete(onceCb);\n\t\t\t        };\n\t\t\t        set.add(onceCb);\n\t\t\t    };\n\t\t\t    return RenderDispatchEvent;\n\t\t\t}(MyReactInternalInstanceClass));\n\n\t\t\tvar defaultDispatchFiber = function (renderDispatch, fiber) {\n\t\t\t    if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__root__)) {\n\t\t\t        // TODO\n\t\t\t        nextWorkRoot(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    else if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__class__ | exports.NODE_TYPE.__function__)) {\n\t\t\t        nextWorkComponent(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    else if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__lazy__)) {\n\t\t\t        nextWorkLazy(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    else if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__suspense__)) {\n\t\t\t        nextWorkSuspense(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    else if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__consumer__)) {\n\t\t\t        nextWorkConsumer(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    else if (myreactSharedExports.include(fiber.type, exports.NODE_TYPE.__provider__ | exports.NODE_TYPE.__context__)) {\n\t\t\t        nextWorkProvider(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        nextWorkNormal(renderDispatch, fiber);\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar currentScheduler$2 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar enableScopeTreeLog$2 = react.__my_react_shared__.enableScopeTreeLog;\n\t\t\tvar defaultDispatchMountLegacy = function (_dispatch, _fiber) {\n\t\t\t    var mountInsertionEffectList = function (_fiber) {\n\t\t\t        if (_fiber.child)\n\t\t\t            mountInsertionEffectList(_fiber.child);\n\t\t\t        insertionEffect(_dispatch, _fiber);\n\t\t\t        if (_fiber.sibling)\n\t\t\t            mountInsertionEffectList(_fiber.sibling);\n\t\t\t    };\n\t\t\t    var mountCommit = function (_fiber) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: _fiber,\n\t\t\t            action: function safeCallCreateAndUpdate() {\n\t\t\t                _dispatch.commitCreate(_fiber);\n\t\t\t                _dispatch.commitUpdate(_fiber);\n\t\t\t            },\n\t\t\t        });\n\t\t\t        if (_fiber.child)\n\t\t\t            mountCommit(_fiber.child);\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: _fiber,\n\t\t\t            action: function safeCallAppendAndSetRef() {\n\t\t\t                _dispatch.commitAppend(_fiber);\n\t\t\t                _dispatch.commitSetRef(_fiber);\n\t\t\t            },\n\t\t\t        });\n\t\t\t        if (_fiber.sibling) {\n\t\t\t            mountCommit(_fiber.sibling);\n\t\t\t        }\n\t\t\t    };\n\t\t\t    var mountLayoutEffectList = function (_fiber) {\n\t\t\t        if (_fiber.child)\n\t\t\t            mountLayoutEffectList(_fiber.child);\n\t\t\t        layoutEffect(_dispatch, _fiber);\n\t\t\t        if (_fiber.sibling)\n\t\t\t            mountLayoutEffectList(_fiber.sibling);\n\t\t\t    };\n\t\t\t    var mountEffectList = function (_fiber) {\n\t\t\t        if (_fiber.child)\n\t\t\t            mountEffectList(_fiber.child);\n\t\t\t        effect(_dispatch, _fiber);\n\t\t\t        if (_fiber.sibling)\n\t\t\t            mountEffectList(_fiber.sibling);\n\t\t\t    };\n\t\t\t    var mountLoop = function (_fiber) {\n\t\t\t        beforeSyncUpdate();\n\t\t\t        mountInsertionEffectList(_fiber);\n\t\t\t        afterSyncUpdate();\n\t\t\t        mountCommit(_fiber);\n\t\t\t        beforeSyncUpdate();\n\t\t\t        mountLayoutEffectList(_fiber);\n\t\t\t        afterSyncUpdate();\n\t\t\t        var renderScheduler = currentScheduler$2.current;\n\t\t\t        renderScheduler.microTask(function invokeEffectList() {\n\t\t\t            enableScopeTreeLog$2.current && setLogScope();\n\t\t\t            mountEffectList(_fiber);\n\t\t\t            enableScopeTreeLog$2.current && resetLogScope();\n\t\t\t        });\n\t\t\t    };\n\t\t\t    mountLoop(_fiber);\n\t\t\t};\n\t\t\tvar defaultDispatchMountLatest = function (_dispatch, _fiber) {\n\t\t\t    var _list = generateFiberToMountList(_fiber);\n\t\t\t    beforeSyncUpdate();\n\t\t\t    _list.listToFoot(function invokeInsertionEffectList(_fiber) {\n\t\t\t        insertionEffect(_dispatch, _fiber);\n\t\t\t    });\n\t\t\t    afterSyncUpdate();\n\t\t\t    _list.listToFoot(function invokeCreateAndUpdateList(_fiber) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: _fiber,\n\t\t\t            action: function safeCallCreateAndUpdate() {\n\t\t\t                _dispatch.commitCreate(_fiber);\n\t\t\t                _dispatch.commitUpdate(_fiber);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    });\n\t\t\t    _list.listToFoot(function invokeAppendList(_fiber) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: _fiber,\n\t\t\t            action: function safeCallAppendList() {\n\t\t\t                _dispatch.commitAppend(_fiber);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    });\n\t\t\t    _list.listToFoot(function invokeSetRefList(_fiber) {\n\t\t\t        safeCallWithCurrentFiber({\n\t\t\t            fiber: _fiber,\n\t\t\t            action: function safeCallSetRefList() {\n\t\t\t                _dispatch.commitSetRef(_fiber);\n\t\t\t            },\n\t\t\t        });\n\t\t\t    });\n\t\t\t    beforeSyncUpdate();\n\t\t\t    _list.listToFoot(function invokeLayoutEffectList(_fiber) {\n\t\t\t        layoutEffect(_dispatch, _fiber);\n\t\t\t    });\n\t\t\t    afterSyncUpdate();\n\t\t\t    var renderScheduler = currentScheduler$2.current;\n\t\t\t    renderScheduler.microTask(function invokeEffectListTask() {\n\t\t\t        enableScopeTreeLog$2.current && setLogScope();\n\t\t\t        _list.listToFoot(function invokeEffectList(_fiber) {\n\t\t\t            effect(_dispatch, _fiber);\n\t\t\t        });\n\t\t\t        enableScopeTreeLog$2.current && resetLogScope();\n\t\t\t    });\n\t\t\t};\n\t\t\tvar defaultDispatchMount = defaultDispatchMountLatest;\n\n\t\t\tvar defaultResolveScope = function (fiber) {\n\t\t\t    var parent = fiber.parent;\n\t\t\t    while (parent) {\n\t\t\t        if (myreactSharedExports.include(parent.type, exports.NODE_TYPE.__scope__) || myreactSharedExports.include(parent.type, exports.NODE_TYPE.__scopeSuspense__)) {\n\t\t\t            return parent;\n\t\t\t        }\n\t\t\t        parent = parent.parent;\n\t\t\t    }\n\t\t\t    return null;\n\t\t\t};\n\n\t\t\tvar enableDebugFiled$1 = react.__my_react_shared__.enableDebugFiled;\n\t\t\tvar defaultGenerateStrict = function (fiber) {\n\t\t\t    {\n\t\t\t        var parent_1 = fiber.parent;\n\t\t\t        var isStrict = false;\n\t\t\t        var typedParent = parent_1;\n\t\t\t        if (parent_1) {\n\t\t\t            if (myreactSharedExports.include(parent_1.type, exports.NODE_TYPE.__strict__)) {\n\t\t\t                isStrict = true;\n\t\t\t            }\n\t\t\t            if (typedParent._debugStrict) {\n\t\t\t                isStrict = true;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        if (enableDebugFiled$1.current) {\n\t\t\t            var typedFiber = fiber;\n\t\t\t            typedFiber._debugStrict = isStrict;\n\t\t\t        }\n\t\t\t        return isStrict;\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar currentScheduler$1 = react.__my_react_internal__.currentScheduler;\n\t\t\tvar enableScopeTreeLog$1 = react.__my_react_shared__.enableScopeTreeLog;\n\t\t\tvar defaultDispatchUpdate = function (_dispatch, _list) {\n\t\t\t    // TODO maybe need call `insertionEffect` in another function\n\t\t\t    beforeSyncUpdate();\n\t\t\t    _list.listToFoot(function invokeUnmountPendingAndInsertionEffectList(_fiber) {\n\t\t\t        if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t            defaultInvokeUnmountList(_dispatch, _fiber);\n\t\t\t        }\n\t\t\t    });\n\t\t\t    _list.listToFoot(function invokeUnmountPendingAndInsertionEffectList(_fiber) {\n\t\t\t        if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t            insertionEffect(_dispatch, _fiber);\n\t\t\t        }\n\t\t\t    });\n\t\t\t    afterSyncUpdate();\n\t\t\t    _list.listToFoot(function invokeCreateAndUpdateList(_fiber) {\n\t\t\t        if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: _fiber,\n\t\t\t                action: function safeCallCreateAndUpdate() {\n\t\t\t                    _dispatch.commitCreate(_fiber);\n\t\t\t                    _dispatch.commitUpdate(_fiber);\n\t\t\t                },\n\t\t\t            });\n\t\t\t        }\n\t\t\t    });\n\t\t\t    _list.listToHead(function invokePositionList(_fiber) {\n\t\t\t        if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: _fiber,\n\t\t\t                action: function safeCallPosition() {\n\t\t\t                    _dispatch.commitPosition(_fiber);\n\t\t\t                },\n\t\t\t            });\n\t\t\t        }\n\t\t\t    });\n\t\t\t    _list.listToFoot(function invokeAppendList(_fiber) {\n\t\t\t        if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: _fiber,\n\t\t\t                action: function safeCallAppendList() {\n\t\t\t                    _dispatch.commitAppend(_fiber);\n\t\t\t                },\n\t\t\t            });\n\t\t\t        }\n\t\t\t    });\n\t\t\t    _list.listToFoot(function invokeSetRefList(_fiber) {\n\t\t\t        if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: _fiber,\n\t\t\t                action: function safeCallSetRefList() {\n\t\t\t                    _dispatch.commitSetRef(_fiber);\n\t\t\t                },\n\t\t\t            });\n\t\t\t        }\n\t\t\t    });\n\t\t\t    beforeSyncUpdate();\n\t\t\t    _list.listToFoot(function invokeLayoutEffectList(_fiber) {\n\t\t\t        if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t            layoutEffect(_dispatch, _fiber);\n\t\t\t        }\n\t\t\t    });\n\t\t\t    afterSyncUpdate();\n\t\t\t    var renderScheduler = currentScheduler$1.current;\n\t\t\t    // TODO before next update flow, make sure all the effect has done\n\t\t\t    renderScheduler.microTask(function invokeEffectListTask() {\n\t\t\t        enableScopeTreeLog$1.current && setLogScope();\n\t\t\t        _list.listToFoot(function invokeEffectList(_fiber) {\n\t\t\t            if (myreactSharedExports.exclude(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__) && !_dispatch.isAppUnmounted) {\n\t\t\t                effect(_dispatch, _fiber);\n\t\t\t            }\n\t\t\t        });\n\t\t\t        enableScopeTreeLog$1.current && resetLogScope();\n\t\t\t    });\n\t\t\t};\n\n\t\t\tvar enableSuspenseRoot = react.__my_react_shared__.enableSuspenseRoot;\n\t\t\tvar currentScheduler = react.__my_react_internal__.currentScheduler;\n\t\t\tvar loadPromise = function (renderDispatch, promise) { return __awaiter(void 0, void 0, void 0, function () {\n\t\t\t    var value, reason_1;\n\t\t\t    return __generator(this, function (_a) {\n\t\t\t        switch (_a.label) {\n\t\t\t            case 0:\n\t\t\t                if (promise.status === \"fulfilled\" || promise.status === \"rejected\")\n\t\t\t                    return [2 /*return*/];\n\t\t\t                _a.label = 1;\n\t\t\t            case 1:\n\t\t\t                _a.trys.push([1, 3, , 4]);\n\t\t\t                promise.status = \"pending\";\n\t\t\t                return [4 /*yield*/, Promise.resolve(promise)];\n\t\t\t            case 2:\n\t\t\t                value = _a.sent();\n\t\t\t                promise.status = \"fulfilled\";\n\t\t\t                promise._value = value;\n\t\t\t                return [3 /*break*/, 4];\n\t\t\t            case 3:\n\t\t\t                reason_1 = _a.sent();\n\t\t\t                promise.status = \"rejected\";\n\t\t\t                promise._reason = reason_1;\n\t\t\t                return [3 /*break*/, 4];\n\t\t\t            case 4: return [2 /*return*/];\n\t\t\t        }\n\t\t\t    });\n\t\t\t}); };\n\t\t\tvar processPromise = function (renderDispatch, fiber, promise) {\n\t\t\t    var _a, _b;\n\t\t\t    defaultDeleteCurrentEffect(renderDispatch, fiber);\n\t\t\t    if (promise.status === \"rejected\") {\n\t\t\t        (_b = (_a = currentScheduler.current).dispatchError) === null || _b === void 0 ? void 0 : _b.call(_a, { fiber: fiber, error: promise._reason });\n\t\t\t        return null;\n\t\t\t    }\n\t\t\t    if (promise.status === \"fulfilled\") {\n\t\t\t        {\n\t\t\t            console.warn(\"[@my-react/react] throw a promise what has already fulfilled, this is not a valid usage\");\n\t\t\t        }\n\t\t\t    }\n\t\t\t    promise._list = promise._list || new Set();\n\t\t\t    promise._list.add(fiber);\n\t\t\t    var suspenseFiber = renderDispatch.resolveSuspenseFiber(fiber);\n\t\t\t    if (suspenseFiber) {\n\t\t\t        var suspenseField = getInstanceFieldByInstance(suspenseFiber.instance);\n\t\t\t        suspenseField.asyncLoadList.uniPush(promise);\n\t\t\t        renderDispatch.pendingSuspenseFiberArray.uniPush(suspenseFiber);\n\t\t\t        return null;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        // TODO update flow\n\t\t\t        if (enableSuspenseRoot.current && !renderDispatch.isAppMounted) {\n\t\t\t            var suspenseField = getInstanceFieldByInstance(renderDispatch);\n\t\t\t            suspenseField.asyncLoadList.uniPush(promise);\n\t\t\t            return null;\n\t\t\t        }\n\t\t\t        if (promise._loading)\n\t\t\t            return null;\n\t\t\t        promise._loading = true;\n\t\t\t        promise.status = \"pending\";\n\t\t\t        var renderScheduler_1 = currentScheduler.current;\n\t\t\t        renderDispatch.processPromise(promise).then(function () {\n\t\t\t            fiber.state = myreactSharedExports.STATE_TYPE.__create__;\n\t\t\t            promise._list.delete(fiber);\n\t\t\t            promise._loading = false;\n\t\t\t            var updater = {\n\t\t\t                type: myreactSharedExports.UpdateQueueType.promise,\n\t\t\t                trigger: fiber,\n\t\t\t                isSync: true,\n\t\t\t                isForce: true,\n\t\t\t                payLoad: promise,\n\t\t\t            };\n\t\t\t            renderScheduler_1.dispatchState(updater);\n\t\t\t        });\n\t\t\t        return null;\n\t\t\t    }\n\t\t\t};\n\n\t\t\tvar CustomRenderDispatch = /** @class */ (function (_super) {\n\t\t\t    __extends(CustomRenderDispatch, _super);\n\t\t\t    function CustomRenderDispatch(rootNode, rootFiber, rootElement) {\n\t\t\t        var _this = _super.call(this) || this;\n\t\t\t        _this.rootNode = rootNode;\n\t\t\t        _this.rootFiber = rootFiber;\n\t\t\t        _this.isAppMounted = false;\n\t\t\t        _this.isAppCrashed = false;\n\t\t\t        _this.isAppUnmounted = false;\n\t\t\t        _this.version = \"0.3.12\";\n\t\t\t        _this.mode = \"development\" ;\n\t\t\t        _this.renderMode = \"render\";\n\t\t\t        _this.pendingCommitFiberList = null;\n\t\t\t        _this.pendingCommitFiberPatch = myreactSharedExports.PATCH_TYPE.__initial__;\n\t\t\t        _this.pendingChangedFiberList = null;\n\t\t\t        _this.pendingUpdateFiberArray = new myreactSharedExports.UniqueArray();\n\t\t\t        _this.pendingSuspenseFiberArray = new myreactSharedExports.UniqueArray();\n\t\t\t        _this.uniqueIdCount = 0;\n\t\t\t        _this.rootElement = rootElement;\n\t\t\t        var typedFiber = rootFiber;\n\t\t\t        typedFiber.renderDispatch = _this;\n\t\t\t        return _this;\n\t\t\t    }\n\t\t\t    CustomRenderDispatch.prototype.generateCommitList = function (_fiber) {\n\t\t\t        if (!_fiber)\n\t\t\t            return;\n\t\t\t        this.pendingCommitFiberPatch = myreactSharedExports.merge(this.pendingCommitFiberPatch, _fiber.patch);\n\t\t\t        if (_fiber.patch !== myreactSharedExports.PATCH_TYPE.__initial__) {\n\t\t\t            this.pendingCommitFiberList = this.pendingCommitFiberList || new myreactSharedExports.ListTree();\n\t\t\t            this.pendingCommitFiberList.push(_fiber);\n\t\t\t        }\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.generateChangedList = function (_fiber, withCheck) {\n\t\t\t        if (!_fiber)\n\t\t\t            return;\n\t\t\t        if (!this.isAppMounted)\n\t\t\t            return;\n\t\t\t        this.pendingChangedFiberList = this.pendingChangedFiberList || new myreactSharedExports.ListTree();\n\t\t\t        if (withCheck && this.pendingChangedFiberList.hasValue(_fiber)) {\n\t\t\t            return;\n\t\t\t        }\n\t\t\t        this.pendingChangedFiberList.push(_fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingCreate = function (_fiber) {\n\t\t\t        if (myreactSharedExports.include(_fiber.type, this.runtimeRef.typeForCreate)) {\n\t\t\t            _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__create__);\n\t\t\t        }\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingUpdate = function (_fiber) {\n\t\t\t        if (myreactSharedExports.include(_fiber.type, this.runtimeRef.typeForUpdate)) {\n\t\t\t            _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__update__);\n\t\t\t        }\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingAppend = function (_fiber) {\n\t\t\t        if (myreactSharedExports.include(_fiber.type, this.runtimeRef.typeForAppend)) {\n\t\t\t            _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__append__);\n\t\t\t        }\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingPosition = function (_fiber) {\n\t\t\t        _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__position__);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingRef = function (_fiber) {\n\t\t\t        if (_fiber.ref) {\n\t\t\t            if (myreactSharedExports.include(_fiber.type, this.runtimeRef.typeForRef)) {\n\t\t\t                _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__ref__);\n\t\t\t            }\n\t\t\t            else if (myreactSharedExports.exclude(_fiber.type, exports.NODE_TYPE.__forwardRef__)) {\n\t\t\t                onceWarnWithKeyAndFiber(_fiber, \"ref\", \"[@my-react/react] set ref for current element will be ignored\");\n\t\t\t            }\n\t\t\t        }\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingUnmount = function (_fiber, _pendingUnmount) {\n\t\t\t        _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__unmount__);\n\t\t\t        defaultGenerateUnmountMap(_fiber, _pendingUnmount, this.runtimeMap.unmountMap);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingEffect = function (_fiber, _effect, option) {\n\t\t\t        _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__effect__);\n\t\t\t        defaultGenerateEffectMap(_fiber, _effect, this.runtimeMap.effectMap, option);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingLayoutEffect = function (_fiber, _layoutEffect, option) {\n\t\t\t        _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__layoutEffect__);\n\t\t\t        defaultGenerateEffectMap(_fiber, _layoutEffect, this.runtimeMap.layoutEffectMap, option);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.pendingInsertionEffect = function (_fiber, _insertionEffect, option) {\n\t\t\t        _fiber.patch = myreactSharedExports.merge(_fiber.patch, myreactSharedExports.PATCH_TYPE.__insertionEffect__);\n\t\t\t        defaultGenerateEffectMap(_fiber, _insertionEffect, this.runtimeMap.insertionEffectMap, option);\n\t\t\t    };\n\t\t\t    /**\n\t\t\t     * @deprecated\n\t\t\t     */\n\t\t\t    CustomRenderDispatch.prototype.patchToFiberInitial = function (_fiber) {\n\t\t\t    };\n\t\t\t    /**\n\t\t\t     * @deprecated\n\t\t\t     */\n\t\t\t    CustomRenderDispatch.prototype.patchToFiberUpdate = function (_fiber) {\n\t\t\t    };\n\t\t\t    /**\n\t\t\t     * @deprecated\n\t\t\t     */\n\t\t\t    CustomRenderDispatch.prototype.patchToFiberUnmount = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.dispatchFiber = function (_fiber) {\n\t\t\t        defaultDispatchFiber(this, _fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.processLazy = function (_elementType) {\n\t\t\t        return loadLazy(this, _elementType);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.processPromise = function (_promise) {\n\t\t\t        return loadPromise(this, _promise);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.commitCreate = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.commitUpdate = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.commitAppend = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.commitPosition = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.commitSetRef = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.commitUnsetRef = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.commitClear = function (_fiber) {\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resolveStrict = function (_fiber) {\n\t\t\t        return defaultGenerateStrict(_fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resolveScope = function (_fiber) {\n\t\t\t        return defaultResolveScope(_fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resolveSuspenseValue = function (_fiber) {\n\t\t\t        return defaultResolveSuspenseValue(_fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resolveSuspenseFiber = function (_fiber) {\n\t\t\t        return defaultResolveSuspenseFiber(_fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resolveErrorBoundaries = function (_fiber) {\n\t\t\t        return defaultResolveErrorBoundaries(_fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resolveContextFiber = function (_fiber, _contextObject) {\n\t\t\t        return defaultGetContextFiber(_fiber, _contextObject);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resolveContextValue = function (_fiber, _contextObject) {\n\t\t\t        return defaultGetContextValue(_fiber, _contextObject);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.reconcileCommit = function (_fiber) {\n\t\t\t        var instance = this;\n\t\t\t        safeCall(function safeCallBeforeCommit() {\n\t\t\t            var _a;\n\t\t\t            (_a = instance.beforeCommit) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t\t\t        });\n\t\t\t        safeCall(function safeCallBeforeCommitListener() {\n\t\t\t            listenerMap.get(instance).beforeCommit.forEach(function (cb) { return cb(); });\n\t\t\t        });\n\t\t\t        defaultDispatchMount(this, _fiber);\n\t\t\t        safeCall(function safeCallAfterCommitListener() {\n\t\t\t            listenerMap.get(instance).afterCommit.forEach(function (cb) { return cb(); });\n\t\t\t        });\n\t\t\t        safeCall(function safeCallAfterCommit() {\n\t\t\t            var _a;\n\t\t\t            (_a = instance.afterCommit) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t\t\t        });\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.reconcileUpdate = function (_list) {\n\t\t\t        var instance = this;\n\t\t\t        safeCall(function safeCallBeforeUpdate() {\n\t\t\t            var _a;\n\t\t\t            (_a = instance.beforeUpdate) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t\t\t        });\n\t\t\t        safeCall(function safeCallBeforeUpdateListener() {\n\t\t\t            listenerMap.get(instance).beforeUpdate.forEach(function (cb) { return cb(); });\n\t\t\t        });\n\t\t\t        defaultDispatchUpdate(this, _list);\n\t\t\t        safeCall(function safeCallAfterUpdateListener() {\n\t\t\t            listenerMap.get(instance).afterUpdate.forEach(function (cb) { return cb(); });\n\t\t\t        });\n\t\t\t        safeCall(function safeCallAfterUpdate() {\n\t\t\t            var _a;\n\t\t\t            (_a = instance.afterUpdate) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t\t\t        });\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.reconcileUnmount = function () {\n\t\t\t        var instance = this;\n\t\t\t        safeCall(function safeCallBeforeUnmount() {\n\t\t\t            var _a;\n\t\t\t            (_a = instance.beforeUnmount) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t\t\t        });\n\t\t\t        safeCall(function safeCallBeforeUnmountListener() {\n\t\t\t            listenerMap.get(instance).beforeUnmount.forEach(function (cb) { return cb(); });\n\t\t\t        });\n\t\t\t        defaultDispatchUnmount(this);\n\t\t\t        safeCall(function safeCallAfterUnmountListener() {\n\t\t\t            listenerMap.get(instance).afterUnmount.forEach(function (cb) { return cb(); });\n\t\t\t        });\n\t\t\t        safeCall(function safeCallAfterUnmount() {\n\t\t\t            var _a;\n\t\t\t            (_a = instance.afterUnmount) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t\t\t        });\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.shouldYield = function () {\n\t\t\t        return false;\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.resetUpdateFlowRuntimeFiber = function () {\n\t\t\t        this.runtimeFiber.scheduledFiber = null;\n\t\t\t        this.runtimeFiber.nextWorkingFiber = null;\n\t\t\t        this.runtimeFiber.retriggerFiber = null;\n\t\t\t        this.pendingCommitFiberPatch = myreactSharedExports.PATCH_TYPE.__initial__;\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.getFiberTree = function (_fiber) {\n\t\t\t        return getFiberTree$1(_fiber);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.readPromise = function (_params) {\n\t\t\t        return defaultReadPromise(_params);\n\t\t\t    };\n\t\t\t    CustomRenderDispatch.prototype.readContext = function (_params) {\n\t\t\t        return defaultReadContext(_params);\n\t\t\t    };\n\t\t\t    return CustomRenderDispatch;\n\t\t\t}(RenderDispatchEvent));\n\n\t\t\tvar enableDebugFiled = react.__my_react_shared__.enableDebugFiled;\n\t\t\tvar currentRunningFiber = react.__my_react_internal__.currentRunningFiber, MyReactInternalInstance = react.__my_react_internal__.MyReactInternalInstance;\n\t\t\tvar defaultGetContextValue = function (fiber, ContextObject) {\n\t\t\t    var _a;\n\t\t\t    if (fiber) {\n\t\t\t        return fiber.pendingProps[\"value\"];\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        return (_a = ContextObject === null || ContextObject === void 0 ? void 0 : ContextObject.Provider) === null || _a === void 0 ? void 0 : _a[\"value\"];\n\t\t\t    }\n\t\t\t};\n\t\t\tvar defaultGetContextFiber = function (fiber, ContextObject) {\n\t\t\t    if ((fiber === null || fiber === void 0 ? void 0 : fiber.parent) && ContextObject) {\n\t\t\t        var parent_1 = fiber.parent;\n\t\t\t        while (parent_1) {\n\t\t\t            if (myreactSharedExports.include(parent_1.type, exports.NODE_TYPE.__provider__)) {\n\t\t\t                var typedElementType = parent_1.elementType;\n\t\t\t                var contextObj = typedElementType[\"Context\"];\n\t\t\t                if (contextObj === ContextObject) {\n\t\t\t                    return parent_1;\n\t\t\t                }\n\t\t\t            }\n\t\t\t            if (myreactSharedExports.include(parent_1.type, exports.NODE_TYPE.__context__)) {\n\t\t\t                var typedElementType = parent_1.elementType;\n\t\t\t                var contextObj = typedElementType;\n\t\t\t                if (contextObj === ContextObject) {\n\t\t\t                    return parent_1;\n\t\t\t                }\n\t\t\t            }\n\t\t\t            parent_1 = parent_1.parent;\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        return null;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar defaultReadContext = function (Context) {\n\t\t\t    var fiber = currentRunningFiber.current;\n\t\t\t    if (!Context) {\n\t\t\t        throw new Error(\"the Context what you read is not exist\");\n\t\t\t    }\n\t\t\t    if (!fiber) {\n\t\t\t        throw new Error('current environment is not support \"readContext\"');\n\t\t\t    }\n\t\t\t    var isUpdate = !!fiber.instance;\n\t\t\t    fiber.instance = fiber.instance || new MyReactInternalInstance();\n\t\t\t    !isUpdate && initInstance(fiber.instance);\n\t\t\t    !isUpdate && setOwnerForInstance(fiber.instance, fiber);\n\t\t\t    var contextFiber = defaultGetContextFiber(fiber, Context);\n\t\t\t    setSubscribeForInstance(fiber.instance, contextFiber);\n\t\t\t    return defaultGetContextValue(contextFiber, Context);\n\t\t\t};\n\t\t\tvar prepareUpdateAllDependence = function (renderDispatch, fiber, beforeValue, afterValue) {\n\t\t\t    var consumerList = new Set((fiber === null || fiber === void 0 ? void 0 : fiber.dependence) || []);\n\t\t\t    consumerList.forEach(function prepareUpdateSingleConsumer(i) {\n\t\t\t        var owner = getInstanceOwnerFiber(i);\n\t\t\t        if (owner && myreactSharedExports.exclude(owner.state, myreactSharedExports.STATE_TYPE.__unmount__)) {\n\t\t\t            var typedFiber_1 = owner;\n\t\t\t            typedFiber_1.state = myreactSharedExports.STATE_TYPE.__triggerSyncForce__;\n\t\t\t        }\n\t\t\t    });\n\t\t\t    var typedFiber = fiber;\n\t\t\t    var processedNodes = [];\n\t\t\t    if (enableDebugFiled.current) {\n\t\t\t        typedFiber._debugUpdateQueue = typedFiber._debugUpdateQueue || new myreactSharedExports.ListTree();\n\t\t\t        var now = Date.now();\n\t\t\t        var updater = {\n\t\t\t            type: myreactSharedExports.UpdateQueueType.context,\n\t\t\t            trigger: fiber,\n\t\t\t            payLoad: afterValue,\n\t\t\t            isSync: true,\n\t\t\t            isForce: true,\n\t\t\t            isImmediate: true,\n\t\t\t            isRetrigger: true,\n\t\t\t            _debugBeforeValue: beforeValue,\n\t\t\t            _debugAfterValue: afterValue,\n\t\t\t            _debugCreateTime: now,\n\t\t\t            _debugRunTime: now,\n\t\t\t            _debugType: myreactSharedExports.UpdateQueueType[myreactSharedExports.UpdateQueueType.context],\n\t\t\t        };\n\t\t\t        processedNodes.push(updater);\n\t\t\t        if (enableDebugUpdateQueue.current) {\n\t\t\t            typedFiber._debugUpdateQueue.push(updater);\n\t\t\t        }\n\t\t\t    }\n\t\t\t    var devUpdater = {\n\t\t\t        needUpdate: true,\n\t\t\t        nodes: processedNodes,\n\t\t\t        isSync: true,\n\t\t\t        isForce: true,\n\t\t\t        isImmediate: true,\n\t\t\t        isRetrigger: true,\n\t\t\t    };\n\t\t\t    safeCallWithCurrentFiber({\n\t\t\t        fiber: fiber,\n\t\t\t        action: function safeCallFiberTriggerListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberTrigger) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(fiber, devUpdater ); });\n\t\t\t        },\n\t\t\t    });\n\t\t\t};\n\n\t\t\tvar currentComponentFiber = react.__my_react_internal__.currentComponentFiber, currentHookNodeIndex = react.__my_react_internal__.currentHookNodeIndex;\n\t\t\tvar resolveHookValue = function (hookNode, field) {\n\t\t\t    if (hookNode) {\n\t\t\t        switch (hookNode.type) {\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useState:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useReducer:\n\t\t\t                return [hookNode.result, field.dispatch];\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useId:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useRef:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useMemo:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useContext:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useCallback:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useTransition:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useDeferredValue:\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useSyncExternalStore:\n\t\t\t                return hookNode.result;\n\t\t\t            case myreactSharedExports.HOOK_TYPE.useSignal:\n\t\t\t                return [hookNode.result.getValue, hookNode.result.setValue];\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\t\t\tvar processHook = function (renderDispatch, _a) {\n\t\t\t    var type = _a.type, reducer = _a.reducer, value = _a.value, deps = _a.deps;\n\t\t\t    var fiber = currentComponentFiber.current;\n\t\t\t    if (!fiber)\n\t\t\t        throw new Error(\"[@my-react/react] can not use hook outside of component\");\n\t\t\t    if (!renderDispatch)\n\t\t\t        throw new Error(\"[@my-react/react] internal error, can not get 'renderDispatch' for current render\");\n\t\t\t    fiber.hookList = fiber.hookList || new myreactSharedExports.ListTree();\n\t\t\t    var currentHook = null;\n\t\t\t    // initial\n\t\t\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__create__)) {\n\t\t\t        currentHook = createHookNode(renderDispatch, { type: type, reducer: reducer, value: value, deps: deps }, fiber);\n\t\t\t        safeCall(function safeCallHookInitialListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.hookInitial) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(currentHook, fiber); });\n\t\t\t        });\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        // update\n\t\t\t        currentHook = updateHookNode(renderDispatch, { type: type, reducer: reducer, value: value, deps: deps }, fiber, Boolean(myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__hmr__)));\n\t\t\t        safeCall(function safeCallHookUpdateListener() {\n\t\t\t            var _a, _b;\n\t\t\t            (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.hookUpdate) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(currentHook, fiber); });\n\t\t\t        });\n\t\t\t    }\n\t\t\t    currentHookNodeIndex.current++;\n\t\t\t    var field = getInstanceFieldByInstance(currentHook);\n\t\t\t    effectHookNode(renderDispatch, fiber, currentHook, field);\n\t\t\t    return resolveHookValue(currentHook, field);\n\t\t\t};\n\n\t\t\tvar globalLoop = react.__my_react_internal__.globalLoop;\n\t\t\tvar enableScopeTreeLog = react.__my_react_shared__.enableScopeTreeLog;\n\t\t\tvar mountSync = function (renderDispatch, fiber) {\n\t\t\t    globalLoop.current = true;\n\t\t\t    enableScopeTreeLog.current && setLogScope();\n\t\t\t    mountLoopAll(renderDispatch, fiber);\n\t\t\t    processAsyncLoadListOnSyncMount(renderDispatch);\n\t\t\t    enableScopeTreeLog.current && resetLogScope();\n\t\t\t    (function finishMount() {\n\t\t\t        enableScopeTreeLog.current && setLogScope();\n\t\t\t        renderDispatch.reconcileCommit(fiber);\n\t\t\t        var commitList = renderDispatch.pendingCommitFiberList;\n\t\t\t        var changedList = renderDispatch.pendingChangedFiberList;\n\t\t\t        renderDispatch.resetUpdateFlowRuntimeFiber();\n\t\t\t        renderDispatch.pendingCommitFiberList = null;\n\t\t\t        renderDispatch.pendingChangedFiberList = null;\n\t\t\t        (commitList === null || commitList === void 0 ? void 0 : commitList.length) && renderDispatch.reconcileUpdate(commitList);\n\t\t\t        enableScopeTreeLog.current && resetLogScope();\n\t\t\t        (changedList === null || changedList === void 0 ? void 0 : changedList.length) &&\n\t\t\t            safeCallWithCurrentFiber({\n\t\t\t                fiber: fiber,\n\t\t\t                action: function safeCallFiberHasChangeListener() {\n\t\t\t                    var _a, _b;\n\t\t\t                    (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberHasChange) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(changedList); });\n\t\t\t                },\n\t\t\t            });\n\t\t\t    })();\n\t\t\t    globalLoop.current = false;\n\t\t\t};\n\t\t\tvar mountAsync = function (renderDispatch, fiber) { return __awaiter(void 0, void 0, void 0, function () {\n\t\t\t    return __generator(this, function (_a) {\n\t\t\t        switch (_a.label) {\n\t\t\t            case 0:\n\t\t\t                globalLoop.current = true;\n\t\t\t                enableScopeTreeLog.current && setLogScope();\n\t\t\t                mountLoopAll(renderDispatch, fiber);\n\t\t\t                return [4 /*yield*/, processAsyncLoadListOnAsyncMount(renderDispatch)];\n\t\t\t            case 1:\n\t\t\t                _a.sent();\n\t\t\t                enableScopeTreeLog.current && setLogScope();\n\t\t\t                (function finishMount() {\n\t\t\t                    enableScopeTreeLog.current && setLogScope();\n\t\t\t                    renderDispatch.reconcileCommit(fiber);\n\t\t\t                    var commitList = renderDispatch.pendingCommitFiberList;\n\t\t\t                    var changedList = renderDispatch.pendingChangedFiberList;\n\t\t\t                    renderDispatch.resetUpdateFlowRuntimeFiber();\n\t\t\t                    renderDispatch.pendingCommitFiberList = null;\n\t\t\t                    renderDispatch.pendingChangedFiberList = null;\n\t\t\t                    (commitList === null || commitList === void 0 ? void 0 : commitList.length) && renderDispatch.reconcileUpdate(commitList);\n\t\t\t                    enableScopeTreeLog.current && setLogScope();\n\t\t\t                    (changedList === null || changedList === void 0 ? void 0 : changedList.length) &&\n\t\t\t                        safeCallWithCurrentFiber({\n\t\t\t                            fiber: fiber,\n\t\t\t                            action: function safeCallFiberHasChangeListener() {\n\t\t\t                                var _a, _b;\n\t\t\t                                (_b = (_a = listenerMap.get(renderDispatch)) === null || _a === void 0 ? void 0 : _a.fiberHasChange) === null || _b === void 0 ? void 0 : _b.forEach(function (cb) { return cb(changedList); });\n\t\t\t                            },\n\t\t\t                        });\n\t\t\t                })();\n\t\t\t                globalLoop.current = false;\n\t\t\t                return [2 /*return*/];\n\t\t\t        }\n\t\t\t    });\n\t\t\t}); };\n\n\t\t\tvar version = \"0.3.12\";\n\n\t\t\texports.CustomRenderDispatch = CustomRenderDispatch;\n\t\t\texports.MyReactFiberNode = MyReactFiberNode;\n\t\t\texports.MyReactHookNode = MyReactHookNode;\n\t\t\texports.MyWeakMap = MyWeakMap;\n\t\t\texports.RenderDispatchEvent = RenderDispatchEvent;\n\t\t\texports.WrapperByLazyScope = WrapperByLazyScope;\n\t\t\texports.WrapperBySuspenseScope = WrapperBySuspenseScope;\n\t\t\texports.afterSyncFlush = afterSyncFlush;\n\t\t\texports.afterSyncUpdate = afterSyncUpdate;\n\t\t\texports.applyTriggerFiberCb = applyTriggerFiberCb;\n\t\t\texports.beforeSyncFlush = beforeSyncFlush;\n\t\t\texports.beforeSyncUpdate = beforeSyncUpdate;\n\t\t\texports.callWithFiber = callWithFiber;\n\t\t\texports.checkIsMyReactFiberNode = checkIsMyReactFiberNode;\n\t\t\texports.checkIsSameType = checkIsSameType;\n\t\t\texports.clearContainer = clearContainer;\n\t\t\texports.clearFiberNode = clearFiberNode;\n\t\t\texports.createFiberNode = createFiberNode;\n\t\t\texports.createHookNode = createHookNode;\n\t\t\texports.currentRefreshHandler = currentRefreshHandler;\n\t\t\texports.currentTriggerFiber = currentTriggerFiber;\n\t\t\texports.debugWithNode = debugWithNode;\n\t\t\texports.defaultDeleteChildEffect = defaultDeleteChildEffect;\n\t\t\texports.defaultDeleteCurrentEffect = defaultDeleteCurrentEffect;\n\t\t\texports.defaultDispatchMount = defaultDispatchMount;\n\t\t\texports.defaultDispatchMountLatest = defaultDispatchMountLatest;\n\t\t\texports.defaultDispatchMountLegacy = defaultDispatchMountLegacy;\n\t\t\texports.defaultDispatchUnmount = defaultDispatchUnmount;\n\t\t\texports.defaultDispatchUpdate = defaultDispatchUpdate;\n\t\t\texports.defaultGenerateEffectMap = defaultGenerateEffectMap;\n\t\t\texports.defaultGenerateStrict = defaultGenerateStrict;\n\t\t\texports.defaultGenerateUnmountMap = defaultGenerateUnmountMap;\n\t\t\texports.defaultGetContextFiber = defaultGetContextFiber;\n\t\t\texports.defaultGetContextValue = defaultGetContextValue;\n\t\t\texports.defaultInvokeEffect = defaultInvokeEffect;\n\t\t\texports.defaultInvokeInsertionEffect = defaultInvokeInsertionEffect;\n\t\t\texports.defaultInvokeLayoutEffect = defaultInvokeLayoutEffect;\n\t\t\texports.defaultInvokeUnmountList = defaultInvokeUnmountList;\n\t\t\texports.defaultReadContext = defaultReadContext;\n\t\t\texports.defaultReadPromise = defaultReadPromise;\n\t\t\texports.defaultResolveAliveSuspenseFiber = defaultResolveAliveSuspenseFiber;\n\t\t\texports.defaultResolveErrorBoundaries = defaultResolveErrorBoundaries;\n\t\t\texports.defaultResolveScope = defaultResolveScope;\n\t\t\texports.defaultResolveSuspenseFiber = defaultResolveSuspenseFiber;\n\t\t\texports.defaultResolveSuspenseValue = defaultResolveSuspenseValue;\n\t\t\texports.devError = devError;\n\t\t\texports.devErrorWithFiber = devErrorWithFiber;\n\t\t\texports.devWarn = devWarn;\n\t\t\texports.devWarnWithFiber = devWarnWithFiber;\n\t\t\texports.effect = effect;\n\t\t\texports.effectHookNode = effectHookNode;\n\t\t\texports.emptyProps = emptyProps;\n\t\t\texports.enableDebugUpdateQueue = enableDebugUpdateQueue;\n\t\t\texports.enableFiberForLog = enableFiberForLog;\n\t\t\texports.enableLogForCurrentFlowIsRunning = enableLogForCurrentFlowIsRunning;\n\t\t\texports.enableValidMyReactElement = enableValidMyReactElement;\n\t\t\texports.fiberToDispatchMap = fiberToDispatchMap;\n\t\t\texports.generateFiberToMountList = generateFiberToMountList;\n\t\t\texports.generateFiberToUnmountList = generateFiberToUnmountList;\n\t\t\texports.getClassInstanceFieldByInstance = getClassInstanceFieldByInstance;\n\t\t\texports.getCurrentDispatchFromFiber = getCurrentDispatchFromFiber;\n\t\t\texports.getCurrentDispatchFromType = getCurrentDispatchFromType;\n\t\t\texports.getCurrentFibersFromType = getCurrentFibersFromType;\n\t\t\texports.getCurrentTypeFromRefresh = getCurrentTypeFromRefresh;\n\t\t\texports.getCurrentTypeFromRefreshOnly = getCurrentTypeFromRefreshOnly;\n\t\t\texports.getElementFromRefreshIfExist = getElementFromRefreshIfExist;\n\t\t\texports.getElementName = getElementName;\n\t\t\texports.getElementTypeFromType = getElementTypeFromType;\n\t\t\texports.getFiberTree = getFiberTree$1;\n\t\t\texports.getFiberTreeWithFiber = getFiberTreeWithFiber;\n\t\t\texports.getHookTree = getHookTree;\n\t\t\texports.getInstanceContextFiber = getInstanceContextFiber;\n\t\t\texports.getInstanceEffectState = getInstanceEffectState;\n\t\t\texports.getInstanceFieldByInstance = getInstanceFieldByInstance;\n\t\t\texports.getInstanceOwnerFiber = getInstanceOwnerFiber;\n\t\t\texports.getPlainFiberName = getPlainFiberName;\n\t\t\texports.getStackTree = getStackTree;\n\t\t\texports.getTypeFromElement = getTypeFromElement;\n\t\t\texports.getTypeFromElementNode = getTypeFromElementNode;\n\t\t\texports.hmr = hmr;\n\t\t\texports.hmrRevert = hmrRevert;\n\t\t\texports.hmrUpdate = hmrUpdate;\n\t\t\texports.hookListUnmount = hookListUnmount;\n\t\t\texports.initClassInstance = initClassInstance;\n\t\t\texports.initHMR = initHMR;\n\t\t\texports.initHookInstance = initHookInstance;\n\t\t\texports.initInstance = initInstance;\n\t\t\texports.initScheduler = initScheduler;\n\t\t\texports.initSuspenseInstance = initSuspenseInstance;\n\t\t\texports.initVisibleInstance = initVisibleInstance;\n\t\t\texports.initialFiberNode = initialFiberNode;\n\t\t\texports.insertionEffect = insertionEffect;\n\t\t\texports.isCommentElement = isCommentElement;\n\t\t\texports.isCommentEndElement = isCommentEndElement;\n\t\t\texports.isCommentStartElement = isCommentStartElement;\n\t\t\texports.isErrorBoundariesComponent = isErrorBoundariesComponent;\n\t\t\texports.isErrorBoundariesInstance = isErrorBoundariesInstance;\n\t\t\texports.layoutEffect = layoutEffect;\n\t\t\texports.listenerMap = listenerMap;\n\t\t\texports.loadLazy = loadLazy;\n\t\t\texports.loadPromise = loadPromise;\n\t\t\texports.mountAsync = mountAsync;\n\t\t\texports.mountClassInstance = mountClassInstance;\n\t\t\texports.mountLoopAll = mountLoopAll;\n\t\t\texports.mountLoopAllFromScheduler = mountLoopAllFromScheduler;\n\t\t\texports.mountSync = mountSync;\n\t\t\texports.mountToNextFiberFromRoot = mountToNextFiberFromRoot;\n\t\t\texports.nextWorkClassComponent = nextWorkClassComponent;\n\t\t\texports.nextWorkCommon = nextWorkCommon;\n\t\t\texports.nextWorkComponent = nextWorkComponent;\n\t\t\texports.nextWorkConsumer = nextWorkConsumer;\n\t\t\texports.nextWorkFunctionComponent = nextWorkFunctionComponent;\n\t\t\texports.nextWorkLazy = nextWorkLazy;\n\t\t\texports.nextWorkNormal = nextWorkNormal;\n\t\t\texports.nextWorkProvider = nextWorkProvider;\n\t\t\texports.nextWorkRoot = nextWorkRoot;\n\t\t\texports.nextWorkSuspense = nextWorkSuspense;\n\t\t\texports.onceErrorWithKeyAndFiber = onceErrorWithKeyAndFiber;\n\t\t\texports.onceWarnWithKeyAndFiber = onceWarnWithKeyAndFiber;\n\t\t\texports.originalError = originalError;\n\t\t\texports.originalWarn = originalWarn;\n\t\t\texports.performToNextFiberFromRoot = performToNextFiberFromRoot;\n\t\t\texports.prepareUpdateAllDependence = prepareUpdateAllDependence;\n\t\t\texports.prepareUpdateOnFiber = prepareUpdateOnFiber;\n\t\t\texports.processAsyncLoadListOnAsyncMount = processAsyncLoadListOnAsyncMount;\n\t\t\texports.processAsyncLoadListOnSyncMount = processAsyncLoadListOnSyncMount;\n\t\t\texports.processAsyncLoadListOnUpdate = processAsyncLoadListOnUpdate;\n\t\t\texports.processClassComponentActive = processClassComponentActive;\n\t\t\texports.processClassComponentMount = processClassComponentMount;\n\t\t\texports.processClassComponentUnmount = processClassComponentUnmount;\n\t\t\texports.processClassComponentUpdate = processClassComponentUpdate;\n\t\t\texports.processClassComponentUpdateQueue = processClassComponentUpdateQueue;\n\t\t\texports.processConsumer = processConsumer;\n\t\t\texports.processFunction = processFunction;\n\t\t\texports.processFunctionComponentUpdateQueue = processFunctionComponentUpdateQueue;\n\t\t\texports.processHook = processHook;\n\t\t\texports.processLazy = processLazy;\n\t\t\texports.processNormalComponentUpdate = processNormalComponentUpdate;\n\t\t\texports.processPromise = processPromise;\n\t\t\texports.processProvider = processProvider;\n\t\t\texports.processState = processState;\n\t\t\texports.processSuspense = processSuspense;\n\t\t\texports.resetLogScope = resetLogScope;\n\t\t\texports.runtimeNextWork = runtimeNextWork;\n\t\t\texports.runtimeNextWorkDev = runtimeNextWorkDev;\n\t\t\texports.safeCall = safeCall;\n\t\t\texports.safeCallWithCurrentFiber = safeCallWithCurrentFiber;\n\t\t\texports.safeCallWithSync = safeCallWithSync;\n\t\t\texports.scheduleNext = scheduleNext;\n\t\t\texports.scheduleUpdate = scheduleUpdate;\n\t\t\texports.setContextForInstance = setContextForInstance;\n\t\t\texports.setEffectForInstance = setEffectForInstance;\n\t\t\texports.setLogScope = setLogScope;\n\t\t\texports.setOwnerForInstance = setOwnerForInstance;\n\t\t\texports.setRefreshHandler = setRefreshHandler;\n\t\t\texports.setRefreshTypeMap = setRefreshTypeMap;\n\t\t\texports.setSubscribeForInstance = setSubscribeForInstance;\n\t\t\texports.syncComponentStateToFiber = syncComponentStateToFiber;\n\t\t\texports.syncFiberStateToComponent = syncFiberStateToComponent;\n\t\t\texports.syncFlushComponentQueue = syncFlushComponentQueue;\n\t\t\texports.transformChildrenFiber = transformChildrenFiber;\n\t\t\texports.triggerError = triggerError;\n\t\t\texports.triggerFiberUpdateListener = triggerFiberUpdateListener;\n\t\t\texports.triggerRevert = triggerRevert;\n\t\t\texports.triggerUpdate = triggerUpdate;\n\t\t\texports.triggerUpdateOnFiber = triggerUpdateOnFiber;\n\t\t\texports.typeToFibersMap = typeToFibersMap;\n\t\t\texports.unmountContainer = unmountContainer;\n\t\t\texports.unmountFiber = unmountFiber;\n\t\t\texports.unmountFiberNode = unmountFiberNode;\n\t\t\texports.unmountInstance = unmountInstance;\n\t\t\texports.unmountList = unmountList;\n\t\t\texports.updateConcurrentFromRoot = updateConcurrentFromRoot;\n\t\t\texports.updateFiberNode = updateFiberNode;\n\t\t\texports.updateHookNode = updateHookNode;\n\t\t\texports.updateLoopConcurrentFromRoot = updateLoopConcurrentFromRoot;\n\t\t\texports.updateLoopSyncFromRoot = updateLoopSyncFromRoot;\n\t\t\texports.updateSyncFromRoot = updateSyncFromRoot;\n\t\t\texports.version = version; \n\t\t} (index_development$1));\n\t\treturn index_development$1;\n\t}\n\n\tvar hasRequiredMyreactReconciler;\n\n\tfunction requireMyreactReconciler () {\n\t\tif (hasRequiredMyreactReconciler) return myreactReconciler.exports;\n\t\thasRequiredMyreactReconciler = 1;\n\n\t\t{\n\t\t  myreactReconciler.exports = requireIndex_development_1();\n\t\t}\n\t\treturn myreactReconciler.exports;\n\t}\n\n\tvar myreactReconcilerExports = requireMyreactReconciler();\n\n\tvar myreactShared = {exports: {}};\n\n\tvar index_development$2 = {};\n\n\tvar hasRequiredIndex_development;\n\n\tfunction requireIndex_development () {\n\t\tif (hasRequiredIndex_development) return index_development$2;\n\t\thasRequiredIndex_development = 1;\n\t\t(function (exports) {\n\n\t\t\tvar merge = function (src, rest) {\n\t\t\t    return src | rest;\n\t\t\t};\n\t\t\tvar remove = function (src, rest) {\n\t\t\t    if (src & rest) {\n\t\t\t        return src ^ rest;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t        return src;\n\t\t\t    }\n\t\t\t};\n\t\t\tvar include = function (src, rest) {\n\t\t\t    return !!(src & rest);\n\t\t\t};\n\t\t\tvar exclude = function (src, rest) {\n\t\t\t    return !(src & rest);\n\t\t\t};\n\n\t\t\t/******************************************************************************\r\n\t\t\tCopyright (c) Microsoft Corporation.\r\n\r\n\t\t\tPermission to use, copy, modify, and/or distribute this software for any\r\n\t\t\tpurpose with or without fee is hereby granted.\r\n\r\n\t\t\tTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n\t\t\tREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n\t\t\tAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n\t\t\tINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n\t\t\tLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n\t\t\tOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n\t\t\tPERFORMANCE OF THIS SOFTWARE.\r\n\t\t\t***************************************************************************** */\r\n\t\t\t/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\n\r\n\t\t\tfunction __spreadArray(to, from, pack) {\r\n\t\t\t    if (arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n\t\t\t        if (ar || !(i in from)) {\r\n\t\t\t            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n\t\t\t            ar[i] = from[i];\r\n\t\t\t        }\r\n\t\t\t    }\r\n\t\t\t    return to.concat(ar || Array.prototype.slice.call(from));\r\n\t\t\t}\r\n\r\n\t\t\ttypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n\t\t\t    var e = new Error(message);\r\n\t\t\t    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n\t\t\t};\n\n\t\t\tvar once = function (action) {\n\t\t\t    var called = false;\n\t\t\t    return function () {\n\t\t\t        var args = [];\n\t\t\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t\t\t            args[_i] = arguments[_i];\n\t\t\t        }\n\t\t\t        if (called)\n\t\t\t            return;\n\t\t\t        called = true;\n\t\t\t        if (typeof action === \"function\")\n\t\t\t            action.call.apply(action, __spreadArray([null], args, false));\n\t\t\t    };\n\t\t\t};\n\n\t\t\tvar TYPEKEY = \"$$typeof\";\n\t\t\tvar Element = Symbol.for(\"react.element\");\n\t\t\tvar Memo = Symbol.for(\"react.memo\");\n\t\t\tvar ForwardRef = Symbol.for(\"react.forward_ref\");\n\t\t\tvar Portal = Symbol.for(\"react.portal\");\n\t\t\tvar Fragment = Symbol.for(\"react.fragment\");\n\t\t\tvar Context = Symbol.for(\"react.context\");\n\t\t\tvar Provider = Symbol.for(\"react.provider\");\n\t\t\tvar Consumer = Symbol.for(\"react.consumer\");\n\t\t\tvar Lazy = Symbol.for(\"react.lazy\");\n\t\t\tvar Suspense = Symbol.for(\"react.suspense\");\n\t\t\tvar Strict = Symbol.for(\"react.strict_mode\");\n\t\t\tvar Root = Symbol.for(\"react.root\");\n\t\t\tvar Scope = Symbol.for(\"react.scope\");\n\t\t\tvar ScopeLazy = Symbol.for(\"react.scope_lazy\");\n\t\t\tvar ScopeSuspense = Symbol.for(\"react.scope_suspense\");\n\t\t\tvar Comment = Symbol.for(\"react.comment\");\n\t\t\tvar Offscreen = Symbol.for(\"react.offscreen\");\n\t\t\tvar Profiler = Symbol.for(\"react.profiler\");\n\n\t\t\tfunction isObject(target) {\n\t\t\t    return typeof target === \"object\" && target !== null;\n\t\t\t}\n\t\t\tfunction isFunction(target) {\n\t\t\t    return typeof target === \"function\";\n\t\t\t}\n\t\t\tfunction isArray(target) {\n\t\t\t    return Array.isArray(target);\n\t\t\t}\n\t\t\tfunction isSymbol(target) {\n\t\t\t    return typeof target === \"symbol\";\n\t\t\t}\n\t\t\tfunction isString(target) {\n\t\t\t    return typeof target === \"string\";\n\t\t\t}\n\t\t\tfunction isInteger(target) {\n\t\t\t    return Number.isInteger(Number(target));\n\t\t\t}\n\t\t\tfunction isNumber(target) {\n\t\t\t    return typeof target === \"number\";\n\t\t\t}\n\t\t\tfunction isCollection(target) {\n\t\t\t    return target instanceof Map || target instanceof Set || target instanceof WeakMap || target instanceof WeakSet;\n\t\t\t}\n\t\t\tvar isPromise = function (val) {\n\t\t\t    return (isObject(val) || isFunction(val)) && isFunction(val.then) && isFunction(val.catch);\n\t\t\t};\n\n\t\t\tvar UniqueArray = /** @class */ (function () {\n\t\t\t    function UniqueArray() {\n\t\t\t        this.set = new Set();\n\t\t\t        this.arr = new Array();\n\t\t\t        this.length = 0;\n\t\t\t    }\n\t\t\t    UniqueArray.prototype.uniPop = function () {\n\t\t\t        var v = this.arr.pop();\n\t\t\t        this.set.delete(v);\n\t\t\t        this.length--;\n\t\t\t        return v;\n\t\t\t    };\n\t\t\t    UniqueArray.prototype.uniPush = function (v) {\n\t\t\t        if (this.set.has(v))\n\t\t\t            return 0;\n\t\t\t        this.set.add(v);\n\t\t\t        this.arr.push(v);\n\t\t\t        this.length++;\n\t\t\t    };\n\t\t\t    UniqueArray.prototype.uniShift = function () {\n\t\t\t        var v = this.arr.shift();\n\t\t\t        this.set.delete(v);\n\t\t\t        this.length--;\n\t\t\t        return v;\n\t\t\t    };\n\t\t\t    UniqueArray.prototype.uniUnshift = function (v) {\n\t\t\t        if (this.set.has(v))\n\t\t\t            return 0;\n\t\t\t        this.set.add(v);\n\t\t\t        this.arr.unshift(v);\n\t\t\t        this.length++;\n\t\t\t    };\n\t\t\t    UniqueArray.prototype.uniDelete = function (v) {\n\t\t\t        if (this.set.has(v)) {\n\t\t\t            this.set.delete(v);\n\t\t\t            this.arr = this.arr.filter(function (i) { return i !== v; });\n\t\t\t            this.length--;\n\t\t\t        }\n\t\t\t    };\n\t\t\t    UniqueArray.prototype.clear = function () {\n\t\t\t        this.length = 0;\n\t\t\t        this.set.clear();\n\t\t\t        this.arr.length = 0;\n\t\t\t    };\n\t\t\t    UniqueArray.prototype.getAll = function () {\n\t\t\t        return Array.from(this.arr);\n\t\t\t    };\n\t\t\t    return UniqueArray;\n\t\t\t}());\n\n\t\t\texports.HOOK_TYPE = void 0;\n\t\t\t(function (HOOK_TYPE) {\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useId\"] = 0] = \"useId\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useRef\"] = 1] = \"useRef\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useMemo\"] = 2] = \"useMemo\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useState\"] = 3] = \"useState\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useSignal\"] = 4] = \"useSignal\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useEffect\"] = 5] = \"useEffect\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useContext\"] = 6] = \"useContext\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useReducer\"] = 7] = \"useReducer\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useCallback\"] = 8] = \"useCallback\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useTransition\"] = 9] = \"useTransition\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useDebugValue\"] = 10] = \"useDebugValue\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useLayoutEffect\"] = 11] = \"useLayoutEffect\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useDeferredValue\"] = 12] = \"useDeferredValue\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useInsertionEffect\"] = 13] = \"useInsertionEffect\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useImperativeHandle\"] = 14] = \"useImperativeHandle\";\n\t\t\t    HOOK_TYPE[HOOK_TYPE[\"useSyncExternalStore\"] = 15] = \"useSyncExternalStore\";\n\t\t\t})(exports.HOOK_TYPE || (exports.HOOK_TYPE = {}));\n\n\t\t\texports.UpdateQueueType = void 0;\n\t\t\t(function (UpdateQueueType) {\n\t\t\t    UpdateQueueType[UpdateQueueType[\"component\"] = 1] = \"component\";\n\t\t\t    UpdateQueueType[UpdateQueueType[\"hook\"] = 2] = \"hook\";\n\t\t\t    UpdateQueueType[UpdateQueueType[\"context\"] = 3] = \"context\";\n\t\t\t    UpdateQueueType[UpdateQueueType[\"hmr\"] = 4] = \"hmr\";\n\t\t\t    UpdateQueueType[UpdateQueueType[\"trigger\"] = 5] = \"trigger\";\n\t\t\t    UpdateQueueType[UpdateQueueType[\"suspense\"] = 6] = \"suspense\";\n\t\t\t    UpdateQueueType[UpdateQueueType[\"lazy\"] = 7] = \"lazy\";\n\t\t\t    UpdateQueueType[UpdateQueueType[\"promise\"] = 8] = \"promise\";\n\t\t\t})(exports.UpdateQueueType || (exports.UpdateQueueType = {}));\n\n\t\t\texports.STATE_TYPE = void 0;\n\t\t\t(function (STATE_TYPE) {\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__create__\"] = 1] = \"__create__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__stable__\"] = 2] = \"__stable__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__inherit__\"] = 4] = \"__inherit__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerConcurrent__\"] = 8] = \"__triggerConcurrent__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerConcurrentForce__\"] = 16] = \"__triggerConcurrentForce__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerSync__\"] = 32] = \"__triggerSync__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__triggerSyncForce__\"] = 64] = \"__triggerSyncForce__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__unmount__\"] = 128] = \"__unmount__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__hmr__\"] = 256] = \"__hmr__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__retrigger__\"] = 512] = \"__retrigger__\";\n\t\t\t    STATE_TYPE[STATE_TYPE[\"__reschedule__\"] = 1024] = \"__reschedule__\";\n\t\t\t})(exports.STATE_TYPE || (exports.STATE_TYPE = {}));\n\n\t\t\texports.PATCH_TYPE = void 0;\n\t\t\t(function (PATCH_TYPE) {\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__create__\"] = 1] = \"__create__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__update__\"] = 2] = \"__update__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__append__\"] = 4] = \"__append__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__position__\"] = 8] = \"__position__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__effect__\"] = 16] = \"__effect__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__layoutEffect__\"] = 32] = \"__layoutEffect__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__insertionEffect__\"] = 64] = \"__insertionEffect__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__unmount__\"] = 128] = \"__unmount__\";\n\t\t\t    PATCH_TYPE[PATCH_TYPE[\"__ref__\"] = 256] = \"__ref__\";\n\t\t\t})(exports.PATCH_TYPE || (exports.PATCH_TYPE = {}));\n\n\t\t\texports.Effect_TYPE = void 0;\n\t\t\t(function (Effect_TYPE) {\n\t\t\t    Effect_TYPE[Effect_TYPE[\"__initial__\"] = 0] = \"__initial__\";\n\t\t\t    Effect_TYPE[Effect_TYPE[\"__effect__\"] = 1] = \"__effect__\";\n\t\t\t    Effect_TYPE[Effect_TYPE[\"__unmount__\"] = 2] = \"__unmount__\";\n\t\t\t})(exports.Effect_TYPE || (exports.Effect_TYPE = {}));\n\n\t\t\tvar compareVersion = function (version1, version2) {\n\t\t\t    var compare = function (arr1, arr2) {\n\t\t\t        if (arr1.length && arr2.length) {\n\t\t\t            var v1 = arr1[0];\n\t\t\t            var v2 = arr2[0];\n\t\t\t            if (v1 > v2)\n\t\t\t                return true;\n\t\t\t            if (v2 > v1)\n\t\t\t                return false;\n\t\t\t            return compare(arr1.slice(1), arr2.slice(1));\n\t\t\t        }\n\t\t\t        if (arr1.length)\n\t\t\t            return true;\n\t\t\t        if (arr2.length)\n\t\t\t            return false;\n\t\t\t        return true;\n\t\t\t    };\n\t\t\t    return compare(version1.split(\".\").map(Number), version2.split(\".\").map(Number));\n\t\t\t};\n\n\t\t\tvar isNormalEquals = function (src, target, isSkipKey) {\n\t\t\t    var isEquals = Object.is(src, target);\n\t\t\t    if (isEquals)\n\t\t\t        return true;\n\t\t\t    var hasSkipKeyFunction = typeof isSkipKey === \"function\";\n\t\t\t    if (typeof src === \"object\" && typeof target === \"object\" && src !== null && target !== null) {\n\t\t\t        var srcKeys = Object.keys(src);\n\t\t\t        var targetKeys = Object.keys(target);\n\t\t\t        if (srcKeys.length !== targetKeys.length)\n\t\t\t            return false;\n\t\t\t        var res = true;\n\t\t\t        if (hasSkipKeyFunction) {\n\t\t\t            for (var _i = 0, srcKeys_1 = srcKeys; _i < srcKeys_1.length; _i++) {\n\t\t\t                var key = srcKeys_1[_i];\n\t\t\t                if (isSkipKey(key) && key in target) {\n\t\t\t                    continue;\n\t\t\t                }\n\t\t\t                else {\n\t\t\t                    res = res && Object.is(src[key], target[key]);\n\t\t\t                }\n\t\t\t                if (!res)\n\t\t\t                    return res;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            for (var _a = 0, srcKeys_2 = srcKeys; _a < srcKeys_2.length; _a++) {\n\t\t\t                var key = srcKeys_2[_a];\n\t\t\t                res = res && Object.is(src[key], target[key]);\n\t\t\t                if (!res)\n\t\t\t                    return res;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        return res;\n\t\t\t    }\n\t\t\t    return false;\n\t\t\t};\n\t\t\tvar isArrayEquals = function (src, target) {\n\t\t\t    var isEquals = Object.is(src, target);\n\t\t\t    if (isEquals)\n\t\t\t        return true;\n\t\t\t    if (Array.isArray(src) && Array.isArray(target) && src.length === target.length) {\n\t\t\t        var re = true;\n\t\t\t        for (var key in src) {\n\t\t\t            re = re && Object.is(src[key], target[key]);\n\t\t\t            if (!re)\n\t\t\t                return re;\n\t\t\t        }\n\t\t\t        return re;\n\t\t\t    }\n\t\t\t    return false;\n\t\t\t};\n\n\t\t\tvar ListTreeNode = /** @class */ (function () {\n\t\t\t    function ListTreeNode(value) {\n\t\t\t        this.prev = null;\n\t\t\t        this.next = null;\n\t\t\t        this.value = value;\n\t\t\t    }\n\t\t\t    return ListTreeNode;\n\t\t\t}());\n\t\t\tvar ListTree = /** @class */ (function () {\n\t\t\t    function ListTree() {\n\t\t\t        this.length = 0;\n\t\t\t        var _stickyHead = null;\n\t\t\t        Object.defineProperty(this, \"stickyHead\", {\n\t\t\t            get: function () {\n\t\t\t                return _stickyHead;\n\t\t\t            },\n\t\t\t            set: function (v) {\n\t\t\t                _stickyHead = v;\n\t\t\t            },\n\t\t\t        });\n\t\t\t        var _stickyFoot = null;\n\t\t\t        Object.defineProperty(this, \"stickyFoot\", {\n\t\t\t            get: function () {\n\t\t\t                return _stickyFoot;\n\t\t\t            },\n\t\t\t            set: function (v) {\n\t\t\t                _stickyFoot = v;\n\t\t\t            },\n\t\t\t        });\n\t\t\t        var _head = null;\n\t\t\t        Object.defineProperty(this, \"head\", {\n\t\t\t            get: function () {\n\t\t\t                return _head;\n\t\t\t            },\n\t\t\t            set: function (v) {\n\t\t\t                _head = v;\n\t\t\t            },\n\t\t\t        });\n\t\t\t        var _foot = null;\n\t\t\t        Object.defineProperty(this, \"foot\", {\n\t\t\t            get: function () {\n\t\t\t                return _foot;\n\t\t\t            },\n\t\t\t            set: function (v) {\n\t\t\t                _foot = v;\n\t\t\t            },\n\t\t\t        });\n\t\t\t    }\n\t\t\t    ListTree.prototype.push = function (node) {\n\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t        this.length++;\n\t\t\t        if (!this.foot) {\n\t\t\t            this.head = listNode;\n\t\t\t            this.foot = listNode;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            this.foot.next = listNode;\n\t\t\t            listNode.prev = this.foot;\n\t\t\t            this.foot = listNode;\n\t\t\t        }\n\t\t\t    };\n\t\t\t    ListTree.prototype.pushToLast = function (node) {\n\t\t\t        if (this.stickyFoot) {\n\t\t\t            var node_1 = this.stickyFoot;\n\t\t\t            this.push(node_1.value);\n\t\t\t            this.stickyFoot = null;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            this.length++;\n\t\t\t        }\n\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t        this.stickyFoot = listNode;\n\t\t\t    };\n\t\t\t    ListTree.prototype.pushToHead = function (node) {\n\t\t\t        if (this.stickyHead) {\n\t\t\t            var node_2 = this.stickyHead;\n\t\t\t            this.unshift(node_2.value);\n\t\t\t            this.stickyHead = null;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            this.length++;\n\t\t\t        }\n\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t        this.stickyHead = listNode;\n\t\t\t    };\n\t\t\t    ListTree.prototype.pop = function () {\n\t\t\t        var foot = this.stickyFoot || this.foot || this.stickyHead;\n\t\t\t        if (foot) {\n\t\t\t            this.delete(foot);\n\t\t\t            return foot.value;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            return null;\n\t\t\t        }\n\t\t\t    };\n\t\t\t    ListTree.prototype.unshift = function (node) {\n\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t        this.length++;\n\t\t\t        if (!this.head) {\n\t\t\t            this.head = listNode;\n\t\t\t            this.foot = listNode;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            this.head.prev = listNode;\n\t\t\t            listNode.next = this.head;\n\t\t\t            this.head = listNode;\n\t\t\t        }\n\t\t\t    };\n\t\t\t    ListTree.prototype.unshiftToHead = function (node) {\n\t\t\t        if (this.stickyHead) {\n\t\t\t            var node_3 = this.stickyHead;\n\t\t\t            this.unshift(node_3.value);\n\t\t\t            this.stickyHead = null;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            this.length++;\n\t\t\t        }\n\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t        this.stickyHead = listNode;\n\t\t\t    };\n\t\t\t    ListTree.prototype.unshiftToFoot = function (node) {\n\t\t\t        if (this.stickyFoot) {\n\t\t\t            var node_4 = this.stickyFoot;\n\t\t\t            this.push(node_4.value);\n\t\t\t            this.stickyFoot = null;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            this.length++;\n\t\t\t        }\n\t\t\t        var listNode = new ListTreeNode(node);\n\t\t\t        this.stickyFoot = listNode;\n\t\t\t    };\n\t\t\t    ListTree.prototype.shift = function () {\n\t\t\t        var head = this.stickyHead || this.head || this.stickyFoot;\n\t\t\t        if (head) {\n\t\t\t            this.delete(head);\n\t\t\t            return head.value;\n\t\t\t        }\n\t\t\t        else {\n\t\t\t            return null;\n\t\t\t        }\n\t\t\t    };\n\t\t\t    ListTree.prototype.pickHead = function () {\n\t\t\t        var _a, _b;\n\t\t\t        return ((_a = this.stickyHead) === null || _a === void 0 ? void 0 : _a.value) || ((_b = this.head) === null || _b === void 0 ? void 0 : _b.value);\n\t\t\t    };\n\t\t\t    ListTree.prototype.pickFoot = function () {\n\t\t\t        var _a, _b;\n\t\t\t        return ((_a = this.stickyFoot) === null || _a === void 0 ? void 0 : _a.value) || ((_b = this.foot) === null || _b === void 0 ? void 0 : _b.value);\n\t\t\t    };\n\t\t\t    ListTree.prototype.listToFoot = function (action) {\n\t\t\t        if (this.stickyHead) {\n\t\t\t            action(this.stickyHead.value);\n\t\t\t        }\n\t\t\t        var node = this.head;\n\t\t\t        while (node) {\n\t\t\t            action(node.value);\n\t\t\t            node = node.next;\n\t\t\t        }\n\t\t\t        if (this.stickyFoot) {\n\t\t\t            action(this.stickyFoot.value);\n\t\t\t        }\n\t\t\t    };\n\t\t\t    ListTree.prototype.listToHead = function (action) {\n\t\t\t        if (this.stickyFoot) {\n\t\t\t            action(this.stickyFoot.value);\n\t\t\t        }\n\t\t\t        var node = this.foot;\n\t\t\t        while (node) {\n\t\t\t            action(node.value);\n\t\t\t            node = node.prev;\n\t\t\t        }\n\t\t\t        if (this.stickyHead) {\n\t\t\t            action(this.stickyHead.value);\n\t\t\t        }\n\t\t\t    };\n\t\t\t    ListTree.prototype.toArray = function () {\n\t\t\t        var re = [];\n\t\t\t        this.listToFoot(function (v) { return re.push(v); });\n\t\t\t        return re;\n\t\t\t    };\n\t\t\t    ListTree.prototype.delete = function (node) {\n\t\t\t        if (this.stickyHead === node) {\n\t\t\t            this.stickyHead = null;\n\t\t\t            this.length--;\n\t\t\t        }\n\t\t\t        else if (this.stickyFoot === node) {\n\t\t\t            this.stickyFoot = null;\n\t\t\t            this.length--;\n\t\t\t        }\n\t\t\t        else if (this.head === node) {\n\t\t\t            var next = node.next;\n\t\t\t            node.next = null;\n\t\t\t            if (next) {\n\t\t\t                this.head = next;\n\t\t\t                next.prev = null;\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                this.head = null;\n\t\t\t                this.foot = null;\n\t\t\t            }\n\t\t\t            this.length--;\n\t\t\t        }\n\t\t\t        else if (this.foot === node) {\n\t\t\t            var prev = node.prev;\n\t\t\t            node.prev = null;\n\t\t\t            if (prev) {\n\t\t\t                this.foot = prev;\n\t\t\t                prev.next = null;\n\t\t\t            }\n\t\t\t            else {\n\t\t\t                this.head = null;\n\t\t\t                this.foot = null;\n\t\t\t            }\n\t\t\t            this.length--;\n\t\t\t        }\n\t\t\t        else if (this.hasNode(node)) {\n\t\t\t            var prev = node.prev;\n\t\t\t            var next = node.next;\n\t\t\t            node.prev = null;\n\t\t\t            node.next = null;\n\t\t\t            prev.next = next;\n\t\t\t            next.prev = prev;\n\t\t\t            this.length--;\n\t\t\t        }\n\t\t\t    };\n\t\t\t    ListTree.prototype.size = function () {\n\t\t\t        return this.length;\n\t\t\t    };\n\t\t\t    ListTree.prototype.hasNode = function (node) {\n\t\t\t        if (this.stickyHead && Object.is(this.stickyHead, node))\n\t\t\t            return true;\n\t\t\t        if (this.stickyFoot && Object.is(this.stickyFoot, node))\n\t\t\t            return true;\n\t\t\t        var listNode = this.head;\n\t\t\t        while (listNode) {\n\t\t\t            if (Object.is(listNode, node))\n\t\t\t                return true;\n\t\t\t            listNode = listNode.next;\n\t\t\t        }\n\t\t\t        return false;\n\t\t\t    };\n\t\t\t    ListTree.prototype.hasValue = function (node) {\n\t\t\t        if (this.stickyHead && Object.is(this.stickyHead.value, node))\n\t\t\t            return true;\n\t\t\t        if (this.stickyFoot && Object.is(this.stickyFoot.value, node))\n\t\t\t            return true;\n\t\t\t        var listNode = this.head;\n\t\t\t        while (listNode) {\n\t\t\t            if (Object.is(listNode.value, node))\n\t\t\t                return true;\n\t\t\t            listNode = listNode.next;\n\t\t\t        }\n\t\t\t        return false;\n\t\t\t    };\n\t\t\t    ListTree.prototype.some = function (iterator) {\n\t\t\t        var re = false;\n\t\t\t        this.listToFoot(function (node) {\n\t\t\t            re = re || iterator(node);\n\t\t\t        });\n\t\t\t        return re;\n\t\t\t    };\n\t\t\t    ListTree.prototype.every = function (iterator) {\n\t\t\t        var re = true;\n\t\t\t        this.listToFoot(function (node) {\n\t\t\t            re = re && iterator(node);\n\t\t\t        });\n\t\t\t        return re;\n\t\t\t    };\n\t\t\t    ListTree.prototype.concat = function (list) {\n\t\t\t        var newList = new ListTree();\n\t\t\t        this.listToFoot(function (node) { return newList.push(node); });\n\t\t\t        list.listToFoot(function (node) { return newList.push(node); });\n\t\t\t        return newList;\n\t\t\t    };\n\t\t\t    ListTree.prototype.clone = function () {\n\t\t\t        var newList = new ListTree();\n\t\t\t        this.listToFoot(function (v) { return newList.push(v); });\n\t\t\t        return newList;\n\t\t\t    };\n\t\t\t    ListTree.prototype.clear = function () {\n\t\t\t        this.length = 0;\n\t\t\t        this.head = null;\n\t\t\t        this.foot = null;\n\t\t\t        this.stickyHead = null;\n\t\t\t        this.stickyFoot = null;\n\t\t\t    };\n\t\t\t    return ListTree;\n\t\t\t}());\n\t\t\t{\n\t\t\t    Object.defineProperty(ListTree.prototype, \"_debugToArray\", {\n\t\t\t        get: function () {\n\t\t\t            return this.toArray();\n\t\t\t        },\n\t\t\t    });\n\t\t\t}\n\n\t\t\texports.Comment = Comment;\n\t\t\texports.Consumer = Consumer;\n\t\t\texports.Context = Context;\n\t\t\texports.Element = Element;\n\t\t\texports.ForwardRef = ForwardRef;\n\t\t\texports.Fragment = Fragment;\n\t\t\texports.Lazy = Lazy;\n\t\t\texports.ListTree = ListTree;\n\t\t\texports.ListTreeNode = ListTreeNode;\n\t\t\texports.Memo = Memo;\n\t\t\texports.Offscreen = Offscreen;\n\t\t\texports.Portal = Portal;\n\t\t\texports.Profiler = Profiler;\n\t\t\texports.Provider = Provider;\n\t\t\texports.Root = Root;\n\t\t\texports.Scope = Scope;\n\t\t\texports.ScopeLazy = ScopeLazy;\n\t\t\texports.ScopeSuspense = ScopeSuspense;\n\t\t\texports.Strict = Strict;\n\t\t\texports.Suspense = Suspense;\n\t\t\texports.TYPEKEY = TYPEKEY;\n\t\t\texports.UniqueArray = UniqueArray;\n\t\t\texports.compareVersion = compareVersion;\n\t\t\texports.exclude = exclude;\n\t\t\texports.include = include;\n\t\t\texports.isArray = isArray;\n\t\t\texports.isArrayEquals = isArrayEquals;\n\t\t\texports.isCollection = isCollection;\n\t\t\texports.isFunction = isFunction;\n\t\t\texports.isInteger = isInteger;\n\t\t\texports.isNormalEquals = isNormalEquals;\n\t\t\texports.isNumber = isNumber;\n\t\t\texports.isObject = isObject;\n\t\t\texports.isPromise = isPromise;\n\t\t\texports.isString = isString;\n\t\t\texports.isSymbol = isSymbol;\n\t\t\texports.merge = merge;\n\t\t\texports.once = once;\n\t\t\texports.remove = remove; \n\t\t} (index_development$2));\n\t\treturn index_development$2;\n\t}\n\n\tvar hasRequiredMyreactShared;\n\n\tfunction requireMyreactShared () {\n\t\tif (hasRequiredMyreactShared) return myreactShared.exports;\n\t\thasRequiredMyreactShared = 1;\n\n\t\t{\n\t\t  myreactShared.exports = requireIndex_development();\n\t\t}\n\t\treturn myreactShared.exports;\n\t}\n\n\tvar myreactSharedExports = requireMyreactShared();\n\n\tvar DISPATCH_FIELD = \"__@my-react/dispatch__\";\n\tvar DEV_TOOL_FIELD = \"__@my-react/react-devtool-inject__\";\n\tvar addGlobalDispatch = function (dispatch) {\n\t    if (typeof globalThis !== \"undefined\") {\n\t        if (Array.isArray(globalThis[DISPATCH_FIELD])) {\n\t            globalThis[DISPATCH_FIELD] = globalThis[DISPATCH_FIELD].filter(function (i) { return i !== dispatch; });\n\t            globalThis[DISPATCH_FIELD].push(dispatch);\n\t        }\n\t        else {\n\t            globalThis[DISPATCH_FIELD] = [dispatch];\n\t        }\n\t    }\n\t};\n\tvar autoSetDevTools = function (dispatch) {\n\t    addGlobalDispatch(dispatch);\n\t    if (typeof globalThis !== \"undefined\" && globalThis[DEV_TOOL_FIELD]) {\n\t        try {\n\t            var typedRuntimeField = globalThis[DEV_TOOL_FIELD];\n\t            typedRuntimeField === null || typedRuntimeField === void 0 ? void 0 : typedRuntimeField(dispatch);\n\t        }\n\t        catch (_a) {\n\t        }\n\t    }\n\t};\n\tvar delGlobalDispatch = function (dispatch) {\n\t    if (typeof globalThis !== \"undefined\") {\n\t        if (Array.isArray(globalThis[DISPATCH_FIELD])) {\n\t            globalThis[DISPATCH_FIELD] = globalThis[DISPATCH_FIELD].filter(function (i) { return i !== dispatch; });\n\t        }\n\t    }\n\t};\n\n\t/**\n\t * @internal\n\t */\n\tvar setRef = function (_fiber, config) {\n\t    var _a, _b;\n\t    if (myreactSharedExports.include(_fiber.patch, myreactSharedExports.PATCH_TYPE.__ref__)) {\n\t        if (myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__plain__)) {\n\t            if (_fiber.nativeNode) {\n\t                var ref_1 = _fiber.ref;\n\t                if (typeof ref_1 === \"object\" && ref_1 !== null) {\n\t                    ref_1.current = (_a = config === null || config === void 0 ? void 0 : config.getPublicInstance) === null || _a === void 0 ? void 0 : _a.call(config, _fiber.nativeNode);\n\t                }\n\t                else if (typeof ref_1 === \"function\") {\n\t                    myreactReconcilerExports.safeCallWithCurrentFiber({\n\t                        fiber: _fiber,\n\t                        action: function safeCallSetRef() {\n\t                            var _a, _b;\n\t                            (_a = _fiber.refCleanup) === null || _a === void 0 ? void 0 : _a.call(_fiber);\n\t                            var refCleanUp = ref_1((_b = config === null || config === void 0 ? void 0 : config.getPublicInstance) === null || _b === void 0 ? void 0 : _b.call(config, _fiber.nativeNode));\n\t                            if (typeof refCleanUp === \"function\") {\n\t                                _fiber.refCleanup = refCleanUp;\n\t                            }\n\t                        },\n\t                    });\n\t                }\n\t            }\n\t            else {\n\t                throw new Error(\"[@my-react/react] plain element do not have a native node\");\n\t            }\n\t        }\n\t        else if (myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__class__)) {\n\t            if (_fiber.instance) {\n\t                var ref_2 = _fiber.ref;\n\t                if (typeof ref_2 === \"object\" && ref_2 !== null) {\n\t                    ref_2.current = (_b = config === null || config === void 0 ? void 0 : config.getPublicInstance) === null || _b === void 0 ? void 0 : _b.call(config, _fiber.instance);\n\t                }\n\t                else if (typeof ref_2 === \"function\") {\n\t                    myreactReconcilerExports.safeCallWithCurrentFiber({\n\t                        fiber: _fiber,\n\t                        action: function safeCallSetRef() {\n\t                            var _a, _b;\n\t                            (_a = _fiber.refCleanup) === null || _a === void 0 ? void 0 : _a.call(_fiber);\n\t                            var refCleanUp = ref_2((_b = config === null || config === void 0 ? void 0 : config.getPublicInstance) === null || _b === void 0 ? void 0 : _b.call(config, _fiber.instance));\n\t                            if (typeof refCleanUp === \"function\") {\n\t                                _fiber.refCleanup = refCleanUp;\n\t                            }\n\t                        },\n\t                    });\n\t                }\n\t            }\n\t            else {\n\t                throw new Error(\"[@my-react/react-dom] class component do not have a instance\");\n\t            }\n\t        }\n\t        else {\n\t            console.error(\"can not set ref for current element\");\n\t        }\n\t        _fiber.patch = myreactSharedExports.remove(_fiber.patch, myreactSharedExports.PATCH_TYPE.__ref__);\n\t    }\n\t};\n\t/**\n\t * @internal\n\t */\n\tvar unsetRef = function (_fiber) {\n\t    if (myreactSharedExports.include(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t        return;\n\t    if (_fiber.ref && myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__plain__ | myreactReconcilerExports.NODE_TYPE.__class__)) {\n\t        var ref_3 = _fiber.ref;\n\t        if (typeof ref_3 === \"object\" && ref_3 !== null) {\n\t            ref_3.current = null;\n\t        }\n\t        else if (typeof ref_3 === \"function\") {\n\t            myreactReconcilerExports.safeCallWithCurrentFiber({\n\t                fiber: _fiber,\n\t                action: function safeCallClearRef() {\n\t                    if (_fiber.refCleanup) {\n\t                        _fiber.refCleanup();\n\t                    }\n\t                    else {\n\t                        ref_3(null);\n\t                    }\n\t                },\n\t            });\n\t        }\n\t    }\n\t};\n\n\tvar create = function (_dispatch, _fiber, _config) {\n\t    var _a, _b;\n\t    if (!myreactSharedExports.include(_fiber.patch, myreactSharedExports.PATCH_TYPE.__create__))\n\t        return;\n\t    var type = _fiber.elementType;\n\t    var props = _fiber.pendingProps;\n\t    // const rootContainerInstance = config.getPublicInstance(rootNode);\n\t    var rootContainerInstance = _dispatch.rootNode;\n\t    var hostContext = _dispatch.runtimeDom.hostContextMap.get(_fiber.parent || _fiber);\n\t    // TODO\n\t    if (myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__text__)) {\n\t        _fiber.nativeNode = _config.createTextInstance(type, rootContainerInstance, hostContext, _fiber);\n\t    }\n\t    else if (myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__plain__)) {\n\t        _fiber.nativeNode = _config.createInstance(type, props, rootContainerInstance, hostContext, _fiber);\n\t    }\n\t    else if (myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__portal__)) {\n\t        var fiberContainer = _fiber;\n\t        var containerNode = _fiber.pendingProps[\"container\"];\n\t        (_a = _config.preparePortalMount) === null || _a === void 0 ? void 0 : _a.call(_config, containerNode);\n\t        fiberContainer.containerNode = containerNode;\n\t        (_b = containerNode.setAttribute) === null || _b === void 0 ? void 0 : _b.call(containerNode, \"portal\", \"@my-react\");\n\t    }\n\t    else {\n\t        throw new Error(\"current type node not supported\");\n\t    }\n\t    _fiber.memoizedProps = _fiber.pendingProps;\n\t    _fiber.patch = myreactSharedExports.remove(_fiber.patch, myreactSharedExports.PATCH_TYPE.__update__);\n\t    _fiber.patch = myreactSharedExports.remove(_fiber.patch, myreactSharedExports.PATCH_TYPE.__create__);\n\t};\n\n\tvar initialMap = function (dispatch, fiber, config) {\n\t    var parentFiberWithNode = null;\n\t    var parentFiberHostContext = null;\n\t    var hostContext = null;\n\t    if (fiber.parent) {\n\t        var mayFiberContainer = fiber.parent;\n\t        if (mayFiberContainer.containerNode) {\n\t            parentFiberWithNode = fiber.parent;\n\t        }\n\t        else if (myreactSharedExports.include(fiber.parent.type, dispatch.runtimeRef.typeForNativeNode)) {\n\t            parentFiberWithNode = fiber.parent;\n\t        }\n\t        else {\n\t            parentFiberWithNode = dispatch.runtimeDom.elementMap.get(fiber.parent) || dispatch.rootFiber;\n\t        }\n\t        parentFiberHostContext = dispatch.runtimeDom.hostContextMap.get(parentFiberWithNode);\n\t        if (checkFiberWithNativeNode(dispatch, fiber)) {\n\t            hostContext = config.getChildHostContext(parentFiberHostContext, fiber.elementType, dispatch.rootNode, fiber);\n\t        }\n\t        else {\n\t            hostContext = parentFiberHostContext;\n\t        }\n\t    }\n\t    else {\n\t        hostContext = config.getRootHostContext(dispatch.rootNode);\n\t    }\n\t    if (parentFiberWithNode) {\n\t        dispatch.runtimeDom.elementMap.set(fiber, parentFiberWithNode);\n\t    }\n\t    dispatch.runtimeDom.hostContextMap.set(fiber, hostContext);\n\t};\n\tvar unmountMap = function (dispatch, fiber) {\n\t    dispatch.runtimeDom.hostContextMap.delete(fiber);\n\t    dispatch.runtimeDom.elementMap.delete(fiber);\n\t};\n\tvar getFiberWithNativeNode = function (fiber, transform) {\n\t    while (fiber) {\n\t        var maybeContainer = fiber;\n\t        if (fiber.nativeNode && myreactSharedExports.exclude(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t            return fiber;\n\t        if (maybeContainer.containerNode && myreactSharedExports.exclude(maybeContainer.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t            return fiber;\n\t        fiber = transform(fiber);\n\t    }\n\t    return null;\n\t};\n\tvar getValidParentFiberWithNode = function (_dispatch, _fiber) {\n\t    var parentFiberWithNode = _dispatch.runtimeDom.elementMap.get(_fiber);\n\t    if (!parentFiberWithNode || myreactSharedExports.include(parentFiberWithNode.state, myreactSharedExports.STATE_TYPE.__unmount__)) {\n\t        parentFiberWithNode = getFiberWithNativeNode(_fiber.parent, function (f) { return f.parent; });\n\t        _dispatch.runtimeDom.elementMap.set(_fiber, parentFiberWithNode);\n\t    }\n\t    return parentFiberWithNode;\n\t};\n\tvar findFiberWithNodeFromFiber = function (fiber) {\n\t    if (!fiber || myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t        return null;\n\t    if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__portal__))\n\t        return null;\n\t    if (fiber.nativeNode)\n\t        return fiber;\n\t    var child = fiber.child;\n\t    while (child) {\n\t        var childWithDom = findFiberWithNodeFromFiber(child);\n\t        if (childWithDom)\n\t            return childWithDom;\n\t        child = child.sibling;\n\t    }\n\t    return null;\n\t};\n\tvar getInsertBeforeNodeFromSibling = function (fiber) {\n\t    if (!fiber)\n\t        return null;\n\t    return findFiberWithNodeFromFiber(fiber) || getInsertBeforeNodeFromSibling(fiber === null || fiber === void 0 ? void 0 : fiber.sibling);\n\t};\n\tvar getInsertBeforeNodeFromSiblingAndParent = function (fiber, parentFiber) {\n\t    if (!fiber)\n\t        return null;\n\t    if (fiber === parentFiber)\n\t        return null;\n\t    var beforeDom = getInsertBeforeNodeFromSibling(fiber.sibling);\n\t    if (beforeDom)\n\t        return beforeDom;\n\t    return getInsertBeforeNodeFromSiblingAndParent(fiber.parent, parentFiber);\n\t};\n\tvar checkFiberWithNativeNode = function (dispatch, fiber) {\n\t    var _a;\n\t    var maybeContainer = fiber;\n\t    var maybeRoot = fiber;\n\t    if (myreactSharedExports.include(fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t        return false;\n\t    if (maybeContainer.containerNode)\n\t        return true;\n\t    if ((_a = maybeRoot.renderDispatch) === null || _a === void 0 ? void 0 : _a.rootNode)\n\t        return true;\n\t    if (myreactSharedExports.include(fiber.type, dispatch.runtimeRef.typeForNativeNode)) {\n\t        return true;\n\t    }\n\t    return false;\n\t};\n\n\tvar append$1 = function (_dispatch, _fiber, _config) {\n\t    var _a, _b, _c, _d, _e, _f;\n\t    if (!myreactSharedExports.include(_fiber.patch, myreactSharedExports.PATCH_TYPE.__append__))\n\t        return;\n\t    var isRender = !_dispatch.isAppMounted;\n\t    var parentFiberWithNode = getValidParentFiberWithNode(_dispatch, _fiber);\n\t    var mayFiberContainer = parentFiberWithNode;\n\t    if (!_fiber.nativeNode)\n\t        throw new Error(\"append error, current render node not have a native node\");\n\t    // const parentNode = config.getPublicInstance(parentFiberWithNode?.nativeNode || mayFiberContainer?.containerNode);\n\t    var parentNode = (parentFiberWithNode === null || parentFiberWithNode === void 0 ? void 0 : parentFiberWithNode.nativeNode) || (mayFiberContainer === null || mayFiberContainer === void 0 ? void 0 : mayFiberContainer.containerNode);\n\t    // const rootNode = config.getPublicInstance(this.rootNode);\n\t    var rootNode = _dispatch.rootNode;\n\t    var isContainer = !parentNode || (parentNode && parentNode === (mayFiberContainer === null || mayFiberContainer === void 0 ? void 0 : mayFiberContainer.containerNode));\n\t    // const currentNode = config.getPublicInstance(_fiber.nativeNode);\n\t    var currentNode = _fiber.nativeNode;\n\t    if (isRender) {\n\t        if (isContainer) {\n\t            if (_config.appendChildToContainer) {\n\t                (_a = _config.appendChildToContainer) === null || _a === void 0 ? void 0 : _a.call(_config, rootNode, currentNode, _fiber);\n\t            }\n\t            else {\n\t                (_b = _config.appendInitialChild) === null || _b === void 0 ? void 0 : _b.call(_config, rootNode, currentNode, _fiber);\n\t            }\n\t        }\n\t        else {\n\t            (_c = _config.appendInitialChild) === null || _c === void 0 ? void 0 : _c.call(_config, parentNode, currentNode, _fiber);\n\t        }\n\t    }\n\t    else {\n\t        if (isContainer) {\n\t            if (_config.appendChildToContainer) {\n\t                (_d = _config.appendChildToContainer) === null || _d === void 0 ? void 0 : _d.call(_config, rootNode, currentNode, _fiber);\n\t            }\n\t            else {\n\t                (_e = _config.appendChild) === null || _e === void 0 ? void 0 : _e.call(_config, rootNode, currentNode, _fiber);\n\t            }\n\t        }\n\t        else {\n\t            (_f = _config.appendChild) === null || _f === void 0 ? void 0 : _f.call(_config, parentNode, currentNode, _fiber);\n\t        }\n\t    }\n\t    _fiber.patch = myreactSharedExports.remove(_fiber.patch, myreactSharedExports.PATCH_TYPE.__append__);\n\t};\n\n\tvar update = function (_dispatch, _fiber, _config) {\n\t    var _a;\n\t    if (!myreactSharedExports.include(_fiber.patch, myreactSharedExports.PATCH_TYPE.__update__))\n\t        return;\n\t    // const node = config.getPublicInstance(_fiber.nativeNode);\n\t    var node = _fiber.nativeNode;\n\t    var type = _fiber.elementType;\n\t    var oldProps = _fiber.memoizedProps;\n\t    var newProps = _fiber.pendingProps;\n\t    // const rootContainerInstance = config.getPublicInstance(rootNode);\n\t    var rootContainerInstance = _dispatch.rootNode;\n\t    var hostContext = _dispatch.runtimeDom.hostContextMap.get(_fiber.parent || _fiber);\n\t    if (myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__text__)) {\n\t        (_a = _config.commitTextUpdate) === null || _a === void 0 ? void 0 : _a.call(_config, node, _fiber.memoizedText, _fiber.pendingText);\n\t    }\n\t    else if (myreactSharedExports.include(_fiber.type, myreactReconcilerExports.NODE_TYPE.__plain__)) {\n\t        if (typeof _config.prepareUpdate === \"function\") {\n\t            var updatePayload = _config.prepareUpdate(node, type, oldProps, newProps, rootContainerInstance, hostContext, _fiber);\n\t            if (updatePayload) {\n\t                _config.commitUpdate(node, updatePayload, type, oldProps, newProps, _fiber);\n\t            }\n\t        }\n\t        else {\n\t            _config.commitUpdate(node, type, oldProps, newProps, _fiber);\n\t        }\n\t    }\n\t    _fiber.memoizedProps = _fiber.pendingProps;\n\t    _fiber.patch = myreactSharedExports.remove(_fiber.patch, myreactSharedExports.PATCH_TYPE.__update__);\n\t};\n\n\tvar remove = function (_dispatch, _fiber, _config) {\n\t    var _a, _b;\n\t    if (myreactSharedExports.include(_fiber.state, myreactSharedExports.STATE_TYPE.__unmount__))\n\t        return;\n\t    if (!_fiber.nativeNode)\n\t        return;\n\t    var parentFiberWithNode = getValidParentFiberWithNode(_dispatch, _fiber);\n\t    var maybeContainer = parentFiberWithNode;\n\t    // const parentNode = config.getPublicInstance(parentFiberWithNode?.nativeNode || mayFiberContainer?.containerNode);\n\t    var parentNode = (parentFiberWithNode === null || parentFiberWithNode === void 0 ? void 0 : parentFiberWithNode.nativeNode) || (maybeContainer === null || maybeContainer === void 0 ? void 0 : maybeContainer.containerNode);\n\t    // const rootNode = config.getPublicInstance(this.rootNode);\n\t    var rootNode = _dispatch.rootNode;\n\t    // const currentNode = config.getPublicInstance(_fiber.nativeNode);\n\t    var currentNode = _fiber.nativeNode;\n\t    var isContainer = !parentNode || (parentNode && parentNode === (maybeContainer === null || maybeContainer === void 0 ? void 0 : maybeContainer.containerNode));\n\t    if (isContainer) {\n\t        (_a = _config.removeChildFromContainer) === null || _a === void 0 ? void 0 : _a.call(_config, rootNode, currentNode, _fiber);\n\t    }\n\t    else {\n\t        (_b = _config.removeChild) === null || _b === void 0 ? void 0 : _b.call(_config, parentNode, currentNode, _fiber);\n\t    }\n\t};\n\n\tvar append = function (dispatch, config, fiber, parentFiberWithNode) {\n\t    var _a, _b, _c;\n\t    if (!fiber)\n\t        throw new Error(\"position error, look like a bug for @my-react\");\n\t    fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__append__);\n\t    fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__position__);\n\t    if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__portal__))\n\t        return;\n\t    if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__plain__ | myreactReconcilerExports.NODE_TYPE.__text__)) {\n\t        var maybeContainer = parentFiberWithNode;\n\t        var maybeFiber = parentFiberWithNode;\n\t        // const parentNode = config?.getPublicInstance?.(maybeFiber?.nativeNode || maybeContainer?.containerNode);\n\t        var parentNode = (maybeFiber === null || maybeFiber === void 0 ? void 0 : maybeFiber.nativeNode) || (maybeContainer === null || maybeContainer === void 0 ? void 0 : maybeContainer.containerNode);\n\t        // const rootNode = config?.getPublicInstance?.(dispatch.rootNode);\n\t        var rootNode = dispatch.rootNode;\n\t        // const childNode = config?.getPublicInstance?.(fiber.nativeNode);\n\t        var childNode = fiber.nativeNode;\n\t        var isContainer = !parentNode || (parentNode && parentNode === (maybeContainer === null || maybeContainer === void 0 ? void 0 : maybeContainer.containerNode));\n\t        if (isContainer) {\n\t            if (config.appendChildToContainer) {\n\t                (_a = config.appendChildToContainer) === null || _a === void 0 ? void 0 : _a.call(config, rootNode, childNode, fiber);\n\t            }\n\t            else {\n\t                (_b = config.appendChild) === null || _b === void 0 ? void 0 : _b.call(config, rootNode, childNode, fiber);\n\t            }\n\t        }\n\t        else {\n\t            (_c = config.appendChild) === null || _c === void 0 ? void 0 : _c.call(config, parentNode, childNode, fiber);\n\t        }\n\t        return;\n\t    }\n\t    var child = fiber.child;\n\t    while (child) {\n\t        append(dispatch, config, child, parentFiberWithNode);\n\t        child = child.sibling;\n\t    }\n\t};\n\tvar insertBefore = function (dispatch, config, fiber, beforeFiberWithNode, parentFiberWithNode) {\n\t    var _a, _b, _c;\n\t    if (!fiber)\n\t        throw new Error(\"position error, look like a bug for @my-react\");\n\t    fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__append__);\n\t    fiber.patch = myreactSharedExports.remove(fiber.patch, myreactSharedExports.PATCH_TYPE.__position__);\n\t    if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__portal__))\n\t        return;\n\t    if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__plain__ | myreactReconcilerExports.NODE_TYPE.__text__)) {\n\t        var maybeContainer = parentFiberWithNode;\n\t        var maybeFiber = parentFiberWithNode;\n\t        // const parentNode = config?.getPublicInstance?.(maybeFiber?.nativeNode || maybeContainer?.containerNode);\n\t        var parentNode = (maybeFiber === null || maybeFiber === void 0 ? void 0 : maybeFiber.nativeNode) || (maybeContainer === null || maybeContainer === void 0 ? void 0 : maybeContainer.containerNode);\n\t        // const rootNode = config?.getPublicInstance?.(dispatch.rootNode);\n\t        var rootNode = dispatch.rootNode;\n\t        // the before dom will not have containerNode\n\t        // const beforeNode = config?.getPublicInstance?.(beforeFiberWithNode.nativeNode);\n\t        var beforeNode = beforeFiberWithNode.nativeNode;\n\t        if (!beforeNode) {\n\t            console.error(\"not have a before node, look like a bug for @my-react\");\n\t        }\n\t        // const childNode = config?.getPublicInstance?.(fiber.nativeNode);\n\t        var childNode = fiber.nativeNode;\n\t        var isContainer = !parentNode || (parentNode && parentNode === (maybeContainer === null || maybeContainer === void 0 ? void 0 : maybeContainer.containerNode));\n\t        if (isContainer) {\n\t            if (config.insertInContainerBefore) {\n\t                (_a = config.insertInContainerBefore) === null || _a === void 0 ? void 0 : _a.call(config, rootNode, childNode, beforeNode, fiber);\n\t            }\n\t            else {\n\t                (_b = config.insertBefore) === null || _b === void 0 ? void 0 : _b.call(config, rootNode, childNode, beforeNode, fiber);\n\t            }\n\t        }\n\t        else {\n\t            (_c = config.insertBefore) === null || _c === void 0 ? void 0 : _c.call(config, parentNode, childNode, beforeNode, fiber);\n\t        }\n\t        return;\n\t    }\n\t    var child = fiber.child;\n\t    while (child) {\n\t        insertBefore(dispatch, config, child, beforeFiberWithNode, parentFiberWithNode);\n\t        child = child.sibling;\n\t    }\n\t};\n\tvar position = function (_dispatch, _fiber, _config) {\n\t    if (!myreactSharedExports.include(_fiber.patch, myreactSharedExports.PATCH_TYPE.__position__))\n\t        return;\n\t    var rootFiber = _dispatch.rootFiber;\n\t    var parentFiberWithNode = getValidParentFiberWithNode(_dispatch, _fiber);\n\t    var beforeFiberWithNode = getInsertBeforeNodeFromSiblingAndParent(_fiber, parentFiberWithNode || rootFiber);\n\t    if (beforeFiberWithNode && myreactSharedExports.exclude(beforeFiberWithNode.patch, myreactSharedExports.PATCH_TYPE.__append__ | myreactSharedExports.PATCH_TYPE.__position__)) {\n\t        insertBefore(_dispatch, _config, _fiber, beforeFiberWithNode, parentFiberWithNode);\n\t    }\n\t    else {\n\t        append(_dispatch, _config, _fiber, parentFiberWithNode);\n\t    }\n\t    _fiber.patch = myreactSharedExports.remove(_fiber.patch, myreactSharedExports.PATCH_TYPE.__position__);\n\t};\n\n\tvar createPortal = function (_element, _container) {\n\t    var portal = require$$0.createElement(myreactSharedExports.Portal, { container: _container }, _element);\n\t    return portal;\n\t};\n\tvar nextWorkPortal = function (renderDispatch, fiber) {\n\t    var typedFiber = fiber;\n\t    myreactReconcilerExports.nextWorkNormal(renderDispatch, fiber);\n\t    if (typedFiber.containerNode !== fiber.pendingProps[\"container\"]) {\n\t        renderDispatch.pendingCreate(fiber);\n\t        var child = fiber.child;\n\t        while (child) {\n\t            renderDispatch.pendingAppend(child);\n\t            child = child.sibling;\n\t        }\n\t    }\n\t};\n\n\tvar ReconcilerDispatchFiber = function (renderDispatch, fiber) {\n\t    if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__root__)) {\n\t        // TODO\n\t        myreactReconcilerExports.nextWorkRoot(renderDispatch, fiber);\n\t    }\n\t    else if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__class__ | myreactReconcilerExports.NODE_TYPE.__function__)) {\n\t        myreactReconcilerExports.nextWorkComponent(renderDispatch, fiber);\n\t    }\n\t    else if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__portal__)) {\n\t        nextWorkPortal(renderDispatch, fiber);\n\t    }\n\t    else if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__lazy__)) {\n\t        myreactReconcilerExports.nextWorkLazy(renderDispatch, fiber);\n\t    }\n\t    else if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__suspense__)) {\n\t        myreactReconcilerExports.nextWorkSuspense(renderDispatch, fiber);\n\t    }\n\t    else if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__consumer__)) {\n\t        myreactReconcilerExports.nextWorkConsumer(renderDispatch, fiber);\n\t    }\n\t    else if (myreactSharedExports.include(fiber.type, myreactReconcilerExports.NODE_TYPE.__provider__ | myreactReconcilerExports.NODE_TYPE.__context__)) {\n\t        myreactReconcilerExports.nextWorkProvider(renderDispatch, fiber);\n\t    }\n\t    else {\n\t        myreactReconcilerExports.nextWorkNormal(renderDispatch, fiber);\n\t    }\n\t};\n\n\tvar currentScheduler$1 = require$$0.__my_react_internal__.currentScheduler;\n\tvar enableScopeTreeLog$2 = require$$0.__my_react_shared__.enableScopeTreeLog;\n\tvar ReconcilerDispatchMount = function (_dispatch, _fiber, config) {\n\t    var _list = myreactReconcilerExports.generateFiberToMountList(_fiber);\n\t    var pendingCommitFiberArray = [];\n\t    myreactReconcilerExports.beforeSyncUpdate();\n\t    _list.listToFoot(function invokeInsertionEffectList(_fiber) {\n\t        myreactReconcilerExports.insertionEffect(_dispatch, _fiber);\n\t    });\n\t    myreactReconcilerExports.afterSyncUpdate();\n\t    _list.listToFoot(function invokeCreateAndUpdateList(_fiber) {\n\t        myreactReconcilerExports.safeCallWithCurrentFiber({\n\t            fiber: _fiber,\n\t            action: function safeCallCreateAndUpdate() {\n\t                _dispatch.commitCreate(_fiber);\n\t                _dispatch.commitUpdate(_fiber);\n\t            },\n\t        });\n\t    });\n\t    _list.listToFoot(function invokeAppendList(_fiber) {\n\t        myreactReconcilerExports.safeCallWithCurrentFiber({\n\t            fiber: _fiber,\n\t            action: function safeCallAppendList() {\n\t                _dispatch.commitAppend(_fiber);\n\t            },\n\t        });\n\t    });\n\t    _list.listToFoot(function invokeSetRefList(_fiber) {\n\t        myreactReconcilerExports.safeCallWithCurrentFiber({\n\t            fiber: _fiber,\n\t            action: function safeCallSetRefList() {\n\t                _dispatch.commitSetRef(_fiber);\n\t            },\n\t        });\n\t    });\n\t    _list.listToFoot(function invokeFinalizeInitialChildren(_fiber) {\n\t        if (_fiber.nativeNode) {\n\t            var node = config.getPublicInstance(_fiber.nativeNode);\n\t            var type = _fiber.elementType;\n\t            var props = _fiber.pendingProps;\n\t            var rootContainerInstance = config.getPublicInstance(_dispatch.rootNode);\n\t            var hostContext = _dispatch.runtimeDom.hostContextMap.get(_fiber.parent || _fiber);\n\t            if (config.finalizeInitialChildren(node, type, props, rootContainerInstance, hostContext)) {\n\t                pendingCommitFiberArray.push(_fiber);\n\t            }\n\t        }\n\t    });\n\t    pendingCommitFiberArray.forEach(function invokeCommitMount(_fiber) {\n\t        var _a;\n\t        var node = config.getPublicInstance(_fiber.nativeNode);\n\t        var type = _fiber.elementType;\n\t        var props = _fiber.pendingProps;\n\t        (_a = config.commitMount) === null || _a === void 0 ? void 0 : _a.call(config, node, type, props, _fiber);\n\t    });\n\t    myreactReconcilerExports.beforeSyncUpdate();\n\t    _list.listToFoot(function invokeLayoutEffectList(_fiber) {\n\t        myreactReconcilerExports.layoutEffect(_dispatch, _fiber);\n\t    });\n\t    myreactReconcilerExports.afterSyncUpdate();\n\t    var renderScheduler = currentScheduler$1.current;\n\t    renderScheduler.microTask(function invokeEffectListTask() {\n\t        enableScopeTreeLog$2.current && myreactReconcilerExports.setLogScope();\n\t        _list.listToFoot(function invokeEffectList(_fiber) {\n\t            myreactReconcilerExports.effect(_dispatch, _fiber);\n\t        });\n\t        enableScopeTreeLog$2.current && myreactReconcilerExports.resetLogScope();\n\t    });\n\t};\n\n\tvar currentComponentFiber = require$$0.__my_react_internal__.currentComponentFiber;\n\tvar initialRef = {\n\t    typeForRef: myreactReconcilerExports.NODE_TYPE.__plain__ | myreactReconcilerExports.NODE_TYPE.__class__,\n\t    typeForCreate: myreactReconcilerExports.NODE_TYPE.__text__ | myreactReconcilerExports.NODE_TYPE.__plain__ | myreactReconcilerExports.NODE_TYPE.__portal__,\n\t    typeForUpdate: myreactReconcilerExports.NODE_TYPE.__text__ | myreactReconcilerExports.NODE_TYPE.__plain__,\n\t    typeForAppend: myreactReconcilerExports.NODE_TYPE.__text__ | myreactReconcilerExports.NODE_TYPE.__plain__,\n\t    typeForNativeNode: myreactReconcilerExports.NODE_TYPE.__text__ | myreactReconcilerExports.NODE_TYPE.__plain__ | myreactReconcilerExports.NODE_TYPE.__portal__,\n\t};\n\tvar createDispatch = function (rootNode, rootFiber, rootElement, config) {\n\t    var ReconcilerDispatch = /** @class */ (function (_super) {\n\t        __extends(ReconcilerDispatch, _super);\n\t        function ReconcilerDispatch() {\n\t            var _this = _super !== null && _super.apply(this, arguments) || this;\n\t            _this.enableUpdate = true;\n\t            _this.enableAsyncLoad = true;\n\t            _this.runtimeDom = {\n\t                hostContextMap: new WeakMap(),\n\t                elementMap: new WeakMap(),\n\t            };\n\t            _this.runtimeRef = initialRef;\n\t            return _this;\n\t        }\n\t        ReconcilerDispatch.prototype.dispatchFiber = function (_fiber) {\n\t            ReconcilerDispatchFiber(this, _fiber);\n\t        };\n\t        ReconcilerDispatch.prototype.commitCreate = function (_fiber) {\n\t            create(this, _fiber, config);\n\t        };\n\t        ReconcilerDispatch.prototype.commitUpdate = function (_fiber) {\n\t            update(this, _fiber, config);\n\t        };\n\t        ReconcilerDispatch.prototype.commitAppend = function (_fiber) {\n\t            append$1(this, _fiber, config);\n\t        };\n\t        ReconcilerDispatch.prototype.commitPosition = function (_fiber) {\n\t            position(this, _fiber, config);\n\t        };\n\t        ReconcilerDispatch.prototype.commitSetRef = function (_fiber) {\n\t            setRef(_fiber, config);\n\t        };\n\t        ReconcilerDispatch.prototype.commitUnsetRef = function (_fiber) {\n\t            unsetRef(_fiber);\n\t        };\n\t        ReconcilerDispatch.prototype.commitClear = function (_fiber) {\n\t            remove(this, _fiber, config);\n\t        };\n\t        ReconcilerDispatch.prototype.reconcileCommit = function (_fiber) {\n\t            var _a, _b;\n\t            (_a = config.prepareForCommit) === null || _a === void 0 ? void 0 : _a.call(config, rootNode);\n\t            var instance = this;\n\t            myreactReconcilerExports.safeCall(function safeCallBeforeCommit() {\n\t                var _a;\n\t                (_a = instance.beforeCommit) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t            });\n\t            myreactReconcilerExports.safeCall(function safeCallBeforeCommitListener() {\n\t                myreactReconcilerExports.listenerMap.get(instance).beforeCommit.forEach(function (cb) { return cb(); });\n\t            });\n\t            ReconcilerDispatchMount(this, _fiber, config);\n\t            myreactReconcilerExports.safeCall(function safeCallAfterCommitListener() {\n\t                myreactReconcilerExports.listenerMap.get(instance).afterCommit.forEach(function (cb) { return cb(); });\n\t            });\n\t            myreactReconcilerExports.safeCall(function safeCallAfterCommit() {\n\t                var _a;\n\t                (_a = instance.afterCommit) === null || _a === void 0 ? void 0 : _a.call(instance);\n\t            });\n\t            (_b = config.resetAfterCommit) === null || _b === void 0 ? void 0 : _b.call(config, rootNode);\n\t        };\n\t        ReconcilerDispatch.prototype.reconcileUpdate = function (_list) {\n\t            var _a, _b;\n\t            (_a = config.prepareForCommit) === null || _a === void 0 ? void 0 : _a.call(config, rootNode);\n\t            _super.prototype.reconcileUpdate.call(this, _list);\n\t            (_b = config.resetAfterCommit) === null || _b === void 0 ? void 0 : _b.call(config, rootNode);\n\t        };\n\t        ReconcilerDispatch.prototype.patchToFiberInitial = function (_fiber) {\n\t            initialMap(this, _fiber, config);\n\t        };\n\t        ReconcilerDispatch.prototype.patchToFiberUnmount = function (_fiber) {\n\t            unmountMap(this, _fiber);\n\t        };\n\t        ReconcilerDispatch.prototype.dispatchState = function (_params) {\n\t            return myreactReconcilerExports.processState(this, _params);\n\t        };\n\t        ReconcilerDispatch.prototype.dispatchHook = function (_params) {\n\t            return myreactReconcilerExports.processHook(this, _params);\n\t        };\n\t        ReconcilerDispatch.prototype.dispatchPromise = function (_params) {\n\t            return myreactReconcilerExports.processPromise(this, _params.fiber, _params.promise);\n\t        };\n\t        ReconcilerDispatch.prototype.dispatchError = function (_params) {\n\t            {\n\t                myreactReconcilerExports.devErrorWithFiber(_params.fiber, _params.error);\n\t            }\n\t            myreactReconcilerExports.triggerError(this, _params.fiber, _params.error);\n\t            return void 0;\n\t        };\n\t        return ReconcilerDispatch;\n\t    }(myreactReconcilerExports.CustomRenderDispatch));\n\t    {\n\t        Object.defineProperty(ReconcilerDispatch.prototype, \"__dev_hmr_runtime__\", {\n\t            value: {\n\t                hmr: myreactReconcilerExports.hmr,\n\t                typeToFibersMap: myreactReconcilerExports.typeToFibersMap,\n\t                setRefreshHandler: myreactReconcilerExports.setRefreshHandler,\n\t                currentComponentFiber: currentComponentFiber,\n\t                getCurrentFibersFromType: myreactReconcilerExports.getCurrentFibersFromType,\n\t                getCurrentDispatchFromType: myreactReconcilerExports.getCurrentDispatchFromType,\n\t                getCurrentDispatchFromFiber: myreactReconcilerExports.getCurrentDispatchFromFiber,\n\t            },\n\t        });\n\t        Object.defineProperty(ReconcilerDispatch.prototype, \"__dev_hmr_remount__\", {\n\t            value: function hmrRemount(cb) {\n\t                console.log(\"not implement yet\");\n\t                cb === null || cb === void 0 ? void 0 : cb();\n\t            },\n\t        });\n\t    }\n\t    return new ReconcilerDispatch(rootNode, rootFiber, rootElement);\n\t};\n\n\tvar DEV_REFRESH_FIELD = \"__@my-react/react-refresh-inject__\";\n\tvar autoSetDevHMR = function (dispatch) {\n\t    {\n\t        if (typeof globalThis !== \"undefined\" && globalThis[DEV_REFRESH_FIELD]) {\n\t            try {\n\t                var typedRuntimeField = globalThis[DEV_REFRESH_FIELD];\n\t                typedRuntimeField === null || typedRuntimeField === void 0 ? void 0 : typedRuntimeField(dispatch);\n\t            }\n\t            catch (_a) {\n\t            }\n\t        }\n\t    }\n\t};\n\n\t/* eslint-disable @typescript-eslint/no-require-imports */\n\tvar loadScript = function (url) {\n\t    if (typeof window !== \"undefined\") {\n\t        return new Promise(function (resolve, reject) {\n\t            if (typeof document === \"undefined\") {\n\t                reject(new Error(\"[@my-react-devtool/polyfill] document not found, current environment not support\"));\n\t                return;\n\t            }\n\t            var script = document.createElement(\"script\");\n\t            script.src = url;\n\t            script.onload = function () { return resolve(); };\n\t            script.onerror = reject;\n\t            document.body.appendChild(script);\n\t        });\n\t    }\n\t    else if (typeof process !== \"undefined\" && typeof commonjsRequire === \"function\") {\n\t        return new Promise(function (resolve, reject) {\n\t            var loadPkg = function () { return __awaiter(void 0, void 0, void 0, function () {\n\t                var http, https, vm, protocol;\n\t                return __generator(this, function (_a) {\n\t                    switch (_a.label) {\n\t                        case 0: return [4 /*yield*/, import('http')];\n\t                        case 1:\n\t                            http = _a.sent();\n\t                            return [4 /*yield*/, import('https')];\n\t                        case 2:\n\t                            https = _a.sent();\n\t                            return [4 /*yield*/, import('vm')];\n\t                        case 3:\n\t                            vm = _a.sent();\n\t                            protocol = url.startsWith(\"https\") ? https : http;\n\t                            protocol\n\t                                .get(url, function (res) {\n\t                                var data = \"\";\n\t                                res.on(\"data\", function (chunk) {\n\t                                    data += chunk;\n\t                                });\n\t                                res.on(\"end\", function () {\n\t                                    try {\n\t                                        vm.runInThisContext(data);\n\t                                        resolve();\n\t                                    }\n\t                                    catch (error) {\n\t                                        reject(error);\n\t                                    }\n\t                                });\n\t                            })\n\t                                .on(\"error\", function (error) {\n\t                                reject(error);\n\t                            });\n\t                            return [2 /*return*/];\n\t                    }\n\t                });\n\t            }); };\n\t            loadPkg();\n\t        });\n\t    }\n\t};\n\n\tvar enableDebugFiled$1 = require$$0.__my_react_shared__.enableDebugFiled, enableScopeTreeLog$1 = require$$0.__my_react_shared__.enableScopeTreeLog;\n\t/**\n\t * @internal\n\t */\n\tvar prepareScheduler = function () {\n\t    enableDebugFiled$1.current = true;\n\t    enableScopeTreeLog$1.current = true;\n\t    myreactReconcilerExports.enableFiberForLog.current = true;\n\t    myreactReconcilerExports.enableValidMyReactElement.current = false;\n\t    myreactReconcilerExports.initScheduler();\n\t};\n\n\tvar enableDebugFiled = require$$0.__my_react_shared__.enableDebugFiled, enableScopeTreeLog = require$$0.__my_react_shared__.enableScopeTreeLog;\n\tvar currentScheduler = require$$0.__my_react_internal__.currentScheduler;\n\t// react-reconciler compact implementation\n\tvar Reconciler = function (_config) {\n\t    var rendererPackageName = \"@my-react\";\n\t    var ReconcilerSet = new Set();\n\t    var createContainer = function (_container) {\n\t        prepareScheduler();\n\t        enableDebugFiled.current = true;\n\t        enableScopeTreeLog.current = false;\n\t        // enableFiberForLog.current = false;\n\t        return _container;\n\t    };\n\t    var updateContainer = function (_element, _container, _ignore, _cb) {\n\t        var renderDispatch = _container.__container__;\n\t        var renderScheduler = currentScheduler.current;\n\t        if (renderDispatch instanceof myreactReconcilerExports.CustomRenderDispatch) {\n\t            var _fiber_1 = _container.__fiber__;\n\t            if (renderDispatch.isAppCrashed || myreactSharedExports.include(_fiber_1.state, myreactSharedExports.STATE_TYPE.__unmount__)) {\n\t                // is there are not a valid render tree, try do the pure rerender\n\t                _container.__fiber__ = null;\n\t                _container.__container__ = null;\n\t                updateContainer(_element, _container, _config, _cb);\n\t                return;\n\t            }\n\t            if (myreactReconcilerExports.checkIsSameType(_fiber_1, _element)) {\n\t                _fiber_1._installElement(_element);\n\t                myreactReconcilerExports.triggerUpdateOnFiber(_fiber_1, myreactSharedExports.STATE_TYPE.__triggerSync__, _cb);\n\t                return;\n\t            }\n\t            myreactReconcilerExports.unmountContainer(renderDispatch);\n\t            ReconcilerSet.delete(renderDispatch);\n\t            renderScheduler.dispatchSet.uniDelete(renderDispatch);\n\t            delGlobalDispatch(renderDispatch);\n\t        }\n\t        var _fiber = new myreactReconcilerExports.MyReactFiberNode(_element);\n\t        var _renderDispatch = createDispatch(_container, _fiber, _element, _config);\n\t        _cb && _renderDispatch.pendingEffect(_fiber, _cb);\n\t        ReconcilerSet.add(_renderDispatch);\n\t        renderScheduler.dispatchSet.uniPush(_renderDispatch);\n\t        _renderDispatch.renderPackage = rendererPackageName;\n\t        _container.__fiber__ = _fiber;\n\t        _container.__container__ = _renderDispatch;\n\t        autoSetDevTools(_renderDispatch);\n\t        autoSetDevHMR(_renderDispatch);\n\t        myreactReconcilerExports.initialFiberNode(_renderDispatch, _fiber);\n\t        myreactReconcilerExports.mountSync(_renderDispatch, _fiber);\n\t        _renderDispatch.isAppMounted = true;\n\t    };\n\t    var injectIntoDevTools = function (_config) { return __awaiter(void 0, void 0, void 0, function () {\n\t        return __generator(this, function (_a) {\n\t            switch (_a.label) {\n\t                case 0:\n\t                    rendererPackageName = _config.rendererPackageName || rendererPackageName;\n\t                    ReconcilerSet.forEach(function (renderDispatch) { return (renderDispatch.renderPackage = rendererPackageName); });\n\t                    if (globalThis[\"__MY_REACT_DEVTOOL_INTERNAL__\"])\n\t                        return [2 /*return*/];\n\t                    // load core runtime\n\t                    // await loadScript(\"https://mrwangjusttodo.github.io/myreact-devtools/bundle/hook.js\");\n\t                    return [4 /*yield*/, loadScript(\"https://mrwangjusttodo.github.io/myreact-devtools/bundle/hook.js\")];\n\t                case 1:\n\t                    // load core runtime\n\t                    // await loadScript(\"https://mrwangjusttodo.github.io/myreact-devtools/bundle/hook.js\");\n\t                    _a.sent();\n\t                    return [2 /*return*/];\n\t            }\n\t        });\n\t    }); };\n\t    var injectIntoDevToolsWithSocketIO = function (url, _config) { return __awaiter(void 0, void 0, void 0, function () {\n\t        var init;\n\t        return __generator(this, function (_b) {\n\t            switch (_b.label) {\n\t                case 0: \n\t                // load core runtime\n\t                return [4 /*yield*/, injectIntoDevTools(_config || {})];\n\t                case 1:\n\t                    // load core runtime\n\t                    _b.sent();\n\t                    init = globalThis[\"__MY_REACT_DEVTOOL_NODE__\"];\n\t                    _b.label = 2;\n\t                case 2:\n\t                    _b.trys.push([2, 4, , 5]);\n\t                    return [4 /*yield*/, init(url)];\n\t                case 3:\n\t                    _b.sent();\n\t                    return [3 /*break*/, 5];\n\t                case 4:\n\t                    _b.sent();\n\t                    return [3 /*break*/, 5];\n\t                case 5: return [2 /*return*/];\n\t            }\n\t        });\n\t    }); };\n\t    return {\n\t        createPortal: createPortal,\n\t        createContainer: createContainer,\n\t        updateContainer: updateContainer,\n\t        injectIntoDevTools: injectIntoDevTools,\n\t        injectIntoDevToolsWithSocketIO: injectIntoDevToolsWithSocketIO,\n\t        flushSync: myreactReconcilerExports.safeCallWithSync,\n\t        batchedUpdates: myreactReconcilerExports.safeCallWithSync,\n\t    };\n\t};\n\n\tvar version = \"0.0.3\";\n\tvar createReconciler = Reconciler;\n\n\tindex_development.createReconciler = createReconciler;\n\tindex_development.version = version;\n\treturn index_development;\n}\n\nvar hasRequiredMyreactReconcilerCompact;\n\nfunction requireMyreactReconcilerCompact () {\n\tif (hasRequiredMyreactReconcilerCompact) return myreactReconcilerCompact.exports;\n\thasRequiredMyreactReconcilerCompact = 1;\n\n\tconst React = React__default;\n\n\tif (!React.isMyReact) {\n\t  throw new Error(\n\t    \"@my-react/react-reconciler-compact requires 'React' to be set as '@my-react/react'. Please ensure you have set the alias correctly in your bundler configuration.\"\n\t  );\n\t}\n\n\tif (process.env.NODE_ENV === \"production\") {\n\t  myreactReconcilerCompact.exports = requireIndex_production_2();\n\t} else {\n\t  myreactReconcilerCompact.exports = requireIndex_development_2();\n\t}\n\treturn myreactReconcilerCompact.exports;\n}\n\nvar myreactReconcilerCompactExports = requireMyreactReconcilerCompact();\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable @typescript-eslint/no-empty-object-type */\n/* eslint-disable @typescript-eslint/no-unsafe-function-type */\n/* eslint-disable max-lines */\n/* eslint-disable @typescript-eslint/no-non-null-asserted-optional-chain */\n// type Fiber = Omit<Reconciler.Fiber, \"alternate\"> & { refCleanup: null | (() => void); alternate: Fiber | null };\nfunction createReconciler(config) {\n    const reconciler = myreactReconcilerCompactExports.createReconciler(config);\n    reconciler.injectIntoDevTools({\n        bundleType: typeof process !== \"undefined\" && process.env.NODE_ENV !== \"production\" ? 1 : 0,\n        rendererPackageName: \"@react-three/fiber\",\n        version: React.version,\n    });\n    return reconciler;\n}\nconst NoEventPriority = 0;\nconst catalogue = {};\nconst PREFIX_REGEX = /^three(?=[A-Z])/;\nconst toPascalCase = (type) => `${type[0].toUpperCase()}${type.slice(1)}`;\nlet i = 0;\nconst isConstructor = (object) => typeof object === \"function\";\nfunction extend(objects) {\n    if (isConstructor(objects)) {\n        const Component = `${i++}`;\n        catalogue[Component] = objects;\n        return Component;\n    }\n    else {\n        Object.assign(catalogue, objects);\n    }\n}\nfunction validateInstance(type, props) {\n    // Get target from catalogue\n    const name = toPascalCase(type);\n    const target = catalogue[name];\n    // Validate element target\n    if (type !== \"primitive\" && !target)\n        throw new Error(`R3F: ${name} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);\n    // Validate primitives\n    if (type === \"primitive\" && !props.object)\n        throw new Error(`R3F: Primitives without 'object' are invalid!`);\n    // Throw if an object or literal was passed for args\n    if (props.args !== undefined && !Array.isArray(props.args))\n        throw new Error(\"R3F: The args prop must be an array!\");\n}\nfunction createInstance(type, props, root) {\n    // Remove three* prefix from elements if native element not present\n    type = toPascalCase(type) in catalogue ? type : type.replace(PREFIX_REGEX, \"\");\n    validateInstance(type, props);\n    // Regenerate the R3F instance for primitives to simulate a new object\n    if (type === \"primitive\" && props.object?.__r3f)\n        delete props.object.__r3f;\n    return prepare(props.object, root, type, props);\n}\nfunction hideInstance(instance) {\n    if (!instance.isHidden) {\n        if (instance.props.attach && instance.parent?.object) {\n            detach(instance.parent, instance);\n        }\n        else if (isObject3D(instance.object)) {\n            instance.object.visible = false;\n        }\n        instance.isHidden = true;\n        invalidateInstance(instance);\n    }\n}\nfunction unhideInstance(instance) {\n    if (instance.isHidden) {\n        if (instance.props.attach && instance.parent?.object) {\n            attach(instance.parent, instance);\n        }\n        else if (isObject3D(instance.object) && instance.props.visible !== false) {\n            instance.object.visible = true;\n        }\n        instance.isHidden = false;\n        invalidateInstance(instance);\n    }\n}\n// https://github.com/facebook/react/issues/20271\n// This will make sure events and attach are only handled once when trees are complete\nfunction handleContainerEffects(parent, child, beforeChild) {\n    // Bail if tree isn't mounted or parent is not a container.\n    // This ensures that the tree is finalized and React won't discard results to Suspense\n    const state = child.root.getState();\n    if (!parent.parent && parent.object !== state.scene)\n        return;\n    // Create & link object on first run\n    if (!child.object) {\n        // Get target from catalogue\n        const target = catalogue[toPascalCase(child.type)];\n        // Create object\n        child.object = child.props.object ?? new target(...(child.props.args ?? []));\n        child.object.__r3f = child;\n    }\n    // Set initial props\n    applyProps(child.object, child.props);\n    // Append instance\n    if (child.props.attach) {\n        attach(parent, child);\n    }\n    else if (isObject3D(child.object) && isObject3D(parent.object)) {\n        const childIndex = parent.object.children.indexOf(beforeChild?.object);\n        if (beforeChild && childIndex !== -1) {\n            // If the child is already in the parent's children array, move it to the new position\n            // Otherwise, just insert it at the target position\n            const existingIndex = parent.object.children.indexOf(child.object);\n            if (existingIndex !== -1) {\n                parent.object.children.splice(existingIndex, 1);\n                const adjustedIndex = existingIndex < childIndex ? childIndex - 1 : childIndex;\n                parent.object.children.splice(adjustedIndex, 0, child.object);\n            }\n            else {\n                child.object.parent = parent.object;\n                parent.object.children.splice(childIndex, 0, child.object);\n                child.object.dispatchEvent({ type: \"added\" });\n                // @ts-ignore\n                parent.object.dispatchEvent({ type: \"childadded\", child: child.object });\n            }\n        }\n        else {\n            parent.object.add(child.object);\n        }\n    }\n    // Link subtree\n    for (const childInstance of child.children)\n        handleContainerEffects(child, childInstance);\n    // Tree was updated, request a frame\n    invalidateInstance(child);\n}\nfunction appendChild(parent, child) {\n    if (!child)\n        return;\n    // Link instances\n    child.parent = parent;\n    parent.children.push(child);\n    // Attach tree once complete\n    handleContainerEffects(parent, child);\n}\nfunction insertBefore(parent, child, beforeChild) {\n    if (!child || !beforeChild)\n        return;\n    // Link instances\n    child.parent = parent;\n    const childIndex = parent.children.indexOf(beforeChild);\n    if (childIndex !== -1)\n        parent.children.splice(childIndex, 0, child);\n    else\n        parent.children.push(child);\n    // Attach tree once complete\n    handleContainerEffects(parent, child, beforeChild);\n}\nfunction disposeOnIdle(object) {\n    if (typeof object.dispose === \"function\") {\n        const handleDispose = () => {\n            try {\n                object.dispose();\n            }\n            catch {\n                // no-op\n            }\n        };\n        // In a testing environment, cleanup immediately\n        // if (typeof IS_REACT_ACT_ENVIRONMENT !== \"undefined\") handleDispose();\n        // Otherwise, using a real GPU so schedule cleanup to prevent stalls\n        // else scheduleCallback(idlePriority, handleDispose);\n        handleDispose();\n    }\n}\nfunction removeChild(parent, child, dispose) {\n    if (!child)\n        return;\n    // Unlink instances\n    child.parent = null;\n    const childIndex = parent.children.indexOf(child);\n    if (childIndex !== -1)\n        parent.children.splice(childIndex, 1);\n    // Eagerly tear down tree\n    if (child.props.attach) {\n        detach(parent, child);\n    }\n    else if (isObject3D(child.object) && isObject3D(parent.object)) {\n        parent.object.remove(child.object);\n        removeInteractivity(findInitialRoot(child), child.object);\n    }\n    // Allow objects to bail out of unmount disposal with dispose={null}\n    const shouldDispose = child.props.dispose !== null && dispose !== false;\n    // Recursively remove instance children\n    for (let i = child.children.length - 1; i >= 0; i--) {\n        const node = child.children[i];\n        removeChild(child, node, shouldDispose);\n    }\n    child.children.length = 0;\n    // Unlink instance object\n    delete child.object.__r3f;\n    // Dispose object whenever the reconciler feels like it.\n    // Never dispose of primitives because their state may be kept outside of React!\n    // In order for an object to be able to dispose it\n    //   - has a dispose method\n    //   - cannot be a <primitive object={...} />\n    //   - cannot be a THREE.Scene, because three has broken its own API\n    if (shouldDispose && child.type !== \"primitive\" && child.object.type !== \"Scene\") {\n        disposeOnIdle(child.object);\n    }\n    // Tree was updated, request a frame for top-level instance\n    if (dispose === undefined)\n        invalidateInstance(child);\n}\nfunction setFiberRef(fiber, publicInstance) {\n    for (const _fiber of [fiber, fiber.alternate]) {\n        if (_fiber !== null) {\n            if (typeof _fiber?.ref === \"function\") {\n                _fiber.refCleanup?.();\n                const cleanup = _fiber.ref(publicInstance);\n                if (typeof cleanup === \"function\")\n                    _fiber.refCleanup = cleanup;\n            }\n            else if (_fiber?.ref) {\n                _fiber.ref.current = publicInstance;\n            }\n        }\n    }\n}\nconst reconstructed = [];\nfunction swapInstances() {\n    // Detach instance\n    for (const [instance] of reconstructed) {\n        const parent = instance.parent;\n        if (parent) {\n            if (instance.props.attach) {\n                detach(parent, instance);\n            }\n            else if (isObject3D(instance.object) && isObject3D(parent.object)) {\n                parent.object.remove(instance.object);\n            }\n            for (const child of instance.children) {\n                if (child.props.attach) {\n                    detach(instance, child);\n                }\n                else if (isObject3D(child.object) && isObject3D(instance.object)) {\n                    instance.object.remove(child.object);\n                }\n            }\n        }\n        // If the old instance is hidden, we need to unhide it.\n        // React assumes it can discard instances since they're pure for DOM.\n        // This isn't true for us since our lifetimes are impure and longliving.\n        // So, we manually check if an instance was hidden and unhide it.\n        if (instance.isHidden)\n            unhideInstance(instance);\n        // Dispose of old object if able\n        if (instance.object.__r3f)\n            delete instance.object.__r3f;\n        if (instance.type !== \"primitive\")\n            disposeOnIdle(instance.object);\n    }\n    // Update instance\n    for (const [instance, props, fiber] of reconstructed) {\n        instance.props = props;\n        const parent = instance.parent;\n        if (parent) {\n            // Get target from catalogue\n            const target = catalogue[toPascalCase(instance.type)];\n            // Create object\n            instance.object = instance.props.object ?? new target(...(instance.props.args ?? []));\n            instance.object.__r3f = instance;\n            setFiberRef(fiber, instance.object);\n            // Set initial props\n            applyProps(instance.object, instance.props);\n            if (instance.props.attach) {\n                attach(parent, instance);\n            }\n            else if (isObject3D(instance.object) && isObject3D(parent.object)) {\n                parent.object.add(instance.object);\n            }\n            for (const child of instance.children) {\n                if (child.props.attach) {\n                    attach(instance, child);\n                }\n                else if (isObject3D(child.object) && isObject3D(instance.object)) {\n                    instance.object.add(child.object);\n                }\n            }\n            // Tree was updated, request a frame\n            invalidateInstance(instance);\n        }\n    }\n    reconstructed.length = 0;\n}\n// Don't handle text instances, make it no-op\nconst handleTextInstance = () => { };\nconst NO_CONTEXT = {};\nlet currentUpdatePriority = NoEventPriority;\n// https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberFlags.js\nconst NoFlags = 0;\nconst Update = 4;\nconst reconciler = /* @__PURE__ */ createReconciler({\n    isPrimaryRenderer: false,\n    warnsIfNotActing: false,\n    supportsMutation: true,\n    supportsPersistence: false,\n    supportsHydration: false,\n    createInstance,\n    removeChild,\n    appendChild,\n    appendInitialChild: appendChild,\n    insertBefore,\n    appendChildToContainer(container, child) {\n        const scene = container.getState().scene.__r3f;\n        if (!child || !scene)\n            return;\n        appendChild(scene, child);\n    },\n    removeChildFromContainer(container, child) {\n        const scene = container.getState().scene.__r3f;\n        if (!child || !scene)\n            return;\n        removeChild(scene, child);\n    },\n    insertInContainerBefore(container, child, beforeChild) {\n        const scene = container.getState().scene.__r3f;\n        if (!child || !beforeChild || !scene)\n            return;\n        insertBefore(scene, child, beforeChild);\n    },\n    getRootHostContext: () => NO_CONTEXT,\n    getChildHostContext: () => NO_CONTEXT,\n    commitUpdate(instance, type, oldProps, newProps, fiber) {\n        validateInstance(type, newProps);\n        let reconstruct = false;\n        // Reconstruct primitives if object prop changes\n        if (instance.type === \"primitive\" && oldProps.object !== newProps.object)\n            reconstruct = true;\n        // Reconstruct instance if args were added or removed\n        else if (newProps.args?.length !== oldProps.args?.length)\n            reconstruct = true;\n        // Reconstruct instance if args were changed\n        else if (newProps.args?.some((value, index) => value !== oldProps.args?.[index]))\n            reconstruct = true;\n        // Reconstruct when args or <primitive object={...} have changes\n        if (reconstruct) {\n            reconstructed.push([instance, { ...newProps }, fiber]);\n        }\n        else {\n            // Create a diff-set, flag if there are any changes\n            const changedProps = diffProps(instance, newProps);\n            if (Object.keys(changedProps).length) {\n                Object.assign(instance.props, changedProps);\n                applyProps(instance.object, changedProps);\n            }\n        }\n        // Flush reconstructed siblings when we hit the last updated child in a sequence\n        // @ts-ignore\n        const isTailSibling = fiber.sibling === null || (fiber.flags & Update) === NoFlags;\n        if (isTailSibling)\n            swapInstances();\n    },\n    finalizeInitialChildren: () => false,\n    commitMount() { },\n    // @ts-ignore\n    getPublicInstance: (instance) => instance?.object,\n    prepareForCommit: () => null,\n    preparePortalMount: (container) => prepare(container.getState().scene, container, \"\", {}),\n    resetAfterCommit: () => { },\n    shouldSetTextContent: () => false,\n    clearContainer: () => false,\n    hideInstance,\n    unhideInstance,\n    createTextInstance: handleTextInstance,\n    hideTextInstance: handleTextInstance,\n    unhideTextInstance: handleTextInstance,\n    scheduleTimeout: (typeof setTimeout === \"function\" ? setTimeout : undefined),\n    cancelTimeout: (typeof clearTimeout === \"function\" ? clearTimeout : undefined),\n    noTimeout: -1,\n    getInstanceFromNode: () => null,\n    beforeActiveInstanceBlur() { },\n    afterActiveInstanceBlur() { },\n    detachDeletedInstance() { },\n    prepareScopeUpdate() { },\n    getInstanceFromScope: () => null,\n    shouldAttemptEagerTransition: () => false,\n    trackSchedulerEvent: () => { },\n    resolveEventType: () => null,\n    resolveEventTimeStamp: () => -1.1,\n    requestPostPaintCallback() { },\n    maySuspendCommit: () => false,\n    preloadInstance: () => true, // true indicates already loaded\n    startSuspendingCommit() { },\n    suspendInstance() { },\n    waitForCommitToBeReady: () => null,\n    NotPendingTransition: null,\n    HostTransitionContext: /* @__PURE__ */ React.createContext(null),\n    setCurrentUpdatePriority(newPriority) {\n        currentUpdatePriority = newPriority;\n    },\n    getCurrentUpdatePriority() {\n        return currentUpdatePriority;\n    },\n    resolveUpdatePriority() {\n        if (currentUpdatePriority !== NoEventPriority)\n            return currentUpdatePriority;\n        switch (typeof window !== \"undefined\" && window.event?.type) {\n            case \"click\":\n            case \"contextmenu\":\n            case \"dblclick\":\n            case \"pointercancel\":\n            case \"pointerdown\":\n            case \"pointerup\":\n                // return DiscreteEventPriority;\n                return 1;\n            case \"pointermove\":\n            case \"pointerout\":\n            case \"pointerover\":\n            case \"pointerenter\":\n            case \"pointerleave\":\n            case \"wheel\":\n                return 1;\n            // return ContinuousEventPriority;\n            default:\n                // return DefaultEventPriority;\n                return 1;\n        }\n    },\n    resetFormInstance() { },\n});\n\nconst _roots = new Map();\nconst shallowLoose = { objects: \"shallow\", strict: false };\nfunction computeInitialSize(canvas, size) {\n    if (!size && typeof HTMLCanvasElement !== \"undefined\" && canvas instanceof HTMLCanvasElement && canvas.parentElement) {\n        const { width, height, top, left } = canvas.parentElement.getBoundingClientRect();\n        return { width, height, top, left };\n    }\n    else if (!size && typeof OffscreenCanvas !== \"undefined\" && canvas instanceof OffscreenCanvas) {\n        return {\n            width: canvas.width,\n            height: canvas.height,\n            top: 0,\n            left: 0,\n        };\n    }\n    return { width: 0, height: 0, top: 0, left: 0, ...size };\n}\nfunction createRoot(canvas) {\n    // Check against mistaken use of createRoot\n    const prevRoot = _roots.get(canvas);\n    const prevFiber = prevRoot?.fiber;\n    const prevStore = prevRoot?.store;\n    if (prevRoot)\n        console.warn(\"R3F.createRoot should only be called once!\");\n    // Report when an error was detected in a previous render\n    // https://github.com/pmndrs/react-three-fiber/pull/2261\n    const logRecoverableError = typeof reportError === \"function\"\n        ? // In modern browsers, reportError will dispatch an error event,\n            // emulating an uncaught JavaScript error.\n            reportError\n        : // In older browsers and test environments, fallback to console.error.\n            console.error;\n    // Create store\n    const store = prevStore || createStore(invalidate, advance);\n    // Create renderer\n    const fiber = prevFiber ||\n        reconciler.createContainer(store, // container\n        // ConcurrentRoot, // tag\n        1, null, // hydration callbacks\n        false, // isStrictMode\n        null, // concurrentUpdatesByDefaultOverride\n        \"\", // identifierPrefix\n        logRecoverableError, // onUncaughtError\n        logRecoverableError, // onCaughtError\n        logRecoverableError, // onRecoverableError\n        null // transitionCallbacks\n        );\n    // Map it\n    if (!prevRoot)\n        _roots.set(canvas, { fiber, store });\n    // Locals\n    let onCreated;\n    let lastCamera;\n    let configured = false;\n    let pending = null;\n    return {\n        async configure(props = {}) {\n            let resolve;\n            pending = new Promise((_resolve) => (resolve = _resolve));\n            const { gl: glConfig, size: propsSize, scene: sceneOptions, events, onCreated: onCreatedCallback, shadows = false, linear = false, flat = false, legacy = false, orthographic = false, frameloop = \"always\", dpr = [1, 2], performance, raycaster: raycastOptions, camera: cameraOptions, onPointerMissed, } = props;\n            const state = store.getState();\n            // Set up renderer (one time only!)\n            let gl = state.gl;\n            if (!state.gl) {\n                const defaultProps = {\n                    canvas: canvas,\n                    powerPreference: \"high-performance\",\n                    antialias: true,\n                    alpha: true,\n                };\n                const customRenderer = (typeof glConfig === \"function\" ? await glConfig(defaultProps) : glConfig);\n                if (isRenderer(customRenderer)) {\n                    gl = customRenderer;\n                }\n                else {\n                    gl = new THREE.WebGLRenderer({\n                        ...defaultProps,\n                        ...glConfig,\n                    });\n                }\n                state.set({ gl });\n            }\n            // Set up raycaster (one time only!)\n            let raycaster = state.raycaster;\n            if (!raycaster)\n                state.set({ raycaster: (raycaster = new THREE.Raycaster()) });\n            // Set raycaster options\n            const { params, ...options } = raycastOptions || {};\n            if (!is.equ(options, raycaster, shallowLoose))\n                applyProps(raycaster, { ...options });\n            if (!is.equ(params, raycaster.params, shallowLoose))\n                applyProps(raycaster, { params: { ...raycaster.params, ...params } });\n            // Create default camera, don't overwrite any user-set state\n            if (!state.camera || (state.camera === lastCamera && !is.equ(lastCamera, cameraOptions, shallowLoose))) {\n                lastCamera = cameraOptions;\n                const isCamera = cameraOptions?.isCamera;\n                const camera = isCamera\n                    ? cameraOptions\n                    : orthographic\n                        ? new THREE.OrthographicCamera(0, 0, 0, 0, 0.1, 1000)\n                        : new THREE.PerspectiveCamera(75, 0, 0.1, 1000);\n                if (!isCamera) {\n                    camera.position.z = 5;\n                    if (cameraOptions) {\n                        applyProps(camera, cameraOptions);\n                        // Preserve user-defined frustum if possible\n                        // https://github.com/pmndrs/react-three-fiber/issues/3160\n                        if (!camera.manual) {\n                            if (\"aspect\" in cameraOptions || \"left\" in cameraOptions || \"right\" in cameraOptions || \"bottom\" in cameraOptions || \"top\" in cameraOptions) {\n                                camera.manual = true;\n                                camera.updateProjectionMatrix();\n                            }\n                        }\n                    }\n                    // Always look at center by default\n                    if (!state.camera && !cameraOptions?.rotation)\n                        camera.lookAt(0, 0, 0);\n                }\n                state.set({ camera });\n                // Configure raycaster\n                // https://github.com/pmndrs/react-xr/issues/300\n                raycaster.camera = camera;\n            }\n            // Set up scene (one time only!)\n            if (!state.scene) {\n                let scene;\n                if (sceneOptions?.isScene) {\n                    scene = sceneOptions;\n                    prepare(scene, store, \"\", {});\n                }\n                else {\n                    scene = new THREE.Scene();\n                    prepare(scene, store, \"\", {});\n                    if (sceneOptions)\n                        applyProps(scene, sceneOptions);\n                }\n                state.set({ scene });\n            }\n            // Store events internally\n            if (events && !state.events.handlers)\n                state.set({ events: events(store) });\n            // Check size, allow it to take on container bounds initially\n            const size = computeInitialSize(canvas, propsSize);\n            if (!is.equ(size, state.size, shallowLoose)) {\n                state.setSize(size.width, size.height, size.top, size.left);\n            }\n            // Check pixelratio\n            if (dpr && state.viewport.dpr !== calculateDpr(dpr))\n                state.setDpr(dpr);\n            // Check frameloop\n            if (state.frameloop !== frameloop)\n                state.setFrameloop(frameloop);\n            // Check pointer missed\n            if (!state.onPointerMissed)\n                state.set({ onPointerMissed });\n            // Check performance\n            if (performance && !is.equ(performance, state.performance, shallowLoose))\n                state.set((state) => ({ performance: { ...state.performance, ...performance } }));\n            // Set up XR (one time only!)\n            if (!state.xr) {\n                // Handle frame behavior in WebXR\n                const handleXRFrame = (timestamp, frame) => {\n                    const state = store.getState();\n                    if (state.frameloop === \"never\")\n                        return;\n                    advance(timestamp, true, state, frame);\n                };\n                // Toggle render switching on session\n                const handleSessionChange = () => {\n                    const state = store.getState();\n                    state.gl.xr.enabled = state.gl.xr.isPresenting;\n                    state.gl.xr.setAnimationLoop(state.gl.xr.isPresenting ? handleXRFrame : null);\n                    if (!state.gl.xr.isPresenting)\n                        invalidate(state);\n                };\n                // WebXR session manager\n                const xr = {\n                    connect() {\n                        const gl = store.getState().gl;\n                        gl.xr.addEventListener(\"sessionstart\", handleSessionChange);\n                        gl.xr.addEventListener(\"sessionend\", handleSessionChange);\n                    },\n                    disconnect() {\n                        const gl = store.getState().gl;\n                        gl.xr.removeEventListener(\"sessionstart\", handleSessionChange);\n                        gl.xr.removeEventListener(\"sessionend\", handleSessionChange);\n                    },\n                };\n                // Subscribe to WebXR session events\n                if (typeof gl.xr?.addEventListener === \"function\")\n                    xr.connect();\n                state.set({ xr });\n            }\n            // Set shadowmap\n            if (gl.shadowMap) {\n                const oldEnabled = gl.shadowMap.enabled;\n                const oldType = gl.shadowMap.type;\n                gl.shadowMap.enabled = !!shadows;\n                if (is.boo(shadows)) {\n                    gl.shadowMap.type = THREE.PCFSoftShadowMap;\n                }\n                else if (is.str(shadows)) {\n                    const types = {\n                        basic: THREE.BasicShadowMap,\n                        percentage: THREE.PCFShadowMap,\n                        soft: THREE.PCFSoftShadowMap,\n                        variance: THREE.VSMShadowMap,\n                    };\n                    gl.shadowMap.type = types[shadows] ?? THREE.PCFSoftShadowMap;\n                }\n                else if (is.obj(shadows)) {\n                    Object.assign(gl.shadowMap, shadows);\n                }\n                if (oldEnabled !== gl.shadowMap.enabled || oldType !== gl.shadowMap.type)\n                    gl.shadowMap.needsUpdate = true;\n            }\n            THREE.ColorManagement.enabled = !legacy;\n            // Set color space and tonemapping preferences\n            if (!configured) {\n                gl.outputColorSpace = linear ? THREE.LinearSRGBColorSpace : THREE.SRGBColorSpace;\n                gl.toneMapping = flat ? THREE.NoToneMapping : THREE.ACESFilmicToneMapping;\n            }\n            // Update color management state\n            if (state.legacy !== legacy)\n                state.set(() => ({ legacy }));\n            if (state.linear !== linear)\n                state.set(() => ({ linear }));\n            if (state.flat !== flat)\n                state.set(() => ({ flat }));\n            // Set gl props\n            if (glConfig && !is.fun(glConfig) && !isRenderer(glConfig) && !is.equ(glConfig, gl, shallowLoose))\n                applyProps(gl, glConfig);\n            // Set locals\n            onCreated = onCreatedCallback;\n            configured = true;\n            resolve();\n            return this;\n        },\n        render(children) {\n            // The root has to be configured before it can be rendered\n            if (!configured && !pending)\n                this.configure();\n            pending.then(() => {\n                reconciler.updateContainer(jsx(Provider, { store: store, children: children, onCreated: onCreated, rootElement: canvas }), fiber, null, () => undefined);\n            });\n            return store;\n        },\n        unmount() {\n            unmountComponentAtNode(canvas);\n        },\n    };\n}\nfunction Provider({ store, children, onCreated, rootElement }) {\n    useIsomorphicLayoutEffect(() => {\n        const state = store.getState();\n        // Flag the canvas active, rendering will now begin\n        state.set((state) => ({ internal: { ...state.internal, active: true } }));\n        // Notify that init is completed, the scene graph exists, but nothing has yet rendered\n        if (onCreated)\n            onCreated(state);\n        // Connect events to the targets parent, this is done to ensure events are registered on\n        // a shared target, and not on the canvas itself\n        if (!store.getState().events.connected)\n            state.events.connect?.(rootElement);\n    }, []);\n    return jsx(context.Provider, { value: store, children: children });\n}\nfunction unmountComponentAtNode(canvas, callback) {\n    const root = _roots.get(canvas);\n    const fiber = root?.fiber;\n    if (fiber) {\n        const state = root?.store.getState();\n        if (state)\n            state.internal.active = false;\n        reconciler.updateContainer(null, fiber, null, () => {\n            if (state) {\n                setTimeout(() => {\n                    try {\n                        state.events.disconnect?.();\n                        state.gl?.renderLists?.dispose?.();\n                        state.gl?.forceContextLoss?.();\n                        if (state.gl?.xr)\n                            state.xr.disconnect();\n                        dispose(state.scene);\n                        _roots.delete(canvas);\n                        if (callback)\n                            callback(canvas);\n                    }\n                    catch (e) {\n                        console.log(e);\n                        /* ... */\n                    }\n                }, 500);\n            }\n        });\n    }\n}\nfunction createPortal(children, container, state) {\n    return jsx(Portal, { children: children, container: container, state: state });\n}\nfunction Portal({ state = {}, children, container }) {\n    /** This has to be a component because it would not be able to call useThree/useStore otherwise since\n     *  if this is our environment, then we are not in r3f's renderer but in react-dom, it would trigger\n     *  the \"R3F hooks can only be used within the Canvas component!\" warning:\n     *  <Canvas>\n     *    {createPortal(...)} */\n    const { events, size, ...rest } = state;\n    const previousRoot = useStore();\n    const [raycaster] = React.useState(() => new THREE.Raycaster());\n    const [pointer] = React.useState(() => new THREE.Vector2());\n    const inject = useMutableCallback((rootState, injectState) => {\n        let viewport = undefined;\n        if (injectState.camera && size) {\n            const camera = injectState.camera;\n            // Calculate the override viewport, if present\n            viewport = rootState.viewport.getCurrentViewport(camera, new THREE.Vector3(), size);\n            // Update the portal camera, if it differs from the previous layer\n            if (camera !== rootState.camera)\n                updateCamera(camera, size);\n        }\n        return {\n            // The intersect consists of the previous root state\n            ...rootState,\n            ...injectState,\n            // Portals have their own scene, which forms the root, a raycaster and a pointer\n            scene: container,\n            raycaster,\n            pointer,\n            mouse: pointer,\n            // Their previous root is the layer before it\n            previousRoot,\n            // Events, size and viewport can be overridden by the inject layer\n            events: { ...rootState.events, ...injectState.events, ...events },\n            size: { ...rootState.size, ...size },\n            viewport: { ...rootState.viewport, ...viewport },\n            // Layers are allowed to override events\n            setEvents: (events) => injectState.set((state) => ({ ...state, events: { ...state.events, ...events } })),\n        };\n    });\n    const usePortalStore = React.useMemo(() => {\n        // Create a mirrored store, based on the previous root with a few overrides ...\n        const store = createWithEqualityFn((set, get) => ({ ...rest, set, get }));\n        // Subscribe to previous root-state and copy changes over to the mirrored portal-state\n        const onMutate = (prev) => store.setState((state) => inject.current(prev, state));\n        onMutate(previousRoot.getState());\n        previousRoot.subscribe(onMutate);\n        return store;\n    }, [previousRoot, container]);\n    return jsx(Fragment, { children: reconciler.createPortal(jsx(context.Provider, { value: usePortalStore, children: children }), usePortalStore, null) });\n}\n\nfunction createSubs(callback, subs) {\n    const sub = { callback };\n    subs.add(sub);\n    return () => void subs.delete(sub);\n}\nconst globalEffects = new Set();\nconst globalAfterEffects = new Set();\nconst globalTailEffects = new Set();\n/**\n * Adds a global render callback which is called each frame.\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#addEffect\n */\nconst addEffect = (callback) => createSubs(callback, globalEffects);\n/**\n * Adds a global after-render callback which is called each frame.\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#addAfterEffect\n */\nconst addAfterEffect = (callback) => createSubs(callback, globalAfterEffects);\n/**\n * Adds a global callback which is called when rendering stops.\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#addTail\n */\nconst addTail = (callback) => createSubs(callback, globalTailEffects);\nfunction run(effects, timestamp) {\n    if (!effects.size)\n        return;\n    for (const { callback } of effects.values()) {\n        callback(timestamp);\n    }\n}\nfunction flushGlobalEffects(type, timestamp) {\n    switch (type) {\n        case \"before\":\n            return run(globalEffects, timestamp);\n        case \"after\":\n            return run(globalAfterEffects, timestamp);\n        case \"tail\":\n            return run(globalTailEffects, timestamp);\n    }\n}\nlet subscribers;\nlet subscription;\nfunction update(timestamp, state, frame) {\n    // Run local effects\n    let delta = state.clock.getDelta();\n    // In frameloop='never' mode, clock times are updated using the provided timestamp\n    if (state.frameloop === \"never\" && typeof timestamp === \"number\") {\n        delta = timestamp - state.clock.elapsedTime;\n        state.clock.oldTime = state.clock.elapsedTime;\n        state.clock.elapsedTime = timestamp;\n    }\n    // Call subscribers (useFrame)\n    subscribers = state.internal.subscribers;\n    for (let i = 0; i < subscribers.length; i++) {\n        subscription = subscribers[i];\n        subscription.ref.current?.(subscription.store.getState(), delta, frame);\n    }\n    // Render content\n    if (!state.internal.priority && state.gl.render)\n        state.gl.render(state.scene, state.camera);\n    // Decrease frame count\n    state.internal.frames = Math.max(0, state.internal.frames - 1);\n    return state.frameloop === \"always\" ? 1 : state.internal.frames;\n}\nlet running = false;\nlet useFrameInProgress = false;\nlet repeat;\nlet frame;\nlet state;\nfunction loop(timestamp) {\n    frame = requestAnimationFrame(loop);\n    running = true;\n    repeat = 0;\n    // Run effects\n    flushGlobalEffects(\"before\", timestamp);\n    // Render all roots\n    useFrameInProgress = true;\n    for (const root of _roots.values()) {\n        state = root.store.getState();\n        // If the frameloop is invalidated, do not run another frame\n        if (state.internal.active && (state.frameloop === \"always\" || state.internal.frames > 0) && !state.gl.xr?.isPresenting) {\n            repeat += update(timestamp, state);\n        }\n    }\n    useFrameInProgress = false;\n    // Run after-effects\n    flushGlobalEffects(\"after\", timestamp);\n    // Stop the loop if nothing invalidates it\n    if (repeat === 0) {\n        // Tail call effects, they are called when rendering stops\n        flushGlobalEffects(\"tail\", timestamp);\n        // Flag end of operation\n        running = false;\n        return cancelAnimationFrame(frame);\n    }\n}\n/**\n * Invalidates the view, requesting a frame to be rendered. Will globally invalidate unless passed a root's state.\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#invalidate\n */\nfunction invalidate(state, frames = 1) {\n    if (!state)\n        return _roots.forEach((root) => invalidate(root.store.getState(), frames));\n    if (state.gl.xr?.isPresenting || !state.internal.active || state.frameloop === \"never\")\n        return;\n    if (frames > 1) {\n        // legacy support for people using frames parameters\n        // Increase frames, do not go higher than 60\n        state.internal.frames = Math.min(60, state.internal.frames + frames);\n    }\n    else {\n        if (useFrameInProgress) {\n            //called from within a useFrame, it means the user wants an additional frame\n            state.internal.frames = 2;\n        }\n        else {\n            //the user need a new frame, no need to increment further than 1\n            state.internal.frames = 1;\n        }\n    }\n    // If the render-loop isn't active, start it\n    if (!running) {\n        running = true;\n        requestAnimationFrame(loop);\n    }\n}\n/**\n * Advances the frameloop and runs render effects, useful for when manually rendering via `frameloop=\"never\"`.\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#advance\n */\nfunction advance(timestamp, runGlobalEffects = true, state, frame) {\n    if (runGlobalEffects)\n        flushGlobalEffects(\"before\", timestamp);\n    if (!state)\n        for (const root of _roots.values())\n            update(timestamp, root.store.getState());\n    else\n        update(timestamp, state, frame);\n    if (runGlobalEffects)\n        flushGlobalEffects(\"after\", timestamp);\n}\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\nconst DOM_EVENTS = {\n    onClick: [\"click\", false],\n    onContextMenu: [\"contextmenu\", false],\n    onDoubleClick: [\"dblclick\", false],\n    onWheel: [\"wheel\", true],\n    onPointerDown: [\"pointerdown\", true],\n    onPointerUp: [\"pointerup\", true],\n    onPointerLeave: [\"pointerleave\", true],\n    onPointerMove: [\"pointermove\", true],\n    onPointerCancel: [\"pointercancel\", true],\n    onLostPointerCapture: [\"lostpointercapture\", true],\n};\n/** Default R3F event manager for web */\nfunction createPointerEvents(store) {\n    const { handlePointer } = createEvents(store);\n    return {\n        priority: 1,\n        enabled: true,\n        compute(event, state, previous) {\n            // https://github.com/pmndrs/react-three-fiber/pull/782\n            // Events trigger outside of canvas when moved, use offsetX/Y by default and allow overrides\n            state.pointer.set((event.offsetX / state.size.width) * 2 - 1, -(event.offsetY / state.size.height) * 2 + 1);\n            state.raycaster.setFromCamera(state.pointer, state.camera);\n        },\n        connected: undefined,\n        handlers: Object.keys(DOM_EVENTS).reduce((acc, key) => ({ ...acc, [key]: handlePointer(key) }), {}),\n        update: () => {\n            const { events, internal } = store.getState();\n            if (internal.lastEvent?.current && events.handlers)\n                events.handlers.onPointerMove(internal.lastEvent.current);\n        },\n        connect: (target) => {\n            const { set, events } = store.getState();\n            events.disconnect?.();\n            set((state) => ({ events: { ...state.events, connected: target } }));\n            if (events.handlers) {\n                for (const name in events.handlers) {\n                    const event = events.handlers[name];\n                    const [eventName, passive] = DOM_EVENTS[name];\n                    target.addEventListener(eventName, event, { passive });\n                }\n            }\n        },\n        disconnect: () => {\n            const { set, events } = store.getState();\n            if (events.connected) {\n                if (events.handlers) {\n                    for (const name in events.handlers) {\n                        const event = events.handlers[name];\n                        const [eventName] = DOM_EVENTS[name];\n                        events.connected.removeEventListener(eventName, event);\n                    }\n                }\n                set((state) => ({ events: { ...state.events, connected: undefined } }));\n            }\n        },\n    };\n}\n\nfunction CanvasImpl({ ref, children, fallback, resize, style, gl, events = createPointerEvents, eventSource, eventPrefix, shadows, linear, flat, legacy, orthographic, frameloop, dpr, performance, raycaster, camera, scene, onPointerMissed, onCreated, forwardRef, ...props }) {\n    // Create a known catalogue of Threejs-native elements\n    // This will include the entire THREE namespace by default, users can extend\n    // their own elements by using the createRoot API instead\n    React.useMemo(() => extend(THREE), []);\n    const Bridge = useBridge();\n    const [containerRef, containerRect] = useMeasure({ scroll: true, debounce: { scroll: 50, resize: 0 }, ...resize });\n    const canvasRef = React.useRef(null);\n    const divRef = React.useRef(null);\n    React.useImperativeHandle(forwardRef, () => canvasRef.current);\n    const handlePointerMissed = useMutableCallback(onPointerMissed);\n    const [block, setBlock] = React.useState(false);\n    const [error, setError] = React.useState(false);\n    // Suspend this component if block is a promise (2nd run)\n    if (block)\n        throw block;\n    // Throw exception outwards if anything within canvas throws\n    if (error)\n        throw error;\n    const root = React.useRef(null);\n    useIsomorphicLayoutEffect(() => {\n        const canvas = canvasRef.current;\n        if (containerRect.width > 0 && containerRect.height > 0 && canvas) {\n            if (!root.current)\n                root.current = createRoot(canvas);\n            async function run() {\n                await root.current.configure({\n                    gl,\n                    scene,\n                    events,\n                    shadows,\n                    linear,\n                    flat,\n                    legacy,\n                    orthographic,\n                    frameloop,\n                    dpr,\n                    performance,\n                    raycaster,\n                    camera,\n                    size: containerRect,\n                    // Pass mutable reference to onPointerMissed so it's free to update\n                    onPointerMissed: (...args) => handlePointerMissed.current?.(...args),\n                    onCreated: (state) => {\n                        // Connect to event source\n                        state.events.connect?.(eventSource ? (isRef(eventSource) ? eventSource.current : eventSource) : divRef.current);\n                        // Set up compute function\n                        if (eventPrefix) {\n                            state.setEvents({\n                                compute: (event, state) => {\n                                    const x = event[(eventPrefix + \"X\")];\n                                    const y = event[(eventPrefix + \"Y\")];\n                                    state.pointer.set((x / state.size.width) * 2 - 1, -(y / state.size.height) * 2 + 1);\n                                    state.raycaster.setFromCamera(state.pointer, state.camera);\n                                },\n                            });\n                        }\n                        // Call onCreated callback\n                        onCreated?.(state);\n                    },\n                });\n                root.current.render(jsx(Bridge, { children: jsx(ErrorBoundary, { set: setError, children: jsx(React.Suspense, { fallback: jsx(Block, { set: setBlock }), children: children ?? null }) }) }));\n            }\n            run();\n        }\n    });\n    React.useEffect(() => {\n        const canvas = canvasRef.current;\n        if (canvas)\n            return () => unmountComponentAtNode(canvas);\n    }, []);\n    // When the event source is not this div, we need to set pointer-events to none\n    // Or else the canvas will block events from reaching the event source\n    const pointerEvents = eventSource ? \"none\" : \"auto\";\n    return (jsx(\"div\", { ref: divRef, style: {\n            position: \"relative\",\n            width: \"100%\",\n            height: \"100%\",\n            overflow: \"hidden\",\n            pointerEvents,\n            ...style,\n        }, ...props, children: jsx(\"div\", { ref: containerRef, style: { width: \"100%\", height: \"100%\" }, children: jsx(\"canvas\", { ref: canvasRef, style: { display: \"block\" }, children: fallback }) }) }));\n}\n/**\n * A DOM canvas which accepts threejs elements as children.\n * @see https://docs.pmnd.rs/react-three-fiber/api/canvas\n */\nconst Canvas = React.forwardRef(function Canvas(props, ref) {\n    return (jsx(FiberProvider, { children: jsx(CanvasImpl, { ...props, forwardRef: ref }) }));\n});\n\nexport { Canvas, FiberProvider, threeTypes as ReactThreeFiber, _roots, addAfterEffect, addEffect, addTail, advance, applyProps, buildGraph, context, createEvents, createPortal, createRoot, dispose, createPointerEvents as events, extend, flushGlobalEffects, getRootState, invalidate, reconciler, traverseFiber, unmountComponentAtNode, useContainer, useContextBridge, useContextMap, useFiber, useFrame, useGraph, useInstanceHandle, useLoader, useNearestChild, useNearestParent, useStore, useThree };\n","/* eslint-disable import/no-useless-path-segments */\n// check pkg alias\nimport React from \"react\";\n\nif (!React.isMyReact) {\n  throw new Error(\n    \"@my-react/react-three-fiber requires 'React' to be set as '@my-react/react'. Please ensure you have set the alias correctly in your bundler configuration.\"\n  );\n}\n\nexport * from \"./dist/esm/index.mjs\";\n"],"names":["hasRequiredIndex_production","hasRequiredMyreactShared","myreactShared","exports","index_production$1","myreactSharedExports","SuppressedError","Element","Symbol","for","Memo","ForwardRef","Portal","Fragment","Context","Provider","Consumer","Lazy","Suspense","Strict","Root","Scope","ScopeLazy","ScopeSuspense","Comment","Offscreen","Profiler","isObject","target","isFunction","HOOK_TYPE","UpdateQueueType","STATE_TYPE","PATCH_TYPE","Effect_TYPE","UniqueArray","this","set","Set","arr","Array","length","prototype","uniPop","v","pop","delete","uniPush","has","add","push","uniShift","shift","uniUnshift","unshift","uniDelete","filter","i","clear","getAll","from","ListTreeNode","value","prev","next","ListTree","_stickyHead","Object","defineProperty","get","_stickyFoot","_head","_foot","node","listNode","foot","head","pushToLast","stickyFoot","node_1","pushToHead","stickyHead","node_2","unshiftToHead","node_3","unshiftToFoot","node_4","pickHead","_a","_b","pickFoot","listToFoot","action","listToHead","toArray","re","hasNode","size","is","hasValue","some","iterator","every","concat","list","newList","clone","TYPEKEY","compareVersion","version1","version2","compare","arr1","arr2","v1","v2","slice","split","map","Number","exclude","src","rest","include","isArray","isArrayEquals","key","isCollection","Map","WeakMap","WeakSet","isInteger","isNormalEquals","isSkipKey","hasSkipKeyFunction","srcKeys","keys","targetKeys","res","_i","srcKeys_1","srcKeys_2","isNumber","isPromise","val","then","catch","isString","isSymbol","merge","once","called","args","arguments","call","apply","to","pack","ar","l","__spreadArray","remove","traverseFiber","fiber","ascending","selector","child","return","match","sibling","window","document","createElement","navigator","product","FiberContext","FiberProvider","_reactInternals","render","jsx","children","props","useFiber","root","Error","id","maybeFiber","alternate","hookList","hook","typedHook","type","useId","result","REACT_CONTEXT_TYPE","REACT_PROVIDER_TYPE","findInitialRoot","instance","getState","previousRoot","isOrthographicCamera","def","isColorRepresentation","isColor","useIsomorphicLayoutEffect","useMutableCallback","fn","ref","current","Block","Promise","ErrorBoundary","state","error","static","componentDidCatch","err","calculateDpr","dpr","devicePixelRatio","Math","min","max","getRootState","obj","__r3f","a","fun","str","num","boo","und","nul","equ","b","arrays","objects","strict","isObj","isArr","REACT_INTERNAL_PROPS","getInstanceProps","queue","includes","prepare","object","parent","eventCount","handlers","isHidden","resolve","part","INDEX_REGEX","attach","test","index","replace","previousAttach","detach","previous","undefined","RESERVED_PROPS","MEMOIZED_PROTOTYPES","getMemoizedPrototype","ctor","constructor","e","console","log","colorMaps","EVENT_REGEX","applyProps","rootState","prevHandlers","prop","mask","copy","fromArray","setScalar","linear","isTexture","format","colorSpace","internal","isObject3D","interaction","indexOf","splice","raycast","isBufferGeometry","isMaterial","invalidateInstance","onUpdate","frames","invalidate","updateCamera","camera","manual","left","width","right","top","height","bottom","aspect","updateProjectionMatrix","makeId","event","eventObject","uuid","instanceId","releaseInternalPointerCapture","capturedMap","captures","pointerId","captureData","releasePointerCapture","isRenderer","context","useStore","store","useFrame","callback","renderPriority","subscribe","memoizedLoaders","loadingFn","extensions","onProgress","Proto","input","loader","all","reject","load","data","scene","assign","nodes","materials","meshes","traverse","name","material","isMesh","buildGraph","message","useLoader","results","equal","preload","hasRequiredIndex_production_2","hasRequiredMyreactReconcilerCompact","myreactReconcilerCompact","index_production","requireIndex_production_2","require$$0","extendStatics","d","setPrototypeOf","__proto__","p","hasOwnProperty","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","done","__generator","body","f","y","t","_","label","sent","trys","ops","g","create","Iterator","verb","n","op","TypeError","hasRequiredIndex_production_1","hasRequiredMyreactReconciler","myreactReconciler","myreactReconcilerExports","react","__extends","String","__","__assign","s","NODE_TYPE","MyWeakMap","currentRefreshHandler","createRef","currentTriggerFiber","fiberToDispatchMap","__my_react_internal__","enableFiberForLog","enableDebugUpdateQueue","enableValidMyReactElement","enableLogForCurrentFlowIsRunning","enableSyncFlush$1","__my_react_shared__","enableSyncFlush","syncFlush","beforeSyncFlush","afterSyncFlush","stack","beforeSyncUpdate","afterSyncUpdate","currentRunningFiber$5","currentRunningFiber","currentScheduler$g","currentScheduler","currentScopeFiber$1","currentScopeFiber","currentError$1","currentError","currentCallingFiber$1","currentCallingFiber","safeCall","renderScheduler","dispatchError","safeCallWithCurrentFiber","fallback","currentScheduler$f","currentRunningFiber$4","enableOptimizeTreeLog","warnMap","errorMap","fiberWarn","renderDispatch","getCurrentDispatchFromFiber","listenerMap","forEach","listener","_c","fiberError","originalWarn","warn","originalError","warnFiber","errorFiber","devWarn","startWithPlain","renderFiber","treeLog","getFiberTree","devError","shouldIncludeLog","__class__","__function__","getPlainFiberName","__provider__","name_2","typedElementType","elementType","displayName","__context__","name_3","__consumer__","name_4","__lazy__","typedRender","name_5","__portal__","__null__","__empty__","__scope__","__scopeLazy__","__scopeSuspense__","__strict__","__profiler__","__suspense__","__comment__","__root__","__fragment__","__text__","name_6","getElementName","tag","__memo__","__forwardRef__","pendingProps","join","getFiberTagName","getFiberNodeName","getFiberNodeNameWithFiber","getFiberTree$1","preString","padEnd","temp","getHookTree","treeHookNode","errorType","pre","toString","repeat","lastRender","nextRender","onceWarnWithKeyAndFiber","tree","enableHMRForDev","emptyProps$1","getElementTypeFromType","getTypeFromElementNode","element","nodeType","__initial__","isValidElement","getTypeFromElement","finalElement","pendingText","_e","_f","_g","isMyReactComponent","__plain__","typeToFibersMap","setRefreshTypeMap","exist","getCurrentFibersFromType","currentComponentFiber","currentRunningFiber$3","currentScheduler$e","dispatchHook","params","__unmount__","dispatch","dispatchState","_params","trigger","dispatchPromise","readContext","readPromise","checkIsSameType","MyReactFiberNode","existElementType","incomingElementType","typedExistElement","typedIncomingElement","updateTypeEnum","generateFiberToMountList","listTree","getNext","generateFiberToUnmountList","currentRunningFiber$2","mountToNextFiberFromRoot","isAppCrashed","__create__","__inherit__","__triggerSync__","__triggerSyncForce__","__triggerConcurrent__","__triggerConcurrentForce__","__retrigger__","__reschedule__","runtimeNextWork","__stable__","nextFiber","runtimeFiber","scheduledFiber","generateCommitList","performToNextFiberFromRoot","triggerFiberUpdateListener","defaultGenerateEffectMap","effect","option","stickyToHead","stickyToFoot","defaultInvokeEffect","patch","__effect__","effectMap","runtimeMap","allEffect","defaultInvokeLayoutEffect","__layoutEffect__","layoutEffectMap","allLayoutEffect","defaultInvokeInsertionEffect","__insertionEffect__","insertionEffectMap","allInsertionEffect","defaultDeleteCurrentEffect","defaultDeleteChildEffect","layoutEffect","insertionEffect","defaultReadPromise","_promise","status","_value","_reason","defaultResolveSuspenseValue","defaultResolveSuspenseFiber","defaultResolveAliveSuspenseFiber","enableSuspenseRoot$2","enableSuspenseRoot","currentScheduler$d","mountLoopAllFromScheduler","nextWorkingFiber","retriggerFiber","currentFiber","mountLoopAll","processAsyncLoadListOnAsyncMount","_loop_1","suspenseField_1","suspenseField","pendingSuspenseFiberArray","getInstanceFieldByInstance","asyncLoadList","item","processPromise","processLazy","_list","processAsyncLoadListOnSyncMount","allPendingSuspenseFiberArray","enableAsyncLoad","allField_1","field","allPendingLoadArray","_loading","_loaded","_error","aliveNode","updater","suspense","isSync","isForce","payLoad","rootFiber","patchToFiberUpdate","fiberUpdate","updateLoopSyncFromRoot","updateLoopConcurrentFromRoot","shouldYield","processAsyncLoadListOnUpdate","isErrorBoundariesInstance","Component","getDerivedStateFromError","isErrorBoundariesComponent","typedComponent","typedInstance","defaultResolveErrorBoundaries","initClassInstance","isMounted","mountClassInstance","getClassInstanceFieldByInstance","enableLegacyLifeCycle","getInstanceOwnerFiber","configurable","processComponentStateFromProps","pendingState","getDerivedStateFromProps","payloadState","newState","processComponentFiberOnUpdate","instanceUpdate","cb","setOwnerForInstance","processComponentRenderOnMountAndUpdate","processComponentDidMountOnMount","getInstanceEffectState","setEffectForInstance","pendingLayoutEffect","componentDidMount","processComponentContextOnUpdate","contextType","contextFiber","getInstanceContextFiber","providerFiber","resolveContextFiber","resolveContextValue","setContextForInstance","processClassComponentMount","instanceInitial","initInstance","processComponentInstanceOnMount","hasLegacyLifeFunction","UNSAFE_componentWillMount","componentWillMount","processComponentWillMountOnMount","syncFlushComponentQueue","syncComponentStateToFiber","processClassComponentUpdate","UNSAFE_componentWillReceiveProps","nextProps_1","componentWillReceiveProps","nextProps_2","processComponentWillReceiveProps","baseState","baseProps","nextState","nextProps","nextContext","shouldUpdate","Boolean","shouldComponentUpdate","processComponentShouldUpdateOnUpdate","UNSAFE_componentWillUpdate","componentWillUpdate","processComponentWillUpdate","snapshot","getSnapshotBeforeUpdate","processComponentGetSnapshotOnUpdate","componentDidUpdate","processComponentDidUpdateOnUpdate","updated","classComponentUpdateImpl","processClassComponentUnmount","classField","instanceUnmount","componentWillUnmount","enableDebugFiled","currentScheduler$c","processClassComponentUpdateQueue","enableTaskPriority","allQueue","updateQueue","needUpdate","isImmediate","isRetrigger","callbacks","nextNode","component","payLoad_1","macroTask","prepareUpdateOnFiber","invokeCallbackArray","_loop_2","payLoad_2","processFunctionComponentUpdateQueue","_loop_3","payLoad_3","reducer_1","reducer","typedTrigger_1","lastResult_1","useSyncExternalStore","hasError_1","_loop_4","payLoad_4","reducer_2","typedTrigger_2","lastResult_2","hasError_2","processNormalComponentUpdate","syncFiberStateToComponent","typedPendingState","currentRunningFiber$1","processState","ownerFiber","isAppMounted","fiberState","trigger_1","instanceState","trigger_2","hookState","ownerFiber_1","defaultGenerateUnmountMap","unmount","defaultDispatchUnmount","isAppUnmounted","unmountFiber","clearContainer","defaultInvokeUnmountList","unmountMap","allUnmount_1","unmountList","unmountFiberNode","_d","pendingCommitFiberPatch","pendingUpdateFiberArray","pendingCommitFiberList","pendingChangedFiberList","resetUpdateFlowRuntimeFiber","globalLoop$3","globalLoop","currentScheduler$b","applyTriggerFiberCb","cbArray","triggerCallbackMap","pendingEffect","triggerRevert","triggerUpdate","enableUpdate","scheduleUpdate","globalLoop$2","currentScheduler$a","enableConcurrentMode$1","enableConcurrentMode","scheduleNext","dispatchSet","hasPending","find","allLive","updateSyncFromRoot","updateConcurrentFromRoot","scheduleUpdateFromRoot","globalLoop$1","currentScheduler$9","enableScopeTreeLog","commitList","changedList","reconcileUpdate","fiberHasChange","microTask","yieldTask","MyReactInternalInstance$4","MyReactInternalInstance","currentScheduler$8","defaultPayLoad","MyReactHookNode","_super","deps","_this","hasEffect","enumerable","_update","initHookInstance","hookNode","currentComponentFiber$3","MyReactSignal","_rawValue","_renderDispatch","_depsSet","getValue","setValue","newValue","allDeps","triggerUpdateOnFiber","enableDebugLog$1","enableDebugLog","currentHookTreeNode$2","currentHookTreeNode","currentHookNodeIndex$2","currentHookNodeIndex","defaultReducer","createHookNode","currentHook","currentHookIndex","useMemo","useState","useReducer","bind","useEffect","useLayoutEffect","useInsertionEffect","useImperativeHandle","useRef","useCallback","useDeferredValue","uniqueIdCount","cancel","useDebugValue","useContext","storeApi_1","getNextResult","getSnapshot","getServerSnapshot","nextResult","checkResultUpdate_1","prevResult","hasChange","useSignal","useTransition","startTransition","loadingCallback","effectHookNode","pendingInsertionEffect","storeApi","currentHookTreeNode$1","currentScheduler$7","updateHookNode","isHMR","depsChanged","newStoreApi_1","nextResult_1","hookListUnmount","hookUnmount","unmountInstance","currentScheduler$6","checkIsMyReactFiberNode","isMyReactFiberNode","currentScheduler$5","processUpdateOnFiber","_isImmediate","_isRetrigger","updateState","flag","fiberTrigger","SyncState","ForceState","emptyProps","memoizedProps","_installElement","_addDependence","dependence","_delDependence","nativeNode","containerNode","createFiberNode","newFiberNode","pendingCreate","pendingUpdate","pendingPosition","pendingAppend","pendingRef","patchToFiberInitial","fiberInitial","__update__","updateFiberNode","nextElement","prevFiber","prevElementType","prevProps","prevRef","nextElementType","nextRef","commitUnsetRef","commitClear","patchToFiberUnmount","fiberUnmount","eventMap","getExistingChildren","parentFiber","existingChildrenMap","existingChildrenArray","existingChild","dynamicFragmentProps","wrap","deleteIfNeed","existingChildren","pendingUnmount","generateChangedList","getNewFiberWithUpdate","newChild","prevFiberChild","draftList_1","draftFiber_1","newElement","createFragmentWithUpdate","keyToGet","draftList","draftFiber","isSameType","getIsSameTypeNode","getNewFiberWithInitial","createFragmentWithInitial","transformChildrenFiber","isUpdate","__hmr__","newChildren","lastFiber","newFiber","currentComponentFiber$2","MyReactInternalInstance$3","processProvider","prepareUpdateAllDependence","processConsumer","finalContext","typedChildren","currentHookNodeIndex$1","currentScheduler$4","processFunction","typedElementTypeWithRef_1","promise","WrapperByLazyScope","WrapperBySuspenseScope","mode","isCommentElement","enableSuspenseRoot$1","currentScheduler$3","loadLazy","loadedPromise","loaded","e_1","default","suspenseFiber","resolveSuspenseFiber","renderScheduler_1","lazy","instanceMap","instanceToInitialFieldMap","_owner","_context","_subscribe","initVisibleInstance","instanceField","setSubscribeForInstance","isMyReactInstance","currentComponentFiber$1","MyReactInternalInstance$2","enablePerformanceLog","nextWorkCommon","nextWorkNormal","nextWorkClassComponent","nextWorkFunctionComponent","nextWorkComponent","nextWorkLazy","nextWorkSuspense","processSuspense","nextWorkProvider","nextWorkConsumer","nextWorkRoot","dispatchFiber","initSuspenseInstance","typedField","MyReactInternalInstance$1","Dispatcher","MyReactInternalInstanceClass","dispatchToListenerMap","initialRef","typeForRef","typeForCreate","typeForUpdate","typeForAppend","typeForNativeNode","RenderDispatchEvent","dispatcher","runtimeRef","errorCatchFiber","hookInitial","hookUpdate","beforeCommit","afterCommit","beforeUpdate","afterUpdate","beforeUnmount","afterUnmount","writable","_fiber","_state","_pendingUnmount","_effect","_option","_layoutEffect","_insertionEffect","_elementType","commitCreate","commitUpdate","commitAppend","commitPosition","commitSetRef","resolveStrict","resolveScope","resolveSuspenseValue","resolveErrorBoundaries","_contextObject","reconcileCommit","reconcileUnmount","onFiberInitial","onceFiberInitial","onceCb","onFiberUpdate","onFiberChange","onceFiberChange","onceFiberUpdate","onFiberUnmount","onceFiberUnmount","onFiberState","onceFiberState","_updater","onFiberTrigger","onceFiberTrigger","onFiberHMR","fiberHMR","onceFiberHMR","_forceRefresh","onFiberWarn","onceFiberWarn","onFiberError","onceFiberError","onPerformanceWarn","performanceWarn","oncePerformanceWarn","onBeforeFiberRun","beforeFiberRun","onceBeforeFiberRun","onAfterFiberRun","afterFiberRun","onceAfterFiberRun","onInstanceInitial","onceInstanceInitial","_instance","onInstanceUpdate","onceInstanceUpdate","onInstanceState","onceInstanceState","onInstanceUnmount","onceInstanceUnmount","onHookInitial","onceHookInitial","_hook","onHookUpdate","onceHookUpdate","onHookUnmount","onceHookUnmount","onHookState","onceHookTrigger","onBeforeCommit","onceBeforeCommit","onAfterCommit","onceAfterCommit","onBeforeUpdate","onceBeforeUpdate","onAfterUpdate","onceAfterUpdate","onBeforeUnmount","onceBeforeUnmount","onAfterUnmount","onceAfterUnmount","currentScheduler$2","defaultDispatchMountLatest","_dispatch","defaultDispatchMount","defaultResolveScope","currentScheduler$1","defaultDispatchUpdate","loadPromise","reason_1","CustomRenderDispatch","rootNode","rootElement","version","renderMode","withCheck","__append__","__position__","__ref__","defaultGetContextFiber","defaultGetContextValue","defaultReadContext","ContextObject","parent_1","beforeValue","afterValue","owner","proUpdater","callWithFiber","clearFiberNode","debugWithNode","mayFiberContainer","__fiber__","__props__","defaultDispatchMountLegacy","mountInsertionEffectList","mountCommit","mountLayoutEffectList","mountEffectList","mountLoop","defaultGenerateStrict","devErrorWithFiber","devWarnWithFiber","getCurrentDispatchFromType","fibers","getCurrentTypeFromRefresh","getCurrentTypeFromRefreshOnly","getElementFromRefreshIfExist","getFiberTreeWithFiber","isMount","_debugIsMount","isPlain","getStackTree","hmr","nextType","forceRefresh","hmrRevert","hmrUpdate","initHMR","env","initScheduler","scheduler","initialFiberNode","isCommentEndElement","isCommentStartElement","mountAsync","mountSync","onceErrorWithKeyAndFiber","processClassComponentActive","processComponentPropsAndContextOnActive","processHook","resolveHookValue","resetLogScope","runtimeNextWorkDev","typedFiber","start","Date","now","end","renderTime","hasPerformanceWarn","performanceLogTimeLimit","timeNow","_debugRenderState","mountTimeStep","timeForRender","maxTimeForRender","prevRenderState","prevRenderTime","updateTimeStep","renderCount","timeForUpdate","safeCallWithSync","setLogScope","setRefreshHandler","handler","triggerError","errorBoundariesFiber","typedInstance_1","memoizedState","componentStack","unmountContainer","index_production$2","DISPATCH_FIELD","DEV_TOOL_FIELD","getValidParentFiberWithNode","parentFiberWithNode","runtimeDom","elementMap","maybeContainer","getFiberWithNativeNode","findFiberWithNodeFromFiber","childWithDom","getInsertBeforeNodeFromSibling","getInsertBeforeNodeFromSiblingAndParent","append","config","parentNode","childNode","appendChildToContainer","appendChild","insertBefore","beforeFiberWithNode","beforeNode","insertInContainerBefore","createPortal","_element","_container","container","createDispatch","ReconcilerDispatch","hostContextMap","nextWorkPortal","_config","rootContainerInstance","hostContext","createTextInstance","createInstance","fiberContainer","preparePortalMount","oldProps","newProps","commitTextUpdate","memoizedText","prepareUpdate","updatePayload","update","isRender","isContainer","currentNode","appendInitialChild","append$1","position","ref_1","getPublicInstance","refCleanup","refCleanUp","ref_2","setRef","ref_3","unsetRef","removeChildFromContainer","removeChild","prepareForCommit","pendingCommitFiberArray","finalizeInitialChildren","commitMount","ReconcilerDispatchMount","resetAfterCommit","parentFiberHostContext","maybeRoot","checkFiberWithNativeNode","getChildHostContext","getRootHostContext","initialMap","enableDebugFiled$1","enableScopeTreeLog$1","createReconciler","rendererPackageName","ReconcilerSet","updateContainer","_ignore","_cb","__container__","_fiber_1","globalThis","renderPackage","addGlobalDispatch","typedRuntimeField","autoSetDevTools","injectIntoDevTools","url","script","onload","onerror","process","http","https","vm","startsWith","on","chunk","runInThisContext","createContainer","injectIntoDevToolsWithSocketIO","init","flushSync","batchedUpdates","myreactReconcilerCompactExports","isMyReact","requireMyreactReconcilerCompact","reconciler","bundleType","catalogue","PREFIX_REGEX","toPascalCase","toUpperCase","isConstructor","extend","validateInstance","unhideInstance","visible","handleContainerEffects","beforeChild","childIndex","existingIndex","adjustedIndex","dispatchEvent","childInstance","disposeOnIdle","dispose","handleDispose","o","initialHits","hovered","removeInteractivity","shouldDispose","setFiberRef","publicInstance","cleanup","reconstructed","handleTextInstance","NO_CONTEXT","currentUpdatePriority","isPrimaryRenderer","warnsIfNotActing","supportsMutation","supportsPersistence","supportsHydration","reconstruct","changedProps","other","diffProps","flags","swapInstances","shouldSetTextContent","hideInstance","hideTextInstance","unhideTextInstance","scheduleTimeout","setTimeout","cancelTimeout","clearTimeout","noTimeout","getInstanceFromNode","beforeActiveInstanceBlur","afterActiveInstanceBlur","detachDeletedInstance","prepareScopeUpdate","getInstanceFromScope","shouldAttemptEagerTransition","trackSchedulerEvent","resolveEventType","resolveEventTimeStamp","requestPostPaintCallback","maySuspendCommit","preloadInstance","startSuspendingCommit","suspendInstance","waitForCommitToBeReady","NotPendingTransition","HostTransitionContext","setCurrentUpdatePriority","newPriority","getCurrentUpdatePriority","resolveUpdatePriority","resetFormInstance","_roots","shallowLoose","onCreated","active","events","connected","connect","unmountComponentAtNode","canvas","disconnect","gl","renderLists","forceContextLoss","xr","raycaster","pointer","inject","injectState","viewport","getCurrentViewport","mouse","setEvents","usePortalStore","onMutate","setState","globalEffects","globalAfterEffects","globalTailEffects","run","effects","timestamp","values","flushGlobalEffects","subscribers","subscription","frame","delta","clock","getDelta","frameloop","elapsedTime","oldTime","priority","running","useFrameInProgress","loop","requestAnimationFrame","isPresenting","cancelAnimationFrame","advance","runGlobalEffects","DOM_EVENTS","onClick","onContextMenu","onDoubleClick","onWheel","onPointerDown","onPointerUp","onPointerLeave","onPointerMove","onPointerCancel","onLostPointerCapture","createPointerEvents","handlePointer","filterPointerEvents","cancelPointer","intersections","hoveredObj","hit","onPointerOut","pointerMissed","onPointerMissed","lastEvent","isPointerMove","isClickEvent","hits","duplicates","eventsObjects","compute","flatMap","enabled","intersectObject","sort","aState","bState","distance","intersection","intersect","dx","offsetX","initialClick","dy","offsetY","round","sqrt","calculateDistance","localState","stopped","traverseAncestors","parentState","unprojectedPoint","x","unproject","hasPointerCapture","setPointerCapture","extractEventProps","property","raycastEvent","ray","stopPropagation","capturesForPointer","currentTarget","nativeEvent","handleIntersects","onPointerOver","onPointerEnter","hoveredItem","createEvents","setFromCamera","reduce","acc","eventName","passive","addEventListener","removeEventListener","CanvasImpl","resize","style","eventSource","eventPrefix","shadows","flat","legacy","orthographic","performance","forwardRef","Bridge","ContextBridge","contextMap","$$typeof","contextProvider","useContextMap","Prev","Tar","useContextBridge","useBridge","containerRef","containerRect","scroll","debounce","canvasRef","divRef","handlePointerMissed","block","setBlock","setError","async","configure","prevRoot","prevStore","logRecoverableError","reportError","rootStore","defaultTarget","tempTarget","isVector3","getWorldPosition","distanceTo","zoom","factor","fov","PI","h","tan","w","performanceTimeout","setPerformanceCurrent","controls","regress","initialDpr","setSize","setDpr","resolved","setFrameloop","stop","oldSize","oldDpr","oldCamera","setPixelRatio","updateStyle","HTMLCanvasElement","domElement","createStore","lastCamera","configured","pending","_resolve","glConfig","propsSize","sceneOptions","onCreatedCallback","raycastOptions","cameraOptions","defaultProps","powerPreference","antialias","alpha","customRenderer","options","isCamera","z","rotation","lookAt","isScene","parentElement","getBoundingClientRect","OffscreenCanvas","computeInitialSize","handleXRFrame","handleSessionChange","setAnimationLoop","shadowMap","oldEnabled","oldType","types","basic","percentage","soft","variance","needsUpdate","outputColorSpace","toneMapping","createRoot","pointerEvents","overflow","display","Canvas"],"sourceRoot":""}