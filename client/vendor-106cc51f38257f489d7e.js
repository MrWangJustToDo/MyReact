/*! For license information please see vendor-106cc51f38257f489d7e.js.LICENSE.txt */
(self.webpackChunk_my_react_ssr_example=self.webpackChunk_my_react_ssr_example||[]).push([[502],{29253:(e,t,n)=>{"use strict";function r(e,t,n){if(void 0===n&&(n=Error),!e)throw new n(t)}n.d(t,{V1:()=>r})},72846:(e,t,n)=>{"use strict";function r(e,t){var n=t&&t.cache?t.cache:u,r=t&&t.serializer?t.serializer:c;return(t&&t.strategy?t.strategy:a)(e,{cache:n,serializer:r})}function i(e,t,n,r){var i,o=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),s=t.get(o);return void 0===s&&(s=e.call(this,r),t.set(o,s)),s}function o(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return void 0===o&&(o=e.apply(this,r),t.set(i,o)),o}function s(e,t,n,r,i){return n.bind(t,e,r,i)}function a(e,t){return s(e,this,1===e.length?i:o,t.cache.create(),t.serializer)}n.d(t,{B:()=>r,W:()=>d});var c=function(){return JSON.stringify(arguments)};function l(){this.cache=Object.create(null)}l.prototype.get=function(e){return this.cache[e]},l.prototype.set=function(e,t){this.cache[e]=t};var u={create:function(){return new l}},d={variadic:function(e,t){return s(e,this,o,t.cache.create(),t.serializer)},monadic:function(e,t){return s(e,this,i,t.cache.create(),t.serializer)}}},26336:(e,t,n)=>{"use strict";n.d(t,{ZE:()=>i,Im:()=>c,tv:()=>u,Tu:()=>y,eW:()=>a,oF:()=>l,N1:()=>g,N6:()=>p,jA:()=>f,Jp:()=>h,xm:()=>m,Qh:()=>d,qg:()=>oe});var r,i,o,s=n(58932);function a(e){return e.type===i.literal}function c(e){return e.type===i.argument}function l(e){return e.type===i.number}function u(e){return e.type===i.date}function d(e){return e.type===i.time}function h(e){return e.type===i.select}function p(e){return e.type===i.plural}function f(e){return e.type===i.pound}function m(e){return e.type===i.tag}function g(e){return!(!e||"object"!=typeof e||e.type!==o.number)}function y(e){return!(!e||"object"!=typeof e||e.type!==o.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(r||(r={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(i||(i={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(o||(o={}));var v=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,b=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function x(e){var t={};return e.replace(b,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"long":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var O=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i,w=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,S=/^(@+)?(\+|#+)?[rs]?$/g,k=/(\*)(0+)|(#+)(0+)|(0+)/g,_=/^(0+)$/;function P(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(S,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function E(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function C(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!_.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function T(e){return E(e)||{}}function j(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=(0,s.Cl)((0,s.Cl)((0,s.Cl)({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return(0,s.Cl)((0,s.Cl)({},e),T(t))}),{}));continue;case"engineering":t=(0,s.Cl)((0,s.Cl)((0,s.Cl)({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return(0,s.Cl)((0,s.Cl)({},e),T(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"rounding-mode-floor":t.roundingMode="floor";continue;case"rounding-mode-ceiling":t.roundingMode="ceil";continue;case"rounding-mode-down":t.roundingMode="trunc";continue;case"rounding-mode-up":t.roundingMode="expand";continue;case"rounding-mode-half-even":t.roundingMode="halfEven";continue;case"rounding-mode-half-down":t.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":t.roundingMode="halfExpand";continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(k,(function(e,n,r,i,o,s){if(n)t.minimumIntegerDigits=r.length;else{if(i&&o)throw new Error("We currently do not support maximum integer digits");if(s)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(_.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(w.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(w,(function(e,n,r,i,o,s){return"*"===r?t.minimumFractionDigits=n.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:o&&s?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+s.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var o=i.options[0];"w"===o?t=(0,s.Cl)((0,s.Cl)({},t),{trailingZeroDisplay:"stripIfInteger"}):o&&(t=(0,s.Cl)((0,s.Cl)({},t),P(o)))}else if(S.test(i.stem))t=(0,s.Cl)((0,s.Cl)({},t),P(i.stem));else{var a=E(i.stem);a&&(t=(0,s.Cl)((0,s.Cl)({},t),a));var c=C(i.stem);c&&(t=(0,s.Cl)((0,s.Cl)({},t),c))}}return t}var I,M={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function A(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,r=e.language;return"root"!==r&&(n=e.maximize().region),(M[n||""]||M[r||""]||M["".concat(r,"-001")]||M["001"])[0]}var D=new RegExp("^".concat(v.source,"*")),$=new RegExp("".concat(v.source,"*$"));function R(e,t){return{start:e,end:t}}var N=!!String.prototype.startsWith&&"_a".startsWith("a",1),L=!!String.fromCodePoint,Q=!!Object.fromEntries,z=!!String.prototype.codePointAt,F=!!String.prototype.trimStart,B=!!String.prototype.trimEnd,Z=Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},V=!0;try{V="a"===(null===(I=K("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===I?void 0:I[0])}catch(e){V=!1}var W,U=N?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},q=L?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",i=e.length,o=0;i>o;){if((n=e[o++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},Y=Q?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],s=i[1];t[o]=s}return t},X=z?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,i=e.charCodeAt(t);return i<55296||i>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?i:r-56320+(i-55296<<10)+65536}},H=F?function(e){return e.trimStart()}:function(e){return e.replace(D,"")},G=B?function(e){return e.trimEnd()}:function(e){return e.replace($,"")};function K(e,t){return new RegExp(e,t)}if(V){var J=K("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");W=function(e,t){var n;return J.lastIndex=t,null!==(n=J.exec(e)[1])&&void 0!==n?n:""}}else W=function(e,t){for(var n=[];;){var r=X(e,t);if(void 0===r||ne(r)||re(r))break;n.push(r),t+=r>=65536?2:1}return q.apply(void 0,n)};var ee=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var o=[];!this.isEOF();){var s=this.char();if(123===s){if((a=this.parseArgument(e,n)).err)return a;o.push(a.val)}else{if(125===s&&e>0)break;if(35!==s||"plural"!==t&&"selectordinal"!==t){if(60===s&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(r.UNMATCHED_CLOSING_TAG,R(this.clonePosition(),this.clonePosition()))}if(60===s&&!this.ignoreTag&&te(this.peek()||0)){if((a=this.parseTag(e,t)).err)return a;o.push(a.val)}else{var a;if((a=this.parseLiteral(e,t)).err)return a;o.push(a.val)}}else{var c=this.clonePosition();this.bump(),o.push({type:i.pound,location:R(c,this.clonePosition())})}}}return{val:o,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var o=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:i.literal,value:"<".concat(o,"/>"),location:R(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var s=this.parseMessage(e+1,t,!0);if(s.err)return s;var a=s.val,c=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!te(this.char()))return this.error(r.INVALID_TAG,R(c,this.clonePosition()));var l=this.clonePosition();return o!==this.parseTagName()?this.error(r.UNMATCHED_CLOSING_TAG,R(l,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:i.tag,value:o,children:a,location:R(n,this.clonePosition())},err:null}:this.error(r.INVALID_TAG,R(c,this.clonePosition())))}return this.error(r.UNCLOSED_TAG,R(n,this.clonePosition()))}return this.error(r.INVALID_TAG,R(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var s=this.tryParseUnquoted(e,t);if(s)r+=s;else{var a=this.tryParseLeftAngleBracket();if(!a)break;r+=a}}}var c=R(n,this.clonePosition());return{val:{type:i.literal,value:r,location:c},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(te(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return q.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),q(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(r.EXPECT_ARGUMENT_CLOSING_BRACE,R(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(r.EMPTY_ARGUMENT,R(n,this.clonePosition()));var o=this.parseIdentifierIfPossible().value;if(!o)return this.error(r.MALFORMED_ARGUMENT,R(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(r.EXPECT_ARGUMENT_CLOSING_BRACE,R(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:i.argument,value:o,location:R(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(r.EXPECT_ARGUMENT_CLOSING_BRACE,R(n,this.clonePosition())):this.parseArgumentOptions(e,t,o,n);default:return this.error(r.MALFORMED_ARGUMENT,R(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=W(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:R(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,a){var c,l=this.clonePosition(),u=this.parseIdentifierIfPossible().value,d=this.clonePosition();switch(u){case"":return this.error(r.EXPECT_ARGUMENT_TYPE,R(l,d));case"number":case"date":case"time":this.bumpSpace();var h=null;if(this.bumpIf(",")){this.bumpSpace();var p=this.clonePosition();if((w=this.parseSimpleArgStyleIfPossible()).err)return w;if(0===(y=G(w.val)).length)return this.error(r.EXPECT_ARGUMENT_STYLE,R(this.clonePosition(),this.clonePosition()));h={style:y,styleLocation:R(p,this.clonePosition())}}if((S=this.tryParseArgumentClose(a)).err)return S;var f=R(a,this.clonePosition());if(h&&U(null==h?void 0:h.style,"::",0)){var m=H(h.style.slice(2));if("number"===u)return(w=this.parseNumberSkeletonFromString(m,h.styleLocation)).err?w:{val:{type:i.number,value:n,location:f,style:w.val},err:null};if(0===m.length)return this.error(r.EXPECT_DATE_TIME_SKELETON,f);var g=m;this.locale&&(g=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e.charAt(r);if("j"===i){for(var o=0;r+1<e.length&&e.charAt(r+1)===i;)o++,r++;var s=1+(1&o),a=o<2?1:3+(o>>1),c=A(t);for("H"!=c&&"k"!=c||(a=0);a-- >0;)n+="a";for(;s-- >0;)n=c+n}else n+="J"===i?"H":i}return n}(m,this.locale));var y={type:o.dateTime,pattern:g,location:h.styleLocation,parsedOptions:this.shouldParseSkeletons?x(g):{}};return{val:{type:"date"===u?i.date:i.time,value:n,location:f,style:y},err:null}}return{val:{type:"number"===u?i.number:"date"===u?i.date:i.time,value:n,location:f,style:null!==(c=null==h?void 0:h.style)&&void 0!==c?c:null},err:null};case"plural":case"selectordinal":case"select":var v=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(r.EXPECT_SELECT_ARGUMENT_OPTIONS,R(v,(0,s.Cl)({},v)));this.bumpSpace();var b=this.parseIdentifierIfPossible(),O=0;if("select"!==u&&"offset"===b.value){if(!this.bumpIf(":"))return this.error(r.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,R(this.clonePosition(),this.clonePosition()));var w;if(this.bumpSpace(),(w=this.tryParseDecimalInteger(r.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,r.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return w;this.bumpSpace(),b=this.parseIdentifierIfPossible(),O=w.val}var S,k=this.tryParsePluralOrSelectOptions(e,u,t,b);if(k.err)return k;if((S=this.tryParseArgumentClose(a)).err)return S;var _=R(a,this.clonePosition());return"select"===u?{val:{type:i.select,value:n,options:Y(k.val),location:_},err:null}:{val:{type:i.plural,value:n,options:Y(k.val),offset:O,pluralType:"plural"===u?"cardinal":"ordinal",location:_},err:null};default:return this.error(r.INVALID_ARGUMENT_TYPE,R(l,d))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(r.EXPECT_ARGUMENT_CLOSING_BRACE,R(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(r.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,R(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,r=e.split(O).filter((function(e){return e.length>0}));n<r.length;n++){var i=r[n].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var o=i[0],s=i.slice(1),a=0,c=s;a<c.length;a++)if(0===c[a].length)throw new Error("Invalid number skeleton");t.push({stem:o,options:s})}return t}(e)}catch(e){return this.error(r.INVALID_NUMBER_SKELETON,t)}return{val:{type:o.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?j(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,i){for(var o,s=!1,a=[],c=new Set,l=i.value,u=i.location;;){if(0===l.length){var d=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var h=this.tryParseDecimalInteger(r.EXPECT_PLURAL_ARGUMENT_SELECTOR,r.INVALID_PLURAL_ARGUMENT_SELECTOR);if(h.err)return h;u=R(d,this.clonePosition()),l=this.message.slice(d.offset,this.offset())}if(c.has(l))return this.error("select"===t?r.DUPLICATE_SELECT_ARGUMENT_SELECTOR:r.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);"other"===l&&(s=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?r.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:r.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,R(this.clonePosition(),this.clonePosition()));var f=this.parseMessage(e+1,t,n);if(f.err)return f;var m=this.tryParseArgumentClose(p);if(m.err)return m;a.push([l,{value:f.val,location:R(p,this.clonePosition())}]),c.add(l),this.bumpSpace(),l=(o=this.parseIdentifierIfPossible()).value,u=o.location}return 0===a.length?this.error("select"===t?r.EXPECT_SELECT_ARGUMENT_SELECTOR:r.EXPECT_PLURAL_ARGUMENT_SELECTOR,R(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(r.MISSING_OTHER_CLAUSE,R(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var i=!1,o=0;!this.isEOF();){var s=this.char();if(!(s>=48&&s<=57))break;i=!0,o=10*o+(s-48),this.bump()}var a=R(r,this.clonePosition());return i?Z(o*=n)?{val:o,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=X(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(U(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&ne(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function te(e){return e>=97&&e<=122||e>=65&&e<=90}function ne(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function re(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function ie(e){e.forEach((function(e){if(delete e.location,h(e)||p(e))for(var t in e.options)delete e.options[t].location,ie(e.options[t].value);else l(e)&&g(e.style)||(u(e)||d(e))&&y(e.style)?delete e.style.location:m(e)&&ie(e.children)}))}function oe(e,t){void 0===t&&(t={}),t=(0,s.Cl)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new ee(e,t).parse();if(n.err){var i=SyntaxError(r[n.err.kind]);throw i.location=n.err.location,i.originalMessage=n.err.message,i}return(null==t?void 0:t.captureLocation)||ie(n.val),n.val}},26597:(e,t,n)=>{"use strict";n.d(t,{E:()=>T});var r=n(58932),i=n(30350),o=n(54937),s=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function a(e,t,n){var r=e.locale,o=e.formats,a=e.onError;void 0===n&&(n={});var c=n.format,l=c&&(0,i.F3)(o,"number",c,a)||{};return t(r,(0,i.J9)(n,s,l))}function c(e,t,n,r){void 0===r&&(r={});try{return a(e,t,r).format(n)}catch(t){e.onError(new o.pg("Error formatting number.",e.locale,t))}return String(n)}function l(e,t,n,r){void 0===r&&(r={});try{return a(e,t,r).formatToParts(n)}catch(t){e.onError(new o.pg("Error formatting number.",e.locale,t))}return[]}var u=n(64413),d=["numeric","style"];function h(e,t,n,r,s){void 0===s&&(s={}),r||(r="second"),Intl.RelativeTimeFormat||e.onError(new u.IF('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',u.O4.MISSING_INTL_API));try{return function(e,t,n){var r=e.locale,o=e.formats,s=e.onError;void 0===n&&(n={});var a=n.format,c=!!a&&(0,i.F3)(o,"relative",a,s)||{};return t(r,(0,i.J9)(n,d,c))}(e,t,s).format(n,r)}catch(t){e.onError(new o.pg("Error formatting relative time.",e.locale,t))}return String(n)}var p=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function f(e,t,n,o){var s=e.locale,a=e.formats,c=e.onError,l=e.timeZone;void 0===o&&(o={});var u=o.format,d=(0,r.Cl)((0,r.Cl)({},l&&{timeZone:l}),u&&(0,i.F3)(a,t,u,c)),h=(0,i.J9)(o,p,d);return"time"!==t||h.hour||h.minute||h.second||h.timeStyle||h.dateStyle||(h=(0,r.Cl)((0,r.Cl)({},h),{hour:"numeric",minute:"numeric"})),n(s,h)}function m(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],s=n[1],a=void 0===s?{}:s,c="string"==typeof i?new Date(i||0):i;try{return f(e,"date",t,a).format(c)}catch(t){e.onError(new o.pg("Error formatting date.",e.locale,t))}return String(c)}function g(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],s=n[1],a=void 0===s?{}:s,c="string"==typeof i?new Date(i||0):i;try{return f(e,"time",t,a).format(c)}catch(t){e.onError(new o.pg("Error formatting time.",e.locale,t))}return String(c)}function y(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=n[0],a=n[1],c=n[2],l=void 0===c?{}:c,u=e.timeZone,d=e.locale,h=e.onError,f=(0,i.J9)(l,p,u?{timeZone:u}:{});try{return t(d,f).formatRange(s,a)}catch(t){h(new o.pg("Error formatting date time range.",e.locale,t))}return String(s)}function v(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],s=n[1],a=void 0===s?{}:s,c="string"==typeof i?new Date(i||0):i;try{return f(e,"date",t,a).formatToParts(c)}catch(t){e.onError(new o.pg("Error formatting date.",e.locale,t))}return[]}function b(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],s=n[1],a=void 0===s?{}:s,c="string"==typeof i?new Date(i||0):i;try{return f(e,"time",t,a).formatToParts(c)}catch(t){e.onError(new o.pg("Error formatting time.",e.locale,t))}return[]}var x=["type"];function O(e,t,n,r){var s=e.locale,a=e.onError;void 0===r&&(r={}),Intl.PluralRules||a(new u.IF('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',u.O4.MISSING_INTL_API));var c=(0,i.J9)(r,x);try{return t(s,c).select(n)}catch(e){a(new o.pg("Error formatting plural.",s,e))}return"other"}var w=n(26332),S=["type","style"],k=Date.now();function _(e,t,n,r){void 0===r&&(r={});var i=P(e,t,n,r).reduce((function(e,t){var n=t.value;return"string"!=typeof n?e.push(n):"string"==typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e}),[]);return 1===i.length?i[0]:0===i.length?"":i}function P(e,t,n,s){var a=e.locale,c=e.onError;void 0===s&&(s={}),Intl.ListFormat||c(new u.IF('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',u.O4.MISSING_INTL_API));var l=(0,i.J9)(s,S);try{var d={},h=n.map((function(e,t){if("object"==typeof e){var n=function(e){return"".concat(k,"_").concat(e,"_").concat(k)}(t);return d[n]=e,n}return String(e)}));return t(a,l).formatToParts(h).map((function(e){return"literal"===e.type?e:(0,r.Cl)((0,r.Cl)({},e),{value:d[e.value]||e.value})}))}catch(e){c(new o.pg("Error formatting list.",a,e))}return n}var E=["style","type","fallback","languageDisplay"];function C(e,t,n,r){var s=e.locale,a=e.onError;Intl.DisplayNames||a(new u.IF('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',u.O4.MISSING_INTL_API));var c=(0,i.J9)(r,E);try{return t(s,c).of(n)}catch(e){a(new o.pg("Error formatting display name.",s,e))}}function T(e,t){var n=(0,i.GT)(t),s=(0,r.Cl)((0,r.Cl)({},i.JF),e),a=s.locale,u=s.defaultLocale,d=s.onError;return a?!Intl.NumberFormat.supportedLocalesOf(a).length&&d?d(new o.hr('Missing locale data for locale: "'.concat(a,'" in Intl.NumberFormat. Using default locale: "').concat(u,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(a).length&&d&&d(new o.hr('Missing locale data for locale: "'.concat(a,'" in Intl.DateTimeFormat. Using default locale: "').concat(u,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(d&&d(new o.uo('"locale" was not configured, using "'.concat(u,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),s.locale=s.defaultLocale||"en"),function(e){var t;e.onWarn&&e.defaultRichTextElements&&"string"==typeof((t=e.messages||{})?t[Object.keys(t)[0]]:void 0)&&e.onWarn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}(s),(0,r.Cl)((0,r.Cl)({},s),{formatters:n,formatNumber:c.bind(null,s,n.getNumberFormat),formatNumberToParts:l.bind(null,s,n.getNumberFormat),formatRelativeTime:h.bind(null,s,n.getRelativeTimeFormat),formatDate:m.bind(null,s,n.getDateTimeFormat),formatDateToParts:v.bind(null,s,n.getDateTimeFormat),formatTime:g.bind(null,s,n.getDateTimeFormat),formatDateTimeRange:y.bind(null,s,n.getDateTimeFormat),formatTimeToParts:b.bind(null,s,n.getDateTimeFormat),formatPlural:O.bind(null,s,n.getPluralRules),formatMessage:w.h.bind(null,s,n),$t:w.h.bind(null,s,n),formatList:_.bind(null,s,n.getListFormat),formatListToParts:P.bind(null,s,n.getListFormat),formatDisplayName:C.bind(null,s,n.getDisplayNames)})}},54937:(e,t,n)=>{"use strict";n.d(t,{Ho:()=>u,OC:()=>s,hr:()=>c,pg:()=>l,sb:()=>d,uo:()=>a});var r,i=n(58932);!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}(r||(r={}));var o=function(e){function t(n,r,i){var o=this,s=i?i instanceof Error?i:new Error(String(i)):void 0;return(o=e.call(this,"[@formatjs/intl Error ".concat(n,"] ").concat(r,"\n").concat(s?"\n".concat(s.message,"\n").concat(s.stack):""))||this).code=n,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return(0,i.C6)(t,e),t}(Error),s=function(e){function t(t,n){return e.call(this,r.UNSUPPORTED_FORMATTER,t,n)||this}return(0,i.C6)(t,e),t}(o),a=function(e){function t(t,n){return e.call(this,r.INVALID_CONFIG,t,n)||this}return(0,i.C6)(t,e),t}(o),c=function(e){function t(t,n){return e.call(this,r.MISSING_DATA,t,n)||this}return(0,i.C6)(t,e),t}(o),l=function(e){function t(t,n,i){var o=e.call(this,r.FORMAT_ERROR,"".concat(t,"\nLocale: ").concat(n,"\n"),i)||this;return o.locale=n,o}return(0,i.C6)(t,e),t}(o),u=function(e){function t(t,n,r,i){var o=e.call(this,"".concat(t,"\nMessageID: ").concat(null==r?void 0:r.id,"\nDefault Message: ").concat(null==r?void 0:r.defaultMessage,"\nDescription: ").concat(null==r?void 0:r.description,"\n"),n,i)||this;return o.descriptor=r,o.locale=n,o}return(0,i.C6)(t,e),t}(l),d=function(e){function t(t,n){var i=e.call(this,r.MISSING_TRANSLATION,'Missing message: "'.concat(t.id,'" for locale "').concat(n,'", using ').concat(t.defaultMessage?"default message (".concat("string"==typeof t.defaultMessage?t.defaultMessage:t.defaultMessage.map((function(e){var t;return null!==(t=e.value)&&void 0!==t?t:JSON.stringify(e)})).join(),")"):"id"," as fallback."))||this;return i.descriptor=t,i}return(0,i.C6)(t,e),t}(o)},26332:(e,t,n)=>{"use strict";n.d(t,{h:()=>d});var r=n(58932),i=n(29253),o=n(91800),s=n(54937),a=n(26336);function c(e,t){return Object.keys(e).reduce((function(n,i){return n[i]=(0,r.Cl)({timeZone:t},e[i]),n}),{})}function l(e,t){return Object.keys((0,r.Cl)((0,r.Cl)({},e),t)).reduce((function(n,i){return n[i]=(0,r.Cl)((0,r.Cl)({},e[i]||{}),t[i]||{}),n}),{})}function u(e,t){if(!t)return e;var n=o.S.formats;return(0,r.Cl)((0,r.Cl)((0,r.Cl)({},n),e),{date:l(c(n.date,t),c(e.date||{},t)),time:l(c(n.time,t),c(e.time||{},t))})}var d=function(e,t,n,o,c){var l=e.locale,d=e.formats,h=e.messages,p=e.defaultLocale,f=e.defaultFormats,m=e.fallbackOnEmptyString,g=e.onError,y=e.timeZone,v=e.defaultRichTextElements;void 0===n&&(n={id:""});var b=n.id,x=n.defaultMessage;(0,i.V1)(!!b,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var O=String(b),w=h&&Object.prototype.hasOwnProperty.call(h,O)&&h[O];if(Array.isArray(w)&&1===w.length&&w[0].type===a.ZE.literal)return w[0].value;if(!o&&w&&"string"==typeof w&&!v)return w.replace(/'\{(.*?)\}'/gi,"{$1}");if(o=(0,r.Cl)((0,r.Cl)({},v),o||{}),d=u(d,y),f=u(f,y),!w){if(!1===m&&""===w)return w;if((!x||l&&l.toLowerCase()!==p.toLowerCase())&&g(new s.sb(n,l)),x)try{return t.getMessageFormat(x,p,f,c).format(o)}catch(e){return g(new s.Ho('Error formatting default message for: "'.concat(O,'", rendering default message verbatim'),l,n,e)),"string"==typeof x?x:O}return O}try{return t.getMessageFormat(w,l,d,(0,r.Cl)({formatters:t},c||{})).format(o)}catch(e){g(new s.Ho('Error formatting message: "'.concat(O,'", using ').concat(x?"default message":"id"," as fallback."),l,n,e))}if(x)try{return t.getMessageFormat(x,p,f,c).format(o)}catch(e){g(new s.Ho('Error formatting the default message for: "'.concat(O,'", rendering message verbatim'),l,n,e))}return"string"==typeof w?w:"string"==typeof x?x:O}},30350:(e,t,n)=>{"use strict";n.d(t,{F3:()=>h,GT:()=>d,J9:()=>a,JF:()=>c,MT:()=>l});var r=n(58932),i=n(91800),o=n(72846),s=n(54937);function a(e,t,n){return void 0===n&&(n={}),t.reduce((function(t,r){return r in e?t[r]=e[r]:r in n&&(t[r]=n[r]),t}),{})}var c={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:function(e){},onWarn:function(e){}};function l(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function u(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function d(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,n=Intl.ListFormat,s=Intl.DisplayNames,a=(0,o.B)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,(0,r.fX)([void 0],t,!1)))}),{cache:u(e.dateTime),strategy:o.W.variadic}),c=(0,o.B)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,(0,r.fX)([void 0],t,!1)))}),{cache:u(e.number),strategy:o.W.variadic}),l=(0,o.B)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,(0,r.fX)([void 0],t,!1)))}),{cache:u(e.pluralRules),strategy:o.W.variadic});return{getDateTimeFormat:a,getNumberFormat:c,getMessageFormat:(0,o.B)((function(e,t,n,o){return new i.S(e,t,n,(0,r.Cl)({formatters:{getNumberFormat:c,getDateTimeFormat:a,getPluralRules:l}},o||{}))}),{cache:u(e.message),strategy:o.W.variadic}),getRelativeTimeFormat:(0,o.B)((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,(0,r.fX)([void 0],e,!1)))}),{cache:u(e.relativeTime),strategy:o.W.variadic}),getPluralRules:l,getListFormat:(0,o.B)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(n.bind.apply(n,(0,r.fX)([void 0],e,!1)))}),{cache:u(e.list),strategy:o.W.variadic}),getDisplayNames:(0,o.B)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(s.bind.apply(s,(0,r.fX)([void 0],e,!1)))}),{cache:u(e.displayNames),strategy:o.W.variadic})}}function h(e,t,n,r){var i,o=e&&e[t];if(o&&(i=o[n]),i)return i;r(new s.OC("No ".concat(t," format named: ").concat(n)))}},8501:(e,t,n)=>{"use strict";function r(e,t){var n;return"string"==typeof e?t?(null!==(n=t[e])&&void 0!==n||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}n.d(t,{K:()=>r})},1382:(e,t,n)=>{"use strict";function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function i(e){return e instanceof r(e).Element||e instanceof Element}function o(e){return e instanceof r(e).HTMLElement||e instanceof HTMLElement}function s(e){return"undefined"!=typeof ShadowRoot&&(e instanceof r(e).ShadowRoot||e instanceof ShadowRoot)}n.d(t,{n4:()=>ue});var a=Math.max,c=Math.min,l=Math.round;function u(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function d(){return!/^((?!chrome|android).)*safari/i.test(u())}function h(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var s=e.getBoundingClientRect(),a=1,c=1;t&&o(e)&&(a=e.offsetWidth>0&&l(s.width)/e.offsetWidth||1,c=e.offsetHeight>0&&l(s.height)/e.offsetHeight||1);var u=(i(e)?r(e):window).visualViewport,h=!d()&&n,p=(s.left+(h&&u?u.offsetLeft:0))/a,f=(s.top+(h&&u?u.offsetTop:0))/c,m=s.width/a,g=s.height/c;return{width:m,height:g,top:f,right:p+m,bottom:f+g,left:p,x:p,y:f}}function p(e){var t=r(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function f(e){return e?(e.nodeName||"").toLowerCase():null}function m(e){return((i(e)?e.ownerDocument:e.document)||window.document).documentElement}function g(e){return h(m(e)).left+p(e).scrollLeft}function y(e){return r(e).getComputedStyle(e)}function v(e){var t=y(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function b(e,t,n){void 0===n&&(n=!1);var i,s,a=o(t),c=o(t)&&function(e){var t=e.getBoundingClientRect(),n=l(t.width)/e.offsetWidth||1,r=l(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),u=m(t),d=h(e,c,n),y={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(a||!a&&!n)&&(("body"!==f(t)||v(u))&&(y=(i=t)!==r(i)&&o(i)?{scrollLeft:(s=i).scrollLeft,scrollTop:s.scrollTop}:p(i)),o(t)?((b=h(t,!0)).x+=t.clientLeft,b.y+=t.clientTop):u&&(b.x=g(u))),{x:d.left+y.scrollLeft-b.x,y:d.top+y.scrollTop-b.y,width:d.width,height:d.height}}function x(e){var t=h(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function O(e){return"html"===f(e)?e:e.assignedSlot||e.parentNode||(s(e)?e.host:null)||m(e)}function w(e){return["html","body","#document"].indexOf(f(e))>=0?e.ownerDocument.body:o(e)&&v(e)?e:w(O(e))}function S(e,t){var n;void 0===t&&(t=[]);var i=w(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),s=r(i),a=o?[s].concat(s.visualViewport||[],v(i)?i:[]):i,c=t.concat(a);return o?c:c.concat(S(O(a)))}function k(e){return["table","td","th"].indexOf(f(e))>=0}function _(e){return o(e)&&"fixed"!==y(e).position?e.offsetParent:null}function P(e){for(var t=r(e),n=_(e);n&&k(n)&&"static"===y(n).position;)n=_(n);return n&&("html"===f(n)||"body"===f(n)&&"static"===y(n).position)?t:n||function(e){var t=/firefox/i.test(u());if(/Trident/i.test(u())&&o(e)&&"fixed"===y(e).position)return null;var n=O(e);for(s(n)&&(n=n.host);o(n)&&["html","body"].indexOf(f(n))<0;){var r=y(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var E="top",C="bottom",T="right",j="left",I="auto",M=[E,C,T,j],A="start",D="end",$="viewport",R="popper",N=M.reduce((function(e,t){return e.concat([t+"-"+A,t+"-"+D])}),[]),L=[].concat(M,[I]).reduce((function(e,t){return e.concat([t,t+"-"+A,t+"-"+D])}),[]),Q=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function z(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var F={placement:"bottom",modifiers:[],strategy:"absolute"};function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Z(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,s=void 0===o?F:o;return function(e,t,n){void 0===n&&(n=s);var o,a,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},F,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,d={state:c,setOptions:function(n){var o="function"==typeof n?n(c.options):n;h(),c.options=Object.assign({},s,c.options,o),c.scrollParents={reference:i(e)?S(e):e.contextElement?S(e.contextElement):[],popper:S(t)};var a,u,p=function(e){var t=z(e);return Q.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(r,c.options.modifiers),u=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return c.orderedModifiers=p.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:c,name:t,instance:d,options:r});l.push(o||function(){})}})),d.update()},forceUpdate:function(){if(!u){var e=c.elements,t=e.reference,n=e.popper;if(B(t,n)){c.rects={reference:b(t,P(n),"fixed"===c.options.strategy),popper:x(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<c.orderedModifiers.length;r++)if(!0!==c.reset){var i=c.orderedModifiers[r],o=i.fn,s=i.options,a=void 0===s?{}:s,l=i.name;"function"==typeof o&&(c=o({state:c,options:a,name:l,instance:d})||c)}else c.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(e){d.forceUpdate(),e(c)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(o())}))}))),a}),destroy:function(){h(),u=!0}};if(!B(e,t))return d;function h(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var V={passive:!0};function W(e){return e.split("-")[0]}function U(e){return e.split("-")[1]}function q(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Y(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?W(i):null,s=i?U(i):null,a=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(o){case E:t={x:a,y:n.y-r.height};break;case C:t={x:a,y:n.y+n.height};break;case T:t={x:n.x+n.width,y:c};break;case j:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=o?q(o):null;if(null!=l){var u="y"===l?"height":"width";switch(s){case A:t[l]=t[l]-(n[u]/2-r[u]/2);break;case D:t[l]=t[l]+(n[u]/2-r[u]/2)}}return t}var X={top:"auto",right:"auto",bottom:"auto",left:"auto"};function H(e){var t,n=e.popper,i=e.popperRect,o=e.placement,s=e.variation,a=e.offsets,c=e.position,u=e.gpuAcceleration,d=e.adaptive,h=e.roundOffsets,p=e.isFixed,f=a.x,g=void 0===f?0:f,v=a.y,b=void 0===v?0:v,x="function"==typeof h?h({x:g,y:b}):{x:g,y:b};g=x.x,b=x.y;var O=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),S=j,k=E,_=window;if(d){var I=P(n),M="clientHeight",A="clientWidth";I===r(n)&&"static"!==y(I=m(n)).position&&"absolute"===c&&(M="scrollHeight",A="scrollWidth"),(o===E||(o===j||o===T)&&s===D)&&(k=C,b-=(p&&I===_&&_.visualViewport?_.visualViewport.height:I[M])-i.height,b*=u?1:-1),o!==j&&(o!==E&&o!==C||s!==D)||(S=T,g-=(p&&I===_&&_.visualViewport?_.visualViewport.width:I[A])-i.width,g*=u?1:-1)}var $,R=Object.assign({position:c},d&&X),N=!0===h?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:l(t*r)/r||0,y:l(n*r)/r||0}}({x:g,y:b}):{x:g,y:b};return g=N.x,b=N.y,u?Object.assign({},R,(($={})[k]=w?"0":"",$[S]=O?"0":"",$.transform=(_.devicePixelRatio||1)<=1?"translate("+g+"px, "+b+"px)":"translate3d("+g+"px, "+b+"px, 0)",$)):Object.assign({},R,((t={})[k]=w?b+"px":"",t[S]=O?g+"px":"",t.transform="",t))}var G={left:"right",right:"left",bottom:"top",top:"bottom"};function K(e){return e.replace(/left|right|bottom|top/g,(function(e){return G[e]}))}var J={start:"end",end:"start"};function ee(e){return e.replace(/start|end/g,(function(e){return J[e]}))}function te(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&s(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ne(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function re(e,t,n){return t===$?ne(function(e,t){var n=r(e),i=m(e),o=n.visualViewport,s=i.clientWidth,a=i.clientHeight,c=0,l=0;if(o){s=o.width,a=o.height;var u=d();(u||!u&&"fixed"===t)&&(c=o.offsetLeft,l=o.offsetTop)}return{width:s,height:a,x:c+g(e),y:l}}(e,n)):i(t)?function(e,t){var n=h(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):ne(function(e){var t,n=m(e),r=p(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=a(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=a(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+g(e),l=-r.scrollTop;return"rtl"===y(i||n).direction&&(c+=a(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:c,y:l}}(m(e)))}function ie(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function oe(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function se(e,t){void 0===t&&(t={});var n=t,r=n.placement,s=void 0===r?e.placement:r,l=n.strategy,u=void 0===l?e.strategy:l,d=n.boundary,p=void 0===d?"clippingParents":d,g=n.rootBoundary,v=void 0===g?$:g,b=n.elementContext,x=void 0===b?R:b,w=n.altBoundary,k=void 0!==w&&w,_=n.padding,j=void 0===_?0:_,I=ie("number"!=typeof j?j:oe(j,M)),A=x===R?"reference":R,D=e.rects.popper,N=e.elements[k?A:x],L=function(e,t,n,r){var s="clippingParents"===t?function(e){var t=S(O(e)),n=["absolute","fixed"].indexOf(y(e).position)>=0&&o(e)?P(e):e;return i(n)?t.filter((function(e){return i(e)&&te(e,n)&&"body"!==f(e)})):[]}(e):[].concat(t),l=[].concat(s,[n]),u=l[0],d=l.reduce((function(t,n){var i=re(e,n,r);return t.top=a(i.top,t.top),t.right=c(i.right,t.right),t.bottom=c(i.bottom,t.bottom),t.left=a(i.left,t.left),t}),re(e,u,r));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}(i(N)?N:N.contextElement||m(e.elements.popper),p,v,u),Q=h(e.elements.reference),z=Y({reference:Q,element:D,strategy:"absolute",placement:s}),F=ne(Object.assign({},D,z)),B=x===R?F:Q,Z={top:L.top-B.top+I.top,bottom:B.bottom-L.bottom+I.bottom,left:L.left-B.left+I.left,right:B.right-L.right+I.right},V=e.modifiersData.offset;if(x===R&&V){var W=V[s];Object.keys(Z).forEach((function(e){var t=[T,C].indexOf(e)>=0?1:-1,n=[E,C].indexOf(e)>=0?"y":"x";Z[e]+=W[n]*t}))}return Z}function ae(e,t,n){return a(e,c(t,n))}function ce(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function le(e){return[E,T,C,j].some((function(t){return e[t]>=0}))}var ue=Z({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,s=void 0===o||o,a=i.resize,c=void 0===a||a,l=r(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach((function(e){e.addEventListener("scroll",n.update,V)})),c&&l.addEventListener("resize",n.update,V),function(){s&&u.forEach((function(e){e.removeEventListener("scroll",n.update,V)})),c&&l.removeEventListener("resize",n.update,V)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Y({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,c=void 0===a||a,l={placement:W(t.placement),variation:U(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,H(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,H(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];o(i)&&f(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});o(r)&&f(r)&&(Object.assign(r.style,s),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=L.reduce((function(e,n){return e[n]=function(e,t,n){var r=W(e),i=[j,E].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[j,T].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],c=a.x,l=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,y=W(g),v=c||(y!==g&&f?function(e){if(W(e)===I)return[];var t=K(e);return[ee(e),t,ee(t)]}(g):[K(g)]),b=[g].concat(v).reduce((function(e,n){return e.concat(W(n)===I?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?L:c,u=U(r),d=u?a?N:N.filter((function(e){return U(e)===u})):M,h=d.filter((function(e){return l.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=se(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[W(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,O=t.rects.popper,w=new Map,S=!0,k=b[0],_=0;_<b.length;_++){var P=b[_],D=W(P),$=U(P)===A,R=[E,C].indexOf(D)>=0,Q=R?"width":"height",z=se(t,{placement:P,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),F=R?$?T:j:$?C:E;x[Q]>O[Q]&&(F=K(F));var B=K(F),Z=[];if(o&&Z.push(z[D]<=0),a&&Z.push(z[F]<=0,z[B]<=0),Z.every((function(e){return e}))){k=P,S=!1;break}w.set(P,Z)}if(S)for(var V=function(e){var t=b.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},q=f?3:1;q>0&&"break"!==V(q);q--);t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,l=void 0!==s&&s,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.padding,f=n.tether,m=void 0===f||f,g=n.tetherOffset,y=void 0===g?0:g,v=se(t,{boundary:u,rootBoundary:d,padding:p,altBoundary:h}),b=W(t.placement),O=U(t.placement),w=!O,S=q(b),k="x"===S?"y":"x",_=t.modifiersData.popperOffsets,I=t.rects.reference,M=t.rects.popper,D="function"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,$="number"==typeof D?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(_){if(o){var L,Q="y"===S?E:j,z="y"===S?C:T,F="y"===S?"height":"width",B=_[S],Z=B+v[Q],V=B-v[z],Y=m?-M[F]/2:0,X=O===A?I[F]:M[F],H=O===A?-M[F]:-I[F],G=t.elements.arrow,K=m&&G?x(G):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=J[Q],te=J[z],ne=ae(0,I[F],K[F]),re=w?I[F]/2-Y-ne-ee-$.mainAxis:X-ne-ee-$.mainAxis,ie=w?-I[F]/2+Y+ne+te+$.mainAxis:H+ne+te+$.mainAxis,oe=t.elements.arrow&&P(t.elements.arrow),ce=oe?"y"===S?oe.clientTop||0:oe.clientLeft||0:0,le=null!=(L=null==R?void 0:R[S])?L:0,ue=B+ie-le,de=ae(m?c(Z,B+re-le-ce):Z,B,m?a(V,ue):V);_[S]=de,N[S]=de-B}if(l){var he,pe="x"===S?E:j,fe="x"===S?C:T,me=_[k],ge="y"===k?"height":"width",ye=me+v[pe],ve=me-v[fe],be=-1!==[E,j].indexOf(b),xe=null!=(he=null==R?void 0:R[k])?he:0,Oe=be?ye:me-I[ge]-M[ge]-xe+$.altAxis,we=be?me+I[ge]+M[ge]-xe-$.altAxis:ve,Se=m&&be?function(e,t,n){var r=ae(e,t,n);return r>n?n:r}(Oe,me,we):ae(m?Oe:ye,me,m?we:ve);_[k]=Se,N[k]=Se-me}t.modifiersData[r]=N}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=W(n.placement),c=q(a),l=[j,T].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return ie("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:oe(e,M))}(i.padding,n),d=x(o),h="y"===c?E:j,p="y"===c?C:T,f=n.rects.reference[l]+n.rects.reference[c]-s[c]-n.rects.popper[l],m=s[c]-n.rects.reference[c],g=P(o),y=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,v=f/2-m/2,b=u[h],O=y-d[l]-u[p],w=y/2-d[l]/2+v,S=ae(b,w,O),k=c;n.modifiersData[r]=((t={})[k]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&te(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=se(t,{elementContext:"reference"}),a=se(t,{altBoundary:!0}),c=ce(s,r),l=ce(a,i,o),u=le(c),d=le(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]})},25636:(e,t,n)=>{"use strict";n.d(t,{$:()=>U,A:()=>j,B:()=>P,C:()=>M,D:()=>g,E:()=>b,F:()=>D,G:()=>F,H:()=>c,J:()=>$,L:()=>V,M:()=>X,N:()=>H,O:()=>Y,P:()=>T,R:()=>I,S:()=>N,T:()=>C,Z:()=>W,a:()=>A,a4:()=>G,b:()=>R,d:()=>L,e:()=>E,f:()=>Q,g:()=>z,h:()=>B,i:()=>y,j:()=>k,k:()=>s,l:()=>S,m:()=>v,o:()=>h,p:()=>l,q:()=>m,r:()=>d,s:()=>w,t:()=>a,u:()=>u,v:()=>_,y:()=>O,z:()=>x});var r=n(23962),i=n(55682),o=n(76649),s=function(e){return function(){return true}}(),a=function(){},c=function(e){return e};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var l=function(e,t){(0,i.A)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},u=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function d(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function h(e){var t=!1;return function(){t||(t=!0,e())}}var p=function(e){throw e},f=function(e){return{value:e,done:!0}};function m(e,t,n){void 0===t&&(t=p),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:f,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function g(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var y=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},v=function(e){return Array.apply(null,new Array(e))},b=function(e){return function(t){return e(Object.defineProperty(t,r.q8,{value:!0}))}},x=function(e){return e===r.a6},O=function(e){return e===r.nm},w=function(e){return x(e)||O(e)};function S(e,t){var n,r=Object.keys(e),i=r.length,s=0,c=(0,o.YO)(e)?v(i):{},l={};return r.forEach((function(e){var r=function(r,o){n||(o||w(r)?(t.cancel(),t(r,o)):(c[e]=r,++s===i&&(n=!0,t(c))))};r.cancel=a,l[e]=r})),t.cancel=function(){n||(n=!0,r.forEach((function(e){return l[e].cancel()})))},l}function k(e){return{name:e.name||"anonymous",location:_(e)}}function _(e){return e[r.x2]}function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var E=function(e){return function(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,o=0,s=function(t){n[i]=t,i=(i+1)%e,r++},a=function(){if(0!=r){var t=n[o];return n[o]=null,r--,o=(o+1)%e,t}},c=function(){for(var e=[];r;)e.push(a());return e};return{isEmpty:function(){return 0==r},put:function(a){var l;if(r<e)s(a);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[i]=a,o=i=(i+1)%e;break;case 4:l=2*e,n=c(),r=n.length,i=n.length,o=0,n.length=l,e=l,s(a)}},take:a,flush:c}}(e,4)},C="TAKE",T="PUT",j="ALL",I="RACE",M="CALL",A="CPS",D="FORK",$="JOIN",R="CANCEL",N="SELECT",L="ACTION_CHANNEL",Q="CANCELLED",z="FLUSH",F="GET_CONTEXT",B="SET_CONTEXT",Z=function(e,t){var n;return(n={})[r.IO]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function V(e,t){return void 0===e&&(e="*"),(0,o.T1)(e)?((0,o.uQ)(t)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),Z(C,{pattern:e})):(0,o.fD)(e)&&(0,o.uQ)(t)&&(0,o.T1)(t)?Z(C,{channel:e,pattern:t}):(0,o.Ix)(e)?((0,o.uQ)(t)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),Z(C,{channel:e})):void 0}function W(e,t){return(0,o.vD)(t)&&(t=e,e=void 0),Z(T,{channel:e,action:t})}function U(e){var t=Z(j,e);return t.combinator=!0,t}function q(e,t){var n,r=null;return(0,o.Pc)(e)?n=e:((0,o.YO)(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&(0,o.Yj)(n)&&(0,o.Pc)(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function Y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Z(M,q(e,n))}function X(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Z(D,q(e,n))}function H(e){return void 0===e&&(e=r.Pe),Z(R,e)}function G(e){void 0===e&&(e=c);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Z(N,{selector:e,args:n})}},76649:(e,t,n)=>{"use strict";n.d(t,{HR:()=>f,Ix:()=>h,Pc:()=>s,T1:()=>d,YO:()=>c,Yj:()=>a,fD:()=>m,iv:()=>l,lJ:()=>u,mr:()=>p,uQ:()=>o,vD:()=>i});var r=n(23962),i=function(e){return null==e},o=function(e){return null!=e},s=function(e){return"function"==typeof e},a=function(e){return"string"==typeof e},c=Array.isArray,l=function(e){return e&&s(e.then)},u=function(e){return e&&s(e.next)&&s(e.throw)},d=function e(t){return t&&(a(t)||f(t)||s(t)||c(t)&&t.every(e))},h=function(e){return e&&s(e.take)&&s(e.close)},p=function(e){return s(e)&&e.hasOwnProperty("toString")},f=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},m=function(e){return h(e)&&e[r.Xl]}},23962:(e,t,n)=>{"use strict";n.d(t,{E_:()=>a,IO:()=>s,Pe:()=>u,Xl:()=>c,a6:()=>p,bO:()=>i,nm:()=>h,q8:()=>l,wn:()=>d,x2:()=>f,x7:()=>o});var r=function(e){return"@@redux-saga/"+e},i=r("CANCEL_PROMISE"),o=r("CHANNEL_END"),s=r("IO"),a=r("MATCH"),c=r("MULTICAST"),l=r("SAGA_ACTION"),u=r("SELF_CANCELLATION"),d=r("TASK"),h=r("TASK_CANCEL"),p=r("TERMINATE"),f=r("LOCATION")},15394:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i;n.d(t,{Gh:()=>I,HS:()=>M,Oi:()=>a,Rr:()=>h,pX:()=>N,pb:()=>C,rc:()=>i,tH:()=>R,ue:()=>f,yD:()=>j,zR:()=>s}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const o="popstate";function s(e){return void 0===e&&(e={}),function(e,t,n,s){void 0===s&&(s={});let{window:c=document.defaultView,v5Compat:h=!1}=s,p=c.history,f=i.Pop,m=null,g=y();function y(){return(p.state||{idx:null}).idx}function v(){f=i.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:f,location:x.location,delta:t})}function b(e){let t="null"!==c.location.origin?c.location.origin:c.location.href,n="string"==typeof e?e:d(e);return n=n.replace(/ $/,"%20"),a(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,p.replaceState(r({},p.state,{idx:g}),""));let x={get action(){return f},get location(){return e(c,p)},listen(e){if(m)throw new Error("A history only accepts one active listener");return c.addEventListener(o,v),m=e,()=>{c.removeEventListener(o,v),m=null}},createHref:e=>t(c,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=i.Push;let r=u(x.location,e,t);n&&n(r,e),g=y()+1;let o=l(r,g),s=x.createHref(r);try{p.pushState(o,"",s)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;c.location.assign(s)}h&&m&&m({action:f,location:x.location,delta:1})},replace:function(e,t){f=i.Replace;let r=u(x.location,e,t);n&&n(r,e),g=y();let o=l(r,g),s=x.createHref(r);p.replaceState(o,"",s),h&&m&&m({action:f,location:x.location,delta:0})},go:e=>p.go(e)};return x}((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:d(t)}),null,e)}function a(e,t){if(!1===e||null==e)throw new Error(t)}function c(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,i){return void 0===n&&(n=null),r({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?h(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var p;function f(e,t,n){void 0===n&&(n="/");let r=C(("string"==typeof t?h(t):t).pathname||"/",n);if(null==r)return null;let i=m(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let e=0;null==o&&e<i.length;++e){let t=E(r);o=_(i[e],t)}return o}function m(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(a(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let c=M([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(a(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+c+'".'),m(e.children,t,l,c)),(null!=e.path||e.index)&&t.push({path:c,score:k(c,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of g(e.path))i(e,t,n);else i(e,t)})),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=g(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const y=/^:[\w-]+$/,v=3,b=2,x=1,O=10,w=-2,S=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=w),t&&(r+=b),n.filter((e=>!S(e))).reduce(((e,t)=>e+(y.test(t)?v:""===t?x:O)),r)}function _(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let e=0;e<n.length;++e){let s=n[e],a=e===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=P({path:s.relativePath,caseSensitive:s.caseSensitive,end:a},c);if(!l)return null;Object.assign(r,l.params);let u=s.route;o.push({params:r,pathname:M([i,l.pathname]),pathnameBase:A(M([i,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(i=M([i,l.pathnameBase]))}return o}function P(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function E(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function C(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function T(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function j(e,t){let n=function(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function I(e,t,n,i){let o;void 0===i&&(i=!1),"string"==typeof e?o=h(e):(o=r({},e),a(!o.pathname||!o.pathname.includes("?"),T("?","pathname","search",o)),a(!o.pathname||!o.pathname.includes("#"),T("#","pathname","hash",o)),a(!o.search||!o.search.includes("#"),T("#","search","hash",o)));let s,c=""===e||""===o.pathname,l=c?"/":o.pathname;if(null==l)s=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?h(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:D(r),hash:$(i)}}(o,s),d=l&&"/"!==l&&l.endsWith("/"),p=(c||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!p||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),A=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class R extends Error{}function N(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const L=["post","put","patch","delete"],Q=(new Set(L),["get",...L]);new Set(Q),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred")},83235:(e,t,n)=>{"use strict";n.d(t,{C:()=>L,E:()=>N,S:()=>M,_:()=>c,a:()=>s,b:()=>v,c:()=>S,d:()=>h,f:()=>z,i:()=>g,p:()=>f,r:()=>Q,t:()=>m,w:()=>F});const r={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function i(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function o(e,t,n,r=.15){return 0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-i(t-e,n-t,r)+t:e>n?+i(e-n,n-t,r)+n:e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function u(e){return e?e[0].toUpperCase()+e.slice(1):""}const d=["enter","leave"];function h(e,t="",n=!1){const r=l[e],i=r&&r[t]||t;return"on"+u(e)+u(i)+(function(e=!1,t){return e&&!d.includes(t)}(n,i)?"Capture":"")}const p=["gotpointercapture","lostpointercapture"];function f(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=p.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function m(e,t=""){const n=l[e];return e+(n&&n[t]||t)}function g(e){return"touches"in e}function y(e,t){try{const n=t.clientX-e.clientX,r=t.clientY-e.clientY,i=(t.clientX+e.clientX)/2,o=(t.clientY+e.clientY)/2,s=Math.hypot(n,r);return{angle:-180*Math.atan2(n,r)/Math.PI,distance:s,origin:[i,o]}}catch(e){}return null}function v(e){return function(e){return Array.from(e.touches).filter((t=>{var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((e=>e.identifier))}function b(e,t){const[n,r]=Array.from(e.touches).filter((e=>t.includes(e.identifier)));return y(n,r)}function x(e){let{deltaX:t,deltaY:n,deltaMode:r}=e;return 1===r?(t*=40,n*=40):2===r&&(t*=800,n*=800),[t,n]}function O(e,...t){return"function"==typeof e?e(...t):e}function w(){}function S(...e){return 0===e.length?w:1===e.length?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function k(e,t){return Object.assign({},t,e||{})}class _{constructor(e,t,n){this.ctrl=e,this.args=t,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:n,args:r}=this;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?O(n.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:n,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,function(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o})}return t}(e)),i.down=i.pressed=i.buttons%2==1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const e=t._delta.map(Math.abs);r.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);const[a,c]=t._movement,[l,u]=n.threshold,{_step:d,values:h}=t;if(n.hasCustomTransform?(!1===d[0]&&(d[0]=Math.abs(a)>=l&&h[0]),!1===d[1]&&(d[1]=Math.abs(c)>=u&&h[1])):(!1===d[0]&&(d[0]=Math.abs(a)>=l&&Math.sign(a)*l),!1===d[1]&&(d[1]=Math.abs(c)>=u&&Math.sign(c)*u)),t.intentional=!1!==d[0]||!1!==d[1],!t.intentional)return;const p=[0,0];if(n.hasCustomTransform){const[e,t]=h;p[0]=!1!==d[0]?e-d[0]:0,p[1]=!1!==d[1]?t-d[1]:0}else p[0]=!1!==d[0]?a-d[0]:0,p[1]=!1!==d[1]?c-d[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);const f=t.offset,m=t._active&&!t._blocked||t.active;m&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=O(n.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));const[g,y]=t.offset,[[v,b],[x,w]]=t._bounds;t.overflow=[g<v?-1:g>b?1:0,y<x?-1:y>w?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);const S=t._active&&n.rubberband||[0,0];if(t.offset=function(e,[t,n],[r,i]){const[[s,a],[c,l]]=e;return[o(t,s,a,r),o(n,c,l,i)]}(t._bounds,t.offset,S),t.delta=r.sub(t.offset,f),this.computeMovement(),m&&(!t.last||s>32)){t.delta=r.sub(t.offset,f);const e=t.delta.map(Math.abs);r.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[e[0]/s,e[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;const r=this.handler(c(c(c({},t),e),{},{[this.aliasKey]:e.values}));void 0!==r&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class P extends _{constructor(...e){super(...e),s(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=r.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=r.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,n=this.config;if(!t.axis&&e){const r="object"==typeof n.axisThreshold?n.axisThreshold[function(e){return g(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}(e)]:n.axisThreshold;t.axis=function([e,t],n){const r=Math.abs(e),i=Math.abs(t);return r>i&&r>n?"x":i>r&&i>n?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}const E=e=>e,C={enabled:(e=!0)=>e,eventOptions:(e,t,n)=>c(c({},n.shared.eventOptions),e),preventDefault:(e=!1)=>e,triggerAllEvents:(e=!1)=>e,rubberband(e=0){switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return r.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?r.toVector(e):void 0,transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||E},threshold:e=>r.toVector(e,0)},T=c(c({},C),{},{axis(e,t,{axis:n}){if(this.lockDirection="lock"===n,!this.lockDirection)return n},axisThreshold:(e=0)=>e,bounds(e={}){if("function"==typeof e)return t=>T.bounds(e(t));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,n],[r,i]]}}),j="undefined"!=typeof window&&window.document&&window.document.createElement;function I(){return j&&"ontouchstart"in window}const M={isBrowser:j,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:I(),touchscreen:I()||j&&window.navigator.maxTouchPoints>1,pointer:j&&"onpointerdown"in window,pointerLock:j&&"exitPointerLock"in window.document},A={mouse:0,touch:0,pen:8};function D(e){const[t,n]=e.overflow,[r,i]=e._delta,[o,s]=e._direction;(t<0&&r>0&&o<0||t>0&&r<0&&o>0)&&(e._movement[0]=e._movementBound[0]),(n<0&&i>0&&s<0||n>0&&i<0&&s>0)&&(e._movement[1]=e._movementBound[1])}c(c({},T),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&M.pointerLock,M.touch&&n?"touch":this.pointerLock?"mouse":M.pointer&&!i?"pointer":M.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay="number"==typeof n?n:n||void 0===n&&e?250:void 0,M.touchscreen&&!1!==n)return e||(void 0!==n?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&"pointer"===this.device&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:i=3,axis:o}){const s=r.toVector(e,n?i:o?1:0);return this.filterTaps=n,this.tapsThreshold=i,s},swipe({velocity:e=.5,distance:t=50,duration:n=250}={}){return{velocity:this.transform(r.toVector(e)),distance:this.transform(r.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?c(c({},A),e):A,keyboardDisplacement:(e=10)=>e});const $=c(c({},C),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!M.touch&&M.gesture)return"gesture";if(M.touch&&r)return"touch";if(M.touchscreen){if(M.pointer)return"pointer";if(M.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const i=e=>{const t=k(O(n,e),{min:-1/0,max:1/0});return[t.min,t.max]},o=e=>{const t=k(O(r,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof n&&"function"!=typeof r?[i(),o()]:e=>[i(e),o(e)]},threshold(e,t,n){return this.lockDirection="lock"===n.axis,r.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel:(e=!0)=>e});c(c({},T),{},{mouseOnly:(e=!0)=>e});const R=T;c(c({},T),{},{mouseOnly:(e=!0)=>e});const N=new Map,L=new Map;function Q(e){N.set(e.key,e.engine),L.set(e.key,e.resolver)}const z={key:"pinch",engine:class extends _{constructor(...e){super(...e),s(this,"ingKey","pinching"),s(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:n}=this.state;this.state.offset="wheel"===e?r.add(t,n):[(1+t[0])*n[0],t[1]+n[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,n]=e._movement;if(!e.axis){const r=30*Math.abs(t)-Math.abs(n);r<0?e.axis="angle":r>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout((()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()}),0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,n=this.ctrl.touchIds;if(t._active&&t._touchIds.every((e=>n.has(e))))return;if(n.size<2)return;this.start(e),t._touchIds=Array.from(n).slice(0,2);const r=b(e,t._touchIds);r&&this.pinchStart(e,r)}pointerStart(e){if(null!=e.buttons&&e.buttons%2!=1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,n=t._pointerEvents,r=this.ctrl.pointerIds;if(t._active&&Array.from(n.keys()).every((e=>r.has(e))))return;if(n.size<2&&n.set(e.pointerId,e),t._pointerEvents.size<2)return;this.start(e);const i=y(...Array.from(n.values()));i&&this.pinchStart(e,i)}pinchStart(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=b(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const n=y(...Array.from(t.values()));n&&this.pinchMove(e,n)}pinchMove(e,t){const n=this.state,r=n._values[1],i=t.angle-r;let o=0;Math.abs(i)>270&&(o+=Math.sign(i)),this.computeValues([t.distance,t.angle-360*o]),n.origin=t.origin,n.turns=o,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some((e=>!this.ctrl.touchIds.has(e)))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(e){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const n=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=r.sub(t._movement,n),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&!(Array.isArray(t)?t.find((t=>e[t])):e[t])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const t=this.state;t._delta=[-x(e)[1]/100*t.offset[0],0],r.addTo(t._movement,t._delta),D(t),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}},resolver:$},F={key:"wheel",engine:class extends P{constructor(...e){super(...e),s(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=x(e),r.addTo(t._movement,t._delta),D(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}},resolver:R}},75417:(e,t,n)=>{"use strict";n.d(t,{t:()=>f,x:()=>l});var r=n(83235);const i={target(e){if(e)return()=>"current"in e?e.current:e},enabled:(e=!0)=>e,window:(e=(r.S.isBrowser?window:void 0))=>e,eventOptions:({passive:e=!0,capture:t=!1}={})=>({passive:e,capture:t}),transform:e=>e},o=["target","eventOptions","window","enabled","transform"];function s(e={},t){const n={};for(const[r,i]of Object.entries(t))switch(typeof i){case"function":n[r]=i.call(n,e[r],r,e);break;case"object":n[r]=s(e[r],i);break;case"boolean":i&&(n[r]=e[r])}return n}class a{constructor(e,t){(0,r.a)(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,n,i,o){const s=this._listeners,a=(0,r.t)(t,n),c=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},l=(0,r._)((0,r._)({},c),o);e.addEventListener(a,i,l);const u=()=>{e.removeEventListener(a,i,l),s.delete(u)};return s.add(u),u}clean(){this._listeners.forEach((e=>e())),this._listeners.clear()}}class c{constructor(){(0,r.a)(this,"_timeouts",new Map)}add(e,t,n=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,n,...r))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach((e=>{window.clearTimeout(e)})),this._timeouts.clear()}}class l{constructor(e){var t,n;(0,r.a)(this,"gestures",new Set),(0,r.a)(this,"_targetEventStore",new a(this)),(0,r.a)(this,"gestureEventStores",{}),(0,r.a)(this,"gestureTimeoutStores",{}),(0,r.a)(this,"handlers",{}),(0,r.a)(this,"config",{}),(0,r.a)(this,"pointerIds",new Set),(0,r.a)(this,"touchIds",new Set),(0,r.a)(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),t=this,(n=e).drag&&u(t,"drag"),n.wheel&&u(t,"wheel"),n.scroll&&u(t,"scroll"),n.move&&u(t,"move"),n.pinch&&u(t,"pinch"),n.hover&&u(t,"hover")}setEventIds(e){return(0,r.i)(e)?(this.touchIds=new Set((0,r.b)(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t,n={}){const a=e,{target:c,eventOptions:l,window:u,enabled:d,transform:h}=a,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(a,o);if(n.shared=s({target:c,eventOptions:l,window:u,enabled:d,transform:h},i),t){const e=r.C.get(t);n[t]=s((0,r._)({shared:n.shared},p),e)}else for(const e in p){const t=r.C.get(e);t&&(n[e]=s((0,r._)({shared:n.shared},p[e]),t))}return n}(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,n={};let i;if(!t.target||(i=t.target(),i)){if(t.enabled){for(const t of this.gestures){const o=this.config[t],s=d(n,o.eventOptions,!!i);o.enabled&&new(r.E.get(t))(this,e,t).bind(s)}const o=d(n,t.eventOptions,!!i);for(const t in this.nativeHandlers)o(t,"",(n=>this.nativeHandlers[t]((0,r._)((0,r._)({},this.state.shared),{},{event:n,args:e}))),void 0,!0)}for(const e in n)n[e]=(0,r.c)(...n[e]);if(!i)return n;for(const e in n){const{device:t,capture:o,passive:s}=(0,r.p)(e);this._targetEventStore.add(i,t,"",n[e],{capture:o,passive:s})}}}}function u(e,t){e.gestures.add(t),e.gestureEventStores[t]=new a(e,t),e.gestureTimeoutStores[t]=new c}const d=(e,t,n)=>(i,o,s,a={},c=!1)=>{var l,u;const d=null!==(l=a.capture)&&void 0!==l?l:t.capture,h=null!==(u=a.passive)&&void 0!==u?u:t.passive;let p=c?i:(0,r.d)(i,o,d);n&&h&&(p+="Passive"),e[p]=e[p]||[],e[p].push(s)},h=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function p(e,t,n,i,o,s){if(!e.has(n))return;if(!r.E.has(i))return;const a=n+"Start",c=n+"End";o[i]=e=>{let r;return e.first&&a in t&&t[a](e),n in t&&(r=t[n](e)),e.last&&c in t&&t[c](e),r},s[i]=s[i]||{}}function f(e,t){const[n,r,i]=function(e){const t={},n={},r=new Set;for(let i in e)h.test(i)?(r.add(RegExp.lastMatch),n[i]=e[i]):t[i]=e[i];return[n,t,r]}(e),o={};return p(i,n,"onDrag","drag",o,t),p(i,n,"onWheel","wheel",o,t),p(i,n,"onScroll","scroll",o,t),p(i,n,"onPinch","pinch",o,t),p(i,n,"onMove","move",o,t),p(i,n,"onHover","hover",o,t),{handlers:o,config:t,nativeHandlers:r}}},67320:(e,t,n)=>{"use strict";function r(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,{$3:()=>s,$H:()=>S,Bm:()=>d,Gv:()=>h,Qd:()=>y,X$:()=>i,Zf:()=>g,cy:()=>a,jh:()=>c,pD:()=>r,vM:()=>l,yI:()=>v,yL:()=>p});const i=Object.assign,o=Object.prototype.hasOwnProperty,s=(e,t)=>o.call(e,t),a=Array.isArray,c=e=>"[object Map]"===m(e),l=e=>"[object Set]"===m(e),u=e=>"function"==typeof e,d=e=>"symbol"==typeof e,h=e=>null!==e&&"object"==typeof e,p=e=>h(e)&&u(e.then)&&u(e.catch),f=Object.prototype.toString,m=e=>f.call(e),g=e=>m(e).slice(8,-1),y=e=>"[object Object]"===m(e),v=e=>"string"==typeof e&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,b=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},x=/-(\w)/g,O=(b((e=>e.replace(x,((e,t)=>t?t.toUpperCase():"")))),/\B([A-Z])/g),w=(b((e=>e.replace(O,"-$1").toLowerCase())),b((e=>e.charAt(0).toUpperCase()+e.slice(1)))),S=(b((e=>e?`on${w(e)}`:"")),(e,t)=>!Object.is(e,t))},87150:e=>{"use strict";var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]],r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0,this.decorations=[]}return t(e,null,[{key:"escapeForHtml",value:function(t){return(new e).escapeForHtml(t)}},{key:"linkify",value:function(t){return(new e).linkify(t)}},{key:"ansiToHtml",value:function(t,n){return(new e).ansiToHtml(t,n)}},{key:"ansiToJson",value:function(t,n){return(new e).ansiToJson(t,n)}},{key:"ansiToText",value:function(t){return(new e).ansiToText(t)}}]),t(e,[{key:"setupPalette",value:function(){this.PALETTE_COLORS=[];for(var e=0;e<2;++e)for(var t=0;t<8;++t)this.PALETTE_COLORS.push(n[e][t].color);for(var r=[0,95,135,175,215,255],i=function(e,t,n){return r[e]+", "+r[t]+", "+r[n]},o=0;o<6;++o)for(var s=0;s<6;++s)for(var a=0;a<6;++a)this.PALETTE_COLORS.push(i(o,s,a));for(var c=8,l=0;l<24;++l,c+=10)this.PALETTE_COLORS.push(i(c,c,c))}},{key:"escapeForHtml",value:function(e){return e.replace(/[&<>\"]/gm,(function(e){return"&"==e?"&amp;":'"'==e?"&quot;":"<"==e?"&lt;":">"==e?"&gt;":""}))}},{key:"linkify",value:function(e){return e.replace(/(https?:\/\/[^\s]+)/gm,(function(e){return'<a href="'+e+'">'+e+"</a>"}))}},{key:"ansiToHtml",value:function(e,t){return this.process(e,t,!0)}},{key:"ansiToJson",value:function(e,t){return(t=t||{}).json=!0,t.clearLine=!1,this.process(e,t,!0)}},{key:"ansiToText",value:function(e){return this.process(e,{},!1)}},{key:"process",value:function(e,t,n){var r=this,i=e.split(/\033\[/),o=i.shift();null==t&&(t={}),t.clearLine=/\r/.test(e);var s=i.map((function(e){return r.processChunk(e,t,n)}));if(t&&t.json){var a=this.processChunkJson("");return a.content=o,a.clearLine=t.clearLine,s.unshift(a),t.remove_empty&&(s=s.filter((function(e){return!e.isEmpty()}))),s}return s.unshift(o),s.join("")}},{key:"processChunkJson",value:function(e,t,r){var i=(t=void 0===t?{}:t).use_classes=void 0!==t.use_classes&&t.use_classes,o=t.key=i?"class":"color",s={content:e,fg:null,bg:null,fg_truecolor:null,bg_truecolor:null,isInverted:!1,clearLine:t.clearLine,decoration:null,decorations:[],was_processed:!1,isEmpty:function(){return!s.content}},a=e.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!a)return s;s.content=a[4];var c=a[2].split(";");if(""!==a[1]||"m"!==a[3])return s;if(!r)return s;for(var l=this;c.length>0;){var u=c.shift(),d=parseInt(u);if(isNaN(d)||0===d)l.fg=l.bg=null,l.decorations=[];else if(1===d)l.decorations.push("bold");else if(2===d)l.decorations.push("dim");else if(3===d)l.decorations.push("italic");else if(4===d)l.decorations.push("underline");else if(5===d)l.decorations.push("blink");else if(7===d)l.decorations.push("reverse");else if(8===d)l.decorations.push("hidden");else if(9===d)l.decorations.push("strikethrough");else if(21===d)l.removeDecoration("bold");else if(22===d)l.removeDecoration("bold"),l.removeDecoration("dim");else if(23===d)l.removeDecoration("italic");else if(24===d)l.removeDecoration("underline");else if(25===d)l.removeDecoration("blink");else if(27===d)l.removeDecoration("reverse");else if(28===d)l.removeDecoration("hidden");else if(29===d)l.removeDecoration("strikethrough");else if(39===d)l.fg=null;else if(49===d)l.bg=null;else if(d>=30&&d<38)l.fg=n[0][d%10][o];else if(d>=90&&d<98)l.fg=n[1][d%10][o];else if(d>=40&&d<48)l.bg=n[0][d%10][o];else if(d>=100&&d<108)l.bg=n[1][d%10][o];else if(38===d||48===d){var h=38===d;if(c.length>=1){var p=c.shift();if("5"===p&&c.length>=1){var f=parseInt(c.shift());if(f>=0&&f<=255)if(i){var m=f>=16?"ansi-palette-"+f:n[f>7?1:0][f%8].class;h?l.fg=m:l.bg=m}else this.PALETTE_COLORS||l.setupPalette(),h?l.fg=this.PALETTE_COLORS[f]:l.bg=this.PALETTE_COLORS[f]}else if("2"===p&&c.length>=3){var g=parseInt(c.shift()),y=parseInt(c.shift()),v=parseInt(c.shift());if(g>=0&&g<=255&&y>=0&&y<=255&&v>=0&&v<=255){var b=g+", "+y+", "+v;i?h?(l.fg="ansi-truecolor",l.fg_truecolor=b):(l.bg="ansi-truecolor",l.bg_truecolor=b):h?l.fg=b:l.bg=b}}}}}return null===l.fg&&null===l.bg&&0===l.decorations.length||(s.fg=l.fg,s.bg=l.bg,s.fg_truecolor=l.fg_truecolor,s.bg_truecolor=l.bg_truecolor,s.decorations=l.decorations,s.decoration=l.decorations.slice(-1).pop()||null,s.was_processed=!0),s}},{key:"processChunk",value:function(e,t,r){var i=this;t=t||{};var o=this.processChunkJson(e,t,r),s=t.use_classes;if(o.decorations=o.decorations.filter((function(e){if("reverse"===e){o.fg||(o.fg=n[0][7][s?"class":"color"]),o.bg||(o.bg=n[0][0][s?"class":"color"]);var t=o.fg;o.fg=o.bg,o.bg=t;var r=o.fg_truecolor;return o.fg_truecolor=o.bg_truecolor,o.bg_truecolor=r,o.isInverted=!0,!1}return!0})),t.json)return o;if(o.isEmpty())return"";if(!o.was_processed)return o.content;var a=[],c=[],l=[],u={},d=function(e){var t=[],n=void 0;for(n in e)e.hasOwnProperty(n)&&t.push("data-"+n+'="'+i.escapeForHtml(e[n])+'"');return t.length>0?" "+t.join(" "):""};return o.isInverted&&(u["ansi-is-inverted"]="true"),o.fg&&(s?(a.push(o.fg+"-fg"),null!==o.fg_truecolor&&(u["ansi-truecolor-fg"]=o.fg_truecolor,o.fg_truecolor=null)):a.push("color:rgb("+o.fg+")")),o.bg&&(s?(a.push(o.bg+"-bg"),null!==o.bg_truecolor&&(u["ansi-truecolor-bg"]=o.bg_truecolor,o.bg_truecolor=null)):a.push("background-color:rgb("+o.bg+")")),o.decorations.forEach((function(e){s?c.push("ansi-"+e):"bold"===e?c.push("font-weight:bold"):"dim"===e?c.push("opacity:0.5"):"italic"===e?c.push("font-style:italic"):"hidden"===e?c.push("visibility:hidden"):"strikethrough"===e?l.push("line-through"):l.push(e)})),l.length&&c.push("text-decoration:"+l.join(" ")),s?'<span class="'+a.concat(c).join(" ")+'"'+d(u)+">"+o.content+"</span>":'<span style="'+a.concat(c).join(";")+'"'+d(u)+">"+o.content+"</span>"}},{key:"removeDecoration",value:function(e){var t=this.decorations.indexOf(e);t>=0&&this.decorations.splice(t,1)}}]),e}();e.exports=r},98464:(e,t,n)=>{"use strict";n.d(t,{Eq:()=>c});var r=new WeakMap,i=new WeakMap,o={},s=0,a=function(e){return e&&(e.host||a(e.parentNode))},c=function(e,t,n){void 0===n&&(n="data-aria-hidden");var c=Array.from(Array.isArray(e)?e:[e]),l=t||function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return l?(c.push.apply(c,Array.from(l.querySelectorAll("[aria-live]"))),function(e,t,n,c){var l=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=a(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);o[n]||(o[n]=new WeakMap);var u=o[n],d=[],h=new Set,p=new Set(l),f=function(e){e&&!h.has(e)&&(h.add(e),f(e.parentNode))};l.forEach(f);var m=function(e){e&&!p.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(h.has(e))m(e);else{var t=e.getAttribute(c),o=null!==t&&"false"!==t,s=(r.get(e)||0)+1,a=(u.get(e)||0)+1;r.set(e,s),u.set(e,a),d.push(e),1===s&&o&&i.set(e,!0),1===a&&e.setAttribute(n,"true"),o||e.setAttribute(c,"true")}}))};return m(t),h.clear(),s++,function(){d.forEach((function(e){var t=r.get(e)-1,o=u.get(e)-1;r.set(e,t),u.set(e,o),t||(i.has(e)||e.removeAttribute(c),i.delete(e)),o||e.removeAttribute(n)})),--s||(r=new WeakMap,r=new WeakMap,i=new WeakMap,o={})}}(c,l,n,"aria-hidden")):function(){return null}}},65485:(e,t,n)=>{e.exports=n(53251)},4380:(e,t,n)=>{"use strict";var r=n(59152),i=n(78670),o=n(20624),s=n(47886),a=n(9515),c=n(72624),l=n(94782),u=n(26964),d=n(28353),h=n(30047),p=n(20644);e.exports=function(e){return new Promise((function(t,n){var f,m=e.data,g=e.headers,y=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}r.isFormData(m)&&r.isStandardBrowserEnv()&&delete g["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var x=e.auth.username||"",O=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(x+":"+O)}var w=a(e.baseURL,e.url);function S(){if(b){var r="getAllResponseHeaders"in b?c(b.getAllResponseHeaders()):null,o={data:y&&"text"!==y&&"json"!==y?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};i((function(e){t(e),v()}),(function(e){n(e),v()}),o),b=null}}if(b.open(e.method.toUpperCase(),s(w,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(S)},b.onabort=function(){b&&(n(new d("Request aborted",d.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d(t,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,b)),b=null},r.isStandardBrowserEnv()){var k=(e.withCredentials||l(w))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;k&&(g[e.xsrfHeaderName]=k)}"setRequestHeader"in b&&r.forEach(g,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete g[t]:b.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),y&&"json"!==y&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){b&&(n(!e||e&&e.type?new h:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),m||(m=null);var _=p(w);_&&-1===["http","https","file"].indexOf(_)?n(new d("Unsupported protocol "+_+":",d.ERR_BAD_REQUEST,e)):b.send(m)}))}},53251:(e,t,n)=>{"use strict";var r=n(59152),i=n(58728),o=n(93303),s=n(96139),a=function e(t){var n=new o(t),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(10232));a.Axios=o,a.CanceledError=n(30047),a.CancelToken=n(40387),a.isCancel=n(54844),a.VERSION=n(71869).version,a.toFormData=n(6100),a.AxiosError=n(28353),a.Cancel=a.CanceledError,a.all=function(e){return Promise.all(e)},a.spread=n(37344),a.isAxiosError=n(18615),e.exports=a,e.exports.default=a},40387:(e,t,n)=>{"use strict";var r=n(30047);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},30047:(e,t,n)=>{"use strict";var r=n(28353);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(59152).inherits(i,r,{__CANCEL__:!0}),e.exports=i},54844:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},93303:(e,t,n)=>{"use strict";var r=n(59152),i=n(47886),o=n(11379),s=n(80758),a=n(96139),c=n(9515),l=n(75437),u=l.validators;function d(e){this.defaults=e,this.interceptors={request:new o,response:new o}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&l.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,c=[];if(this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)})),!i){var d=[s,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(c),o=Promise.resolve(t);d.length;)o=o.then(d.shift(),d.shift());return o}for(var h=t;r.length;){var p=r.shift(),f=r.shift();try{h=p(h)}catch(e){f(e);break}}try{o=s(h)}catch(e){return Promise.reject(e)}for(;c.length;)o=o.then(c.shift(),c.shift());return o},d.prototype.getUri=function(e){e=a(this.defaults,e);var t=c(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(a(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},28353:(e,t,n)=>{"use strict";var r=n(59152);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=i.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(i,s),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=function(e,t,n,s,a,c){var l=Object.create(o);return r.toFlatObject(e,l,(function(e){return e!==Error.prototype})),i.call(l,e.message,t,n,s,a),l.name=e.name,c&&Object.assign(l,c),l},e.exports=i},11379:(e,t,n)=>{"use strict";var r=n(59152);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},9515:(e,t,n)=>{"use strict";var r=n(99237),i=n(80036);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},80758:(e,t,n)=>{"use strict";var r=n(59152),i=n(8629),o=n(54844),s=n(10232),a=n(30047);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},96139:(e,t,n)=>{"use strict";var r=n(59152);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function c(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||o,i=t(e);r.isUndefined(i)&&t!==c||(n[e]=i)})),n}},78670:(e,t,n)=>{"use strict";var r=n(28353);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},8629:(e,t,n)=>{"use strict";var r=n(59152),i=n(10232);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},10232:(e,t,n)=>{"use strict";var r=n(59152),i=n(57470),o=n(28353),s=n(26964),a=n(6100),c={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,d={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(4380)),u),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,o=r.isObject(e),s=t&&t["Content-Type"];if((n=r.isFileList(e))||o&&"multipart/form-data"===s){var c=this.env&&this.env.FormData;return a(n?{"files[]":e}:e,c&&new c)}return o||"application/json"===s?(l(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o.from(e,o.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(61970)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){d.headers[e]=r.merge(c)})),e.exports=d},26964:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},71869:e=>{e.exports={version:"0.27.2"}},58728:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},47886:(e,t,n)=>{"use strict";var r=n(59152);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},80036:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},20624:(e,t,n)=>{"use strict";var r=n(59152);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},99237:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},18615:(e,t,n)=>{"use strict";var r=n(59152);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},94782:(e,t,n)=>{"use strict";var r=n(59152);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},57470:(e,t,n)=>{"use strict";var r=n(59152);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},61970:e=>{e.exports=null},72624:(e,t,n)=>{"use strict";var r=n(59152),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},20644:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},37344:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},6100:(e,t,n)=>{"use strict";var r=n(59152);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(o,s){if(r.isPlainObject(o)||r.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+s);n.push(o),r.forEach(o,(function(n,o){if(!r.isUndefined(n)){var a,c=s?s+"."+o:o;if(n&&!s&&"object"==typeof n)if(r.endsWith(o,"{}"))n=JSON.stringify(n);else if(r.endsWith(o,"[]")&&(a=r.toArray(n)))return void a.forEach((function(e){!r.isUndefined(e)&&t.append(c,i(e))}));e(n,c)}})),n.pop()}else t.append(s,i(o))}(e),t}},75437:(e,t,n)=>{"use strict";var r=n(71869).version,i=n(28353),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new i(o(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!s[r]&&(s[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var s=r[o],a=t[s];if(a){var c=e[s],l=void 0===c||a(c,s,e);if(!0!==l)throw new i("option "+s+" must be "+l,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+s,i.ERR_BAD_OPTION)}},validators:o}},59152:(e,t,n)=>{"use strict";var r,i=n(58728),o=Object.prototype.toString,s=(r=Object.create(null),function(e){var t=o.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function c(e){return Array.isArray(e)}function l(e){return void 0===e}var u=a("ArrayBuffer");function d(e){return null!==e&&"object"==typeof e}function h(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=a("Date"),f=a("File"),m=a("Blob"),g=a("FileList");function y(e){return"[object Function]"===o.call(e)}var v=a("URLSearchParams");function b(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var x,O=(x="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return x&&e instanceof x});e.exports={isArray:c,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===t||y(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:d,isPlainObject:h,isUndefined:l,isDate:p,isFile:f,isBlob:m,isFunction:y,isStream:function(e){return d(e)&&y(e.pipe)},isURLSearchParams:v,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:b,merge:function e(){var t={};function n(n,r){h(t[r])&&h(n)?t[r]=e(t[r],n):h(n)?t[r]=e({},n):c(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)b(arguments[r],n);return t},extend:function(e,t,n){return b(t,(function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,o,s={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)s[o=r[i]]||(t[o]=e[o],s[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:a,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(l(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:O,isFileList:g}},35284:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.r(t),n.d(t,{clsx:()=>i,default:()=>o});const o=i},11459:(e,t,n)=>{var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var n=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==n&&n,r="URLSearchParams"in n,i="Symbol"in n&&"iterator"in Symbol,o="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in n,a="ArrayBuffer"in n;if(a)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&o&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(g)}),this.text=function(){var e,t,n,r=f(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=m(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=u(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[u(e)]},p.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},p.prototype.set=function(e,t){this.map[u(e)]=d(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},i&&(p.prototype[Symbol.iterator]=p.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(e,t){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,i=(t=t||{}).body;if(e instanceof x){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function O(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},v.call(x.prototype),v.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];w.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,r){return new Promise((function(i,s){var c=new x(e,r);if(c.signal&&c.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function u(){l.abort()}l.onload=function(){var e,t,n={status:l.status,statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in l?l.responseURL:n.headers.get("X-Request-URL");var r="response"in l?l.response:l.responseText;setTimeout((function(){i(new w(r,n))}),0)},l.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},l.onabort=function(){setTimeout((function(){s(new t.DOMException("Aborted","AbortError"))}),0)},l.open(c.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(c.url),!0),"include"===c.credentials?l.withCredentials=!0:"omit"===c.credentials&&(l.withCredentials=!1),"responseType"in l&&(o?l.responseType="blob":a&&c.headers.get("Content-Type")&&-1!==c.headers.get("Content-Type").indexOf("application/octet-stream")&&(l.responseType="arraybuffer")),!r||"object"!=typeof r.headers||r.headers instanceof p?c.headers.forEach((function(e,t){l.setRequestHeader(t,e)})):Object.getOwnPropertyNames(r.headers).forEach((function(e){l.setRequestHeader(e,d(r.headers[e]))})),c.signal&&(c.signal.addEventListener("abort",u),l.onreadystatechange=function(){4===l.readyState&&c.signal.removeEventListener("abort",u)}),l.send(void 0===c._bodyInit?null:c._bodyInit)}))}k.polyfill=!0,n.fetch||(n.fetch=k,n.Headers=p,n.Request=x,n.Response=w),t.Headers=p,t.Request=x,t.Response=w,t.fetch=k}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=r.fetch?r:i;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},20140:(e,t)=>{"use strict";t.addLeadingZeros=function(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}},32790:(e,t,n)=>{"use strict";Object.defineProperty(t,"defaultLocale",{enumerable:!0,get:function(){return r.enUS}});var r=n(50094)},83093:(e,t)=>{"use strict";t.getDefaultOptions=function(){return n},t.setDefaultOptions=function(e){n=e};let n={}},13065:(e,t,n)=>{"use strict";t.formatters=void 0;var r=n(56539),i=n(2844),o=n(63173),s=n(40661),a=n(26452),c=n(20140),l=n(30803);function u(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+t+(0,c.addLeadingZeros)(o,2)}function d(e,t){return e%60==0?(e>0?"-":"+")+(0,c.addLeadingZeros)(Math.abs(e)/60,2):h(e,t)}function h(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+(0,c.addLeadingZeros)(Math.trunc(r/60),2)+t+(0,c.addLeadingZeros)(r%60,2)}t.formatters={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return l.lightFormatters.y(e,t)},Y:function(e,t,n,r){const i=(0,a.getWeekYear)(e,r),o=i>0?i:1-i;if("YY"===t){const e=o%100;return(0,c.addLeadingZeros)(e,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):(0,c.addLeadingZeros)(o,t.length)},R:function(e,t){const n=(0,o.getISOWeekYear)(e);return(0,c.addLeadingZeros)(n,t.length)},u:function(e,t){const n=e.getFullYear();return(0,c.addLeadingZeros)(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return(0,c.addLeadingZeros)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return(0,c.addLeadingZeros)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return l.lightFormatters.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return(0,c.addLeadingZeros)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=(0,s.getWeek)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):(0,c.addLeadingZeros)(i,t.length)},I:function(e,t,n){const r=(0,i.getISOWeek)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):(0,c.addLeadingZeros)(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):l.lightFormatters.d(e,t)},D:function(e,t,n){const i=(0,r.getDayOfYear)(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):(0,c.addLeadingZeros)(i,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return(0,c.addLeadingZeros)(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return(0,c.addLeadingZeros)(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return(0,c.addLeadingZeros)(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return l.lightFormatters.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):l.lightFormatters.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,c.addLeadingZeros)(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,c.addLeadingZeros)(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):l.lightFormatters.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):l.lightFormatters.s(e,t)},S:function(e,t){return l.lightFormatters.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return d(r);case"XXXX":case"XX":return h(r);default:return h(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return d(r);case"xxxx":case"xx":return h(r);default:return h(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+u(r,":");default:return"GMT"+h(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+u(r,":");default:return"GMT"+h(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return(0,c.addLeadingZeros)(r,t.length)},T:function(e,t,n){const r=e.getTime();return(0,c.addLeadingZeros)(r,t.length)}}},30803:(e,t,n)=>{"use strict";t.lightFormatters=void 0;var r=n(20140);t.lightFormatters={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return(0,r.addLeadingZeros)("yy"===t?i%100:i,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):(0,r.addLeadingZeros)(n+1,2)},d:(e,t)=>(0,r.addLeadingZeros)(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>(0,r.addLeadingZeros)(e.getHours()%12||12,t.length),H:(e,t)=>(0,r.addLeadingZeros)(e.getHours(),t.length),m:(e,t)=>(0,r.addLeadingZeros)(e.getMinutes(),t.length),s:(e,t)=>(0,r.addLeadingZeros)(e.getSeconds(),t.length),S(e,t){const n=t.length,i=e.getMilliseconds(),o=Math.trunc(i*Math.pow(10,n-3));return(0,r.addLeadingZeros)(o,t.length)}}},49711:(e,t)=>{"use strict";t.longFormatters=void 0;const n=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};t.longFormatters={p:r,P:(e,t)=>{const i=e.match(/(P+)(p+)?/)||[],o=i[1],s=i[2];if(!s)return n(e,t);let a;switch(o){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",n(o,t)).replace("{{time}}",r(s,t))}}},79311:(e,t)=>{"use strict";t.getRoundingMethod=function(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return 0===n?0:n}}},89967:(e,t,n)=>{"use strict";t.getTimezoneOffsetInMilliseconds=function(e){const t=(0,r.toDate)(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n};var r=n(41944)},80874:(e,t)=>{"use strict";t.isProtectedDayOfYearToken=function(e){return n.test(e)},t.isProtectedWeekYearToken=function(e){return r.test(e)},t.warnOrThrowProtectedError=function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),i.includes(e))throw new RangeError(r)};const n=/^D+$/,r=/^Y+$/,i=["D","DD","YY","YYYY"]},16930:(e,t,n)=>{"use strict";t.add=function(e,t){const{years:n=0,months:a=0,weeks:c=0,days:l=0,hours:u=0,minutes:d=0,seconds:h=0}=t,p=(0,s.toDate)(e),f=a||n?(0,i.addMonths)(p,a+12*n):p,m=l||c?(0,r.addDays)(f,l+7*c):f,g=1e3*(h+60*(d+60*u));return(0,o.constructFrom)(e,m.getTime()+g)};var r=n(13449),i=n(12513),o=n(8180),s=n(41944)},73647:(e,t,n)=>{"use strict";t.addBusinessDays=function(e,t){const n=(0,a.toDate)(e),c=(0,s.isWeekend)(n);if(isNaN(t))return(0,r.constructFrom)(e,NaN);const l=n.getHours(),u=t<0?-1:1,d=Math.trunc(t/5);n.setDate(n.getDate()+7*d);let h=Math.abs(t%5);for(;h>0;)n.setDate(n.getDate()+u),(0,s.isWeekend)(n)||(h-=1);return c&&(0,s.isWeekend)(n)&&0!==t&&((0,i.isSaturday)(n)&&n.setDate(n.getDate()+(u<0?2:-1)),(0,o.isSunday)(n)&&n.setDate(n.getDate()+(u<0?1:-2))),n.setHours(l),n};var r=n(8180),i=n(16966),o=n(5405),s=n(15636),a=n(41944)},13449:(e,t,n)=>{"use strict";t.addDays=function(e,t){const n=(0,r.toDate)(e);return isNaN(t)?(0,i.constructFrom)(e,NaN):t?(n.setDate(n.getDate()+t),n):n};var r=n(41944),i=n(8180)},42231:(e,t,n)=>{"use strict";t.addHours=function(e,t){return(0,r.addMilliseconds)(e,t*i.millisecondsInHour)};var r=n(10540),i=n(63680)},24887:(e,t,n)=>{"use strict";t.addISOWeekYears=function(e,t){return(0,i.setISOWeekYear)(e,(0,r.getISOWeekYear)(e)+t)};var r=n(63173),i=n(89289)},10540:(e,t,n)=>{"use strict";t.addMilliseconds=function(e,t){const n=+(0,r.toDate)(e);return(0,i.constructFrom)(e,n+t)};var r=n(41944),i=n(8180)},28053:(e,t,n)=>{"use strict";t.addMinutes=function(e,t){return(0,r.addMilliseconds)(e,t*i.millisecondsInMinute)};var r=n(10540),i=n(63680)},12513:(e,t,n)=>{"use strict";t.addMonths=function(e,t){const n=(0,r.toDate)(e);if(isNaN(t))return(0,i.constructFrom)(e,NaN);if(!t)return n;const o=n.getDate(),s=(0,i.constructFrom)(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);return o>=s.getDate()?s:(n.setFullYear(s.getFullYear(),s.getMonth(),o),n)};var r=n(41944),i=n(8180)},90047:(e,t,n)=>{"use strict";t.addQuarters=function(e,t){const n=3*t;return(0,r.addMonths)(e,n)};var r=n(12513)},88009:(e,t,n)=>{"use strict";t.addSeconds=function(e,t){return(0,r.addMilliseconds)(e,1e3*t)};var r=n(10540)},67145:(e,t,n)=>{"use strict";t.addWeeks=function(e,t){const n=7*t;return(0,r.addDays)(e,n)};var r=n(13449)},71706:(e,t,n)=>{"use strict";t.addYears=function(e,t){return(0,r.addMonths)(e,12*t)};var r=n(12513)},52514:(e,t,n)=>{"use strict";t.areIntervalsOverlapping=function(e,t,n){const[i,o]=[+(0,r.toDate)(e.start),+(0,r.toDate)(e.end)].sort(((e,t)=>e-t)),[s,a]=[+(0,r.toDate)(t.start),+(0,r.toDate)(t.end)].sort(((e,t)=>e-t));return n?.inclusive?i<=a&&s<=o:i<a&&s<o};var r=n(41944)},90874:(e,t,n)=>{"use strict";t.clamp=function(e,t){return(0,i.min)([(0,r.max)([e,t.start]),t.end])};var r=n(67571),i=n(91521)},53741:(e,t,n)=>{"use strict";t.closestIndexTo=function(e,t){const n=(0,r.toDate)(e);if(isNaN(Number(n)))return NaN;const i=n.getTime();let o,s;return t.forEach((function(e,t){const n=(0,r.toDate)(e);if(isNaN(Number(n)))return o=NaN,void(s=NaN);const a=Math.abs(i-n.getTime());(null==o||a<s)&&(o=t,s=a)})),o};var r=n(41944)},15335:(e,t,n)=>{"use strict";t.closestTo=function(e,t){const n=(0,i.toDate)(e);if(isNaN(Number(n)))return(0,r.constructFrom)(e,NaN);const o=n.getTime();let s,a;return t.forEach((t=>{const n=(0,i.toDate)(t);if(isNaN(Number(n)))return s=(0,r.constructFrom)(e,NaN),void(a=NaN);const c=Math.abs(o-n.getTime());(null==s||c<a)&&(s=n,a=c)})),s};var r=n(8180),i=n(41944)},49217:(e,t,n)=>{"use strict";t.compareAsc=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t),o=n.getTime()-i.getTime();return o<0?-1:o>0?1:o};var r=n(41944)},60179:(e,t,n)=>{"use strict";t.compareDesc=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t),o=n.getTime()-i.getTime();return o>0?-1:o<0?1:o};var r=n(41944)},63680:(e,t)=>{"use strict";t.secondsInYear=t.secondsInWeek=t.secondsInQuarter=t.secondsInMonth=t.secondsInMinute=t.secondsInHour=t.secondsInDay=t.quartersInYear=t.monthsInYear=t.monthsInQuarter=t.minutesInYear=t.minutesInMonth=t.minutesInHour=t.minutesInDay=t.minTime=t.millisecondsInWeek=t.millisecondsInSecond=t.millisecondsInMinute=t.millisecondsInHour=t.millisecondsInDay=t.maxTime=t.daysInYear=t.daysInWeek=void 0,t.daysInWeek=7;const n=t.daysInYear=365.2425,r=t.maxTime=24*Math.pow(10,8)*60*60*1e3,i=(t.minTime=-r,t.millisecondsInWeek=6048e5,t.millisecondsInDay=864e5,t.millisecondsInMinute=6e4,t.millisecondsInHour=36e5,t.millisecondsInSecond=1e3,t.minutesInYear=525600,t.minutesInMonth=43200,t.minutesInDay=1440,t.minutesInHour=60,t.monthsInQuarter=3,t.monthsInYear=12,t.quartersInYear=4,t.secondsInHour=3600),o=(t.secondsInMinute=60,t.secondsInDay=24*i),s=(t.secondsInWeek=7*o,t.secondsInYear=o*n),a=t.secondsInMonth=s/12;t.secondsInQuarter=3*a},8180:(e,t)=>{"use strict";t.constructFrom=function(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}},58638:(e,t,n)=>{"use strict";t.constructNow=function(e){return(0,r.constructFrom)(e,Date.now())};var r=n(8180)},45222:(e,t,n)=>{"use strict";t.daysToWeeks=function(e){const t=e/r.daysInWeek,n=Math.trunc(t);return 0===n?0:n};var r=n(63680)},32792:(e,t,n)=>{"use strict";t.differenceInBusinessDays=function(e,t){const n=(0,c.toDate)(e);let l=(0,c.toDate)(t);if(!(0,s.isValid)(n)||!(0,s.isValid)(l))return NaN;const u=(0,i.differenceInCalendarDays)(n,l),d=u<0?-1:1,h=Math.trunc(u/7);let p=5*h;for(l=(0,r.addDays)(l,7*h);!(0,o.isSameDay)(n,l);)p+=(0,a.isWeekend)(l)?0:d,l=(0,r.addDays)(l,d);return 0===p?0:p};var r=n(13449),i=n(98444),o=n(13861),s=n(54927),a=n(15636),c=n(41944)},98444:(e,t,n)=>{"use strict";t.differenceInCalendarDays=function(e,t){const n=(0,i.startOfDay)(e),s=(0,i.startOfDay)(t),a=+n-(0,o.getTimezoneOffsetInMilliseconds)(n),c=+s-(0,o.getTimezoneOffsetInMilliseconds)(s);return Math.round((a-c)/r.millisecondsInDay)};var r=n(63680),i=n(26548),o=n(89967)},94482:(e,t,n)=>{"use strict";t.differenceInCalendarISOWeekYears=function(e,t){return(0,r.getISOWeekYear)(e)-(0,r.getISOWeekYear)(t)};var r=n(63173)},74953:(e,t,n)=>{"use strict";t.differenceInCalendarISOWeeks=function(e,t){const n=(0,i.startOfISOWeek)(e),s=(0,i.startOfISOWeek)(t),a=+n-(0,o.getTimezoneOffsetInMilliseconds)(n),c=+s-(0,o.getTimezoneOffsetInMilliseconds)(s);return Math.round((a-c)/r.millisecondsInWeek)};var r=n(63680),i=n(30683),o=n(89967)},16832:(e,t,n)=>{"use strict";t.differenceInCalendarMonths=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return 12*(n.getFullYear()-i.getFullYear())+(n.getMonth()-i.getMonth())};var r=n(41944)},25442:(e,t,n)=>{"use strict";t.differenceInCalendarQuarters=function(e,t){const n=(0,i.toDate)(e),o=(0,i.toDate)(t);return 4*(n.getFullYear()-o.getFullYear())+((0,r.getQuarter)(n)-(0,r.getQuarter)(o))};var r=n(14193),i=n(41944)},39690:(e,t,n)=>{"use strict";t.differenceInCalendarWeeks=function(e,t,n){const s=(0,i.startOfWeek)(e,n),a=(0,i.startOfWeek)(t,n),c=+s-(0,o.getTimezoneOffsetInMilliseconds)(s),l=+a-(0,o.getTimezoneOffsetInMilliseconds)(a);return Math.round((c-l)/r.millisecondsInWeek)};var r=n(63680),i=n(7944),o=n(89967)},39637:(e,t,n)=>{"use strict";t.differenceInCalendarYears=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return n.getFullYear()-i.getFullYear()};var r=n(41944)},78986:(e,t,n)=>{"use strict";t.differenceInDays=function(e,t){const n=(0,i.toDate)(e),s=(0,i.toDate)(t),a=o(n,s),c=Math.abs((0,r.differenceInCalendarDays)(n,s));n.setDate(n.getDate()-a*c);const l=a*(c-Number(o(n,s)===-a));return 0===l?0:l};var r=n(98444),i=n(41944);function o(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}},41850:(e,t,n)=>{"use strict";t.differenceInHours=function(e,t,n){const s=(0,o.differenceInMilliseconds)(e,t)/i.millisecondsInHour;return(0,r.getRoundingMethod)(n?.roundingMethod)(s)};var r=n(79311),i=n(63680),o=n(13299)},35004:(e,t,n)=>{"use strict";t.differenceInISOWeekYears=function(e,t){let n=(0,s.toDate)(e);const a=(0,s.toDate)(t),c=(0,r.compareAsc)(n,a),l=Math.abs((0,i.differenceInCalendarISOWeekYears)(n,a));n=(0,o.subISOWeekYears)(n,c*l);const u=c*(l-Number((0,r.compareAsc)(n,a)===-c));return 0===u?0:u};var r=n(49217),i=n(94482),o=n(68630),s=n(41944)},13299:(e,t,n)=>{"use strict";t.differenceInMilliseconds=function(e,t){return+(0,r.toDate)(e)-+(0,r.toDate)(t)};var r=n(41944)},21404:(e,t,n)=>{"use strict";t.differenceInMinutes=function(e,t,n){const s=(0,o.differenceInMilliseconds)(e,t)/i.millisecondsInMinute;return(0,r.getRoundingMethod)(n?.roundingMethod)(s)};var r=n(79311),i=n(63680),o=n(13299)},56902:(e,t,n)=>{"use strict";t.differenceInMonths=function(e,t){const n=(0,s.toDate)(e),a=(0,s.toDate)(t),c=(0,r.compareAsc)(n,a),l=Math.abs((0,i.differenceInCalendarMonths)(n,a));let u;if(l<1)u=0;else{1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-c*l);let t=(0,r.compareAsc)(n,a)===-c;(0,o.isLastDayOfMonth)((0,s.toDate)(e))&&1===l&&1===(0,r.compareAsc)(e,a)&&(t=!1),u=c*(l-Number(t))}return 0===u?0:u};var r=n(49217),i=n(16832),o=n(35674),s=n(41944)},82320:(e,t,n)=>{"use strict";t.differenceInQuarters=function(e,t,n){const o=(0,i.differenceInMonths)(e,t)/3;return(0,r.getRoundingMethod)(n?.roundingMethod)(o)};var r=n(79311),i=n(56902)},85772:(e,t,n)=>{"use strict";t.differenceInSeconds=function(e,t,n){const o=(0,i.differenceInMilliseconds)(e,t)/1e3;return(0,r.getRoundingMethod)(n?.roundingMethod)(o)};var r=n(79311),i=n(13299)},84052:(e,t,n)=>{"use strict";t.differenceInWeeks=function(e,t,n){const o=(0,i.differenceInDays)(e,t)/7;return(0,r.getRoundingMethod)(n?.roundingMethod)(o)};var r=n(79311),i=n(78986)},81515:(e,t,n)=>{"use strict";t.differenceInYears=function(e,t){const n=(0,o.toDate)(e),s=(0,o.toDate)(t),a=(0,r.compareAsc)(n,s),c=Math.abs((0,i.differenceInCalendarYears)(n,s));n.setFullYear(1584),s.setFullYear(1584);const l=a*(c-+((0,r.compareAsc)(n,s)===-a));return 0===l?0:l};var r=n(49217),i=n(39637),o=n(41944)},11288:(e,t,n)=>{"use strict";t.eachDayOfInterval=function(e,t){const n=(0,r.toDate)(e.start),i=(0,r.toDate)(e.end);let o=+n>+i;const s=o?+n:+i,a=o?i:n;a.setHours(0,0,0,0);let c=t?.step??1;if(!c)return[];c<0&&(c=-c,o=!o);const l=[];for(;+a<=s;)l.push((0,r.toDate)(a)),a.setDate(a.getDate()+c),a.setHours(0,0,0,0);return o?l.reverse():l};var r=n(41944)},69638:(e,t,n)=>{"use strict";t.eachHourOfInterval=function(e,t){const n=(0,i.toDate)(e.start),o=(0,i.toDate)(e.end);let s=+n>+o;const a=s?+n:+o;let c=s?o:n;c.setMinutes(0,0,0);let l=t?.step??1;if(!l)return[];l<0&&(l=-l,s=!s);const u=[];for(;+c<=a;)u.push((0,i.toDate)(c)),c=(0,r.addHours)(c,l);return s?u.reverse():u};var r=n(42231),i=n(41944)},21940:(e,t,n)=>{"use strict";t.eachMinuteOfInterval=function(e,t){const n=(0,i.startOfMinute)((0,o.toDate)(e.start)),s=(0,o.toDate)(e.end);let a=+n>+s;const c=a?+n:+s;let l=a?s:n,u=t?.step??1;if(!u)return[];u<0&&(u=-u,a=!a);const d=[];for(;+l<=c;)d.push((0,o.toDate)(l)),l=(0,r.addMinutes)(l,u);return a?d.reverse():d};var r=n(28053),i=n(93888),o=n(41944)},95104:(e,t,n)=>{"use strict";t.eachMonthOfInterval=function(e,t){const n=(0,r.toDate)(e.start),i=(0,r.toDate)(e.end);let o=+n>+i;const s=o?+n:+i,a=o?i:n;a.setHours(0,0,0,0),a.setDate(1);let c=t?.step??1;if(!c)return[];c<0&&(c=-c,o=!o);const l=[];for(;+a<=s;)l.push((0,r.toDate)(a)),a.setMonth(a.getMonth()+c);return o?l.reverse():l};var r=n(41944)},94546:(e,t,n)=>{"use strict";t.eachQuarterOfInterval=function(e,t){const n=(0,o.toDate)(e.start),s=(0,o.toDate)(e.end);let a=+n>+s;const c=a?+(0,i.startOfQuarter)(n):+(0,i.startOfQuarter)(s);let l=a?(0,i.startOfQuarter)(s):(0,i.startOfQuarter)(n),u=t?.step??1;if(!u)return[];u<0&&(u=-u,a=!a);const d=[];for(;+l<=c;)d.push((0,o.toDate)(l)),l=(0,r.addQuarters)(l,u);return a?d.reverse():d};var r=n(90047),i=n(15402),o=n(41944)},31356:(e,t,n)=>{"use strict";t.eachWeekOfInterval=function(e,t){const n=(0,o.toDate)(e.start),s=(0,o.toDate)(e.end);let a=+n>+s;const c=a?(0,i.startOfWeek)(s,t):(0,i.startOfWeek)(n,t),l=a?(0,i.startOfWeek)(n,t):(0,i.startOfWeek)(s,t);c.setHours(15),l.setHours(15);const u=+l.getTime();let d=c,h=t?.step??1;if(!h)return[];h<0&&(h=-h,a=!a);const p=[];for(;+d<=u;)d.setHours(0),p.push((0,o.toDate)(d)),d=(0,r.addWeeks)(d,h),d.setHours(15);return a?p.reverse():p};var r=n(67145),i=n(7944),o=n(41944)},58679:(e,t,n)=>{"use strict";t.eachWeekendOfInterval=function(e){const t=(0,r.eachDayOfInterval)(e),n=[];let o=0;for(;o<t.length;){const e=t[o++];(0,i.isWeekend)(e)&&n.push(e)}return n};var r=n(11288),i=n(15636)},73094:(e,t,n)=>{"use strict";t.eachWeekendOfMonth=function(e){const t=(0,o.startOfMonth)(e),n=(0,i.endOfMonth)(e);return(0,r.eachWeekendOfInterval)({start:t,end:n})};var r=n(58679),i=n(36875),o=n(30068)},87587:(e,t,n)=>{"use strict";t.eachWeekendOfYear=function(e){const t=(0,o.startOfYear)(e),n=(0,i.endOfYear)(e);return(0,r.eachWeekendOfInterval)({start:t,end:n})};var r=n(58679),i=n(28236),o=n(77377)},25701:(e,t,n)=>{"use strict";t.eachYearOfInterval=function(e,t){const n=(0,r.toDate)(e.start),i=(0,r.toDate)(e.end);let o=+n>+i;const s=o?+n:+i,a=o?i:n;a.setHours(0,0,0,0),a.setMonth(0,1);let c=t?.step??1;if(!c)return[];c<0&&(c=-c,o=!o);const l=[];for(;+a<=s;)l.push((0,r.toDate)(a)),a.setFullYear(a.getFullYear()+c);return o?l.reverse():l};var r=n(41944)},8167:(e,t,n)=>{"use strict";t.endOfDay=function(e){const t=(0,r.toDate)(e);return t.setHours(23,59,59,999),t};var r=n(41944)},63433:(e,t,n)=>{"use strict";t.endOfDecade=function(e){const t=(0,r.toDate)(e),n=t.getFullYear(),i=9+10*Math.floor(n/10);return t.setFullYear(i,11,31),t.setHours(23,59,59,999),t};var r=n(41944)},67735:(e,t,n)=>{"use strict";t.endOfHour=function(e){const t=(0,r.toDate)(e);return t.setMinutes(59,59,999),t};var r=n(41944)},31808:(e,t,n)=>{"use strict";t.endOfISOWeek=function(e){return(0,r.endOfWeek)(e,{weekStartsOn:1})};var r=n(49097)},193:(e,t,n)=>{"use strict";t.endOfISOWeekYear=function(e){const t=(0,r.getISOWeekYear)(e),n=(0,o.constructFrom)(e,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const s=(0,i.startOfISOWeek)(n);return s.setMilliseconds(s.getMilliseconds()-1),s};var r=n(63173),i=n(30683),o=n(8180)},36609:(e,t,n)=>{"use strict";t.endOfMinute=function(e){const t=(0,r.toDate)(e);return t.setSeconds(59,999),t};var r=n(41944)},36875:(e,t,n)=>{"use strict";t.endOfMonth=function(e){const t=(0,r.toDate)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t};var r=n(41944)},86125:(e,t,n)=>{"use strict";t.endOfQuarter=function(e){const t=(0,r.toDate)(e),n=t.getMonth(),i=n-n%3+3;return t.setMonth(i,0),t.setHours(23,59,59,999),t};var r=n(41944)},23169:(e,t,n)=>{"use strict";t.endOfSecond=function(e){const t=(0,r.toDate)(e);return t.setMilliseconds(999),t};var r=n(41944)},71216:(e,t,n)=>{"use strict";t.endOfToday=function(){return(0,r.endOfDay)(Date.now())};var r=n(8167)},29146:(e,t)=>{"use strict";t.endOfTomorrow=function(){const e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r+1),i.setHours(23,59,59,999),i}},49097:(e,t,n)=>{"use strict";t.endOfWeek=function(e,t){const n=(0,i.getDefaultOptions)(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=(0,r.toDate)(e),a=s.getDay(),c=6+(a<o?-7:0)-(a-o);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s};var r=n(41944),i=n(83093)},28236:(e,t,n)=>{"use strict";t.endOfYear=function(e){const t=(0,r.toDate)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t};var r=n(41944)},77669:(e,t)=>{"use strict";t.endOfYesterday=function(){const e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r-1),i.setHours(23,59,59,999),i}},58882:(e,t,n)=>{"use strict";t.format=t.formatDate=function(e,t,n){const h=(0,i.getDefaultOptions)(),p=n?.locale??h.locale??r.defaultLocale,g=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??h.firstWeekContainsDate??h.locale?.options?.firstWeekContainsDate??1,y=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??h.weekStartsOn??h.locale?.options?.weekStartsOn??0,v=(0,l.toDate)(e);if(!(0,c.isValid)(v))throw new RangeError("Invalid time value");let b=t.match(d).map((e=>{const t=e[0];return"p"===t||"P"===t?(0,s.longFormatters[t])(e,p.formatLong):e})).join("").match(u).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:m(e)};if(o.formatters[t])return{isToken:!0,value:e};if(t.match(f))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));p.localize.preprocessor&&(b=p.localize.preprocessor(v,b));const x={firstWeekContainsDate:g,weekStartsOn:y,locale:p};return b.map((r=>{if(!r.isToken)return r.value;const i=r.value;return(!n?.useAdditionalWeekYearTokens&&(0,a.isProtectedWeekYearToken)(i)||!n?.useAdditionalDayOfYearTokens&&(0,a.isProtectedDayOfYearToken)(i))&&(0,a.warnOrThrowProtectedError)(i,t,String(e)),(0,o.formatters[i[0]])(v,i,p.localize,x)})).join("")},Object.defineProperty(t,"formatters",{enumerable:!0,get:function(){return o.formatters}}),Object.defineProperty(t,"longFormatters",{enumerable:!0,get:function(){return s.longFormatters}});var r=n(32790),i=n(83093),o=n(13065),s=n(49711),a=n(80874),c=n(54927),l=n(41944);const u=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,d=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,h=/^'([^]*?)'?$/,p=/''/g,f=/[a-zA-Z]/;function m(e){const t=e.match(h);return t?t[1].replace(p,"'"):e}},16353:(e,t,n)=>{"use strict";t.formatDistance=function(e,t,n){const d=(0,l.getDefaultOptions)(),h=n?.locale??d.locale??c.defaultLocale,p=(0,r.compareAsc)(e,t);if(isNaN(p))throw new RangeError("Invalid time value");const f=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:p});let m,g;p>0?(m=(0,a.toDate)(t),g=(0,a.toDate)(e)):(m=(0,a.toDate)(e),g=(0,a.toDate)(t));const y=(0,s.differenceInSeconds)(g,m),v=((0,u.getTimezoneOffsetInMilliseconds)(g)-(0,u.getTimezoneOffsetInMilliseconds)(m))/1e3,b=Math.round((y-v)/60);let x;if(b<2)return n?.includeSeconds?y<5?h.formatDistance("lessThanXSeconds",5,f):y<10?h.formatDistance("lessThanXSeconds",10,f):y<20?h.formatDistance("lessThanXSeconds",20,f):y<40?h.formatDistance("halfAMinute",0,f):y<60?h.formatDistance("lessThanXMinutes",1,f):h.formatDistance("xMinutes",1,f):0===b?h.formatDistance("lessThanXMinutes",1,f):h.formatDistance("xMinutes",b,f);if(b<45)return h.formatDistance("xMinutes",b,f);if(b<90)return h.formatDistance("aboutXHours",1,f);if(b<i.minutesInDay){const e=Math.round(b/60);return h.formatDistance("aboutXHours",e,f)}if(b<2520)return h.formatDistance("xDays",1,f);if(b<i.minutesInMonth){const e=Math.round(b/i.minutesInDay);return h.formatDistance("xDays",e,f)}if(b<2*i.minutesInMonth)return x=Math.round(b/i.minutesInMonth),h.formatDistance("aboutXMonths",x,f);if(x=(0,o.differenceInMonths)(g,m),x<12){const e=Math.round(b/i.minutesInMonth);return h.formatDistance("xMonths",e,f)}{const e=x%12,t=Math.trunc(x/12);return e<3?h.formatDistance("aboutXYears",t,f):e<9?h.formatDistance("overXYears",t,f):h.formatDistance("almostXYears",t+1,f)}};var r=n(49217),i=n(63680),o=n(56902),s=n(85772),a=n(41944),c=n(32790),l=n(83093),u=n(89967)},56276:(e,t,n)=>{"use strict";t.formatDistanceStrict=function(e,t,n){const u=(0,i.getDefaultOptions)(),d=n?.locale??u.locale??r.defaultLocale,h=(0,a.compareAsc)(e,t);if(isNaN(h))throw new RangeError("Invalid time value");const p=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:h});let f,m;h>0?(f=(0,l.toDate)(t),m=(0,l.toDate)(e)):(f=(0,l.toDate)(e),m=(0,l.toDate)(t));const g=(0,o.getRoundingMethod)(n?.roundingMethod??"round"),y=m.getTime()-f.getTime(),v=y/c.millisecondsInMinute,b=(y-((0,s.getTimezoneOffsetInMilliseconds)(m)-(0,s.getTimezoneOffsetInMilliseconds)(f)))/c.millisecondsInMinute,x=n?.unit;let O;if(O=x||(v<1?"second":v<60?"minute":v<c.minutesInDay?"hour":b<c.minutesInMonth?"day":b<c.minutesInYear?"month":"year"),"second"===O){const e=g(y/1e3);return d.formatDistance("xSeconds",e,p)}if("minute"===O){const e=g(v);return d.formatDistance("xMinutes",e,p)}if("hour"===O){const e=g(v/60);return d.formatDistance("xHours",e,p)}if("day"===O){const e=g(b/c.minutesInDay);return d.formatDistance("xDays",e,p)}if("month"===O){const e=g(b/c.minutesInMonth);return 12===e&&"month"!==x?d.formatDistance("xYears",1,p):d.formatDistance("xMonths",e,p)}{const e=g(b/c.minutesInYear);return d.formatDistance("xYears",e,p)}};var r=n(32790),i=n(83093),o=n(79311),s=n(89967),a=n(49217),c=n(63680),l=n(41944)},9158:(e,t,n)=>{"use strict";t.formatDistanceToNow=function(e,t){return(0,i.formatDistance)(e,(0,r.constructNow)(e),t)};var r=n(58638),i=n(16353)},85291:(e,t,n)=>{"use strict";t.formatDistanceToNowStrict=function(e,t){return(0,r.formatDistanceStrict)(e,(0,i.constructNow)(e),t)};var r=n(56276),i=n(58638)},48714:(e,t,n)=>{"use strict";t.formatDuration=function(e,t){const n=(0,i.getDefaultOptions)(),s=t?.locale??n.locale??r.defaultLocale,a=t?.format??o,c=t?.zero??!1,l=t?.delimiter??" ";return s.formatDistance?a.reduce(((t,n)=>{const r=`x${n.replace(/(^.)/,(e=>e.toUpperCase()))}`,i=e[n];return void 0!==i&&(c||e[n])?t.concat(s.formatDistance(r,i)):t}),[]).join(l):""};var r=n(32790),i=n(83093);const o=["years","months","weeks","days","hours","minutes","seconds"]},213:(e,t,n)=>{"use strict";t.formatISO=function(e,t){const n=(0,r.toDate)(e);if(isNaN(n.getTime()))throw new RangeError("Invalid time value");const o=t?.format??"extended",s=t?.representation??"complete";let a="",c="";const l="extended"===o?"-":"",u="extended"===o?":":"";if("time"!==s){const e=(0,i.addLeadingZeros)(n.getDate(),2),t=(0,i.addLeadingZeros)(n.getMonth()+1,2);a=`${(0,i.addLeadingZeros)(n.getFullYear(),4)}${l}${t}${l}${e}`}if("date"!==s){const e=n.getTimezoneOffset();if(0!==e){const t=Math.abs(e);c=`${e<0?"+":"-"}${(0,i.addLeadingZeros)(Math.trunc(t/60),2)}:${(0,i.addLeadingZeros)(t%60,2)}`}else c="Z";a=`${a}${""===a?"":"T"}${[(0,i.addLeadingZeros)(n.getHours(),2),(0,i.addLeadingZeros)(n.getMinutes(),2),(0,i.addLeadingZeros)(n.getSeconds(),2)].join(u)}${c}`}return a};var r=n(41944),i=n(20140)},25680:(e,t,n)=>{"use strict";t.formatISO9075=function(e,t){const n=(0,i.toDate)(e);if(!(0,r.isValid)(n))throw new RangeError("Invalid time value");const s=t?.format??"extended",a=t?.representation??"complete";let c="";const l="extended"===s?"-":"",u="extended"===s?":":"";if("time"!==a){const e=(0,o.addLeadingZeros)(n.getDate(),2),t=(0,o.addLeadingZeros)(n.getMonth()+1,2);c=`${(0,o.addLeadingZeros)(n.getFullYear(),4)}${l}${t}${l}${e}`}return"date"!==a&&(c=`${c}${""===c?"":" "}${(0,o.addLeadingZeros)(n.getHours(),2)}${u}${(0,o.addLeadingZeros)(n.getMinutes(),2)}${u}${(0,o.addLeadingZeros)(n.getSeconds(),2)}`),c};var r=n(54927),i=n(41944),o=n(20140)},47489:(e,t)=>{"use strict";t.formatISODuration=function(e){const{years:t=0,months:n=0,days:r=0,hours:i=0,minutes:o=0,seconds:s=0}=e;return`P${t}Y${n}M${r}DT${i}H${o}M${s}S`}},44031:(e,t,n)=>{"use strict";t.formatRFC3339=function(e,t){const n=(0,i.toDate)(e);if(!(0,r.isValid)(n))throw new RangeError("Invalid time value");const s=t?.fractionDigits??0,a=(0,o.addLeadingZeros)(n.getDate(),2),c=(0,o.addLeadingZeros)(n.getMonth()+1,2),l=n.getFullYear(),u=(0,o.addLeadingZeros)(n.getHours(),2),d=(0,o.addLeadingZeros)(n.getMinutes(),2),h=(0,o.addLeadingZeros)(n.getSeconds(),2);let p="";if(s>0){const e=n.getMilliseconds(),t=Math.trunc(e*Math.pow(10,s-3));p="."+(0,o.addLeadingZeros)(t,s)}let f="";const m=n.getTimezoneOffset();if(0!==m){const e=Math.abs(m);f=`${m<0?"+":"-"}${(0,o.addLeadingZeros)(Math.trunc(e/60),2)}:${(0,o.addLeadingZeros)(e%60,2)}`}else f="Z";return`${l}-${c}-${a}T${u}:${d}:${h}${p}${f}`};var r=n(54927),i=n(41944),o=n(20140)},13468:(e,t,n)=>{"use strict";t.formatRFC7231=function(e){const t=(0,i.toDate)(e);if(!(0,r.isValid)(t))throw new RangeError("Invalid time value");return`${s[t.getUTCDay()]}, ${(0,o.addLeadingZeros)(t.getUTCDate(),2)} ${a[t.getUTCMonth()]} ${t.getUTCFullYear()} ${(0,o.addLeadingZeros)(t.getUTCHours(),2)}:${(0,o.addLeadingZeros)(t.getUTCMinutes(),2)}:${(0,o.addLeadingZeros)(t.getUTCSeconds(),2)} GMT`};var r=n(54927),i=n(41944),o=n(20140);const s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},43962:(e,t,n)=>{"use strict";t.formatRelative=function(e,t,n){const c=(0,o.toDate)(e),l=(0,o.toDate)(t),u=(0,a.getDefaultOptions)(),d=n?.locale??u.locale??s.defaultLocale,h=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0,p=(0,r.differenceInCalendarDays)(c,l);if(isNaN(p))throw new RangeError("Invalid time value");let f;f=p<-6?"other":p<-1?"lastWeek":p<0?"yesterday":p<1?"today":p<2?"tomorrow":p<7?"nextWeek":"other";const m=d.formatRelative(f,c,l,{locale:d,weekStartsOn:h});return(0,i.format)(c,m,{locale:d,weekStartsOn:h})};var r=n(98444),i=n(58882),o=n(41944),s=n(32790),a=n(83093)},71870:(e,t,n)=>{"use strict";t.fromUnixTime=function(e){return(0,r.toDate)(1e3*e)};var r=n(41944)},40637:(e,t,n)=>{"use strict";t.getDate=function(e){return(0,r.toDate)(e).getDate()};var r=n(41944)},20299:(e,t,n)=>{"use strict";t.getDay=function(e){return(0,r.toDate)(e).getDay()};var r=n(41944)},56539:(e,t,n)=>{"use strict";t.getDayOfYear=function(e){const t=(0,o.toDate)(e);return(0,r.differenceInCalendarDays)(t,(0,i.startOfYear)(t))+1};var r=n(98444),i=n(77377),o=n(41944)},87279:(e,t,n)=>{"use strict";t.getDaysInMonth=function(e){const t=(0,r.toDate)(e),n=t.getFullYear(),o=t.getMonth(),s=(0,i.constructFrom)(e,0);return s.setFullYear(n,o+1,0),s.setHours(0,0,0,0),s.getDate()};var r=n(41944),i=n(8180)},31408:(e,t,n)=>{"use strict";t.getDaysInYear=function(e){const t=(0,i.toDate)(e);return"Invalid Date"===String(new Date(t))?NaN:(0,r.isLeapYear)(t)?366:365};var r=n(80130),i=n(41944)},29149:(e,t,n)=>{"use strict";t.getDecade=function(e){const t=(0,r.toDate)(e).getFullYear();return 10*Math.floor(t/10)};var r=n(41944)},55436:(e,t,n)=>{"use strict";t.getDefaultOptions=function(){return Object.assign({},(0,r.getDefaultOptions)())};var r=n(83093)},54398:(e,t,n)=>{"use strict";t.getHours=function(e){return(0,r.toDate)(e).getHours()};var r=n(41944)},74560:(e,t,n)=>{"use strict";t.getISODay=function(e){let t=(0,r.toDate)(e).getDay();return 0===t&&(t=7),t};var r=n(41944)},2844:(e,t,n)=>{"use strict";t.getISOWeek=function(e){const t=(0,s.toDate)(e),n=+(0,i.startOfISOWeek)(t)-+(0,o.startOfISOWeekYear)(t);return Math.round(n/r.millisecondsInWeek)+1};var r=n(63680),i=n(30683),o=n(70766),s=n(41944)},63173:(e,t,n)=>{"use strict";t.getISOWeekYear=function(e){const t=(0,o.toDate)(e),n=t.getFullYear(),s=(0,r.constructFrom)(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=(0,i.startOfISOWeek)(s),c=(0,r.constructFrom)(e,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const l=(0,i.startOfISOWeek)(c);return t.getTime()>=a.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1};var r=n(8180),i=n(30683),o=n(41944)},33153:(e,t,n)=>{"use strict";t.getISOWeeksInYear=function(e){const t=(0,o.startOfISOWeekYear)(e),n=+(0,o.startOfISOWeekYear)((0,r.addWeeks)(t,60))-+t;return Math.round(n/i.millisecondsInWeek)};var r=n(67145),i=n(63680),o=n(70766)},15655:(e,t,n)=>{"use strict";t.getMilliseconds=function(e){return(0,r.toDate)(e).getMilliseconds()};var r=n(41944)},68584:(e,t,n)=>{"use strict";t.getMinutes=function(e){return(0,r.toDate)(e).getMinutes()};var r=n(41944)},10887:(e,t,n)=>{"use strict";t.getMonth=function(e){return(0,r.toDate)(e).getMonth()};var r=n(41944)},19658:(e,t,n)=>{"use strict";t.getOverlappingDaysInIntervals=function(e,t){const[n,s]=[+(0,o.toDate)(e.start),+(0,o.toDate)(e.end)].sort(((e,t)=>e-t)),[a,c]=[+(0,o.toDate)(t.start),+(0,o.toDate)(t.end)].sort(((e,t)=>e-t));if(!(n<c&&a<s))return 0;const l=a<n?n:a,u=l-(0,r.getTimezoneOffsetInMilliseconds)(l),d=c>s?s:c,h=d-(0,r.getTimezoneOffsetInMilliseconds)(d);return Math.ceil((h-u)/i.millisecondsInDay)};var r=n(89967),i=n(63680),o=n(41944)},14193:(e,t,n)=>{"use strict";t.getQuarter=function(e){const t=(0,r.toDate)(e);return Math.trunc(t.getMonth()/3)+1};var r=n(41944)},40144:(e,t,n)=>{"use strict";t.getSeconds=function(e){return(0,r.toDate)(e).getSeconds()};var r=n(41944)},15364:(e,t,n)=>{"use strict";t.getTime=function(e){return(0,r.toDate)(e).getTime()};var r=n(41944)},73406:(e,t,n)=>{"use strict";t.getUnixTime=function(e){return Math.trunc(+(0,r.toDate)(e)/1e3)};var r=n(41944)},40661:(e,t,n)=>{"use strict";t.getWeek=function(e,t){const n=(0,s.toDate)(e),a=+(0,i.startOfWeek)(n,t)-+(0,o.startOfWeekYear)(n,t);return Math.round(a/r.millisecondsInWeek)+1};var r=n(63680),i=n(7944),o=n(89),s=n(41944)},93004:(e,t,n)=>{"use strict";t.getWeekOfMonth=function(e,t){const n=(0,s.getDefaultOptions)(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=(0,r.getDate)(e);if(isNaN(c))return NaN;let l=a-(0,i.getDay)((0,o.startOfMonth)(e));l<=0&&(l+=7);const u=c-l;return Math.ceil(u/7)+1};var r=n(40637),i=n(20299),o=n(30068),s=n(83093)},26452:(e,t,n)=>{"use strict";t.getWeekYear=function(e,t){const n=(0,o.toDate)(e),a=n.getFullYear(),c=(0,s.getDefaultOptions)(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??c.firstWeekContainsDate??c.locale?.options?.firstWeekContainsDate??1,u=(0,r.constructFrom)(e,0);u.setFullYear(a+1,0,l),u.setHours(0,0,0,0);const d=(0,i.startOfWeek)(u,t),h=(0,r.constructFrom)(e,0);h.setFullYear(a,0,l),h.setHours(0,0,0,0);const p=(0,i.startOfWeek)(h,t);return n.getTime()>=d.getTime()?a+1:n.getTime()>=p.getTime()?a:a-1};var r=n(8180),i=n(7944),o=n(41944),s=n(83093)},79921:(e,t,n)=>{"use strict";t.getWeeksInMonth=function(e,t){return(0,r.differenceInCalendarWeeks)((0,i.lastDayOfMonth)(e),(0,o.startOfMonth)(e),t)+1};var r=n(39690),i=n(25158),o=n(30068)},90344:(e,t,n)=>{"use strict";t.getYear=function(e){return(0,r.toDate)(e).getFullYear()};var r=n(41944)},63137:(e,t,n)=>{"use strict";t.hoursToMilliseconds=function(e){return Math.trunc(e*r.millisecondsInHour)};var r=n(63680)},85058:(e,t,n)=>{"use strict";t.hoursToMinutes=function(e){return Math.trunc(e*r.minutesInHour)};var r=n(63680)},50286:(e,t,n)=>{"use strict";t.hoursToSeconds=function(e){return Math.trunc(e*r.secondsInHour)};var r=n(63680)},98681:(e,t,n)=>{"use strict";var r=n(16930);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=n(73647);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n(13449);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=n(42231);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var a=n(24887);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var c=n(10540);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var l=n(28053);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var u=n(12513);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var d=n(90047);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var h=n(88009);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var p=n(67145);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var f=n(71706);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var m=n(52514);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var g=n(90874);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var y=n(53741);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var v=n(15335);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var b=n(49217);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var x=n(60179);Object.keys(x).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===x[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return x[e]}}))}));var O=n(8180);Object.keys(O).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===O[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return O[e]}}))}));var w=n(58638);Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}));var S=n(45222);Object.keys(S).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===S[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return S[e]}}))}));var k=n(32792);Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===k[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}}))}));var _=n(98444);Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===_[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}}))}));var P=n(94482);Object.keys(P).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===P[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return P[e]}}))}));var E=n(74953);Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))}));var C=n(16832);Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))}));var T=n(25442);Object.keys(T).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===T[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return T[e]}}))}));var j=n(39690);Object.keys(j).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===j[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return j[e]}}))}));var I=n(39637);Object.keys(I).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===I[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return I[e]}}))}));var M=n(78986);Object.keys(M).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===M[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return M[e]}}))}));var A=n(41850);Object.keys(A).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===A[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return A[e]}}))}));var D=n(35004);Object.keys(D).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===D[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return D[e]}}))}));var $=n(13299);Object.keys($).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===$[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return $[e]}}))}));var R=n(21404);Object.keys(R).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===R[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return R[e]}}))}));var N=n(56902);Object.keys(N).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===N[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return N[e]}}))}));var L=n(82320);Object.keys(L).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===L[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return L[e]}}))}));var Q=n(85772);Object.keys(Q).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Q[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Q[e]}}))}));var z=n(84052);Object.keys(z).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===z[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return z[e]}}))}));var F=n(81515);Object.keys(F).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===F[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return F[e]}}))}));var B=n(11288);Object.keys(B).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===B[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return B[e]}}))}));var Z=n(69638);Object.keys(Z).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Z[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Z[e]}}))}));var V=n(21940);Object.keys(V).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===V[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return V[e]}}))}));var W=n(95104);Object.keys(W).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===W[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return W[e]}}))}));var U=n(94546);Object.keys(U).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===U[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return U[e]}}))}));var q=n(31356);Object.keys(q).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===q[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return q[e]}}))}));var Y=n(58679);Object.keys(Y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Y[e]}}))}));var X=n(73094);Object.keys(X).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===X[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return X[e]}}))}));var H=n(87587);Object.keys(H).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===H[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return H[e]}}))}));var G=n(25701);Object.keys(G).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===G[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return G[e]}}))}));var K=n(8167);Object.keys(K).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===K[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return K[e]}}))}));var J=n(63433);Object.keys(J).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===J[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return J[e]}}))}));var ee=n(67735);Object.keys(ee).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ee[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ee[e]}}))}));var te=n(31808);Object.keys(te).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===te[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return te[e]}}))}));var ne=n(193);Object.keys(ne).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ne[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ne[e]}}))}));var re=n(36609);Object.keys(re).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===re[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return re[e]}}))}));var ie=n(36875);Object.keys(ie).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ie[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ie[e]}}))}));var oe=n(86125);Object.keys(oe).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===oe[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return oe[e]}}))}));var se=n(23169);Object.keys(se).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===se[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return se[e]}}))}));var ae=n(71216);Object.keys(ae).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ae[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ae[e]}}))}));var ce=n(29146);Object.keys(ce).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ce[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ce[e]}}))}));var le=n(49097);Object.keys(le).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===le[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return le[e]}}))}));var ue=n(28236);Object.keys(ue).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ue[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ue[e]}}))}));var de=n(77669);Object.keys(de).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===de[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return de[e]}}))}));var he=n(58882);Object.keys(he).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===he[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return he[e]}}))}));var pe=n(16353);Object.keys(pe).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===pe[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return pe[e]}}))}));var fe=n(56276);Object.keys(fe).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===fe[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return fe[e]}}))}));var me=n(9158);Object.keys(me).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===me[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return me[e]}}))}));var ge=n(85291);Object.keys(ge).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ge[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ge[e]}}))}));var ye=n(48714);Object.keys(ye).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ye[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ye[e]}}))}));var ve=n(213);Object.keys(ve).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ve[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ve[e]}}))}));var be=n(25680);Object.keys(be).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===be[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return be[e]}}))}));var xe=n(47489);Object.keys(xe).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===xe[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return xe[e]}}))}));var Oe=n(44031);Object.keys(Oe).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Oe[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Oe[e]}}))}));var we=n(13468);Object.keys(we).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===we[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return we[e]}}))}));var Se=n(43962);Object.keys(Se).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Se[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Se[e]}}))}));var ke=n(71870);Object.keys(ke).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ke[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ke[e]}}))}));var _e=n(40637);Object.keys(_e).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===_e[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _e[e]}}))}));var Pe=n(20299);Object.keys(Pe).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Pe[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Pe[e]}}))}));var Ee=n(56539);Object.keys(Ee).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ee[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ee[e]}}))}));var Ce=n(87279);Object.keys(Ce).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ce[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ce[e]}}))}));var Te=n(31408);Object.keys(Te).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Te[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Te[e]}}))}));var je=n(29149);Object.keys(je).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===je[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return je[e]}}))}));var Ie=n(55436);Object.keys(Ie).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ie[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ie[e]}}))}));var Me=n(54398);Object.keys(Me).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Me[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Me[e]}}))}));var Ae=n(74560);Object.keys(Ae).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ae[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ae[e]}}))}));var De=n(2844);Object.keys(De).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===De[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return De[e]}}))}));var $e=n(63173);Object.keys($e).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===$e[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return $e[e]}}))}));var Re=n(33153);Object.keys(Re).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Re[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Re[e]}}))}));var Ne=n(15655);Object.keys(Ne).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ne[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ne[e]}}))}));var Le=n(68584);Object.keys(Le).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Le[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Le[e]}}))}));var Qe=n(10887);Object.keys(Qe).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Qe[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Qe[e]}}))}));var ze=n(19658);Object.keys(ze).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ze[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ze[e]}}))}));var Fe=n(14193);Object.keys(Fe).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Fe[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Fe[e]}}))}));var Be=n(40144);Object.keys(Be).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Be[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Be[e]}}))}));var Ze=n(15364);Object.keys(Ze).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ze[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ze[e]}}))}));var Ve=n(73406);Object.keys(Ve).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ve[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ve[e]}}))}));var We=n(40661);Object.keys(We).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===We[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return We[e]}}))}));var Ue=n(93004);Object.keys(Ue).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ue[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ue[e]}}))}));var qe=n(26452);Object.keys(qe).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===qe[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return qe[e]}}))}));var Ye=n(79921);Object.keys(Ye).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ye[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ye[e]}}))}));var Xe=n(90344);Object.keys(Xe).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Xe[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Xe[e]}}))}));var He=n(63137);Object.keys(He).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===He[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return He[e]}}))}));var Ge=n(85058);Object.keys(Ge).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ge[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ge[e]}}))}));var Ke=n(50286);Object.keys(Ke).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ke[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ke[e]}}))}));var Je=n(42612);Object.keys(Je).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Je[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Je[e]}}))}));var et=n(94241);Object.keys(et).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===et[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return et[e]}}))}));var tt=n(14181);Object.keys(tt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===tt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return tt[e]}}))}));var nt=n(58754);Object.keys(nt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===nt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return nt[e]}}))}));var rt=n(2731);Object.keys(rt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===rt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return rt[e]}}))}));var it=n(26178);Object.keys(it).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===it[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return it[e]}}))}));var ot=n(75333);Object.keys(ot).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ot[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ot[e]}}))}));var st=n(25269);Object.keys(st).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===st[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return st[e]}}))}));var at=n(23041);Object.keys(at).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===at[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return at[e]}}))}));var ct=n(36200);Object.keys(ct).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ct[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ct[e]}}))}));var lt=n(59822);Object.keys(lt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===lt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return lt[e]}}))}));var ut=n(35694);Object.keys(ut).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ut[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ut[e]}}))}));var dt=n(35674);Object.keys(dt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===dt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return dt[e]}}))}));var ht=n(80130);Object.keys(ht).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ht[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ht[e]}}))}));var pt=n(54428);Object.keys(pt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===pt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return pt[e]}}))}));var ft=n(26761);Object.keys(ft).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ft[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ft[e]}}))}));var mt=n(26281);Object.keys(mt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===mt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return mt[e]}}))}));var gt=n(13861);Object.keys(gt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===gt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return gt[e]}}))}));var yt=n(17561);Object.keys(yt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===yt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return yt[e]}}))}));var vt=n(60974);Object.keys(vt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===vt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return vt[e]}}))}));var bt=n(14659);Object.keys(bt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===bt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return bt[e]}}))}));var xt=n(12951);Object.keys(xt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===xt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return xt[e]}}))}));var Ot=n(66969);Object.keys(Ot).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ot[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ot[e]}}))}));var wt=n(56051);Object.keys(wt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===wt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return wt[e]}}))}));var St=n(50715);Object.keys(St).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===St[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return St[e]}}))}));var kt=n(70323);Object.keys(kt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===kt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return kt[e]}}))}));var _t=n(51250);Object.keys(_t).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===_t[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _t[e]}}))}));var Pt=n(16966);Object.keys(Pt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Pt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Pt[e]}}))}));var Et=n(5405);Object.keys(Et).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Et[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Et[e]}}))}));var Ct=n(11971);Object.keys(Ct).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ct[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ct[e]}}))}));var Tt=n(57908);Object.keys(Tt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Tt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Tt[e]}}))}));var jt=n(81269);Object.keys(jt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===jt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return jt[e]}}))}));var It=n(91535);Object.keys(It).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===It[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return It[e]}}))}));var Mt=n(49945);Object.keys(Mt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Mt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Mt[e]}}))}));var At=n(925);Object.keys(At).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===At[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return At[e]}}))}));var Dt=n(53597);Object.keys(Dt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Dt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Dt[e]}}))}));var $t=n(7600);Object.keys($t).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===$t[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return $t[e]}}))}));var Rt=n(3367);Object.keys(Rt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Rt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Rt[e]}}))}));var Nt=n(37484);Object.keys(Nt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Nt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Nt[e]}}))}));var Lt=n(4678);Object.keys(Lt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Lt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Lt[e]}}))}));var Qt=n(53918);Object.keys(Qt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Qt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Qt[e]}}))}));var zt=n(54927);Object.keys(zt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===zt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return zt[e]}}))}));var Ft=n(41901);Object.keys(Ft).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ft[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ft[e]}}))}));var Bt=n(15636);Object.keys(Bt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Bt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Bt[e]}}))}));var Zt=n(62695);Object.keys(Zt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Zt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Zt[e]}}))}));var Vt=n(45385);Object.keys(Vt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Vt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Vt[e]}}))}));var Wt=n(69162);Object.keys(Wt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Wt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Wt[e]}}))}));var Ut=n(90405);Object.keys(Ut).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ut[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ut[e]}}))}));var qt=n(38532);Object.keys(qt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===qt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return qt[e]}}))}));var Yt=n(25158);Object.keys(Yt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Yt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Yt[e]}}))}));var Xt=n(25900);Object.keys(Xt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Xt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Xt[e]}}))}));var Ht=n(92078);Object.keys(Ht).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ht[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ht[e]}}))}));var Gt=n(71971);Object.keys(Gt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Gt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Gt[e]}}))}));var Kt=n(52814);Object.keys(Kt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Kt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Kt[e]}}))}));var Jt=n(67571);Object.keys(Jt).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Jt[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Jt[e]}}))}));var en=n(52251);Object.keys(en).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===en[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return en[e]}}))}));var tn=n(42779);Object.keys(tn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===tn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return tn[e]}}))}));var nn=n(51953);Object.keys(nn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===nn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return nn[e]}}))}));var rn=n(47357);Object.keys(rn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===rn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return rn[e]}}))}));var on=n(91521);Object.keys(on).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===on[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return on[e]}}))}));var sn=n(90954);Object.keys(sn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===sn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return sn[e]}}))}));var an=n(72451);Object.keys(an).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===an[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return an[e]}}))}));var cn=n(13180);Object.keys(cn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===cn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return cn[e]}}))}));var ln=n(90522);Object.keys(ln).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ln[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ln[e]}}))}));var un=n(90906);Object.keys(un).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===un[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return un[e]}}))}));var dn=n(24848);Object.keys(dn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===dn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return dn[e]}}))}));var hn=n(69659);Object.keys(hn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===hn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return hn[e]}}))}));var pn=n(8144);Object.keys(pn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===pn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return pn[e]}}))}));var fn=n(72735);Object.keys(fn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===fn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return fn[e]}}))}));var mn=n(63248);Object.keys(mn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===mn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return mn[e]}}))}));var gn=n(92970);Object.keys(gn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===gn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return gn[e]}}))}));var yn=n(83053);Object.keys(yn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===yn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return yn[e]}}))}));var vn=n(70386);Object.keys(vn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===vn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return vn[e]}}))}));var bn=n(75902);Object.keys(bn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===bn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return bn[e]}}))}));var xn=n(25233);Object.keys(xn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===xn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return xn[e]}}))}));var On=n(39056);Object.keys(On).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===On[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return On[e]}}))}));var wn=n(15152);Object.keys(wn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===wn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return wn[e]}}))}));var Sn=n(13147);Object.keys(Sn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Sn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Sn[e]}}))}));var kn=n(9200);Object.keys(kn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===kn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return kn[e]}}))}));var _n=n(45407);Object.keys(_n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===_n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _n[e]}}))}));var Pn=n(32816);Object.keys(Pn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Pn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Pn[e]}}))}));var En=n(70589);Object.keys(En).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===En[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return En[e]}}))}));var Cn=n(61645);Object.keys(Cn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Cn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Cn[e]}}))}));var Tn=n(71634);Object.keys(Tn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Tn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Tn[e]}}))}));var jn=n(39946);Object.keys(jn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===jn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return jn[e]}}))}));var In=n(89103);Object.keys(In).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===In[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return In[e]}}))}));var Mn=n(50877);Object.keys(Mn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Mn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Mn[e]}}))}));var An=n(67887);Object.keys(An).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===An[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return An[e]}}))}));var Dn=n(10378);Object.keys(Dn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Dn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Dn[e]}}))}));var $n=n(28899);Object.keys($n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===$n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return $n[e]}}))}));var Rn=n(11404);Object.keys(Rn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Rn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Rn[e]}}))}));var Nn=n(51893);Object.keys(Nn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Nn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Nn[e]}}))}));var Ln=n(44057);Object.keys(Ln).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ln[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ln[e]}}))}));var Qn=n(42719);Object.keys(Qn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Qn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Qn[e]}}))}));var zn=n(68615);Object.keys(zn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===zn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return zn[e]}}))}));var Fn=n(73408);Object.keys(Fn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Fn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Fn[e]}}))}));var Bn=n(30154);Object.keys(Bn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Bn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Bn[e]}}))}));var Zn=n(49220);Object.keys(Zn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Zn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Zn[e]}}))}));var Vn=n(73240);Object.keys(Vn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Vn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Vn[e]}}))}));var Wn=n(89289);Object.keys(Wn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Wn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Wn[e]}}))}));var Un=n(23203);Object.keys(Un).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Un[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Un[e]}}))}));var qn=n(89996);Object.keys(qn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===qn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return qn[e]}}))}));var Yn=n(2291);Object.keys(Yn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Yn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Yn[e]}}))}));var Xn=n(55733);Object.keys(Xn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Xn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Xn[e]}}))}));var Hn=n(14204);Object.keys(Hn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Hn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Hn[e]}}))}));var Gn=n(25457);Object.keys(Gn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Gn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Gn[e]}}))}));var Kn=n(92424);Object.keys(Kn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Kn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Kn[e]}}))}));var Jn=n(31700);Object.keys(Jn).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Jn[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Jn[e]}}))}));var er=n(26548);Object.keys(er).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===er[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return er[e]}}))}));var tr=n(68720);Object.keys(tr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===tr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return tr[e]}}))}));var nr=n(92582);Object.keys(nr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===nr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return nr[e]}}))}));var rr=n(30683);Object.keys(rr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===rr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return rr[e]}}))}));var ir=n(70766);Object.keys(ir).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ir[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ir[e]}}))}));var or=n(93888);Object.keys(or).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===or[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return or[e]}}))}));var sr=n(30068);Object.keys(sr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===sr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return sr[e]}}))}));var ar=n(15402);Object.keys(ar).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ar[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ar[e]}}))}));var cr=n(60584);Object.keys(cr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===cr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return cr[e]}}))}));var lr=n(95755);Object.keys(lr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===lr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return lr[e]}}))}));var ur=n(74691);Object.keys(ur).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===ur[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return ur[e]}}))}));var dr=n(7944);Object.keys(dr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===dr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return dr[e]}}))}));var hr=n(89);Object.keys(hr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===hr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return hr[e]}}))}));var pr=n(77377);Object.keys(pr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===pr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return pr[e]}}))}));var fr=n(60434);Object.keys(fr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===fr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return fr[e]}}))}));var mr=n(14519);Object.keys(mr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===mr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return mr[e]}}))}));var gr=n(75314);Object.keys(gr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===gr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return gr[e]}}))}));var yr=n(88960);Object.keys(yr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===yr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return yr[e]}}))}));var vr=n(50924);Object.keys(vr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===vr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return vr[e]}}))}));var br=n(68630);Object.keys(br).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===br[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return br[e]}}))}));var xr=n(14929);Object.keys(xr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===xr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return xr[e]}}))}));var Or=n(34706);Object.keys(Or).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Or[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Or[e]}}))}));var wr=n(30700);Object.keys(wr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===wr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return wr[e]}}))}));var Sr=n(88710);Object.keys(Sr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Sr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Sr[e]}}))}));var kr=n(478);Object.keys(kr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===kr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return kr[e]}}))}));var _r=n(65126);Object.keys(_r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===_r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _r[e]}}))}));var Pr=n(42369);Object.keys(Pr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Pr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Pr[e]}}))}));var Er=n(41944);Object.keys(Er).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Er[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Er[e]}}))}));var Cr=n(43330);Object.keys(Cr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Cr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Cr[e]}}))}));var Tr=n(28306);Object.keys(Tr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Tr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Tr[e]}}))}));var jr=n(24757);Object.keys(jr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===jr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return jr[e]}}))}));var Ir=n(76709);Object.keys(Ir).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ir[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ir[e]}}))}));var Mr=n(25115);Object.keys(Mr).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Mr[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return Mr[e]}}))}))},42612:(e,t,n)=>{"use strict";t.interval=function(e,t,n){const i=(0,r.toDate)(e);if(isNaN(+i))throw new TypeError("Start date is invalid");const o=(0,r.toDate)(t);if(isNaN(+o))throw new TypeError("End date is invalid");if(n?.assertPositive&&+i>+o)throw new TypeError("End date must be after start date");return{start:i,end:o}};var r=n(41944)},94241:(e,t,n)=>{"use strict";t.intervalToDuration=function(e){const t=(0,u.toDate)(e.start),n=(0,u.toDate)(e.end),d={},h=(0,l.differenceInYears)(n,t);h&&(d.years=h);const p=(0,r.add)(t,{years:d.years}),f=(0,a.differenceInMonths)(n,p);f&&(d.months=f);const m=(0,r.add)(p,{months:d.months}),g=(0,i.differenceInDays)(n,m);g&&(d.days=g);const y=(0,r.add)(m,{days:d.days}),v=(0,o.differenceInHours)(n,y);v&&(d.hours=v);const b=(0,r.add)(y,{hours:d.hours}),x=(0,s.differenceInMinutes)(n,b);x&&(d.minutes=x);const O=(0,r.add)(b,{minutes:d.minutes}),w=(0,c.differenceInSeconds)(n,O);return w&&(d.seconds=w),d};var r=n(16930),i=n(78986),o=n(41850),s=n(21404),a=n(56902),c=n(85772),l=n(81515),u=n(41944)},14181:(e,t,n)=>{"use strict";t.intlFormat=function(e,t,n){let i;var o;return void 0===(o=t)||"locale"in o?n=t:i=t,new Intl.DateTimeFormat(n?.locale,i).format((0,r.toDate)(e))};var r=n(41944)},58754:(e,t,n)=>{"use strict";t.intlFormatDistance=function(e,t,n){let p,f=0;const m=(0,h.toDate)(e),g=(0,h.toDate)(t);if(n?.unit)p=n?.unit,"second"===p?f=(0,d.differenceInSeconds)(m,g):"minute"===p?f=(0,u.differenceInMinutes)(m,g):"hour"===p?f=(0,l.differenceInHours)(m,g):"day"===p?f=(0,i.differenceInCalendarDays)(m,g):"week"===p?f=(0,a.differenceInCalendarWeeks)(m,g):"month"===p?f=(0,o.differenceInCalendarMonths)(m,g):"quarter"===p?f=(0,s.differenceInCalendarQuarters)(m,g):"year"===p&&(f=(0,c.differenceInCalendarYears)(m,g));else{const e=(0,d.differenceInSeconds)(m,g);Math.abs(e)<r.secondsInMinute?(f=(0,d.differenceInSeconds)(m,g),p="second"):Math.abs(e)<r.secondsInHour?(f=(0,u.differenceInMinutes)(m,g),p="minute"):Math.abs(e)<r.secondsInDay&&Math.abs((0,i.differenceInCalendarDays)(m,g))<1?(f=(0,l.differenceInHours)(m,g),p="hour"):Math.abs(e)<r.secondsInWeek&&(f=(0,i.differenceInCalendarDays)(m,g))&&Math.abs(f)<7?p="day":Math.abs(e)<r.secondsInMonth?(f=(0,a.differenceInCalendarWeeks)(m,g),p="week"):Math.abs(e)<r.secondsInQuarter?(f=(0,o.differenceInCalendarMonths)(m,g),p="month"):Math.abs(e)<r.secondsInYear&&(0,s.differenceInCalendarQuarters)(m,g)<4?(f=(0,s.differenceInCalendarQuarters)(m,g),p="quarter"):(f=(0,c.differenceInCalendarYears)(m,g),p="year")}return new Intl.RelativeTimeFormat(n?.locale,{localeMatcher:n?.localeMatcher,numeric:n?.numeric||"auto",style:n?.style}).format(f,p)};var r=n(63680),i=n(98444),o=n(16832),s=n(25442),a=n(39690),c=n(39637),l=n(41850),u=n(21404),d=n(85772),h=n(41944)},2731:(e,t,n)=>{"use strict";t.isAfter=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return n.getTime()>i.getTime()};var r=n(41944)},26178:(e,t,n)=>{"use strict";t.isBefore=function(e,t){return+(0,r.toDate)(e)<+(0,r.toDate)(t)};var r=n(41944)},75333:(e,t)=>{"use strict";t.isDate=function(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}},25269:(e,t,n)=>{"use strict";t.isEqual=function(e,t){return+(0,r.toDate)(e)==+(0,r.toDate)(t)};var r=n(41944)},23041:(e,t)=>{"use strict";t.isExists=function(e,t,n){const r=new Date(e,t,n);return r.getFullYear()===e&&r.getMonth()===t&&r.getDate()===n}},36200:(e,t,n)=>{"use strict";t.isFirstDayOfMonth=function(e){return 1===(0,r.toDate)(e).getDate()};var r=n(41944)},59822:(e,t,n)=>{"use strict";t.isFriday=function(e){return 5===(0,r.toDate)(e).getDay()};var r=n(41944)},35694:(e,t,n)=>{"use strict";t.isFuture=function(e){return+(0,r.toDate)(e)>Date.now()};var r=n(41944)},35674:(e,t,n)=>{"use strict";t.isLastDayOfMonth=function(e){const t=(0,o.toDate)(e);return+(0,r.endOfDay)(t)==+(0,i.endOfMonth)(t)};var r=n(8167),i=n(36875),o=n(41944)},80130:(e,t,n)=>{"use strict";t.isLeapYear=function(e){const t=(0,r.toDate)(e).getFullYear();return t%400==0||t%4==0&&t%100!=0};var r=n(41944)},54428:(e,t,n)=>{"use strict";t.isMatch=function(e,t,n){return(0,r.isValid)((0,i.parse)(e,t,new Date,n))};var r=n(54927),i=n(75902)},26761:(e,t,n)=>{"use strict";t.isMonday=function(e){return 1===(0,r.toDate)(e).getDay()};var r=n(41944)},26281:(e,t,n)=>{"use strict";t.isPast=function(e){return+(0,r.toDate)(e)<Date.now()};var r=n(41944)},13861:(e,t,n)=>{"use strict";t.isSameDay=function(e,t){return+(0,r.startOfDay)(e)==+(0,r.startOfDay)(t)};var r=n(26548)},17561:(e,t,n)=>{"use strict";t.isSameHour=function(e,t){return+(0,r.startOfHour)(e)==+(0,r.startOfHour)(t)};var r=n(92582)},60974:(e,t,n)=>{"use strict";t.isSameISOWeek=function(e,t){return(0,r.isSameWeek)(e,t,{weekStartsOn:1})};var r=n(70323)},14659:(e,t,n)=>{"use strict";t.isSameISOWeekYear=function(e,t){return+(0,r.startOfISOWeekYear)(e)==+(0,r.startOfISOWeekYear)(t)};var r=n(70766)},12951:(e,t,n)=>{"use strict";t.isSameMinute=function(e,t){return+(0,r.startOfMinute)(e)==+(0,r.startOfMinute)(t)};var r=n(93888)},66969:(e,t,n)=>{"use strict";t.isSameMonth=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()};var r=n(41944)},56051:(e,t,n)=>{"use strict";t.isSameQuarter=function(e,t){return+(0,r.startOfQuarter)(e)==+(0,r.startOfQuarter)(t)};var r=n(15402)},50715:(e,t,n)=>{"use strict";t.isSameSecond=function(e,t){return+(0,r.startOfSecond)(e)==+(0,r.startOfSecond)(t)};var r=n(60584)},70323:(e,t,n)=>{"use strict";t.isSameWeek=function(e,t,n){return+(0,r.startOfWeek)(e,n)==+(0,r.startOfWeek)(t,n)};var r=n(7944)},51250:(e,t,n)=>{"use strict";t.isSameYear=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return n.getFullYear()===i.getFullYear()};var r=n(41944)},16966:(e,t,n)=>{"use strict";t.isSaturday=function(e){return 6===(0,r.toDate)(e).getDay()};var r=n(41944)},5405:(e,t,n)=>{"use strict";t.isSunday=function(e){return 0===(0,r.toDate)(e).getDay()};var r=n(41944)},11971:(e,t,n)=>{"use strict";t.isThisHour=function(e){return(0,i.isSameHour)(e,(0,r.constructNow)(e))};var r=n(58638),i=n(17561)},57908:(e,t,n)=>{"use strict";t.isThisISOWeek=function(e){return(0,i.isSameISOWeek)(e,(0,r.constructNow)(e))};var r=n(58638),i=n(60974)},81269:(e,t,n)=>{"use strict";t.isThisMinute=function(e){return(0,i.isSameMinute)(e,(0,r.constructNow)(e))};var r=n(58638),i=n(12951)},91535:(e,t,n)=>{"use strict";t.isThisMonth=function(e){return(0,i.isSameMonth)(e,(0,r.constructNow)(e))};var r=n(58638),i=n(66969)},49945:(e,t,n)=>{"use strict";t.isThisQuarter=function(e){return(0,i.isSameQuarter)(e,(0,r.constructNow)(e))};var r=n(58638),i=n(56051)},925:(e,t,n)=>{"use strict";t.isThisSecond=function(e){return(0,i.isSameSecond)(e,(0,r.constructNow)(e))};var r=n(58638),i=n(50715)},53597:(e,t,n)=>{"use strict";t.isThisWeek=function(e,t){return(0,i.isSameWeek)(e,(0,r.constructNow)(e),t)};var r=n(58638),i=n(70323)},7600:(e,t,n)=>{"use strict";t.isThisYear=function(e){return(0,i.isSameYear)(e,(0,r.constructNow)(e))};var r=n(58638),i=n(51250)},3367:(e,t,n)=>{"use strict";t.isThursday=function(e){return 4===(0,r.toDate)(e).getDay()};var r=n(41944)},37484:(e,t,n)=>{"use strict";t.isToday=function(e){return(0,i.isSameDay)(e,(0,r.constructNow)(e))};var r=n(58638),i=n(13861)},4678:(e,t,n)=>{"use strict";t.isTomorrow=function(e){return(0,o.isSameDay)(e,(0,r.addDays)((0,i.constructNow)(e),1))};var r=n(13449),i=n(58638),o=n(13861)},53918:(e,t,n)=>{"use strict";t.isTuesday=function(e){return 2===(0,r.toDate)(e).getDay()};var r=n(41944)},54927:(e,t,n)=>{"use strict";t.isValid=function(e){if(!(0,r.isDate)(e)&&"number"!=typeof e)return!1;const t=(0,i.toDate)(e);return!isNaN(Number(t))};var r=n(75333),i=n(41944)},41901:(e,t,n)=>{"use strict";t.isWednesday=function(e){return 3===(0,r.toDate)(e).getDay()};var r=n(41944)},15636:(e,t,n)=>{"use strict";t.isWeekend=function(e){const t=(0,r.toDate)(e).getDay();return 0===t||6===t};var r=n(41944)},62695:(e,t,n)=>{"use strict";t.isWithinInterval=function(e,t){const n=+(0,r.toDate)(e),[i,o]=[+(0,r.toDate)(t.start),+(0,r.toDate)(t.end)].sort(((e,t)=>e-t));return n>=i&&n<=o};var r=n(41944)},45385:(e,t,n)=>{"use strict";t.isYesterday=function(e){return(0,i.isSameDay)(e,(0,o.subDays)((0,r.constructNow)(e),1))};var r=n(58638),i=n(13861),o=n(88960)},69162:(e,t,n)=>{"use strict";t.lastDayOfDecade=function(e){const t=(0,r.toDate)(e),n=t.getFullYear(),i=9+10*Math.floor(n/10);return t.setFullYear(i+1,0,0),t.setHours(0,0,0,0),t};var r=n(41944)},90405:(e,t,n)=>{"use strict";t.lastDayOfISOWeek=function(e){return(0,r.lastDayOfWeek)(e,{weekStartsOn:1})};var r=n(92078)},38532:(e,t,n)=>{"use strict";t.lastDayOfISOWeekYear=function(e){const t=(0,r.getISOWeekYear)(e),n=(0,o.constructFrom)(e,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const s=(0,i.startOfISOWeek)(n);return s.setDate(s.getDate()-1),s};var r=n(63173),i=n(30683),o=n(8180)},25158:(e,t,n)=>{"use strict";t.lastDayOfMonth=function(e){const t=(0,r.toDate)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t};var r=n(41944)},25900:(e,t,n)=>{"use strict";t.lastDayOfQuarter=function(e){const t=(0,r.toDate)(e),n=t.getMonth(),i=n-n%3+3;return t.setMonth(i,0),t.setHours(0,0,0,0),t};var r=n(41944)},92078:(e,t,n)=>{"use strict";t.lastDayOfWeek=function(e,t){const n=(0,i.getDefaultOptions)(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=(0,r.toDate)(e),a=s.getDay(),c=6+(a<o?-7:0)-(a-o);return s.setHours(0,0,0,0),s.setDate(s.getDate()+c),s};var r=n(41944),i=n(83093)},71971:(e,t,n)=>{"use strict";t.lastDayOfYear=function(e){const t=(0,r.toDate)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(0,0,0,0),t};var r=n(41944)},52814:(e,t,n)=>{"use strict";t.lightFormat=function(e,t){const n=(0,i.toDate)(e);if(!(0,r.isValid)(n))throw new RangeError("Invalid time value");const u=t.match(s);return u?u.map((e=>{if("''"===e)return"'";const t=e[0];if("'"===t)return function(e){const t=e.match(a);return t?t[1].replace(c,"'"):e}(e);const r=o.lightFormatters[t];if(r)return r(n,e);if(t.match(l))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e})).join(""):""},Object.defineProperty(t,"lightFormatters",{enumerable:!0,get:function(){return o.lightFormatters}});var r=n(54927),i=n(41944),o=n(30803);const s=/(\w)\1*|''|'(''|[^'])+('|$)|./g,a=/^'([^]*?)'?$/,c=/''/g,l=/[a-zA-Z]/},37356:(e,t)=>{"use strict";t.buildFormatLongFn=function(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}},77130:(e,t)=>{"use strict";t.buildLocalizeFn=function(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}},45584:(e,t)=>{"use strict";t.buildMatchFn=function(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?function(e,t){for(let t=0;t<e.length;t++)if(e[t].test(s))return t}(a):function(e,t){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].test(s))return t}(a);let l;return l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l,{value:l,rest:t.slice(s.length)}}}},10608:(e,t)=>{"use strict";t.buildMatchPatternFn=function(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];return s=n.valueCallback?n.valueCallback(s):s,{value:s,rest:t.slice(i.length)}}}},50094:(e,t,n)=>{"use strict";t.enUS=void 0;var r=n(55440),i=n(54185),o=n(67071),s=n(91727),a=n(791);t.enUS={code:"en-US",formatDistance:r.formatDistance,formatLong:i.formatLong,formatRelative:o.formatRelative,localize:s.localize,match:a.match,options:{weekStartsOn:0,firstWeekContainsDate:1}}},55440:(e,t)=>{"use strict";t.formatDistance=void 0;const n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};t.formatDistance=(e,t,r)=>{let i;const o=n[e];return i="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i}},54185:(e,t,n)=>{"use strict";t.formatLong=void 0;var r=n(37356);t.formatLong={date:(0,r.buildFormatLongFn)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,r.buildFormatLongFn)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,r.buildFormatLongFn)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})}},67071:(e,t)=>{"use strict";t.formatRelative=void 0;const n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};t.formatRelative=(e,t,r,i)=>n[e]},91727:(e,t,n)=>{"use strict";t.localize=void 0;var r=n(77130);t.localize={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,r.buildLocalizeFn)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,r.buildLocalizeFn)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,r.buildLocalizeFn)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,r.buildLocalizeFn)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,r.buildLocalizeFn)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})}},791:(e,t,n)=>{"use strict";t.match=void 0;var r=n(45584),i=n(10608);t.match={ordinalNumber:(0,i.buildMatchPatternFn)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,r.buildMatchFn)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,r.buildMatchFn)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,r.buildMatchFn)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,r.buildMatchFn)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,r.buildMatchFn)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})}},67571:(e,t,n)=>{"use strict";t.max=function(e){let t;return e.forEach((function(e){const n=(0,r.toDate)(e);(void 0===t||t<n||isNaN(Number(n)))&&(t=n)})),t||new Date(NaN)};var r=n(41944)},52251:(e,t,n)=>{"use strict";t.milliseconds=function({years:e,months:t,weeks:n,days:i,hours:o,minutes:s,seconds:a}){let c=0;e&&(c+=e*r.daysInYear),t&&(c+=t*(r.daysInYear/12)),n&&(c+=7*n),i&&(c+=i);let l=24*c*60*60;return o&&(l+=60*o*60),s&&(l+=60*s),a&&(l+=a),Math.trunc(1e3*l)};var r=n(63680)},42779:(e,t,n)=>{"use strict";t.millisecondsToHours=function(e){const t=e/r.millisecondsInHour;return Math.trunc(t)};var r=n(63680)},51953:(e,t,n)=>{"use strict";t.millisecondsToMinutes=function(e){const t=e/r.millisecondsInMinute;return Math.trunc(t)};var r=n(63680)},47357:(e,t,n)=>{"use strict";t.millisecondsToSeconds=function(e){const t=e/r.millisecondsInSecond;return Math.trunc(t)};var r=n(63680)},91521:(e,t,n)=>{"use strict";t.min=function(e){let t;return e.forEach((e=>{const n=(0,r.toDate)(e);(!t||t>n||isNaN(+n))&&(t=n)})),t||new Date(NaN)};var r=n(41944)},90954:(e,t,n)=>{"use strict";t.minutesToHours=function(e){const t=e/r.minutesInHour;return Math.trunc(t)};var r=n(63680)},72451:(e,t,n)=>{"use strict";t.minutesToMilliseconds=function(e){return Math.trunc(e*r.millisecondsInMinute)};var r=n(63680)},13180:(e,t,n)=>{"use strict";t.minutesToSeconds=function(e){return Math.trunc(e*r.secondsInMinute)};var r=n(63680)},90522:(e,t,n)=>{"use strict";t.monthsToQuarters=function(e){const t=e/r.monthsInQuarter;return Math.trunc(t)};var r=n(63680)},90906:(e,t,n)=>{"use strict";t.monthsToYears=function(e){const t=e/r.monthsInYear;return Math.trunc(t)};var r=n(63680)},24848:(e,t,n)=>{"use strict";t.nextDay=function(e,t){let n=t-(0,i.getDay)(e);return n<=0&&(n+=7),(0,r.addDays)(e,n)};var r=n(13449),i=n(20299)},69659:(e,t,n)=>{"use strict";t.nextFriday=function(e){return(0,r.nextDay)(e,5)};var r=n(24848)},8144:(e,t,n)=>{"use strict";t.nextMonday=function(e){return(0,r.nextDay)(e,1)};var r=n(24848)},72735:(e,t,n)=>{"use strict";t.nextSaturday=function(e){return(0,r.nextDay)(e,6)};var r=n(24848)},63248:(e,t,n)=>{"use strict";t.nextSunday=function(e){return(0,r.nextDay)(e,0)};var r=n(24848)},92970:(e,t,n)=>{"use strict";t.nextThursday=function(e){return(0,r.nextDay)(e,4)};var r=n(24848)},83053:(e,t,n)=>{"use strict";t.nextTuesday=function(e){return(0,r.nextDay)(e,2)};var r=n(24848)},70386:(e,t,n)=>{"use strict";t.nextWednesday=function(e){return(0,r.nextDay)(e,3)};var r=n(24848)},75902:(e,t,n)=>{"use strict";Object.defineProperty(t,"longFormatters",{enumerable:!0,get:function(){return a.longFormatters}}),t.parse=function(e,t,n,y){const v=(0,i.getDefaultOptions)(),b=y?.locale??v.locale??o.defaultLocale,x=y?.firstWeekContainsDate??y?.locale?.options?.firstWeekContainsDate??v.firstWeekContainsDate??v.locale?.options?.firstWeekContainsDate??1,O=y?.weekStartsOn??y?.locale?.options?.weekStartsOn??v.weekStartsOn??v.locale?.options?.weekStartsOn??0;if(""===t)return""===e?(0,s.toDate)(n):(0,r.constructFrom)(n,NaN);const w={firstWeekContainsDate:x,weekStartsOn:O,locale:b},S=[new u.DateToSystemTimezoneSetter],k=t.match(h).map((e=>{const t=e[0];return t in a.longFormatters?(0,a.longFormatters[t])(e,b.formatLong):e})).join("").match(d),_=[];for(let i of k){!y?.useAdditionalWeekYearTokens&&(0,c.isProtectedWeekYearToken)(i)&&(0,c.warnOrThrowProtectedError)(i,t,e),!y?.useAdditionalDayOfYearTokens&&(0,c.isProtectedDayOfYearToken)(i)&&(0,c.warnOrThrowProtectedError)(i,t,e);const o=i[0],s=l.parsers[o];if(s){const{incompatibleTokens:t}=s;if(Array.isArray(t)){const e=_.find((e=>t.includes(e.token)||e.token===o));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${i}\` at the same time`)}else if("*"===s.incompatibleTokens&&_.length>0)throw new RangeError(`The format string mustn't contain \`${i}\` and any other token at the same time`);_.push({token:o,fullToken:i});const a=s.run(e,i,b.match,w);if(!a)return(0,r.constructFrom)(n,NaN);S.push(a.setter),e=a.rest}else{if(o.match(g))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");if("''"===i?i="'":"'"===o&&(i=i.match(p)[1].replace(f,"'")),0!==e.indexOf(i))return(0,r.constructFrom)(n,NaN);e=e.slice(i.length)}}if(e.length>0&&m.test(e))return(0,r.constructFrom)(n,NaN);const P=S.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>S.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let E=(0,s.toDate)(n);if(isNaN(E.getTime()))return(0,r.constructFrom)(n,NaN);const C={};for(const e of P){if(!e.validate(E,w))return(0,r.constructFrom)(n,NaN);const t=e.set(E,C,w);Array.isArray(t)?(E=t[0],Object.assign(C,t[1])):E=t}return(0,r.constructFrom)(n,E)},Object.defineProperty(t,"parsers",{enumerable:!0,get:function(){return l.parsers}});var r=n(8180),i=n(55436),o=n(32790),s=n(41944),a=n(49711),c=n(80874),l=n(666),u=n(12823);const d=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,p=/^'([^]*?)'?$/,f=/''/g,m=/\S/,g=/[a-zA-Z]/},71999:(e,t,n)=>{"use strict";t.Parser=void 0;var r=n(12823);t.Parser=class{run(e,t,n,i){const o=this.parse(e,t,n,i);return o?{setter:new r.ValueSetter(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}},12823:(e,t,n)=>{"use strict";t.ValueSetter=t.Setter=t.DateToSystemTimezoneSetter=void 0;var r=n(43330),i=n(8180);class o{subPriority=0;validate(e,t){return!0}}t.Setter=o,t.ValueSetter=class extends o{constructor(e,t,n,r,i){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}},t.DateToSystemTimezoneSetter=class extends o{priority=10;subPriority=-1;set(e,t){return t.timestampIsSet?e:(0,i.constructFrom)(e,(0,r.transpose)(e,Date))}}},11535:(e,t)=>{"use strict";t.timezonePatterns=t.numericPatterns=void 0,t.numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},t.timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/}},666:(e,t,n)=>{"use strict";t.parsers=void 0;var r=n(28480),i=n(47751),o=n(18284),s=n(76274),a=n(7198),c=n(97990),l=n(59219),u=n(63136),d=n(47273),h=n(54009),p=n(91011),f=n(53938),m=n(80508),g=n(23604),y=n(69545),v=n(63666),b=n(49815),x=n(78107),O=n(27935),w=n(78673),S=n(89005),k=n(9794),_=n(3891),P=n(82932),E=n(94802),C=n(37554),T=n(13273),j=n(2198),I=n(85904),M=n(10919),A=n(49096);t.parsers={G:new r.EraParser,y:new i.YearParser,Y:new o.LocalWeekYearParser,R:new s.ISOWeekYearParser,u:new a.ExtendedYearParser,Q:new c.QuarterParser,q:new l.StandAloneQuarterParser,M:new u.MonthParser,L:new d.StandAloneMonthParser,w:new h.LocalWeekParser,I:new p.ISOWeekParser,d:new f.DateParser,D:new m.DayOfYearParser,E:new g.DayParser,e:new y.LocalDayParser,c:new v.StandAloneLocalDayParser,i:new b.ISODayParser,a:new x.AMPMParser,b:new O.AMPMMidnightParser,B:new w.DayPeriodParser,h:new S.Hour1to12Parser,H:new k.Hour0to23Parser,K:new _.Hour0To11Parser,k:new P.Hour1To24Parser,m:new E.MinuteParser,s:new C.SecondParser,S:new T.FractionOfSecondParser,X:new j.ISOTimezoneWithZParser,x:new I.ISOTimezoneParser,t:new M.TimestampSecondsParser,T:new A.TimestampMillisecondsParser}},27935:(e,t,n)=>{"use strict";t.AMPMMidnightParser=void 0;var r=n(71999),i=n(11087);class o extends r.Parser{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours((0,i.dayPeriodEnumToHours)(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}t.AMPMMidnightParser=o},78107:(e,t,n)=>{"use strict";t.AMPMParser=void 0;var r=n(71999),i=n(11087);class o extends r.Parser{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours((0,i.dayPeriodEnumToHours)(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}t.AMPMParser=o},53938:(e,t,n)=>{"use strict";t.DateParser=void 0;var r=n(11535),i=n(71999),o=n(11087);const s=[31,28,31,30,31,30,31,31,30,31,30,31],a=[31,29,31,30,31,30,31,31,30,31,30,31];class c extends i.Parser{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return(0,o.parseNumericPattern)(r.numericPatterns.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){const n=e.getFullYear(),r=(0,o.isLeapYearIndex)(n),i=e.getMonth();return r?t>=1&&t<=a[i]:t>=1&&t<=s[i]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}t.DateParser=c},80508:(e,t,n)=>{"use strict";t.DayOfYearParser=void 0;var r=n(11535),i=n(71999),o=n(11087);class s extends i.Parser{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return(0,o.parseNumericPattern)(r.numericPatterns.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){const n=e.getFullYear();return(0,o.isLeapYearIndex)(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}t.DayOfYearParser=s},23604:(e,t,n)=>{"use strict";t.DayParser=void 0;var r=n(42719),i=n(71999);class o extends i.Parser{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return(e=(0,r.setDay)(e,n,i)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}t.DayParser=o},78673:(e,t,n)=>{"use strict";t.DayPeriodParser=void 0;var r=n(71999),i=n(11087);class o extends r.Parser{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours((0,i.dayPeriodEnumToHours)(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}t.DayPeriodParser=o},28480:(e,t,n)=>{"use strict";t.EraParser=void 0;var r=n(71999);class i extends r.Parser{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}t.EraParser=i},7198:(e,t,n)=>{"use strict";t.ExtendedYearParser=void 0;var r=n(71999),i=n(11087);class o extends r.Parser{priority=130;parse(e,t){return"u"===t?(0,i.parseNDigitsSigned)(4,e):(0,i.parseNDigitsSigned)(t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}t.ExtendedYearParser=o},13273:(e,t,n)=>{"use strict";t.FractionOfSecondParser=void 0;var r=n(71999),i=n(11087);class o extends r.Parser{priority=30;parse(e,t){return(0,i.mapValue)((0,i.parseNDigits)(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}t.FractionOfSecondParser=o},3891:(e,t,n)=>{"use strict";t.Hour0To11Parser=void 0;var r=n(11535),i=n(71999),o=n(11087);class s extends i.Parser{priority=70;parse(e,t,n){switch(t){case"K":return(0,o.parseNumericPattern)(r.numericPatterns.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}t.Hour0To11Parser=s},9794:(e,t,n)=>{"use strict";t.Hour0to23Parser=void 0;var r=n(11535),i=n(71999),o=n(11087);class s extends i.Parser{priority=70;parse(e,t,n){switch(t){case"H":return(0,o.parseNumericPattern)(r.numericPatterns.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}t.Hour0to23Parser=s},82932:(e,t,n)=>{"use strict";t.Hour1To24Parser=void 0;var r=n(11535),i=n(71999),o=n(11087);class s extends i.Parser{priority=70;parse(e,t,n){switch(t){case"k":return(0,o.parseNumericPattern)(r.numericPatterns.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}t.Hour1To24Parser=s},89005:(e,t,n)=>{"use strict";t.Hour1to12Parser=void 0;var r=n(11535),i=n(71999),o=n(11087);class s extends i.Parser{priority=70;parse(e,t,n){switch(t){case"h":return(0,o.parseNumericPattern)(r.numericPatterns.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}t.Hour1to12Parser=s},49815:(e,t,n)=>{"use strict";t.ISODayParser=void 0;var r=n(49220),i=n(71999),o=n(11087);class s extends i.Parser{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return(0,o.parseNDigits)(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return(0,o.mapValue)(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return(0,o.mapValue)(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return(0,o.mapValue)(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return(0,o.mapValue)(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=(0,r.setISODay)(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}t.ISODayParser=s},85904:(e,t,n)=>{"use strict";t.ISOTimezoneParser=void 0;var r=n(8180),i=n(89967),o=n(11535),s=n(71999),a=n(11087);class c extends s.Parser{priority=10;parse(e,t){switch(t){case"x":return(0,a.parseTimezonePattern)(o.timezonePatterns.basicOptionalMinutes,e);case"xx":return(0,a.parseTimezonePattern)(o.timezonePatterns.basic,e);case"xxxx":return(0,a.parseTimezonePattern)(o.timezonePatterns.basicOptionalSeconds,e);case"xxxxx":return(0,a.parseTimezonePattern)(o.timezonePatterns.extendedOptionalSeconds,e);default:return(0,a.parseTimezonePattern)(o.timezonePatterns.extended,e)}}set(e,t,n){return t.timestampIsSet?e:(0,r.constructFrom)(e,e.getTime()-(0,i.getTimezoneOffsetInMilliseconds)(e)-n)}incompatibleTokens=["t","T","X"]}t.ISOTimezoneParser=c},2198:(e,t,n)=>{"use strict";t.ISOTimezoneWithZParser=void 0;var r=n(8180),i=n(89967),o=n(11535),s=n(71999),a=n(11087);class c extends s.Parser{priority=10;parse(e,t){switch(t){case"X":return(0,a.parseTimezonePattern)(o.timezonePatterns.basicOptionalMinutes,e);case"XX":return(0,a.parseTimezonePattern)(o.timezonePatterns.basic,e);case"XXXX":return(0,a.parseTimezonePattern)(o.timezonePatterns.basicOptionalSeconds,e);case"XXXXX":return(0,a.parseTimezonePattern)(o.timezonePatterns.extendedOptionalSeconds,e);default:return(0,a.parseTimezonePattern)(o.timezonePatterns.extended,e)}}set(e,t,n){return t.timestampIsSet?e:(0,r.constructFrom)(e,e.getTime()-(0,i.getTimezoneOffsetInMilliseconds)(e)-n)}incompatibleTokens=["t","T","x"]}t.ISOTimezoneWithZParser=c},91011:(e,t,n)=>{"use strict";t.ISOWeekParser=void 0;var r=n(73240),i=n(30683),o=n(11535),s=n(71999),a=n(11087);class c extends s.Parser{priority=100;parse(e,t,n){switch(t){case"I":return(0,a.parseNumericPattern)(o.numericPatterns.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return(0,a.parseNDigits)(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return(0,i.startOfISOWeek)((0,r.setISOWeek)(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}t.ISOWeekParser=c},76274:(e,t,n)=>{"use strict";t.ISOWeekYearParser=void 0;var r=n(30683),i=n(8180),o=n(71999),s=n(11087);class a extends o.Parser{priority=130;parse(e,t){return"R"===t?(0,s.parseNDigitsSigned)(4,e):(0,s.parseNDigitsSigned)(t.length,e)}set(e,t,n){const o=(0,i.constructFrom)(e,0);return o.setFullYear(n,0,4),o.setHours(0,0,0,0),(0,r.startOfISOWeek)(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}t.ISOWeekYearParser=a},69545:(e,t,n)=>{"use strict";t.LocalDayParser=void 0;var r=n(42719),i=n(71999),o=n(11087);class s extends i.Parser{priority=90;parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return(0,o.mapValue)((0,o.parseNDigits)(t.length,e),i);case"eo":return(0,o.mapValue)(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return(e=(0,r.setDay)(e,n,i)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}t.LocalDayParser=s},54009:(e,t,n)=>{"use strict";t.LocalWeekParser=void 0;var r=n(25457),i=n(7944),o=n(11535),s=n(71999),a=n(11087);class c extends s.Parser{priority=100;parse(e,t,n){switch(t){case"w":return(0,a.parseNumericPattern)(o.numericPatterns.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return(0,a.parseNDigits)(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,o){return(0,i.startOfWeek)((0,r.setWeek)(e,n,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}t.LocalWeekParser=c},18284:(e,t,n)=>{"use strict";t.LocalWeekYearParser=void 0;var r=n(26452),i=n(7944),o=n(71999),s=n(11087);class a extends o.Parser{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return(0,s.mapValue)((0,s.parseNDigits)(4,e),r);case"Yo":return(0,s.mapValue)(n.ordinalNumber(e,{unit:"year"}),r);default:return(0,s.mapValue)((0,s.parseNDigits)(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,o){const a=(0,r.getWeekYear)(e,o);if(n.isTwoDigitYear){const t=(0,s.normalizeTwoDigitYear)(n.year,a);return e.setFullYear(t,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),(0,i.startOfWeek)(e,o)}const c="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(c,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),(0,i.startOfWeek)(e,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}t.LocalWeekYearParser=a},94802:(e,t,n)=>{"use strict";t.MinuteParser=void 0;var r=n(11535),i=n(71999),o=n(11087);class s extends i.Parser{priority=60;parse(e,t,n){switch(t){case"m":return(0,o.parseNumericPattern)(r.numericPatterns.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}t.MinuteParser=s},63136:(e,t,n)=>{"use strict";t.MonthParser=void 0;var r=n(11535),i=n(71999),o=n(11087);class s extends i.Parser{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const i=e=>e-1;switch(t){case"M":return(0,o.mapValue)((0,o.parseNumericPattern)(r.numericPatterns.month,e),i);case"MM":return(0,o.mapValue)((0,o.parseNDigits)(2,e),i);case"Mo":return(0,o.mapValue)(n.ordinalNumber(e,{unit:"month"}),i);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}t.MonthParser=s},97990:(e,t,n)=>{"use strict";t.QuarterParser=void 0;var r=n(71999),i=n(11087);class o extends r.Parser{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return(0,i.parseNDigits)(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}t.QuarterParser=o},37554:(e,t,n)=>{"use strict";t.SecondParser=void 0;var r=n(11535),i=n(71999),o=n(11087);class s extends i.Parser{priority=50;parse(e,t,n){switch(t){case"s":return(0,o.parseNumericPattern)(r.numericPatterns.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return(0,o.parseNDigits)(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}t.SecondParser=s},63666:(e,t,n)=>{"use strict";t.StandAloneLocalDayParser=void 0;var r=n(42719),i=n(71999),o=n(11087);class s extends i.Parser{priority=90;parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return(0,o.mapValue)((0,o.parseNDigits)(t.length,e),i);case"co":return(0,o.mapValue)(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return(e=(0,r.setDay)(e,n,i)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}t.StandAloneLocalDayParser=s},47273:(e,t,n)=>{"use strict";t.StandAloneMonthParser=void 0;var r=n(11535),i=n(71999),o=n(11087);class s extends i.Parser{priority=110;parse(e,t,n){const i=e=>e-1;switch(t){case"L":return(0,o.mapValue)((0,o.parseNumericPattern)(r.numericPatterns.month,e),i);case"LL":return(0,o.mapValue)((0,o.parseNDigits)(2,e),i);case"Lo":return(0,o.mapValue)(n.ordinalNumber(e,{unit:"month"}),i);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}t.StandAloneMonthParser=s},59219:(e,t,n)=>{"use strict";t.StandAloneQuarterParser=void 0;var r=n(71999),i=n(11087);class o extends r.Parser{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return(0,i.parseNDigits)(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}t.StandAloneQuarterParser=o},49096:(e,t,n)=>{"use strict";t.TimestampMillisecondsParser=void 0;var r=n(8180),i=n(71999),o=n(11087);class s extends i.Parser{priority=20;parse(e){return(0,o.parseAnyDigitsSigned)(e)}set(e,t,n){return[(0,r.constructFrom)(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}t.TimestampMillisecondsParser=s},10919:(e,t,n)=>{"use strict";t.TimestampSecondsParser=void 0;var r=n(8180),i=n(71999),o=n(11087);class s extends i.Parser{priority=40;parse(e){return(0,o.parseAnyDigitsSigned)(e)}set(e,t,n){return[(0,r.constructFrom)(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"}t.TimestampSecondsParser=s},47751:(e,t,n)=>{"use strict";t.YearParser=void 0;var r=n(71999),i=n(11087);class o extends r.Parser{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return(0,i.mapValue)((0,i.parseNDigits)(4,e),r);case"yo":return(0,i.mapValue)(n.ordinalNumber(e,{unit:"year"}),r);default:return(0,i.mapValue)((0,i.parseNDigits)(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=(0,i.normalizeTwoDigitYear)(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const o="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}t.YearParser=o},11087:(e,t,n)=>{"use strict";t.dayPeriodEnumToHours=function(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}},t.isLeapYearIndex=function(e){return e%400==0||e%4==0&&e%100!=0},t.mapValue=function(e,t){return e?{value:t(e.value),rest:e.rest}:e},t.normalizeTwoDigitYear=function(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const t=r+50;i=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?i:1-i},t.parseAnyDigitsSigned=function(e){return o(i.numericPatterns.anyDigitsSigned,e)},t.parseNDigits=function(e,t){switch(e){case 1:return o(i.numericPatterns.singleDigit,t);case 2:return o(i.numericPatterns.twoDigits,t);case 3:return o(i.numericPatterns.threeDigits,t);case 4:return o(i.numericPatterns.fourDigits,t);default:return o(new RegExp("^\\d{1,"+e+"}"),t)}},t.parseNDigitsSigned=function(e,t){switch(e){case 1:return o(i.numericPatterns.singleDigitSigned,t);case 2:return o(i.numericPatterns.twoDigitsSigned,t);case 3:return o(i.numericPatterns.threeDigitsSigned,t);case 4:return o(i.numericPatterns.fourDigitsSigned,t);default:return o(new RegExp("^-?\\d{1,"+e+"}"),t)}},t.parseNumericPattern=o,t.parseTimezonePattern=function(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const i="+"===n[1]?1:-1,o=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:i*(o*r.millisecondsInHour+s*r.millisecondsInMinute+a*r.millisecondsInSecond),rest:t.slice(n[0].length)}};var r=n(63680),i=n(11535);function o(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}},25233:(e,t,n)=>{"use strict";t.parseISO=function(e,t){const n=t?.additionalDigits??2,h=function(e){const t={},n=e.split(i.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],i.timeZoneDelimiter.test(t.date)&&(t.date=e.split(i.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const e=i.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let p;if(h.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?i:100*o,restDateString:e.slice((r[1]||r[2]).length)}}(h.date,n);p=function(e,t){if(null===t)return new Date(NaN);const n=e.match(o);if(!n)return new Date(NaN);const r=!!n[4],i=c(n[1]),s=c(n[2])-1,a=c(n[3]),l=c(n[4]),h=c(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,l,h)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}(t,l,h):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(u[t]||(d(e)?29:28))}(t,s,a)&&function(e,t){return t>=1&&t<=(d(e)?366:365)}(t,i)?(e.setUTCFullYear(t,s,Math.max(i,a)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!p||isNaN(p.getTime()))return new Date(NaN);const f=p.getTime();let m,g=0;if(h.time&&(g=function(e){const t=e.match(s);if(!t)return NaN;const n=l(t[1]),i=l(t[2]),o=l(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,i,o)?n*r.millisecondsInHour+i*r.millisecondsInMinute+1e3*o:NaN}(h.time),isNaN(g)))return new Date(NaN);if(!h.timezone){const e=new Date(f+g),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return m=function(e){if("Z"===e)return 0;const t=e.match(a);if(!t)return 0;const n="+"===t[1]?-1:1,i=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,o)?n*(i*r.millisecondsInHour+o*r.millisecondsInMinute):NaN}(h.timezone),isNaN(m)?new Date(NaN):new Date(f+g+m)};var r=n(63680);const i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},o=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,s=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,a=/^([+-])(\d{2})(?::?(\d{2}))?$/;function c(e){return e?parseInt(e):1}function l(e){return e&&parseFloat(e.replace(",","."))||0}const u=[31,null,31,30,31,30,31,31,30,31,30,31];function d(e){return e%400==0||e%4==0&&e%100!=0}},39056:(e,t)=>{"use strict";t.parseJSON=function(e){const t=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return t?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4]-(+t[9]||0)*("-"==t[8]?-1:1),+t[5]-(+t[10]||0)*("-"==t[8]?-1:1),+t[6],+((t[7]||"0")+"00").substring(0,3))):new Date(NaN)}},15152:(e,t,n)=>{"use strict";t.previousDay=function(e,t){let n=(0,r.getDay)(e)-t;return n<=0&&(n+=7),(0,i.subDays)(e,n)};var r=n(20299),i=n(88960)},13147:(e,t,n)=>{"use strict";t.previousFriday=function(e){return(0,r.previousDay)(e,5)};var r=n(15152)},9200:(e,t,n)=>{"use strict";t.previousMonday=function(e){return(0,r.previousDay)(e,1)};var r=n(15152)},45407:(e,t,n)=>{"use strict";t.previousSaturday=function(e){return(0,r.previousDay)(e,6)};var r=n(15152)},32816:(e,t,n)=>{"use strict";t.previousSunday=function(e){return(0,r.previousDay)(e,0)};var r=n(15152)},70589:(e,t,n)=>{"use strict";t.previousThursday=function(e){return(0,r.previousDay)(e,4)};var r=n(15152)},61645:(e,t,n)=>{"use strict";t.previousTuesday=function(e){return(0,r.previousDay)(e,2)};var r=n(15152)},71634:(e,t,n)=>{"use strict";t.previousWednesday=function(e){return(0,r.previousDay)(e,3)};var r=n(15152)},39946:(e,t,n)=>{"use strict";t.quartersToMonths=function(e){return Math.trunc(e*r.monthsInQuarter)};var r=n(63680)},89103:(e,t,n)=>{"use strict";t.quartersToYears=function(e){const t=e/r.quartersInYear;return Math.trunc(t)};var r=n(63680)},50877:(e,t,n)=>{"use strict";t.roundToNearestHours=function(e,t){const n=t?.nearestTo??1;if(n<1||n>12)return(0,i.constructFrom)(e,NaN);const s=(0,o.toDate)(e),a=s.getMinutes()/60,c=s.getSeconds()/60/60,l=s.getMilliseconds()/1e3/60/60,u=s.getHours()+a+c+l,d=t?.roundingMethod??"round",h=(0,r.getRoundingMethod)(d)(u/n)*n,p=(0,i.constructFrom)(e,s);return p.setHours(h,0,0,0),p};var r=n(79311),i=n(8180),o=n(41944)},67887:(e,t,n)=>{"use strict";t.roundToNearestMinutes=function(e,t){const n=t?.nearestTo??1;if(n<1||n>30)return(0,i.constructFrom)(e,NaN);const s=(0,o.toDate)(e),a=s.getSeconds()/60,c=s.getMilliseconds()/1e3/60,l=s.getMinutes()+a+c,u=t?.roundingMethod??"round",d=(0,r.getRoundingMethod)(u)(l/n)*n,h=(0,i.constructFrom)(e,s);return h.setMinutes(d,0,0),h};var r=n(79311),i=n(8180),o=n(41944)},10378:(e,t,n)=>{"use strict";t.secondsToHours=function(e){const t=e/r.secondsInHour;return Math.trunc(t)};var r=n(63680)},28899:(e,t,n)=>{"use strict";t.secondsToMilliseconds=function(e){return e*r.millisecondsInSecond};var r=n(63680)},11404:(e,t,n)=>{"use strict";t.secondsToMinutes=function(e){const t=e/r.secondsInMinute;return Math.trunc(t)};var r=n(63680)},51893:(e,t,n)=>{"use strict";t.set=function(e,t){let n=(0,o.toDate)(e);return isNaN(+n)?(0,r.constructFrom)(e,NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=(0,i.setMonth)(n,t.month)),null!=t.date&&n.setDate(t.date),null!=t.hours&&n.setHours(t.hours),null!=t.minutes&&n.setMinutes(t.minutes),null!=t.seconds&&n.setSeconds(t.seconds),null!=t.milliseconds&&n.setMilliseconds(t.milliseconds),n)};var r=n(8180),i=n(2291),o=n(41944)},44057:(e,t,n)=>{"use strict";t.setDate=function(e,t){const n=(0,r.toDate)(e);return n.setDate(t),n};var r=n(41944)},42719:(e,t,n)=>{"use strict";t.setDay=function(e,t,n){const s=(0,o.getDefaultOptions)(),a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=(0,i.toDate)(e),l=c.getDay(),u=7-a,d=t<0||t>6?t-(l+u)%7:((t%7+7)%7+u)%7-(l+u)%7;return(0,r.addDays)(c,d)};var r=n(13449),i=n(41944),o=n(83093)},68615:(e,t,n)=>{"use strict";t.setDayOfYear=function(e,t){const n=(0,r.toDate)(e);return n.setMonth(0),n.setDate(t),n};var r=n(41944)},73408:(e,t,n)=>{"use strict";t.setDefaultOptions=function(e){const t={},n=(0,r.getDefaultOptions)();for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(void 0===e[n]?delete t[n]:t[n]=e[n]);(0,r.setDefaultOptions)(t)};var r=n(83093)},30154:(e,t,n)=>{"use strict";t.setHours=function(e,t){const n=(0,r.toDate)(e);return n.setHours(t),n};var r=n(41944)},49220:(e,t,n)=>{"use strict";t.setISODay=function(e,t){const n=(0,o.toDate)(e),s=t-(0,i.getISODay)(n);return(0,r.addDays)(n,s)};var r=n(13449),i=n(74560),o=n(41944)},73240:(e,t,n)=>{"use strict";t.setISOWeek=function(e,t){const n=(0,i.toDate)(e),o=(0,r.getISOWeek)(n)-t;return n.setDate(n.getDate()-7*o),n};var r=n(2844),i=n(41944)},89289:(e,t,n)=>{"use strict";t.setISOWeekYear=function(e,t){let n=(0,s.toDate)(e);const a=(0,i.differenceInCalendarDays)(n,(0,o.startOfISOWeekYear)(n)),c=(0,r.constructFrom)(e,0);return c.setFullYear(t,0,4),c.setHours(0,0,0,0),n=(0,o.startOfISOWeekYear)(c),n.setDate(n.getDate()+a),n};var r=n(8180),i=n(98444),o=n(70766),s=n(41944)},23203:(e,t,n)=>{"use strict";t.setMilliseconds=function(e,t){const n=(0,r.toDate)(e);return n.setMilliseconds(t),n};var r=n(41944)},89996:(e,t,n)=>{"use strict";t.setMinutes=function(e,t){const n=(0,r.toDate)(e);return n.setMinutes(t),n};var r=n(41944)},2291:(e,t,n)=>{"use strict";t.setMonth=function(e,t){const n=(0,o.toDate)(e),s=n.getFullYear(),a=n.getDate(),c=(0,r.constructFrom)(e,0);c.setFullYear(s,t,15),c.setHours(0,0,0,0);const l=(0,i.getDaysInMonth)(c);return n.setMonth(t,Math.min(a,l)),n};var r=n(8180),i=n(87279),o=n(41944)},55733:(e,t,n)=>{"use strict";t.setQuarter=function(e,t){const n=(0,i.toDate)(e),o=t-(Math.trunc(n.getMonth()/3)+1);return(0,r.setMonth)(n,n.getMonth()+3*o)};var r=n(2291),i=n(41944)},14204:(e,t,n)=>{"use strict";t.setSeconds=function(e,t){const n=(0,r.toDate)(e);return n.setSeconds(t),n};var r=n(41944)},25457:(e,t,n)=>{"use strict";t.setWeek=function(e,t,n){const o=(0,i.toDate)(e),s=(0,r.getWeek)(o,n)-t;return o.setDate(o.getDate()-7*s),o};var r=n(40661),i=n(41944)},92424:(e,t,n)=>{"use strict";t.setWeekYear=function(e,t,n){const c=(0,a.getDefaultOptions)(),l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??c.firstWeekContainsDate??c.locale?.options?.firstWeekContainsDate??1;let u=(0,s.toDate)(e);const d=(0,i.differenceInCalendarDays)(u,(0,o.startOfWeekYear)(u,n)),h=(0,r.constructFrom)(e,0);return h.setFullYear(t,0,l),h.setHours(0,0,0,0),u=(0,o.startOfWeekYear)(h,n),u.setDate(u.getDate()+d),u};var r=n(8180),i=n(98444),o=n(89),s=n(41944),a=n(83093)},31700:(e,t,n)=>{"use strict";t.setYear=function(e,t){const n=(0,i.toDate)(e);return isNaN(+n)?(0,r.constructFrom)(e,NaN):(n.setFullYear(t),n)};var r=n(8180),i=n(41944)},26548:(e,t,n)=>{"use strict";t.startOfDay=function(e){const t=(0,r.toDate)(e);return t.setHours(0,0,0,0),t};var r=n(41944)},68720:(e,t,n)=>{"use strict";t.startOfDecade=function(e){const t=(0,r.toDate)(e),n=t.getFullYear(),i=10*Math.floor(n/10);return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t};var r=n(41944)},92582:(e,t,n)=>{"use strict";t.startOfHour=function(e){const t=(0,r.toDate)(e);return t.setMinutes(0,0,0),t};var r=n(41944)},30683:(e,t,n)=>{"use strict";t.startOfISOWeek=function(e){return(0,r.startOfWeek)(e,{weekStartsOn:1})};var r=n(7944)},70766:(e,t,n)=>{"use strict";t.startOfISOWeekYear=function(e){const t=(0,r.getISOWeekYear)(e),n=(0,o.constructFrom)(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),(0,i.startOfISOWeek)(n)};var r=n(63173),i=n(30683),o=n(8180)},93888:(e,t,n)=>{"use strict";t.startOfMinute=function(e){const t=(0,r.toDate)(e);return t.setSeconds(0,0),t};var r=n(41944)},30068:(e,t,n)=>{"use strict";t.startOfMonth=function(e){const t=(0,r.toDate)(e);return t.setDate(1),t.setHours(0,0,0,0),t};var r=n(41944)},15402:(e,t,n)=>{"use strict";t.startOfQuarter=function(e){const t=(0,r.toDate)(e),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t};var r=n(41944)},60584:(e,t,n)=>{"use strict";t.startOfSecond=function(e){const t=(0,r.toDate)(e);return t.setMilliseconds(0),t};var r=n(41944)},95755:(e,t,n)=>{"use strict";t.startOfToday=function(){return(0,r.startOfDay)(Date.now())};var r=n(26548)},74691:(e,t)=>{"use strict";t.startOfTomorrow=function(){const e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r+1),i.setHours(0,0,0,0),i}},7944:(e,t,n)=>{"use strict";t.startOfWeek=function(e,t){const n=(0,i.getDefaultOptions)(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=(0,r.toDate)(e),a=s.getDay(),c=(a<o?7:0)+a-o;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s};var r=n(41944),i=n(83093)},89:(e,t,n)=>{"use strict";t.startOfWeekYear=function(e,t){const n=(0,s.getDefaultOptions)(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=(0,i.getWeekYear)(e,t),l=(0,r.constructFrom)(e,0);return l.setFullYear(c,0,a),l.setHours(0,0,0,0),(0,o.startOfWeek)(l,t)};var r=n(8180),i=n(26452),o=n(7944),s=n(83093)},77377:(e,t,n)=>{"use strict";t.startOfYear=function(e){const t=(0,r.toDate)(e),n=(0,i.constructFrom)(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n};var r=n(41944),i=n(8180)},60434:(e,t)=>{"use strict";t.startOfYesterday=function(){const e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r-1),i.setHours(0,0,0,0),i}},14519:(e,t,n)=>{"use strict";t.sub=function(e,t){const{years:n=0,months:s=0,weeks:a=0,days:c=0,hours:l=0,minutes:u=0,seconds:d=0}=t,h=(0,i.subMonths)(e,s+12*n),p=(0,r.subDays)(h,c+7*a),f=1e3*(d+60*(u+60*l));return(0,o.constructFrom)(e,p.getTime()-f)};var r=n(88960),i=n(30700),o=n(8180)},75314:(e,t,n)=>{"use strict";t.subBusinessDays=function(e,t){return(0,r.addBusinessDays)(e,-t)};var r=n(73647)},88960:(e,t,n)=>{"use strict";t.subDays=function(e,t){return(0,r.addDays)(e,-t)};var r=n(13449)},50924:(e,t,n)=>{"use strict";t.subHours=function(e,t){return(0,r.addHours)(e,-t)};var r=n(42231)},68630:(e,t,n)=>{"use strict";t.subISOWeekYears=function(e,t){return(0,r.addISOWeekYears)(e,-t)};var r=n(24887)},14929:(e,t,n)=>{"use strict";t.subMilliseconds=function(e,t){return(0,r.addMilliseconds)(e,-t)};var r=n(10540)},34706:(e,t,n)=>{"use strict";t.subMinutes=function(e,t){return(0,r.addMinutes)(e,-t)};var r=n(28053)},30700:(e,t,n)=>{"use strict";t.subMonths=function(e,t){return(0,r.addMonths)(e,-t)};var r=n(12513)},88710:(e,t,n)=>{"use strict";t.subQuarters=function(e,t){return(0,r.addQuarters)(e,-t)};var r=n(90047)},478:(e,t,n)=>{"use strict";t.subSeconds=function(e,t){return(0,r.addSeconds)(e,-t)};var r=n(88009)},65126:(e,t,n)=>{"use strict";t.subWeeks=function(e,t){return(0,r.addWeeks)(e,-t)};var r=n(67145)},42369:(e,t,n)=>{"use strict";t.subYears=function(e,t){return(0,r.addYears)(e,-t)};var r=n(71706)},41944:(e,t)=>{"use strict";t.toDate=function(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}},43330:(e,t,n)=>{"use strict";t.transpose=function(e,t){const n=t instanceof Date?(0,r.constructFrom)(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n};var r=n(8180)},28306:(e,t,n)=>{"use strict";t.weeksToDays=function(e){return Math.trunc(e*r.daysInWeek)};var r=n(63680)},24757:(e,t,n)=>{"use strict";t.yearsToDays=function(e){return Math.trunc(e*r.daysInYear)};var r=n(63680)},76709:(e,t,n)=>{"use strict";t.yearsToMonths=function(e){return Math.trunc(e*r.monthsInYear)};var r=n(63680)},25115:(e,t,n)=>{"use strict";t.yearsToQuarters=function(e){return Math.trunc(e*r.quartersInYear)};var r=n(63680)},42579:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,n="millisecond",r="second",i="minute",o="hour",s="day",a="week",c="month",l="quarter",u="year",d="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,s=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:a,d:s,D:d,h:o,m:i,s:r,ms:n,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",b={};b[v]=m;var x="$isDayjsObject",O=function(e){return e instanceof _||!(!e||!e[x])},w=function e(t,n,r){var i;if(!t)return v;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(i=o),n&&(b[o]=n,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;b[a]=t,i=a}return!r&&i&&(v=i),i||!r&&v},S=function(e,t){if(O(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new _(n)},k=y;k.l=w,k.i=O,k.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var _=function(){function m(e){this.$L=w(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var g=m.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return k},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return S(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<S(e)},g.$g=function(e,t,n){return k.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,l=!!k.u(t)||t,h=k.p(e),p=function(e,t){var r=k.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return l?r:r.endOf(s)},f=function(e,t){return k.w(n.toDate()[e].apply(n.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(h){case u:return l?p(1,0):p(31,11);case c:return l?p(1,g):p(0,g+1);case a:var b=this.$locale().weekStart||0,x=(m<b?m+7:m)-b;return p(l?y-x:y+(6-x),g);case s:case d:return f(v+"Hours",0);case o:return f(v+"Minutes",1);case i:return f(v+"Seconds",2);case r:return f(v+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var a,l=k.p(e),h="set"+(this.$u?"UTC":""),p=(a={},a[s]=h+"Date",a[d]=h+"Date",a[c]=h+"Month",a[u]=h+"FullYear",a[o]=h+"Hours",a[i]=h+"Minutes",a[r]=h+"Seconds",a[n]=h+"Milliseconds",a)[l],f=l===s?this.$D+(t-this.$W):t;if(l===c||l===u){var m=this.clone().set(d,1);m.$d[p](f),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[k.p(e)]()},g.add=function(n,l){var d,h=this;n=Number(n);var p=k.p(l),f=function(e){var t=S(h);return k.w(t.date(t.date()+Math.round(e*n)),h)};if(p===c)return this.set(c,this.$M+n);if(p===u)return this.set(u,this.$y+n);if(p===s)return f(1);if(p===a)return f(7);var m=(d={},d[i]=e,d[o]=t,d[r]=1e3,d)[p]||1,g=this.$d.getTime()+n*m;return k.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=k.z(this),o=this.$H,s=this.$m,a=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,d=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},p=function(e){return k.s(o%12||12,e,"0")},m=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(f,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return k.s(t.$y,4,"0");case"M":return a+1;case"MM":return k.s(a+1,2,"0");case"MMM":return d(n.monthsShort,a,l,3);case"MMMM":return d(l,a);case"D":return t.$D;case"DD":return k.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,c,2);case"ddd":return d(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(o);case"HH":return k.s(o,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return m(o,s,!0);case"A":return m(o,s,!1);case"m":return String(s);case"mm":return k.s(s,2,"0");case"s":return String(t.$s);case"ss":return k.s(t.$s,2,"0");case"SSS":return k.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,d,h){var p,f=this,m=k.p(d),g=S(n),y=(g.utcOffset()-this.utcOffset())*e,v=this-g,b=function(){return k.m(f,g)};switch(m){case u:p=b()/12;break;case c:p=b();break;case l:p=b()/3;break;case a:p=(v-y)/6048e5;break;case s:p=(v-y)/864e5;break;case o:p=v/t;break;case i:p=v/e;break;case r:p=v/1e3;break;default:p=v}return h?p:k.a(p)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return b[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=w(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return k.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),P=_.prototype;return S.prototype=P,[["$ms",n],["$s",r],["$m",i],["$H",o],["$W",s],["$M",c],["$y",u],["$D",d]].forEach((function(e){P[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,_,S),e.$i=!0),S},S.locale=w,S.isDayjs=O,S.unix=function(e){return S(1e3*e)},S.en=b[v],S.Ls=b,S.p={},S}()},99751:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n={name:"zh-cn",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(e,t){return"W"===t?e+"":e+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(e,t){var n=100*e+t;return n<600?"":n<900?"":n<1100?"":n<1300?"":n<1800?"":""}};return t.default.locale(n,null,!0),n}(n(42579))},47546:function(e){e.exports=function(){"use strict";return function(e,t,n){var r="h:mm A",i={lastDay:"[Yesterday at] "+r,sameDay:"[Today at] "+r,nextDay:"[Tomorrow at] "+r,nextWeek:"dddd [at] "+r,lastWeek:"[Last] dddd [at] "+r,sameElse:"MM/DD/YYYY"};t.prototype.calendar=function(e,t){var r=t||this.$locale().calendar||i,o=n(e||void 0).startOf("d"),s=this.diff(o,"d",!0),a="sameElse",c=s<-6?a:s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":a,l=r[c]||i[c];return"function"==typeof l?l.call(this,n()):this.format(l)}}}()},17941:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(e,t,n,i){return r.fromToBase(e,t,n,i)}n.en.relativeTime=i,r.fromToBase=function(t,r,o,s,a){for(var c,l,u,d=o.$locale().relativeTime||i,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=h.length,f=0;f<p;f+=1){var m=h[f];m.d&&(c=s?n(t).diff(o,m.d,!0):o.diff(t,m.d,!0));var g=(e.rounding||Math.round)(Math.abs(c));if(u=c>0,g<=m.r||!m.r){g<=1&&f>0&&(m=h[f-1]);var y=d[m.l];a&&(g=a(""+g)),l="string"==typeof y?y.replace("%d",g):y(g,r,m.l,u);break}}if(r)return l;var v=u?d.future:d.past;return"function"==typeof v?v(l):v.replace("%s",l)},r.to=function(e,t){return o(e,t,this,!0)},r.from=function(e,t){return o(e,t,this)};var s=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(s(this),e)},r.fromNow=function(e){return this.from(s(this),e)}}}()},86505:e=>{function t(e){if(!e)return"";if(!/\r/.test(e))return e;for(e=e.replace(/\r+\n/gm,"\n");/\r./.test(e);)e=e.replace(/^([^\r\n]*)\r+([^\r\n]+)/gm,(function(e,t,n){return n+t.slice(n.length)}));return e}function n(e){for(var t=0,n=0;n<e.length;n++)e[t].length<=e[n].length&&(t=n);return t}function r(e){if(!/\r/.test(e))return e;for(var t=e.split("\r"),r=[];t.length>0;){var i=n(t);r.push(t[i]),t=t.slice(i+1)}return r.join("\r")}e.exports=t,e.exports.escapeCarriageReturn=t,e.exports.escapeCarriageReturnSafe=function(e){if(!e)return"";if(!/\r/.test(e))return e;if(!/\n/.test(e))return r(e);var n=(e=e.replace(/\r+\n/gm,"\n")).lastIndexOf("\n");return t(e.slice(0,n))+"\n"+r(e.slice(n+1))}},72579:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,s),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,p=u.length;for(l=0;l<p;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||i&&!a[c].once||r&&a[c].context!==r)&&l.push(a[c]);l.length?this._events[o]=1===l.length?l[0]:l:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},64401:(e,t,n)=>{"use strict";n.d(t,{Lw:()=>s,Xf:()=>a,ZA:()=>o,dt:()=>r,iY:()=>i});var r="data-focus-lock",i="data-focus-lock-disabled",o="data-no-focus-lock",s="data-autofocus-inside",a="data-no-autofocus"},95372:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(64119),i=n(10210),o=n(5315),s=n(63894),a=function(e,t){return void 0===t&&(t=(0,s.b)((0,o.dH)(e).ownerDocument)),!(!t||t.dataset&&t.dataset.focusGuard)&&(0,i.r)(e).some((function(e){return(0,r.gR)(e,t)||function(e,t){return Boolean((0,o.$r)(e.querySelectorAll("iframe")).some((function(e){return function(e,t){return e===t}(e,t)})))}(e,t)}))}},19984:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var r=n(64401),i=n(64119),o=n(5315),s=n(63894),a=function(e){void 0===e&&(e=document);var t=(0,s.b)(e);return!!t&&(0,o.$r)(e.querySelectorAll("[".concat(r.ZA,"]"))).some((function(e){return(0,i.gR)(e,t)}))}},13063:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var r=n(64119),i=n(10210),o=n(21264),s=n(59242),a=function(e){var t=(0,i.r)(e).filter(o.AM),n=(0,s.Jl)(e,e,t),a=new Map,c=(0,r.hQ)([n],a,!0),l=(0,r.hQ)(t,a).filter((function(e){var t=e.node;return(0,o.AM)(t)})).map((function(e){return e.node}));return c.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:l.indexOf(t)>=0,guard:(0,o.Mw)(t)}}))}},36807:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>g});var r=n(21264),i=function(e,t){return(0,r.Mv)(e)&&e.name?function(e,t){return t.filter(r.Mv).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},o=function(e){return e[0]&&e.length>1?i(e[0],e):e[0]},s=function(e,t){return e.length>1?e.indexOf(i(e[t],e)):t},a="NEW_FOCUS",c=n(64119),l=n(10210),u=n(5315),d=n(63894),h=n(59242),p=function(e,t){var n,p,f,m,g,y,v=(0,d.b)((0,u._j)(e).length>0?document:(0,u.dH)(e).ownerDocument),b=(0,l.r)(e).filter(r.AM),x=(0,h.Jl)(v||e,e,b),O=new Map,w=(0,c.OV)(b,O),S=(0,c.hQ)(b,O).filter((function(e){var t=e.node;return(0,r.AM)(t)}));if(S[0]||(S=w)[0]){var k,_,P,E=(0,c.OV)([x],O).map((function(e){return e.node})),C=(k=E,_=S,P=new Map,_.forEach((function(e){return P.set(e.node,e)})),k.map((function(e){return P.get(e)})).filter(r.O9)),T=C.map((function(e){return e.node})),j=function(e,t,n,o){var c=e.length,l=e[0],u=e[c-1],d=(0,r.Mw)(n);if(!(n&&e.indexOf(n)>=0)){var h,p,f=void 0!==n?t.indexOf(n):-1,m=o?t.indexOf(o):f,g=o?e.indexOf(o):-1,y=f-m,v=t.indexOf(l),b=t.indexOf(u),x=(h=t,p=new Set,h.forEach((function(e){return p.add(i(e,h))})),h.filter((function(e){return p.has(e)}))),O=(void 0!==n?x.indexOf(n):-1)-(o?x.indexOf(o):f),w=s(e,0),S=s(e,c-1);return-1===f||-1===g?a:!y&&g>=0?g:f<=v&&d&&Math.abs(y)>1?S:f>=b&&d&&Math.abs(y)>1?w:y&&Math.abs(O)>1?g:f<=v?S:f>b?w:y?Math.abs(y)>1?g:(c+g+y)%c:void 0}}(T,E,v,t);if(j===a){var I=(n=w,p=T,f=(0,h.a1)(b,O),g=n.map((function(e){return e.node})),(y=(0,c.y2)(g.filter((m=f,function(e){var t,n=null===(t=(0,r.vh)(e))||void 0===t?void 0:t.autofocus;return e.autofocus||void 0!==n&&"false"!==n||m.indexOf(e)>=0}))))&&y.length?o(y):o((0,c.y2)(p)));return I?{node:I}:void console.warn("focus-lock: cannot find any node to move focus into")}return void 0===j?j:C[j]}},f=0,m=!1;const g=function(e,t,n){void 0===n&&(n={});var r,i,o=p(e,t);if(!m&&o){if(f>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),m=!0,void setTimeout((function(){m=!1}),1);f++,r=o.node,i=n.focusOptions,"focus"in r&&r.focus(i),"contentWindow"in r&&r.contentWindow&&r.contentWindow.focus(),f--}}},64119:(e,t,n)=>{"use strict";n.d(t,{gR:()=>y,y2:()=>p,OV:()=>m,hQ:()=>f,xz:()=>g});var r=n(5315),i=n(21264),o=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},s=function(e,t,n){return(0,r.$r)(e).map((function(e,t){return{node:e,index:t,tabIndex:n&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(o)},a=n(64401),c=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),l="".concat(c,", [data-focus-guard]"),u=function(e,t){return(0,r.$r)((e.shadowRoot||e).children).reduce((function(e,n){return e.concat(n.matches(t?l:c)?[n]:[],u(n))}),[])},d=function(e,t){return e.reduce((function(e,n){var i,o=u(n,t),s=(i=[]).concat.apply(i,o.map((function(e){return function(e,t){var n;return e instanceof HTMLIFrameElement&&(null===(n=e.contentDocument)||void 0===n?void 0:n.body)?d([e.contentDocument.body],t):[e]}(e,t)})));return e.concat(s,n.parentNode?(0,r.$r)(n.parentNode.querySelectorAll(c)).filter((function(e){return e===n})):[])}),[])},h=function(e,t){return(0,r.$r)(e).filter((function(e){return(0,i.bQ)(t,e)})).filter((function(e){return(0,i.yF)(e)}))},p=function(e,t){return void 0===t&&(t=new Map),(0,r.$r)(e).filter((function(e){return(0,i.ie)(t,e)}))},f=function(e,t,n){return s(h(d(e,n),t),!0,n)},m=function(e,t){return s(h(d(e),t),!1)},g=function(e,t){return h(function(e){var t=e.querySelectorAll("[".concat(a.Lw,"]"));return(0,r.$r)(t).map((function(e){return d([e])})).reduce((function(e,t){return e.concat(t)}),[])}(e),t)},y=function(e,t){return e.shadowRoot?y(e.shadowRoot,t):!(void 0===Object.getPrototypeOf(e).contains||!Object.getPrototypeOf(e).contains.call(e,t))||(0,r.$r)(e.children).some((function(e){var n;if(e instanceof HTMLIFrameElement){var r=null===(n=e.contentDocument)||void 0===n?void 0:n.body;return!!r&&y(r,t)}return y(e,t)}))}},10210:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(64401),i=n(5315),o=function(e){return e.parentNode?o(e.parentNode):e},s=function(e){return(0,i._j)(e).filter(Boolean).reduce((function(e,t){var n=t.getAttribute(r.dt);return e.push.apply(e,n?function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=e[r].compareDocumentPosition(e[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter((function(e,n){return!t.has(n)}))}((0,i.$r)(o(t).querySelectorAll("[".concat(r.dt,'="').concat(n,'"]:not([').concat(r.iY,'="disabled"])')))):[t]),e}),[])}},5315:(e,t,n)=>{"use strict";n.d(t,{$r:()=>r,_j:()=>i,dH:()=>o});var r=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},i=function(e){return Array.isArray(e)?e:[e]},o=function(e){return Array.isArray(e)?e[0]:e}},63894:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var r=function(e){if(void 0===e&&(e=document),e&&e.activeElement){var t=e.activeElement;return t.shadowRoot?r(t.shadowRoot):t instanceof HTMLIFrameElement&&function(e){try{return t.contentWindow.document}catch(e){return}}()?r(t.contentWindow.document):t}}},21264:(e,t,n)=>{"use strict";n.d(t,{AM:()=>f,Mv:()=>u,Mw:()=>p,O9:()=>m,bQ:()=>s,ie:()=>a,vh:()=>c,yF:()=>d});var r=n(64401),i=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},o=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},s=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=function(e,t){return!e||o(e)||!function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!(!t||!t.getPropertyValue||"none"!==t.getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility"))}(e)&&t(i(e))}(t,s.bind(void 0,e));return e.set(t,r),r},a=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=function(e,t){return!(e&&!o(e))||!!h(e)&&t(i(e))}(t,a.bind(void 0,e));return e.set(t,r),r},c=function(e){return e.dataset},l=function(e){return"INPUT"===e.tagName},u=function(e){return l(e)&&"radio"===e.type},d=function(e){return!((l(e)||function(e){return"BUTTON"===e.tagName}(e))&&("hidden"===e.type||e.disabled))},h=function(e){var t=e.getAttribute(r.Xf);return![!0,"true",""].includes(t)},p=function(e){var t;return Boolean(e&&(null===(t=c(e))||void 0===t?void 0:t.focusGuard))},f=function(e){return!p(e)},m=function(e){return Boolean(e)}},59242:(e,t,n)=>{"use strict";n.d(t,{Jl:()=>a,a1:()=>c});var r=n(64119),i=n(5315),o=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&o(e.parentNode.host||e.parentNode,t),t},s=function(e,t){for(var n=o(e),r=o(t),i=0;i<n.length;i+=1){var s=n[i];if(r.indexOf(s)>=0)return s}return!1},a=function(e,t,n){var o=(0,i._j)(e),a=(0,i._j)(t),c=o[0],l=!1;return a.filter(Boolean).forEach((function(e){l=s(l||e,e)||l,n.filter(Boolean).forEach((function(e){var t=s(c,e);t&&(l=!l||(0,r.gR)(t,l)?t:s(t,l))}))})),l},c=function(e,t){return e.reduce((function(e,n){return e.concat((0,r.xz)(n,t))}),[])}},13e3:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var r=function(){return n.nc}},18526:(e,t,n)=>{"use strict";n.d(t,{createRequest:()=>O,generateFetchWithTimeout:()=>u});var r=n(65485),i=n.n(r),o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}"function"==typeof SuppressedError&&SuppressedError;var l=function(e){function t(t){return e.call(this,t)||this}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),u=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return a(void 0,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return n=[fetch.apply(void 0,t)],e&&n.push(new Promise((function(t,n){setTimeout((function(){n(new l("".concat(e," ms timeout to fetch")))}),e)}))),[4,Promise.race(n)];case 1:return[2,r.sent()]}}))}))}},d=n(9515),h=n(78670),p=n(10232),f=n(47886),m=n(59152).isUndefined;function g(e){return a(this,void 0,void 0,(function(){var t,n,i;return c(this,(function(o){switch(o.label){case 0:t=null;try{t=function(e){var t;if("undefined"==typeof fetch)throw new Error("current env not have fetch function");var n=new Headers,r=e.headers;if(r&&Object.keys(r).forEach((function(e){var t;n.set(e,(null===(t=r[e])||void 0===t?void 0:t.toString())||"")})),e.auth){var i=e.auth.username||"",o=e.auth.password?decodeURI(encodeURIComponent(e.auth.password)):"";n.set("Authorization","Basic ".concat(btoa(i+":"+o)))}var s=(null===(t=e.method)||void 0===t?void 0:t.toUpperCase())||"GET",a={headers:n,method:s};"GET"!==s&&"HEAD"!==s&&(a.body=e.data),["mode","cache","integrity","redirect","referrer"].forEach((function(t){var n;Object.prototype.hasOwnProperty.call(e,t)&&Object.assign(a,((n={})[t]=t,n))})),m(e.withCredentials)||(a.credentials=e.withCredentials?"include":"omit");var c=d(e.baseURL,e.url),l=f(c,e.params,e.paramsSerializer);return new Request(l,a)}(e)}catch(t){return[2,p.adapter(e)]}return n=function(e,t){return a(this,void 0,void 0,(function(){var n,i,o,s,a,d,h,p;return c(this,(function(c){switch(c.label){case 0:i=u(t.timeout),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,i(e)];case 2:return n=c.sent(),[3,4];case 3:return(o=c.sent())instanceof l?[2,new r.AxiosError(o.message,r.AxiosError.ETIMEDOUT,t,e)]:[2,new r.AxiosError(null==o?void 0:o.message,r.AxiosError.ERR_NETWORK,t,e)];case 4:s=new Headers(n.headers),a={},s.forEach((function(e,t){a[t]=e})),d={status:n.status,statusText:n.statusText,headers:a,config:t,request:e,data:null},c.label=5;case 5:if(c.trys.push([5,15,,16]),!(n.status>=200&&204!==n.status))return[3,14];switch(t.responseType){case"arraybuffer":return[3,6];case"blob":return[3,8];case"json":return[3,10]}return[3,12];case 6:return[4,n.arrayBuffer()];case 7:return h=c.sent(),[3,14];case 8:return[4,n.blob()];case 9:return h=c.sent(),[3,14];case 10:return[4,n.json()];case 11:return h=c.sent(),[3,14];case 12:return[4,n.text()];case 13:return h=c.sent(),[3,14];case 14:return[3,16];case 15:return p=c.sent(),[2,new r.AxiosError(p.message,r.AxiosError.ERR_BAD_RESPONSE,t,e,d)];case 16:return d.data=h,[2,d]}}))}))}(t,e),[4,n];case 1:return i=o.sent(),[2,new Promise((function(e,t){i instanceof Error?t(i):h(e,t,i)}))]}}))}))}var y="undefined"==typeof window,v=3e3,b=[],x=[[void 0,function(e){if(y)if(e instanceof r.AxiosError){var t=e.config,n=e.status;console.error("[axios]: request error, url: ".concat(null==t?void 0:t.baseURL).concat(null==t?void 0:t.url,", statusCode: ").concat(n,", error: ").concat(e.message))}else e instanceof Error?console.error("[axios]: request error, message: ".concat(e.message)):console.error("[axios]: request error");throw e}]];function O(e){void 0===e&&(e={});var t=e.method,n=void 0===t?"get":t,r=e.timeout,o=void 0===r?v:r,a=e.requestInterceptors,c=void 0===a?[]:a,l=e.responseInterceptors,u=void 0===l?[]:l,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["method","timeout","requestInterceptors","responseInterceptors"]),h=i().create(s({method:n,timeout:o,adapter:g},d)),p=b.concat(c),f=x.concat(u);return p.forEach((function(e){var t;return(t=h.interceptors.request).use.apply(t,e)})),f.forEach((function(e){var t;return(t=h.interceptors.response).use.apply(t,e)})),h}},20981:(e,t,n)=>{"use strict";e.exports=n(18526)},39942:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,V:()=>i});var r=function(){},i=function(){}},4674:(e,t,n)=>{"use strict";var r=n(17020),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=c(t),m=c(n),g=0;g<s.length;++g){var y=s[g];if(!(o[y]||r&&r[y]||m&&m[y]||a&&a[y])){var v=h(n,y);try{l(t,y,v)}catch(e){}}}}return t}},583:()=>{!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=window.document,t=[],n=null,r=null;o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?u(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},o._resetCrossOriginUpdater=function(){n=null,r=null},o.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},o.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},o.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},o.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},o.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,i=null,o=null;if(this.POLL_INTERVAL?i=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(o=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(i&&e.clearInterval(i),a(e,"resize",r,!0)),a(t,"scroll",r,!0),o&&o.disconnect()})),t!=(this.root&&this.root.ownerDocument||e)){var c=p(t);c&&this._monitorIntersections(c.ownerDocument)}}},o.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&this.root.ownerDocument||e,i=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var i=p(n);if((n=i&&i.ownerDocument)==t)return!0}return!1}));if(!i){var o=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),o(),t!=r){var s=p(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},o.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},o.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,s=c(o),a=this._rootContainsTarget(o),l=r.entry,u=e&&a&&this._computeTargetAndRootIntersection(o,s,t),d=r.entry=new i({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:s,rootBounds:n&&!this.root?null:t,intersectionRect:u});l?e&&a?this._hasCrossedThreshold(l,d)&&this._queuedEntries.push(d):l&&l.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},o.prototype._computeTargetAndRootIntersection=function(t,i,o){if("none"!=window.getComputedStyle(t).display){for(var s,a,l,d,p,f,m,g,y=i,v=h(t),b=!1;!b&&v;){var x=null,O=1==v.nodeType?window.getComputedStyle(v):{};if("none"==O.display)return null;if(v==this.root||9==v.nodeType)if(b=!0,v==this.root||v==e)n&&!this.root?!r||0==r.width&&0==r.height?(v=null,x=null,y=null):x=r:x=o;else{var w=h(v),S=w&&c(w),k=w&&this._computeTargetAndRootIntersection(w,S,o);S&&k?(v=w,x=u(S,k)):(v=null,y=null)}else{var _=v.ownerDocument;v!=_.body&&v!=_.documentElement&&"visible"!=O.overflow&&(x=c(v))}if(x&&(s=x,a=y,void 0,void 0,void 0,void 0,void 0,void 0,l=Math.max(s.top,a.top),d=Math.min(s.bottom,a.bottom),p=Math.max(s.left,a.left),g=d-l,y=(m=(f=Math.min(s.right,a.right))-p)>=0&&g>=0&&{top:l,bottom:d,left:p,right:f,width:m,height:g}||null),!y)break;v=v&&h(v)}return y}},o.prototype._getRootRect=function(){var t;if(this.root)t=c(this.root);else{var n=e.documentElement,r=e.body;t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},o.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},o.prototype._rootIsInDom=function(){return!this.root||d(e,this.root)},o.prototype._rootContainsTarget=function(t){return d(this.root||e,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},o.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},o.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=o,window.IntersectionObserverEntry=i}function i(e){this.time=e.time,this.target=e.target,this.rootBounds=l(e.rootBounds),this.boundingClientRect=l(e.boundingClientRect),this.intersectionRect=l(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function o(e,t){var n,r,i,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function a(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function u(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function d(e,t){for(var n=t;n;){if(n==e)return!0;n=h(n)}return!1}function h(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?p(t):n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}function p(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}}()},91800:(e,t,n)=>{"use strict";n.d(t,{S:()=>c});var r=n(58932),i=n(26336),o=n(72846),s=n(37432);function a(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}var c=function(){function e(t,n,i,c){var l,u,d,h=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=h.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===s.TT.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return(0,s.hN)(h.ast,h.locales,h.formatters,h.formats,e,void 0,h.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=h.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(h.locales)[0]}},this.getAst=function(){return h.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var p=c||{},f=(p.formatters,(0,r.Tt)(p,["formatters"]));this.ast=e.__parse(t,(0,r.Cl)((0,r.Cl)({},f),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=(u=e.formats,(d=i)?Object.keys(u).reduce((function(e,t){var n,i;return e[t]=(n=u[t],(i=d[t])?(0,r.Cl)((0,r.Cl)((0,r.Cl)({},n||{}),i||{}),Object.keys(n).reduce((function(e,t){return e[t]=(0,r.Cl)((0,r.Cl)({},n[t]),i[t]||{}),e}),{})):n),e}),(0,r.Cl)({},u)):u),this.formatters=c&&c.formatters||(void 0===(l=this.formatterCache)&&(l={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:(0,o.B)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,(0,r.fX)([void 0],t,!1)))}),{cache:a(l.number),strategy:o.W.variadic}),getDateTimeFormat:(0,o.B)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,(0,r.fX)([void 0],t,!1)))}),{cache:a(l.dateTime),strategy:o.W.variadic}),getPluralRules:(0,o.B)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,(0,r.fX)([void 0],t,!1)))}),{cache:a(l.pluralRules),strategy:o.W.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if(void 0!==Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])}},e.__parse=i.qg,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}()},64413:(e,t,n)=>{"use strict";n.d(t,{$x:()=>s,Ei:()=>c,IF:()=>o,O4:()=>r,Zo:()=>a});var r,i=n(58932);!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(r||(r={}));var o=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.code=n,i.originalMessage=r,i}return(0,i.C6)(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),s=function(e){function t(t,n,i,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(i).join('", "'),'"'),r.INVALID_VALUE,o)||this}return(0,i.C6)(t,e),t}(o),a=function(e){function t(t,n,i){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),r.INVALID_VALUE,i)||this}return(0,i.C6)(t,e),t}(o),c=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),r.MISSING_VALUE,n)||this}return(0,i.C6)(t,e),t}(o)},37432:(e,t,n)=>{"use strict";n.d(t,{RK:()=>s,TT:()=>r,hN:()=>a});var r,i=n(26336),o=n(64413);function s(e){return"function"==typeof e}function a(e,t,n,c,l,u,d){if(1===e.length&&(0,i.eW)(e[0]))return[{type:r.literal,value:e[0].value}];for(var h=[],p=0,f=e;p<f.length;p++){var m=f[p];if((0,i.eW)(m))h.push({type:r.literal,value:m.value});else if((0,i.jA)(m))"number"==typeof u&&h.push({type:r.literal,value:n.getNumberFormat(t).format(u)});else{var g=m.value;if(!l||!(g in l))throw new o.Ei(g,d);var y=l[g];if((0,i.Im)(m))y&&"string"!=typeof y&&"number"!=typeof y||(y="string"==typeof y||"number"==typeof y?String(y):""),h.push({type:"string"==typeof y?r.literal:r.object,value:y});else if((0,i.tv)(m)){var v="string"==typeof m.style?c.date[m.style]:(0,i.Tu)(m.style)?m.style.parsedOptions:void 0;h.push({type:r.literal,value:n.getDateTimeFormat(t,v).format(y)})}else if((0,i.Qh)(m))v="string"==typeof m.style?c.time[m.style]:(0,i.Tu)(m.style)?m.style.parsedOptions:c.time.medium,h.push({type:r.literal,value:n.getDateTimeFormat(t,v).format(y)});else if((0,i.oF)(m))(v="string"==typeof m.style?c.number[m.style]:(0,i.N1)(m.style)?m.style.parsedOptions:void 0)&&v.scale&&(y*=v.scale||1),h.push({type:r.literal,value:n.getNumberFormat(t,v).format(y)});else{if((0,i.xm)(m)){var b=m.children,x=m.value,O=l[x];if(!s(O))throw new o.Zo(x,"function",d);var w=O(a(b,t,n,c,l,u).map((function(e){return e.value})));Array.isArray(w)||(w=[w]),h.push.apply(h,w.map((function(e){return{type:"string"==typeof e?r.literal:r.object,value:e}})))}if((0,i.Jp)(m)){if(!(S=m.options[y]||m.options.other))throw new o.$x(m.value,y,Object.keys(m.options),d);h.push.apply(h,a(S.value,t,n,c,l))}else if((0,i.N6)(m)){var S;if(!(S=m.options["=".concat(y)])){if(!Intl.PluralRules)throw new o.IF('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',o.O4.MISSING_INTL_API,d);var k=n.getPluralRules(t,{type:m.pluralType}).select(y-(m.offset||0));S=m.options[k]||m.options.other}if(!S)throw new o.$x(m.value,y,Object.keys(m.options),d);h.push.apply(h,a(S.value,t,n,c,l,y-(m.offset||0)))}}}}return(_=h).length<2?_:_.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===r.literal&&t.type===r.literal?n.value+=t.value:e.push(t),e}),[]);var _}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(r||(r={}))},92018:e=>{"use strict";e.exports=function(e,t,n,r,i,o,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,s,a],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},52159:(e,t,n)=>{var r,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var s=t.charCodeAt(r);n[2*r]=s>>>8,n[2*r+1]=s%256}return n},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var s=[];return n.forEach((function(t){s.push(e(t))})),o.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,i,o,s={},a={},c="",l="",u="",d=2,h=3,p=2,f=[],m=0,g=0;for(o=0;o<e.length;o+=1)if(c=e.charAt(o),Object.prototype.hasOwnProperty.call(s,c)||(s[c]=h++,a[c]=!0),l=u+c,Object.prototype.hasOwnProperty.call(s,l))u=l;else{if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(r=0;r<p;r++)m<<=1,g==t-1?(g=0,f.push(n(m)),m=0):g++;for(i=u.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i>>=1}else{for(i=1,r=0;r<p;r++)m=m<<1|i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete a[u]}else for(i=s[u],r=0;r<p;r++)m=m<<1|1&i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i>>=1;0==--d&&(d=Math.pow(2,p),p++),s[l]=h++,u=String(c)}if(""!==u){if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(r=0;r<p;r++)m<<=1,g==t-1?(g=0,f.push(n(m)),m=0):g++;for(i=u.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i>>=1}else{for(i=1,r=0;r<p;r++)m=m<<1|i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete a[u]}else for(i=s[u],r=0;r<p;r++)m=m<<1|1&i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i>>=1;0==--d&&(d=Math.pow(2,p),p++)}for(i=2,r=0;r<p;r++)m=m<<1|1&i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i>>=1;for(;;){if(m<<=1,g==t-1){f.push(n(m));break}g++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var i,o,s,a,c,l,u,d=[],h=4,p=4,f=3,m="",g=[],y={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)d[i]=i;for(s=0,c=Math.pow(2,2),l=1;l!=c;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*l,l<<=1;switch(s){case 0:for(s=0,c=Math.pow(2,8),l=1;l!=c;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*l,l<<=1;u=e(s);break;case 1:for(s=0,c=Math.pow(2,16),l=1;l!=c;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*l,l<<=1;u=e(s);break;case 2:return""}for(d[3]=u,o=u,g.push(u);;){if(y.index>t)return"";for(s=0,c=Math.pow(2,f),l=1;l!=c;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*l,l<<=1;switch(u=s){case 0:for(s=0,c=Math.pow(2,8),l=1;l!=c;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*l,l<<=1;d[p++]=e(s),u=p-1,h--;break;case 1:for(s=0,c=Math.pow(2,16),l=1;l!=c;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*l,l<<=1;d[p++]=e(s),u=p-1,h--;break;case 2:return g.join("")}if(0==h&&(h=Math.pow(2,f),f++),d[u])m=d[u];else{if(u!==p)return null;m=o+o.charAt(0)}g.push(m),d[p++]=o+m.charAt(0),o=m,0==--h&&(h=Math.pow(2,f),f++)}}};return o}();void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)},50716:function(e){e.exports=function(){"use strict";class e{constructor(e){this.id=-1,this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,self.Touch&&e instanceof Touch?this.id=e.identifier:t(e)&&(this.id=e.pointerId)}getCoalesced(){if("getCoalescedEvents"in this.nativePointer){const t=this.nativePointer.getCoalescedEvents().map((t=>new e(t)));if(t.length>0)return t}return[this]}}const t=e=>"pointerId"in e,n=e=>"changedTouches"in e,r=()=>{};return class{constructor(i,{start:o=(()=>!0),move:s=r,end:a=r,rawUpdates:c=!1,avoidPointerEvents:l=!1}={}){this._element=i,this.startPointers=[],this.currentPointers=[],this._excludeFromButtonsCheck=new Set,this._pointerStart=n=>{if(t(n)&&0===n.buttons)this._excludeFromButtonsCheck.add(n.pointerId);else if(!(1&n.buttons))return;const r=new e(n);!this.currentPointers.some((e=>e.id===r.id))&&this._triggerPointerStart(r,n)&&(t(n)?((n.target&&"setPointerCapture"in n.target?n.target:this._element).setPointerCapture(n.pointerId),this._element.addEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.addEventListener("pointerup",this._pointerEnd),this._element.addEventListener("pointercancel",this._pointerEnd)):(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd)))},this._touchStart=t=>{for(const n of Array.from(t.changedTouches))this._triggerPointerStart(new e(n),t)},this._move=r=>{if(!(n(r)||t(r)&&this._excludeFromButtonsCheck.has(r.pointerId)||0!==r.buttons))return void this._pointerEnd(r);const i=this.currentPointers.slice(),o=n(r)?Array.from(r.changedTouches).map((t=>new e(t))):[new e(r)],s=[];for(const e of o){const t=this.currentPointers.findIndex((t=>t.id===e.id));-1!==t&&(s.push(e),this.currentPointers[t]=e)}0!==s.length&&this._moveCallback(i,s,r)},this._triggerPointerEnd=(e,t)=>{if(!n(t)&&1&t.buttons)return!1;const r=this.currentPointers.findIndex((t=>t.id===e.id));if(-1===r)return!1;this.currentPointers.splice(r,1),this.startPointers.splice(r,1),this._excludeFromButtonsCheck.delete(e.id);const i=!("mouseup"===t.type||"touchend"===t.type||"pointerup"===t.type);return this._endCallback(e,t,i),!0},this._pointerEnd=n=>{if(this._triggerPointerEnd(new e(n),n))if(t(n)){if(this.currentPointers.length)return;this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd)}else window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)},this._touchEnd=t=>{for(const n of Array.from(t.changedTouches))this._triggerPointerEnd(new e(n),t)},this._startCallback=o,this._moveCallback=s,this._endCallback=a,this._rawUpdates=c&&"onpointerrawupdate"in window,self.PointerEvent&&!l?this._element.addEventListener("pointerdown",this._pointerStart):(this._element.addEventListener("mousedown",this._pointerStart),this._element.addEventListener("touchstart",this._touchStart),this._element.addEventListener("touchmove",this._move),this._element.addEventListener("touchend",this._touchEnd),this._element.addEventListener("touchcancel",this._touchEnd))}stop(){this._element.removeEventListener("pointerdown",this._pointerStart),this._element.removeEventListener("mousedown",this._pointerStart),this._element.removeEventListener("touchstart",this._touchStart),this._element.removeEventListener("touchmove",this._move),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(e,t){return!!this._startCallback(e,t)&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}}}()},17265:(e,t,n)=>{"use strict";var r=n(23034);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5821:(e,t,n)=>{e.exports=n(17265)()},23034:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2066:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>q});var r=n(23962),i=n(55682),o=n(48661),s=n(76649),a=n(25636);const c=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e};var l=[],u=0;function d(e){try{f(),e()}finally{m()}}function h(e){l.push(e),u||(f(),g())}function p(e){try{return f(),e()}finally{g()}}function f(){u++}function m(){u--}function g(){var e;for(m();!u&&void 0!==(e=l.shift());)d(e)}var y=function(e){return function(t){return e.some((function(e){return w(e)(t)}))}},v=function(e){return function(t){return e(t)}},b=function(e){return function(t){return t.type===String(e)}},x=function(e){return function(t){return t.type===e}},O=function(){return a.k};function w(e){var t="*"===e?O:(0,s.Yj)(e)?b:(0,s.YO)(e)?y:(0,s.mr)(e)?b:(0,s.Pc)(e)?v:(0,s.HR)(e)?x:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var S={type:r.x7},k=function(e){return e&&e.type===r.x7};function _(){var e,t,n,i,o,s,c=(t=!1,i=n=[],o=function(){i===n&&(i=n.slice())},s=function(){t=!0;var e=n=i;i=[],e.forEach((function(e){e(S)}))},(e={})[r.Xl]=!0,e.put=function(e){if(!t)if(k(e))s();else for(var o=n=i,a=0,c=o.length;a<c;a++){var l=o[a];l[r.E_](e)&&(l.cancel(),l(e))}},e.take=function(e,n){void 0===n&&(n=O),t?e(S):(e[r.E_]=n,o(),i.push(e),e.cancel=(0,a.o)((function(){o(),(0,a.r)(i,e)})))},e.close=s,e),l=c.put;return c.put=function(e){e[r.q8]?l(e):h((function(){l(e)}))},c}var P=0,E=1,C=2,T=3;function j(e,t){var n=e[r.bO];(0,s.Pc)(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var I,M=0,A=function(){return++M};function D(e){e.isRunning()&&e.cancel()}var $=((I={})[a.T]=function(e,t,n){var i=t.channel,o=void 0===i?e.channel:i,a=t.pattern,c=t.maybe,l=function(e){e instanceof Error?n(e,!0):!k(e)||c?n(e):n(r.a6)};try{o.take(l,(0,s.uQ)(a)?w(a):null)}catch(e){return void n(e,!0)}n.cancel=l.cancel},I[a.P]=function(e,t,n){var r=t.channel,i=t.action,o=t.resolve;h((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(e){return void n(e,!0)}o&&(0,s.iv)(t)?j(t,n):n(t)}))},I[a.A]=function(e,t,n,r){var i=r.digestEffect,o=M,c=Object.keys(t);if(0!==c.length){var l=(0,a.l)(t,n);c.forEach((function(e){i(t[e],o,l[e],e)}))}else n((0,s.YO)(t)?[]:{})},I[a.R]=function(e,t,n,r){var i=r.digestEffect,o=M,c=Object.keys(t),l=(0,s.YO)(t)?(0,a.m)(c.length):{},u={},d=!1;c.forEach((function(e){var t=function(t,r){d||(r||(0,a.s)(t)?(n.cancel(),n(t,r)):(n.cancel(),d=!0,l[e]=t,n(l)))};t.cancel=a.t,u[e]=t})),n.cancel=function(){d||(d=!0,c.forEach((function(e){return u[e].cancel()})))},c.forEach((function(e){d||i(t[e],o,u[e],e)}))},I[a.C]=function(e,t,n,r){var i=t.context,o=t.fn,c=t.args,l=r.task;try{var u=o.apply(i,c);if((0,s.iv)(u))return void j(u,n);if((0,s.lJ)(u))return void W(e,u,l.context,M,(0,a.j)(o),!1,n);n(u)}catch(e){n(e,!0)}},I[a.a]=function(e,t,n){var r=t.context,i=t.fn,o=t.args;try{var a=function(e,t){(0,s.vD)(e)?n(t):n(e,!0)};i.apply(r,o.concat(a)),a.cancel&&(n.cancel=a.cancel)}catch(e){n(e,!0)}},I[a.F]=function(e,t,n,r){var i=t.context,o=t.fn,c=t.args,l=t.detached,u=r.task,d=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if((0,s.lJ)(i))return i;var o=!1;return(0,a.q)((function(e){return o?{value:e,done:!0}:(o=!0,{value:i,done:!(0,s.iv)(i)})}))}catch(e){return(0,a.q)((function(){throw e}))}}({context:i,fn:o,args:c}),h=function(e,t){return e.isSagaIterator?{name:e.meta.name}:(0,a.j)(t)}(d,o);p((function(){var t=W(e,d,u.context,M,h,l,void 0);l?n(t):t.isRunning()?(u.queue.addTask(t),n(t)):t.isAborted()?u.queue.abort(t.error()):n(t)}))},I[a.J]=function(e,t,n,r){var i=r.task,o=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&(0,a.r)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if((0,s.YO)(t)){if(0===t.length)return void n([]);var c=(0,a.l)(t,n);t.forEach((function(e,t){o(e,c[t])}))}else o(t,n)},I[a.b]=function(e,t,n,i){var o=i.task;t===r.Pe?D(o):(0,s.YO)(t)?t.forEach(D):D(t),n()},I[a.S]=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(e){n(e,!0)}},I[a.d]=function(e,t,n){var r=t.pattern,i=function(e){void 0===e&&(e=(0,a.e)());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(S):e.isEmpty()?(n.push(r),r.cancel=function(){(0,a.r)(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(S):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++)(0,e[r])(S)}}}}(t.buffer),o=w(r),s=function t(n){k(n)||e.channel.take(t,o),i.put(n)},c=i.close;i.close=function(){s.cancel(),c()},e.channel.take(s,o),n(i)},I[a.f]=function(e,t,n,r){n(r.task.isCancelled())},I[a.g]=function(e,t,n){t.flush(n)},I[a.G]=function(e,t,n,r){n(r.task.context[t])},I[a.h]=function(e,t,n,r){var i=r.task;(0,a.p)(i.context,t),n()},I);function R(e,t){return e+"?"+t}function N(e){var t=e.name,n=e.location;return n?t+"  "+R(n.fileName,n.lineNumber):t}function L(e){var t=(0,a.u)((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var Q=null,z=[],F=function(e){e.crashedEffect=Q,z.push(e)},B=function(){Q=null,z.length=0},Z=function(e){Q=e},V=function(){var e=z[0],t=z.slice(1),n=e.crashedEffect?function(e){var t=(0,a.v)(e);return t?t.code+"  "+R(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+N(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+N(e.meta)})),[L(z)]).join("\n")};function W(e,t,n,i,o,l,u){var d=e.finalizeRunEffect((function(t,n,i){(0,s.iv)(t)?j(t,i):(0,s.lJ)(t)?W(e,t,p.context,n,o,!1,i):t&&t[r.IO]?(0,$[t.type])(e,t.payload,i,f):i(t)}));m.cancel=a.t;var h={meta:o,cancel:function(){h.status===P&&(h.status=E,m(r.nm))},status:P},p=function(e,t,n,i,o,s,l){var u;void 0===l&&(l=a.t);var d,h,p=P,f=null,m=[],g=Object.create(n),y=function(e,t,n){var r,i=[],o=!1;function s(e){t(),l(),n(e,!0)}function c(t){i.push(t),t.cont=function(c,l){o||((0,a.r)(i,t),t.cont=a.t,l?s(c):(t===e&&(r=c),i.length||(o=!0,n(r))))}}function l(){o||(o=!0,i.forEach((function(e){e.cont=a.t,e.cancel()})),i=[])}return c(e),{addTask:c,cancelAll:l,abort:s,getTasks:function(){return i}}}(t,(function(){m.push.apply(m,y.getTasks().map((function(e){return e.meta.name})))}),v);function v(t,n){if(n){if(p=C,F({meta:o,cancelledTasks:m}),b.isRoot){var i=V();B(),e.onError(t,{sagaStack:i})}h=t,f&&f.reject(t)}else t===r.nm?p=E:p!==E&&(p=T),d=t,f&&f.resolve(t);b.cont(t,n),b.joiners.forEach((function(e){e.cb(t,n)})),b.joiners=null}var b=((u={})[r.wn]=!0,u.id=i,u.meta=o,u.isRoot=s,u.context=g,u.joiners=[],u.queue=y,u.cancel=function(){p===P&&(p=E,y.cancelAll(),v(r.nm,!1))},u.cont=l,u.end=v,u.setContext=function(e){(0,a.p)(g,e)},u.toPromise=function(){return f||(f=c(),p===C?f.reject(h):p!==P&&f.resolve(d)),f.promise},u.isRunning=function(){return p===P},u.isCancelled=function(){return p===E||p===P&&t.status===E},u.isAborted=function(){return p===C},u.result=function(){return d},u.error=function(){return h},u);return b}(e,h,n,i,o,l,u),f={task:p,digestEffect:g};return u&&(u.cancel=p.cancel),m(),p;function m(e,n){try{var o;n?(o=t.throw(e),B()):(0,a.y)(e)?(h.status=E,m.cancel(),o=(0,s.Pc)(t.return)?t.return(r.nm):{done:!0,value:r.nm}):o=(0,a.z)(e)?(0,s.Pc)(t.return)?t.return():{done:!0}:t.next(e),o.done?(h.status!==E&&(h.status=T),h.cont(o.value)):g(o.value,i,m)}catch(e){if(h.status===E)throw e;h.status=C,h.cont(e,!0)}}function g(t,n,r,i){void 0===i&&(i="");var o,s=A();function c(n,i){o||(o=!0,r.cancel=a.t,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(s,n):e.sagaMonitor.effectResolved(s,n)),i&&Z(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:s,parentEffectId:n,label:i,effect:t}),c.cancel=a.t,r.cancel=function(){o||(o=!0,c.cancel(),c.cancel=a.t,e.sagaMonitor&&e.sagaMonitor.effectCancelled(s))},d(t,s,c)}}function U(e,t){for(var n=e.channel,r=void 0===n?_():n,i=e.dispatch,o=e.getState,s=e.context,c=void 0===s?{}:s,l=e.sagaMonitor,u=e.effectMiddlewares,d=e.onError,h=void 0===d?a.D:d,f=arguments.length,m=new Array(f>2?f-2:0),g=2;g<f;g++)m[g-2]=arguments[g];var y,v=t.apply(void 0,m),b=A();if(l&&(l.rootSagaStarted=l.rootSagaStarted||a.t,l.effectTriggered=l.effectTriggered||a.t,l.effectResolved=l.effectResolved||a.t,l.effectRejected=l.effectRejected||a.t,l.effectCancelled=l.effectCancelled||a.t,l.actionDispatched=l.actionDispatched||a.t,l.rootSagaStarted({effectId:b,saga:t,args:m})),u){var x=a.B.apply(void 0,u);y=function(e){return function(t,n,r){return x((function(t){return e(t,n,r)}))(t)}}}else y=a.H;var O={channel:r,dispatch:(0,a.E)(i),getState:o,sagaMonitor:l,onError:h,finalizeRunEffect:y};return p((function(){var e=W(O,v,c,b,(0,a.j)(t),!0,void 0);return l&&l.effectResolved(b,e),e}))}const q=function(e){var t,n=void 0===e?{}:e,r=n.context,s=void 0===r?{}:r,c=n.channel,l=void 0===c?_():c,u=n.sagaMonitor,d=(0,o.A)(n,["context","channel","sagaMonitor"]);function h(e){var n=e.getState,r=e.dispatch;return t=U.bind(null,(0,i.A)({},d,{context:s,channel:l,dispatch:r,getState:n,sagaMonitor:u})),function(e){return function(t){u&&u.actionDispatched&&u.actionDispatched(t);var n=e(t);return l.put(t),n}}}return h.run=function(){return t.apply(void 0,arguments)},h.setContext=function(e){(0,a.p)(s,e)},h}},18351:(e,t,n)=>{"use strict";n.d(t,{Q7:()=>i.$,T1:()=>i.O,yJ:()=>i.Z,Lt:()=>i.a4,p8:()=>c});var r=n(76649),i=n(25636),o=function(e){return{done:!0,value:e}},s={};function a(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),c=2;c<n;c++)a[c-2]=arguments[c];var l,u,d={done:!1,value:(0,i.L)(e)},h=function(e){return{done:!1,value:i.M.apply(void 0,[t].concat(a,[e]))}},p=function(e){return{done:!1,value:(0,i.N)(e)}},f=function(e){return l=e},m=function(e){return u=e};return function(e,t,n){var r,a,c,l=t;function u(t,n){if(l===s)return o(t);if(n&&!a)throw l=s,n;r&&r(t);var i=n?e[a](n):e[l]();return l=i.nextState,c=i.effect,r=i.stateUpdater,a=i.errorState,l===s?o(t):c}return(0,i.q)(u,(function(e){return u(null,e)}),n)}({q1:function(){return{nextState:"q2",effect:d,stateUpdater:m}},q2:function(){return l?{nextState:"q3",effect:p(l)}:{nextState:"q1",effect:h(u),stateUpdater:f}},q3:function(){return{nextState:"q1",effect:h(u),stateUpdater:f}}},"q1","takeLatest("+function(e){return(0,r.Ix)(e)?"channel":(0,r.mr)(e)?String(e):(0,r.Pc)(e)?e.name:String(e)}(e)+", "+t.name+")")}function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return i.M.apply(void 0,[a,e,t].concat(r))}},40846:(e,t,n)=>{"use strict";e.exports=n(66438)},60162:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var l=o[c];if(!a(l))return!1;var u=e[l],d=t[l];if(!1===(i=n?n.call(r,u,d,l):void 0)||void 0===i&&u!==d)return!1}return!0}},304:e=>{"use strict";var t,n=Object.create,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,c=(e,t)=>function(){return t||(0,e[o(e)[0]])((t={exports:{}}).exports,t),t.exports},l=(e,t,n,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))a.call(e,c)||c===n||r(e,c,{get:()=>t[c],enumerable:!(s=i(t,c))||s.enumerable});return e},u=c({"node_modules/.pnpm/mime-db@1.52.0/node_modules/mime-db/db.json"(e,t){t.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}}}),d=c({"node_modules/.pnpm/mime-db@1.52.0/node_modules/mime-db/index.js"(e,t){t.exports=u()}}),h={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(h,{PreviewController:()=>w,getExtension:()=>O,joinFilepath:()=>x,normalizeFilepath:()=>b}),e.exports=(t=h,l(r({},"__esModule",{value:!0}),t));var p="$CSB_RELAY",f=((e,t,i)=>(i=null!=e?n(s(e)):{},l(e&&e.__esModule?i:r(i,"default",{value:e,enumerable:!0}),e)))(d()),m=new Map,g=Object.entries(f.default);for(const[e,t]of g){const n=t.extensions;if(n?.length)for(const t of n)m.set(t,e)}var y=m,v=0;function b(e){return"/"+e.split("/").filter(Boolean).join("/")}function x(e,t){return b(e+"/"+t)}function O(e){const t=e.split(".");return t.length<=1?"":t[t.length-1]}var w=class{constructor(e){this.initPromise=null,this.baseUrl=new URL(e.baseUrl),this.getFileContent=e.getFileContent,this.indexFiles=e.indexFiles??["index.html","index.html"]}async getIndexAtPath(e){for(const t of this.indexFiles)try{return await this.getFileContent(x(e,t))}catch(e){}throw new Error("No index file not found")}async handleWorkerRequest(e){if(!this.initPromise)throw new Error("Init promise is null");const[t,n]=await this.initPromise;try{const r=b(new URL(e.url,t).pathname);let i=null;const o={};try{i=await this.getFileContent(r)}catch(e){}if(null==i&&(i=await this.getIndexAtPath(r),o["Content-Type"]="text/html; charset=utf-8"),null==i)throw new Error("File not found");if(!o["Content-Type"]){const e=O(r),t=y.get(e);t&&(o["Content-Type"]=t)}const s={$channel:p,$type:"preview/response",id:e.id,headers:o,status:200,body:i};n.postMessage(s)}catch(t){const r={$channel:p,$type:"preview/response",id:e.id,headers:{"Content-Type":"text/html; charset=utf-8"},status:404,body:"File not found"};n.postMessage(r)}}getRelayUrl(e){const t=new URL(e);return t.pathname="/__csb_relay/",t.toString()}async _initPreview(){const e=(+`${Date.now()}${Math.round(1e4*Math.random())}${v+=1}`).toString(16),t=new URL(this.baseUrl);t.hostname=e+"-"+t.hostname,t.pathname="/";const n=this.getRelayUrl(t.toString()),r=document.createElement("iframe");r.setAttribute("src",n.toString()),r.style.display="none",document.body.appendChild(r);const i=new MessageChannel,o=r.contentWindow;if(!o)throw new Error("Could not get iframe contentWindow");return new Promise((e=>{const n=i.port1;n.onmessage=i=>{if("object"==typeof i.data&&i.data.$channel===p)switch(i.data.$type){case"preview/ready":e([t.toString(),n,r]);break;case"preview/request":this.handleWorkerRequest(i.data)}},r.onload=()=>{const e={$channel:p,$type:"preview/init"};o.postMessage(e,"*",[i.port2])}}))}initPreview(){return this.initPromise||(this.initPromise=this._initPreview()),this.initPromise.then((e=>e[0]))}destroy(){this.initPromise&&(this.initPromise.then((e=>{e[1].close();const t=this.getRelayUrl(e[0]);document.body.querySelectorAll(`src="${t}"`).forEach((e=>e.remove()))})),this.initPromise=null)}}},59661:(e,t,n)=>{"use strict";n.d(t,{C6:()=>i,Cl:()=>o,Ju:()=>a,Tt:()=>s,fX:()=>l,zs:()=>c});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create},10547:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var r=n(66438);function i(e,t){return n=t||null,i=function(t){return e.forEach((function(e){return function(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}(e,t)}))},(o=(0,r.useState)((function(){return{value:n,callback:i,facade:{get current(){return o.value},set current(e){var t=o.value;t!==e&&(o.value=e,o.callback(e,t))}}}}))[0]).callback=i,o.facade;var n,i,o}},22510:(e,t,n)=>{"use strict";e.exports=n(91641)},91641:(e,t,n)=>{"use strict";var r,i,o=n(66438),s=(r=n(50716))&&"object"==typeof r&&"default"in r?r.default:r,a={getSVG:function(){return i=i||document.createElementNS("http://www.w3.org/2000/svg","svg")},isPointerEvent:function(e){return self.PointerEvent&&e instanceof PointerEvent},getDistance:function(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0},getMidpoint:function(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e},getAbsoluteValue:function(e,t){return"number"==typeof e?e:e.trimEnd().endsWith("%")?t*parseFloat(e)/100:parseFloat(e)},createMatrix:function(){return"undefined"==typeof DOMMatrix?a.getSVG().createSVGMatrix():new DOMMatrix},createPoint:function(){return"undefined"==typeof DOMPoint?a.getSVG().createSVGPoint():new DOMPoint}},c=function(e){var t=o.useRef(e);return t.current=e,o.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.current).call.apply(e,[null].concat(r))}),[])};t.default=function(e){void 0===e&&(e={});var t,n,r=e.maxScale,i=void 0===r?8:r,l=e.minScale,u=void 0===l?1:l,d=e.startScale,h=e.endScale,p=e.enableTouch,f=void 0===p||p,m=e.enableWheel,g=void 0===m||m,y=e.forWardPinchRef,v=e.forWardCoverRef,b=e.deps,x=(t=o.useState(!1),n=t[1],{bool:t[0],onEnable:o.useCallback((function(){return n(!0)}),[]),onDisable:o.useCallback((function(){return n(!1)}),[]),onToggle:o.useCallback((function(){return n((function(e){return!e}))}),[])}),O=x.bool,w=x.onEnable,S=x.onDisable,k=o.useRef(null),_=o.useRef(null),P=o.useRef(!1),E=y||k,C=v||_,T=function(){var e=o.useRef();return o.useEffect((function(){e.current=a.createMatrix()}),[]),e}(),j=c((function(e,t,n){var r=E.current;if(r&&!(e>i)&&(r.dataset.scale=e.toString(),T.current)){var o=T.current;if(e===o.a&&t===o.e&&n===o.f)return;e<=u?(P.current&&(o.e=0,o.f=0,o.a=1,o.d=1,S(),P.current=!1,h&&h()),r.style.transform="translate(0px, 0px) scale(1)"):(P.current||(P.current=!0,w(),d&&d()),o.e=t,o.f=n,o.a=e,o.d=e,r.style.transform="translate("+t+"px, "+n+"px) scale("+e+")")}})),I=c((function(e){if(void 0===e&&(e={}),T.current){var t=T.current,n=e.scale,r=void 0===n?t.a:n,i=e.x,o=void 0===i?t.e:i,s=e.y,c=void 0===s?t.f:s,l=E.current,u=C.current;if(!l||!u)return void j(r,o,c);if(u&&l){var d=u.getBoundingClientRect(),h=l.getBoundingClientRect();if(!d.width||!d.height)return void j(r,o,c);var p=a.createPoint();p.x=h.left-d.left,p.y=h.top-d.top;var f=a.createPoint();f.x=h.width+p.x,f.y=h.height+p.y;var m=a.createMatrix().translate(o,c).scale(r).multiply(t.inverse());p=p.matrixTransform(m),f=f.matrixTransform(m),p.x>d.width?o+=d.width-p.x:f.x<0&&(o+=-f.x),p.y>d.height?c+=d.height-p.y:f.y<0&&(c+=-f.y),j(r,o,c)}}})),M=c((function(e){void 0===e&&(e={});var t=e.panX,n=void 0===t?0:t,r=e.panY,i=void 0===r?0:r,o=e.originX,s=void 0===o?0:o,c=e.originY,l=void 0===c?0:c,u=e.scaleDiff,d=void 0===u?1:u;if(T.current){var h=a.createMatrix().translate(n,i).translate(s,l).translate(T.current.e,T.current.f).scale(d).translate(-s,-l).scale(T.current.a);I({scale:h.a,x:h.e,y:h.f})}})),A=c((function(e){var t=E.current;if(t&&e){e.preventDefault();var n=t.getBoundingClientRect(),r=e.deltaY;1===e.deltaMode&&(r*=15),M({scaleDiff:1-r/(e.ctrlKey?100:300),originX:e.clientX-n.left,originY:e.clientY-n.top})}})),D=c((function(e,t){var n=E.current;if(n){var r=n.getBoundingClientRect(),i=a.getMidpoint(e[0],e[1]),o=a.getMidpoint(t[0],t[1]),s=i.clientX-r.left,c=i.clientY-r.top,l=a.getDistance(e[0],e[1]),u=a.getDistance(t[0],t[1]);M({originX:s,originY:c,scaleDiff:l?u/l:1,panX:o.clientX-i.clientX,panY:o.clientY-i.clientY})}}));return function(e){var t=e.pinchRef,n=e.coverRef,r=e.deps;o.useEffect((function(){if(t.current&&t.current instanceof HTMLElement){var e=t.current;e.style.transformOrigin="0 0",e.style.willChange="transform",e.setAttribute("draggable","false"),e.setAttribute("data-pinchTarget","true")}if(n.current&&n.current instanceof HTMLElement){var r=n.current;r.style.touchAction="none",r.setAttribute("data-pinchCover","true")}}),[t,n,void 0===r?[]:r])}({pinchRef:k,coverRef:_,deps:b}),function(e){var t=e.coverRef,n=e.action,r=e.enableWheel,i=e.deps;o.useEffect((function(){if(r&&t.current&&t.current instanceof HTMLElement){var e=t.current;return e.addEventListener("wheel",n),function(){return e.removeEventListener("wheel",n)}}}),[t,n,r].concat(void 0===i?[]:i))}({coverRef:C,action:A,enableWheel:g,deps:b}),function(e){var t=e.coverRef,n=e.scaleRef,r=e.enableTouch,i=e.action,a=e.deps;o.useEffect((function(){var e=!1;if(r&&t.current&&t.current instanceof HTMLElement){var o=t.current,a=new s(o,{start:function(e,t){return 2!==a.currentPointers.length&&(t.preventDefault(),!0)},move:function(t){(e||n.current)&&i(t,a.currentPointers)}}),c=function(t){e=!!(t&&t.touches.length>=2)},l=function(){e=!1};return o.addEventListener("touchend",l),o.addEventListener("touchstart",c),function(){a.stop(),o.removeEventListener("touchend",l),o.removeEventListener("touchstart",c)}}}),[t,n,r,i].concat(void 0===a?[]:a))}({coverRef:C,action:D,scaleRef:P,enableTouch:f,deps:b}),{pinchRef:k,coverRef:_,scaleState:O}}},7538:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var r=n(58932),i=n(66438),o=function(e){var t=e.sideCar,n=(0,r.Tt)(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return i.createElement(o,(0,r.Cl)({},n))};function s(e,t){return e.useMedium(t),o}o.isSideCarExport=!0},95090:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,f:()=>a});var r=n(58932);function i(e){return e}function o(e,t){void 0===t&&(t=i);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(o)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}}}function s(e,t){return void 0===t&&(t=i),o(e,t)}function a(e){void 0===e&&(e={});var t=o(null);return t.options=(0,r.Cl)({async:!0,ssr:!1},e),t}},35257:(e,t,n)=>{"use strict";var r=n(66438),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,c=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a((function(){i.value=n,i.getSnapshot=t,l(i)&&u({inst:i})}),[e,n,t]),s((function(){return l(i)&&u({inst:i}),e((function(){l(i)&&u({inst:i})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},58104:(e,t,n)=>{"use strict";var r=n(66438),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useSyncExternalStore,s=r.useRef,a=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!a){if(a=!0,o=e,e=r(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var n=r(e);return void 0!==u&&u(t,n)?t:(o=e,s=n)}var o,s,a=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,u]);var p=o(e,d[0],d[1]);return a((function(){h.hasValue=!0,h.value=p}),[p]),l(p),p}},77450:(e,t,n)=>{"use strict";e.exports=n(35257)},19320:(e,t,n)=>{"use strict";e.exports=n(58104)},49051:function(e){e.exports=function(){"use strict";for(var e=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e<t?t:e>n?n:e},t=e,n={},r=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<i.length;r+=1){var o=i[r];n["[object "+o+"]"]=o.toLowerCase()}var s=function(e){return n[Object.prototype.toString.call(e)]||"object"},a=s,c=s,l=Math.PI,u={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},limit:e,type:s,unpack:function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==a(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},last:function(e){if(e.length<2)return null;var t=e.length-1;return"string"==c(e[t])?e[t].toLowerCase():null},PI:l,TWOPI:2*l,PITHIRD:l/3,DEG2RAD:l/180,RAD2DEG:180/l},d={format:{},autodetect:[]},h=u.last,p=u.clip_rgb,f=u.type,m=d,g=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=this;if("object"===f(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=h(e),i=!1;if(!r){i=!0,m.sorted||(m.autodetect=m.autodetect.sort((function(e,t){return t.p-e.p})),m.sorted=!0);for(var o=0,s=m.autodetect;o<s.length;o+=1){var a=s[o];if(r=a.test.apply(a,e))break}}if(!m.format[r])throw new Error("unknown format: "+e);var c=m.format[r].apply(null,i?e:e.slice(0,-1));n._rgb=p(c),3===n._rgb.length&&n._rgb.push(1)};g.prototype.toString=function(){return"function"==f(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var y=g,v=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(v.Color,[null].concat(e)))};v.Color=y,v.version="2.4.2";var b=v,x=u.unpack,O=Math.max,w=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=x(e,"rgb"),r=n[0],i=n[1],o=n[2],s=1-O(r/=255,O(i/=255,o/=255)),a=s<1?1/(1-s):0;return[(1-r-s)*a,(1-i-s)*a,(1-o-s)*a,s]},S=u.unpack,k=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=S(e,"cmyk"))[0],r=e[1],i=e[2],o=e[3],s=e.length>4?e[4]:1;return 1===o?[0,0,0,s]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),s]},_=b,P=y,E=d,C=u.unpack,T=u.type,j=w;P.prototype.cmyk=function(){return j(this._rgb)},_.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(P,[null].concat(e,["cmyk"])))},E.format.cmyk=k,E.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=C(e,"cmyk"),"array"===T(e)&&4===e.length)return"cmyk"}});var I=u.unpack,M=u.last,A=function(e){return Math.round(100*e)/100},D=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=I(e,"hsla"),r=M(e)||"lsa";return n[0]=A(n[0]||0),n[1]=A(100*n[1])+"%",n[2]=A(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},$=u.unpack,R=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=$(e,"rgba"))[0],r=e[1],i=e[2];n/=255,r/=255,i/=255;var o,s,a=Math.min(n,r,i),c=Math.max(n,r,i),l=(c+a)/2;return c===a?(o=0,s=Number.NaN):o=l<.5?(c-a)/(c+a):(c-a)/(2-c-a),n==c?s=(r-i)/(c-a):r==c?s=2+(i-n)/(c-a):i==c&&(s=4+(n-r)/(c-a)),(s*=60)<0&&(s+=360),e.length>3&&void 0!==e[3]?[s,o,l,e[3]]:[s,o,l]},N=u.unpack,L=u.last,Q=D,z=R,F=Math.round,B=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=N(e,"rgba"),r=L(e)||"rgb";return"hsl"==r.substr(0,3)?Q(z(n),r):(n[0]=F(n[0]),n[1]=F(n[1]),n[2]=F(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},Z=u.unpack,V=Math.round,W=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r,i,o,s=(t=Z(t,"hsl"))[0],a=t[1],c=t[2];if(0===a)r=i=o=255*c;else{var l=[0,0,0],u=[0,0,0],d=c<.5?c*(1+a):c+a-c*a,h=2*c-d,p=s/360;l[0]=p+1/3,l[1]=p,l[2]=p-1/3;for(var f=0;f<3;f++)l[f]<0&&(l[f]+=1),l[f]>1&&(l[f]-=1),6*l[f]<1?u[f]=h+6*(d-h)*l[f]:2*l[f]<1?u[f]=d:3*l[f]<2?u[f]=h+(d-h)*(2/3-l[f])*6:u[f]=h;r=(e=[V(255*u[0]),V(255*u[1]),V(255*u[2])])[0],i=e[1],o=e[2]}return t.length>3?[r,i,o,t[3]]:[r,i,o,1]},U=W,q=d,Y=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,X=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,H=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,G=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,K=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,J=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ee=Math.round,te=function(e){var t;if(e=e.toLowerCase().trim(),q.format.named)try{return q.format.named(e)}catch(e){}if(t=e.match(Y)){for(var n=t.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(t=e.match(X)){for(var i=t.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(t=e.match(H)){for(var s=t.slice(1,4),a=0;a<3;a++)s[a]=ee(2.55*s[a]);return s[3]=1,s}if(t=e.match(G)){for(var c=t.slice(1,5),l=0;l<3;l++)c[l]=ee(2.55*c[l]);return c[3]=+c[3],c}if(t=e.match(K)){var u=t.slice(1,4);u[1]*=.01,u[2]*=.01;var d=U(u);return d[3]=1,d}if(t=e.match(J)){var h=t.slice(1,4);h[1]*=.01,h[2]*=.01;var p=U(h);return p[3]=+t[4],p}};te.test=function(e){return Y.test(e)||X.test(e)||H.test(e)||G.test(e)||K.test(e)||J.test(e)};var ne=b,re=y,ie=d,oe=u.type,se=B,ae=te;re.prototype.css=function(e){return se(this._rgb,e)},ne.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(re,[null].concat(e,["css"])))},ie.format.css=ae,ie.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===oe(e)&&ae.test(e))return"css"}});var ce=y,le=b,ue=u.unpack;d.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ue(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},le.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ce,[null].concat(e,["gl"])))},ce.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var de=u.unpack,he=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=de(e,"rgb"),i=r[0],o=r[1],s=r[2],a=Math.min(i,o,s),c=Math.max(i,o,s),l=c-a,u=100*l/255,d=a/(255-l)*100;return 0===l?n=Number.NaN:(i===c&&(n=(o-s)/l),o===c&&(n=2+(s-i)/l),s===c&&(n=4+(i-o)/l),(n*=60)<0&&(n+=360)),[n,u,d]},pe=u.unpack,fe=Math.floor,me=function(){for(var e,t,n,r,i,o,s=[],a=arguments.length;a--;)s[a]=arguments[a];var c,l,u,d=(s=pe(s,"hcg"))[0],h=s[1],p=s[2];p*=255;var f=255*h;if(0===h)c=l=u=p;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var m=fe(d/=60),g=d-m,y=p*(1-h),v=y+f*(1-g),b=y+f*g,x=y+f;switch(m){case 0:c=(e=[x,b,y])[0],l=e[1],u=e[2];break;case 1:c=(t=[v,x,y])[0],l=t[1],u=t[2];break;case 2:c=(n=[y,x,b])[0],l=n[1],u=n[2];break;case 3:c=(r=[y,v,x])[0],l=r[1],u=r[2];break;case 4:c=(i=[b,y,x])[0],l=i[1],u=i[2];break;case 5:c=(o=[x,y,v])[0],l=o[1],u=o[2]}}return[c,l,u,s.length>3?s[3]:1]},ge=u.unpack,ye=u.type,ve=b,be=y,xe=d,Oe=he;be.prototype.hcg=function(){return Oe(this._rgb)},ve.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(be,[null].concat(e,["hcg"])))},xe.format.hcg=me,xe.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ge(e,"hcg"),"array"===ye(e)&&3===e.length)return"hcg"}});var we=u.unpack,Se=u.last,ke=Math.round,_e=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=we(e,"rgba"),r=n[0],i=n[1],o=n[2],s=n[3],a=Se(e)||"auto";void 0===s&&(s=1),"auto"===a&&(a=s<1?"rgba":"rgb");var c="000000"+((r=ke(r))<<16|(i=ke(i))<<8|(o=ke(o))).toString(16);c=c.substr(c.length-6);var l="0"+ke(255*s).toString(16);switch(l=l.substr(l.length-2),a.toLowerCase()){case"rgba":return"#"+c+l;case"argb":return"#"+l+c;default:return"#"+c}},Pe=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Ee=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ce=function(e){if(e.match(Pe)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(Ee)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var n=parseInt(e,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+e)},Te=b,je=y,Ie=u.type,Me=d,Ae=_e;je.prototype.hex=function(e){return Ae(this._rgb,e)},Te.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(je,[null].concat(e,["hex"])))},Me.format.hex=Ce,Me.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===Ie(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var De=u.unpack,$e=u.TWOPI,Re=Math.min,Ne=Math.sqrt,Le=Math.acos,Qe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=De(e,"rgb"),i=r[0],o=r[1],s=r[2],a=Re(i/=255,o/=255,s/=255),c=(i+o+s)/3,l=c>0?1-a/c:0;return 0===l?n=NaN:(n=(i-o+(i-s))/2,n/=Ne((i-o)*(i-o)+(i-s)*(o-s)),n=Le(n),s>o&&(n=$e-n),n/=$e),[360*n,l,c]},ze=u.unpack,Fe=u.limit,Be=u.TWOPI,Ze=u.PITHIRD,Ve=Math.cos,We=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=ze(e,"hsi"))[0],s=e[1],a=e[2];return isNaN(o)&&(o=0),isNaN(s)&&(s=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((i=(1-s)/3)+(n=(1+s*Ve(Be*o)/Ve(Ze-Be*o))/3)):o<2/3?i=1-((n=(1-s)/3)+(r=(1+s*Ve(Be*(o-=1/3))/Ve(Ze-Be*o))/3)):n=1-((r=(1-s)/3)+(i=(1+s*Ve(Be*(o-=2/3))/Ve(Ze-Be*o))/3)),[255*(n=Fe(a*n*3)),255*(r=Fe(a*r*3)),255*(i=Fe(a*i*3)),e.length>3?e[3]:1]},Ue=u.unpack,qe=u.type,Ye=b,Xe=y,He=d,Ge=Qe;Xe.prototype.hsi=function(){return Ge(this._rgb)},Ye.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Xe,[null].concat(e,["hsi"])))},He.format.hsi=We,He.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ue(e,"hsi"),"array"===qe(e)&&3===e.length)return"hsi"}});var Ke=u.unpack,Je=u.type,et=b,tt=y,nt=d,rt=R;tt.prototype.hsl=function(){return rt(this._rgb)},et.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(tt,[null].concat(e,["hsl"])))},nt.format.hsl=W,nt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ke(e,"hsl"),"array"===Je(e)&&3===e.length)return"hsl"}});var it=u.unpack,ot=Math.min,st=Math.max,at=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=it(e,"rgb"))[0],s=e[1],a=e[2],c=ot(o,s,a),l=st(o,s,a),u=l-c;return i=l/255,0===l?(n=Number.NaN,r=0):(r=u/l,o===l&&(n=(s-a)/u),s===l&&(n=2+(a-o)/u),a===l&&(n=4+(o-s)/u),(n*=60)<0&&(n+=360)),[n,r,i]},ct=u.unpack,lt=Math.floor,ut=function(){for(var e,t,n,r,i,o,s=[],a=arguments.length;a--;)s[a]=arguments[a];var c,l,u,d=(s=ct(s,"hsv"))[0],h=s[1],p=s[2];if(p*=255,0===h)c=l=u=p;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var f=lt(d/=60),m=d-f,g=p*(1-h),y=p*(1-h*m),v=p*(1-h*(1-m));switch(f){case 0:c=(e=[p,v,g])[0],l=e[1],u=e[2];break;case 1:c=(t=[y,p,g])[0],l=t[1],u=t[2];break;case 2:c=(n=[g,p,v])[0],l=n[1],u=n[2];break;case 3:c=(r=[g,y,p])[0],l=r[1],u=r[2];break;case 4:c=(i=[v,g,p])[0],l=i[1],u=i[2];break;case 5:c=(o=[p,g,y])[0],l=o[1],u=o[2]}}return[c,l,u,s.length>3?s[3]:1]},dt=u.unpack,ht=u.type,pt=b,ft=y,mt=d,gt=at;ft.prototype.hsv=function(){return gt(this._rgb)},pt.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ft,[null].concat(e,["hsv"])))},mt.format.hsv=ut,mt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=dt(e,"hsv"),"array"===ht(e)&&3===e.length)return"hsv"}});var yt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},vt=yt,bt=u.unpack,xt=Math.pow,Ot=function(e){return(e/=255)<=.04045?e/12.92:xt((e+.055)/1.055,2.4)},wt=function(e){return e>vt.t3?xt(e,1/3):e/vt.t2+vt.t0},St=function(e,t,n){return e=Ot(e),t=Ot(t),n=Ot(n),[wt((.4124564*e+.3575761*t+.1804375*n)/vt.Xn),wt((.2126729*e+.7151522*t+.072175*n)/vt.Yn),wt((.0193339*e+.119192*t+.9503041*n)/vt.Zn)]},kt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=bt(e,"rgb"),r=n[0],i=n[1],o=n[2],s=St(r,i,o),a=s[0],c=s[1],l=116*c-16;return[l<0?0:l,500*(a-c),200*(c-s[2])]},_t=yt,Pt=u.unpack,Et=Math.pow,Ct=function(e){return 255*(e<=.00304?12.92*e:1.055*Et(e,1/2.4)-.055)},Tt=function(e){return e>_t.t1?e*e*e:_t.t2*(e-_t.t0)},jt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=Pt(e,"lab"))[0],s=e[1],a=e[2];return r=(o+16)/116,n=isNaN(s)?r:r+s/500,i=isNaN(a)?r:r-a/200,r=_t.Yn*Tt(r),n=_t.Xn*Tt(n),i=_t.Zn*Tt(i),[Ct(3.2404542*n-1.5371385*r-.4985314*i),Ct(-.969266*n+1.8760108*r+.041556*i),Ct(.0556434*n-.2040259*r+1.0572252*i),e.length>3?e[3]:1]},It=u.unpack,Mt=u.type,At=b,Dt=y,$t=d,Rt=kt;Dt.prototype.lab=function(){return Rt(this._rgb)},At.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Dt,[null].concat(e,["lab"])))},$t.format.lab=jt,$t.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=It(e,"lab"),"array"===Mt(e)&&3===e.length)return"lab"}});var Nt=u.unpack,Lt=u.RAD2DEG,Qt=Math.sqrt,zt=Math.atan2,Ft=Math.round,Bt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Nt(e,"lab"),r=n[0],i=n[1],o=n[2],s=Qt(i*i+o*o),a=(zt(o,i)*Lt+360)%360;return 0===Ft(1e4*s)&&(a=Number.NaN),[r,s,a]},Zt=u.unpack,Vt=kt,Wt=Bt,Ut=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Zt(e,"rgb"),r=n[0],i=n[1],o=n[2],s=Vt(r,i,o),a=s[0],c=s[1],l=s[2];return Wt(a,c,l)},qt=u.unpack,Yt=u.DEG2RAD,Xt=Math.sin,Ht=Math.cos,Gt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=qt(e,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[r,Ht(o*=Yt)*i,Xt(o)*i]},Kt=u.unpack,Jt=Gt,en=jt,tn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=Kt(e,"lch"))[0],r=e[1],i=e[2],o=Jt(n,r,i),s=o[0],a=o[1],c=o[2],l=en(s,a,c);return[l[0],l[1],l[2],e.length>3?e[3]:1]},nn=u.unpack,rn=tn,on=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=nn(e,"hcl").reverse();return rn.apply(void 0,n)},sn=u.unpack,an=u.type,cn=b,ln=y,un=d,dn=Ut;ln.prototype.lch=function(){return dn(this._rgb)},ln.prototype.hcl=function(){return dn(this._rgb).reverse()},cn.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ln,[null].concat(e,["lch"])))},cn.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ln,[null].concat(e,["hcl"])))},un.format.lch=tn,un.format.hcl=on,["lch","hcl"].forEach((function(e){return un.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=sn(t,e),"array"===an(t)&&3===t.length)return e}})}));var hn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},pn=d,fn=u.type,mn=hn,gn=Ce,yn=_e;y.prototype.name=function(){for(var e=yn(this._rgb,"rgb"),t=0,n=Object.keys(mn);t<n.length;t+=1){var r=n[t];if(mn[r]===e)return r.toLowerCase()}return e},pn.format.named=function(e){if(e=e.toLowerCase(),mn[e])return gn(mn[e]);throw new Error("unknown color name: "+e)},pn.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===fn(e)&&mn[e.toLowerCase()])return"named"}});var vn=u.unpack,bn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=vn(e,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},xn=u.type,On=b,wn=y,Sn=d,kn=u.type,_n=bn;wn.prototype.num=function(){return _n(this._rgb)},On.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(wn,[null].concat(e,["num"])))},Sn.format.num=function(e){if("number"==xn(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},Sn.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===kn(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var Pn=b,En=y,Cn=d,Tn=u.unpack,jn=u.type,In=Math.round;En.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(In)},En.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,n){return n<3?!1===e?t:In(t):t}))},Pn.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(En,[null].concat(e,["rgb"])))},Cn.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Tn(e,"rgba");return void 0===n[3]&&(n[3]=1),n},Cn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Tn(e,"rgba"),"array"===jn(e)&&(3===e.length||4===e.length&&"number"==jn(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var Mn=Math.log,An=function(e){var t,n,r,i=e/100;return i<66?(t=255,n=i<6?0:-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*Mn(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*Mn(r)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*Mn(t),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*Mn(n),r=255),[t,n,r,1]},Dn=An,$n=u.unpack,Rn=Math.round,Nn=b,Ln=y,Qn=d,zn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n,r=$n(e,"rgb"),i=r[0],o=r[2],s=1e3,a=4e4;a-s>.4;){var c=Dn(n=.5*(a+s));c[2]/c[0]>=o/i?a=n:s=n}return Rn(n)};Ln.prototype.temp=Ln.prototype.kelvin=Ln.prototype.temperature=function(){return zn(this._rgb)},Nn.temp=Nn.kelvin=Nn.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ln,[null].concat(e,["temp"])))},Qn.format.temp=Qn.format.kelvin=Qn.format.temperature=An;var Fn=u.unpack,Bn=Math.cbrt,Zn=Math.pow,Vn=Math.sign,Wn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Fn(e,"rgb"),r=n[0],i=n[1],o=n[2],s=[Un(r/255),Un(i/255),Un(o/255)],a=s[0],c=s[1],l=s[2],u=Bn(.4122214708*a+.5363325363*c+.0514459929*l),d=Bn(.2119034982*a+.6806995451*c+.1073969566*l),h=Bn(.0883024619*a+.2817188376*c+.6299787005*l);return[.2104542553*u+.793617785*d-.0040720468*h,1.9779984951*u-2.428592205*d+.4505937099*h,.0259040371*u+.7827717662*d-.808675766*h]};function Un(e){var t=Math.abs(e);return t<.04045?e/12.92:(Vn(e)||1)*Zn((t+.055)/1.055,2.4)}var qn=u.unpack,Yn=Math.pow,Xn=Math.sign,Hn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=qn(e,"lab"))[0],r=e[1],i=e[2],o=Yn(n+.3963377774*r+.2158037573*i,3),s=Yn(n-.1055613458*r-.0638541728*i,3),a=Yn(n-.0894841775*r-1.291485548*i,3);return[255*Gn(4.0767416621*o-3.3077115913*s+.2309699292*a),255*Gn(-1.2684380046*o+2.6097574011*s-.3413193965*a),255*Gn(-.0041960863*o-.7034186147*s+1.707614701*a),e.length>3?e[3]:1]};function Gn(e){var t=Math.abs(e);return t>.0031308?(Xn(e)||1)*(1.055*Yn(t,1/2.4)-.055):12.92*e}var Kn=u.unpack,Jn=u.type,er=b,tr=y,nr=d,rr=Wn;tr.prototype.oklab=function(){return rr(this._rgb)},er.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(tr,[null].concat(e,["oklab"])))},nr.format.oklab=Hn,nr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Kn(e,"oklab"),"array"===Jn(e)&&3===e.length)return"oklab"}});var ir=u.unpack,or=Wn,sr=Bt,ar=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ir(e,"rgb"),r=n[0],i=n[1],o=n[2],s=or(r,i,o),a=s[0],c=s[1],l=s[2];return sr(a,c,l)},cr=u.unpack,lr=Gt,ur=Hn,dr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=cr(e,"lch"))[0],r=e[1],i=e[2],o=lr(n,r,i),s=o[0],a=o[1],c=o[2],l=ur(s,a,c);return[l[0],l[1],l[2],e.length>3?e[3]:1]},hr=u.unpack,pr=u.type,fr=b,mr=y,gr=d,yr=ar;mr.prototype.oklch=function(){return yr(this._rgb)},fr.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(mr,[null].concat(e,["oklch"])))},gr.format.oklch=dr,gr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=hr(e,"oklch"),"array"===pr(e)&&3===e.length)return"oklch"}});var vr=y,br=u.type;vr.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===br(e)?t?(this._rgb[3]=e,this):new vr([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},y.prototype.clipped=function(){return this._rgb._clipped||!1};var xr=y,Or=yt;xr.prototype.darken=function(e){void 0===e&&(e=1);var t=this.lab();return t[0]-=Or.Kn*e,new xr(t,"lab").alpha(this.alpha(),!0)},xr.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},xr.prototype.darker=xr.prototype.darken,xr.prototype.brighter=xr.prototype.brighten,y.prototype.get=function(e){var t=e.split("."),n=t[0],r=t[1],i=this[n]();if(r){var o=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(o>-1)return i[o];throw new Error("unknown channel "+r+" in mode "+n)}return i};var wr=y,Sr=u.type,kr=Math.pow;wr.prototype.luminance=function(e){if(void 0!==e&&"number"===Sr(e)){if(0===e)return new wr([0,0,0,this._rgb[3]],"rgb");if(1===e)return new wr([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),n=20,r=function(t,i){var o=t.interpolate(i,.5,"rgb"),s=o.luminance();return Math.abs(e-s)<1e-7||!n--?o:s>e?r(t,o):r(o,i)},i=(t>e?r(new wr([0,0,0]),this):r(this,new wr([255,255,255]))).rgb();return new wr(i.concat([this._rgb[3]]))}return _r.apply(void 0,this._rgb.slice(0,3))};var _r=function(e,t,n){return.2126*(e=Pr(e))+.7152*(t=Pr(t))+.0722*Pr(n)},Pr=function(e){return(e/=255)<=.03928?e/12.92:kr((e+.055)/1.055,2.4)},Er={},Cr=y,Tr=u.type,jr=Er,Ir=function(e,t,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(jr[o]||r.length||(o=Object.keys(jr)[0]),!jr[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Tr(e)&&(e=new Cr(e)),"object"!==Tr(t)&&(t=new Cr(t)),jr[o](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))},Mr=y,Ar=Ir;Mr.prototype.mix=Mr.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Ar.apply(void 0,[this,e,t].concat(n))};var Dr=y;Dr.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new Dr([t[0]*n,t[1]*n,t[2]*n,n],"rgb")};var $r=y,Rr=yt;$r.prototype.saturate=function(e){void 0===e&&(e=1);var t=this.lch();return t[1]+=Rr.Kn*e,t[1]<0&&(t[1]=0),new $r(t,"lch").alpha(this.alpha(),!0)},$r.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var Nr=y,Lr=u.type;Nr.prototype.set=function(e,t,n){void 0===n&&(n=!1);var r=e.split("."),i=r[0],o=r[1],s=this[i]();if(o){var a=i.indexOf(o)-("ok"===i.substr(0,2)?2:0);if(a>-1){if("string"==Lr(t))switch(t.charAt(0)){case"+":case"-":s[a]+=+t;break;case"*":s[a]*=+t.substr(1);break;case"/":s[a]/=+t.substr(1);break;default:s[a]=+t}else{if("number"!==Lr(t))throw new Error("unsupported value for Color.set");s[a]=t}var c=new Nr(s,i);return n?(this._rgb=c._rgb,this):c}throw new Error("unknown channel "+o+" in mode "+i)}return s};var Qr=y;Er.rgb=function(e,t,n){var r=e._rgb,i=t._rgb;return new Qr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};var zr=y,Fr=Math.sqrt,Br=Math.pow;Er.lrgb=function(e,t,n){var r=e._rgb,i=r[0],o=r[1],s=r[2],a=t._rgb,c=a[0],l=a[1],u=a[2];return new zr(Fr(Br(i,2)*(1-n)+Br(c,2)*n),Fr(Br(o,2)*(1-n)+Br(l,2)*n),Fr(Br(s,2)*(1-n)+Br(u,2)*n),"rgb")};var Zr=y;Er.lab=function(e,t,n){var r=e.lab(),i=t.lab();return new Zr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};var Vr=y,Wr=function(e,t,n,r){var i,o,s,a,c,l,u,d,h,p,f,m,g;return"hsl"===r?(s=e.hsl(),a=t.hsl()):"hsv"===r?(s=e.hsv(),a=t.hsv()):"hcg"===r?(s=e.hcg(),a=t.hcg()):"hsi"===r?(s=e.hsi(),a=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",s=e.hcl(),a=t.hcl()):"oklch"===r&&(s=e.oklch().reverse(),a=t.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(c=(i=s)[0],u=i[1],h=i[2],l=(o=a)[0],d=o[1],p=o[2]),isNaN(c)||isNaN(l)?isNaN(c)?isNaN(l)?m=Number.NaN:(m=l,1!=h&&0!=h||"hsv"==r||(f=d)):(m=c,1!=p&&0!=p||"hsv"==r||(f=u)):m=c+n*(l>c&&l-c>180?l-(c+360):l<c&&c-l>180?l+360-c:l-c),void 0===f&&(f=u+n*(d-u)),g=h+n*(p-h),new Vr("oklch"===r?[g,f,m]:[m,f,g],r)},Ur=Wr,qr=function(e,t,n){return Ur(e,t,n,"lch")};Er.lch=qr,Er.hcl=qr;var Yr=y;Er.num=function(e,t,n){var r=e.num(),i=t.num();return new Yr(r+n*(i-r),"num")};var Xr=Wr;Er.hcg=function(e,t,n){return Xr(e,t,n,"hcg")};var Hr=Wr;Er.hsi=function(e,t,n){return Hr(e,t,n,"hsi")};var Gr=Wr;Er.hsl=function(e,t,n){return Gr(e,t,n,"hsl")};var Kr=Wr;Er.hsv=function(e,t,n){return Kr(e,t,n,"hsv")};var Jr=y;Er.oklab=function(e,t,n){var r=e.oklab(),i=t.oklab();return new Jr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};var ei=Wr;Er.oklch=function(e,t,n){return ei(e,t,n,"oklch")};var ti=y,ni=u.clip_rgb,ri=Math.pow,ii=Math.sqrt,oi=Math.PI,si=Math.cos,ai=Math.sin,ci=Math.atan2,li=function(e,t){for(var n=e.length,r=[0,0,0,0],i=0;i<e.length;i++){var o=e[i],s=t[i]/n,a=o._rgb;r[0]+=ri(a[0],2)*s,r[1]+=ri(a[1],2)*s,r[2]+=ri(a[2],2)*s,r[3]+=a[3]*s}return r[0]=ii(r[0]),r[1]=ii(r[1]),r[2]=ii(r[2]),r[3]>.9999999&&(r[3]=1),new ti(ni(r))},ui=b,di=u.type,hi=Math.pow,pi=function(e){var t="rgb",n=ui("#ccc"),r=0,i=[0,1],o=[],s=[0,0],a=!1,c=[],l=!1,u=0,d=1,h=!1,p={},f=!0,m=1,g=function(e){if((e=e||["#fff","#000"])&&"string"===di(e)&&ui.brewer&&ui.brewer[e.toLowerCase()]&&(e=ui.brewer[e.toLowerCase()]),"array"===di(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=ui(e[t]);o.length=0;for(var n=0;n<e.length;n++)o.push(n/(e.length-1))}return x(),c=e},y=function(e){return e},v=function(e){return e},b=function(e,r){var i,l;if(null==r&&(r=!1),isNaN(e)||null===e)return n;l=r?e:a&&a.length>2?function(e){if(null!=a){for(var t=a.length-1,n=0;n<t&&e>=a[n];)n++;return n-1}return 0}(e)/(a.length-2):d!==u?(e-u)/(d-u):1,l=v(l),r||(l=y(l)),1!==m&&(l=hi(l,m)),l=s[0]+l*(1-s[0]-s[1]),l=Math.min(1,Math.max(0,l));var h=Math.floor(1e4*l);if(f&&p[h])i=p[h];else{if("array"===di(c))for(var g=0;g<o.length;g++){var b=o[g];if(l<=b){i=c[g];break}if(l>=b&&g===o.length-1){i=c[g];break}if(l>b&&l<o[g+1]){l=(l-b)/(o[g+1]-b),i=ui.interpolate(c[g],c[g+1],l,t);break}}else"function"===di(c)&&(i=c(l));f&&(p[h]=i)}return i},x=function(){return p={}};g(e);var O=function(e){var t=ui(b(e));return l&&t[l]?t[l]():t};return O.classes=function(e){if(null!=e){if("array"===di(e))a=e,i=[e[0],e[e.length-1]];else{var t=ui.analyze(i);a=0===e?[t.min,t.max]:ui.limits(t,"e",e)}return O}return a},O.domain=function(e){if(!arguments.length)return i;u=e[0],d=e[e.length-1],o=[];var t=c.length;if(e.length===t&&u!==d)for(var n=0,r=Array.from(e);n<r.length;n+=1){var s=r[n];o.push((s-u)/(d-u))}else{for(var a=0;a<t;a++)o.push(a/(t-1));if(e.length>2){var l=e.map((function(t,n){return n/(e.length-1)})),h=e.map((function(e){return(e-u)/(d-u)}));h.every((function(e,t){return l[t]===e}))||(v=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=h[t+1];)t++;var n=(e-h[t])/(h[t+1]-h[t]);return l[t]+n*(l[t+1]-l[t])})}}return i=[u,d],O},O.mode=function(e){return arguments.length?(t=e,x(),O):t},O.range=function(e,t){return g(e),O},O.out=function(e){return l=e,O},O.spread=function(e){return arguments.length?(r=e,O):r},O.correctLightness=function(e){return null==e&&(e=!0),h=e,x(),y=h?function(e){for(var t=b(0,!0).lab()[0],n=b(1,!0).lab()[0],r=t>n,i=b(e,!0).lab()[0],o=t+(n-t)*e,s=i-o,a=0,c=1,l=20;Math.abs(s)>.01&&l-- >0;)r&&(s*=-1),s<0?(a=e,e+=.5*(c-e)):(c=e,e+=.5*(a-e)),s=(i=b(e,!0).lab()[0])-o;return e}:function(e){return e},O},O.padding=function(e){return null!=e?("number"===di(e)&&(e=[e,e]),s=e,O):s},O.colors=function(t,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=c.slice(0);else if(1===t)r=[O(.5)];else if(t>1){var o=i[0],s=i[1]-o;r=function(e,t,n){for(var r=[],i=e<t,o=n?i?t+1:t-1:t,s=e;i?s<o:s>o;i?s++:s--)r.push(s);return r}(0,t,!1).map((function(e){return O(o+e/(t-1)*s)}))}else{e=[];var l=[];if(a&&a.length>2)for(var u=1,d=a.length,h=1<=d;h?u<d:u>d;h?u++:u--)l.push(.5*(a[u-1]+a[u]));else l=i;r=l.map((function(e){return O(e)}))}return ui[n]&&(r=r.map((function(e){return e[n]()}))),r},O.cache=function(e){return null!=e?(f=e,O):f},O.gamma=function(e){return null!=e?(m=e,O):m},O.nodata=function(e){return null!=e?(n=ui(e),O):n},O};var fi=y,mi=pi,gi=b,yi=function(e,t,n){if(!yi[n])throw new Error("unknown blend mode "+n);return yi[n](e,t)},vi=function(e){return function(t,n){var r=gi(n).rgb(),i=gi(t).rgb();return gi.rgb(e(r,i))}},bi=function(e){return function(t,n){var r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r}};yi.normal=vi(bi((function(e){return e}))),yi.multiply=vi(bi((function(e,t){return e*t/255}))),yi.screen=vi(bi((function(e,t){return 255*(1-(1-e/255)*(1-t/255))}))),yi.overlay=vi(bi((function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))}))),yi.darken=vi(bi((function(e,t){return e>t?t:e}))),yi.lighten=vi(bi((function(e,t){return e>t?e:t}))),yi.dodge=vi(bi((function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e}))),yi.burn=vi(bi((function(e,t){return 255*(1-(1-t/255)/(e/255))})));for(var xi=yi,Oi=u.type,wi=u.clip_rgb,Si=u.TWOPI,ki=Math.pow,_i=Math.sin,Pi=Math.cos,Ei=b,Ci=y,Ti=Math.floor,ji=Math.random,Ii=s,Mi=Math.log,Ai=Math.pow,Di=Math.floor,$i=Math.abs,Ri=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Ii(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===Ii(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(e,t){return Ni(n,e,t)},n},Ni=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==Ii(e)&&(e=Ri(e));var r=e.min,i=e.max,o=e.values.sort((function(e,t){return e-t}));if(1===n)return[r,i];var s=[];if("c"===t.substr(0,1)&&(s.push(r),s.push(i)),"e"===t.substr(0,1)){s.push(r);for(var a=1;a<n;a++)s.push(r+a/n*(i-r));s.push(i)}else if("l"===t.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*Mi(r),l=Math.LOG10E*Mi(i);s.push(r);for(var u=1;u<n;u++)s.push(Ai(10,c+u/n*(l-c)));s.push(i)}else if("q"===t.substr(0,1)){s.push(r);for(var d=1;d<n;d++){var h=(o.length-1)*d/n,p=Di(h);if(p===h)s.push(o[p]);else{var f=h-p;s.push(o[p]*(1-f)+o[p+1]*f)}}s.push(i)}else if("k"===t.substr(0,1)){var m,g=o.length,y=new Array(g),v=new Array(n),b=!0,x=0,O=null;(O=[]).push(r);for(var w=1;w<n;w++)O.push(r+w/n*(i-r));for(O.push(i);b;){for(var S=0;S<n;S++)v[S]=0;for(var k=0;k<g;k++)for(var _=o[k],P=Number.MAX_VALUE,E=void 0,C=0;C<n;C++){var T=$i(O[C]-_);T<P&&(P=T,E=C),v[E]++,y[k]=E}for(var j=new Array(n),I=0;I<n;I++)j[I]=null;for(var M=0;M<g;M++)null===j[m=y[M]]?j[m]=o[M]:j[m]+=o[M];for(var A=0;A<n;A++)j[A]*=1/v[A];b=!1;for(var D=0;D<n;D++)if(j[D]!==O[D]){b=!0;break}O=j,++x>200&&(b=!1)}for(var $={},R=0;R<n;R++)$[R]=[];for(var N=0;N<g;N++)$[m=y[N]].push(o[N]);for(var L=[],Q=0;Q<n;Q++)L.push($[Q][0]),L.push($[Q][$[Q].length-1]);L=L.sort((function(e,t){return e-t})),s.push(L[0]);for(var z=1;z<L.length;z+=2){var F=L[z];isNaN(F)||-1!==s.indexOf(F)||s.push(F)}}return s},Li={analyze:Ri,limits:Ni},Qi=y,zi=y,Fi=Math.sqrt,Bi=Math.pow,Zi=Math.min,Vi=Math.max,Wi=Math.atan2,Ui=Math.abs,qi=Math.cos,Yi=Math.sin,Xi=Math.exp,Hi=Math.PI,Gi=y,Ki=y,Ji=b,eo=pi,to={cool:function(){return eo([Ji.hsl(180,1,.9),Ji.hsl(250,.7,.4)])},hot:function(){return eo(["#000","#f00","#ff0","#fff"]).mode("rgb")}},no={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ro=0,io=Object.keys(no);ro<io.length;ro+=1){var oo=io[ro];no[oo.toLowerCase()]=no[oo]}var so=no,ao=b;return ao.average=function(e,t,n){void 0===t&&(t="lrgb"),void 0===n&&(n=null);var r=e.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var i=r/n.reduce((function(e,t){return e+t}));if(n.forEach((function(e,t){n[t]*=i})),e=e.map((function(e){return new ti(e)})),"lrgb"===t)return li(e,n);for(var o=e.shift(),s=o.get(t),a=[],c=0,l=0,u=0;u<s.length;u++)if(s[u]=(s[u]||0)*n[0],a.push(isNaN(s[u])?0:n[0]),"h"===t.charAt(u)&&!isNaN(s[u])){var d=s[u]/180*oi;c+=si(d)*n[0],l+=ai(d)*n[0]}var h=o.alpha()*n[0];e.forEach((function(e,r){var i=e.get(t);h+=e.alpha()*n[r+1];for(var o=0;o<s.length;o++)if(!isNaN(i[o]))if(a[o]+=n[r+1],"h"===t.charAt(o)){var u=i[o]/180*oi;c+=si(u)*n[r+1],l+=ai(u)*n[r+1]}else s[o]+=i[o]*n[r+1]}));for(var p=0;p<s.length;p++)if("h"===t.charAt(p)){for(var f=ci(l/a[p],c/a[p])/oi*180;f<0;)f+=360;for(;f>=360;)f-=360;s[p]=f}else s[p]=s[p]/a[p];return h/=r,new ti(s,t).alpha(h>.99999?1:h,!0)},ao.bezier=function(e){var t=function(e){var t,n,r,i,o,s,a;if(2===(e=e.map((function(e){return new fi(e)}))).length)t=e.map((function(e){return e.lab()})),o=t[0],s=t[1],i=function(e){var t=[0,1,2].map((function(t){return o[t]+e*(s[t]-o[t])}));return new fi(t,"lab")};else if(3===e.length)n=e.map((function(e){return e.lab()})),o=n[0],s=n[1],a=n[2],i=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*o[t]+2*(1-e)*e*s[t]+e*e*a[t]}));return new fi(t,"lab")};else if(4===e.length){var c;r=e.map((function(e){return e.lab()})),o=r[0],s=r[1],a=r[2],c=r[3],i=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*s[t]+3*(1-e)*e*e*a[t]+e*e*e*c[t]}));return new fi(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");var l,u,d;l=e.map((function(e){return e.lab()})),d=e.length-1,u=function(e){for(var t=[1,1],n=1;n<e;n++){for(var r=[1],i=1;i<=t.length;i++)r[i]=(t[i]||0)+t[i-1];t=r}return t}(d),i=function(e){var t=1-e,n=[0,1,2].map((function(n){return l.reduce((function(r,i,o){return r+u[o]*Math.pow(t,d-o)*Math.pow(e,o)*i[n]}),0)}));return new fi(n,"lab")}}return i}(e);return t.scale=function(){return mi(t)},t},ao.blend=xi,ao.cubehelix=function(e,t,n,r,i){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,s=0;"array"===Oi(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var a=function(a){var c=Si*((e+120)/360+t*a),l=ki(i[0]+o*a,r),u=(0!==s?n[0]+a*s:n)*l*(1-l)/2,d=Pi(c),h=_i(c);return Ei(wi([255*(l+u*(-.14861*d+1.78277*h)),255*(l+u*(-.29227*d-.90649*h)),255*(l+u*(1.97294*d)),1]))};return a.start=function(t){return null==t?e:(e=t,a)},a.rotations=function(e){return null==e?t:(t=e,a)},a.gamma=function(e){return null==e?r:(r=e,a)},a.hue=function(e){return null==e?n:("array"===Oi(n=e)?0==(s=n[1]-n[0])&&(n=n[1]):s=0,a)},a.lightness=function(e){return null==e?i:("array"===Oi(e)?(i=e,o=e[1]-e[0]):(i=[e,e],o=0),a)},a.scale=function(){return Ei.scale(a)},a.hue(n),a},ao.mix=ao.interpolate=Ir,ao.random=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef".charAt(Ti(16*ji()));return new Ci(e,"hex")},ao.scale=pi,ao.analyze=Li.analyze,ao.contrast=function(e,t){e=new Qi(e),t=new Qi(t);var n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},ao.deltaE=function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1);var o=function(e){return 360*e/(2*Hi)},s=function(e){return 2*Hi*e/360};e=new zi(e),t=new zi(t);var a=Array.from(e.lab()),c=a[0],l=a[1],u=a[2],d=Array.from(t.lab()),h=d[0],p=d[1],f=d[2],m=(c+h)/2,g=(Fi(Bi(l,2)+Bi(u,2))+Fi(Bi(p,2)+Bi(f,2)))/2,y=.5*(1-Fi(Bi(g,7)/(Bi(g,7)+Bi(25,7)))),v=l*(1+y),b=p*(1+y),x=Fi(Bi(v,2)+Bi(u,2)),O=Fi(Bi(b,2)+Bi(f,2)),w=(x+O)/2,S=o(Wi(u,v)),k=o(Wi(f,b)),_=S>=0?S:S+360,P=k>=0?k:k+360,E=Ui(_-P)>180?(_+P+360)/2:(_+P)/2,C=1-.17*qi(s(E-30))+.24*qi(s(2*E))+.32*qi(s(3*E+6))-.2*qi(s(4*E-63)),T=P-_;T=Ui(T)<=180?T:P<=_?T+360:T-360,T=2*Fi(x*O)*Yi(s(T)/2);var j=h-c,I=O-x,M=1+.015*Bi(m-50,2)/Fi(20+Bi(m-50,2)),A=1+.045*w,D=1+.015*w*C,$=30*Xi(-Bi((E-275)/25,2)),R=-2*Fi(Bi(w,7)/(Bi(w,7)+Bi(25,7)))*Yi(2*s($)),N=Fi(Bi(j/(n*M),2)+Bi(I/(r*A),2)+Bi(T/(i*D),2)+R*(I/(r*A))*(T/(i*D)));return Vi(0,Zi(100,N))},ao.distance=function(e,t,n){void 0===n&&(n="lab"),e=new Gi(e),t=new Gi(t);var r=e.get(n),i=t.get(n),o=0;for(var s in r){var a=(r[s]||0)-(i[s]||0);o+=a*a}return Math.sqrt(o)},ao.limits=Li.limits,ao.valid=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(Ki,[null].concat(e))),!0}catch(e){return!1}},ao.scales=to,ao.colors=hn,ao.brewer=so,ao}()},30395:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},84653:e=>{function t(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((n=>{const r=e[n],i=typeof r;"object"!==i&&"function"!==i||Object.isFrozen(r)||t(r)})),e}class n{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function r(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function i(e,...t){const n=Object.create(null);for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const o=e=>!!e.scope;class s{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=r(e)}openNode(e){if(!o(e))return;const t=((e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map(((e,t)=>`${e}${"_".repeat(t+1)}`))].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){o(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const a=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class c{constructor(){this.rootNode=a(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=a({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{c._collapse(e)})))}}class l extends c{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new s(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function u(e){return e?"string"==typeof e?e:e.source:null}function d(e){return f("(?=",e,")")}function h(e){return f("(?:",e,")*")}function p(e){return f("(?:",e,")?")}function f(...e){return e.map((e=>u(e))).join("")}function m(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e);return"("+(t.capture?"":"?:")+e.map((e=>u(e))).join("|")+")"}function g(e){return new RegExp(e.toString()+"|").exec("").length-1}const y=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function v(e,{joinWith:t}){let n=0;return e.map((e=>{n+=1;const t=n;let r=u(e),i="";for(;r.length>0;){const e=y.exec(r);if(!e){i+=r;break}i+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?i+="\\"+String(Number(e[1])+t):(i+=e[0],"("===e[0]&&n++)}return i})).map((e=>`(${e})`)).join(t)}const b="[a-zA-Z]\\w*",x="[a-zA-Z_]\\w*",O="\\b\\d+(\\.\\d+)?",w="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",S="\\b(0b[01]+)",k={begin:"\\\\[\\s\\S]",relevance:0},_={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[k]},P={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[k]},E=function(e,t,n={}){const r=i({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const o=m("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:f(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},C=E("//","$"),T=E("/\\*","\\*/"),j=E("#","$"),I={scope:"number",begin:O,relevance:0},M={scope:"number",begin:w,relevance:0},A={scope:"number",begin:S,relevance:0},D={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[k,{begin:/\[/,end:/\]/,relevance:0,contains:[k]}]},$={scope:"title",begin:b,relevance:0},R={scope:"title",begin:x,relevance:0},N={begin:"\\.\\s*"+x,relevance:0};var L=Object.freeze({__proto__:null,APOS_STRING_MODE:_,BACKSLASH_ESCAPE:k,BINARY_NUMBER_MODE:A,BINARY_NUMBER_RE:S,COMMENT:E,C_BLOCK_COMMENT_MODE:T,C_LINE_COMMENT_MODE:C,C_NUMBER_MODE:M,C_NUMBER_RE:w,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:j,IDENT_RE:b,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:N,NUMBER_MODE:I,NUMBER_RE:O,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:P,REGEXP_MODE:D,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=f(t,/.*\b/,e.binary,/\b.*/)),i({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:$,UNDERSCORE_IDENT_RE:x,UNDERSCORE_TITLE_MODE:R});function Q(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function z(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function F(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Q,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function B(e,t){Array.isArray(e.illegal)&&(e.illegal=m(...e.illegal))}function Z(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function V(e,t){void 0===e.relevance&&(e.relevance=1)}const W=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach((t=>{delete e[t]})),e.keywords=n.keywords,e.begin=f(n.beforeMatch,d(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},U=["of","and","for","in","not","or","if","then","parent","list","value"],q="keyword";function Y(e,t,n=q){const r=Object.create(null);return"string"==typeof e?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach((function(n){Object.assign(r,Y(e[n],t,n))})),r;function i(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");r[n[0]]=[e,X(n[0],n[1])]}))}}function X(e,t){return t?Number(t):function(e){return U.includes(e.toLowerCase())}(e)?0:1}const H={},G=e=>{console.error(e)},K=(e,...t)=>{console.log(`WARN: ${e}`,...t)},J=(e,t)=>{H[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),H[`${e}/${t}`]=!0)},ee=new Error;function te(e,t,{key:n}){let r=0;const i=e[n],o={},s={};for(let e=1;e<=t.length;e++)s[e+r]=i[e],o[e+r]=!0,r+=g(t[e-1]);e[n]=s,e[n]._emit=o,e[n]._multi=!0}function ne(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw G("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ee;if("object"!=typeof e.beginScope||null===e.beginScope)throw G("beginScope must be object"),ee;te(e,e.begin,{key:"beginScope"}),e.begin=v(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw G("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ee;if("object"!=typeof e.endScope||null===e.endScope)throw G("endScope must be object"),ee;te(e,e.end,{key:"endScope"}),e.end=v(e.end,{joinWith:""})}}(e)}function re(e){function t(t,n){return new RegExp(u(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=g(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=t(v(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach((([e,n])=>t.addRule(e,n))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=i(e.classNameAliases||{}),function n(o,s){const a=o;if(o.isCompiled)return a;[z,Z,ne,W].forEach((e=>e(o,s))),e.compilerExtensions.forEach((e=>e(o,s))),o.__beforeBegin=null,[F,B,V].forEach((e=>e(o,s))),o.isCompiled=!0;let c=null;return"object"==typeof o.keywords&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),c=o.keywords.$pattern,delete o.keywords.$pattern),c=c||/\w+/,o.keywords&&(o.keywords=Y(o.keywords,e.case_insensitive)),a.keywordPatternRe=t(c,!0),s&&(o.begin||(o.begin=/\B|\b/),a.beginRe=t(a.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(a.endRe=t(a.end)),a.terminatorEnd=u(a.end)||"",o.endsWithParent&&s.terminatorEnd&&(a.terminatorEnd+=(o.end?"|":"")+s.terminatorEnd)),o.illegal&&(a.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map((function(e){return function(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return i(e,{variants:null},t)}))),e.cachedVariants?e.cachedVariants:ie(e)?i(e,{starts:e.starts?i(e.starts):null}):Object.isFrozen(e)?i(e):e}("self"===e?o:e)}))),o.contains.forEach((function(e){n(e,a)})),o.starts&&n(o.starts,s),a.matcher=function(e){const t=new r;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(a),a}(e)}function ie(e){return!!e&&(e.endsWithParent||ie(e.starts))}class oe extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const se=r,ae=i,ce=Symbol("nomatch"),le=function(e){const r=Object.create(null),i=Object.create(null),o=[];let s=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let u={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:l};function g(e){return u.noHighlightRe.test(e)}function y(e,t,n){let r="",i="";"object"==typeof t?(r=e,n=t.ignoreIllegals,i=t.language):(J("10.7.0","highlight(lang, code, ...args) has been deprecated."),J("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=e,r=t),void 0===n&&(n=!0);const o={code:r,language:i};P("before:highlight",o);const s=o.result?o.result:v(o.language,o.code,n);return s.code=o.code,P("after:highlight",s),s}function v(e,t,i,o){const c=Object.create(null);function l(){if(!P.keywords)return void C.addText(T);let e=0;P.keywordPatternRe.lastIndex=0;let t=P.keywordPatternRe.exec(T),n="";for(;t;){n+=T.substring(e,t.index);const i=w.case_insensitive?t[0].toLowerCase():t[0],o=(r=i,P.keywords[r]);if(o){const[e,r]=o;if(C.addText(n),n="",c[i]=(c[i]||0)+1,c[i]<=7&&(j+=r),e.startsWith("_"))n+=t[0];else{const n=w.classNameAliases[e]||e;h(t[0],n)}}else n+=t[0];e=P.keywordPatternRe.lastIndex,t=P.keywordPatternRe.exec(T)}var r;n+=T.substring(e),C.addText(n)}function d(){null!=P.subLanguage?function(){if(""===T)return;let e=null;if("string"==typeof P.subLanguage){if(!r[P.subLanguage])return void C.addText(T);e=v(P.subLanguage,T,!0,E[P.subLanguage]),E[P.subLanguage]=e._top}else e=b(T,P.subLanguage.length?P.subLanguage:null);P.relevance>0&&(j+=e.relevance),C.__addSublanguage(e._emitter,e.language)}():l(),T=""}function h(e,t){""!==e&&(C.startScope(t),C.addText(e),C.endScope())}function p(e,t){let n=1;const r=t.length-1;for(;n<=r;){if(!e._emit[n]){n++;continue}const r=w.classNameAliases[e[n]]||e[n],i=t[n];r?h(i,r):(T=i,l(),T=""),n++}}function f(e,t){return e.scope&&"string"==typeof e.scope&&C.openNode(w.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(h(T,w.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),T=""):e.beginScope._multi&&(p(e.beginScope,t),T="")),P=Object.create(e,{parent:{value:P}}),P}function m(e,t,r){let i=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,r);if(i){if(e["on:end"]){const r=new n(e);e["on:end"](t,r),r.isMatchIgnored&&(i=!1)}if(i){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return m(e.parent,t,r)}function g(e){return 0===P.matcher.regexIndex?(T+=e[0],1):(A=!0,0)}function y(e){const n=e[0],r=t.substring(e.index),i=m(P,e,r);if(!i)return ce;const o=P;P.endScope&&P.endScope._wrap?(d(),h(n,P.endScope._wrap)):P.endScope&&P.endScope._multi?(d(),p(P.endScope,e)):o.skip?T+=n:(o.returnEnd||o.excludeEnd||(T+=n),d(),o.excludeEnd&&(T=n));do{P.scope&&C.closeNode(),P.skip||P.subLanguage||(j+=P.relevance),P=P.parent}while(P!==i.parent);return i.starts&&f(i.starts,e),o.returnEnd?0:n.length}let x={};function O(r,o){const a=o&&o[0];if(T+=r,null==a)return d(),0;if("begin"===x.type&&"end"===o.type&&x.index===o.index&&""===a){if(T+=t.slice(o.index,o.index+1),!s){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=x.rule,t}return 1}if(x=o,"begin"===o.type)return function(e){const t=e[0],r=e.rule,i=new n(r),o=[r.__beforeBegin,r["on:begin"]];for(const n of o)if(n&&(n(e,i),i.isMatchIgnored))return g(t);return r.skip?T+=t:(r.excludeBegin&&(T+=t),d(),r.returnBegin||r.excludeBegin||(T=t)),f(r,e),r.returnBegin?0:t.length}(o);if("illegal"===o.type&&!i){const e=new Error('Illegal lexeme "'+a+'" for mode "'+(P.scope||"<unnamed>")+'"');throw e.mode=P,e}if("end"===o.type){const e=y(o);if(e!==ce)return e}if("illegal"===o.type&&""===a)return 1;if(M>1e5&&M>3*o.index)throw new Error("potential infinite loop, way more iterations than matches");return T+=a,a.length}const w=S(e);if(!w)throw G(a.replace("{}",e)),new Error('Unknown language: "'+e+'"');const k=re(w);let _="",P=o||k;const E={},C=new u.__emitter(u);!function(){const e=[];for(let t=P;t!==w;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((e=>C.openNode(e)))}();let T="",j=0,I=0,M=0,A=!1;try{if(w.__emitTokens)w.__emitTokens(t,C);else{for(P.matcher.considerAll();;){M++,A?A=!1:P.matcher.considerAll(),P.matcher.lastIndex=I;const e=P.matcher.exec(t);if(!e)break;const n=O(t.substring(I,e.index),e);I=e.index+n}O(t.substring(I))}return C.finalize(),_=C.toHTML(),{language:e,value:_,relevance:j,illegal:!1,_emitter:C,_top:P}}catch(n){if(n.message&&n.message.includes("Illegal"))return{language:e,value:se(t),illegal:!0,relevance:0,_illegalBy:{message:n.message,index:I,context:t.slice(I-100,I+100),mode:n.mode,resultSoFar:_},_emitter:C};if(s)return{language:e,value:se(t),illegal:!1,relevance:0,errorRaised:n,_emitter:C,_top:P};throw n}}function b(e,t){t=t||u.languages||Object.keys(r);const n=function(e){const t={value:se(e),illegal:!1,relevance:0,_top:c,_emitter:new u.__emitter(u)};return t._emitter.addText(e),t}(e),i=t.filter(S).filter(_).map((t=>v(t,e,!1)));i.unshift(n);const o=i.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(S(e.language).supersetOf===t.language)return 1;if(S(t.language).supersetOf===e.language)return-1}return 0})),[s,a]=o,l=s;return l.secondBest=a,l}function x(e){let t=null;const n=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=u.languageDetectRe.exec(t);if(n){const t=S(n[1]);return t||(K(a.replace("{}",n[1])),K("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>g(e)||S(e)))}(e);if(g(n))return;if(P("before:highlightElement",{el:e,language:n}),e.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e);if(e.children.length>0&&(u.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),u.throwUnescapedHTML))throw new oe("One of your code blocks includes unescaped HTML.",e.innerHTML);t=e;const r=t.textContent,o=n?y(r,{language:n,ignoreIllegals:!0}):b(r);e.innerHTML=o.value,e.dataset.highlighted="yes",function(e,t,n){const r=t&&i[t]||n;e.classList.add("hljs"),e.classList.add(`language-${r}`)}(e,n,o.language),e.result={language:o.language,re:o.relevance,relevance:o.relevance},o.secondBest&&(e.secondBest={language:o.secondBest.language,relevance:o.secondBest.relevance}),P("after:highlightElement",{el:e,result:o,text:r})}let O=!1;function w(){"loading"!==document.readyState?document.querySelectorAll(u.cssSelector).forEach(x):O=!0}function S(e){return e=(e||"").toLowerCase(),r[e]||r[i[e]]}function k(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach((e=>{i[e.toLowerCase()]=t}))}function _(e){const t=S(e);return t&&!t.disableAutodetect}function P(e,t){const n=e;o.forEach((function(e){e[n]&&e[n](t)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){O&&w()}),!1),Object.assign(e,{highlight:y,highlightAuto:b,highlightAll:w,highlightElement:x,highlightBlock:function(e){return J("10.7.0","highlightBlock will be removed entirely in v12.0"),J("10.7.0","Please use highlightElement now."),x(e)},configure:function(e){u=ae(u,e)},initHighlighting:()=>{w(),J("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){w(),J("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(t,n){let i=null;try{i=n(e)}catch(e){if(G("Language definition for '{}' could not be registered.".replace("{}",t)),!s)throw e;G(e),i=c}i.name||(i.name=t),r[t]=i,i.rawDefinition=n.bind(null,e),i.aliases&&k(i.aliases,{languageName:t})},unregisterLanguage:function(e){delete r[e];for(const t of Object.keys(i))i[t]===e&&delete i[t]},listLanguages:function(){return Object.keys(r)},getLanguage:S,registerAliases:k,autoDetection:_,inherit:ae,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),o.push(e)},removePlugin:function(e){const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString="11.9.0",e.regex={concat:f,lookahead:d,either:m,optional:p,anyNumberOfTimes:h};for(const e in L)"object"==typeof L[e]&&t(L[e]);return Object.assign(e,L),e},ue=le({});ue.newInstance=()=>le({}),e.exports=ue,ue.HighlightJS=ue,ue.default=ue},20439:(e,t,n)=>{"use strict";n.d(t,{D:()=>Ce});var r=n(58932),i=n(41477),o=n(67217),s=n(71190),a=n(16816),c=n(61491),l=n(78027),u=n(28554),d=function(){function e(){this.assumeImmutableResults=!1,this.getFragmentDoc=(0,o.LV)(a.ct,{max:c.v["cache.fragmentQueryDocuments"]||1e3,cache:l.l})}return e.prototype.batch=function(e){var t,n=this,r="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),r),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,r.Cl)((0,r.Cl)({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,r.Cl)((0,r.Cl)({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,i=(0,r.Tt)(e,["id","data"]);return this.write(Object.assign(i,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,i=e.fragment,o=e.fragmentName,s=(0,r.Tt)(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(i,o),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var i=n.readQuery(e),o=t(i);return null==o?i:(n.writeQuery((0,r.Cl)((0,r.Cl)({},e),{data:o})),o)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var i=n.readFragment(e),o=t(i);return null==o?i:(n.writeFragment((0,r.Cl)((0,r.Cl)({},e),{data:o})),o)}})},e}();!1!==globalThis.__DEV__&&(d.prototype.getMemoryInternals=u.tQ);var h=function(e){function t(n,r,i,o){var s,a=e.call(this,n)||this;if(a.message=n,a.path=r,a.query=i,a.variables=o,Array.isArray(a.path)){a.missing=a.message;for(var c=a.path.length-1;c>=0;--c)a.missing=((s={})[a.path[c]]=a.missing,s)}else a.missing=a.path;return a.__proto__=t.prototype,a}return(0,r.C6)(t,e),t}(Error),p=n(66658),f=n(50093),m=n(558),g=n(41444),y=n(71875),v=n(33839),b=n(45816),x=n(53364),O=n(27337),w=n(84996),S=n(67115),k=n(30876),_=n(10409),P=n(69796),E=n(99263),C=Object.prototype.hasOwnProperty;function T(e){return null==e}function j(e,t){var n=e.__typename,r=e.id,i=e._id;if("string"==typeof n&&(t&&(t.keyObject=T(r)?T(i)?void 0:{_id:i}:{id:r}),T(r)&&!T(i)&&(r=i),!T(r)))return"".concat(n,":").concat("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))}var I={dataIdFromObject:j,addTypename:!0,resultCaching:!0,canonizeResults:!1};function M(e){var t=e.canonizeResults;return void 0===t?I.canonizeResults:t}var A=/^[_a-z][_0-9a-z]*/i;function D(e){var t=e.match(A);return t?t[0]:e}function $(e,t,n){return!!(0,_.U)(t)&&((0,E.c)(t)?t.every((function(t){return $(e,t,n)})):e.selections.every((function(e){if((0,y.dt)(e)&&(0,S.MS)(e,n)){var r=(0,y.ue)(e);return C.call(t,r)&&(!e.selectionSet||$(e.selectionSet,t[r],n))}return!0})))}function R(e){return(0,_.U)(e)&&!(0,y.A_)(e)&&!(0,E.c)(e)}function N(e,t){var n=(0,a.JG)((0,O.zK)(e));return{fragmentMap:n,lookupFragment:function(e){var r=n[e];return!r&&t&&(r=t.lookup(e)),r||null}}}var L=Object.create(null),Q=function(){return L},z=Object.create(null),F=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return(0,k.G)((0,y.A_)(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return(0,y.A_)(e)?n.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return(0,y.WU)(e);if((0,y.A_)(e))return e;var r=n.policies.identify(e)[0];if(r){var i=(0,y.WU)(r);return t&&n.merge(r,e),i}}}return e.prototype.toObject=function(){return(0,r.Cl)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),C.call(this.data,e)){var n=this.data[e];if(n&&C.call(n,t))return n[t]}return"__typename"===t&&C.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof W?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),C.call(this.data,e)?this.data[e]:this instanceof W?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;(0,y.A_)(e)&&(e=e.__ref),(0,y.A_)(t)&&(t=t.__ref);var o="string"==typeof e?this.lookup(n=e):e,s="string"==typeof t?this.lookup(n=t):t;if(s){(0,i.V1)("string"==typeof n,1);var a=new w.ZI(q).merge(o,s);if(this.data[n]=a,a!==o&&(delete this.refs[n],this.group.caching)){var c=Object.create(null);o||(c.__exists=1),Object.keys(s).forEach((function(e){if(!o||o[e]!==a[e]){c[e]=1;var t=D(e);t===e||r.policies.hasKeyArgs(a.__typename,t)||(c[t]=1),void 0!==a[e]||r instanceof W||delete a[e]}})),!c.__typename||o&&o.__typename||this.policies.rootTypenamesById[n]!==a.__typename||delete c.__typename,Object.keys(c).forEach((function(e){return r.group.dirty(n,e)}))}}},e.prototype.modify=function(e,t){var n=this,o=this.lookup(e);if(o){var s=Object.create(null),a=!1,c=!0,l={DELETE:L,INVALIDATE:z,isReference:y.A_,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"==typeof t?{fieldName:t,from:r||(0,y.WU)(e)}:t,{store:n})}};if(Object.keys(o).forEach((function(u){var d=D(u),h=o[u];if(void 0!==h){var p="function"==typeof t?t:t[u]||t[d];if(p){var f=p===Q?L:p((0,k.G)(h),(0,r.Cl)((0,r.Cl)({},l),{fieldName:d,storeFieldName:u,storage:n.getStorage(e,u)}));if(f===z)n.group.dirty(e,u);else if(f===L&&(f=void 0),f!==h&&(s[u]=f,a=!0,h=f,!1!==globalThis.__DEV__)){var m=function(e){if(void 0===n.lookup(e.__ref))return!1!==globalThis.__DEV__&&i.V1.warn(2,e),!0};if((0,y.A_)(f))m(f);else if(Array.isArray(f))for(var g=!1,v=void 0,b=0,x=f;b<x.length;b++){var O=x[b];if((0,y.A_)(O)){if(g=!0,m(O))break}else"object"==typeof O&&O&&n.policies.identify(O)[0]&&(v=O);if(g&&void 0!==v){!1!==globalThis.__DEV__&&i.V1.warn(3,v);break}}}}void 0!==h&&(c=!1)}})),a)return this.merge(e,s),c&&(this instanceof W?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),s=t&&n?this.policies.getStoreFieldName({typename:o,fieldName:t,args:n}):t;return this.modify(e,s?((r={})[s]=Q,r):Q)}return!1},e.prototype.evict=function(e,t){var n=!1;return e.id&&(C.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof W&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){C.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&C.call(e,n)||t.delete(n)})),e){var n=e.__META,i=(0,r.Tt)(e,["__META"]);Object.keys(i).forEach((function(e){t.merge(e,i[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof W?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){C.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var i=this;i instanceof W;)i=i.parent;r.forEach((function(e){return i.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!C.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach((function(e){(0,y.A_)(e)&&(t[e.__ref]=!0),(0,_.U)(e)&&Object.keys(e).forEach((function(t){var n=e[t];(0,_.U)(n)&&r.add(n)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),B=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?(0,o.yN)():null,this.keyMaker=new P.b(b.et)},e.prototype.depend=function(e,t){if(this.d){this.d(Z(e,t));var n=D(t);n!==t&&this.d(Z(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(Z(e,t),"__exists"===t?"forget":"setDirty")},e}();function Z(e,t){return t+"#"+e}function V(e,t){Y(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,i=void 0===r||r,o=t.seed,s=e.call(this,n,new B(i))||this;return s.stump=new U(s),s.storageTrie=new P.b(b.et),o&&s.replace(o),s}return(0,r.C6)(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(F||(F={}));var W=function(e){function t(t,n,r,i){var o=e.call(this,n.policies,i)||this;return o.id=t,o.parent=n,o.replay=r,o.group=i,r(o),o}return(0,r.C6)(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var r=t.data[e],i=n.lookup(e);i?r?r!==i&&Object.keys(r).forEach((function(n){(0,s.L)(r[n],i[n])||t.group.dirty(e,n)})):(t.group.dirty(e,"__exists"),Object.keys(i).forEach((function(n){t.group.dirty(e,n)}))):t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,r.Cl)((0,r.Cl)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return C.call(this.data,t)?(0,r.Cl)((0,r.Cl)({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(F),U=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new B(t.group.caching,t.group))||this}return(0,r.C6)(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(e,t){return this.parent.merge(e,t)},t}(W);function q(e,t,n){var r=e[n],i=t[n];return(0,s.L)(r,i)?r:i}function Y(e){return!!(e instanceof F&&e.group.caching)}var X=function(){function e(){this.known=new(b.En?WeakSet:Set),this.pool=new P.b(b.et),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return(0,_.U)(e)&&this.known.has(e)},e.prototype.pass=function(e){if((0,_.U)(e)){var t=function(e){return(0,_.U)(e)?(0,E.c)(e)?e.slice(0):(0,r.Cl)({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if((0,_.U)(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(a=this.pool.lookupArray(r)).array||(this.known.add(a.array=r),!1!==globalThis.__DEV__&&Object.freeze(r)),a.array;case null:case Object.prototype:if(this.known.has(e))return e;var i=Object.getPrototypeOf(e),o=[i],s=this.sortedKeys(e);o.push(s.json);var a,c=o.length;if(s.sorted.forEach((function(n){o.push(t.admit(e[n]))})),!(a=this.pool.lookupArray(o)).object){var l=a.object=Object.create(i);this.known.add(l),s.sorted.forEach((function(e,t){l[e]=o[c+t]})),!1!==globalThis.__DEV__&&Object.freeze(l)}return a.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}();function H(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var G=function(){function e(e){var t=this;this.knownResults=new(b.et?WeakMap:Map),this.config=(0,x.o)(e,{addTypename:!1!==e.addTypename,canonizeResults:M(e)}),this.canon=e.canon||new X,this.executeSelectionSet=(0,o.LV)((function(e){var n,i=e.context.canonizeResults,o=H(e);o[3]=!i;var s=(n=t.executeSelectionSet).peek.apply(n,o);return s?i?(0,r.Cl)((0,r.Cl)({},s),{result:t.canon.admit(s.result)}):s:(V(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize||c.v["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:H,makeCacheKey:function(e,t,n,r){if(Y(n.store))return n.store.makeCacheKey(e,(0,y.A_)(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=(0,o.LV)((function(e){return V(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize||c.v["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(Y(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new X},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,i=e.rootId,o=void 0===i?"ROOT_QUERY":i,s=e.variables,a=e.returnPartialData,c=void 0===a||a,l=e.canonizeResults,u=void 0===l?this.config.canonizeResults:l,d=this.config.cache.policies;s=(0,r.Cl)((0,r.Cl)({},(0,O.wY)((0,O.AT)(n))),s);var p,f=(0,y.WU)(o),g=this.executeSelectionSet({selectionSet:(0,O.Vn)(n).selectionSet,objectOrReference:f,enclosingRef:f,context:(0,r.Cl)({store:t,query:n,policies:d,variables:s,varString:(0,m.M)(s),canonizeResults:u},N(n,this.config.fragments))});if(g.missing&&(p=[new h(K(g.missing),g.missing,n,s)],!c))throw p[0];return{result:g.result,complete:!p,missing:p}},e.prototype.isFresh=function(e,t,n,r){if(Y(r.store)&&this.knownResults.get(e)===n){var i=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,o=e.enclosingRef,s=e.context;if((0,y.A_)(r)&&!s.policies.rootTypenamesById[r.__ref]&&!s.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var c,l=s.variables,u=s.policies,d=s.store.getFieldValue(r,"__typename"),h=[],p=new w.ZI;function m(e,t){var n;return e.missing&&(c=p.merge(c,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"==typeof d&&!u.rootIdsByTypename[d]&&h.push({__typename:d});var g=new Set(n.selections);g.forEach((function(e){var n,b;if((0,S.MS)(e,l))if((0,y.dt)(e)){var x=u.readField({fieldName:e.name.value,field:e,variables:s.variables,from:r},s),O=(0,y.ue)(e);void 0===x?f.XY.added(e)||(c=p.merge(c,((n={})[O]="Can't find field '".concat(e.name.value,"' on ").concat((0,y.A_)(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),n))):(0,E.c)(x)?x=m(t.executeSubSelectedArray({field:e,array:x,enclosingRef:o,context:s}),O):e.selectionSet?null!=x&&(x=m(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:x,enclosingRef:(0,y.A_)(x)?x:o,context:s}),O)):s.canonizeResults&&(x=t.canon.pass(x)),void 0!==x&&h.push(((b={})[O]=x,b))}else{var w=(0,a.HQ)(e,s.lookupFragment);if(!w&&e.kind===v.b.FRAGMENT_SPREAD)throw(0,i.vA)(9,e.name.value);w&&u.fragmentMatches(w,d)&&w.selectionSet.selections.forEach(g.add,g)}}));var b={result:(0,w.IM)(h),missing:c},x=s.canonizeResults?this.canon.admit(b):(0,k.G)(b);return x.result&&this.knownResults.set(x.result,n),x},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,o=e.array,s=e.enclosingRef,a=e.context,c=new w.ZI;function l(e,n){var r;return e.missing&&(t=c.merge(t,((r={})[n]=e.missing,r))),e.result}return r.selectionSet&&(o=o.filter(a.store.canRead)),o=o.map((function(e,t){return null===e?null:(0,E.c)(e)?l(n.executeSubSelectedArray({field:r,array:e,enclosingRef:s,context:a}),t):r.selectionSet?l(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:(0,y.A_)(e)?e:s,context:a}),t):(!1!==globalThis.__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){(0,_.U)(n)&&((0,i.V1)(!(0,y.A_)(n),10,function(e,t){return(0,y.A_)(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n),t.name.value),Object.values(n).forEach(r.add,r))}))}}(a.store,r,e),e)})),{result:a.canonizeResults?this.canon.admit(o):o,missing:t}},e}();function K(e){try{JSON.stringify(e,(function(e,t){if("string"==typeof t)throw t;return t}))}catch(e){return e}}var J=n(34162),ee=n(31547),te=n(97825),ne=Object.create(null);function re(e){var t=JSON.stringify(e);return ne[t]||(ne[t]=Object.create(null))}function ie(e){var t=re(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,n){var r=function(e,t){return n.readField(t,e)},o=n.keyObject=se(e,(function(e){var o=le(n.storeObject,e,r);return void 0===o&&t!==n.storeObject&&C.call(t,e[0])&&(o=le(t,e,ce)),(0,i.V1)(void 0!==o,4,e.join("."),t),o}));return"".concat(n.typename,":").concat(JSON.stringify(o))})}function oe(e){var t=re(e);return t.keyArgsFn||(t.keyArgsFn=function(t,n){var r=n.field,i=n.variables,o=n.fieldName,s=se(e,(function(e){var n=e[0],o=n.charAt(0);if("@"!==o)if("$"!==o){if(t)return le(t,e)}else{var s=n.slice(1);if(i&&C.call(i,s)){var a=e.slice(0);return a[0]=s,le(i,a)}}else if(r&&(0,E.E)(r.directives)){var c=n.slice(1),l=r.directives.find((function(e){return e.name.value===c})),u=l&&(0,y.MB)(l,i);return u&&le(u,e.slice(1))}})),a=JSON.stringify(s);return(t||"{}"!==a)&&(o+=":"+a),o})}function se(e,t){var n=new w.ZI;return ae(e).reduce((function(e,r){var i,o=t(r);if(void 0!==o){for(var s=r.length-1;s>=0;--s)(i={})[r[s]]=o,o=i;e=n.merge(e,o)}return e}),Object.create(null))}function ae(e){var t=re(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach((function(t,i){(0,E.c)(t)?(ae(t).forEach((function(e){return n.push(r.concat(e))})),r.length=0):(r.push(t),(0,E.c)(e[i+1])||(n.push(r.slice(0)),r.length=0))}))}return t.paths}function ce(e,t){return e[t]}function le(e,t,n){return n=n||ce,ue(t.reduce((function e(t,r){return(0,E.c)(t)?t.map((function(t){return e(t,r)})):t&&n(t,r)}),e))}function ue(e){return(0,_.U)(e)?(0,E.c)(e)?e.map(ue):se(Object.keys(e).sort(),(function(t){return le(e,t)})):e}function de(e){return void 0!==e.args?e.args:e.field?(0,y.MB)(e.field,e.variables):null}var he=function(){},pe=function(e,t){return t.fieldName},fe=function(e,t,n){return(0,n.mergeObjects)(e,t)},me=function(e,t){return t},ge=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,r.Cl)({dataIdFromObject:j},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var n,i=this,o=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var s,a=t&&t.storeObject||e,c=(0,r.Cl)((0,r.Cl)({},t),{typename:o,storeObject:a,readField:t&&t.readField||function(){var e=ve(arguments,a);return i.readField(e,{store:i.cache.data,variables:e.variables})}}),l=o&&this.getTypePolicy(o),u=l&&l.keyFn||this.config.dataIdFromObject;u;){var d=u((0,r.Cl)((0,r.Cl)({},e),a),c);if(!(0,E.c)(d)){s=d;break}u=ie(d)}return s=s?String(s):void 0,c.keyObject?[s,c.keyObject]:[s]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var i=e[n],o=i.queryType,s=i.mutationType,a=i.subscriptionType,c=(0,r.Tt)(i,["queryType","mutationType","subscriptionType"]);o&&t.setRootTypename("Query",n),s&&t.setRootTypename("Mutation",n),a&&t.setRootTypename("Subscription",n),C.call(t.toBeAdded,n)?t.toBeAdded[n].push(c):t.toBeAdded[n]=[c]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),i=t.keyFields,o=t.fields;function s(e,t){e.merge="function"==typeof t?t:!0===t?fe:!1===t?me:e.merge}s(r,t.merge),r.keyFn=!1===i?he:(0,E.c)(i)?ie(i):"function"==typeof i?i:r.keyFn,o&&Object.keys(o).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),i=o[t];if("function"==typeof i)r.read=i;else{var a=i.keyArgs,c=i.read,l=i.merge;r.keyFn=!1===a?pe:(0,E.c)(a)?oe(a):"function"==typeof a?a:r.keyFn,"function"==typeof c&&(r.read=c),s(r,l)}r.read&&r.merge&&(r.keyFn=r.keyFn||pe)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&((0,i.V1)(!r||r===e,5,e),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(A);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!C.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var i=this.supertypeMap.get(e);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach((function(n,r){if(n.test(e)){var o=t.supertypeMap.get(r);o&&o.forEach((function(e){return i.add(e)}))}}))),i&&i.size&&i.forEach((function(e){var i=t.getTypePolicy(e),o=i.fields,s=(0,r.Tt)(i,["fields"]);Object.assign(n,s),Object.assign(n.fields,o)}))}var o=this.toBeAdded[e];return o&&o.length&&o.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var o=this;if(!e.typeCondition)return!0;if(!t)return!1;var s=e.typeCondition.name.value;if(t===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var a=this.getSupertypeSet(t,!0),c=[a],l=function(e){var t=o.getSupertypeSet(e,!1);t&&t.size&&c.indexOf(t)<0&&c.push(t)},u=!(!n||!this.fuzzySubtypes.size),d=!1,h=0;h<c.length;++h){var p=c[h];if(p.has(s))return a.has(s)||(d&&!1!==globalThis.__DEV__&&i.V1.warn(6,t,s),a.add(s)),!0;p.forEach(l),u&&h===c.length-1&&$(e.selectionSet,n,r)&&(u=!1,d=!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&l(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),o=i&&i.keyFn;if(o&&n)for(var s={typename:n,fieldName:r,field:e.field||null,variables:e.variables},a=de(e);o;){var c=o(a,s);if(!(0,E.c)(c)){t=c||r;break}o=oe(c)}return void 0===t&&(t=e.field?(0,y.Ii)(e.field,e.variables):(0,y.o5)(r,de(e))),!1===t?r:r===D(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var i=this.getStoreFieldName(e),o=D(i),s=t.store.getFieldValue(n,i),a=this.getFieldPolicy(e.typename,o,!1),c=a&&a.read;if(c){var l=ye(this,n,e,t,t.store.getStorage((0,y.A_)(n)?n.__ref:n,i));return te.bl.withValue(this.cache,c,[s,l])}return s}},e.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),i=r&&r.merge;return!i&&n&&(i=(r=this.getTypePolicy(n))&&r.merge),i},e.prototype.runMergeFunction=function(e,t,n,r,i){var o=n.field,s=n.typename,a=n.merge;return a===fe?be(r.store)(e,t):a===me?t:(r.overwrite&&(e=void 0),a(e,t,ye(this,void 0,{typename:s,fieldName:o.name.value,field:o,variables:r.variables},r,i||Object.create(null))))},e}();function ye(e,t,n,r,i){var o=e.getStoreFieldName(n),s=D(o),a=n.variables||r.variables,c=r.store,l=c.toReference,u=c.canRead;return{args:de(n),field:n.field||null,fieldName:s,storeFieldName:o,variables:a,isReference:y.A_,toReference:l,storage:i,cache:e.cache,canRead:u,readField:function(){return e.readField(ve(arguments,t,a),r)},mergeObjects:be(r.store)}}function ve(e,t,n){var o,s=e[0],a=e[1],c=e.length;return"string"==typeof s?o={fieldName:s,from:c>1?a:t}:(o=(0,r.Cl)({},s),C.call(o,"from")||(o.from=t)),!1!==globalThis.__DEV__&&void 0===o.from&&!1!==globalThis.__DEV__&&i.V1.warn(7,(0,ee.p)(Array.from(e))),void 0===o.variables&&(o.variables=n),o}function be(e){return function(t,n){if((0,E.c)(t)||(0,E.c)(n))throw(0,i.vA)(8);if((0,_.U)(t)&&(0,_.U)(n)){var o=e.getFieldValue(t,"__typename"),s=e.getFieldValue(n,"__typename");if(o&&s&&o!==s)return n;if((0,y.A_)(t)&&R(n))return e.merge(t.__ref,n),t;if(R(t)&&(0,y.A_)(n))return e.merge(t,n.__ref),n;if(R(t)&&R(n))return(0,r.Cl)((0,r.Cl)({},t),n)}return n}}function xe(e,t,n){var i="".concat(t).concat(n),o=e.flavors.get(i);return o||e.flavors.set(i,o=e.clientOnly===t&&e.deferred===n?e:(0,r.Cl)((0,r.Cl)({},e),{clientOnly:t,deferred:n})),o}var Oe=function(){function e(e,t,n){this.cache=e,this.reader=t,this.fragments=n}return e.prototype.writeToStore=function(e,t){var n=this,o=t.query,a=t.result,c=t.dataId,l=t.variables,u=t.overwrite,d=(0,O.Vu)(o),h=new w.ZI;l=(0,r.Cl)((0,r.Cl)({},(0,O.wY)(d)),l);var p=(0,r.Cl)((0,r.Cl)({store:e,written:Object.create(null),merge:function(e,t){return h.merge(e,t)},variables:l,varString:(0,m.M)(l)},N(o,this.fragments)),{overwrite:!!u,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),f=this.processSelectionSet({result:a||Object.create(null),dataId:c,selectionSet:d.selectionSet,mergeTree:{map:new Map},context:p});if(!(0,y.A_)(f))throw(0,i.vA)(11,a);return p.incomingById.forEach((function(t,r){var o=t.storeObject,a=t.mergeTree,c=t.fieldNodeSet,l=(0,y.WU)(r);if(a&&a.map.size){var u=n.applyMerges(a,l,o,p);if((0,y.A_)(u))return;o=u}if(!1!==globalThis.__DEV__&&!p.overwrite){var d=Object.create(null);c.forEach((function(e){e.selectionSet&&(d[e.name.value]=!0)})),Object.keys(o).forEach((function(e){(function(e){return!0===d[D(e)]})(e)&&!function(e){var t=a&&a.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var o=function(e){var t=r.getFieldValue(e,n);return"object"==typeof t&&t},a=o(e);if(a){var c=o(t);if(c&&!(0,y.A_)(a)&&!(0,s.L)(a,c)&&!Object.keys(a).every((function(e){return void 0!==r.getFieldValue(c,e)}))){var l=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),u=D(n),d="".concat(l,".").concat(u);if(!Ee.has(d)){Ee.add(d);var h=[];(0,E.c)(a)||(0,E.c)(c)||[a,c].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!=typeof t||h.includes(t)||h.push(t)})),!1!==globalThis.__DEV__&&i.V1.warn(14,u,l,h.length?"either ensure all objects of type "+h.join(" and ")+" have an ID or a custom merge function, or ":"",d,a,c)}}}}(l,o,e,p.store)}))}e.merge(r,o)})),e.retain(f.__ref),f},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,o=e.result,s=e.selectionSet,a=e.context,c=e.mergeTree,l=this.cache.policies,u=Object.create(null),d=n&&l.rootTypenamesById[n]||(0,y.D$)(o,s,a.fragmentMap)||n&&a.store.get(n,"__typename");"string"==typeof d&&(u.__typename=d);var h=function(){var e=ve(arguments,u,a.variables);if((0,y.A_)(e.from)){var t=a.incomingById.get(e.from.__ref);if(t){var n=l.readField((0,r.Cl)((0,r.Cl)({},e),{from:t.storeObject}),a);if(void 0!==n)return n}}return l.readField(e,a)},p=new Set;this.flattenFields(s,o,a,d).forEach((function(e,n){var r,s=(0,y.ue)(n),a=o[s];if(p.add(n),void 0!==a){var m=l.getStoreFieldName({typename:d,fieldName:n.name.value,field:n,variables:e.variables}),g=Se(c,m),v=t.processFieldValue(a,n,n.selectionSet?xe(e,!1,!1):e,g),b=void 0;n.selectionSet&&((0,y.A_)(v)||R(v))&&(b=h("__typename",v));var x=l.getMergeFunction(d,n.name.value,b);x?g.info={field:n,typename:d,merge:x}:Pe(c,m),u=e.merge(u,((r={})[m]=v,r))}else!1===globalThis.__DEV__||e.clientOnly||e.deferred||f.XY.added(n)||l.getReadFunction(d,n.name.value)||!1!==globalThis.__DEV__&&i.V1.error(12,(0,y.ue)(n),o)}));try{var m=l.identify(o,{typename:d,selectionSet:s,fragmentMap:a.fragmentMap,storeObject:u,readField:h}),g=m[0],v=m[1];n=n||g,v&&(u=a.merge(u,v))}catch(e){if(!n)throw e}if("string"==typeof n){var b=(0,y.WU)(n),x=a.written[n]||(a.written[n]=[]);if(x.indexOf(s)>=0)return b;if(x.push(s),this.reader&&this.reader.isFresh(o,b,s,a))return b;var O=a.incomingById.get(n);return O?(O.storeObject=a.merge(O.storeObject,u),O.mergeTree=ke(O.mergeTree,c),p.forEach((function(e){return O.fieldNodeSet.add(e)}))):a.incomingById.set(n,{storeObject:u,mergeTree:_e(c)?void 0:c,fieldNodeSet:p}),b}return u},e.prototype.processFieldValue=function(e,t,n,r){var i=this;return t.selectionSet&&null!==e?(0,E.c)(e)?e.map((function(e,o){var s=i.processFieldValue(e,t,n,Se(r,o));return Pe(r,o),s})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):!1!==globalThis.__DEV__?(0,J.m)(e):e},e.prototype.flattenFields=function(e,t,n,r){void 0===r&&(r=(0,y.D$)(t,e,n.fragmentMap));var o=new Map,s=this.cache.policies,c=new P.b(!1);return function e(l,u){var d=c.lookup(l,u.clientOnly,u.deferred);d.visited||(d.visited=!0,l.selections.forEach((function(c){if((0,S.MS)(c,n.variables)){var l=u.clientOnly,d=u.deferred;if(l&&d||!(0,E.E)(c.directives)||c.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(l=!0),"defer"===t){var r=(0,y.MB)(e,n.variables);r&&!1===r.if||(d=!0)}})),(0,y.dt)(c)){var h=o.get(c);h&&(l=l&&h.clientOnly,d=d&&h.deferred),o.set(c,xe(n,l,d))}else{var p=(0,a.HQ)(c,n.lookupFragment);if(!p&&c.kind===v.b.FRAGMENT_SPREAD)throw(0,i.vA)(13,c.name.value);p&&s.fragmentMatches(p,r,t,n.variables)&&e(p.selectionSet,xe(n,l,d))}}})))}(e,n),o},e.prototype.applyMerges=function(e,t,n,o,s){var a,c=this;if(e.map.size&&!(0,y.A_)(n)){var l,u=(0,E.c)(n)||!(0,y.A_)(t)&&!R(t)?void 0:t,d=n;u&&!s&&(s=[(0,y.A_)(u)?u.__ref:u]);var h=function(e,t){return(0,E.c)(e)?"number"==typeof t?e[t]:void 0:o.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var n=h(u,t),r=h(d,t);if(void 0!==r){s&&s.push(t);var a=c.applyMerges(e,n,r,o,s);a!==r&&(l=l||new Map).set(t,a),s&&(0,i.V1)(s.pop()===t)}})),l&&(n=(0,E.c)(d)?d.slice(0):(0,r.Cl)({},d),l.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,o,s&&(a=o.store).getStorage.apply(a,s)):n},e}(),we=[];function Se(e,t){var n=e.map;return n.has(t)||n.set(t,we.pop()||{map:new Map}),n.get(t)}function ke(e,t){if(e===t||!t||_e(t))return e;if(!e||_e(e))return t;var n=e.info&&t.info?(0,r.Cl)((0,r.Cl)({},e.info),t.info):e.info||t.info,i=e.map.size&&t.map.size,o={info:n,map:i?new Map:e.map.size?e.map:t.map};if(i){var s=new Set(t.map.keys());e.map.forEach((function(e,n){o.map.set(n,ke(e,t.map.get(n))),s.delete(n)})),s.forEach((function(n){o.map.set(n,ke(t.map.get(n),e.map.get(n)))}))}return o}function _e(e){return!e||!(e.info||e.map.size)}function Pe(e,t){var n=e.map,r=n.get(t);r&&_e(r)&&(we.push(r),n.delete(t))}var Ee=new Set,Ce=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.addTypenameTransform=new p.c(f.XY),n.assumeImmutableResults=!0,n.makeVar=te.UT,n.txCount=0,n.config=function(e){return(0,x.o)(I,e)}(t),n.addTypename=!!n.config.addTypename,n.policies=new ge({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return(0,r.C6)(t,e),t.prototype.init=function(){var e=this.data=new F.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader,r=this.config.fragments;this.storeWriter=new Oe(this,this.storeReader=new G({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:M(this.config),canon:e?void 0:n&&n.canon,fragments:r}),r),this.maybeBroadcastWatch=(0,o.LV)((function(e,n){return t.broadcastWatch(e,n)}),{max:this.config.resultCacheMaxSize||c.v["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(Y(n)){var r=e.optimistic,i=e.id,o=e.variables;return n.makeCacheKey(e.query,e.callback,(0,m.M)({optimistic:r,id:i,variables:o}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore((0,r.Cl)((0,r.Cl)({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(e){if(e instanceof h)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(C.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore((0,r.Cl)((0,r.Cl)({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t=this;return this.watches.size||(0,te.MS)(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)&&!t.watches.size&&(0,te.WR)(t),t.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){var t;m.M.reset(),g.y.reset(),this.addTypenameTransform.resetCache(),null===(t=this.config.fragments)||void 0===t||t.resetCaches();var n=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),n},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if((0,y.A_)(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(e){!1!==globalThis.__DEV__&&i.V1.warn(e)}},t.prototype.evict=function(e){if(!e.id){if(C.call(e,"id"))return!1;e=(0,r.Cl)((0,r.Cl)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),m.M.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),(0,te.WR)(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,n=this,i=e.update,o=e.optimistic,s=void 0===o||o,a=e.removeOptimistic,c=e.onWatchUpdated,l=function(e){var r=n,o=r.data,s=r.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{return t=i(n)}finally{--n.txCount,n.data=o,n.optimisticData=s}},u=new Set;return c&&!this.txCount&&this.broadcastWatches((0,r.Cl)((0,r.Cl)({},e),{onWatchUpdated:function(e){return u.add(e),!1}})),"string"==typeof s?this.optimisticData=this.optimisticData.addLayer(s,l):!1===s?l(this.data):l(),"string"==typeof a&&(this.optimisticData=this.optimisticData.removeLayer(a)),c&&u.size?(this.broadcastWatches((0,r.Cl)((0,r.Cl)({},e),{onWatchUpdated:function(e,t){var n=c.call(this,e,t);return!1!==n&&u.delete(e),n}})),u.size&&u.forEach((function(e){return n.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){return this.addTypenameToDocument(this.addFragmentsToDocument(e))},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.addFragmentsToDocument=function(e){var t=this.config.fragments;return t?t.transform(e):e},t.prototype.addTypenameToDocument=function(e){return this.addTypename?this.addTypenameTransform.transformDocument(e):e},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff(e);t&&(e.optimistic&&"string"==typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||n&&(0,s.L)(n.result,r.result)||e.callback(e.lastDiff=r,n)},t}(d);!1!==globalThis.__DEV__&&(Ce.prototype.getMemoryInternals=u.cM)},97825:(e,t,n)=>{"use strict";n.d(t,{MS:()=>c,UT:()=>l,WR:()=>a,bl:()=>i});var r=n(67217),i=new r.DX,o=new WeakMap;function s(e){var t=o.get(e);return t||o.set(e,t={vars:new Set,dep:(0,r.yN)()}),t}function a(e){s(e).vars.forEach((function(t){return t.forgetCache(e)}))}function c(e){s(e).vars.forEach((function(t){return t.attachCache(e)}))}function l(e){var t=new Set,n=new Set,r=function(a){if(arguments.length>0){if(e!==a){e=a,t.forEach((function(e){s(e).dep.dirty(r),function(e){e.broadcastWatches&&e.broadcastWatches()}(e)}));var c=Array.from(n);n.clear(),c.forEach((function(t){return t(e)}))}}else{var l=i.getValue();l&&(o(l),s(l).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var o=r.attachCache=function(e){return t.add(e),s(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}},28209:(e,t,n)=>{"use strict";n.d(t,{R:()=>he});var r=n(58932),i=n(41477),o=n(78807),s=o.C.execute,a=n(98044),c=n(27949),l=n(71190),u=n(43276),d=n(67115),h=n(50093),p=n(558),f=n(66658),m=n(51759);function g(e,t,n){return new m.c((function(r){var i={then:function(e){return new Promise((function(t){return t(e())}))}};function o(e,t){return function(n){if(e){var o=function(){return r.closed?0:e(n)};i=i.then(o,o).then((function(e){return r.next(e)}),(function(e){return r.error(e)}))}else r[t](n)}}var s={next:o(t,"next"),error:o(n,"error"),complete:function(){i.then((function(){return r.complete()}))}},a=e.subscribe(s);return function(){return a.unsubscribe()}}))}var y=n(99263);function v(e){var t=b(e);return(0,y.E)(t)}function b(e){var t=(0,y.E)(e.errors)?e.errors.slice(0):[];return(0,u.ST)(e)&&(0,y.E)(e.incremental)&&e.incremental.forEach((function(e){e.errors&&t.push.apply(t,e.errors)})),t}var x=n(27337),O=n(71875),w=n(10409),S=n(40781);function k(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}var _=n(45816);function P(e){function t(t){Object.defineProperty(e,t,{value:m.c})}return _.ol&&Symbol.species&&t(Symbol.species),t("@@species"),e}function E(e){return e&&"function"==typeof e.then}var C=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],n.notify("next",e),k(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),n.notify("error",e),k(n.observers,"error",e))},complete:function(){var e=n,t=e.sub,r=e.sources;if(null!==t){var i=(void 0===r?[]:r).shift();i?E(i)?i.then((function(e){return n.sub=e.subscribe(n.handlers)}),n.handlers.error):n.sub=i.subscribe(n.handlers):(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),k(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"==typeof t&&(t=[new m.c(t)]),E(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return(0,r.C6)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},t.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(e,t){var n=this.nextResultListeners;n.size&&(this.nextResultListeners=new Set,n.forEach((function(n){return n(e,t)})))},t.prototype.beforeNext=function(e){var t=!1;this.nextResultListeners.add((function(n,r){t||(t=!0,e(n,r))}))},t}(m.c);P(C);var T=n(40826),j=n(14918),I=n(53364),M=n(34162),A=n(16816);function D(e,t,n,i){var o=t.data,s=(0,r.Tt)(t,["data"]),a=n.data,c=(0,r.Tt)(n,["data"]);return(0,l.A)(s,c)&&$((0,x.Vn)(e).selectionSet,o,a,{fragmentMap:(0,A.JG)((0,x.zK)(e)),variables:i})}function $(e,t,n,r){if(t===n)return!0;var i=new Set;return e.selections.every((function(e){if(i.has(e))return!0;if(i.add(e),!(0,d.MS)(e,r.variables))return!0;if(R(e))return!0;if((0,O.dt)(e)){var o=(0,O.ue)(e),s=t&&t[o],a=n&&n[o],c=e.selectionSet;if(!c)return(0,l.A)(s,a);var u=Array.isArray(s),h=Array.isArray(a);if(u!==h)return!1;if(u&&h){var p=s.length;if(a.length!==p)return!1;for(var f=0;f<p;++f)if(!$(c,s[f],a[f],r))return!1;return!0}return $(c,s,a,r)}var m=(0,A.HQ)(e,r.fragmentMap);return m?!!R(m)||$(m.selectionSet,t,n,r):void 0}))}function R(e){return!!e.directives&&e.directives.some(N)}function N(e){return"nonreactive"===e.name.value}var L=Object.assign,Q=Object.hasOwnProperty,z=function(e){function t(t){var n=t.queryManager,i=t.queryInfo,o=t.options,s=e.call(this,(function(e){try{var t=e._subscription._observer;t&&!t.error&&(t.error=B)}catch(e){}var n=!s.observers.size;s.observers.add(e);var r=s.last;return r&&r.error?e.error&&e.error(r.error):r&&r.result&&e.next&&e.next(r.result),n&&s.reobserve().catch((function(){})),function(){s.observers.delete(e)&&!s.observers.size&&s.tearDownQuery()}}))||this;s.observers=new Set,s.subscriptions=new Set,s.queryInfo=i,s.queryManager=n,s.waitForOwnResult=V(o.fetchPolicy),s.isTornDown=!1;var a=n.defaultOptions.watchQuery,c=(void 0===a?{}:a).fetchPolicy,l=void 0===c?"cache-first":c,u=o.fetchPolicy,d=void 0===u?l:u,h=o.initialFetchPolicy,p=void 0===h?"standby"===d?l:d:h;s.options=(0,r.Cl)((0,r.Cl)({},o),{initialFetchPolicy:p,fetchPolicy:d}),s.queryId=i.queryId||n.generateQueryId();var f=(0,x.Vu)(s.query);return s.queryName=f&&f.name&&f.name.value,s}return(0,r.C6)(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.resetDiff=function(){this.queryInfo.resetDiff()},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||j.pT.ready,i=(0,r.Cl)((0,r.Cl)({},t),{loading:(0,j.bi)(n),networkStatus:n}),o=this.options.fetchPolicy,s=void 0===o?"cache-first":o;if(V(s)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers);else if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var a=this.queryInfo.getDiff();(a.complete||this.options.returnPartialData)&&(i.data=a.result),(0,l.L)(i.data,{})&&(i.data=void 0),a.complete?(delete i.partial,!a.complete||i.networkStatus!==j.pT.loading||"cache-first"!==s&&"cache-only"!==s||(i.networkStatus=j.pT.ready,i.loading=!1)):i.partial=!0,!1===globalThis.__DEV__||a.complete||this.options.partialRefetch||i.loading||i.data||i.error||Z(a.missing)}return e&&this.updateLastResult(i),i},t.prototype.isDifferentFromLastResult=function(e,t){return!this.last||(this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?!D(this.query,this.last.result,e,this.variables):!(0,l.L)(this.last.result,e))||t&&!(0,l.L)(this.last.variables,t)},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||(0,l.L)(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},o=this.options.fetchPolicy;if(n.fetchPolicy="cache-and-network"===o?o:"no-cache"===o?"no-cache":"network-only",!1!==globalThis.__DEV__&&e&&Q.call(e,"variables")){var s=(0,x.AT)(this.query),a=s.variableDefinitions;a&&a.some((function(e){return"variables"===e.variable.name.value}))||!1!==globalThis.__DEV__&&i.V1.warn(20,e,(null===(t=s.name)||void 0===t?void 0:t.value)||s)}return e&&!(0,l.L)(this.options.variables,e)&&(n.variables=this.options.variables=(0,r.Cl)((0,r.Cl)({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,j.pT.refetch)},t.prototype.fetchMore=function(e){var t=this,n=(0,r.Cl)((0,r.Cl)({},e.query?e:(0,r.Cl)((0,r.Cl)((0,r.Cl)((0,r.Cl)({},this.options),{query:this.options.query}),e),{variables:(0,r.Cl)((0,r.Cl)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"});n.query=this.transformDocument(n.query);var i=this.queryManager.generateQueryId();this.lastQuery=e.query?this.transformDocument(this.options.query):n.query;var o=this.queryInfo,s=o.networkStatus;o.networkStatus=j.pT.fetchMore,n.notifyOnNetworkStatusChange&&this.observe();var a=new Set;return this.queryManager.fetchQuery(i,n,j.pT.fetchMore).then((function(r){return t.queryManager.removeQuery(i),o.networkStatus===j.pT.fetchMore&&(o.networkStatus=s),t.queryManager.cache.batch({update:function(i){var o=e.updateQuery;o?i.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},(function(e){return o(e,{fetchMoreResult:r.data,variables:n.variables})})):i.writeQuery({query:n.query,variables:n.variables,data:r.data})},onWatchUpdated:function(e){a.add(e.query)}}),r})).finally((function(){a.has(t.query)||F(t)}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError?e.onError(t):!1!==globalThis.__DEV__&&i.V1.error(21,t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.silentSetOptions=function(e){var t=(0,I.o)(this.options,e||{});L(this.options,t)},t.prototype.setVariables=function(e){return(0,l.L)(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},j.pT.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(t.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var n=t.fetchPolicy,r=void 0===n?"cache-first":n,i=t.initialFetchPolicy,o=void 0===i?r:i;"standby"===r||("function"==typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(r,{reason:e,options:t,observable:this,initialFetchPolicy:o}):t.fetchPolicy="variables-changed"===e?o:t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t,n){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,e,t,n)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n){if(!t||t.interval!==n){(0,i.V1)(n,22),(t||(this.pollingInfo={})).interval=n;var r=function(){var t,n;e.pollingInfo&&((0,j.bi)(e.queryInfo.networkStatus)||(null===(n=(t=e.options).skipPollAttempt)||void 0===n?void 0:n.call(t))?o():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},j.pT.poll).then(o,o))},o=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};o()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){void 0===t&&(t=this.variables);var n=this.getLastError();return n&&this.last&&!(0,l.L)(t,this.last.variables)&&(n=void 0),this.last=(0,r.Cl)({result:this.queryManager.assumeImmutableResults?e:(0,M.m)(e),variables:t},n?{error:n}:null)},t.prototype.reobserveAsConcast=function(e,t){var n=this;this.isTornDown=!1;var i=t===j.pT.refetch||t===j.pT.fetchMore||t===j.pT.poll,o=this.options.variables,s=this.options.fetchPolicy,a=(0,I.o)(this.options,e||{}),c=i?a:L(this.options,a),u=this.transformDocument(c.query);this.lastQuery=u,i||(this.updatePolling(),e&&e.variables&&!(0,l.L)(e.variables,o)&&"standby"!==c.fetchPolicy&&c.fetchPolicy===s&&(this.applyNextFetchPolicy("variables-changed",c),void 0===t&&(t=j.pT.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=V(c.fetchPolicy));var d=function(){n.concast===f&&(n.waitForOwnResult=!1)},h=c.variables&&(0,r.Cl)({},c.variables),p=this.fetch(c,t,u),f=p.concast,m=p.fromLink,g={next:function(e){(0,l.L)(n.variables,h)&&(d(),n.reportResult(e,h))},error:function(e){(0,l.L)(n.variables,h)&&(d(),n.reportError(e,h))}};return i||!m&&this.concast||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=f,this.observer=g),f.addObserver(g),f},t.prototype.reobserve=function(e,t){return this.reobserveAsConcast(e,t).promise},t.prototype.resubscribeAfterError=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.last;this.resetLastResults();var r=this.subscribe.apply(this,e);return this.last=n,r},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var n=this.getLastError(),r=this.isDifferentFromLastResult(e,t);(n||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),(n||r)&&k(this.observers,"next",e)},t.prototype.reportError=function(e,t){var n=(0,r.Cl)((0,r.Cl)({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:j.pT.error,loading:!1});this.updateLastResult(n,t),k(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(e){return this.queryManager.transform(e)},t}(m.c);function F(e){var t=e.options,n=t.fetchPolicy,r=t.nextFetchPolicy;return"cache-and-network"===n||"network-only"===n?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(e,t){return this.nextFetchPolicy=r,"function"==typeof this.nextFetchPolicy?this.nextFetchPolicy(e,t):n}}):e.reobserve()}function B(e){!1!==globalThis.__DEV__&&i.V1.error(23,e.message,e.stack)}function Z(e){!1!==globalThis.__DEV__&&e&&!1!==globalThis.__DEV__&&i.V1.debug(24,e)}function V(e){return"network-only"===e||"no-cache"===e||"standby"===e}P(z);var W=n(16670),U=n(33839);function q(e){return e.kind===U.b.FIELD||e.kind===U.b.FRAGMENT_SPREAD||e.kind===U.b.INLINE_FRAGMENT}var Y=n(84996),X=n(97825),H=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=(0,Y.D9)(t.resolvers,e)})):this.resolvers=(0,Y.D9)(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,i=e.context,o=e.variables,s=e.onlyRunForcedResolvers,a=void 0!==s&&s;return(0,r.sH)(this,void 0,void 0,(function(){return(0,r.YH)(this,(function(e){return t?[2,this.resolveDocument(t,n.data,i,o,this.fragmentMatcher,a).then((function(e){return(0,r.Cl)((0,r.Cl)({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return(0,d.d8)(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return(0,h.er)(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,r.Cl)((0,r.Cl)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),(0,r.sH)(this,void 0,void 0,(function(){return(0,r.YH)(this,(function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return(0,r.Cl)((0,r.Cl)({},t),e.exportedVariables)}))]:[2,(0,r.Cl)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,W.YR)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return W.sP}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:(0,h.zc)(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,i,o,s){return void 0===n&&(n={}),void 0===i&&(i={}),void 0===o&&(o=function(){return!0}),void 0===s&&(s=!1),(0,r.sH)(this,void 0,void 0,(function(){var a,c,l,u,d,h,p,f,m,g;return(0,r.YH)(this,(function(y){return a=(0,x.Vn)(e),c=(0,x.zK)(e),l=(0,A.JG)(c),u=this.collectSelectionsToResolve(a,l),d=a.operation,h=d?d.charAt(0).toUpperCase()+d.slice(1):"Query",f=(p=this).cache,m=p.client,g={fragmentMap:l,context:(0,r.Cl)((0,r.Cl)({},n),{cache:f,client:m}),variables:i,fragmentMatcher:o,defaultOperationType:h,exportedVariables:{},selectionsToResolve:u,onlyRunForcedResolvers:s},[2,this.resolveSelectionSet(a.selectionSet,!1,t,g).then((function(e){return{result:e,exportedVariables:g.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n,o){return(0,r.sH)(this,void 0,void 0,(function(){var s,a,c,l,u,h=this;return(0,r.YH)(this,(function(p){return s=o.fragmentMap,a=o.context,c=o.variables,l=[n],u=function(e){return(0,r.sH)(h,void 0,void 0,(function(){var u,h;return(0,r.YH)(this,(function(r){return(t||o.selectionsToResolve.has(e))&&(0,d.MS)(e,c)?(0,O.dt)(e)?[2,this.resolveField(e,t,n,o).then((function(t){var n;void 0!==t&&l.push(((n={})[(0,O.ue)(e)]=t,n))}))]:((0,O.kd)(e)?u=e:(u=s[e.name.value],(0,i.V1)(u,18,e.name.value)),u&&u.typeCondition&&(h=u.typeCondition.name.value,o.fragmentMatcher(n,h,a))?[2,this.resolveSelectionSet(u.selectionSet,t,n,o).then((function(e){l.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(u)).then((function(){return(0,Y.IM)(l)}))]}))}))},e.prototype.resolveField=function(e,t,n,i){return(0,r.sH)(this,void 0,void 0,(function(){var o,s,a,c,l,u,d,h,p,f=this;return(0,r.YH)(this,(function(r){return n?(o=i.variables,s=e.name.value,a=(0,O.ue)(e),c=s!==a,l=n[a]||n[s],u=Promise.resolve(l),i.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(d=n.__typename||i.defaultOperationType,(h=this.resolvers&&this.resolvers[d])&&(p=h[c?s:a])&&(u=Promise.resolve(X.bl.withValue(this.cache,p,[n,(0,O.MB)(e,o),i.context,{field:e,fragmentMap:i.fragmentMap}])))),[2,u.then((function(n){var r,o;if(void 0===n&&(n=l),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(i.exportedVariables[e.value.value]=n)}))})),!e.selectionSet)return n;if(null==n)return n;var s=null!==(o=null===(r=e.directives)||void 0===r?void 0:r.some((function(e){return"client"===e.name.value})))&&void 0!==o&&o;return Array.isArray(n)?f.resolveSubSelectedArray(e,t||s,n,i):e.selectionSet?f.resolveSelectionSet(e.selectionSet,t||s,n,i):void 0}))]):[2,null]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n,r){var i=this;return Promise.all(n.map((function(n){return null===n?null:Array.isArray(n)?i.resolveSubSelectedArray(e,t,n,r):e.selectionSet?i.resolveSelectionSet(e.selectionSet,t,n,r):void 0})))},e.prototype.collectSelectionsToResolve=function(e,t){var n=function(e){return!Array.isArray(e)},r=this.selectionsToResolveCache;return function e(o){if(!r.has(o)){var s=new Set;r.set(o,s),(0,W.YR)(o,{Directive:function(e,t,r,i,o){"client"===e.name.value&&o.forEach((function(e){n(e)&&q(e)&&s.add(e)}))},FragmentSpread:function(r,o,a,c,l){var u=t[r.name.value];(0,i.V1)(u,19,r.name.value);var d=e(u);d.size>0&&(l.forEach((function(e){n(e)&&q(e)&&s.add(e)})),s.add(r),d.forEach((function(e){s.add(e)})))}})}return r.get(o)}(e)},e}(),G=new(_.et?WeakMap:Map);function K(e,t){var n=e[t];"function"==typeof n&&(e[t]=function(){return G.set(e,(G.get(e)+1)%1e15),n.apply(this,arguments)})}function J(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var ee=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;G.has(n)||(G.set(n,0),K(n,"evict"),K(n,"modify"),K(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||j.pT.loading;return this.variables&&this.networkStatus!==j.pT.loading&&!(0,l.L)(this.variables,e.variables)&&(t=j.pT.setVariables),(0,l.L)(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){J(this),this.dirty=!1},e.prototype.resetDiff=function(){this.lastDiff=void 0},e.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&(0,l.L)(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var t=this.observableQuery;if(t&&"no-cache"===t.options.fetchPolicy)return{complete:!1};var n=this.cache.diff(e);return this.updateLastDiff(n,e),n},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t,n=this,r=this.lastDiff&&this.lastDiff.diff;(!e||e.complete||(null===(t=this.observableQuery)||void 0===t?void 0:t.options.returnPartialData)||r&&r.complete)&&(this.updateLastDiff(e),this.dirty||(0,l.L)(r&&r.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return n.notify()}),0))))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():F(e)})):delete this.oqListener)},e.prototype.notify=function(){var e=this;J(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if((0,j.bi)(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel;var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var i=(0,r.Cl)((0,r.Cl)({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&(0,l.L)(i,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===G.get(this.cache)&&(0,l.L)(t,n.variables)&&(0,l.L)(e.data,n.result.data))},e.prototype.markResult=function(e,t,n,r){var i=this,o=new Y.ZI,s=(0,y.E)(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&(0,y.E)(e.incremental)){var a=(0,u.bd)(this.getDiff().result,e);e.data=a}else if("hasNext"in e&&e.hasNext){var c=this.getDiff();e.data=o.merge(c.result,e.data)}this.graphQLErrors=s,"no-cache"===n.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):0!==r&&(te(e,n.errorPolicy)?this.cache.performTransaction((function(o){if(i.shouldWrite(e,n.variables))o.writeQuery({query:t,data:e.data,variables:n.variables,overwrite:1===r}),i.lastWrite={result:e,variables:n.variables,dmCount:G.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete)return void(e.data=i.lastDiff.diff.result);var s=i.getDiffOptions(n.variables),a=o.diff(s);!i.stopped&&(0,l.L)(i.variables,n.variables)&&i.updateWatch(n.variables),i.updateLastDiff(a,s),a.complete&&(e.data=a.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=j.pT.ready},e.prototype.markError=function(e){return this.networkStatus=j.pT.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function te(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!v(e);return!r&&n&&e.data&&(r=!0),r}var ne=n(41444),re=n(69796),ie=n(16254),oe=n(61491),se=Object.prototype.hasOwnProperty,ae=Object.create(null),ce=function(){function e(e){var t=e.cache,n=e.link,r=e.defaultOptions,i=e.documentTransform,o=e.queryDeduplication,s=void 0!==o&&o,a=e.onBroadcast,c=e.ssrMode,l=void 0!==c&&c,u=e.clientAwareness,d=void 0===u?{}:u,h=e.localState,p=e.assumeImmutableResults,m=void 0===p?!!t.assumeImmutableResults:p,g=e.defaultContext,y=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new ie.A(oe.v["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new re.b(!1);var v=new f.c((function(e){return y.cache.transformDocument(e)}),{cache:!1});this.cache=t,this.link=n,this.defaultOptions=r||Object.create(null),this.queryDeduplication=s,this.clientAwareness=d,this.localState=h||new H({cache:t}),this.ssrMode=l,this.assumeImmutableResults=m,this.documentTransform=i?v.concat(i).concat(v):v,this.defaultContext=g||Object.create(null),(this.onBroadcast=a)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches((0,i.vA)(25))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t,n,o=e.mutation,s=e.variables,a=e.optimisticResponse,c=e.updateQueries,l=e.refetchQueries,u=void 0===l?[]:l,d=e.awaitRefetchQueries,h=void 0!==d&&d,p=e.update,f=e.onQueryUpdated,m=e.fetchPolicy,y=void 0===m?(null===(t=this.defaultOptions.mutate)||void 0===t?void 0:t.fetchPolicy)||"network-only":m,x=e.errorPolicy,O=void 0===x?(null===(n=this.defaultOptions.mutate)||void 0===n?void 0:n.errorPolicy)||"none":x,w=e.keepRootFields,S=e.context;return(0,r.sH)(this,void 0,void 0,(function(){var e,t,n,l,d;return(0,r.YH)(this,(function(m){switch(m.label){case 0:return(0,i.V1)(o,26),(0,i.V1)("network-only"===y||"no-cache"===y,27),e=this.generateMutationId(),o=this.cache.transformForLink(this.transform(o)),t=this.getDocumentInfo(o).hasClientExports,s=this.getVariables(o,s),t?[4,this.localState.addExportedVariables(o,s,S)]:[3,2];case 1:s=m.sent(),m.label=2;case 2:return n=this.mutationStore&&(this.mutationStore[e]={mutation:o,variables:s,loading:!0,error:null}),l=a&&this.markMutationOptimistic(a,{mutationId:e,document:o,variables:s,fetchPolicy:y,errorPolicy:O,context:S,updateQueries:c,update:p,keepRootFields:w}),this.broadcastQueries(),d=this,[2,new Promise((function(t,i){return g(d.getObservableFromLink(o,(0,r.Cl)((0,r.Cl)({},S),{optimisticResponse:l?a:void 0}),s,!1),(function(t){if(v(t)&&"none"===O)throw new T.K4({graphQLErrors:b(t)});n&&(n.loading=!1,n.error=null);var i=(0,r.Cl)({},t);return"function"==typeof u&&(u=u(i)),"ignore"===O&&v(i)&&delete i.errors,d.markMutationResult({mutationId:e,result:i,document:o,variables:s,fetchPolicy:y,errorPolicy:O,context:S,update:p,updateQueries:c,awaitRefetchQueries:h,refetchQueries:u,removeOptimistic:l?e:void 0,onQueryUpdated:f,keepRootFields:w})})).subscribe({next:function(e){d.broadcastQueries(),"hasNext"in e&&!1!==e.hasNext||t(e)},error:function(t){n&&(n.loading=!1,n.error=t),l&&d.cache.removeOptimistic(e),d.broadcastQueries(),i(t instanceof T.K4?t:new T.K4({networkError:t}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var i=e.result,o=[],s="no-cache"===e.fetchPolicy;if(!s&&te(i,e.errorPolicy)){if((0,u.ST)(i)||o.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),(0,u.ST)(i)&&(0,y.E)(i.incremental)){var a=t.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),c=void 0;a.result&&(c=(0,u.bd)(a.result,i)),void 0!==c&&(i.data=c,o.push({result:c,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var l=e.updateQueries;l&&this.queries.forEach((function(e,r){var s=e.observableQuery,a=s&&s.queryName;if(a&&se.call(l,a)){var c=l[a],u=n.queries.get(r),d=u.document,h=u.variables,p=t.diff({query:d,variables:h,returnPartialData:!0,optimistic:!1}),f=p.result;if(p.complete&&f){var m=c(f,{mutationResult:i,queryName:d&&(0,x.n4)(d)||void 0,queryVariables:h});m&&o.push({result:m,dataId:"ROOT_QUERY",query:d,variables:h})}}}))}if(o.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var d=[];if(this.refetchQueries({updateCache:function(t){s||o.forEach((function(e){return t.write(e)}));var a=e.update,c=!(0,u.YX)(i)||(0,u.ST)(i)&&!i.hasNext;if(a){if(!s){var l=t.diff({id:"ROOT_MUTATION",query:n.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});l.complete&&("incremental"in(i=(0,r.Cl)((0,r.Cl)({},i),{data:l.result}))&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}c&&a(t,i,{context:e.context,variables:e.variables})}s||e.keepRootFields||!c||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return d.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(d).then((function(){return i}))}return Promise.resolve(i)},e.prototype.markMutationOptimistic=function(e,t){var n=this,o="function"==typeof e?e(t.variables,{IGNORE:ae}):e;return o!==ae&&(this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult((0,r.Cl)((0,r.Cl)({},t),{result:{data:o}}),e)}catch(e){!1!==globalThis.__DEV__&&i.V1.error(e)}}),t.mutationId),!0)},e.prototype.fetchQuery=function(e,t,n){return this.fetchConcastWithInfo(e,t,n).concast.promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},e.prototype.getDocumentInfo=function(e){var t=this.transformCache;if(!t.has(e)){var n={hasClientExports:(0,d.f2)(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:(0,d.d8)(["nonreactive"],e),clientQuery:this.localState.clientQuery(e),serverQuery:(0,h.iz)([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],e),defaultVars:(0,x.wY)((0,x.Vu)(e)),asQuery:(0,r.Cl)((0,r.Cl)({},e),{definitions:e.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?(0,r.Cl)((0,r.Cl)({},e),{operation:"query"}):e}))})};t.set(e,n)}return t.get(e)},e.prototype.getVariables=function(e,t){return(0,r.Cl)((0,r.Cl)({},this.getDocumentInfo(e).defaultVars),t)},e.prototype.watchQuery=function(e){var t=this.transform(e.query);void 0===(e=(0,r.Cl)((0,r.Cl)({},e),{variables:this.getVariables(t,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var n=new ee(this),i=new z({queryManager:this,queryInfo:n,options:e});return i.lastQuery=t,this.queries.set(i.queryId,n),n.init({document:t,observableQuery:i,variables:i.variables}),i},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),(0,i.V1)(e.query,28),(0,i.V1)("Document"===e.query.kind,29),(0,i.V1)(!e.returnPartialData,30),(0,i.V1)(!e.pollInterval,31),this.fetchQuery(t,(0,r.Cl)((0,r.Cl)({},e),{query:this.transform(e.query)})).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches((0,i.vA)(32)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=j.pT.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,o=new Map,s=new Set;return Array.isArray(e)&&e.forEach((function(e){"string"==typeof e?o.set(e,!1):(0,O.Kc)(e)?o.set(t.transform(e),!1):(0,w.U)(e)&&e.query&&s.add(e)})),this.queries.forEach((function(t,r){var i=t.observableQuery,s=t.document;if(i){if("all"===e)return void n.set(r,i);var a=i.queryName;if("standby"===i.options.fetchPolicy||"active"===e&&!i.hasObservers())return;("active"===e||a&&o.has(a)||s&&o.has(s))&&(n.set(r,i),a&&o.set(a,!0),s&&o.set(s,!0))}})),s.size&&s.forEach((function(e){var o=(0,S.v)("legacyOneTimeQuery"),s=t.getQuery(o).init({document:e.query,variables:e.variables}),a=new z({queryManager:t,queryInfo:s,options:(0,r.Cl)((0,r.Cl)({},e),{fetchPolicy:"network-only"})});(0,i.V1)(a.queryId===o),s.setObservableQuery(a),n.set(o,a)})),!1!==globalThis.__DEV__&&o.size&&o.forEach((function(e,t){e||!1!==globalThis.__DEV__&&i.V1.warn("string"==typeof t?33:34,t)})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,i){var o=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==o&&"cache-only"!==o)&&n.push(r.refetch()),t.getQuery(i).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,i=e.errorPolicy,o=void 0===i?"none":i,s=e.variables,a=e.context,c=void 0===a?{}:a;n=this.transform(n),s=this.getVariables(n,s);var l=function(e){return t.getObservableFromLink(n,c,e).map((function(i){"no-cache"!==r&&(te(i,o)&&t.cache.write({query:n,result:i.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries());var s=v(i),a=(0,T.uR)(i);if(s||a){var c={};if(s&&(c.graphQLErrors=i.errors),a&&(c.protocolErrors=i.extensions[T.K$]),"none"===o||a)throw new T.K4(c)}return"ignore"===o&&delete i.errors,i}))};if(this.getDocumentInfo(n).hasClientExports){var u=this.localState.addExportedVariables(n,s,c).then(l);return new m.c((function(e){var t=null;return u.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return l(s)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,i){var o,a,c=this;void 0===i&&(i=null!==(o=null==t?void 0:t.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var l=this.getDocumentInfo(e),u=l.serverQuery,d=l.clientQuery;if(u){var h=this.inFlightLinkObservables,f=this.link,y={query:u,variables:n,operationName:(0,x.n4)(u)||void 0,context:this.prepareContext((0,r.Cl)((0,r.Cl)({},t),{forceFetch:!i}))};if(t=y.context,i){var v=(0,ne.y)(u),b=(0,p.M)(n),O=h.lookup(v,b);if(!(a=O.observable)){var w=new C([s(f,y)]);a=O.observable=w,w.beforeNext((function(){h.remove(v,b)}))}}else a=new C([s(f,y)])}else a=new C([m.c.of({data:{}})]),t=this.prepareContext(t);return d&&(a=g(a,(function(e){return c.localState.runResolvers({document:d,remoteResult:e,context:t,variables:n})}))),a},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId(),i=this.cache.transformForLink(n.query);return g(this.getObservableFromLink(i,n.context,n.variables),(function(o){var s=b(o),a=s.length>0;if(r>=e.lastRequestId){if(a&&"none"===n.errorPolicy)throw e.markError(new T.K4({graphQLErrors:s}));e.markResult(o,i,n,t),e.markReady()}var c={data:o.data,loading:!1,networkStatus:j.pT.ready};return a&&"ignore"!==n.errorPolicy&&(c.errors=s,c.networkStatus=j.pT.error),c}),(function(t){var n=(0,T.Mn)(t)?t:new T.K4({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchConcastWithInfo=function(e,t,n,r){var i=this;void 0===n&&(n=j.pT.loading),void 0===r&&(r=t.query);var o,s,a=this.getVariables(r,t.variables),c=this.getQuery(e),l=this.defaultOptions.watchQuery,u=t.fetchPolicy,d=void 0===u?l&&l.fetchPolicy||"cache-first":u,h=t.errorPolicy,p=void 0===h?l&&l.errorPolicy||"none":h,f=t.returnPartialData,m=void 0!==f&&f,g=t.notifyOnNetworkStatusChange,y=void 0!==g&&g,v=t.context,b=void 0===v?{}:v,x=Object.assign({},t,{query:r,variables:a,fetchPolicy:d,errorPolicy:p,returnPartialData:m,notifyOnNetworkStatusChange:y,context:b}),O=function(e){x.variables=e;var r=i.fetchQueryByPolicy(c,x,n);return"standby"!==x.fetchPolicy&&r.sources.length>0&&c.observableQuery&&c.observableQuery.applyNextFetchPolicy("after-fetch",t),r},w=function(){return i.fetchCancelFns.delete(e)};if(this.fetchCancelFns.set(e,(function(e){w(),setTimeout((function(){return o.cancel(e)}))})),this.getDocumentInfo(x.query).hasClientExports)o=new C(this.localState.addExportedVariables(x.query,x.variables,x.context).then(O).then((function(e){return e.sources}))),s=!0;else{var S=O(x.variables);s=S.fromLink,o=new C(S.sources)}return o.promise.then(w,w),{concast:o,fromLink:s}},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,i=e.optimistic,o=void 0!==i&&i,s=e.removeOptimistic,a=void 0===s?o?(0,S.v)("refetchQueries"):void 0:s,c=e.onQueryUpdated,l=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){l.set(n,{oq:e,lastDiff:t.getQuery(n).getDiff()})}));var u=new Map;return n&&this.cache.batch({update:n,optimistic:o&&a||!1,removeOptimistic:a,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof ee&&e.watcher.observableQuery;if(r){if(c){l.delete(r.queryId);var i=c(r,t,n);return!0===i&&(i=r.refetch()),!1!==i&&u.set(r,i),i}null!==c&&l.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),l.size&&l.forEach((function(e,n){var r,i=e.oq,o=e.lastDiff,s=e.diff;if(c){if(!s){var a=i.queryInfo;a.reset(),s=a.getDiff()}r=c(i,s,o)}c&&!0!==r||(r=i.refetch()),!1!==r&&u.set(i,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),a&&this.cache.removeOptimistic(a),u},e.prototype.fetchQueryByPolicy=function(e,t,n){var i=this,o=t.query,s=t.variables,a=t.fetchPolicy,c=t.refetchWritePolicy,u=t.errorPolicy,d=t.returnPartialData,h=t.context,p=t.notifyOnNetworkStatusChange,f=e.networkStatus;e.init({document:o,variables:s,networkStatus:n});var g=function(){return e.getDiff()},y=function(t,n){void 0===n&&(n=e.networkStatus||j.pT.loading);var a=t.result;!1===globalThis.__DEV__||d||(0,l.L)(a,{})||Z(t.missing);var c=function(e){return m.c.of((0,r.Cl)({data:e,loading:(0,j.bi)(n),networkStatus:n},t.complete?null:{partial:!0}))};return a&&i.getDocumentInfo(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:a},context:h,variables:s,onlyRunForcedResolvers:!0}).then((function(e){return c(e.data||void 0)})):"none"===u&&n===j.pT.refetch&&Array.isArray(t.missing)?c(void 0):c(a)},v="no-cache"===a?0:n===j.pT.refetch&&"merge"!==c?1:2,b=function(){return i.getResultsFromLink(e,v,{query:o,variables:s,context:h,fetchPolicy:a,errorPolicy:u})},x=p&&"number"==typeof f&&f!==n&&(0,j.bi)(n);switch(a){default:case"cache-first":return(O=g()).complete?{fromLink:!1,sources:[y(O,e.markReady())]}:d||x?{fromLink:!0,sources:[y(O),b()]}:{fromLink:!0,sources:[b()]};case"cache-and-network":var O;return(O=g()).complete||d||x?{fromLink:!0,sources:[y(O),b()]}:{fromLink:!0,sources:[b()]};case"cache-only":return{fromLink:!1,sources:[y(g(),e.markReady())]};case"network-only":return x?{fromLink:!0,sources:[y(g()),b()]}:{fromLink:!0,sources:[b()]};case"no-cache":return x?{fromLink:!0,sources:[y(e.getDiff()),b()]}:{fromLink:!0,sources:[b()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new ee(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,r.Cl)((0,r.Cl)((0,r.Cl)({},this.defaultContext),t),{clientAwareness:this.clientAwareness})},e}(),le=n(98379),ue=n(28554),de=!1,he=function(){function e(e){var t=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw(0,i.vA)(15);var n=e.uri,r=e.credentials,s=e.headers,l=e.cache,u=e.documentTransform,d=e.ssrMode,h=void 0!==d&&d,p=e.ssrForceFetchDelay,f=void 0===p?0:p,m=e.connectToDevTools,g=void 0===m?"object"==typeof window&&!window.__APOLLO_CLIENT__&&!1!==globalThis.__DEV__:m,y=e.queryDeduplication,v=void 0===y||y,b=e.defaultOptions,x=e.defaultContext,O=e.assumeImmutableResults,w=void 0===O?l.assumeImmutableResults:O,S=e.resolvers,k=e.typeDefs,_=e.fragmentMatcher,P=e.name,E=e.version,C=e.link;C||(C=n?new c.P({uri:n,credentials:r,headers:s}):o.C.empty()),this.link=C,this.cache=l,this.disableNetworkFetches=h||f>0,this.queryDeduplication=v,this.defaultOptions=b||Object.create(null),this.typeDefs=k,f&&setTimeout((function(){return t.disableNetworkFetches=!1}),f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=a.r,this.localState=new H({cache:l,client:this,resolvers:S,fragmentMatcher:_}),this.queryManager=new ce({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:x,documentTransform:u,queryDeduplication:v,ssrMode:h,clientAwareness:{name:P,version:E},localState:this.localState,assumeImmutableResults:w,onBroadcast:g?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0}),g&&this.connectToDevTools()}return e.prototype.connectToDevTools=function(){if("object"==typeof window){var e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this}de||!1===globalThis.__DEV__||(de=!0,setTimeout((function(){if("undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var e=window.navigator,t=e&&e.userAgent,n=void 0;"string"==typeof t&&(t.indexOf("Chrome/")>-1?n="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":t.indexOf("Firefox/")>-1&&(n="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),n&&!1!==globalThis.__DEV__&&i.V1.log("Download the Apollo DevTools for a better development experience: %s",n)}}),1e4))},Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=(0,le.l)(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=(0,r.Cl)((0,r.Cl)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=(0,le.l)(this.defaultOptions.query,e)),(0,i.V1)("cache-and-network"!==e.fetchPolicy,16),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,r.Cl)((0,r.Cl)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=(0,le.l)(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return s(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var o=Promise.all(r);return o.queries=n,o.results=r,o.catch((function(e){!1!==globalThis.__DEV__&&i.V1.debug(17,e)})),o},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(e.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),e}();!1!==globalThis.__DEV__&&(he.prototype.getMemoryInternals=ue.ep)},14918:(e,t,n)=>{"use strict";var r;function i(e){return!!e&&e<7}n.d(t,{bi:()=>i,pT:()=>r}),function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(r||(r={}))},40826:(e,t,n)=>{"use strict";n.d(t,{K$:()=>o,K4:()=>c,Mn:()=>a,uR:()=>s});var r=n(58932),i=(n(41477),n(10409)),o=Symbol();function s(e){return!!e.extensions&&Array.isArray(e.extensions[o])}function a(e){return e.hasOwnProperty("graphQLErrors")}var c=function(e){function t(n){var o,s,a=n.graphQLErrors,c=n.protocolErrors,l=n.clientErrors,u=n.networkError,d=n.errorMessage,h=n.extraInfo,p=e.call(this,d)||this;return p.name="ApolloError",p.graphQLErrors=a||[],p.protocolErrors=c||[],p.clientErrors=l||[],p.networkError=u||null,p.message=d||(o=p,s=(0,r.fX)((0,r.fX)((0,r.fX)([],o.graphQLErrors,!0),o.clientErrors,!0),o.protocolErrors,!0),o.networkError&&s.push(o.networkError),s.map((function(e){return(0,i.U)(e)&&e.message||"Error message not found."})).join("\n")),p.extraInfo=h,p.__proto__=t.prototype,p}return(0,r.C6)(t,e),t}(Error)},20253:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(58932),i=n(78807),o=n(51759);function s(e){return new i.C((function(t,n){var i=(0,r.Tt)(t,[]);return new o.c((function(r){var o,s=!1;return Promise.resolve(i).then((function(n){return e(n,t.getContext())})).then(t.setContext).then((function(){s||(o=n(t).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}))})).catch(r.error.bind(r)),function(){s=!0,o&&o.unsubscribe()}}))}))}},78807:(e,t,n)=>{"use strict";n.d(t,{C:()=>u});var r=n(41477),i=n(51759),o=n(58932),s=n(27337);function a(e,t){return t?t(e):i.c.of()}function c(e){return"function"==typeof e?new u(e):e}function l(e){return e.request.length<=1}var u=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return i.c.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(c).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var o,s=c(n),u=c(r||new e(a));return o=l(s)&&l(u)?new e((function(e){return t(e)?s.request(e)||i.c.of():u.request(e)||i.c.of()})):new e((function(e,n){return t(e)?s.request(e,n)||i.c.of():u.request(e,n)||i.c.of()})),Object.assign(o,{left:s,right:u})},e.execute=function(e,t){return e.request(function(e,t){var n=(0,o.Cl)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n="function"==typeof e?(0,o.Cl)((0,o.Cl)({},n),e(n)):(0,o.Cl)((0,o.Cl)({},n),e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return(0,o.Cl)({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?(0,s.n4)(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];if(t.indexOf(o)<0)throw(0,r.vA)(43,o)}return e}(t))))||i.c.of()},e.concat=function(t,n){var o=c(t);if(l(o))return!1!==globalThis.__DEV__&&r.V1.warn(35,o),o;var s,a=c(n);return s=l(a)?new e((function(e){return o.request(e,(function(e){return a.request(e)||i.c.of()}))||i.c.of()})):new e((function(e,t){return o.request(e,(function(e){return a.request(e,t)||i.c.of()}))||i.c.of()})),Object.assign(s,{left:o,right:a})},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(a)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw(0,r.vA)(36)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}()},34949:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r=n(78807).C.from},59884:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var r=n(58932),i=n(51759),o=n(78807);function s(e){return new o.C((function(t,n){return new i.c((function(r){var i,o,s;try{i=n(t).subscribe({next:function(i){i.errors&&(s=e({graphQLErrors:i.errors,response:i,operation:t,forward:n}))?o=s.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}):r.next(i)},error:function(i){(s=e({operation:t,networkError:i,graphQLErrors:i&&i.result&&i.result.errors,forward:n}))?o=s.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}):r.error(i)},complete:function(){s||r.complete.bind(r)()}})}catch(i){e({networkError:i,operation:t,forward:n}),r.error(i)}return function(){i&&i.unsubscribe(),o&&i.unsubscribe()}}))}))}!function(e){function t(t){var n=e.call(this)||this;return n.link=s(t),n}(0,r.C6)(t,e),t.prototype.request=function(e,t){return this.link.request(e,t)}}(o.C)},27949:(e,t,n)=>{"use strict";n.d(t,{P:()=>E});var r=n(58932),i=n(78807),o=n(41477),s=n(67115),a=n(51759),c=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r=(0,o.vA)(39,t,e.message);throw r.parseError=e,r}return n},l=n(45816);function u(e){var t={next:function(){return e.read()}};return l.uJ&&(t[Symbol.asyncIterator]=function(){return this}),t}function d(e){var t,n,r,i=e;if(e.body&&(i=e.body),r=i,l.uJ&&r[Symbol.asyncIterator])return n=i[Symbol.asyncIterator](),(t={next:function(){return n.next()}})[Symbol.asyncIterator]=function(){return this},t;if(function(e){return!!e.getReader}(i))return u(i.getReader());if(function(e){return!!e.stream}(i))return u(i.stream().getReader());if(function(e){return!!e.arrayBuffer}(i))return function(e){var t=!1,n={next:function(){return t?Promise.resolve({value:void 0,done:!0}):(t=!0,new Promise((function(t,n){e.then((function(e){t({value:e,done:!1})})).catch(n)})))}};return l.uJ&&(n[Symbol.asyncIterator]=function(){return this}),n}(i.arrayBuffer());if(function(e){return!!e.pipe}(i))return function(e){var t=null,n=null,r=!1,i=[],o=[];function s(e){if(!n){if(o.length){var t=o.shift();if(Array.isArray(t)&&t[0])return t[0]({value:e,done:!1})}i.push(e)}}function a(e){n=e,o.slice().forEach((function(t){t[1](e)})),!t||t()}function c(){r=!0,o.slice().forEach((function(e){e[0]({value:void 0,done:!0})})),!t||t()}t=function(){t=null,e.removeListener("data",s),e.removeListener("error",a),e.removeListener("end",c),e.removeListener("finish",c),e.removeListener("close",c)},e.on("data",s),e.on("error",a),e.on("end",c),e.on("finish",c),e.on("close",c);var u={next:function(){return new Promise((function(e,t){return n?t(n):i.length?e({value:i.shift(),done:!1}):r?e({value:void 0,done:!0}):void o.push([e,t])}))}};return l.uJ&&(u[Symbol.asyncIterator]=function(){return this}),u}(i);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var h=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},p=n(40826),f=n(43276),m=Object.prototype.hasOwnProperty;function g(e){var t={};return e.split("\n").forEach((function(e){var n=e.indexOf(":");if(n>-1){var r=e.slice(0,n).trim().toLowerCase(),i=e.slice(n+1).trim();t[r]=i}})),t}function y(e,t){e.status>=300&&h(e,function(){try{return JSON.parse(t)}catch(e){return t}}(),"Response not successful: Received status code ".concat(e.status));try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}}var v=n(41444),b={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},x=function(e,t){return t(e)};function O(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o={},s={};n.forEach((function(e){o=(0,r.Cl)((0,r.Cl)((0,r.Cl)({},o),e.options),{headers:(0,r.Cl)((0,r.Cl)({},o.headers),e.headers)}),e.credentials&&(o.credentials=e.credentials),s=(0,r.Cl)((0,r.Cl)({},s),e.http)})),o.headers&&(o.headers=function(e,t){if(!t){var n=Object.create(null);return Object.keys(Object(e)).forEach((function(t){n[t.toLowerCase()]=e[t]})),n}var r=Object.create(null);Object.keys(Object(e)).forEach((function(t){r[t.toLowerCase()]={originalName:t,value:e[t]}}));var i=Object.create(null);return Object.keys(r).forEach((function(e){i[r[e].originalName]=r[e].value})),i}(o.headers,s.preserveHeaderCase));var a=e.operationName,c=e.extensions,l=e.variables,u=e.query,d={operationName:a,variables:l};return s.includeExtensions&&(d.extensions=c),s.includeQuery&&(d.query=t(u,v.y)),{options:o,body:d}}function w(e){return new a.c((function(t){t.error(e)}))}var S=n(16670),k=n(50093),_=n(27337),P=(0,o.no)((function(){return fetch})),E=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,l=e.fetch,u=e.print,v=void 0===u?x:u,E=e.includeExtensions,C=e.preserveHeaderCase,T=e.useGETForQueries,j=e.includeUnusedVariables,I=void 0!==j&&j,M=(0,r.Tt)(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);!1!==globalThis.__DEV__&&function(e){if(!e&&"undefined"==typeof fetch)throw(0,o.vA)(37)}(l||P);var A={http:{includeExtensions:E,preserveHeaderCase:C},options:M.fetchOptions,credentials:M.credentials,headers:M.headers};return new i.C((function(e){var t=function(e,t){return e.getContext().uri||("function"==typeof t?t(e):t||"/graphql")}(e,n),i=e.getContext(),u={};if(i.clientAwareness){var x=i.clientAwareness,E=x.name,C=x.version;E&&(u["apollographql-client-name"]=E),C&&(u["apollographql-client-version"]=C)}var j=(0,r.Cl)((0,r.Cl)({},u),i.headers),M={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:j};if((0,s.d8)(["client"],e.query)){var D=(0,k.er)(e.query);if(!D)return w(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));e.query=D}var $,R,N,L,Q,z=O(e,v,b,A,M),F=z.options,B=z.body;B.variables&&!I&&(B.variables=($=B.variables,R=e.query,N=(0,r.Cl)({},$),L=new Set(Object.keys($)),(0,S.YR)(R,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&L.delete(e.name.value)}}),L.forEach((function(e){delete N[e]})),N)),F.signal||"undefined"==typeof AbortController||(Q=new AbortController,F.signal=Q.signal);var Z,V="OperationDefinition"===(Z=(0,_.Vn)(e.query)).kind&&"subscription"===Z.operation,W=(0,s.d8)(["defer"],e.query);if(T&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(F.method="GET"),W||V){F.headers=F.headers||{};var U="multipart/mixed;";V&&W&&!1!==globalThis.__DEV__&&o.V1.warn(38),V?U+="boundary=graphql;subscriptionSpec=1.0,application/json":W&&(U+="deferSpec=20220824,application/json"),F.headers.accept=U}if("GET"===F.method){var q=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var i=void 0;try{i=c(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",i)}if(t.extensions){var o=void 0;try{o=c(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",o)}var s="",a=e,l=e.indexOf("#");-1!==l&&(s=e.substr(l),a=e.substr(0,l));var u=-1===a.indexOf("?")?"?":"&";return{newURI:a+u+n.join("&")+s}}(t,B),Y=q.newURI,X=q.parseError;if(X)return w(X);t=Y}else try{F.body=c(B,"Payload")}catch(X){return w(X)}return new a.c((function(n){var i=l||(0,o.no)((function(){return fetch}))||P,s=n.next.bind(n);return i(t,F).then((function(t){var n;e.setContext({response:t});var i,o=null===(n=t.headers)||void 0===n?void 0:n.get("content-type");return null!==o&&/^multipart\/mixed/i.test(o)?function(e,t){var n;return(0,r.sH)(this,void 0,void 0,(function(){var i,o,s,a,c,l,u,h,m,v,b,x,O,w,S,k,_,P,E,C,T,j,I;return(0,r.YH)(this,(function(M){switch(M.label){case 0:if(void 0===TextDecoder)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");i=new TextDecoder("utf-8"),o=null===(n=e.headers)||void 0===n?void 0:n.get("content-type"),s="boundary=",a=(null==o?void 0:o.includes(s))?null==o?void 0:o.substring((null==o?void 0:o.indexOf(s))+9).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",c="\r\n--".concat(a),l="",u=d(e),h=!0,M.label=1;case 1:return h?[4,u.next()]:[3,3];case 2:for(m=M.sent(),v=m.value,b=m.done,x="string"==typeof v?v:i.decode(v),O=l.length-c.length+1,h=!b,w=(l+=x).indexOf(c,O);w>-1;){if(S=void 0,j=[l.slice(0,w),l.slice(w+c.length)],l=j[1],k=(S=j[0]).indexOf("\r\n\r\n"),_=g(S.slice(0,k)),(P=_["content-type"])&&-1===P.toLowerCase().indexOf("application/json"))throw new Error("Unsupported patch content type: application/json is required.");if(E=S.slice(k))if(C=y(e,E),Object.keys(C).length>1||"data"in C||"incremental"in C||"errors"in C||"payload"in C)(0,f.Nw)(C)?(T={},"payload"in C&&(T=(0,r.Cl)({},C.payload)),"errors"in C&&(T=(0,r.Cl)((0,r.Cl)({},T),{extensions:(0,r.Cl)((0,r.Cl)({},"extensions"in T?T.extensions:null),(I={},I[p.K$]=C.errors,I))})),t(T)):t(C);else if(1===Object.keys(C).length&&"hasNext"in C&&!C.hasNext)return[2];w=l.indexOf(c)}return[3,1];case 3:return[2]}}))}))}(t,s):(i=e,function(e){return e.text().then((function(t){return y(e,t)})).then((function(t){return Array.isArray(t)||m.call(t,"data")||m.call(t,"errors")||h(e,t,"Server response was missing for query '".concat(Array.isArray(i)?i.map((function(e){return e.operationName})):i.operationName,"'.")),t}))})(t).then(s)})).then((function(){Q=void 0,n.complete()})).catch((function(e){Q=void 0,function(e,t){e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e)}(e,n)})),function(){Q&&Q.abort()}}))}))}(t).request)||this;return n.options=t,n}return(0,r.C6)(t,e),t}(i.C)},16254:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,V:()=>c});var r=n(78027),i=n(23336),o=new WeakSet;function s(e){o.has(e)||(o.add(e),setTimeout((function(){e.clean(),o.delete(e)}),100))}var a=function(e,t){var n=new r.l(e,t);return n.set=function(e,t){return s(this),r.l.prototype.set.call(this,e,t)},n},c=function(e,t){var n=new i.C(e,t);return n.set=function(e,t){return s(this),i.C.prototype.set.call(this,e,t)},n}},28554:(e,t,n)=>{"use strict";n.d(t,{D_:()=>s,cM:()=>c,ep:()=>a,tQ:()=>l});var r=n(58932),i=n(61491),o={};function s(e,t){o[e]=t}var a=!1!==globalThis.__DEV__?function(){var e,t,n,s,a;if(!1===globalThis.__DEV__)throw new Error("only supported in development mode");return{limits:Object.fromEntries(Object.entries({parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4}).map((function(e){var t=e[0],n=e[1];return[t,i.v[t]||n]}))),sizes:(0,r.Cl)({print:null===(e=o.print)||void 0===e?void 0:e.call(o),parser:null===(t=o.parser)||void 0===t?void 0:t.call(o),canonicalStringify:null===(n=o.canonicalStringify)||void 0===n?void 0:n.call(o),links:m(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:p(this.queryManager.documentTransform)}},null===(a=(s=this.cache).getMemoryInternals)||void 0===a?void 0:a.call(s))}}:void 0,c=!1!==globalThis.__DEV__?function(){var e=this.config.fragments;return(0,r.Cl)((0,r.Cl)({},u.apply(this)),{addTypenameDocumentTransform:p(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:d(this.storeReader.executeSelectionSet),executeSubSelectedArray:d(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:d(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:d(null==e?void 0:e.findFragmentSpreads),lookup:d(null==e?void 0:e.lookup),transform:d(null==e?void 0:e.transform)}})}:void 0,l=!1!==globalThis.__DEV__?u:void 0;function u(){return{cache:{fragmentQueryDocuments:d(this.getFragmentDoc)}}}function d(e){return function(e){return!!e&&"dirtyKey"in e}(e)?e.size:void 0}function h(e){return null!=e}function p(e){return f(e).map((function(e){return{cache:e}}))}function f(e){return e?(0,r.fX)((0,r.fX)([d(null==e?void 0:e.performWork)],f(null==e?void 0:e.left),!0),f(null==e?void 0:e.right),!0).filter(h):[]}function m(e){var t;return e?(0,r.fX)((0,r.fX)([null===(t=null==e?void 0:e.getMemoryInternals)||void 0===t?void 0:t.call(e)],m(null==e?void 0:e.left),!0),m(null==e?void 0:e.right),!0).filter(h):[]}},61491:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var r=n(58932),i=n(41477),o=Symbol.for("apollo.cacheSize"),s=(0,r.Cl)({},i.Sf[o])},99263:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>r});var r=Array.isArray;function i(e){return Array.isArray(e)&&e.length>0}},45816:(e,t,n)=>{"use strict";n.d(t,{En:()=>o,JR:()=>u,et:()=>i,ol:()=>s,uJ:()=>a});var r=n(41477),i="function"==typeof WeakMap&&!(0,r.no)((function(){return"ReactNative"==navigator.product&&!global.HermesInternal})),o="function"==typeof WeakSet,s="function"==typeof Symbol&&"function"==typeof Symbol.for,a=s&&Symbol.asyncIterator,c="function"==typeof(0,r.no)((function(){return window.document.createElement})),l=(0,r.no)((function(){return navigator.userAgent.indexOf("jsdom")>=0}))||!1,u=c&&!l},558:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});var r,i=n(16254),o=n(61491),s=n(28554),a=Object.assign((function(e){return JSON.stringify(e,c)}),{reset:function(){r=new i.V(o.v.canonicalStringify||1e3)}});function c(e,t){if(t&&"object"==typeof t){var n=Object.getPrototypeOf(t);if(n===Object.prototype||null===n){var i=Object.keys(t);if(i.every(l))return t;var o=JSON.stringify(i),s=r.get(o);if(!s){i.sort();var a=JSON.stringify(i);s=r.get(a)||i,r.set(o,s),r.set(a,s)}var c=Object.create(n);return s.forEach((function(e){c[e]=t[e]})),c}}return t}function l(e,t,n){return 0===t||n[t-1]<=e}!1!==globalThis.__DEV__&&(0,s.D_)("canonicalStringify",(function(){return r.size})),a.reset()},34162:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var r=Object.prototype.toString;function i(e){return o(e)}function o(e,t){switch(r.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=o(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var i=Object.create(Object.getPrototypeOf(e));return t.set(e,i),Object.keys(e).forEach((function(n){i[n]=o(e[n],t)})),i;default:return e}}},53364:(e,t,n)=>{"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}n.d(t,{o:()=>r})},43276:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>c,ST:()=>s,YX:()=>a,bd:()=>l});var r=n(10409),i=n(99263),o=n(84996);function s(e){return"incremental"in e}function a(e){return s(e)||function(e){return"hasNext"in e&&"data"in e}(e)}function c(e){return(0,r.U)(e)&&"payload"in e}function l(e,t){var n=e,r=new o.ZI;return s(t)&&(0,i.E)(t.incremental)&&t.incremental.forEach((function(e){for(var t=e.data,i=e.path,o=i.length-1;o>=0;--o){var s=i[o],a=isNaN(+s)?{}:[];a[s]=t,t=a}n=r.merge(n,t)})),n}},40781:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=new Map;function i(e){var t=r.get(e)||1;return r.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}},30876:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var r=n(10409);function i(e){return!1!==globalThis.__DEV__&&(t=e,(n=new Set([t])).forEach((function(e){(0,r.U)(e)&&function(e){if(!1!==globalThis.__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(e){if(e instanceof TypeError)return null;throw e}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(t){(0,r.U)(e[t])&&n.add(e[t])}))}))),e;var t,n}},84996:(e,t,n)=>{"use strict";n.d(t,{D9:()=>s,IM:()=>a,ZI:()=>l});var r=n(58932),i=n(10409),o=Object.prototype.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e)}function a(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new l,i=1;i<n;++i)t=r.merge(t,e[i]);return t}var c=function(e,t,n){return this.merge(e[n],t[n])},l=function(){function e(e){void 0===e&&(e=c),this.reconciler=e,this.isObject=i.U,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];return(0,i.U)(t)&&(0,i.U)(e)?(Object.keys(t).forEach((function(i){if(o.call(e,i)){var a=e[i];if(t[i]!==a){var c=n.reconciler.apply(n,(0,r.fX)([e,t,i],s,!1));c!==a&&((e=n.shallowCopyForMerge(e))[i]=c)}}else(e=n.shallowCopyForMerge(e))[i]=t[i]})),e):t},e.prototype.shallowCopyForMerge=function(e){return(0,i.U)(e)&&(this.pastCopies.has(e)||(e=Array.isArray(e)?e.slice(0):(0,r.Cl)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},e}()},98379:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var r=n(58932),i=n(53364);function o(e,t){return(0,i.o)(e,t,t.variables&&{variables:(0,i.o)((0,r.Cl)((0,r.Cl)({},e&&e.variables),t.variables))})}},10409:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{U:()=>r})},31547:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var r=n(40781);function i(e,t){void 0===t&&(t=0);var n=(0,r.v)("stringifyForDisplay");return JSON.stringify(e,(function(e,t){return void 0===t?n:t}),t).split(JSON.stringify(n)).join("<undefined>")}},41477:(e,t,n)=>{"use strict";n.d(t,{Sf:()=>m,V1:()=>v,no:()=>f,vA:()=>b});var r=n(58932),i="Invariant Violation",o=Object.setPrototypeOf,s=void 0===o?function(e,t){return e.__proto__=t,e}:o,a=function(e){function t(n){void 0===n&&(n=i);var r=e.call(this,"number"==typeof n?i+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=i,s(r,t.prototype),r}return(0,r.C6)(t,e),t}(Error);function c(e,t){if(!e)throw new a(t)}var l,u=["debug","log","warn","error","silent"],d=u.indexOf("log");function h(e){return function(){if(u.indexOf(e)>=d)return(console[e]||console.log).apply(console,arguments)}}(l=c||(c={})).debug=h("debug"),l.log=h("log"),l.warn=h("warn"),l.error=h("error");var p=n(98044);function f(e){try{return e()}catch(e){}}const m=f((function(){return globalThis}))||f((function(){return window}))||f((function(){return self}))||f((function(){return global}))||f((function(){return f.constructor("return this")()}));var g=n(31547);function y(e){return function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if("number"==typeof t){var i=t;(t=w(i))||(t=S(i,n),n=[])}e.apply(void 0,[t].concat(n))}}var v=Object.assign((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e||c(e,w(t,n)||S(t,n))}),{debug:y(c.debug),log:y(c.log),warn:y(c.warn),error:y(c.error)});function b(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new a(w(e,t)||S(e,t))}var x=Symbol.for("ApolloErrorMessageHandler_"+p.r);function O(e){return"string"==typeof e?e:(0,g.p)(e,2).slice(0,1e3)}function w(e,t){if(void 0===t&&(t=[]),e)return m[x]&&m[x](e,t.map(O))}function S(e,t){if(void 0===t&&(t=[]),e)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:p.r,message:e,args:t.map(O)})))}globalThis.__DEV__},66658:(e,t,n)=>{"use strict";n.d(t,{c:()=>d});var r=n(69796),i=n(45816),o=n(27337),s=n(41477),a=n(78027),c=n(67217),l=n(61491);function u(e){return e}var d=function(){function e(e,t){void 0===t&&(t=Object.create(null)),this.resultCache=i.En?new WeakSet:new Set,this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=!1!==t.cache,this.resetCache()}return e.prototype.getCacheKey=function(e){return[e]},e.identity=function(){return new e(u,{cache:!1})},e.split=function(t,n,r){return void 0===r&&(r=e.identity()),Object.assign(new e((function(e){return(t(e)?n:r).transformDocument(e)}),{cache:!1}),{left:n,right:r})},e.prototype.resetCache=function(){var t=this;if(this.cached){var n=new r.b(i.et);this.performWork=(0,c.LV)(e.prototype.performWork.bind(this),{makeCacheKey:function(e){var r=t.getCacheKey(e);if(r)return(0,s.V1)(Array.isArray(r),66),n.lookupArray(r)},max:l.v["documentTransform.cache"],cache:a.l})}},e.prototype.performWork=function(e){return(0,o.sw)(e),this.transform(e)},e.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var t=this.performWork(e);return this.resultCache.add(t),t},e.prototype.concat=function(t){var n=this;return Object.assign(new e((function(e){return t.transformDocument(n.transformDocument(e))}),{cache:!1}),{left:this,right:t})},e}()},67115:(e,t,n)=>{"use strict";n.d(t,{MS:()=>o,d8:()=>s,f2:()=>a});var r=n(41477),i=n(16670);function o(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];return e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,i=e.name.value;(0,r.V1)(n&&1===n.length,68,i);var o=n[0];(0,r.V1)(o.name&&"if"===o.name.value,69,i);var s=o.value;(0,r.V1)(s&&("Variable"===s.kind||"BooleanValue"===s.kind),70,i),t.push({directive:e,ifArgument:o})}})),t}(n).every((function(e){var n=e.directive,i=e.ifArgument,o=!1;return"Variable"===i.value.kind?(o=t&&t[i.value.name.value],(0,r.V1)(void 0!==o,67,n.name.value)):o=i.value.value,"skip"===n.name.value?!o:o}))}function s(e,t,n){var r=new Set(e),o=r.size;return(0,i.YR)(t,{Directive:function(e){if(r.delete(e.name.value)&&(!n||!r.size))return i.sP}}),n?!r.size:r.size<o}function a(e){return e&&s(["client","export"],e,!0)}},16816:(e,t,n)=>{"use strict";n.d(t,{HQ:()=>a,JG:()=>s,ct:()=>o});var r=n(58932),i=n(41477);function o(e,t){var n=t,o=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw(0,i.vA)(71,e.operation,e.name?" named '".concat(e.name.value,"'"):"");"FragmentDefinition"===e.kind&&o.push(e)})),void 0===n&&((0,i.V1)(1===o.length,72,o.length),n=o[0].name.value),(0,r.Cl)((0,r.Cl)({},e),{definitions:(0,r.fX)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function s(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function a(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=e.name.value;if("function"==typeof t)return t(n);var r=t&&t[n];return(0,i.V1)(r,73,n),r||null;default:return null}}},27337:(e,t,n)=>{"use strict";n.d(t,{AT:()=>l,E4:()=>u,Vn:()=>d,Vu:()=>s,n4:()=>a,sw:()=>o,wY:()=>h,zK:()=>c});var r=n(41477),i=n(71875);function o(e){(0,r.V1)(e&&"Document"===e.kind,74);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw(0,r.vA)(75,e.kind);return e}));return(0,r.V1)(t.length<=1,76,t.length),e}function s(e){return o(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function a(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&!!e.name})).map((function(e){return e.name.value}))[0]||null}function c(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function l(e){var t=s(e);return(0,r.V1)(t&&"query"===t.operation,77),t}function u(e){(0,r.V1)("Document"===e.kind,78),(0,r.V1)(e.definitions.length<=1,79);var t=e.definitions[0];return(0,r.V1)("FragmentDefinition"===t.kind,80),t}function d(e){var t;o(e);for(var n=0,i=e.definitions;n<i.length;n++){var s=i[n];if("OperationDefinition"===s.kind){var a=s.operation;if("query"===a||"mutation"===a||"subscription"===a)return s}"FragmentDefinition"!==s.kind||t||(t=s)}if(t)return t;throw(0,r.vA)(81)}function h(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&(0,i.J)(t,e.variable.name,e.defaultValue)})),t}},41444:(e,t,n)=>{"use strict";function r(e){return 9===e||32===e}n.d(t,{y:()=>v});const i=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function o(e){return s[e.charCodeAt(0)]}const s=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var a=n(16670);const c={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>l(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=d("(",l(e.variableDefinitions,", "),")"),n=l([e.operation,l([e.name,t]),l(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+d(" = ",n)+d(" ",l(r," "))},SelectionSet:{leave:({selections:e})=>u(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const o=d("",e,": ")+t;let s=o+d("(",l(n,", "),")");return s.length>80&&(s=o+d("(\n",h(l(n,"\n")),"\n)")),l([s,l(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+d(" ",l(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>l(["...",d("on ",e),l(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${d("(",l(n,", "),")")} on ${t} ${d("",l(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){const n=e.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),o=1===i.length,s=i.length>1&&i.slice(1).every((e=>0===e.length||r(e.charCodeAt(0)))),a=n.endsWith('\\"""'),c=e.endsWith('"')&&!a,l=e.endsWith("\\"),u=c||l,d=!o||e.length>70||u||s||a;let h="";const p=o&&r(e.charCodeAt(0));return(d&&!p||s)&&(h+="\n"),h+=n,(d||u)&&(h+="\n"),'"""'+h+'"""'}(e):`"${e.replace(i,o)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+l(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+l(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+d("(",l(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>d("",e,"\n")+l(["schema",l(t," "),u(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>d("",e,"\n")+l(["scalar",t,l(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>d("",e,"\n")+l(["type",t,d("implements ",l(n," & ")),l(r," "),u(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>d("",e,"\n")+t+(p(n)?d("(\n",h(l(n,"\n")),"\n)"):d("(",l(n,", "),")"))+": "+r+d(" ",l(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>d("",e,"\n")+l([t+": "+n,d("= ",r),l(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>d("",e,"\n")+l(["interface",t,d("implements ",l(n," & ")),l(r," "),u(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>d("",e,"\n")+l(["union",t,l(n," "),d("= ",l(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>d("",e,"\n")+l(["enum",t,l(n," "),u(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>d("",e,"\n")+l([t,l(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>d("",e,"\n")+l(["input",t,l(n," "),u(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>d("",e,"\n")+"directive @"+t+(p(n)?d("(\n",h(l(n,"\n")),"\n)"):d("(",l(n,", "),")"))+(r?" repeatable":"")+" on "+l(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>l(["extend schema",l(e," "),u(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>l(["extend scalar",e,l(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>l(["extend type",e,d("implements ",l(t," & ")),l(n," "),u(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>l(["extend interface",e,d("implements ",l(t," & ")),l(n," "),u(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>l(["extend union",e,l(t," "),d("= ",l(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>l(["extend enum",e,l(t," "),u(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>l(["extend input",e,l(t," "),u(n)]," ")}};function l(e,t=""){var n;return null!==(n=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function u(e){return d("{\n",h(l(e,"\n")),"\n}")}function d(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function h(e){return d("  ",e.replace(/\n/g,"\n  "))}function p(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}var f,m=n(16254),g=n(61491),y=n(28554),v=Object.assign((function(e){var t=f.get(e);return t||(t=function(e){return(0,a.YR)(e,c)}(e),f.set(e,t)),t}),{reset:function(){f=new m.A(g.v.print||2e3)}});v.reset(),!1!==globalThis.__DEV__&&(0,y.D_)("print",(function(){return f?f.size:0}))},71875:(e,t,n)=>{"use strict";n.d(t,{A_:()=>c,D$:()=>y,Ii:()=>d,J:()=>u,Kc:()=>l,MB:()=>m,WU:()=>a,dt:()=>v,kd:()=>b,o5:()=>f,ue:()=>g});var r=n(41477),i=n(10409),o=n(16816),s=n(558);function a(e){return{__ref:String(e)}}function c(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function l(e){return(0,i.U)(e)&&"Document"===e.kind&&Array.isArray(e.definitions)}function u(e,t,n,i){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map((function(e){return u(o,e.name,e.value,i)})),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n)){var s=(i||{})[n.name.value];e[t.value]=s}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return u(n,t,e,i),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw(0,r.vA)(82,t.value,n.kind);e[t.value]=null}}function d(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,o=r.value;return u(n[e.name.value],i,o,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return u(r,n,i,t)}))),f(e.name.value,r,n)}var h=["connection","include","skip","client","rest","export","nonreactive"],p=s.M,f=Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach((function(e){i[e]=t[e]})),"".concat(n.connection.key,"(").concat(p(i),")")}return n.connection.key}var o=e;if(t){var s=p(t);o+="(".concat(s,")")}return n&&Object.keys(n).forEach((function(e){-1===h.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?o+="@".concat(e,"(").concat(p(n[e]),")"):o+="@".concat(e))})),o}),{setStringify:function(e){var t=p;return p=e,t}});function m(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return u(n,r,i,t)})),n}return null}function g(e){return e.alias?e.alias.value:e.name.value}function y(e,t,n){for(var r,i=0,s=t.selections;i<s.length;i++)if(v(l=s[i])){if("__typename"===l.name.value)return e[g(l)]}else r?r.push(l):r=[l];if("string"==typeof e.__typename)return e.__typename;if(r)for(var a=0,c=r;a<c.length;a++){var l=c[a],u=y(e,(0,o.HQ)(l,n).selectionSet,n);if("string"==typeof u)return u}}function v(e){return"Field"===e.kind}function b(e){return"InlineFragment"===e.kind}},50093:(e,t,n)=>{"use strict";n.d(t,{XY:()=>g,er:()=>v,iz:()=>m,zc:()=>y});var r=n(58932),i=n(41477),o=n(33839),s=n(16670),a=n(27337),c=n(71875),l=n(16816),u=n(99263),d={kind:o.b.FIELD,name:{kind:o.b.NAME,value:"__typename"}};function h(e,t){return!e||e.selectionSet.selections.every((function(e){return e.kind===o.b.FRAGMENT_SPREAD&&h(t[e.name.value],t)}))}function p(e){return h((0,a.Vu)(e)||(0,a.E4)(e),(0,l.JG)((0,a.zK)(e)))?null:e}function f(e){var t=new Map;return function(n){void 0===n&&(n=e);var r=t.get(n);return r||t.set(n,r={variables:new Set,fragmentSpreads:new Set}),r}}function m(e,t){(0,a.sw)(t);for(var n=f(""),c=f(""),l=function(e){for(var t=0,r=void 0;t<e.length&&(r=e[t]);++t)if(!(0,u.c)(r)){if(r.kind===o.b.OPERATION_DEFINITION)return n(r.name&&r.name.value);if(r.kind===o.b.FRAGMENT_DEFINITION)return c(r.name.value)}return!1!==globalThis.__DEV__&&i.V1.error(83),null},d=0,h=t.definitions.length-1;h>=0;--h)t.definitions[h].kind===o.b.OPERATION_DEFINITION&&++d;var m,g,y,v=(m=e,g=new Map,y=new Map,m.forEach((function(e){e&&(e.name?g.set(e.name,e):e.test&&y.set(e.test,e))})),function(e){var t=g.get(e.name.value);return!t&&y.size&&y.forEach((function(n,r){r(e)&&(t=n)})),t}),b=function(e){return(0,u.E)(e)&&e.map(v).some((function(e){return e&&e.remove}))},x=new Map,O=!1,w={enter:function(e){if(b(e.directives))return O=!0,null}},S=(0,s.YR)(t,{Field:w,InlineFragment:w,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(e,t,n,r,i){var o=l(i);o&&o.variables.add(e.name.value)}},FragmentSpread:{enter:function(e,t,n,r,i){if(b(e.directives))return O=!0,null;var o=l(i);o&&o.fragmentSpreads.add(e.name.value)}},FragmentDefinition:{enter:function(e,t,n,r){x.set(JSON.stringify(r),e)},leave:function(e,t,n,r){return e===x.get(JSON.stringify(r))?e:d>0&&e.selectionSet.selections.every((function(e){return e.kind===o.b.FIELD&&"__typename"===e.name.value}))?(c(e.name.value).removed=!0,O=!0,null):void 0}},Directive:{leave:function(e){if(v(e))return O=!0,null}}});if(!O)return t;var k=function(e){return e.transitiveVars||(e.transitiveVars=new Set(e.variables),e.removed||e.fragmentSpreads.forEach((function(t){k(c(t)).transitiveVars.forEach((function(t){e.transitiveVars.add(t)}))}))),e},_=new Set;S.definitions.forEach((function(e){e.kind===o.b.OPERATION_DEFINITION?k(n(e.name&&e.name.value)).fragmentSpreads.forEach((function(e){_.add(e)})):e.kind!==o.b.FRAGMENT_DEFINITION||0!==d||c(e.name.value).removed||_.add(e.name.value)})),_.forEach((function(e){k(c(e)).fragmentSpreads.forEach((function(e){_.add(e)}))}));var P={enter:function(e){if(t=e.name.value,!_.has(t)||c(t).removed)return null;var t}};return p((0,s.YR)(S,{FragmentSpread:P,FragmentDefinition:P,OperationDefinition:{leave:function(e){if(e.variableDefinitions){var t=k(n(e.name&&e.name.value)).transitiveVars;if(t.size<e.variableDefinitions.length)return(0,r.Cl)((0,r.Cl)({},e),{variableDefinitions:e.variableDefinitions.filter((function(e){return t.has(e.variable.name.value)}))})}}}}))}var g=Object.assign((function(e){return(0,s.YR)(e,{SelectionSet:{enter:function(e,t,n){if(!n||n.kind!==o.b.OPERATION_DEFINITION){var i=e.selections;if(i&&!i.some((function(e){return(0,c.dt)(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var s=n;if(!((0,c.dt)(s)&&s.directives&&s.directives.some((function(e){return"export"===e.name.value}))))return(0,r.Cl)((0,r.Cl)({},e),{selections:(0,r.fX)((0,r.fX)([],i,!0),[d],!1)})}}}}})}),{added:function(e){return e===d}});function y(e){return"query"===(0,a.Vn)(e).operation?e:(0,s.YR)(e,{OperationDefinition:{enter:function(e){return(0,r.Cl)((0,r.Cl)({},e),{operation:"query"})}}})}function v(e){return(0,a.sw)(e),m([{test:function(e){return"client"===e.name.value},remove:!0}],e)}},98044:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});var r="3.9.5"},20231:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var r=n(9996),i=function(){function e(e,t,n){void 0===n&&(n={}),this.status="idle",this.options=n,this.sandboxSetup=t,this.iframeSelector=e}return e.prototype.updateOptions=function(e){(0,r.j)(this.options,e)||(this.options=e,this.updateSandbox())},e.prototype.updateSandbox=function(e,t){throw void 0===e&&(e=this.sandboxSetup),Error("Method not implemented")},e.prototype.destroy=function(){throw Error("Method not implemented")},e.prototype.dispatch=function(e){throw Error("Method not implemented")},e.prototype.listen=function(e){throw Error("Method not implemented")},e}()},75678:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SandpackNode:()=>J});var r=n(12824),i=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t)=>function(){return t||(0,e[a(e)[0]])((t={exports:{}}).exports,t),t.exports},d=(e,t,n)=>(n=null!=e?i(c(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))l.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=s(t,n))||r.enumerable});return e})(!t&&e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)),h=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},p=(e,t,n)=>(h(e,t,"read from private field"),n?n.call(e):t.get(e)),f=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},m=(e,t,n,r)=>(h(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),g=(e,t,n)=>(h(e,t,"access private method"),n),y=u({"../../node_modules/.pnpm/cuid@2.1.8/node_modules/cuid/lib/pad.js"(e,t){t.exports=function(e,t){var n="000000000"+e;return n.substr(n.length-t)}}}),v=u({"../../node_modules/.pnpm/cuid@2.1.8/node_modules/cuid/lib/fingerprint.browser.js"(e,t){var n=y(),r="object"==typeof window?window:self,i=Object.keys(r).length,o=n(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+i.toString(36),4);t.exports=function(){return o}}}),b=u({"../../node_modules/.pnpm/cuid@2.1.8/node_modules/cuid/lib/getRandomValue.browser.js"(e,t){var n,r,i="undefined"!=typeof window&&(window.crypto||window.msCrypto)||"undefined"!=typeof self&&self.crypto;i?(r=Math.pow(2,32)-1,n=function(){return Math.abs(i.getRandomValues(new Uint32Array(1))[0]/r)}):n=Math.random,t.exports=n}}),x=u({"../../node_modules/.pnpm/cuid@2.1.8/node_modules/cuid/index.js"(e,t){var n=v(),r=y(),i=b(),o=0,s=Math.pow(36,4);function a(){return r((i()*s<<0).toString(36),4)}function c(){return o=o<s?o:0,++o-1}function l(){return"c"+(new Date).getTime().toString(36)+r(c().toString(36),4)+n()+(a()+a())}l.slug=function(){var e=(new Date).getTime().toString(36),t=c().toString(36).slice(-4),r=n().slice(0,1)+n().slice(-1),i=a().slice(-2);return e.slice(-2)+t+r+i},l.isCuid=function(e){return"string"==typeof e&&!!e.startsWith("c")},l.isSlug=function(e){if("string"!=typeof e)return!1;var t=e.length;return t>=7&&t<=10},l.fingerprint=n,t.exports=l}}),O=u({"../../node_modules/.pnpm/@open-draft+deferred-promise@2.1.0/node_modules/@open-draft/deferred-promise/build/createDeferredExecutor.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createDeferredExecutor=void 0,e.createDeferredExecutor=function(){const e=(t,n)=>{e.state="pending",e.resolve=n=>{if("pending"===e.state)return e.result=n,t(n instanceof Promise?n:Promise.resolve(n).then((t=>(e.state="fulfilled",t))))},e.reject=t=>{if("pending"===e.state)return queueMicrotask((()=>{e.state="rejected"})),n(e.rejectionReason=t)}};return e}}}),w=u({"../../node_modules/.pnpm/@open-draft+deferred-promise@2.1.0/node_modules/@open-draft/deferred-promise/build/DeferredPromise.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DeferredPromise=void 0;var t=O();e.DeferredPromise=class extends Promise{#e;resolve;reject;constructor(e=null){const n=(0,t.createDeferredExecutor)();super(((t,r)=>{n(t,r),e?.(n.resolve,n.reject)})),this.#e=n,this.resolve=this.#e.resolve,this.reject=this.#e.reject}get state(){return this.#e.state}get rejectionReason(){return this.#e.rejectionReason}then(e,t){return this.#t(super.then(e,t))}catch(e){return this.#t(super.catch(e))}finally(e){return this.#t(super.finally(e))}#t(e){return Object.defineProperties(e,{resolve:{configurable:!0,value:this.resolve},reject:{configurable:!0,value:this.reject}})}}}}),S=u({"../../node_modules/.pnpm/@open-draft+deferred-promise@2.1.0/node_modules/@open-draft/deferred-promise/build/index.js"(e){var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(O(),e),n(w(),e)}}),k=u({"../../node_modules/.pnpm/strict-event-emitter@0.4.3/node_modules/strict-event-emitter/lib/MemoryLeakError.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MemoryLeakError=void 0;var t=class extends Error{emitter;type;count;constructor(e,t,n){super(`Possible EventEmitter memory leak detected. ${n} ${t.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`),this.emitter=e,this.type=t,this.count=n,this.name="MaxListenersExceededWarning"}};e.MemoryLeakError=t}}),_=u({"../../node_modules/.pnpm/strict-event-emitter@0.4.3/node_modules/strict-event-emitter/lib/Emitter.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=void 0;var t,n,r,i,s,a,c,l,u,d,h,y,v=k(),b=class{constructor(){f(this,i),f(this,a),f(this,l),f(this,d),f(this,t,void 0),f(this,n,void 0),f(this,r,void 0),m(this,t,new Map),m(this,n,b.defaultMaxListeners),m(this,r,!1)}static listenerCount(e,t){return e.listenerCount(t)}setMaxListeners(e){return m(this,n,e),this}getMaxListeners(){return p(this,n)}eventNames(){return Array.from(p(this,t).keys())}emit(e,...t){const n=g(this,i,s).call(this,e);return n.forEach((e=>{e.apply(this,t)})),n.length>0}addListener(e,o){g(this,d,h).call(this,"newListener",e,o);const a=g(this,i,s).call(this,e).concat(o);if(p(this,t).set(e,a),p(this,n)>0&&this.listenerCount(e)>p(this,n)&&!p(this,r)){m(this,r,!0);const t=new v.MemoryLeakError(this,e,this.listenerCount(e));console.warn(t)}return this}on(e,t){return this.addListener(e,t)}once(e,t){return this.addListener(e,g(this,l,u).call(this,e,t))}prependListener(e,n){const r=g(this,i,s).call(this,e);if(r.length>0){const i=[n].concat(r);p(this,t).set(e,i)}else p(this,t).set(e,r.concat(n));return this}prependOnceListener(e,t){return this.prependListener(e,g(this,l,u).call(this,e,t))}removeListener(e,n){const r=g(this,i,s).call(this,e);return r.length>0&&(g(this,a,c).call(this,r,n),p(this,t).set(e,r),g(this,d,h).call(this,"removeListener",e,n)),this}off(e,t){return this.removeListener(e,t)}removeAllListeners(e){return e?p(this,t).delete(e):p(this,t).clear(),this}listeners(e){return Array.from(g(this,i,s).call(this,e))}listenerCount(e){return g(this,i,s).call(this,e).length}rawListeners(e){return this.listeners(e)}},x=b;t=new WeakMap,n=new WeakMap,r=new WeakMap,i=new WeakSet,s=function(e){return p(this,t).get(e)||[]},a=new WeakSet,c=function(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),[]},l=new WeakSet,u=function(e,t){const n=(...r)=>{this.removeListener(e,n),t.apply(this,r)};return n},d=new WeakSet,h=function(e,t,n){this.emit(e,t,n)},((e,t,n)=>{t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(x,"symbol"!=typeof(y="defaultMaxListeners")?y+"":y,10),e.Emitter=x}}),P=u({"../../node_modules/.pnpm/strict-event-emitter@0.4.3/node_modules/strict-event-emitter/lib/index.js"(e){var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(_(),e),n(k(),e)}}),E=d(x()),C=/(%?)(%([sdjo]))/g;function T(e,...t){if(0===t.length)return e;let n=0,r=e.replace(C,((e,r,i,o)=>{const s=function(e,t){switch(t){case"s":return e;case"d":case"i":return Number(e);case"j":return JSON.stringify(e);case"o":{if("string"==typeof e)return e;const t=JSON.stringify(e);return"{}"===t||"[]"===t||/^\[object .+?\]$/.test(t)?e:t}}}(t[n],o);return r?e:(n++,s)}));return n<t.length&&(r+=` ${t.slice(n).join(" ")}`),r=r.replace(/%{2,2}/g,"%"),r}var j=class extends Error{constructor(e,...t){super(e),this.message=e,this.name="Invariant Violation",this.message=T(e,...t),function(e){if(!e.stack)return;const t=e.stack.split("\n");t.splice(1,2),e.stack=t.join("\n")}(this)}},I=(e,t,...n)=>{if(!e)throw new j(t,...n)};I.as=(e,t,n,...r)=>{if(!t)throw null!=e.prototype.name?new e(T(n,r)):e(T(n,r))};var M=d(S()),A=window.localStorage.CSB_EMULATOR_DEBUG,D="[36;1m",$={preview:"[33;1m",emulator:"[35;1m",runtime:D,bridge:"[34m","runtime:worker":D};function R(e){return function(t,...n){if("true"===A){const r=()=>t.includes("sender")?"[32;1msender":t.includes("receiver")?"[31mreceiver":"",i=t.replace(/\[.+\]:/,"");console.debug(`${$[e]}${e}:${r()}[0m:${i}`,...n)}}}var N=R("emulator"),L=class{constructor(e){this.target=e,this.emitter=new EventTarget,this.channel=new MessageChannel,this.receiverPort=this.channel.port1;const t=new M.DeferredPromise,n=e=>{"internal/ready"===e.data.type&&(N("[message-sender]: runtime is ready"),t.resolve())};window.addEventListener("message",n),t.then((()=>{window.removeEventListener("message",n)})),this.receiverReadyPromise=t,this.receiverPort.onmessage=e=>{const t=e.data;null!=t.type&&(N('[message-sender]: emitting "%s" event...',t.type,t.payload),this.emitter.dispatchEvent(new MessageEvent(t.type,{data:t.payload})))}}emitter;channel;receiverPort;receiverReadyPromise;async handshake(){const e=new M.DeferredPromise;await this.receiverReadyPromise,N("[message-sender]: sending handshake"),this.target.postMessage({type:"internal/handshake"},"*",[this.channel.port2]),this.on("internal/handshake/done",(()=>{e.resolve(),clearTimeout(t)}));const t=setTimeout((()=>{e.reject(new Error("MessageSender: Handshake timeout"))}),5e3);return e}on(e,t,n){N('[message-sender]: add listener "%s"',e),this.emitter.addEventListener(e,(e=>{e instanceof MessageEvent&&t(e)}),n)}off(e,t,n){this.emitter.removeEventListener(e,t,n)}async send(e,...t){const n=new M.DeferredPromise,r=(0,E.default)(),i=t[0]||{};N('[message-sender]: send "%s" (%s)',e,r,i),this.receiverPort.postMessage({type:e,payload:{operationId:r,payload:i}}),N('[message-sender]: adding done listener for "%s" (%s)',e,r);const o=t=>{const{data:i}=t;if(i.operationId===r){const t=i.listenerPayload||{};N('[message-sender]: resolving "%s (%s) promise!',e,r),n.resolve({...t,operationId:i.operationId})}},s=t=>{const{data:i}=t;i.operationId===r&&(N('[message-sender]: rejecting "%s (%s) promise!',e,r),n.reject(i.error))};return this.on("internal/operation/done",o),this.on("internal/operation/failed",s),n.finally((()=>{this.emitter.removeEventListener("internal/operation/done",o),this.emitter.removeEventListener("internal/operation/failed",s)}))}},Q=d(S()),z=d(x()),F=class{constructor(e){this.channel=e}async init(e){await this.channel.send("fs/init",{files:e})}async readFile(e,t){const n=await this.channel.send("fs/readFile",{path:e,encoding:t}).catch((t=>{throw new Error(T('Failed to read file at path "%s"',e),{cause:t})}));if(!n)throw new Error("File not found");return n.data}async writeFile(e,t,n){let r,i=!1;"object"==typeof n?(r=n.encoding,i=!!n.recursive):"string"==typeof n&&(r=n),await this.channel.send("fs/writeFile",{path:e,content:t,encoding:r,recursive:i}).catch((t=>{throw new Error(T('Failed to write file at path "%s"',e),{cause:t})}))}async readdir(e){const t=await this.channel.send("fs/readdir",{path:e}).catch((t=>{throw new Error(T('Failed to read directory at path "%s"',e),{cause:t})}));if(!t)throw new Error("Directory not found");return t.data}async mkdir(e,t){const n=!!t?.recursive;await this.channel.send("fs/mkdir",{path:e,recursive:n}).catch((t=>{throw new Error(T('Failed to make directory at path "%s"',e),{cause:t})}))}async stat(e){const t=await this.channel.send("fs/stat",{path:e}).catch((t=>{throw new Error(T('Failed to stat file at path "%s"',e),{cause:t})}));if(!t)throw new Error("File not found");return t.data}async rm(e,t){const{force:n,recursive:r}=t||{};await this.channel.send("fs/rm",{path:e,force:n,recursive:r}).catch((t=>{throw new Error(T('Failed to remove file at path "%s"',e),{cause:t})}))}async watch(e,t,n){const r=(0,z.default)();return await this.channel.send("fs/watch",{watcherId:r,includes:e,excludes:t}),this.channel.on("fs/watch-event",(({data:e})=>{if(e.watcherId===r&&n){const t={...e};delete t.watcherId,n(t)}})),{dispose:()=>this.channel.send("fs/unwatch",{watcherId:r})}}},B=d(P()),Z=class{constructor(e){this.channel=e}create(){return new V(this.channel)}},V=class{constructor(e){this.channel=e,this.state="running",this.stdout=new B.Emitter,this.stderr=new B.Emitter,this.stdin={write:e=>{if(!this.id)throw new Error("Failed to write to stdin, no process is currently running");return this.channel.send("shell/stdin",{data:e,workerId:this.id})}},this.forwardStdEvents()}id;state;stdout;stderr;stdin;forwardStdEvents(){this.channel.on("worker/tty",(e=>{const{data:t}=e;if(t.workerId===this.id)switch(t.payload.type){case"out":this.stdout.emit("data",t.payload.data);break;case"err":this.stderr.emit("data",t.payload.data)}}))}async runCommand(e,t,n={}){I(!this.id,'Failed to run "runCommand" on a ShellProcess: there is already a process running.');const r=await this.channel.send("shell/runCommand",{command:e,args:t,options:n});return I(r,'Failed to run "runCommand" on a ShellProcess: was not able to retrieve a running process.'),this.id=r.id,this.state="running",r}async on(e,t){switch(e){case"progress":return void this.channel.on("worker/progress",(({data:e})=>{t(e.status)}));case"exit":return void this.channel.on("worker/exit",(({data:e})=>{e.workerId===this.id&&t(e.exitCode,e.error)}))}}async kill(){I(this.id,'Failed to run "kill" on a ShellProcess: there is no process running. Did you forget to run it?'),this.state="idle",await this.channel.send("shell/exit",{id:this.id}).catch((e=>{throw new Error(T('Failed to kill shell with ID "%s"',this.id),{cause:e})})),this.id=void 0}},W=d(S()),U=class{constructor(e){this.channel=e}async waitFor(e,t,n=2e4){const r=new W.DeferredPromise,i=setTimeout((()=>{r.reject()}),n),o=await this.channel.send("preview/get/info",e).catch((t=>{r.reject(new Error(T('Failed to look up preview information for shell ID "%s" (port: %d)',e.sourceShellId,e.port)))})),s=o&&t(o);return s&&r.resolve({url:o.url,port:o.port,sourceShellId:o.sourceShellId}),this.channel.on("preview/port/ready",(({data:e})=>{!s&&t(e)&&r.resolve({url:e.url,port:e.port,sourceShellId:e.sourceShellId})})),r.finally((()=>{clearTimeout(i)}))}async getByShellId(e,t){return this.waitFor({sourceShellId:e},(t=>t.sourceShellId===e),t).catch((t=>{throw new Error(T('Failed to get shell by ID "%s"',e),{cause:t})}))}async waitForPort(e,t){return this.waitFor({port:e},(t=>t.port===e),t).catch((t=>{throw new Error(T("Failed to await port %d",e),{cause:t})}))}},q=R("emulator"),Y=class{constructor(e){this.options=e,I(this.options.iframe,'Failed to create a Nodebox: expected "iframe" argument to be a reference to an <iframe> element but got %j',this.options.iframe),this.url=this.options.runtimeUrl||"https://nodebox-runtime.codesandbox.io",this.isConnected=!1}channel=null;isConnected;url;fileSystemApi=null;shellApi=null;previewApi=null;async connect(){const{iframe:e,cdnUrl:t}=this.options;q("[message-sender]: Connecting to node emulator...");const n=new Q.DeferredPromise;this.url||n.reject(new Error("Nodebox URL is missing. Did you forget to provide it when creating this Nodebox instance?")),I(e.contentWindow,"Failed to create a MessageChannel with the Nodebox iframe: no content window found"),this.channel=new L(e.contentWindow);const r=new Q.DeferredPromise;return e.setAttribute("src",this.url),e.addEventListener("load",(()=>{r.resolve()}),{once:!0}),e.addEventListener("error",(e=>{r.reject(e.error)}),{once:!0}),await r,q("[message-sender]: IFrame loaded..."),await this.channel.handshake(),q("[message-sender]: Handshake completed..."),this.channel.send("connect",{cdnUrl:t}),this.channel.on("runtime/ready",(()=>{n.resolve()})),n.then((()=>{q("[message-sender]: Connected to runtime..."),this.isConnected=!0}))}get fs(){return I(this.isConnected,'Failed to access the File System API: consumer is not connected. Did you forget to run "connect()"?'),this.fileSystemApi||(this.fileSystemApi=new F(this.channel)),this.fileSystemApi}get shell(){return I(this.isConnected,'Failed to access the Shell API: consumer is not connected. Did you forget to run "connect()"?'),this.shellApi||(this.shellApi=new Z(this.channel)),this.shellApi}get preview(){return I(this.isConnected,'Failed to access the Preview API: consumer is not connected. Did you forget to run "connect()"?'),this.previewApi||(this.previewApi=new U(this.channel)),this.previewApi}},X=n(20231),H=n(94909);function G(e,t){return(0,r._)(this,void 0,void 0,(function(){var n,i,o;return(0,r.a)(this,(function(s){return n=e.contentWindow,(0,r.n)(n,"Failed to await preview iframe: no content window found"),i=0,[2,new Promise((function(n,s){var a=function(){var c=function(){clearTimeout(o),i=20,n(),e.removeEventListener("load",c)};i>=20?s((0,r.c)("Could not able to connect to preview.")):(e.setAttribute("src",t),o=setTimeout((function(){a(),e.removeEventListener("load",c)}),9e4),i+=1,e.addEventListener("load",c))};e.addEventListener("error",(function(){return s(new Error("Iframe error"))})),e.addEventListener("abort",(function(){return s(new Error("Aborted"))})),a()}))]}))}))}n(56223),n(9996);var K=[{code:function(e){var t=e.scope,n=window.history.__proto__,r=[],i=0,o=function(e){parent.postMessage({type:"urlchange",url:e,back:i>0,forward:i<r.length-1,channelId:t.channelId},"*")};Object.assign(window.history,{go:function(e){var t=i+e;if(t>=0&&t<=r.length-1){var s=r[i=t],a=s.url,c=s.state;n.replaceState.call(window.history,c,"",a);var l=document.location.href;o(l),window.dispatchEvent(new PopStateEvent("popstate",{state:c}))}},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},pushState:function(e,t,s){n.replaceState.call(window.history,e,t,s),function(e,t){r.splice(i+1),r.push({url:e,state:t}),i=r.length-1}(s,e),o(document.location.href)},replaceState:function(e,t,s){n.replaceState.call(window.history,e,t,s),r[i]={state:e,url:s},o(document.location.href)}}),window.addEventListener("message",(function(e){var t=e.data;"urlback"===t.type?history.back():"urlforward"===t.type?history.forward():"refresh"===t.type&&document.location.reload()}))}.toString(),id:"historyListener"},{code:"function consoleHook({ scope }) {"+H.c+"\n};",id:"consoleHook"},{code:function(e){var t,n=e.scope,r=0;function i(){var e=function(){if("undefined"==typeof window)return 0;var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.offsetHeight)}();r!==e&&window.parent.postMessage({type:"resize",height:e,codesandbox:!0,channelId:n.channelId},"*"),r=e}i(),new MutationObserver((function(){void 0===t&&(i(),t=setTimeout((function(){t=void 0}),300))})).observe(document,{attributes:!0,childList:!0,subtree:!0}),setInterval(i,300)}.toString(),id:"watchResize"}],J=function(e){function t(t,n,i){void 0===i&&(i={});var o=e.call(this,t,n,(0,r.h)((0,r.h)({},i),{bundlerURL:i.bundlerURL}))||this;return o._modulesCache=new Map,o.messageChannelId=(0,H.g)(),o._initPromise=null,o.emitter=new H.E,o.manageIframes(t),o.emulator=new Y({iframe:o.emulatorIframe,runtimeUrl:o.options.bundlerURL}),o.updateSandbox(n),o}return(0,r.g)(t,e),t.prototype._init=function(e){return(0,r._)(this,void 0,void 0,(function(){return(0,r.a)(this,(function(t){switch(t.label){case 0:return[4,this.emulator.connect()];case 1:return t.sent(),[4,this.emulator.fs.init(e)];case 2:return t.sent(),[4,this.globalListeners()];case 3:return t.sent(),[2]}}))}))},t.prototype.compile=function(e){return(0,r._)(this,void 0,void 0,(function(){var t,n;return(0,r.a)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.status="initializing",this.dispatch({type:"start",firstLoad:!0}),this._initPromise||(this._initPromise=this._init(e)),[4,this._initPromise];case 1:return r.sent(),this.dispatch({type:"connected"}),[4,this.createShellProcessFromTask(e)];case 2:return t=r.sent().id,[4,this.createPreviewURLFromId(t)];case 3:return r.sent(),[4,this.setLocationURLIntoIFrame()];case 4:return r.sent(),this.dispatchDoneMessage(),[3,6];case 5:return n=r.sent(),this.dispatch({type:"action",action:"notification",notificationType:"error",title:(0,H.a)(n)}),this.dispatch({type:"done",compilatonError:!0}),[3,6];case 6:return[2]}}))}))},t.prototype.createShellProcessFromTask=function(e){return(0,r._)(this,void 0,void 0,(function(){var t,n,i=this;return(0,r.a)(this,(function(o){switch(o.label){case 0:return t=(0,H.r)(e["/package.json"]),this.emulatorCommand=(0,H.b)(t),this.emulatorShellProcess=this.emulator.shell.create(),[4,this.emulatorShellProcess.on("exit",(function(e){i.dispatch({type:"action",action:"notification",notificationType:"error",title:(0,r.c)("Error: process.exit(".concat(e,") called."))})}))];case 1:return o.sent(),[4,this.emulatorShellProcess.on("progress",(function(e){var t,n;if("command_running"===e.state||"starting_command"===e.state)return i.dispatch({type:"shell/progress",data:(0,r.h)((0,r.h)({},e),{command:[null===(t=i.emulatorCommand)||void 0===t?void 0:t[0],null===(n=i.emulatorCommand)||void 0===n?void 0:n[1].join(" ")].join(" ")})}),void(i.status="installing-dependencies");i.dispatch({type:"shell/progress",data:e})}))];case 2:return o.sent(),this.emulatorShellProcess.stdout.on("data",(function(e){i.dispatch({type:"stdout",payload:{data:e,type:"out"}})})),this.emulatorShellProcess.stderr.on("data",(function(e){i.dispatch({type:"stdout",payload:{data:e,type:"err"}})})),[4,(n=this.emulatorShellProcess).runCommand.apply(n,this.emulatorCommand)];case 3:return[2,o.sent()]}}))}))},t.prototype.createPreviewURLFromId=function(e){var t;return(0,r._)(this,void 0,void 0,(function(){var n;return(0,r.a)(this,(function(r){switch(r.label){case 0:return this.iframePreviewUrl=void 0,[4,this.emulator.preview.getByShellId(e)];case 1:return n=r.sent().url,this.iframePreviewUrl=n+(null!==(t=this.options.startRoute)&&void 0!==t?t:""),[2]}}))}))},t.prototype.manageIframes=function(e){var t,n,i;if("string"==typeof e){var o=document.querySelector(e);(0,r.n)(o,"The element '".concat(e,"' was not found")),this.iframe=document.createElement("iframe"),null==o||o.appendChild(this.iframe)}else this.iframe=e;n=this.iframe,i=this.options,n.style.border="0",n.style.width=i.width||"100%",n.style.height=i.height||"100%",n.style.overflow="hidden",n.allow="cross-origin-isolated",(0,r.n)(this.iframe.parentNode,"The given iframe does not have a parent."),this.emulatorIframe=document.createElement("iframe"),this.emulatorIframe.classList.add("sp-bridge-frame"),null===(t=this.iframe.parentNode)||void 0===t||t.appendChild(this.emulatorIframe)},t.prototype.setLocationURLIntoIFrame=function(){return(0,r._)(this,void 0,void 0,(function(){return(0,r.a)(this,(function(e){switch(e.label){case 0:return this.iframePreviewUrl?[4,G(this.iframe,this.iframePreviewUrl)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.dispatchDoneMessage=function(){this.status="done",this.dispatch({type:"done",compilatonError:!1}),this.iframePreviewUrl&&this.dispatch({type:"urlchange",url:this.iframePreviewUrl,back:!1,forward:!1})},t.prototype.globalListeners=function(){return(0,r._)(this,void 0,void 0,(function(){var e=this;return(0,r.a)(this,(function(t){switch(t.label){case 0:return window.addEventListener("message",(function(t){var n,r;"PREVIEW_LOADED"===t.data.type&&(n=e.iframe,r=e.messageChannelId,K.forEach((function(e){var t,i=e.code,o={uid:e.id,type:"INJECT_AND_INVOKE",code:"exports.activate = ".concat(i),scope:{channelId:r}};null===(t=n.contentWindow)||void 0===t||t.postMessage(o,"*")}))),"urlchange"===t.data.type&&t.data.channelId===e.messageChannelId?e.dispatch({type:"urlchange",url:t.data.url,back:t.data.back,forward:t.data.forward}):t.data.channelId===e.messageChannelId&&e.dispatch(t.data)})),[4,this.emulator.fs.watch(["*"],[".next","node_modules","build","dist","vendor",".config",".vuepress"],(function(t){return(0,r._)(e,void 0,void 0,(function(){var e,n,i,o,s;return(0,r.a)(this,(function(r){switch(r.label){case 0:return t?(n="newPath"in(e=t)?e.newPath:"path"in e?e.path:"",[4,this.emulator.fs.stat(n)]):[2];case 1:if("file"!==r.sent().type)return[2,null];r.label=2;case 2:switch(r.trys.push([2,10,,11]),e.type){case"change":case"create":return[3,3];case"remove":return[3,5];case"rename":return[3,6];case"close":return[3,8]}return[3,9];case 3:return[4,this.emulator.fs.readFile(e.path,"utf8")];case 4:return i=r.sent(),this.dispatch({type:"fs/change",path:e.path,content:i}),this._modulesCache.set(e.path,(0,H.w)(i)),[3,9];case 5:return this.dispatch({type:"fs/remove",path:e.path}),this._modulesCache.delete(e.path),[3,9];case 6:return this.dispatch({type:"fs/remove",path:e.oldPath}),this._modulesCache.delete(e.oldPath),[4,this.emulator.fs.readFile(e.newPath,"utf8")];case 7:return o=r.sent(),this.dispatch({type:"fs/change",path:e.newPath,content:o}),this._modulesCache.set(e.newPath,(0,H.w)(o)),[3,9];case 8:return[3,9];case 9:return[3,11];case 10:return s=r.sent(),this.dispatch({type:"action",action:"notification",notificationType:"error",title:(0,H.a)(s)}),[3,11];case 11:return[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},t.prototype.restartShellProcess=function(){var e;return(0,r._)(this,void 0,void 0,(function(){return(0,r.a)(this,(function(t){switch(t.label){case 0:return this.emulatorShellProcess&&this.emulatorCommand?(this.dispatch({type:"start",firstLoad:!0}),this.status="initializing",[4,this.emulatorShellProcess.kill()]):[3,3];case 1:return t.sent(),null===(e=this.iframe)||void 0===e||e.removeAttribute("attr"),this.emulator.fs.rm("/node_modules/.vite",{recursive:!0,force:!0}),[4,this.compile(Object.fromEntries(this._modulesCache))];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},t.prototype.updateSandbox=function(e){var t,n=this,r=(0,H.f)(e.files);"running"!==(null===(t=this.emulatorShellProcess)||void 0===t?void 0:t.state)?(this.dispatch({codesandbox:!0,modules:r,template:e.template,type:"compile"}),Object.entries(r).forEach((function(e){var t=e[0],r=e[1];n._modulesCache.set(t,(0,H.w)(r))}))):Object.entries(r).forEach((function(e){var t=e[0],r=e[1];n._modulesCache.get(t)&&(0,H.r)(r)===(0,H.r)(n._modulesCache.get(t))||n.emulator.fs.writeFile(t,r,{recursive:!0})}))},t.prototype.dispatch=function(e){var t,n;return(0,r._)(this,void 0,void 0,(function(){return(0,r.a)(this,(function(r){switch(r.label){case 0:switch(e.type){case"compile":return[3,1];case"refresh":return[3,2];case"urlback":case"urlforward":return[3,4];case"shell/restart":return[3,5];case"shell/openPreview":return[3,6]}return[3,7];case 1:return this.compile(e.modules),[3,8];case 2:return[4,this.setLocationURLIntoIFrame()];case 3:return r.sent(),[3,8];case 4:return null===(n=null===(t=this.iframe)||void 0===t?void 0:t.contentWindow)||void 0===n||n.postMessage(e,"*"),[3,8];case 5:return this.restartShellProcess(),[3,8];case 6:return window.open(this.iframePreviewUrl,"_blank"),[3,8];case 7:this.emitter.dispatch(e),r.label=8;case 8:return[2]}}))}))},t.prototype.listen=function(e){return this.emitter.listener(e)},t.prototype.destroy=function(){this.emulatorIframe.remove(),this.emitter.cleanup()},t}(X.S)},6162:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SandpackRuntime:()=>u});var r=n(12824),i=n(9996),o=n(20231),s=(n(56223),function(){function e(e,t,n){var i=this;this.type=e,this.handleMessage=t,this.protocol=n,this._disposeMessageListener=this.protocol.channelListen((function(e){return(0,r._)(i,void 0,void 0,(function(){var t,n,i,o;return(0,r.a)(this,(function(r){switch(r.label){case 0:if(e.type!==this.getTypeId()||!e.method)return[3,4];t=e,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.handleMessage(t)];case 2:return n=r.sent(),o={type:this.getTypeId(),msgId:t.msgId,result:n},this.protocol.dispatch(o),[3,4];case 3:return i=r.sent(),o={type:this.getTypeId(),msgId:t.msgId,error:{message:i.message}},this.protocol.dispatch(o),[3,4];case 4:return[2]}}))}))}))}return e.prototype.getTypeId=function(){return"protocol-".concat(this.type)},e.prototype.dispose=function(){this._disposeMessageListener()},e}()),a=function(){function e(e,t){this.globalListeners={},this.globalListenersCount=0,this.channelListeners={},this.channelListenersCount=0,this.channelId=Math.floor(1e6*Math.random()),this.frameWindow=e.contentWindow,this.origin=t,this.globalListeners=[],this.channelListeners=[],this.eventListener=this.eventListener.bind(this),"undefined"!=typeof window&&window.addEventListener("message",this.eventListener)}return e.prototype.cleanup=function(){window.removeEventListener("message",this.eventListener),this.globalListeners={},this.channelListeners={},this.globalListenersCount=0,this.channelListenersCount=0},e.prototype.register=function(){this.frameWindow&&this.frameWindow.postMessage({type:"register-frame",origin:document.location.origin,id:this.channelId},this.origin)},e.prototype.dispatch=function(e){this.frameWindow&&this.frameWindow.postMessage((0,r.h)({$id:this.channelId,codesandbox:!0},e),this.origin)},e.prototype.globalListen=function(e){var t=this;if("function"!=typeof e)return function(){};var n=this.globalListenersCount;return this.globalListeners[n]=e,this.globalListenersCount++,function(){delete t.globalListeners[n]}},e.prototype.channelListen=function(e){var t=this;if("function"!=typeof e)return function(){};var n=this.channelListenersCount;return this.channelListeners[n]=e,this.channelListenersCount++,function(){delete t.channelListeners[n]}},e.prototype.eventListener=function(e){if(e.source===this.frameWindow){var t=e.data;t.codesandbox&&(Object.values(this.globalListeners).forEach((function(e){return e(t)})),t.$id===this.channelId&&Object.values(this.channelListeners).forEach((function(e){return e(t)})))}},e}();function c(e,t){if(!e)return"static";var n=e.dependencies,i=void 0===n?{}:n,o=e.devDependencies,s=void 0===o?{}:o,a=(0,r.i)((0,r.i)([],Object.keys(i),!0),Object.keys(s),!0),c=Object.keys(t),l=["@adonisjs/framework","@adonisjs/core"];if(a.some((function(e){return l.indexOf(e)>-1})))return"adonis";var u=["nuxt","nuxt-edge","nuxt-ts","nuxt-ts-edge","nuxt3"];if(a.some((function(e){return u.indexOf(e)>-1})))return"nuxt";if(a.indexOf("next")>-1)return"next";var d=["apollo-server","apollo-server-express","apollo-server-hapi","apollo-server-koa","apollo-server-lambda","apollo-server-micro"];if(a.some((function(e){return d.indexOf(e)>-1})))return"apollo";if(a.indexOf("mdx-deck")>-1)return"mdx-deck";if(a.indexOf("gridsome")>-1)return"gridsome";if(a.indexOf("vuepress")>-1)return"vuepress";if(a.indexOf("ember-cli")>-1)return"ember";if(a.indexOf("sapper")>-1)return"sapper";if(a.indexOf("gatsby")>-1)return"gatsby";if(a.indexOf("quasar")>-1)return"quasar";if(a.indexOf("@docusaurus/core")>-1)return"docusaurus";if(a.indexOf("remix")>-1)return"remix";if(a.indexOf("astro")>-1)return"node";if(c.some((function(e){return e.endsWith(".re")})))return"reason";var h=["parcel-bundler","parcel"];if(a.some((function(e){return h.indexOf(e)>-1})))return"parcel";var p=["@dojo/core","@dojo/framework"];if(a.some((function(e){return p.indexOf(e)>-1})))return"@dojo/cli-create-app";if(a.indexOf("@nestjs/core")>-1||a.indexOf("@nestjs/common")>-1)return"nest";if(a.indexOf("react-styleguidist")>-1)return"styleguidist";if(a.indexOf("react-scripts")>-1)return"create-react-app";if(a.indexOf("react-scripts-ts")>-1)return"create-react-app-typescript";if(a.indexOf("@angular/core")>-1)return"angular-cli";if(a.indexOf("preact-cli")>-1)return"preact-cli";if(a.indexOf("@sveltech/routify")>-1||a.indexOf("@roxi/routify")>-1)return"node";if(a.indexOf("vite")>-1)return"node";if(a.indexOf("@frontity/core")>-1)return"node";if(a.indexOf("svelte")>-1)return"svelte";if(a.indexOf("vue")>-1)return"vue-cli";if(a.indexOf("cx")>-1)return"cxjs";var f=["express","koa","nodemon","ts-node","@tensorflow/tfjs-node","webpack-dev-server","snowpack"];return a.some((function(e){return f.indexOf(e)>-1}))||Object.keys(i).length>=50?"node":void 0}var l="https://".concat(null==="2.13.7"?void 0:"2.13.7".replace(/\./g,"-"),"-sandpack.codesandbox.io/"),u=function(e){function t(t,n,i){void 0===i&&(i={});var o=e.call(this,t,n,i)||this;if(o.getTranspilerContext=function(){return new Promise((function(e){var t=o.listen((function(n){"transpiler-context"===n.type&&(e(n.data),t())}));o.dispatch({type:"get-transpiler-context"})}))},o.bundlerURL=i.bundlerURL||l,i.teamId&&(o.bundlerURL=o.bundlerURL.replace("https://","https://"+i.teamId+"-")+"?cache=".concat(Date.now())),o.bundlerState=void 0,o.errors=[],o.status="initializing","string"==typeof t){o.selector=t;var c=document.querySelector(t);(0,r.n)(c,"The element '".concat(t,"' was not found")),o.element=c,o.iframe=document.createElement("iframe"),o.initializeElement()}else o.element=t,o.iframe=t;return o.iframe.getAttribute("sandbox")||(o.iframe.setAttribute("sandbox","allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts allow-downloads allow-pointer-lock"),o.iframe.setAttribute("allow","accelerometer; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; clipboard-write;")),o.setLocationURLIntoIFrame(),o.iframeProtocol=new a(o.iframe,o.bundlerURL),o.unsubscribeGlobalListener=o.iframeProtocol.globalListen((function(e){"initialized"===e.type&&o.iframe.contentWindow&&(o.iframeProtocol.register(),o.options.fileResolver&&(o.fileResolverProtocol=new s("fs",(function(e){return(0,r._)(o,void 0,void 0,(function(){return(0,r.a)(this,(function(t){if("isFile"===e.method)return[2,this.options.fileResolver.isFile(e.params[0])];if("readFile"===e.method)return[2,this.options.fileResolver.readFile(e.params[0])];throw new Error("Method not supported")}))}))}),o.iframeProtocol)),o.updateSandbox(o.sandboxSetup,!0))})),o.unsubscribeChannelListener=o.iframeProtocol.channelListen((function(e){switch(e.type){case"start":o.errors=[];break;case"status":o.status=e.status;break;case"action":"show-error"===e.action&&(o.errors=(0,r.i)((0,r.i)([],o.errors,!0),[(0,r.e)(e)],!1));break;case"done":o.status="done";break;case"state":o.bundlerState=e.state}})),o}return(0,r.g)(t,e),t.prototype.setLocationURLIntoIFrame=function(){var e,t=this.options.startRoute?new URL(this.options.startRoute,this.bundlerURL).toString():this.bundlerURL;null===(e=this.iframe.contentWindow)||void 0===e||e.location.replace(t),this.iframe.src=t},t.prototype.destroy=function(){this.unsubscribeChannelListener(),this.unsubscribeGlobalListener(),this.iframeProtocol.cleanup()},t.prototype.updateOptions=function(e){(0,i.j)(this.options,e)||(this.options=e,this.updateSandbox())},t.prototype.updateSandbox=function(e,t){var n,i,o,s;void 0===e&&(e=this.sandboxSetup),this.sandboxSetup=(0,r.h)((0,r.h)({},this.sandboxSetup),e);var a=this.getFiles(),l=Object.keys(a).reduce((function(e,t){var n;return(0,r.h)((0,r.h)({},e),((n={})[t]={code:a[t].code,path:t},n))}),{}),u=JSON.parse((0,r.b)(this.sandboxSetup.dependencies,this.sandboxSetup.devDependencies,this.sandboxSetup.entry));try{u=JSON.parse(a["/package.json"].code)}catch(e){console.error((0,r.c)("could not parse package.json file: "+e.message))}var d=Object.keys(a).reduce((function(e,t){var n;return(0,r.h)((0,r.h)({},e),((n={})[t]={content:a[t].code,path:t},n))}),{});this.dispatch((0,r.h)((0,r.h)({},this.options),{type:"compile",codesandbox:!0,version:3,isInitializationCompile:t,modules:l,reactDevTools:this.options.reactDevTools,externalResources:this.options.externalResources||[],hasFileResolver:Boolean(this.options.fileResolver),disableDependencyPreprocessing:this.sandboxSetup.disableDependencyPreprocessing,template:this.sandboxSetup.template||c(u,d),showOpenInCodeSandbox:null===(n=this.options.showOpenInCodeSandbox)||void 0===n||n,showErrorScreen:null===(i=this.options.showErrorScreen)||void 0===i||i,showLoadingScreen:null!==(o=this.options.showLoadingScreen)&&void 0!==o&&o,skipEval:this.options.skipEval||!1,clearConsoleDisabled:!this.options.clearConsoleOnFirstCompile,logLevel:null!==(s=this.options.logLevel)&&void 0!==s?s:r.S.Info,customNpmRegistries:this.options.customNpmRegistries,teamId:this.options.teamId,sandboxId:this.options.sandboxId}))},t.prototype.dispatch=function(e){"refresh"===e.type&&this.setLocationURLIntoIFrame(),this.iframeProtocol.dispatch(e)},t.prototype.listen=function(e){return this.iframeProtocol.channelListen(e)},t.prototype.getCodeSandboxURL=function(){var e=this.getFiles(),t=Object.keys(e).reduce((function(t,n){var i;return(0,r.h)((0,r.h)({},t),((i={})[n.replace("/","")]={content:e[n].code,isBinary:!1},i))}),{});return fetch("https://codesandbox.io/api/v1/sandboxes/define?json=1",{method:"POST",body:JSON.stringify({files:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return{sandboxId:e.sandbox_id,editorUrl:"https://codesandbox.io/s/".concat(e.sandbox_id),embedUrl:"https://codesandbox.io/embed/".concat(e.sandbox_id)}}))},t.prototype.getFiles=function(){var e=this.sandboxSetup;return void 0===e.files["/package.json"]?(0,r.d)(e.files,e.dependencies,e.devDependencies,e.entry):this.sandboxSetup.files},t.prototype.initializeElement=function(){this.iframe.style.border="0",this.iframe.style.width=this.options.width||"100%",this.iframe.style.height=this.options.height||"100%",this.iframe.style.overflow="hidden",(0,r.n)(this.element.parentNode,"The given iframe does not have a parent."),this.element.parentNode.replaceChild(this.iframe,this.element)},t}(o.S)},94909:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,a:()=>b,b:()=>v,c:()=>x,f:()=>y,g:()=>f,r:()=>g,w:()=>m});var r,i=n(56223),o=n(12824),s=function(){function e(){this.listeners={},this.listenersCount=0,this.channelId=Math.floor(1e6*Math.random()),this.listeners=[]}return e.prototype.cleanup=function(){this.listeners={},this.listenersCount=0},e.prototype.dispatch=function(e){Object.values(this.listeners).forEach((function(t){return t(e)}))},e.prototype.listener=function(e){var t=this;if("function"!=typeof e)return function(){};var n=this.listenersCount;return this.listeners[n]=e,this.listenersCount++,function(){delete t.listeners[n]}},e}();function a(e){return/[a-zA-Z.]/.test(e)}function c(e){return/[a-zA-Z]/.test(e)}function l(e){return/[&|]/.test(e)}function u(e){return/-/.test(e)}function d(e){return c(e)&&e===e.toUpperCase()}!function(e){e.OR="OR",e.AND="AND",e.PIPE="PIPE",e.Command="Command",e.Argument="Argument",e.String="String",e.EnvVar="EnvVar"}(r||(r={}));var h=new Map([["&&",{type:r.AND}],["||",{type:r.OR}],["|",{type:r.PIPE}],["-",{type:r.Argument}]]),p=0;function f(){var e=Date.now(),t=Math.round(1e4*Math.random()),n=p+=1;return(+"".concat(e).concat(t).concat(n)).toString(16)}var m=function(e){return"string"==typeof e?(new TextEncoder).encode(e):e},g=function(e){return"string"==typeof e?e:(new TextDecoder).decode(e)},y=function(e){return Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=m(r.code),e}),{})},v=function(e){var t={},n=["dev","start"];try{t=JSON.parse(e).scripts}catch(e){throw(0,o.c)("Could not parse package.json file: "+e.message)}(0,i.V1)(t,"Failed to start. Please provide a `start` or `dev` script on the package.json");for(var s=function(e){if(n[e]in t){var i=t[n[e]],o={},s="",p=[];return function(e){var t,n=0,i=[];function o(){for(var t="";a(e[n])&&n<e.length;)t+=e[n],n++;return{type:r.Command,value:t}}function s(){for(var t="";l(e[n])&&n<e.length;)t+=e[n],n++;return h.get(t)}function p(){for(var t="";(u(e[n])||c(e[n]))&&n<e.length;)t+=e[n],n++;return{type:r.Argument,value:t}}function f(){var t=e[n],i=e[n];for(n++;e[n]!==t&&n<e.length;)i+=e[n],n++;return i+=e[n],n++,{type:r.String,value:i}}function m(){for(var t={},i=function(){for(var r="",i="";"="!==e[n]&&n<e.length;)r+=e[n],n++;for("="===e[n]&&n++;" "!==e[n]&&n<e.length;)i+=e[n],n++;t[r]=i};d(e[n])&&n<e.length;)i(),n++;return{type:r.EnvVar,value:t}}for(;n<e.length;){var g=e[n];if(/\s/.test(g))n++;else switch(!0){case d(g):i.push(m());break;case a(g):i.push(o());break;case l(g):i.push(s());break;case u(g):i.push(p());break;case t=g,/["']/.test(t):i.push(f());break;default:throw new Error("Unknown character: ".concat(g))}}return i}(i).forEach((function(e){var t=""===s;e.type===r.EnvVar&&(o=e.value),e.type===r.Command&&t&&(s=e.value),(e.type===r.Argument||!t&&e.type===r.Command)&&p.push(e.value)})),{value:[s,p,{env:o}]}}},p=0;p<n.length;p++){var f=s(p);if("object"==typeof f)return f.value}throw(0,o.c)("Failed to start. Please provide a `start` or `dev` script on the package.json")},b=function(e){return"string"==typeof e?e:"object"==typeof e&&"message"in e?e.message:(0,o.c)("The server could not be reached. Make sure that the node script is running and that a port has been started.")},x='var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e={},n={};!function(t){t.__esModule=!0,t.default=["log","debug","info","warn","error","table","clear","time","timeEnd","count","assert","command","result"]}(n);var a,o={},i={};(a=i).__esModule=!0,a.default=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+"-"+Date.now()};var u={},s={__esModule:!0};s.update=s.state=void 0,s.update=function(t){s.state=t};var f={},c={};!function(r){var e=t&&t.__assign||function(){return e=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);return t},e.apply(this,arguments)};r.__esModule=!0,r.initialState=void 0,r.initialState={timings:{},count:{}};var n=function(){return"undefined"!=typeof performance&&performance.now?performance.now():Date.now()};r.default=function(t,a){var o,i,u;switch(void 0===t&&(t=r.initialState),a.type){case"COUNT":var s=t.count[a.name]||0;return e(e({},t),{count:e(e({},t.count),(o={},o[a.name]=s+1,o))});case"TIME_START":return e(e({},t),{timings:e(e({},t.timings),(i={},i[a.name]={start:n()},i))});case"TIME_END":var f=t.timings[a.name],c=n(),l=c-f.start;return e(e({},t),{timings:e(e({},t.timings),(u={},u[a.name]=e(e({},f),{end:c,time:l}),u))});default:return t}}}(c),function(r){var e=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};r.__esModule=!0;var n=e(c),a=s;r.default=function(t){a.update(n.default(a.state,t))}}(f);var l={__esModule:!0};l.timeEnd=l.timeStart=l.count=void 0,l.count=function(t){return{type:"COUNT",name:t}},l.timeStart=function(t){return{type:"TIME_START",name:t}},l.timeEnd=function(t){return{type:"TIME_END",name:t}};var d=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};u.__esModule=!0,u.stop=u.start=void 0;var p=s,h=d(f),m=l;u.start=function(t){h.default(m.timeStart(t))},u.stop=function(t){var r=null===p.state||void 0===p.state?void 0:p.state.timings[t];return r&&!r.end?(h.default(m.timeEnd(t)),{method:"log",data:[t+": "+p.state.timings[t].time+"ms"]}):{method:"warn",data:["Timer \'"+t+"\' does not exist"]}};var y={},v=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};y.__esModule=!0,y.increment=void 0;var _=s,b=v(f),g=l;y.increment=function(t){return b.default(g.count(t)),{method:"log",data:[t+": "+_.state.count[t]]}};var M={},T=t&&t.__spreadArrays||function(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;var n=Array(t),a=0;for(r=0;r<e;r++)for(var o=arguments[r],i=0,u=o.length;i<u;i++,a++)n[a]=o[i];return n};M.__esModule=!0,M.test=void 0,M.test=function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return!t&&(0===r.length&&r.push("console.assert"),{method:"error",data:T(["Assertion failed:"],r)})},function(r){var e=t&&t.__assign||function(){return e=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);return t},e.apply(this,arguments)},n=t&&t.__createBinding||(Object.create?function(t,r,e,n){void 0===n&&(n=e),Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[e]}})}:function(t,r,e,n){void 0===n&&(n=e),t[n]=r[e]}),a=t&&t.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),o=t&&t.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&n(r,t,e);return a(r,t),r},s=t&&t.__spreadArrays||function(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;var n=Array(t),a=0;for(r=0;r<e;r++)for(var o=arguments[r],i=0,u=o.length;i<u;i++,a++)n[a]=o[i];return n},f=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};r.__esModule=!0;var c=f(i),l=o(u),d=o(y),p=o(M);r.default=function(t,r,n){var a=n||c.default();switch(t){case"clear":return{method:t,id:a};case"count":return!!(o="string"==typeof r[0]?r[0]:"default")&&e(e({},d.increment(o)),{id:a});case"time":case"timeEnd":var o;return!!(o="string"==typeof r[0]?r[0]:"default")&&("time"===t?(l.start(o),!1):e(e({},l.stop(o)),{id:a}));case"assert":if(0!==r.length){var i=p.test.apply(p,s([r[0]],r.slice(1)));if(i)return e(e({},i),{id:a})}return!1;case"error":return{method:t,id:a,data:r.map((function(t){try{return t.stack||t}catch(r){return t}}))};default:return{method:t,id:a,data:r}}}}(o);var S={},O={};!function(t){var r;t.__esModule=!0,function(t){t[t.infinity=0]="infinity",t[t.minusInfinity=1]="minusInfinity",t[t.minusZero=2]="minusZero"}(r||(r={})),t.default={type:"Arithmetic",lookup:Number,shouldTransform:function(t,r){return"number"===t&&(r===1/0||r===-1/0||function(t){return 1/t==-1/0}(r))},toSerializable:function(t){return t===1/0?r.infinity:t===-1/0?r.minusInfinity:r.minusZero},fromSerializable:function(t){return t===r.infinity?1/0:t===r.minusInfinity?-1/0:t===r.minusZero?-0:t}}}(O);var w={};!function(t){t.__esModule=!0,t.default={type:"Function",lookup:Function,shouldTransform:function(t,r){return"function"==typeof r},toSerializable:function(t){var r="";try{r=t.toString().substring(r.indexOf("{")+1,r.lastIndexOf("}"))}catch(t){}return{name:t.name,body:r,proto:Object.getPrototypeOf(t).constructor.name}},fromSerializable:function(t){try{var r=function(){};return"string"==typeof t.name&&Object.defineProperty(r,"name",{value:t.name,writable:!1}),"string"==typeof t.body&&Object.defineProperty(r,"body",{value:t.body,writable:!1}),"string"==typeof t.proto&&(r.constructor={name:t.proto}),r}catch(r){return t}}}}(w);var A={};!function(t){var r;function e(t){for(var r={},e=0,n=t.attributes;e<n.length;e++){var a=n[e];r[a.name]=a.value}return r}t.__esModule=!0,t.default={type:"HTMLElement",shouldTransform:function(t,r){return r&&r.children&&"string"==typeof r.innerHTML&&"string"==typeof r.tagName},toSerializable:function(t){return{tagName:t.tagName.toLowerCase(),attributes:e(t),innerHTML:t.innerHTML}},fromSerializable:function(t){try{var e=(r||(r=document.implementation.createHTMLDocument("sandbox"))).createElement(t.tagName);e.innerHTML=t.innerHTML;for(var n=0,a=Object.keys(t.attributes);n<a.length;n++){var o=a[n];try{e.setAttribute(o,t.attributes[o])}catch(t){}}return e}catch(r){return t}}}}(A);var j={};!function(r){var e=t&&t.__assign||function(){return e=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);return t},e.apply(this,arguments)};r.__esModule=!0,r.default={type:"Map",shouldTransform:function(t,r){return r&&r.constructor&&"Map"===r.constructor.name},toSerializable:function(t){var r={};return t.forEach((function(t,e){var n="object"==typeof e?JSON.stringify(e):e;r[n]=t})),{name:"Map",body:r,proto:Object.getPrototypeOf(t).constructor.name}},fromSerializable:function(t){var r=t.body,n=e({},r);return"string"==typeof t.proto&&(n.constructor={name:t.proto}),n}}}(j);var z={};!function(t){t.__esModule=!0;var r="@t",e=/^#*@(t|r)$/,n=(0,eval)("this"),a="function"==typeof ArrayBuffer,o="function"==typeof Map,i="function"==typeof Set,u=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],s=Array.prototype.slice,f={serialize:function(t){return JSON.stringify(t)},deserialize:function(t){return JSON.parse(t)}},c=function(){function t(t,r){this.references=t,this.transforms=r,this.transformsMap=this._makeTransformsMap(),this.circularCandidates=[],this.circularCandidatesDescrs=[],this.circularRefCount=0}return t._createRefMark=function(t){var r=Object.create(null);return r["@r"]=t,r},t.prototype._createCircularCandidate=function(t,r,e){this.circularCandidates.push(t),this.circularCandidatesDescrs.push({parent:r,key:e,refIdx:-1})},t.prototype._applyTransform=function(t,e,n,a){var o=Object.create(null),i=a.toSerializable(t);return"object"==typeof i&&this._createCircularCandidate(t,e,n),o[r]=a.type,o.data=this._handleValue((function(){return i}),e,n),o},t.prototype._handleArray=function(t){for(var r=[],e=function(e){r[e]=n._handleValue((function(){return t[e]}),r,e)},n=this,a=0;a<t.length;a++)e(a);return r},t.prototype._handlePlainObject=function(t){var r,n,a=Object.create(null),o=function(r){if(Reflect.has(t,r)){var n=e.test(r)?"#"+r:r;a[n]=i._handleValue((function(){return t[r]}),a,n)}},i=this;for(var u in t)o(u);var s=null===(n=null===(r=null==t?void 0:t.__proto__)||void 0===r?void 0:r.constructor)||void 0===n?void 0:n.name;return s&&"Object"!==s&&(a.constructor={name:s}),a},t.prototype._handleObject=function(t,r,e){return this._createCircularCandidate(t,r,e),Array.isArray(t)?this._handleArray(t):this._handlePlainObject(t)},t.prototype._ensureCircularReference=function(r){var e=this.circularCandidates.indexOf(r);if(e>-1){var n=this.circularCandidatesDescrs[e];return-1===n.refIdx&&(n.refIdx=n.parent?++this.circularRefCount:0),t._createRefMark(n.refIdx)}return null},t.prototype._handleValue=function(t,r,e){try{var n=t(),a=typeof n,o="object"===a&&null!==n;if(o){var i=this._ensureCircularReference(n);if(i)return i}var u=this._findTransform(a,n);return u?this._applyTransform(n,r,e,u):o?this._handleObject(n,r,e):n}catch(t){try{return this._handleValue((function(){return t instanceof Error?t:new Error(t)}),r,e)}catch(t){return null}}},t.prototype._makeTransformsMap=function(){if(o){var t=new Map;return this.transforms.forEach((function(r){r.lookup&&t.set(r.lookup,r)})),t}},t.prototype._findTransform=function(t,r){if(o&&r&&r.constructor&&(null==(a=this.transformsMap.get(r.constructor))?void 0:a.shouldTransform(t,r)))return a;for(var e=0,n=this.transforms;e<n.length;e++){var a;if((a=n[e]).shouldTransform(t,r))return a}},t.prototype.transform=function(){for(var r=this,e=[this._handleValue((function(){return r.references}),null,null)],n=0,a=this.circularCandidatesDescrs;n<a.length;n++){var o=a[n];o.refIdx>0&&(e[o.refIdx]=o.parent[o.key],o.parent[o.key]=t._createRefMark(o.refIdx))}return e},t}(),l=function(){function t(t,r){this.activeTransformsStack=[],this.visitedRefs=Object.create(null),this.references=t,this.transformMap=r}return t.prototype._handlePlainObject=function(t){var r=Object.create(null);for(var n in"constructor"in t&&(t.constructor&&"string"==typeof t.constructor.name||(t.constructor={name:"Object"})),t)t.hasOwnProperty(n)&&(this._handleValue(t[n],t,n),e.test(n)&&(r[n.substring(1)]=t[n],delete t[n]));for(var a in r)t[a]=r[a]},t.prototype._handleTransformedObject=function(t,e,n){var a=t[r],o=this.transformMap[a];if(!o)throw new Error("Can\'t find transform for \\""+a+\'" type.\');this.activeTransformsStack.push(t),this._handleValue(t.data,t,"data"),this.activeTransformsStack.pop(),e[n]=o.fromSerializable(t.data)},t.prototype._handleCircularSelfRefDuringTransform=function(t,r,e){var n=this.references;Object.defineProperty(r,e,{val:void 0,configurable:!0,enumerable:!0,get:function(){return void 0===this.val&&(this.val=n[t]),this.val},set:function(t){this.val=t}})},t.prototype._handleCircularRef=function(t,r,e){this.activeTransformsStack.includes(this.references[t])?this._handleCircularSelfRefDuringTransform(t,r,e):(this.visitedRefs[t]||(this.visitedRefs[t]=!0,this._handleValue(this.references[t],this.references,t)),r[e]=this.references[t])},t.prototype._handleValue=function(t,e,n){if("object"==typeof t&&null!==t){var a=t["@r"];if(void 0!==a)this._handleCircularRef(a,e,n);else if(t[r])this._handleTransformedObject(t,e,n);else if(Array.isArray(t))for(var o=0;o<t.length;o++)this._handleValue(t[o],t,o);else this._handlePlainObject(t)}},t.prototype.transform=function(){return this.visitedRefs[0]=!0,this._handleValue(this.references[0],this.references,0),this.references[0]},t}(),d=[{type:"[[NaN]]",shouldTransform:function(t,r){return"number"===t&&isNaN(r)},toSerializable:function(){return""},fromSerializable:function(){return NaN}},{type:"[[undefined]]",shouldTransform:function(t){return"undefined"===t},toSerializable:function(){return""},fromSerializable:function(){}},{type:"[[Date]]",lookup:Date,shouldTransform:function(t,r){return r instanceof Date},toSerializable:function(t){return t.getTime()},fromSerializable:function(t){var r=new Date;return r.setTime(t),r}},{type:"[[RegExp]]",lookup:RegExp,shouldTransform:function(t,r){return r instanceof RegExp},toSerializable:function(t){var r={src:t.source,flags:""};return t.globalThis&&(r.flags+="g"),t.ignoreCase&&(r.flags+="i"),t.multiline&&(r.flags+="m"),r},fromSerializable:function(t){return new RegExp(t.src,t.flags)}},{type:"[[Error]]",lookup:Error,shouldTransform:function(t,r){return r instanceof Error},toSerializable:function(t){var r,e;return t.stack||null===(e=(r=Error).captureStackTrace)||void 0===e||e.call(r,t),{name:t.name,message:t.message,stack:t.stack}},fromSerializable:function(t){var r=new(n[t.name]||Error)(t.message);return r.stack=t.stack,r}},{type:"[[ArrayBuffer]]",lookup:a&&ArrayBuffer,shouldTransform:function(t,r){return a&&r instanceof ArrayBuffer},toSerializable:function(t){var r=new Int8Array(t);return s.call(r)},fromSerializable:function(t){if(a){var r=new ArrayBuffer(t.length);return new Int8Array(r).set(t),r}return t}},{type:"[[TypedArray]]",shouldTransform:function(t,r){if(a)return ArrayBuffer.isView(r)&&!(r instanceof DataView);for(var e=0,o=u;e<o.length;e++){var i=o[e];if("function"==typeof n[i]&&r instanceof n[i])return!0}return!1},toSerializable:function(t){return{ctorName:t.constructor.name,arr:s.call(t)}},fromSerializable:function(t){return"function"==typeof n[t.ctorName]?new n[t.ctorName](t.arr):t.arr}},{type:"[[Map]]",lookup:o&&Map,shouldTransform:function(t,r){return o&&r instanceof Map},toSerializable:function(t){var r=[];return t.forEach((function(t,e){r.push(e),r.push(t)})),r},fromSerializable:function(t){if(o){for(var r=new Map,e=0;e<t.length;e+=2)r.set(t[e],t[e+1]);return r}for(var n=[],a=0;a<t.length;a+=2)n.push([t[e],t[e+1]]);return n}},{type:"[[Set]]",lookup:i&&Set,shouldTransform:function(t,r){return i&&r instanceof Set},toSerializable:function(t){var r=[];return t.forEach((function(t){r.push(t)})),r},fromSerializable:function(t){if(i){for(var r=new Set,e=0;e<t.length;e++)r.add(t[e]);return r}return t}}],p=function(){function t(t){this.transforms=[],this.transformsMap=Object.create(null),this.serializer=t||f,this.addTransforms(d)}return t.prototype.addTransforms=function(t){for(var r=0,e=t=Array.isArray(t)?t:[t];r<e.length;r++){var n=e[r];if(this.transformsMap[n.type])throw new Error(\'Transform with type "\'+n.type+\'" was already added.\');this.transforms.push(n),this.transformsMap[n.type]=n}return this},t.prototype.removeTransforms=function(t){for(var r=0,e=t=Array.isArray(t)?t:[t];r<e.length;r++){var n=e[r],a=this.transforms.indexOf(n);a>-1&&this.transforms.splice(a,1),delete this.transformsMap[n.type]}return this},t.prototype.encode=function(t){var r=new c(t,this.transforms).transform();return this.serializer.serialize(r)},t.prototype.decode=function(t){var r=this.serializer.deserialize(t);return new l(r,this.transformsMap).transform()},t}();t.default=p}(z);var E=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};S.__esModule=!0,S.Decode=P=S.Encode=void 0;var k=E(O),C=E(w),D=E(A),I=E(j),N=E(z),R=[D.default,C.default,k.default,I.default],x=new N.default;x.addTransforms(R);var P=S.Encode=function(t){return JSON.parse(x.encode(t))};S.Decode=function(t){return x.decode(JSON.stringify(t))},function(r){var e=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};r.__esModule=!0;var a=e(n),i=e(o),u=S;r.default=function(t,r,e){void 0===e&&(e=!0);for(var n=t,o={pointers:{},src:{npm:"https://npmjs.com/package/console-feed",github:"https://github.com/samdenty99/console-feed"}},s=function(t){var a=n[t];n[t]=function(){a.apply(this,arguments);var n=[].slice.call(arguments);setTimeout((function(){var a=i.default(t,n);if(a){var o=a;e&&(o=u.Encode(a)),r(o,a)}}))},o.pointers[t]=a},f=0,c=a.default;f<c.length;f++)s(c[f]);return n.feed=o,n}}(e),r(e)(window.console,(function(t){var r=P(t);parent.postMessage({type:"console",codesandbox:!0,log:Array.isArray(r)?r[0]:r,channelId:scope.channelId},"*")}));\n'},23324:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SandpackStatic:()=>c});var r=n(12824),i=n(304),o=n(94909),s=n(20231),a=(n(56223),n(9996),function(e){return"string"==typeof e?e:(new TextDecoder).decode(e)}),c=function(e){function t(t,n,r){var s;void 0===r&&(r={});var c=e.call(this,t,n,r)||this;if(c.files=new Map,c.status="initializing",c.emitter=new o.E,c.previewController=new i.PreviewController({baseUrl:null!==(s=r.bundlerURL)&&void 0!==s?s:"https://preview.sandpack-static-server.codesandbox.io",getFileContent:function(e){var t=c.files.get(e);if(!t)throw new Error("File not found");if(e.endsWith(".html")||e.endsWith(".htm"))try{t=function(e){var t=a(e),n=(new DOMParser).parseFromString(t,"text/html");n.documentElement.getAttribute("lang")||n.documentElement.setAttribute("lang","en");var r=n.documentElement.outerHTML;return"<!DOCTYPE html>\n".concat(r)}(t),t=c.injectProtocolScript(t),t=c.injectExternalResources(t,r.externalResources),t=c.injectScriptIntoHead(t,{script:o.c,scope:{channelId:(0,o.g)()}})}catch(e){console.error("Runtime injection failed",e)}return t}}),"string"==typeof t){c.selector=t;var l=document.querySelector(t);c.element=l,c.iframe=document.createElement("iframe")}else c.element=t,c.iframe=t;return c.iframe.getAttribute("sandbox")||(c.iframe.setAttribute("sandbox","allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts allow-downloads allow-pointer-lock"),c.iframe.setAttribute("allow","accelerometer; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; clipboard-write;")),c.eventListener=c.eventListener.bind(c),"undefined"!=typeof window&&window.addEventListener("message",c.eventListener),c.updateSandbox(),c}return(0,r.g)(t,e),t.prototype.injectContentIntoHead=function(e,t){var n;return null!==(n=function(e,t,n){var r=/<head[^<>]*>/g.exec(t);if(r&&r.length>=1){var i=r.index+r[0].length;return t.substring(0,i)+n+t.substring(i)}}(0,e=a(e),"\n"+t))&&void 0!==n?n:t+"\n"+e},t.prototype.injectProtocolScript=function(e){return this.injectContentIntoHead(e,'<script>\n  window.addEventListener("message", (message) => {\n    if(message.data.type === "refresh") {\n      window.location.reload();\n    }\n  })\n<\/script>')},t.prototype.injectExternalResources=function(e,t){void 0===t&&(t=[]);var n=t.map((function(e){var t=e.match(/\.([^.]*)$/),n=null==t?void 0:t[1];if("css"===n||e.includes("fonts.googleapis"))return'<link rel="stylesheet" href="'.concat(e,'">');if("js"===n)return'<script src="'.concat(e,'"><\/script>');throw new Error("Unable to determine file type for external resource: ".concat(e))})).join("\n");return this.injectContentIntoHead(e,n)},t.prototype.injectScriptIntoHead=function(e,t){var n=t.script,r=t.scope,i=void 0===r?{}:r,o="\n    <script>\n      const scope = ".concat(JSON.stringify(i),";\n      ").concat(n,"\n    <\/script>\n    ").trim();return this.injectContentIntoHead(e,o)},t.prototype.updateSandbox=function(e,t){void 0===e&&(e=this.sandboxSetup);var n=(0,o.f)(e.files);this.dispatch({codesandbox:!0,modules:n,template:e.template,type:"compile"})},t.prototype.compile=function(e){return(0,r._)(this,void 0,void 0,(function(){var t;return(0,r.a)(this,(function(n){switch(n.label){case 0:return this.files=new Map(Object.entries(e)),[4,this.previewController.initPreview()];case 1:return t=n.sent(),this.iframe.setAttribute("src",t),this.status="done",this.dispatch({type:"done",compilatonError:!1}),this.dispatch({type:"urlchange",url:t,back:!1,forward:!1}),[2]}}))}))},t.prototype.eventListener=function(e){if(e.source===this.iframe.contentWindow){var t=e.data;t.codesandbox&&this.dispatch(t)}},t.prototype.dispatch=function(e){var t;"compile"===e.type?this.compile(e.modules):(null===(t=this.iframe.contentWindow)||void 0===t||t.postMessage(e,"*"),this.emitter.dispatch(e))},t.prototype.listen=function(e){return this.emitter.listener(e)},t.prototype.destroy=function(){this.emitter.cleanup(),"undefined"!=typeof window&&window.removeEventListener("message",this.eventListener)},t}(s.S)},12824:(e,t,n)=>{"use strict";n.d(t,{S:()=>y,_:()=>a,a:()=>c,b:()=>f,c:()=>u,d:()=>m,e:()=>g,f:()=>v,g:()=>o,h:()=>s,i:()=>l,n:()=>d});var r=n(56223),i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var u=function(e){return"[sandpack-client]: ".concat(e)};function d(e,t){return void 0===t&&(t="Value is nullish"),(0,r.V1)(null!=e,u(t)),e}var h='"dependencies" was not specified - provide either a package.json or a "dependencies" value',p='"entry" was not specified - provide either a package.json with the "main" field or an "entry" value';function f(e,t,n){return void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n="/index.js"),JSON.stringify({name:"sandpack-project",main:n,dependencies:e,devDependencies:t},null,2)}function m(e,t,n,r){var i,o,a=v(e),c=a["/package.json"];if(!c)return d(t,h),d(r,p),a["/package.json"]={code:f(t,n,r)},a;if(c){var l=JSON.parse(c.code);d(!(!t&&!l.dependencies),p),t&&(l.dependencies=s(s({},null!==(i=l.dependencies)&&void 0!==i?i:{}),null!=t?t:{})),n&&(l.devDependencies=s(s({},null!==(o=l.devDependencies)&&void 0!==o?o:{}),null!=n?n:{})),r&&(l.main=r),a["/package.json"]={code:JSON.stringify(l,null,2)}}return a}function g(e){var t;if("SyntaxError"===e.title)return{title:e.title,path:e.path,message:e.message,line:e.line,column:e.column};var n=function(e){if(e)return e.find((function(e){return!!e._originalFileName}))}(null===(t=e.payload)||void 0===t?void 0:t.frames);if(!n)return{message:e.message};var r,i,o,s=(i=(r=n)._originalScriptCode[r._originalScriptCode.length-1].lineNumber.toString().length,o=2+i+3+r._originalColumnNumber,r._originalScriptCode.reduce((function(e,t){var n=t.highlight?">":" ",r=t.lineNumber.toString().length===i?"".concat(t.lineNumber):" ".concat(t.lineNumber),s=t.highlight?"\n"+" ".repeat(o)+"^":"";return e+"\n"+n+" "+r+" | "+t.content+s}),"")),a=function(e){return e?" (".concat(e._originalLineNumber,":").concat(e._originalColumnNumber,")"):""}(n),c=function(e,t,n,r){return"".concat(e,": ").concat(t).concat(n,"\n").concat(r)}(n._originalFileName,e.message,a,s);return{message:c,title:e.title,path:n._originalFileName,line:n._originalLineNumber,column:n._originalColumnNumber}}var y,v=function(e){return"string"==typeof e?e.startsWith("/")?e:"/".concat(e):Array.isArray(e)?e.map((function(e){return e.startsWith("/")?e:"/".concat(e)})):"object"==typeof e&&null!==e?Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1];return e[n.startsWith("/")?n:"/".concat(n)]=r,e}),{}):null};!function(e){e[e.None=0]="None",e[e.Error=10]="Error",e[e.Warning=20]="Warning",e[e.Info=30]="Info",e[e.Debug=40]="Debug"}(y||(y={}))},18632:(e,t,n)=>{"use strict";n.d(t,{cW:()=>cg,am:()=>ug,G5:()=>Wg,l5:()=>bm});var r=n(7094),i=n(66438),o="colors",s="sizes",a="space",c={gap:a,gridGap:a,columnGap:a,gridColumnGap:a,rowGap:a,gridRowGap:a,inset:a,insetBlock:a,insetBlockEnd:a,insetBlockStart:a,insetInline:a,insetInlineEnd:a,insetInlineStart:a,margin:a,marginTop:a,marginRight:a,marginBottom:a,marginLeft:a,marginBlock:a,marginBlockEnd:a,marginBlockStart:a,marginInline:a,marginInlineEnd:a,marginInlineStart:a,padding:a,paddingTop:a,paddingRight:a,paddingBottom:a,paddingLeft:a,paddingBlock:a,paddingBlockEnd:a,paddingBlockStart:a,paddingInline:a,paddingInlineEnd:a,paddingInlineStart:a,top:a,right:a,bottom:a,left:a,scrollMargin:a,scrollMarginTop:a,scrollMarginRight:a,scrollMarginBottom:a,scrollMarginLeft:a,scrollMarginX:a,scrollMarginY:a,scrollMarginBlock:a,scrollMarginBlockEnd:a,scrollMarginBlockStart:a,scrollMarginInline:a,scrollMarginInlineEnd:a,scrollMarginInlineStart:a,scrollPadding:a,scrollPaddingTop:a,scrollPaddingRight:a,scrollPaddingBottom:a,scrollPaddingLeft:a,scrollPaddingX:a,scrollPaddingY:a,scrollPaddingBlock:a,scrollPaddingBlockEnd:a,scrollPaddingBlockStart:a,scrollPaddingInline:a,scrollPaddingInlineEnd:a,scrollPaddingInlineStart:a,fontSize:"fontSizes",background:o,backgroundColor:o,backgroundImage:o,borderImage:o,border:o,borderBlock:o,borderBlockEnd:o,borderBlockStart:o,borderBottom:o,borderBottomColor:o,borderColor:o,borderInline:o,borderInlineEnd:o,borderInlineStart:o,borderLeft:o,borderLeftColor:o,borderRight:o,borderRightColor:o,borderTop:o,borderTopColor:o,caretColor:o,color:o,columnRuleColor:o,fill:o,outline:o,outlineColor:o,stroke:o,textDecorationColor:o,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:s,minBlockSize:s,maxBlockSize:s,inlineSize:s,minInlineSize:s,maxInlineSize:s,width:s,minWidth:s,maxWidth:s,height:s,minHeight:s,maxHeight:s,flexBasis:s,gridTemplateColumns:s,gridTemplateRows:s,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},l=(e,t)=>"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t,u=()=>{const e=Object.create(null);return(t,n,...r)=>{const i=(e=>JSON.stringify(e,l))(t);return i in e?e[i]:e[i]=n(t,...r)}},d=Symbol.for("sxs.internal"),h=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),p=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:f}=Object.prototype,m=e=>e.includes("-")?e:e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),g=/\s+(?![^()]*\))/,y=e=>t=>e(..."string"==typeof t?String(t).split(g):[t]),v={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:y(((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e}))),marginInline:y(((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e}))),maxSize:y(((e,t)=>({maxBlockSize:e,maxInlineSize:t||e}))),minSize:y(((e,t)=>({minBlockSize:e,minInlineSize:t||e}))),paddingBlock:y(((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e}))),paddingInline:y(((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e})))},b=/([\d.]+)([^]*)/,x=(e,t)=>e.length?e.reduce(((e,n)=>(e.push(...t.map((e=>e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?`:is(${n})`:n):n+" "+e))),e)),[]):t,O=(e,t)=>e in w&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,((t,n,r,i)=>n+("stretch"===r?`-moz-available${i};${m(e)}:${n}-webkit-fill-available`:`-moz-fit-content${i};${m(e)}:${n}fit-content`)+i)):String(t),w={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},S=e=>e?e+"-":"",k=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,((e,r,i,o,s)=>"$"==o==!!i?e:(r||"--"==o?"calc(":"")+"var(--"+("$"===o?S(t)+(s.includes("$")?"":S(n))+s.replace(/\$/g,"-"):s)+")"+(r||"--"==o?"*"+(r||"")+(i||"1")+")":""))),_=/\s*,\s*(?![^()]*\))/,P=Object.prototype.toString,E=(e,t,n,r,i)=>{let o,s,a;const c=(e,t,n)=>{let l,u;const d=e=>{for(l in e){const f=64===l.charCodeAt(0),g=f&&Array.isArray(e[l])?e[l]:[e[l]];for(u of g){const e=/[A-Z]/.test(p=l)?p:p.replace(/-[^]/g,(e=>e[1].toUpperCase())),g="object"==typeof u&&u&&u.toString===P&&(!r.utils[e]||!t.length);if(e in r.utils&&!g){const t=r.utils[e];if(t!==s){s=t,d(t(u)),s=null;continue}}else if(e in v){const t=v[e];if(t!==a){a=t,d(t(u)),a=null;continue}}if(f&&(h=l.slice(1)in r.media?"@media "+r.media[l.slice(1)]:l,l=h.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,((e,t,n,r,i,o)=>{const s=b.test(t),a=.0625*(s?-1:1),[c,l]=s?[r,t]:[t,r];return"("+("="===n[0]?"":">"===n[0]===s?"max-":"min-")+c+":"+("="!==n[0]&&1===n.length?l.replace(b,((e,t,r)=>Number(t)+a*(">"===n?1:-1)+r)):l)+(i?") and ("+(">"===i[0]?"min-":"max-")+c+":"+(1===i.length?o.replace(b,((e,t,n)=>Number(t)+a*(">"===i?-1:1)+n)):o):"")+")"}))),g){const e=f?n.concat(l):[...n],r=f?[...t]:x(t,l.split(_));void 0!==o&&i(C(...o)),o=void 0,c(u,r,e)}else void 0===o&&(o=[[],t,n]),l=f||36!==l.charCodeAt(0)?l:`--${S(r.prefix)}${l.slice(1).replace(/\$/g,"-")}`,u=g?u:"number"==typeof u?u&&e in T?String(u)+"px":String(u):k(O(e,null==u?"":u),r.prefix,r.themeMap[e]),o[0].push(`${f?`${l} `:`${m(l)}:`}${u}`)}}var h,p};d(e),void 0!==o&&i(C(...o)),o=void 0};c(e,t,n)},C=(e,t,n)=>`${n.map((e=>`${e}{`)).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,T={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},j=e=>String.fromCharCode(e+(e>25?39:97)),I=e=>(e=>{let t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=j(t%52)+n;return j(t%52)+n})(((e,t)=>{let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e})(5381,JSON.stringify(e))>>>0),M=["themed","global","styled","onevar","resonevar","allvar","inline"],A=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},D=e=>{let t;const n=()=>{const{cssRules:e}=t.sheet;return[].map.call(e,((n,r)=>{const{cssText:i}=n;let o="";if(i.startsWith("--sxs"))return"";if(e[r-1]&&(o=e[r-1].cssText).startsWith("--sxs")){if(!n.cssRules.length)return"";for(const e in t.rules)if(t.rules[e].group===n)return`--sxs{--sxs:${[...t.rules[e].cache].join(" ")}}${i}`;return n.cssRules.length?`${o}${i}`:""}return i})).join("")},r=()=>{if(t){const{rules:e,sheet:n}=t;if(!n.deleteRule){for(;3===Object(Object(n.cssRules)[0]).type;)n.cssRules.splice(0,1);n.cssRules=[]}for(const t in e)delete e[t]}const i=Object(e).styleSheets||[];for(const e of i)if(A(e)){for(let i=0,o=e.cssRules;o[i];++i){const s=Object(o[i]);if(1!==s.type)continue;const a=Object(o[i+1]);if(4!==a.type)continue;++i;const{cssText:c}=s;if(!c.startsWith("--sxs"))continue;const l=c.slice(14,-3).trim().split(/\s+/),u=M[l[0]];u&&(t||(t={sheet:e,reset:r,rules:{},toString:n}),t.rules[u]={group:a,index:i,cache:new Set(l)})}if(t)break}if(!t){const i=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,i(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===e?`@media{${[].map.call(this.cssRules,(e=>e.cssText)).join("")}}`:e}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:i("","text/css"),rules:{},reset:r,toString:n}}const{sheet:o,rules:s}=t;for(let e=M.length-1;e>=0;--e){const t=M[e];if(!s[t]){const n=M[e+1],r=s[n]?s[n].index:o.cssRules.length;o.insertRule("@media{}",r),o.insertRule(`--sxs{--sxs:${e}}`,r),s[t]={group:o.cssRules[r+1],index:r,cache:new Set([e])}}$(s[t])}};return r(),t},$=e=>{const t=e.group;let n=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,n),++n}catch(e){}}},R=Symbol(),N=u(),L=(e,t)=>N(e,(()=>(...n)=>{let r={type:null,composers:new Set};for(const t of n)if(null!=t)if(t[d]){null==r.type&&(r.type=t[d].type);for(const e of t[d].composers)r.composers.add(e)}else t.constructor!==Object||t.$$typeof?null==r.type&&(r.type=t):r.composers.add(Q(t,e));return null==r.type&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),z(e,r,t)})),Q=({variants:e,compoundVariants:t,defaultVariants:n,...r},i)=>{const o=`${S(i.prefix)}c-${I(r)}`,s=[],a=[],c=Object.create(null),l=[];for(const e in n)c[e]=String(n[e]);if("object"==typeof e&&e)for(const t in e){u=c,d=t,f.call(u,d)||(c[t]="undefined");const n=e[t];for(const e in n){const r={[t]:String(e)};"undefined"===String(e)&&l.push(t);const i=n[e],o=[r,i,!p(i)];s.push(o)}}var u,d;if("object"==typeof t&&t)for(const e of t){let{css:t,...n}=e;t="object"==typeof t&&t||{};for(const e in n)n[e]=String(n[e]);const r=[n,t,!p(t)];a.push(r)}return[o,r,s,a,c,l]},z=(e,t,n)=>{const[r,i,o,s]=F(t.composers),a="function"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let n=0;n<t[R].length;n++){const[r,i]=t[R][n];e.rules[r].apply(i)}return t[R]=[],null}return t[R]=[],t.rules={},M.forEach((e=>t.rules[e]={apply:n=>t[R].push([e,n])})),t})(n):null,c=(a||n).rules,l=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=u=>{u="object"==typeof u&&u||Z;const{css:d,...h}=u,p={};for(const e in o)if(delete h[e],e in u){let t=u[e];"object"==typeof t&&t?p[e]={"@initial":o[e],...t}:(t=String(t),p[e]="undefined"!==t||s.has(e)?t:o[e])}else p[e]=o[e];const f=new Set([...i]);for(const[r,i,o,s]of t.composers){n.rules.styled.cache.has(r)||(n.rules.styled.cache.add(r),E(i,[`.${r}`],[],e,(e=>{c.styled.apply(e)})));const t=B(o,p,e.media),a=B(s,p,e.media,!0);for(const i of t)if(void 0!==i)for(const[t,o,s]of i){const i=`${r}-${I(o)}-${t}`;f.add(i);const a=(s?n.rules.resonevar:n.rules.onevar).cache,l=s?c.resonevar:c.onevar;a.has(i)||(a.add(i),E(o,[`.${i}`],[],e,(e=>{l.apply(e)})))}for(const t of a)if(void 0!==t)for(const[i,o]of t){const t=`${r}-${I(o)}-${i}`;f.add(t),n.rules.allvar.cache.has(t)||(n.rules.allvar.cache.add(t),E(o,[`.${t}`],[],e,(e=>{c.allvar.apply(e)})))}}if("object"==typeof d&&d){const t=`${r}-i${I(d)}-css`;f.add(t),n.rules.inline.cache.has(t)||(n.rules.inline.cache.add(t),E(d,[`.${t}`],[],e,(e=>{c.inline.apply(e)})))}for(const e of String(u.className||"").trim().split(/\s+/))e&&f.add(e);const m=h.className=[...f].join(" ");return{type:t.type,className:m,selector:l,props:h,toString:()=>m,deferredInjector:a}};return h(u,{className:r,selector:l,[d]:t,toString:()=>(n.rules.styled.cache.has(r)||u(),r)})},F=e=>{let t="";const n=[],r={},i=[];for(const[o,,,,s,a]of e){""===t&&(t=o),n.push(o),i.push(...a);for(const e in s){const t=s[e];(void 0===r[e]||"undefined"!==t||a.includes(t))&&(r[e]=t)}}return[t,n,r,new Set(i)]},B=(e,t,n,r)=>{const i=[];e:for(let[o,s,a]of e){if(a)continue;let e,c=0,l=!1;for(e in o){const r=o[e];let i=t[e];if(i!==r){if("object"!=typeof i||!i)continue e;{let e,t,o=0;for(const s in i){if(r===String(i[s])){if("@initial"!==s){const e=s.slice(1);(t=t||[]).push(e in n?n[e]:s.replace(/^@media ?/,"")),l=!0}c+=o,e=!0}++o}if(t&&t.length&&(s={["@media "+t.join(", ")]:s}),!e)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${e}-${o[e]}`,s,l])}return i},Z={},V=u(),W=(e,t)=>V(e,(()=>(...n)=>{const r=()=>{for(let r of n){r="object"==typeof r&&r||{};let n=I(r);if(!t.rules.global.cache.has(n)){if(t.rules.global.cache.add(n),"@import"in r){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let n of[].concat(r["@import"]))n=n.includes('"')||n.includes("'")?n:`"${n}"`,t.sheet.insertRule(`@import ${n};`,e++);delete r["@import"]}E(r,[],[],e,(e=>{t.rules.global.apply(e)}))}}return""};return h(r,{toString:r})})),U=u(),q=(e,t)=>U(e,(()=>n=>{const r=`${S(e.prefix)}k-${I(n)}`,i=()=>{if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);const i=[];E(n,[],[],e,(e=>i.push(e)));const o=`@keyframes ${r}{${i.join("")}}`;t.rules.global.apply(o)}return r};return h(i,{get name(){return i()},toString:i})})),Y=class{constructor(e,t,n,r){this.token=null==e?"":String(e),this.value=null==t?"":String(t),this.scale=null==n?"":String(n),this.prefix=null==r?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+S(this.prefix)+S(this.scale)+this.token}toString(){return this.computedValue}},X=u(),H=(e,t)=>X(e,(()=>(n,r)=>{r="object"==typeof n&&n||Object(r);const i=`.${n=(n="string"==typeof n?n:"")||`${S(e.prefix)}t-${I(r)}`}`,o={},s=[];for(const t in r){o[t]={};for(const n in r[t]){const i=`--${S(e.prefix)}${t}-${n}`,a=k(String(r[t][n]),e.prefix,t);o[t][n]=new Y(n,a,t,e.prefix),s.push(`${i}:${a}`)}}const a=()=>{if(s.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);const i=`${r===e.theme?":root,":""}.${n}{${s.join(";")}}`;t.rules.themed.apply(i)}return n};return{...o,get className(){return a()},selector:i,toString:a}})),G=u(),K=n(9996),J=n(12824);function ee(e,t,r){var i;return void 0===r&&(r={}),(0,J._)(this,void 0,void 0,(function(){var o;return(0,J.a)(this,(function(s){switch(s.label){case 0:switch(null!==(i=t.template)&&void 0!==i?i:"parcel"){case"node":return[3,1];case"static":return[3,3]}return[3,5];case 1:return[4,n.e(502).then(n.bind(n,75678)).then((function(e){return e.SandpackNode}))];case 2:return o=s.sent(),[3,7];case 3:return[4,n.e(502).then(n.bind(n,23324)).then((function(e){return e.SandpackStatic}))];case 4:return o=s.sent(),[3,7];case 5:return[4,n.e(502).then(n.bind(n,6162)).then((function(e){return e.SandpackRuntime}))];case 6:o=s.sent(),s.label=7;case 7:return[2,new o(e,t,r)]}}))}))}n(56223);class te{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=ue(this,e,t);let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),re.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=ue(this,e,t);let n=[];return this.decompose(e,t,n,0),re.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new se(this),i=new se(e);for(let e=t,o=t;;){if(r.next(e),i.next(e),e=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(o+=r.value.length,r.done||o>=n)return!0}}iter(e=1){return new se(this,e)}iterRange(e,t=this.length){return new ae(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new ce(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new ne(e):re.from(ne.split(e,[])):te.empty}}class ne extends te{constructor(e,t=function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let i=0;;i++){let o=this.text[i],s=r+o.length;if((t?n:s)>=e)return new le(r,s,n,o);r=s+1,n++}}decompose(e,t,n,r){let i=e<=0&&t>=this.length?this:new ne(oe(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&r){let e=n.pop(),t=ie(i.text,e.text.slice(),0,i.length);if(t.length<=32)n.push(new ne(t,e.length+i.length));else{let e=t.length>>1;n.push(new ne(t.slice(0,e)),new ne(t.slice(e)))}}else n.push(i)}replace(e,t,n){if(!(n instanceof ne))return super.replace(e,t,n);[e,t]=ue(this,e,t);let r=ie(this.text,ie(n.text,oe(this.text,0,e)),t),i=this.length+n.length-(t-e);return r.length<=32?new ne(r,i):re.from(ne.split(r,[]),i)}sliceString(e,t=this.length,n="\n"){[e,t]=ue(this,e,t);let r="";for(let i=0,o=0;i<=t&&o<this.text.length;o++){let s=this.text[o],a=i+s.length;i>e&&o&&(r+=n),e<a&&t>i&&(r+=s.slice(Math.max(0,e-i),t-i)),i=a+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],r=-1;for(let i of e)n.push(i),r+=i.length+1,32==n.length&&(t.push(new ne(n,r)),n=[],r=-1);return r>-1&&t.push(new ne(n,r)),t}}class re extends te{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,n,r){for(let i=0;;i++){let o=this.children[i],s=r+o.length,a=n+o.lines-1;if((t?a:s)>=e)return o.lineInner(e,t,n,r);r=s+1,n=a+1}}decompose(e,t,n,r){for(let i=0,o=0;o<=t&&i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(e<=a&&t>=o){let i=r&((o<=e?1:0)|(a>=t?2:0));o>=e&&a<=t&&!i?n.push(s):s.decompose(e-o,t-o,n,i)}o=a+1}}replace(e,t,n){if([e,t]=ue(this,e,t),n.lines<this.lines)for(let r=0,i=0;r<this.children.length;r++){let o=this.children[r],s=i+o.length;if(e>=i&&t<=s){let a=o.replace(e-i,t-i,n),c=this.lines-o.lines+a.lines;if(a.lines<c>>4&&a.lines>c>>6){let i=this.children.slice();return i[r]=a,new re(i,this.length-(t-e)+n.length)}return super.replace(i,s,a)}i=s+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){[e,t]=ue(this,e,t);let r="";for(let i=0,o=0;i<this.children.length&&o<=t;i++){let s=this.children[i],a=o+s.length;o>e&&i&&(r+=n),e<a&&t>o&&(r+=s.sliceString(e-o,t-o,n)),o=a+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof re))return 0;let n=0,[r,i,o,s]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,i+=t){if(r==o||i==s)return n;let a=this.children[r],c=e.children[i];if(a!=c)return n+a.scanIdentical(c,t);n+=a.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let n=0;for(let t of e)n+=t.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new ne(n,t)}let r=Math.max(32,n>>5),i=r<<1,o=r>>1,s=[],a=0,c=-1,l=[];function u(e){let t;if(e.lines>i&&e instanceof re)for(let t of e.children)u(t);else e.lines>o&&(a>o||!a)?(d(),s.push(e)):e instanceof ne&&a&&(t=l[l.length-1])instanceof ne&&e.lines+t.lines<=32?(a+=e.lines,c+=e.length+1,l[l.length-1]=new ne(t.text.concat(e.text),t.length+1+e.length)):(a+e.lines>r&&d(),a+=e.lines,c+=e.length+1,l.push(e))}function d(){0!=a&&(s.push(1==l.length?l[0]:re.from(l,c)),c=-1,a=l.length=0)}for(let t of e)u(t);return d(),1==s.length?s[0]:new re(s,t)}}function ie(e,t,n=0,r=1e9){for(let i=0,o=0,s=!0;o<e.length&&i<=r;o++){let a=e[o],c=i+a.length;c>=n&&(c>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(t[t.length-1]+=a,s=!1):t.push(a)),i=c+1}return t}function oe(e,t,n){return ie(e,[""],t,n)}te.empty=new ne([""],0);class se{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof ne?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],i=this.offsets[n],o=i>>1,s=r instanceof ne?r.text.length:r.children.length;if(o==(t>0?s:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof ne){let i=r.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,i.length>Math.max(0,e))return this.value=0==e?i:t>0?i.slice(e):i.slice(0,i.length-e),this;e-=i.length}else{let i=r.children[o+(t<0?-1:0)];e>i.length?(e-=i.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(i),this.offsets.push(t>0?1:(i instanceof ne?i.text.length:i.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class ae{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new se(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class ce{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(te.prototype[Symbol.iterator]=function(){return this.iter()},se.prototype[Symbol.iterator]=ae.prototype[Symbol.iterator]=ce.prototype[Symbol.iterator]=function(){return this});class le{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}}function ue(e,t,n){return[t=Math.max(0,Math.min(e.length,t)),Math.max(t,Math.min(e.length,n))]}let de="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let e=1;e<de.length;e++)de[e]+=de[e-1];function he(e){for(let t=1;t<de.length;t+=2)if(de[t]>e)return de[t-1]<=e;return!1}function pe(e){return e>=127462&&e<=127487}const fe=8205;function me(e,t,n=!0,r=!0){return(n?ge:ye)(e,t,r)}function ge(e,t,n){if(t==e.length)return t;t&&ve(e.charCodeAt(t))&&be(e.charCodeAt(t-1))&&t--;let r=xe(e,t);for(t+=Oe(r);t<e.length;){let i=xe(e,t);if(r==fe||i==fe||n&&he(i))t+=Oe(i),r=i;else{if(!pe(i))break;{let n=0,r=t-2;for(;r>=0&&pe(xe(e,r));)n++,r-=2;if(n%2==0)break;t+=2}}}return t}function ye(e,t,n){for(;t>0;){let r=ge(e,t-2,n);if(r<t)return r;t--}return 0}function ve(e){return e>=56320&&e<57344}function be(e){return e>=55296&&e<56320}function xe(e,t){let n=e.charCodeAt(t);if(!be(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return ve(r)?r-56320+(n-55296<<10)+65536:n}function Oe(e){return e<65536?1:2}const we=/\r\n?|\n/;var Se=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(Se||(Se={}));class ke{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let i=this.sections[t++],o=this.sections[t++];o<0?(e(n,r,i),r+=i):r+=o,n+=i}}iterChangedRanges(e,t=!1){Ce(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new ke(e)}composeDesc(e){return this.empty?e:e.empty?this:je(this,e)}mapDesc(e,t=!1){return e.empty?this:Te(this,e,t)}mapPos(e,t=-1,n=Se.Simple){let r=0,i=0;for(let o=0;o<this.sections.length;){let s=this.sections[o++],a=this.sections[o++],c=r+s;if(a<0){if(c>e)return i+(e-r);i+=s}else{if(n!=Se.Simple&&c>=e&&(n==Se.TrackDel&&r<e&&c>e||n==Se.TrackBefore&&r<e||n==Se.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!s)return e==r||t<0?i:i+a;i+=a}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return i}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=t&&i>=e)return!(r<e&&i>t)||"cover";r=i}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ke(e)}static create(e){return new ke(e)}}class _e extends ke{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Ce(this,((t,n,r,i,o)=>e=e.replace(r,r+(n-t),o)),!1),e}mapDesc(e,t=!1){return Te(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let r=0,i=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s>=0){t[r]=s,t[r+1]=o;let a=r>>1;for(;n.length<a;)n.push(te.empty);n.push(o?e.slice(i,i+o):te.empty)}i+=o}return new _e(t,n)}compose(e){return this.empty?e:e.empty?this:je(this,e,!0)}map(e,t=!1){return e.empty?this:Te(this,e,t,!0)}iterChanges(e,t=!1){Ce(this,e,t)}get desc(){return ke.create(this.sections)}filter(e){let t=[],n=[],r=[],i=new Ie(this);e:for(let o=0,s=0;;){let a=o==e.length?1e9:e[o++];for(;s<a||s==a&&0==i.len;){if(i.done)break e;let e=Math.min(i.len,a-s);Pe(r,e,-1);let o=-1==i.ins?-1:0==i.off?i.ins:0;Pe(t,e,o),o>0&&Ee(n,t,i.text),i.forward(e),s+=e}let c=e[o++];for(;s<c;){if(i.done)break e;let e=Math.min(i.len,c-s);Pe(t,e,-1),Pe(r,e,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(e),s+=e}}return{changes:new _e(t,n),filtered:ke.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let r=[],i=[],o=0,s=null;function a(e=!1){if(!e&&!r.length)return;o<t&&Pe(r,t-o,-1);let n=new _e(r,i);s=s?s.compose(n.map(s)):n,r=[],i=[],o=0}return function e(c){if(Array.isArray(c))for(let t of c)e(t);else if(c instanceof _e){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);a(),s=s?s.compose(c.map(s)):c}else{let{from:e,to:s=e,insert:l}=c;if(e>s||e<0||s>t)throw new RangeError(`Invalid change range ${e} to ${s} (in doc of length ${t})`);let u=l?"string"==typeof l?te.of(l.split(n||we)):l:te.empty,d=u.length;if(e==s&&0==d)return;e<o&&a(),e>o&&Pe(r,e-o,-1),Pe(r,s-e,d),Ee(i,r,u),o=s}}(e),a(!s),s}static empty(e){return new _e(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let r=0;r<e.length;r++){let i=e[r];if("number"==typeof i)t.push(i,-1);else{if(!Array.isArray(i)||"number"!=typeof i[0]||i.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==i.length)t.push(i[0],0);else{for(;n.length<r;)n.push(te.empty);n[r]=te.of(i.slice(1)),t.push(i[0],n[r].length)}}}return new _e(t,n)}static createSet(e,t){return new _e(e,t)}}function Pe(e,t,n,r=!1){if(0==t&&n<=0)return;let i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:0==t&&0==e[i]?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}function Ee(e,t,n){if(0==n.length)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(te.empty);e.push(n)}}function Ce(e,t,n){let r=e.inserted;for(let i=0,o=0,s=0;s<e.sections.length;){let a=e.sections[s++],c=e.sections[s++];if(c<0)i+=a,o+=a;else{let l=i,u=o,d=te.empty;for(;l+=a,u+=c,c&&r&&(d=d.append(r[s-2>>1])),!(n||s==e.sections.length||e.sections[s+1]<0);)a=e.sections[s++],c=e.sections[s++];t(i,l,o,u,d),i=l,o=u}}}function Te(e,t,n,r=!1){let i=[],o=r?[]:null,s=new Ie(e),a=new Ie(t);for(let e=-1;;)if(-1==s.ins&&-1==a.ins){let e=Math.min(s.len,a.len);Pe(i,e,-1),s.forward(e),a.forward(e)}else if(a.ins>=0&&(s.ins<0||e==s.i||0==s.off&&(a.len<s.len||a.len==s.len&&!n))){let t=a.len;for(Pe(i,a.ins,-1);t;){let n=Math.min(s.len,t);s.ins>=0&&e<s.i&&s.len<=n&&(Pe(i,0,s.ins),o&&Ee(o,i,s.text),e=s.i),s.forward(n),t-=n}a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return o?_e.createSet(i,o):ke.create(i);throw new Error("Mismatched change set lengths")}{let t=0,n=s.len;for(;n;)if(-1==a.ins){let e=Math.min(n,a.len);t+=e,n-=e,a.forward(e)}else{if(!(0==a.ins&&a.len<n))break;n-=a.len,a.next()}Pe(i,t,e<s.i?s.ins:0),o&&e<s.i&&Ee(o,i,s.text),e=s.i,s.forward(s.len-n)}}}function je(e,t,n=!1){let r=[],i=n?[]:null,o=new Ie(e),s=new Ie(t);for(let e=!1;;){if(o.done&&s.done)return i?_e.createSet(r,i):ke.create(r);if(0==o.ins)Pe(r,o.len,0,e),o.next();else if(0!=s.len||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");{let t=Math.min(o.len2,s.len),n=r.length;if(-1==o.ins){let n=-1==s.ins?-1:s.off?0:s.ins;Pe(r,t,n,e),i&&n&&Ee(i,r,s.text)}else-1==s.ins?(Pe(r,o.off?0:o.len,t,e),i&&Ee(i,r,o.textBit(t))):(Pe(r,o.off?0:o.len,s.off?0:s.ins,e),i&&!s.off&&Ee(i,r,s.text));e=(o.ins>t||s.ins>=0&&s.len>t)&&(e||r.length>n),o.forward2(t),s.forward(t)}}else Pe(r,0,s.ins,e),i&&Ee(i,r,s.text),s.next()}}class Ie{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?te.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?te.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Me{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let e=7&this.flags;return 7==e?null:e}get goalColumn(){let e=this.flags>>6;return 16777215==e?void 0:e}map(e,t=-1){let n,r;return this.empty?n=r=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new Me(n,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Ae.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Ae.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Ae.range(e.anchor,e.head)}static create(e,t,n){return new Me(e,t,n)}}class Ae{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Ae.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Ae([this.main],0)}addRange(e,t=!0){return Ae.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,Ae.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ae(e.ranges.map((e=>Me.fromJSON(e))),e.main)}static single(e,t=e){return new Ae([Ae.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let i=e[r];if(i.empty?i.from<=n:i.from<n)return Ae.normalized(e.slice(),t);n=i.to}return new Ae(e,t)}static cursor(e,t=0,n,r){return Me.create(e,e,(0==t?0:t<0?8:16)|(null==n?7:Math.min(6,n))|(null!=r?r:16777215)<<6)}static range(e,t,n,r){let i=(null!=n?n:16777215)<<6|(null==r?7:Math.min(6,r));return t<e?Me.create(t,e,48|i):Me.create(e,t,(t>e?8:0)|i)}static normalized(e,t=0){let n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let n=1;n<e.length;n++){let r=e[n],i=e[n-1];if(r.empty?r.from<=i.to:r.from<i.to){let o=i.from,s=Math.max(r.to,i.to);n<=t&&t--,e.splice(--n,2,r.anchor>r.head?Ae.range(s,o):Ae.range(o,s))}}return new Ae(e,t)}}function De(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let $e=0;class Re{constructor(e,t,n,r,i){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.id=$e++,this.default=e([]),this.extensions="function"==typeof i?i(this):i}get reader(){return this}static define(e={}){return new Re(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:Ne),!!e.static,e.enables)}of(e){return new Le([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Le(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Le(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function Ne(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class Le{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=$e++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,i=this.id,o=e[i]>>1,s=2==this.type,a=!1,c=!1,l=[];for(let n of this.dependencies)"doc"==n?a=!0:"selection"==n?c=!0:0==(1&(null!==(t=e[n.id])&&void 0!==t?t:1))&&l.push(e[n.id]);return{create:e=>(e.values[o]=n(e),1),update(e,t){if(a&&t.docChanged||c&&(t.docChanged||t.selection)||ze(e,l)){let t=n(e);if(s?!Qe(t,e.values[o],r):!r(t,e.values[o]))return e.values[o]=t,1}return 0},reconfigure:(e,t)=>{let a,c=t.config.address[i];if(null!=c){let i=Ge(t,c);if(this.dependencies.every((n=>n instanceof Re?t.facet(n)===e.facet(n):!(n instanceof Ze)||t.field(n,!1)==e.field(n,!1)))||(s?Qe(a=n(e),i,r):r(a=n(e),i)))return e.values[o]=i,0}else a=n(e);return e.values[o]=a,1}}}}function Qe(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function ze(e,t){let n=!1;for(let r of t)1&He(e,r)&&(n=!0);return n}function Fe(e,t,n){let r=n.map((t=>e[t.id])),i=n.map((e=>e.type)),o=r.filter((e=>!(1&e))),s=e[t.id]>>1;function a(e){let n=[];for(let t=0;t<r.length;t++){let o=Ge(e,r[t]);if(2==i[t])for(let e of o)n.push(e);else n.push(o)}return t.combine(n)}return{create(e){for(let t of r)He(e,t);return e.values[s]=a(e),1},update(e,n){if(!ze(e,o))return 0;let r=a(e);return t.compare(r,e.values[s])?0:(e.values[s]=r,1)},reconfigure(e,i){let o=ze(e,r),c=i.config.facets[t.id],l=i.facet(t);if(c&&!o&&Ne(n,c))return e.values[s]=l,0;let u=a(e);return t.compare(u,l)?(e.values[s]=l,0):(e.values[s]=u,1)}}}const Be=Re.define({static:!0});class Ze{constructor(e,t,n,r,i){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(e){let t=new Ze($e++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Be).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let r=e.values[t],i=this.updateF(r,n);return this.compareF(r,i)?0:(e.values[t]=i,1)},reconfigure:(e,n)=>null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,Be.of({field:this,create:e})]}get extension(){return this}}function Ve(e){return t=>new Ue(t,e)}const We={highest:Ve(0),high:Ve(1),default:Ve(2),low:Ve(3),lowest:Ve(4)};class Ue{constructor(e,t){this.inner=e,this.prec=t}}class qe{of(e){return new Ye(this,e)}reconfigure(e){return qe.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Ye{constructor(e,t){this.compartment=e,this.inner=t}}class Xe{constructor(e,t,n,r,i,o){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],i=Object.create(null),o=new Map;for(let n of function(e,t,n){let r=[[],[],[],[],[]],i=new Map;return function e(o,s){let a=i.get(o);if(null!=a){if(a<=s)return;let e=r[a].indexOf(o);e>-1&&r[a].splice(e,1),o instanceof Ye&&n.delete(o.compartment)}if(i.set(o,s),Array.isArray(o))for(let t of o)e(t,s);else if(o instanceof Ye){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=t.get(o.compartment)||o.inner;n.set(o.compartment,r),e(r,s)}else if(o instanceof Ue)e(o.inner,o.prec);else if(o instanceof Ze)r[s].push(o),o.provides&&e(o.provides,s);else if(o instanceof Le)r[s].push(o),o.facet.extensions&&e(o.facet.extensions,2);else{let t=o.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);e(t,s)}}(e,2),r.reduce(((e,t)=>e.concat(t)))}(e,t,o))n instanceof Ze?r.push(n):(i[n.facet.id]||(i[n.facet.id]=[])).push(n);let s=Object.create(null),a=[],c=[];for(let e of r)s[e.id]=c.length<<1,c.push((t=>e.slot(t)));let l=null==n?void 0:n.config.facets;for(let e in i){let t=i[e],r=t[0].facet,o=l&&l[e]||[];if(t.every((e=>0==e.type)))if(s[r.id]=a.length<<1|1,Ne(o,t))a.push(n.facet(r));else{let e=r.combine(t.map((e=>e.value)));a.push(n&&r.compare(e,n.facet(r))?n.facet(r):e)}else{for(let e of t)0==e.type?(s[e.id]=a.length<<1|1,a.push(e.value)):(s[e.id]=c.length<<1,c.push((t=>e.dynamicSlot(t))));s[r.id]=c.length<<1,c.push((e=>Fe(e,r,t)))}}let u=c.map((e=>e(s)));return new Xe(e,o,u,s,a,i)}}function He(e,t){if(1&t)return 2;let n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;let i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function Ge(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const Ke=Re.define(),Je=Re.define({combine:e=>e.some((e=>e)),static:!0}),et=Re.define({combine:e=>e.length?e[0]:void 0,static:!0}),tt=Re.define(),nt=Re.define(),rt=Re.define(),it=Re.define({combine:e=>!!e.length&&e[0]});class ot{constructor(e,t){this.type=e,this.value=t}static define(){return new st}}class st{of(e){return new ot(this,e)}}class at{constructor(e){this.map=e}of(e){return new ct(this,e)}}class ct{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new ct(this.type,t)}is(e){return this.type==e}static define(e={}){return new at(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let e=r.map(t);e&&n.push(e)}return n}}ct.reconfigure=ct.define(),ct.appendConfig=ct.define();class lt{constructor(e,t,n,r,i,o){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=o,this._doc=null,this._state=null,n&&De(n,t.newLength),i.some((e=>e.type==lt.time))||(this.annotations=i.concat(lt.time.of(Date.now())))}static create(e,t,n,r,i,o){return new lt(e,t,n,r,i,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(lt.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function ut(e,t){let n=[];for(let r=0,i=0;;){let o,s;if(r<e.length&&(i==t.length||t[i]>=e[r]))o=e[r++],s=e[r++];else{if(!(i<t.length))return n;o=t[i++],s=t[i++]}!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function dt(e,t,n){var r;let i,o,s;return n?(i=t.changes,o=_e.empty(t.changes.length),s=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),o=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(i)),{changes:s,selection:t.selection?t.selection.map(o):null===(r=e.selection)||void 0===r?void 0:r.map(i),effects:ct.mapEffects(e.effects,i).concat(ct.mapEffects(t.effects,o)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function ht(e,t,n){let r=t.selection,i=mt(t.annotations);return t.userEvent&&(i=i.concat(lt.userEvent.of(t.userEvent))),{changes:t.changes instanceof _e?t.changes:_e.of(t.changes||[],n,e.facet(et)),selection:r&&(r instanceof Ae?r:Ae.single(r.anchor,r.head)),effects:mt(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function pt(e,t,n){let r=ht(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let i=1;i<t.length;i++){!1===t[i].filter&&(n=!1);let o=!!t[i].sequential;r=dt(r,ht(e,t[i],o?r.changes.newLength:e.doc.length),o)}let i=lt.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){let t=e.startState,n=t.facet(rt),r=e;for(let i=n.length-1;i>=0;i--){let o=n[i](e);o&&Object.keys(o).length&&(r=dt(r,ht(t,o,e.changes.newLength),!0))}return r==e?e:lt.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let r of t.facet(tt)){let t=r(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:ut(n,t))}if(!0!==n){let r,i;if(!1===n)i=e.changes.invertedDesc,r=_e.empty(t.doc.length);else{let t=e.changes.filter(n);r=t.changes,i=t.filtered.mapDesc(t.changes).invertedDesc}e=lt.create(t,r,e.selection&&e.selection.map(i),ct.mapEffects(e.effects,i),e.annotations,e.scrollIntoView)}let r=t.facet(nt);for(let n=r.length-1;n>=0;n--){let i=r[n](e);e=i instanceof lt?i:Array.isArray(i)&&1==i.length&&i[0]instanceof lt?i[0]:pt(t,mt(i),!1)}return e}(i):i)}lt.time=ot.define(),lt.userEvent=ot.define(),lt.addToHistory=ot.define(),lt.remote=ot.define();const ft=[];function mt(e){return null==e?ft:Array.isArray(e)?e:[e]}var gt=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(gt||(gt={}));const yt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let vt;try{vt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(e){}class bt{constructor(e,t,n,r,i,o){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=i,o&&(o._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)He(this,e<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return He(this,n),Ge(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return pt(this,e,!0)}applyTransaction(e){let t,n=this.config,{base:r,compartments:i}=n;for(let t of e.effects)t.is(qe.reconfigure)?(n&&(i=new Map,n.compartments.forEach(((e,t)=>i.set(t,e))),n=null),i.set(t.value.compartment,t.value.extension)):t.is(ct.reconfigure)?(n=null,r=t.value):t.is(ct.appendConfig)&&(n=null,r=mt(r).concat(t.value));n?t=e.startState.values.slice():(n=Xe.resolve(r,i,this),t=new bt(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values);let o=e.startState.facet(Je)?e.newSelection:e.newSelection.asSingle();new bt(n,e.newDoc,o,t,((t,n)=>n.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:Ae.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),i=[n.range],o=mt(n.effects);for(let n=1;n<t.ranges.length;n++){let s=e(t.ranges[n]),a=this.changes(s.changes),c=a.map(r);for(let e=0;e<n;e++)i[e]=i[e].map(c);let l=r.mapDesc(a,!0);i.push(s.range.map(l)),r=r.compose(c),o=ct.mapEffects(o,c).concat(ct.mapEffects(mt(s.effects),l))}return{changes:r,selection:Ae.create(i,t.mainIndex),effects:o}}changes(e=[]){return e instanceof _e?e:_e.of(e,this.doc.length,this.facet(bt.lineSeparator))}toText(e){return te.of(e.split(this.facet(bt.lineSeparator)||we))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(He(this,t),Ge(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof Ze&&null!=this.config.address[r.id]&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let t in n)if(Object.prototype.hasOwnProperty.call(e,t)){let i=n[t],o=e[t];r.push(i.init((e=>i.spec.fromJSON(o,e))))}return bt.create({doc:e.doc,selection:Ae.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=Xe.resolve(e.extensions||[],new Map),n=e.doc instanceof te?e.doc:te.of((e.doc||"").split(t.staticFacet(bt.lineSeparator)||we)),r=e.selection?e.selection instanceof Ae?e.selection:Ae.single(e.selection.anchor,e.selection.head):Ae.single(0);return De(r,n.length),t.staticFacet(Je)||(r=r.asSingle()),new bt(t,n,r,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(bt.tabSize)}get lineBreak(){return this.facet(bt.lineSeparator)||"\n"}get readOnly(){return this.facet(it)}phrase(e,...t){for(let t of this.facet(bt.phrases))if(Object.prototype.hasOwnProperty.call(t,e)){e=t[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,((e,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>t.length?e:t[r-1]}))),e}languageDataAt(e,t,n=-1){let r=[];for(let i of this.facet(Ke))for(let o of i(this,t,n))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return t=this.languageDataAt("wordChars",e).join(""),e=>{if(!/\S/.test(e))return gt.Space;if(function(e){if(vt)return vt.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||yt.test(n)))return!0}return!1}(e))return gt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return gt.Word;return gt.Other};var t}wordAt(e){let{text:t,from:n,length:r}=this.doc.lineAt(e),i=this.charCategorizer(e),o=e-n,s=e-n;for(;o>0;){let e=me(t,o,!1);if(i(t.slice(e,o))!=gt.Word)break;o=e}for(;s<r;){let e=me(t,s);if(i(t.slice(s,e))!=gt.Word)break;s=e}return o==s?null:Ae.range(o+n,s+n)}}function xt(e,t,n={}){let r={};for(let t of e)for(let e of Object.keys(t)){let i=t[e],o=r[e];if(void 0===o)r[e]=i;else if(o===i||void 0===i);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);r[e]=n[e](o,i)}}for(let e in t)void 0===r[e]&&(r[e]=t[e]);return r}bt.allowMultipleSelections=Je,bt.tabSize=Re.define({combine:e=>e.length?e[0]:4}),bt.lineSeparator=et,bt.readOnly=it,bt.phrases=Re.define({compare(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every((n=>e[n]==t[n]))}}),bt.languageData=Ke,bt.changeFilter=tt,bt.transactionFilter=nt,bt.transactionExtender=rt,qe.reconfigure=ct.define();class Ot{eq(e){return this==e}range(e,t=e){return wt.create(e,t,this)}}Ot.prototype.startSide=Ot.prototype.endSide=0,Ot.prototype.point=!1,Ot.prototype.mapMode=Se.TrackDel;class wt{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new wt(e,t,n)}}function St(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class kt{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,r=0){let i=n?this.to:this.from;for(let o=r,s=i.length;;){if(o==s)return o;let r=o+s>>1,a=i[r]-e||(n?this.value[r].endSide:this.value[r].startSide)-t;if(r==o)return a>=0?o:s;a>=0?s=r:o=r+1}}between(e,t,n,r){for(let i=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,i);i<o;i++)if(!1===r(this.from[i]+e,this.to[i]+e,this.value[i]))return!1}map(e,t){let n=[],r=[],i=[],o=-1,s=-1;for(let a=0;a<this.value.length;a++){let c,l,u=this.value[a],d=this.from[a]+e,h=this.to[a]+e;if(d==h){let e=t.mapPos(d,u.startSide,u.mapMode);if(null==e)continue;if(c=l=e,u.startSide!=u.endSide&&(l=t.mapPos(d,u.endSide),l<c))continue}else if(c=t.mapPos(d,u.startSide),l=t.mapPos(h,u.endSide),c>l||c==l&&u.startSide>0&&u.endSide<=0)continue;(l-c||u.endSide-u.startSide)<0||(o<0&&(o=c),u.point&&(s=Math.max(s,l-c)),n.push(u),r.push(c-o),i.push(l-o))}return{mapped:n.length?new kt(r,i,n,s):null,pos:o}}}class _t{constructor(e,t,n,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}static create(e,t,n,r){return new _t(e,t,n,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=e,o=e.filter;if(0==t.length&&!o)return this;if(n&&(t=t.slice().sort(St)),this.isEmpty)return t.length?_t.of(t):this;let s=new Ct(this,null,-1).goto(0),a=0,c=[],l=new Pt;for(;s.value||a<t.length;)if(a<t.length&&(s.from-t[a].from||s.startSide-t[a].value.startSide)>=0){let e=t[a++];l.addInner(e.from,e.to,e.value)||c.push(e)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(s.chunkIndex)<t[a].from)&&(!o||r>this.chunkEnd(s.chunkIndex)||i<this.chunkPos[s.chunkIndex])&&l.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||r>s.to||i<s.from||o(s.from,s.to,s.value))&&(l.addInner(s.from,s.to,s.value)||c.push(wt.create(s.from,s.to,s.value))),s.next());return l.finishInner(this.nextLayer.isEmpty&&!c.length?_t.empty:this.nextLayer.update({add:c,filter:o,filterFrom:r,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],r=-1;for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i],a=e.touchesRange(o,o+s.length);if(!1===a)r=Math.max(r,s.maxPoint),t.push(s),n.push(e.mapPos(o));else if(!0===a){let{mapped:i,pos:a}=s.map(o,e);i&&(r=Math.max(r,i.maxPoint),t.push(i),n.push(a))}}let i=this.nextLayer.map(e);return 0==t.length?i:new _t(n,t,i||_t.empty,r)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],o=this.chunk[r];if(t>=i&&e<=i+o.length&&!1===o.between(i,e-i,t-i,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return Tt.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Tt.from(e).goto(t)}static compare(e,t,n,r,i=-1){let o=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i)),s=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i)),a=Et(o,s,n),c=new It(o,a,i),l=new It(s,a,i);n.iterGaps(((e,t,n)=>Mt(c,e,l,t,n,r))),n.empty&&0==n.length&&Mt(c,0,l,0,0,r)}static eq(e,t,n=0,r){null==r&&(r=999999999);let i=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),o=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(i.length!=o.length)return!1;if(!i.length)return!0;let s=Et(i,o),a=new It(i,s,0).goto(n),c=new It(o,s,0).goto(n);for(;;){if(a.to!=c.to||!At(a.active,c.active)||a.point&&(!c.point||!a.point.eq(c.point)))return!1;if(a.to>r)return!0;a.next(),c.next()}}static spans(e,t,n,r,i=-1){let o=new It(e,null,i).goto(t),s=t,a=o.openStart;for(;;){let e=Math.min(o.to,n);if(o.point){let n=o.activeForPoint(o.to),i=o.pointFrom<t?n.length+1:Math.min(n.length,a);r.point(s,e,o.point,n,i,o.pointRank),a=Math.min(o.openEnd(e),n.length)}else e>s&&(r.span(s,e,o.active,a),a=o.openEnd(e));if(o.to>n)return a+(o.point&&o.to>n?1:0);s=o.to,o.next()}}static of(e,t=!1){let n=new Pt;for(let r of e instanceof wt?[e]:t?function(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(St(t,r)>0)return e.slice().sort(St);t=r}return e}(e):e)n.add(r.from,r.to,r.value);return n.finish()}}_t.empty=new _t([],[],null,-1),_t.empty.nextLayer=_t.empty;class Pt{finishChunk(e){this.chunks.push(new kt(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Pt)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),0))}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(_t.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=_t.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Et(e,t,n){let r=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&r.set(t.chunk[e],t.chunkPos[e]);let i=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let o=r.get(e.chunk[t]);null==o||(n?n.mapPos(o):o)!=e.chunkPos[t]||(null==n?void 0:n.touchesRange(o,o+e.chunk[t].length))||i.add(e.chunk[t])}return i}class Ct{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Tt{constructor(e){this.heap=e}static from(e,t=null,n=-1){let r=[];for(let i=0;i<e.length;i++)for(let o=e[i];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&r.push(new Ct(o,t,n,i));return 1==r.length?r[0]:new Tt(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)jt(this.heap,e);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)jt(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),jt(this.heap,0)}}}function jt(e,t){for(let n=e[t];;){let r=1+(t<<1);if(r>=e.length)break;let i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}class It{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Tt.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Dt(this.active,e),Dt(this.activeTo,e),Dt(this.activeRank,e),this.minActive=Rt(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:i}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=i;)t++;$t(this.active,t,n),$t(this.activeTo,t,r),$t(this.activeRank,t,i),e&&$t(e,t,this.cursor.from),this.minActive=Rt(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Dt(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let e=this.cursor.value;if(e.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=e,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let t=n.length-1;t>=0&&n[t]<e;t--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function Mt(e,t,n,r,i,o){e.goto(t),n.goto(r);let s=r+i,a=r,c=r-t;for(;;){let t=e.to+c-n.to||e.endSide-n.endSide,r=t<0?e.to+c:n.to,i=Math.min(r,s);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&At(e.activeForPoint(e.to),n.activeForPoint(n.to))||o.comparePoint(a,i,e.point,n.point):i>a&&!At(e.active,n.active)&&o.compareRange(a,i,e.active,n.active),r>s)break;a=r,t<=0&&e.next(),t>=0&&n.next()}}function At(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function Dt(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function $t(e,t,n){for(let n=e.length-1;n>=t;n--)e[n+1]=e[n];e[t]=n}function Rt(e,t){let n=-1,r=1e9;for(let i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}function Nt(e,t,n=e.length){let r=0;for(let i=0;i<n;)9==e.charCodeAt(i)?(r+=t-r%t,i++):(r++,i=me(e,i));return r}const Lt="undefined"==typeof Symbol?"__":Symbol.for(""),Qt="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),zt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class Ft{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function i(e,t,o,s){let a=[],c=/^@(\w+)\b/.exec(e[0]),l=c&&"keyframes"==c[1];if(c&&null==t)return o.push(e[0]+";");for(let n in t){let s=t[n];if(/&/.test(n))i(n.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),s,o);else if(s&&"object"==typeof s){if(!c)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(r(n),s,a,l)}else null!=s&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+s+";")}(a.length||l)&&o.push((!n||c||s?e:e.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let t in e)i(r(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=zt[Lt]||1;return zt[Lt]=e+1,""+e.toString(36)}static mount(e,t,n){let r=e[Qt],i=n&&n.nonce;r?i&&r.setNonce(i):r=new Zt(e,i),r.mount(Array.isArray(t)?t:[t])}}let Bt=new Map;class Zt{constructor(e,t){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let t=Bt.get(n);if(t)return e.adoptedStyleSheets=[t.sheet,...e.adoptedStyleSheets],e[Qt]=t;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],Bt.set(n,this)}else{this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);let r=e.head||e;r.insertBefore(this.styleTag,r.firstChild)}this.modules=[],e[Qt]=this}mount(e){let t=this.sheet,n=0,r=0;for(let i=0;i<e.length;i++){let o=e[i],s=this.modules.indexOf(o);if(s<r&&s>-1&&(this.modules.splice(s,1),r--,s=-1),-1==s){if(this.modules.splice(r++,0,o),t)for(let e=0;e<o.rules.length;e++)t.insertRule(o.rules[e],n++)}else{for(;r<s;)n+=this.modules[r++].rules.length;n+=o.rules.length,r++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}for(var Vt={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Wt={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ut="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),qt="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Yt=0;Yt<10;Yt++)Vt[48+Yt]=Vt[96+Yt]=String(Yt);for(Yt=1;Yt<=24;Yt++)Vt[Yt+111]="F"+Yt;for(Yt=65;Yt<=90;Yt++)Vt[Yt]=String.fromCharCode(Yt+32),Wt[Yt]=String.fromCharCode(Yt);for(var Xt in Vt)Wt.hasOwnProperty(Xt)||(Wt[Xt]=Vt[Xt]);function Ht(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function Gt(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function Kt(e,t){if(!t.anchorNode)return!1;try{return Gt(e,t.anchorNode)}catch(e){return!1}}function Jt(e){return 3==e.nodeType?hn(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function en(e,t,n,r){return!!n&&(nn(e,t,n,r,-1)||nn(e,t,n,r,1))}function tn(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function nn(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:rn(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=tn(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(i<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=i<0?rn(e):0}}}function rn(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function on(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function sn(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function an(e,t){let n=t.width/e.offsetWidth,r=t.height/e.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-e.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}class cn{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?rn(t):0),n,Math.min(e.focusOffset,n?rn(n):0))}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}let ln,un=null;function dn(e){if(e.setActive)return e.setActive();if(un)return e.focus(un);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==un?{get preventScroll(){return un={preventScroll:!0},!0}}:void 0),!un){un=!1;for(let e=0;e<t.length;){let n=t[e++],r=t[e++],i=t[e++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=i&&(n.scrollLeft=i)}}}function hn(e,t,n=t){let r=ln||(ln=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function pn(e,t,n){let r={key:t,code:t,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,e.dispatchEvent(i);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,e.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function fn(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function mn(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}class gn{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new gn(e.parentNode,tn(e),t)}static after(e,t){return new gn(e.parentNode,tn(e)+1,t)}}const yn=[];class vn{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let n,r=this.dom,i=null;for(let o of this.children){if(7&o.flags){if(!o.dom&&(n=i?i.nextSibling:r.firstChild)){let e=vn.get(n);(!e||!e.parent&&e.canReuseDOM(o))&&o.reuseDOM(n)}o.sync(e,t),o.flags&=-8}if(n=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&n!=o.dom&&(t.written=!0),o.dom.parentNode==r)for(;n&&n!=o.dom;)n=bn(n);else r.insertBefore(o.dom,n);i=o.dom}for(n=i?i.nextSibling:r.firstChild,n&&t&&t.node==r&&(t.written=!0);n;)n=bn(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let r=0==rn(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==r&&t.firstChild!=t.lastChild&&(r=e==t.firstChild?-1:1),e=t}n=r<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!vn.get(n);)n=n.nextSibling;if(!n)return this.length;for(let e=0,t=0;;e++){let r=this.children[e];if(r.dom==n)return t;t+=r.length+r.breakAfter}}domBoundsAround(e,t,n=0){let r=-1,i=-1,o=-1,s=-1;for(let a=0,c=n,l=n;a<this.children.length;a++){let n=this.children[a],u=c+n.length;if(c<e&&u>t)return n.domBoundsAround(e,t,c);if(u>=e&&-1==r&&(r=a,i=c),c>t&&n.dom.parentNode==this.dom){o=a,s=l;break}l=u,c=u+n.breakAfter}return{from:i,to:s<0?n+this.length:s,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=yn){this.markDirty();for(let r=e;r<t;r++){let e=this.children[r];e.parent==this&&n.indexOf(e)<0&&e.destroy()}this.children.splice(e,t-e,...n);for(let e=0;e<n.length;e++)n[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new xn(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,r,i,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}function bn(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}vn.prototype.breakAfter=0;class xn{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function On(e,t,n,r,i,o,s,a,c){let{children:l}=e,u=l.length?l[t]:null,d=o.length?o[o.length-1]:null,h=d?d.breakAfter:s;if(!(t==r&&u&&!s&&!h&&o.length<2&&u.merge(n,i,o.length?d:null,0==n,a,c))){if(r<l.length){let e=l[r];e&&(i<e.length||e.breakAfter&&(null==d?void 0:d.breakAfter))?(t==r&&(e=e.split(i),i=0),!h&&d&&e.merge(0,i,d,!0,0,c)?o[o.length-1]=e:((i||e.children.length&&!e.children[0].length)&&e.merge(0,i,null,!1,0,c),o.push(e))):(null==e?void 0:e.breakAfter)&&(d?d.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,a,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,a,0),t++));t<r&&o.length;)if(l[r-1].become(o[o.length-1]))r--,o.pop(),c=o.length?0:a;else{if(!l[t].become(o[0]))break;t++,o.shift(),a=o.length?0:c}!o.length&&t&&r<l.length&&!l[t-1].breakAfter&&l[r].merge(0,0,l[t-1],!1,a,c)&&t--,(t<r||o.length)&&e.replaceChildren(t,r,o)}}function wn(e,t,n,r,i,o){let s=e.childCursor(),{i:a,off:c}=s.findPos(n,1),{i:l,off:u}=s.findPos(t,-1),d=t-n;for(let e of r)d+=e.length;e.length+=d,On(e,l,u,a,c,r,0,i,o)}let Sn="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},kn="undefined"!=typeof document?document:{documentElement:{style:{}}};const _n=/Edge\/(\d+)/.exec(Sn.userAgent),Pn=/MSIE \d/.test(Sn.userAgent),En=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Sn.userAgent),Cn=!!(Pn||En||_n),Tn=!Cn&&/gecko\/(\d+)/i.test(Sn.userAgent),jn=!Cn&&/Chrome\/(\d+)/.exec(Sn.userAgent),In="webkitFontSmoothing"in kn.documentElement.style,Mn=!Cn&&/Apple Computer/.test(Sn.vendor),An=Mn&&(/Mobile\/\w+/.test(Sn.userAgent)||Sn.maxTouchPoints>2);var Dn={mac:An||/Mac/.test(Sn.platform),windows:/Win/.test(Sn.platform),linux:/Linux|X11/.test(Sn.platform),ie:Cn,ie_version:Pn?kn.documentMode||6:En?+En[1]:_n?+_n[1]:0,gecko:Tn,gecko_version:Tn?+(/Firefox\/(\d+)/.exec(Sn.userAgent)||[0,0])[1]:0,chrome:!!jn,chrome_version:jn?+jn[1]:0,ios:An,android:/Android\b/.test(Sn.userAgent),webkit:In,safari:Mn,webkit_version:In?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=kn.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class $n extends vn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return!(8&this.flags||n&&(!(n instanceof $n)||this.length-(t-e)+n.length>256||8&n.flags)||(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),0))}split(e){let t=new $n(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new gn(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(e,t,n){let r=e.nodeValue.length;t>r&&(t=r);let i=t,o=t,s=0;0==t&&n<0||t==r&&n>=0?Dn.chrome||Dn.gecko||(t?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let a=hn(e,i,o).getClientRects();if(!a.length)return null;let c=a[(s?s<0:n>=0)?0:a.length-1];return Dn.safari&&!s&&0==c.width&&(c=Array.prototype.find.call(a,(e=>e.width))||c),s?on(c,s<0):c||null}(this.dom,e,t)}}class Rn extends vn{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let e of t)e.setParent(this)}setAttrs(e){if(fn(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,r,i,o){return!(n&&(!(n instanceof Rn&&n.mark.eq(this.mark))||e&&i<=0||t<this.length&&o<=0)||(wn(this,e,t,n?n.children.slice():[],i-1,o-1),this.markDirty(),0))}split(e){let t=[],n=0,r=-1,i=0;for(let o of this.children){let s=n+o.length;s>e&&t.push(n<e?o.split(e-n):o),r<0&&n>=e&&(r=i),n=s,i++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Rn(this.mark,t,o)}domAtPos(e){return Qn(this,e)}coordsAt(e,t){return Fn(this,e,t)}}class Nn extends vn{static create(e,t,n){return new Nn(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=Nn.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,n,r,i,o){return!(n&&(!(n instanceof Nn&&this.widget.compare(n.widget))||e>0&&i<=0||t<this.length&&o<=0)||(this.length=e+(n?n.length:0)+(this.length-t),0))}become(e){return e instanceof Nn&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return te.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):te.empty}domAtPos(e){return(this.length?0==e:this.side>0)?gn.before(this.dom):gn.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let r=this.dom.getClientRects(),i=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let t=o?r.length-1:0;i=r[t],!(e>0?0==t:t==r.length-1||i.top<i.bottom);t+=o?-1:1);return on(i,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Ln extends vn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Ln&&e.side==this.side}split(){return new Ln(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?gn.before(this.dom):gn.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return te.empty}get isHidden(){return!0}}function Qn(e,t){let n=e.dom,{children:r}=e,i=0;for(let e=0;i<r.length;i++){let o=r[i],s=e+o.length;if(!(s==e&&o.getSide()<=0)){if(t>e&&t<s&&o.dom.parentNode==n)return o.domAtPos(t-e);if(t<=e)break;e=s}}for(let e=i;e>0;e--){let t=r[e-1];if(t.dom.parentNode==n)return t.domAtPos(t.length)}for(let e=i;e<r.length;e++){let t=r[e];if(t.dom.parentNode==n)return t.domAtPos(0)}return new gn(n,0)}function zn(e,t,n){let r,{children:i}=e;n>0&&t instanceof Rn&&i.length&&(r=i[i.length-1])instanceof Rn&&r.mark.eq(t.mark)?zn(r,t.children[0],n-1):(i.push(t),t.setParent(e)),e.length+=t.length}function Fn(e,t,n){let r=null,i=-1,o=null,s=-1;!function e(t,a){for(let c=0,l=0;c<t.children.length&&l<=a;c++){let u=t.children[c],d=l+u.length;d>=a&&(u.children.length?e(u,a-l):(!o||o.isHidden&&n>0)&&(d>a||l==d&&u.getSide()>0)?(o=u,s=a-l):(l<a||l==d&&u.getSide()<0&&!u.isHidden)&&(r=u,i=a-l)),l=d}}(e,t);let a=(n<0?r:o)||r||o;return a?a.coordsAt(Math.max(0,a==r?i:s),n):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=Jt(t);return n[n.length-1]||null}(e)}function Bn(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}$n.prototype.children=Nn.prototype.children=Ln.prototype.children=yn;const Zn=Object.create(null);function Vn(e,t,n){if(e==t)return!0;e||(e=Zn),t||(t=Zn);let r=Object.keys(e),i=Object.keys(t);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(-1==i.indexOf(o)||e[o]!==t[o]))return!1;return!0}function Wn(e,t,n){let r=!1;if(t)for(let i in t)n&&i in n||(r=!0,"style"==i?e.style.cssText="":e.removeAttribute(i));if(n)for(let i in n)t&&t[i]==n[i]||(r=!0,"style"==i?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return r}function Un(e){let t=Object.create(null);for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];t[r.name]=r.value}return t}class qn extends vn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,r,i,o){if(n){if(!(n instanceof qn))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),wn(this,e,t,n?n.children.slice():[],i,o),!0}split(e){let t=new qn;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:r}=this.childPos(e);r&&(t.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let e=n;e<this.children.length;e++)t.append(this.children[e],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Vn(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){zn(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=Bn(t,this.attrs||{})),n&&(this.attrs=Bn({class:n},this.attrs||{}))}domAtPos(e){return Qn(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?4&this.flags&&(fn(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(Wn(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&vn.get(r)instanceof Rn;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(n=vn.get(r))||void 0===n?void 0:n.isEditable)||Dn.ios&&this.children.some((e=>e instanceof $n))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e,t=0;for(let n of this.children){if(!(n instanceof $n)||/[^ -~]/.test(n.text))return null;let r=Jt(n.dom);if(1!=r.length)return null;t+=r[0].width,e=r[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let n=Fn(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:e}=this.parent.view.viewState,t=n.bottom-n.top;if(Math.abs(t-e.lineHeight)<2&&e.textHeight<t){let r=(t-e.textHeight)/2;return{top:n.top+r,bottom:n.bottom-r,left:n.left,right:n.left}}}return n}become(e){return!1}covers(){return!0}static find(e,t){for(let n=0,r=0;n<e.children.length;n++){let i=e.children[n],o=r+i.length;if(o>=t){if(i instanceof qn)return i;if(o>t)break}r=o+i.breakAfter}return null}}class Yn extends vn{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,r,i,o){return!(n&&(!(n instanceof Yn&&this.widget.compare(n.widget))||e>0&&i<=0||t<this.length&&o<=0)||(this.length=e+(n?n.length:0)+(this.length-t),0))}domAtPos(e){return 0==e?gn.before(this.dom):gn.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new Yn(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return yn}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):te.empty}domBoundsAround(){return null}become(e){return e instanceof Yn&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t!=n&&(e<0?t<0:n>0)}}class Xn{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}destroy(e){}}var Hn=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(Hn||(Hn={}));class Gn extends Ot{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Kn(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new er(e,t,t,n,e.widget||null,!1)}static replace(e){let t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{let{start:i,end:o}=tr(e,r);t=(i?r?-3e8:-1:5e8)-1,n=1+(o?r?2e8:1:-6e8)}return new er(e,t,n,r,e.widget||null,!0)}static line(e){return new Jn(e)}static set(e,t=!1){return _t.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}Gn.none=_t.empty;class Kn extends Gn{constructor(e){let{start:t,end:n}=tr(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof Kn&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(n=e.attrs)||void 0===n?void 0:n.class))&&Vn(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Kn.prototype.point=!1;class Jn extends Gn{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Jn&&this.spec.class==e.spec.class&&Vn(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Jn.prototype.mapMode=Se.TrackBefore,Jn.prototype.point=!0;class er extends Gn{constructor(e,t,n,r,i,o){super(t,n,i,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?Se.TrackBefore:Se.TrackAfter:Se.TrackDel}get type(){return this.startSide!=this.endSide?Hn.WidgetRange:this.startSide<=0?Hn.WidgetBefore:Hn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof er&&function(e,t){return e==t||!!(e&&t&&e.compare(t))}(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function tr(e,t=!1){let{inclusiveStart:n,inclusiveEnd:r}=e;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!=n?n:t,end:null!=r?r:t}}function nr(e,t,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=e?n[i]=Math.max(n[i],t):n.push(e,t)}er.prototype.point=!0;class rr{constructor(e,t,n,r){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Yn&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new qn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(ir(new Ln(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof Yn||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(ir(new $n(this.text.slice(this.textOff,this.textOff+r)),t),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,n,r,i,o){if(this.disallowBlockEffectsFor[o]&&n instanceof er){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=t-e;if(n instanceof er)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Yn(n.widget||new or("div"),s,n));else{let o=Nn.create(n.widget||new or("span"),s,s?0:n.startSide),a=this.atCursorPos&&!o.isEditable&&i<=r.length&&(e<t||n.startSide>0),c=!o.isEditable&&(e<t||i>r.length||n.startSide<=0),l=this.getLine();2!=this.pendingBuffer||a||o.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),a&&(l.append(ir(new Ln(1),r),i),i=r.length+Math.max(0,i-r.length)),l.append(ir(o,r),i),this.atCursorPos=c,this.pendingBuffer=c?e<t||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}static build(e,t,n,r,i){let o=new rr(e,t,n,i);return o.openEnd=_t.spans(r,t,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function ir(e,t){for(let n of t)e=new Rn(n,[e],e.length);return e}class or extends Xn{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const sr=Re.define(),ar=Re.define(),cr=Re.define(),lr=Re.define(),ur=Re.define(),dr=Re.define(),hr=Re.define(),pr=Re.define({combine:e=>e.some((e=>e))}),fr=Re.define({combine:e=>e.some((e=>e))});class mr{constructor(e,t="nearest",n="nearest",r=5,i=5,o=!1){this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=i,this.isSnapshot=o}map(e){return e.empty?this:new mr(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new mr(Ae.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const gr=ct.define({map:(e,t)=>e.map(t)});function yr(e,t,n){let r=e.facet(lr);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const vr=Re.define({combine:e=>!e.length||e[0]});let br=0;const xr=Re.define();class Or{constructor(e,t,n,r,i){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=r,this.extension=i(this)}static define(e,t){const{eventHandlers:n,eventObservers:r,provide:i,decorations:o}=t||{};return new Or(br++,e,n,r,(e=>{let t=[xr.of(e)];return o&&t.push(_r.of((t=>{let n=t.plugin(e);return n?o(n):Gn.none}))),i&&t.push(i(e)),t}))}static fromClass(e,t){return Or.define((t=>new e(t)),t)}}class wr{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(yr(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){yr(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){yr(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Sr=Re.define(),kr=Re.define(),_r=Re.define(),Pr=Re.define(),Er=Re.define();function Cr(e,t,n){let r=e.state.facet(Er);if(!r.length)return r;let i=r.map((t=>t instanceof Function?t(e):t)),o=[];return _t.spans(i,t,n,{point(){},span(e,t,n,r){let i=o;for(let o=n.length-1;o>=0;o--,r--){let s,a=n[o].spec.bidiIsolate;if(null!=a)if(r>0&&i.length&&(s=i[i.length-1]).to==e&&s.direction==a)s.to=t,i=s.inner;else{let n={from:e,to:t,direction:a,inner:[]};i.push(n),i=n.inner}}}}),o}const Tr=Re.define();function jr(e){let t=0,n=0,r=0,i=0;for(let o of e.state.facet(Tr)){let s=o(e);s&&(null!=s.left&&(t=Math.max(t,s.left)),null!=s.right&&(n=Math.max(n,s.right)),null!=s.top&&(r=Math.max(r,s.top)),null!=s.bottom&&(i=Math.max(i,s.bottom)))}return{left:t,right:n,top:r,bottom:i}}const Ir=Re.define();class Mr{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(e){return new Mr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let r=0,i=0,o=0,s=0;;r++){let a=r==e.length?null:e[r],c=o-s,l=a?a.fromB:1e9;for(;i<t.length&&t[i]<l;){let e=t[i],r=t[i+1],o=Math.max(s,e),a=Math.min(l,r);if(o<=a&&new Mr(o+c,a+c,o,a).addToSet(n),r>l)break;i+=2}if(!a)return n;new Mr(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),o=a.toA,s=a.toB}}}class Ar{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=_e.empty(this.startState.doc.length);for(let e of n)this.changes=this.changes.compose(e.changes);let r=[];this.changes.iterChangedRanges(((e,t,n,i)=>r.push(new Mr(e,t,n,i)))),this.changedRanges=r}static create(e,t,n){return new Ar(e,t,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var Dr=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(Dr||(Dr={}));const $r=Dr.LTR,Rr=Dr.RTL;function Nr(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const Lr=Nr("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Qr=Nr("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),zr=Object.create(null),Fr=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);zr[t]=n,zr[n]=-t}const Br=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Zr{get dir(){return this.level%2?Rr:$r}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,n,r){let i=-1;for(let o=0;o<e.length;o++){let s=e[o];if(s.from<=t&&s.to>=t){if(s.level==n)return o;(i<0||(0!=r?r<0?s.from<t:s.to>t:e[i].level>s.level))&&(i=o)}}if(i<0)throw new RangeError("Index out of range");return i}}function Vr(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!Vr(r.inner,i.inner))return!1}return!0}const Wr=[];function Ur(e,t,n,r,i,o,s){let a=r%2?2:1;if(r%2==i%2)for(let c=t,l=0;c<n;){let t=!0,u=!1;if(l==o.length||c<o[l].from){let e=Wr[c];e!=a&&(t=!1,u=16==e)}let d=t||1!=a?null:[],h=t?r:r+1,p=c;e:for(;;)if(l<o.length&&p==o[l].from){if(u)break e;let f=o[l];if(!t)for(let e=f.to,t=l+1;;){if(e==n)break e;if(!(t<o.length&&o[t].from==e)){if(Wr[e]==a)break e;break}e=o[t++].to}l++,d?d.push(f):(f.from>c&&s.push(new Zr(c,f.from,h)),qr(e,f.direction==$r!=!(h%2)?r+1:r,i,f.inner,f.from,f.to,s),c=f.to),p=f.to}else{if(p==n||(t?Wr[p]!=a:Wr[p]==a))break;p++}d?Ur(e,c,p,r+1,i,d,s):c<p&&s.push(new Zr(c,p,h)),c=p}else for(let c=n,l=o.length;c>t;){let n=!0,u=!1;if(!l||c>o[l-1].to){let e=Wr[c-1];e!=a&&(n=!1,u=16==e)}let d=n||1!=a?null:[],h=n?r:r+1,p=c;e:for(;;)if(l&&p==o[l-1].to){if(u)break e;let f=o[--l];if(!n)for(let e=f.from,n=l;;){if(e==t)break e;if(!n||o[n-1].to!=e){if(Wr[e-1]==a)break e;break}e=o[--n].from}d?d.push(f):(f.to<c&&s.push(new Zr(f.to,c,h)),qr(e,f.direction==$r!=!(h%2)?r+1:r,i,f.inner,f.from,f.to,s),c=f.from),p=f.from}else{if(p==t||(n?Wr[p-1]!=a:Wr[p-1]==a))break;p--}d?Ur(e,p,c,r+1,i,d,s):p<c&&s.push(new Zr(p,c,h)),c=p}}function qr(e,t,n,r,i,o,s){let a=t%2?2:1;!function(e,t,n,r,i){for(let s=0;s<=r.length;s++){let a=s?r[s-1].to:t,c=s<r.length?r[s].from:n,l=s?256:i;for(let t=a,n=l,r=l;t<c;t++){let i=(o=e.charCodeAt(t))<=247?Lr[o]:1424<=o&&o<=1524?2:1536<=o&&o<=1785?Qr[o-1536]:1774<=o&&o<=2220?4:8192<=o&&o<=8204?256:64336<=o&&o<=65023?4:1;512==i?i=n:8==i&&4==r&&(i=16),Wr[t]=4==i?2:i,7&i&&(r=i),n=i}for(let e=a,t=l,r=l;e<c;e++){let i=Wr[e];if(128==i)e<c-1&&t==Wr[e+1]&&24&t?i=Wr[e]=t:Wr[e]=256;else if(64==i){let i=e+1;for(;i<c&&64==Wr[i];)i++;let o=e&&8==t||i<n&&8==Wr[i]?1==r?1:8:256;for(let t=e;t<i;t++)Wr[t]=o;e=i-1}else 8==i&&1==r&&(Wr[e]=1);t=i,7&i&&(r=i)}}var o}(e,i,o,r,a),function(e,t,n,r,i){let o=1==i?2:1;for(let s=0,a=0,c=0;s<=r.length;s++){let l=s?r[s-1].to:t,u=s<r.length?r[s].from:n;for(let t,n,r,s=l;s<u;s++)if(n=zr[t=e.charCodeAt(s)])if(n<0){for(let e=a-3;e>=0;e-=3)if(Fr[e+1]==-n){let t=Fr[e+2],n=2&t?i:4&t?1&t?o:i:0;n&&(Wr[s]=Wr[Fr[e]]=n),a=e;break}}else{if(189==Fr.length)break;Fr[a++]=s,Fr[a++]=t,Fr[a++]=c}else if(2==(r=Wr[s])||1==r){let e=r==i;c=e?0:1;for(let t=a-3;t>=0;t-=3){let n=Fr[t+2];if(2&n)break;if(e)Fr[t+2]|=2;else{if(4&n)break;Fr[t+2]|=4}}}}}(e,i,o,r,a),function(e,t,n,r){for(let i=0,o=r;i<=n.length;i++){let s=i?n[i-1].to:e,a=i<n.length?n[i].from:t;for(let c=s;c<a;){let s=Wr[c];if(256==s){let s=c+1;for(;;)if(s==a){if(i==n.length)break;s=n[i++].to,a=i<n.length?n[i].from:t}else{if(256!=Wr[s])break;s++}let l=1==o,u=l==(1==(s<t?Wr[s]:r))?l?1:2:r;for(let t=s,r=i,o=r?n[r-1].to:e;t>c;)t==o&&(t=n[--r].from,o=r?n[r-1].to:e),Wr[--t]=u;c=s}else o=s,c++}}}(i,o,r,a),Ur(e,i,o,t,n,r,s)}function Yr(e){return[new Zr(0,e,0)]}let Xr="";function Hr(e,t,n,r,i){var o;let s=r.head-e.from,a=-1;if(0==s){if(!i||!e.length)return null;t[0].level!=n&&(s=t[0].side(!1,n),a=0)}else if(s==e.length){if(i)return null;let e=t[t.length-1];e.level!=n&&(s=e.side(!0,n),a=t.length-1)}a<0&&(a=Zr.find(t,s,null!==(o=r.bidiLevel)&&void 0!==o?o:-1,r.assoc));let c=t[a];s==c.side(i,n)&&(c=t[a+=i?1:-1],s=c.side(!i,n));let l=i==(c.dir==n),u=me(e.text,s,l);if(Xr=e.text.slice(Math.min(s,u),Math.max(s,u)),u>c.from&&u<c.to)return Ae.cursor(u+e.from,l?-1:1,c.level);let d=a==(i?t.length-1:0)?null:t[a+(i?1:-1)];return d||c.level==n?d&&d.level<c.level?Ae.cursor(d.side(!i,n)+e.from,i?1:-1,d.level):Ae.cursor(u+e.from,i?-1:1,c.level):Ae.cursor(i?e.to:e.from,i?-1:1,n)}class Gr extends vn{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new qn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Mr(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=-1;this.view.inputState.composing>=0&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?r=this.domChanged.newSel.head:function(e,t){let n=!1;return t&&e.iterChangedRanges(((e,r)=>{e<t.to&&r>t.from&&(n=!0)})),n}(e.changes,this.hasComposition)||e.selectionSet||(r=e.state.selection.main.head));let i=r>-1?function(e,t,n){let r=Jr(e,n);if(!r)return null;let{node:i,from:o,to:s}=r,a=i.nodeValue;if(/[\n\r]/.test(a))return null;if(e.state.doc.sliceString(r.from,r.to)!=a)return null;let c=t.invertedDesc,l=new Mr(c.mapPos(o),c.mapPos(s),o,s),u=[];for(let t=i.parentNode;;t=t.parentNode){let n=vn.get(t);if(n instanceof Rn)u.push({node:t,deco:n.mark});else{if(n instanceof qn||"DIV"==t.nodeName&&t.parentNode==e.contentDOM)return{range:l,text:i,marks:u,line:t};if(t==e.contentDOM)return null;u.push({node:t,deco:new Kn({inclusive:!0,attributes:Un(t),tagName:t.tagName.toLowerCase()})})}}}(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:t,to:r}=this.hasComposition;n=new Mr(t,r,e.changes.mapPos(t,-1),e.changes.mapPos(r,1)).addToSet(n.slice())}this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(Dn.ie||Dn.chrome)&&!i&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=function(e,t,n){let r=new ti;return _t.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return n=Mr.extendWithRanges(n,o),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,e.startState.doc.length,i),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=Dn.chrome||Dn.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.flags&=-8,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((e=>e.flags&=-9));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof Yn&&e.widget instanceof Kr&&i.push(e.dom);r.updateGaps(i)}updateChildren(e,t,n){let r=n?n.range.addToSet(e.slice()):e,i=this.childCursor(t);for(let e=r.length-1;;e--){let t=e>=0?r[e]:null;if(!t)break;let o,s,a,c,{fromA:l,toA:u,fromB:d,toB:h}=t;if(n&&n.range.fromB<h&&n.range.toB>d){let e=rr.build(this.view.state.doc,d,n.range.fromB,this.decorations,this.dynamicDecorationMap),t=rr.build(this.view.state.doc,n.range.toB,h,this.decorations,this.dynamicDecorationMap);s=e.breakAtStart,a=e.openStart,c=t.openEnd;let r=this.compositionView(n);t.breakAtStart?r.breakAfter=1:t.content.length&&r.merge(r.length,r.length,t.content[0],!1,t.openStart,0)&&(r.breakAfter=t.content[0].breakAfter,t.content.shift()),e.content.length&&r.merge(0,0,e.content[e.content.length-1],!0,0,e.openEnd)&&e.content.pop(),o=e.content.concat(r).concat(t.content)}else({content:o,breakAtStart:s,openStart:a,openEnd:c}=rr.build(this.view.state.doc,d,h,this.decorations,this.dynamicDecorationMap));let{i:p,off:f}=i.findPos(u,1),{i:m,off:g}=i.findPos(l,-1);On(this,m,g,p,f,o,s,a,c)}n&&this.fixCompositionDOM(n)}compositionView(e){let t=new $n(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new Rn(n,[t],t.length);let n=new qn;return n.append(t,0),n}fixCompositionDOM(e){let t=(e,t)=>{t.flags|=8|(t.children.some((e=>7&e.flags))?1:0),this.markedForComposition.add(t);let n=vn.get(e);n&&n!=t&&(n.dom=null),t.setDOM(e)},n=this.childPos(e.range.fromB,1),r=this.children[n.i];t(e.line,r);for(let i=e.marks.length-1;i>=-1;i--)n=r.childPos(n.off,1),r=r.children[n.i],t(i>=0?e.marks[i].node:e.text,r)}updateSelection(e=!1,t=!1){!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,i=!r&&Kt(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||t||i))return;let o=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(s.anchor)),c=s.empty?a:this.moveToLine(this.domAtPos(s.head));if(Dn.gecko&&s.empty&&!this.hasComposition&&1==(l=a).node.nodeType&&l.node.firstChild&&(0==l.offset||"false"==l.node.childNodes[l.offset-1].contentEditable)&&(l.offset==l.node.childNodes.length||"false"==l.node.childNodes[l.offset].contentEditable)){let e=document.createTextNode("");this.view.observer.ignore((()=>a.node.insertBefore(e,a.node.childNodes[a.offset]||null))),a=c=new gn(e,0),o=!0}var l;let u=this.view.observer.selectionRange;!o&&u.focusNode&&en(a.node,a.offset,u.anchorNode,u.anchorOffset)&&en(c.node,c.offset,u.focusNode,u.focusOffset)||(this.view.observer.ignore((()=>{Dn.android&&Dn.chrome&&this.dom.contains(u.focusNode)&&function(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=Ht(this.view.root);if(e)if(s.empty){if(Dn.gecko){let e=(t=a.node,r=a.offset,1!=t.nodeType?0:(r&&"false"==t.childNodes[r-1].contentEditable?1:0)|(r<t.childNodes.length&&"false"==t.childNodes[r].contentEditable?2:0));if(e&&3!=e){let t=ei(a.node,a.offset,1==e?1:-1);t&&(a=new gn(t.node,t.offset))}}e.collapse(a.node,a.offset),null!=s.bidiLevel&&void 0!==e.caretBidiLevel&&(e.caretBidiLevel=s.bidiLevel)}else if(e.extend){e.collapse(a.node,a.offset);try{e.extend(c.node,c.offset)}catch(e){}}else{let t=document.createRange();s.anchor>s.head&&([a,c]=[c,a]),t.setEnd(c.node,c.offset),t.setStart(a.node,a.offset),e.removeAllRanges(),e.addRange(t)}var t,r;i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())})),this.view.observer.setSelectionRange(a,c)),this.impreciseAnchor=a.precise?null:new gn(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new gn(u.focusNode,u.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=Ht(e.root),{anchorNode:r,anchorOffset:i}=e.observer.selectionRange;if(!(n&&t.empty&&t.assoc&&n.modify))return;let o=qn.find(this,t.head);if(!o)return;let s=o.posAtStart;if(t.head==s||t.head==s+o.length)return;let a=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!a||!c||a.bottom>c.top)return;let l=this.domAtPos(t.head+t.assoc);n.collapse(l.node,l.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&n.collapse(r,i)}moveToLine(e){let t,n=this.dom;if(e.node!=n)return e;for(let r=e.offset;!t&&r<n.childNodes.length;r++){let e=vn.get(n.childNodes[r]);e instanceof qn&&(t=e.domAtPos(0))}for(let r=e.offset-1;!t&&r>=0;r--){let e=vn.get(n.childNodes[r]);e instanceof qn&&(t=e.domAtPos(e.length))}return t?new gn(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let e=vn.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof qn)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,r=0;for(let i=this.length,o=this.children.length-1;o>=0;o--){let s=this.children[o],a=i-s.breakAfter,c=a-s.length;if(a<e)break;c<=e&&(c<e||s.covers(-1))&&(a>e||s.covers(1))&&(!n||s instanceof qn&&!(n instanceof qn&&t>=0))&&(n=s,r=c),i=c}return n?n.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),r=this.children[t];if(!(r instanceof qn))return null;for(;r.children.length;){let{i:e,off:t}=r.childPos(n,1);for(;;e++){if(e==r.children.length)return null;if((r=r.children[e]).length)break}n=t}if(!(r instanceof $n))return null;let i=me(r.text,n);if(i==n)return null;let o=hn(r.dom,n,i).getClientRects();for(let e=0;e<o.length;e++){let t=o[e];if(e==o.length-1||t.top<t.bottom&&t.left<t.right)return t}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:r}=e,i=this.view.contentDOM.clientWidth,o=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,a=this.view.textDirection==Dr.LTR;for(let e=0,c=0;c<this.children.length;c++){let l=this.children[c],u=e+l.length;if(u>r)break;if(e>=n){let n=l.dom.getBoundingClientRect();if(t.push(n.height),o){let t=l.dom.lastChild,r=t?Jt(t):[];if(r.length){let t=r[r.length-1],o=a?t.right-n.left:n.right-t.left;o>s&&(s=o,this.minWidth=i,this.minWidthFrom=e,this.minWidthTo=u)}}}e=u+l.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?Dr.RTL:Dr.LTR}measureTextSize(){for(let e of this.children)if(e instanceof qn){let t=e.measureTextSize();if(t)return t}let e,t,n,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let i=Jt(r.firstChild)[0];e=r.getBoundingClientRect().height,t=i?i.width/27:7,n=i?i.height:e,r.remove()})),{lineHeight:e,charWidth:t,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new xn(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let i=r==t.viewports.length?null:t.viewports[r],o=i?i.from-1:this.length;if(o>n){let r=(t.lineBlockAt(o).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(Gn.replace({widget:new Kr(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!i)break;n=i.to+1}return Gn.set(e)}updateDeco(){let e=this.view.state.facet(_r).map(((e,t)=>(this.dynamicDecorationMap[t]="function"==typeof e)?e(this.view):e));for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){if(e.isSnapshot){let t=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=t.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}let t,{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,t.left),top:Math.min(r.top,t.top),right:Math.max(r.right,t.right),bottom:Math.max(r.bottom,t.bottom)});let i=jr(this.view),o={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom},{offsetWidth:s,offsetHeight:a}=this.view.scrollDOM;!function(e,t,n,r,i,o,s,a){let c=e.ownerDocument,l=c.defaultView||window;for(let u=e,d=!1;u&&!d;)if(1==u.nodeType){let e,h=u==c.body,p=1,f=1;if(h)e=sn(l);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let t=u.getBoundingClientRect();({scaleX:p,scaleY:f}=an(u,t)),e={left:t.left,right:t.left+u.clientWidth*p,top:t.top,bottom:t.top+u.clientHeight*f}}let m=0,g=0;if("nearest"==i)t.top<e.top?(g=-(e.top-t.top+s),n>0&&t.bottom>e.bottom+g&&(g=t.bottom-e.bottom+g+s)):t.bottom>e.bottom&&(g=t.bottom-e.bottom+s,n<0&&t.top-g<e.top&&(g=-(e.top+g-t.top+s)));else{let r=t.bottom-t.top,o=e.bottom-e.top;g=("center"==i&&r<=o?t.top+r/2-o/2:"start"==i||"center"==i&&n<0?t.top-s:t.bottom-o+s)-e.top}if("nearest"==r?t.left<e.left?(m=-(e.left-t.left+o),n>0&&t.right>e.right+m&&(m=t.right-e.right+m+o)):t.right>e.right&&(m=t.right-e.right+o,n<0&&t.left<e.left+m&&(m=-(e.left+m-t.left+o))):m=("center"==r?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==r==a?t.left-o:t.right-(e.right-e.left)+o)-e.left,m||g)if(h)l.scrollBy(m,g);else{let e=0,n=0;if(g){let e=u.scrollTop;u.scrollTop+=g/f,n=(u.scrollTop-e)*f}if(m){let t=u.scrollLeft;u.scrollLeft+=m/p,e=(u.scrollLeft-t)*p}t={left:t.left-e,top:t.top-n,right:t.right-e,bottom:t.bottom-n},e&&Math.abs(e-m)<1&&(r="nearest"),n&&Math.abs(n-g)<1&&(i="nearest")}if(h)break;u=u.assignedSlot||u.parentNode}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,s),-s),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==Dr.LTR)}}class Kr extends Xn{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Jr(e,t){let n=e.observer.selectionRange,r=n.focusNode&&ei(n.focusNode,n.focusOffset,0);if(!r)return null;let i=t-r.offset;return{from:i,to:i+r.node.nodeValue.length,node:r.node}}function ei(e,t,n){if(n<=0)for(let n=e,r=t;;){if(3==n.nodeType)return{node:n,offset:r};if(!(1==n.nodeType&&r>0))break;n=n.childNodes[r-1],r=rn(n)}if(n>=0)for(let r=e,i=t;;){if(3==r.nodeType)return{node:r,offset:i};if(!(1==r.nodeType&&i<r.childNodes.length&&n>=0))break;r=r.childNodes[i],i=0}return null}let ti=class{constructor(){this.changes=[]}compareRange(e,t){nr(e,t,this.changes)}comparePoint(e,t){nr(e,t,this.changes)}};function ni(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function ri(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function ii(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function oi(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function si(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function ai(e,t,n){let r,i,o,s,a,c,l,u,d=!1;for(let h=e.firstChild;h;h=h.nextSibling){let e=Jt(h);for(let p=0;p<e.length;p++){let f=e[p];i&&ii(i,f)&&(f=oi(si(f,i.bottom),i.top));let m=ni(t,f),g=ri(n,f);if(0==m&&0==g)return 3==h.nodeType?ci(h,t,n):ai(h,t,n);if(!r||s>g||s==g&&o>m){r=h,i=f,o=m,s=g;let a=g?n<f.top?-1:1:m?t<f.left?-1:1:0;d=!a||(a>0?p<e.length-1:p>0)}0==m?n>f.bottom&&(!l||l.bottom<f.bottom)?(a=h,l=f):n<f.top&&(!u||u.top>f.top)&&(c=h,u=f):l&&ii(l,f)?l=si(l,f.bottom):u&&ii(u,f)&&(u=oi(u,f.top))}}if(l&&l.bottom>=n?(r=a,i=l):u&&u.top<=n&&(r=c,i=u),!r)return{node:e,offset:0};let h=Math.max(i.left,Math.min(i.right,t));return 3==r.nodeType?ci(r,h,n):d&&"false"!=r.contentEditable?ai(r,h,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(i.left+i.right)/2?1:0)}}function ci(e,t,n){let r=e.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let r=hn(e,a,a+1).getClientRects();for(let c=0;c<r.length;c++){let l=r[c];if(l.top==l.bottom)continue;s||(s=t-l.left);let u=(l.top>n?l.top-n:n-l.bottom)-1;if(l.left-1<=t&&l.right+1>=t&&u<o){let n=t>=(l.left+l.right)/2,r=n;if((Dn.chrome||Dn.gecko)&&hn(e,a).getBoundingClientRect().left==l.right&&(r=!n),u<=0)return{node:e,offset:a+(r?1:0)};i=a+(r?1:0),o=u}}}return{node:e,offset:i>-1?i:s>0?e.nodeValue.length:0}}function li(e,t,n,r=-1){var i,o;let s,a=e.contentDOM.getBoundingClientRect(),c=a.top+e.viewState.paddingTop,{docHeight:l}=e.viewState,{x:u,y:d}=t,h=d-c;if(h<0)return 0;if(h>l)return e.state.doc.length;for(let t=e.viewState.heightOracle.textHeight/2,i=!1;s=e.elementAtHeight(h),s.type!=Hn.Text;)for(;h=r>0?s.bottom+t:s.top-t,!(h>=0&&h<=l);){if(i)return n?null:0;i=!0,r=-r}d=c+h;let p=s.from;if(p<e.viewport.from)return 0==e.viewport.from?0:n?null:ui(e,a,s,u,d);if(p>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:ui(e,a,s,u,d);let f=e.dom.ownerDocument,m=e.root.elementFromPoint?e.root:f,g=m.elementFromPoint(u,d);g&&!e.contentDOM.contains(g)&&(g=null),g||(u=Math.max(a.left+1,Math.min(a.right-1,u)),g=m.elementFromPoint(u,d),g&&!e.contentDOM.contains(g)&&(g=null));let y,v=-1;if(g&&0!=(null===(i=e.docView.nearest(g))||void 0===i?void 0:i.isEditable))if(f.caretPositionFromPoint){let e=f.caretPositionFromPoint(u,d);e&&({offsetNode:y,offset:v}=e)}else if(f.caretRangeFromPoint){let t=f.caretRangeFromPoint(u,d);t&&(({startContainer:y,startOffset:v}=t),(!e.contentDOM.contains(y)||Dn.safari&&function(e,t,n){let r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return hn(e,r-1,r).getBoundingClientRect().left>n}(y,v,u)||Dn.chrome&&function(e,t,n){if(0!=t)return!1;for(let t=e;;){let e=t.parentNode;if(!e||1!=e.nodeType||e.firstChild!=t)return!1;if(e.classList.contains("cm-line"))break;t=e}return n-(1==e.nodeType?e.getBoundingClientRect():hn(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect()).left>5}(y,v,u))&&(y=void 0))}if(!y||!e.docView.dom.contains(y)){let t=qn.find(e.docView,p);if(!t)return h>s.top+s.height/2?s.to:s.from;({node:y,offset:v}=ai(t.dom,u,d))}let b=e.docView.nearest(y);if(!b)return null;if(b.isWidget&&1==(null===(o=b.dom)||void 0===o?void 0:o.nodeType)){let e=b.dom.getBoundingClientRect();return t.y<e.top||t.y<=e.bottom&&t.x<=(e.left+e.right)/2?b.posAtStart:b.posAtEnd}return b.localPosFromDOM(y,v)+b.posAtStart}function ui(e,t,n,r,i){let o=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){let t=e.viewState.heightOracle.textHeight;o+=Math.floor((i-n.top-.5*(e.defaultLineHeight-t))/t)*e.viewState.heightOracle.lineLength}let s=e.state.sliceDoc(n.from,n.to);return n.from+function(e,t,n,r){for(let r=0,i=0;;){if(i>=t)return r;if(r==e.length)break;i+=9==e.charCodeAt(r)?n-i%n:1,r=me(e,r)}return e.length}(s,o,e.state.tabSize)}function di(e,t,n,r){let i=e.state.doc.lineAt(t.head),o=e.bidiSpans(i),s=e.textDirectionAt(i.from);for(let a=t,c=null;;){let t=Hr(i,o,s,a,n),l=Xr;if(!t){if(i.number==(n?e.state.doc.lines:1))return a;l="\n",i=e.state.doc.line(i.number+(n?1:-1)),o=e.bidiSpans(i),t=Ae.cursor(n?i.from:i.to)}if(c){if(!c(l))return a}else{if(!r)return t;c=r(l)}a=t}}function hi(e,t,n){for(;;){let r=0;for(let i of e)i.between(t-1,t+1,((e,i,o)=>{if(t>e&&t<i){let o=r||n||(t-e<i-t?-1:1);t=o<0?e:i,r=o}}));if(!r)return t}}function pi(e,t,n){let r=hi(e.state.facet(Pr).map((t=>t(e))),n.from,t.head>n.from?-1:1);return r==n.from?n:Ae.cursor(r,r<n.from?1:-1)}class fi{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Dn.safari&&e.contentDOM.addEventListener("input",(()=>null)),Dn.gecko&&function(e){Fi.has(e)||(Fi.add(e),e.addEventListener("copy",(()=>{})),e.addEventListener("cut",(()=>{})))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=vn.get(r))&&n.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||this.runHandlers(e.type,e))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let e of n.observers)e(this.view,t);for(let e of n.handlers){if(t.defaultPrevented)break;if(e(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=gi(e),n=this.handlers,r=this.view.contentDOM;for(let e in t)if("scroll"!=e){let i=!t[e].handlers.length,o=n[e];o&&i!=!o.handlers.length&&(r.removeEventListener(e,this.handleEvent),o=null),o||r.addEventListener(e,this.handleEvent,{passive:i})}for(let e in n)"scroll"==e||t[e]||r.removeEventListener(e,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(27!=e.keyCode&&bi.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),Dn.android&&Dn.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!Dn.ios||e.synthetic||e.altKey||e.metaKey||!((t=yi.find((t=>t.keyCode==e.keyCode)))&&!e.ctrlKey||vi.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(){let e=this.pendingIOSKey;return!!e&&(this.pendingIOSKey=void 0,pn(this.view.contentDOM,e.key,e.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(Dn.safari&&!Dn.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function mi(e,t){return(n,r)=>{try{return t.call(e,r,n)}catch(e){yr(n.state,e)}}}function gi(e){let t=Object.create(null);function n(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let t of e){let e=t.spec;if(e&&e.domEventHandlers)for(let r in e.domEventHandlers){let i=e.domEventHandlers[r];i&&n(r).handlers.push(mi(t.value,i))}if(e&&e.domEventObservers)for(let r in e.domEventObservers){let i=e.domEventObservers[r];i&&n(r).observers.push(mi(t.value,i))}}for(let e in wi)n(e).handlers.push(wi[e]);for(let e in Si)n(e).observers.push(Si[e]);return t}const yi=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],vi="dthko",bi=[16,17,18,20,91,92,224,225];function xi(e){return.7*Math.max(0,e)+8}class Oi{constructor(e,t,n,r){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=function(e){let t=e.ownerDocument;for(let n=e.parentNode;n&&n!=t.body;)if(1==n.nodeType){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else{if(11!=n.nodeType)break;n=n.host}return null}(e.contentDOM),this.atoms=e.state.facet(Pr).map((t=>t(e)));let i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(bt.allowMultipleSelections)&&function(e,t){let n=e.state.facet(sr);return n.length?n[0](t):Dn.mac?t.metaKey:t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=Ht(e.root);if(!r||0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let e=0;e<i.length;e++){let n=i[e];if(n.left<=t.clientX&&n.right>=t.clientX&&n.top<=t.clientY&&n.bottom>=t.clientY)return!0}return!1}(e,t)||1!=$i(t))&&null}start(e){!1===this.dragging&&this.select(e)}move(e){var t;if(0==e.buttons)return this.destroy();if(this.dragging||null==this.dragging&&function(e,t){return Math.max(Math.abs(e.clientX-t.clientX),Math.abs(e.clientY-t.clientY))}(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=jr(this.view);e.clientX-o.left<=i.left+6?n=-xi(i.left-e.clientX):e.clientX+o.right>=i.right-6&&(n=xi(e.clientX-i.right)),e.clientY-o.top<=i.top+6?r=-xi(i.top-e.clientY):e.clientY+o.bottom>=i.bottom-6&&(r=xi(e.clientY-i.bottom)),this.setScrollSpeed(n,r)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let r=e.ranges[n],i=null;if(r.empty){let e=hi(this.atoms,r.from,0);e!=r.from&&(i=Ae.cursor(e,-1))}else{let e=hi(this.atoms,r.from,-1),t=hi(this.atoms,r.to,1);e==r.from&&t==r.to||(i=Ae.range(r.from==r.anchor?e:t,r.from==r.head?e:t))}i&&(t||(t=e.ranges.slice()),t[n]=i)}return t?Ae.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection)||n.main.assoc!=t.state.selection.main.assoc&&!1===this.dragging)&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const wi=Object.create(null),Si=Object.create(null),ki=Dn.ie&&Dn.ie_version<15||Dn.ios&&Dn.webkit_version<604;function _i(e,t){let n,{state:r}=e,i=1,o=r.toText(t),s=o.lines==r.selection.ranges.length,a=null!=Ni&&r.selection.ranges.every((e=>e.empty))&&Ni==o.toString();if(a){let e=-1;n=r.changeByRange((n=>{let a=r.doc.lineAt(n.from);if(a.from==e)return{range:n};e=a.from;let c=r.toText((s?o.line(i++).text:t)+r.lineBreak);return{changes:{from:a.from,insert:c},range:Ae.cursor(n.from+c.length)}}))}else n=s?r.changeByRange((e=>{let t=o.line(i++);return{changes:{from:e.from,to:e.to,insert:t.text},range:Ae.cursor(e.from+t.length)}})):r.replaceSelection(o);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Pi(e,t,n,r){if(1==r)return Ae.cursor(t,n);if(2==r)return function(e,t,n=1){let r=e.charCategorizer(t),i=e.doc.lineAt(t),o=t-i.from;if(0==i.length)return Ae.cursor(t);0==o?n=1:o==i.length&&(n=-1);let s=o,a=o;n<0?s=me(i.text,o,!1):a=me(i.text,o);let c=r(i.text.slice(s,a));for(;s>0;){let e=me(i.text,s,!1);if(r(i.text.slice(e,s))!=c)break;s=e}for(;a<i.length;){let e=me(i.text,a);if(r(i.text.slice(a,e))!=c)break;a=e}return Ae.range(s+i.from,a+i.from)}(e.state,t,n);{let n=qn.find(e.docView,t),r=e.state.doc.lineAt(n?n.posAtEnd:t),i=n?n.posAtStart:r.from,o=n?n.posAtEnd:r.to;return o<e.state.doc.length&&o==r.to&&o++,Ae.range(i,o)}}Si.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},wi.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),27==t.keyCode&&(e.inputState.lastEscPress=Date.now()),!1),Si.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},Si.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},wi.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of e.state.facet(cr))if(n=r(e,t),n)break;if(n||0!=t.button||(n=function(e,t){let n=ji(e,t),r=$i(t),i=e.state.selection;return{update(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),i=i.map(e.changes))},get(t,o,s){let a,c=ji(e,t),l=Pi(e,c.pos,c.bias,r);if(n.pos!=c.pos&&!o){let t=Pi(e,n.pos,n.bias,r),i=Math.min(t.from,l.from),o=Math.max(t.to,l.to);l=i<l.from?Ae.range(i,o):Ae.range(o,i)}return o?i.replaceRange(i.main.extend(l.from,l.to)):s&&1==r&&i.ranges.length>1&&(a=function(e,t){for(let n=0;n<e.ranges.length;n++){let{from:r,to:i}=e.ranges[n];if(r<=t&&i>=t)return Ae.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}(i,c.pos))?a:s?i.addRange(l):Ae.create([l])}}}(e,t)),n){let r=!e.hasFocus;e.inputState.startMouseSelection(new Oi(e,t,n,r)),r&&e.observer.ignore((()=>dn(e.contentDOM)));let i=e.inputState.mouseSelection;if(i)return i.start(t),!1===i.dragging}return!1};let Ei=(e,t)=>e>=t.top&&e<=t.bottom,Ci=(e,t,n)=>Ei(t,n)&&e>=n.left&&e<=n.right;function Ti(e,t,n,r){let i=qn.find(e.docView,t);if(!i)return 1;let o=t-i.posAtStart;if(0==o)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&Ci(n,r,s))return-1;let a=i.coordsAt(o,1);return a&&Ci(n,r,a)?1:s&&Ei(r,s)?-1:1}function ji(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:Ti(e,n,t.clientX,t.clientY)}}const Ii=Dn.ie&&Dn.ie_version<=11;let Mi=null,Ai=0,Di=0;function $i(e){if(!Ii)return e.detail;let t=Mi,n=Di;return Mi=e,Di=Date.now(),Ai=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(Ai+1)%3:1}function Ri(e,t,n,r){if(!n)return;let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:o}=e.inputState,s=r&&o&&function(e,t){let n=e.state.facet(ar);return n.length?n[0](t):Dn.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:o.from,to:o.to}:null,a={from:i,insert:n},c=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:c,selection:{anchor:c.mapPos(i,-1),head:c.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),e.inputState.draggedContent=null}wi.dragstart=(e,t)=>{let{selection:{main:n}}=e.state;if(t.target.draggable){let r=e.docView.nearest(t.target);if(r&&r.isWidget){let e=r.posAtStart,t=e+r.length;(e>=n.to||t<=n.from)&&(n=Ae.range(e,t))}}let{inputState:r}=e;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove"),!1},wi.dragend=e=>(e.inputState.draggedContent=null,!1),wi.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let n=t.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&Ri(e,t,r.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=o,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),o()},t.readAsText(n[e])}return!0}{let n=t.dataTransfer.getData("Text");if(n)return Ri(e,t,n,!0),!0}return!1},wi.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let n=ki?null:t.clipboardData;return n?(_i(e,n.getData("text/plain")||n.getData("text/uri-text")),!0):(function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{e.focus(),n.remove(),_i(e,n.value)}),50)}(e),!1)};let Ni=null;wi.copy=wi.cut=(e,t)=>{let{text:n,ranges:r,linewise:i}=function(e){let t=[],n=[],r=!1;for(let r of e.selection.ranges)r.empty||(t.push(e.sliceDoc(r.from,r.to)),n.push(r));if(!t.length){let i=-1;for(let{from:r}of e.selection.ranges){let o=e.doc.lineAt(r);o.number>i&&(t.push(o.text),n.push({from:o.from,to:Math.min(e.doc.length,o.to+1)})),i=o.number}r=!0}return{text:t.join(e.lineBreak),ranges:n,linewise:r}}(e.state);if(!n&&!i)return!1;Ni=i?n:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=ki?null:t.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(function(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((()=>{r.remove(),e.focus()}),50)}(e,n),!1)};const Li=ot.define();function Qi(e,t){let n=[];for(let r of e.facet(hr)){let i=r(e,t);i&&n.push(i)}return n?e.update({effects:n,annotations:Li.of(!0)}):null}function zi(e){setTimeout((()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let n=Qi(e.state,t);n?e.dispatch(n):e.update([])}}),10)}Si.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),zi(e)},Si.blur=e=>{e.observer.clearSelectionRange(),zi(e)},Si.compositionstart=Si.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0)},Si.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,Dn.chrome&&Dn.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then((()=>e.observer.flush())):setTimeout((()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])}),50)},Si.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},wi.beforeinput=(e,t)=>{var n;let r;if(Dn.chrome&&Dn.android&&(r=yi.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let t=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}return!1};const Fi=new Set,Bi=["pre-wrap","normal","pre-line","break-spaces"];class Zi{constructor(e){this.lineWrapping=e,this.doc=te.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Bi.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}refresh(e,t,n,r,i,o){let s=Bi.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=t,this.charWidth=n,this.textHeight=r,this.lineLength=i,a){this.heightSamples={};for(let e=0;e<o.length;e++){let t=o[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return a}}class Vi{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Wi{constructor(e,t,n,r,i){this.from=e,this.length=t,this.top=n,this.height=r,this._content=i}get type(){return"number"==typeof this._content?Hn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof er?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Wi(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Ui=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(Ui||(Ui={}));const qi=.001;class Yi{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>qi&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return Yi.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let i=this,o=n.doc;for(let s=r.length-1;s>=0;s--){let{fromA:a,toA:c,fromB:l,toB:u}=r[s],d=i.lineAt(a,Ui.ByPosNoHeight,n.setDoc(t),0,0),h=d.to>=c?d:i.lineAt(c,Ui.ByPosNoHeight,n,0,0);for(u+=h.to-c,c=h.to;s>0&&d.from<=r[s-1].toA;)a=r[s-1].fromA,l=r[s-1].fromB,s--,a<d.from&&(d=i.lineAt(a,Ui.ByPosNoHeight,n,0,0));l+=d.from-a,a=d.from;let p=eo.build(n.setDoc(o),e,l,u);i=i.replace(a,c,p)}return i.updateHeight(n,0)}static empty(){return new Hi(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,r=0,i=0;for(;;)if(t==n)if(r>2*i){let i=e[t-1];i.break?e.splice(--t,1,i.left,null,i.right):e.splice(--t,1,i.left,i.right),n+=1+i.break,r-=i.size}else{if(!(i>2*r))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,i-=t.size}}else if(r<i){let n=e[t++];n&&(r+=n.size)}else{let t=e[--n];t&&(i+=t.size)}let o=0;return null==e[t-1]?(o=1,t--):null==e[t]&&(o=1,n++),new Ki(Yi.of(e.slice(0,t)),o,Yi.of(e.slice(n)))}}Yi.prototype.size=1;class Xi extends Yi{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,r){return new Wi(r,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,r,i){return this.blockAt(0,n,r,i)}forEachLine(e,t,n,r,i,o){e<=i+this.length&&t>=i&&o(this.blockAt(0,n,r,i))}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Hi extends Xi{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,r){return new Wi(r,this.length,n,this.height,this.breaks)}replace(e,t,n){let r=n[0];return 1==n.length&&(r instanceof Hi||r instanceof Gi&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof Gi?r=new Hi(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Yi.of(n)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Gi extends Yi{constructor(e){super(e,0)}heightMetrics(e,t){let n,r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,o=i-r+1,s=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*o);n=t/o,this.length>o+1&&(s=(this.height-t)/(this.length-o-1))}else n=this.height/o;return{firstLine:r,lastLine:i,perLine:n,perChar:s}}blockAt(e,t,n,r){let{firstLine:i,lastLine:o,perLine:s,perChar:a}=this.heightMetrics(t,r);if(t.lineWrapping){let i=r+Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length),o=t.doc.lineAt(i),c=s+o.length*a,l=Math.max(n,e-c/2);return new Wi(o.from,o.length,l,c,0)}{let r=Math.max(0,Math.min(o-i,Math.floor((e-n)/s))),{from:a,length:c}=t.doc.line(i+r);return new Wi(a,c,n+s*r,s,0)}}lineAt(e,t,n,r,i){if(t==Ui.ByHeight)return this.blockAt(e,n,r,i);if(t==Ui.ByPosNoHeight){let{from:t,to:r}=n.doc.lineAt(e);return new Wi(t,r-t,0,0,0)}let{firstLine:o,perLine:s,perChar:a}=this.heightMetrics(n,i),c=n.doc.lineAt(e),l=s+c.length*a,u=c.number-o,d=r+s*u+a*(c.from-i-u);return new Wi(c.from,c.length,Math.max(r,Math.min(d,r+this.height-l)),l,0)}forEachLine(e,t,n,r,i,o){e=Math.max(e,i),t=Math.min(t,i+this.length);let{firstLine:s,perLine:a,perChar:c}=this.heightMetrics(n,i);for(let l=e,u=r;l<=t;){let t=n.doc.lineAt(l);if(l==e){let n=t.number-s;u+=a*n+c*(e-i-n)}let r=a+c*t.length;o(new Wi(t.from,t.length,u,r,0)),u+=r,l=t.to+1}}replace(e,t,n){let r=this.length-t;if(r>0){let e=n[n.length-1];e instanceof Gi?n[n.length-1]=new Gi(e.length+r):n.push(null,new Gi(r-1))}if(e>0){let t=n[0];t instanceof Gi?n[0]=new Gi(e+t.length):n.unshift(new Gi(e-1),null)}return Yi.of(n)}decomposeLeft(e,t){t.push(new Gi(e-1),null)}decomposeRight(e,t){t.push(null,new Gi(this.length-e-1))}updateHeight(e,t=0,n=!1,r){let i=t+this.length;if(r&&r.from<=t+this.length&&r.more){let n=[],o=Math.max(t,r.from),s=-1;for(r.from>t&&n.push(new Gi(r.from-t-1).updateHeight(e,t));o<=i&&r.more;){let t=e.doc.lineAt(o).length;n.length&&n.push(null);let i=r.heights[r.index++];-1==s?s=i:Math.abs(i-s)>=qi&&(s=-2);let a=new Hi(t,i);a.outdated=!1,n.push(a),o+=t+1}o<=i&&n.push(null,new Gi(i-o).updateHeight(e,o));let a=Yi.of(n);return(s<0||Math.abs(a.height-this.height)>=qi||Math.abs(s-this.heightMetrics(e,t).perLine)>=qi)&&(e.heightChanged=!0),a}return(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Ki extends Yi{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,r){let i=n+this.left.height;return e<i?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,i,r+this.left.length+this.break)}lineAt(e,t,n,r,i){let o=r+this.left.height,s=i+this.left.length+this.break,a=t==Ui.ByHeight?e<o:e<s,c=a?this.left.lineAt(e,t,n,r,i):this.right.lineAt(e,t,n,o,s);if(this.break||(a?c.to<s:c.from>s))return c;let l=t==Ui.ByPosNoHeight?Ui.ByPosNoHeight:Ui.ByPos;return a?c.join(this.right.lineAt(s,l,n,o,s)):this.left.lineAt(s,l,n,r,i).join(c)}forEachLine(e,t,n,r,i,o){let s=r+this.left.height,a=i+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,r,i,o),t>=a&&this.right.forEachLine(e,t,n,s,a,o);else{let c=this.lineAt(a,Ui.ByPos,n,r,i);e<c.from&&this.left.forEachLine(e,c.from-1,n,r,i,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,n,s,a,o)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let i=[];e>0&&this.decomposeLeft(e,i);let o=i.length;for(let e of n)i.push(e);if(e>0&&Ji(i,o-1),t<this.length){let e=i.length;this.decomposeRight(t,i),Ji(i,e)}return Yi.of(i)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Yi.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,r){let{left:i,right:o}=this,s=t+i.length+this.break,a=null;return r&&r.from<=t+i.length&&r.more?a=i=i.updateHeight(e,t,n,r):i.updateHeight(e,t,n),r&&r.from<=s+o.length&&r.more?a=o=o.updateHeight(e,s,n,r):o.updateHeight(e,s,n),a?this.balanced(i,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Ji(e,t){let n,r;null==e[t]&&(n=e[t-1])instanceof Gi&&(r=e[t+1])instanceof Gi&&e.splice(t-1,3,new Gi(n.length+1+r.length))}class eo{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Hi?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new Hi(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;n.block?this.addBlock(new Xi(o,r,n)):(o||i||r>=5)&&this.addLineDeco(r,i,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Hi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new Gi(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Hi)return e;let t=new Hi(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof Hi||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Hi(0,-1));let n=e;for(let e of this.nodes)e instanceof Hi&&e.updateHeight(this.oracle,n),n+=e?e.length:1;return this.nodes}static build(e,t,n,r){let i=new eo(n,e);return _t.spans(t,n,r,i,0),i.finish(n)}}class to{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&nr(e,t,this.changes,5)}}function no(e,t){let n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),c=Math.min(i.innerHeight,n.bottom);for(let t=e.parentNode;t&&t!=r.body;)if(1==t.nodeType){let n=t,r=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=r.overflow){let r=n.getBoundingClientRect();o=Math.max(o,r.left),s=Math.min(s,r.right),a=Math.max(a,r.top),c=t==e.parentNode?r.bottom:Math.min(c,r.bottom)}t="absolute"==r.position||"fixed"==r.position?n.offsetParent:n.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:o-n.left,right:Math.max(o,s)-n.left,top:a-(n.top+t),bottom:Math.max(a,c)-(n.top+t)}}function ro(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class io{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}draw(e,t){return Gn.replace({widget:new oo(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class oo extends Xn{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class so{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=ho,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Dr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(kr).some((e=>"function"!=typeof e&&"cm-lineWrapping"==e.class));this.heightOracle=new Zi(t),this.stateDeco=e.facet(_r).filter((e=>"function"!=typeof e)),this.heightMap=Yi.empty().applyChanges(this.stateDeco,te.empty,this.heightOracle.setDoc(e.doc),[new Mr(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Gn.set(this.lineGaps.map((e=>e.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some((({from:e,to:t})=>r>=e&&r<=t))){let{from:t,to:n}=this.lineBlockAt(r);e.push(new ao(t,n))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?ho:new po(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:fo(e,this.scaler))}))}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(_r).filter((e=>"function"!=typeof e));let r=e.changedRanges,i=Mr.extendWithRanges(r,function(e,t,n){let r=new to;return _t.compare(e,t,n,r,0),r.changes}(n,this.stateDeco,e?e.changes:_e.empty(this.state.doc.length))),o=this.heightMap.height,s=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),this.heightMap.height!=o&&(e.flags|=2),s?(this.scrollAnchorPos=e.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let a=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let c=!e.changes.empty||2&e.flags||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),c&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(fr)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,i=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?Dr.RTL:Dr.LTR;let o=this.heightOracle.mustRefreshForWrapping(i),s=t.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;let c=0,l=0;if(s.width&&s.height){let{scaleX:e,scaleY:n}=an(t,s);this.scaleX==e&&this.scaleY==n||(this.scaleX=e,this.scaleY=n,c|=8,o=a=!0)}let u=(parseInt(n.paddingTop)||0)*this.scaleY,d=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==u&&this.paddingBottom==d||(this.paddingTop=u,this.paddingBottom=d,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let h=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=mn(e.scrollDOM);let p=(this.printing?ro:no)(t,this.paddingTop),f=p.top-this.pixelViewport.top,m=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let y=s.width;if(this.contentDOMWidth==y&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),a){let t=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(t)&&(o=!0),o||r.lineWrapping&&Math.abs(y-this.contentDOMWidth)>r.charWidth){let{lineHeight:n,charWidth:s,textHeight:a}=e.docView.measureTextSize();o=n>0&&r.refresh(i,n,s,a,y/s,t),o&&(e.docView.minWidth=0,c|=8)}f>0&&m>0?l=Math.max(f,m):f<0&&m<0&&(l=Math.min(f,m)),r.heightChanged=!1;for(let n of this.viewports){let i=n.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(n);this.heightMap=(o?Yi.empty().applyChanges(this.stateDeco,te.empty,this.heightOracle,[new Mr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new Vi(n.from,i))}r.heightChanged&&(c|=2)}let v=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(this.viewport=this.getViewport(l,this.scrollTarget)),this.updateForViewport(),(2&c||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,i=this.heightOracle,{visibleTop:o,visibleBottom:s}=this,a=new ao(r.lineAt(o-1e3*n,Ui.ByHeight,i,0,0).from,r.lineAt(s+1e3*(1-n),Ui.ByHeight,i,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let n,o=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),s=r.lineAt(e,Ui.ByPos,i,0,0);n="center"==t.y?(s.top+s.bottom)/2-o/2:"start"==t.y||"nearest"==t.y&&e<a.from?s.top:s.bottom-o,a=new ao(r.lineAt(n-500,Ui.ByHeight,i,0,0).from,r.lineAt(n+o+500,Ui.ByHeight,i,0,0).to)}}return a}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new ao(this.heightMap.lineAt(n,Ui.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Ui.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Ui.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(t,Ui.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:s}=this;return(0==e||r<=o-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||i>=s+Math.max(10,Math.min(n,250)))&&r>o-2e3&&i<s+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new io(t.mapPos(r.from),t.mapPos(r.to),r.size));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,i=r>>1,o=r<<1;if(this.defaultTextDirection!=Dr.LTR&&!n)return[];let s=[],a=(r,o,c,l)=>{if(o-r<i)return;let u=this.state.selection.main,d=[u.from];u.empty||d.push(u.to);for(let e of d)if(e>r&&e<o)return a(r,e-10,c,l),void a(e+10,o,c,l);let h=function(e,t){for(let n of e)if(t(n))return n}(e,(e=>e.from>=c.from&&e.to<=c.to&&Math.abs(e.from-r)<i&&Math.abs(e.to-o)<i&&!d.some((t=>e.from<t&&e.to>t))));if(!h){if(o<c.to&&t&&n&&t.visibleRanges.some((e=>e.from<=o&&e.to>=o))){let e=t.moveToLineBoundary(Ae.cursor(o),!1,!0).head;e>r&&(o=e)}h=new io(r,o,this.gapSize(c,r,o,l))}s.push(h)};for(let e of this.viewportLines){if(e.length<o)continue;let t=co(e.from,e.to,this.stateDeco);if(t.total<o)continue;let i,s,c=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let n,o,a=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=c){let r=uo(t,c),i=((this.visibleBottom-this.visibleTop)/2+a)/e.height;n=r-i,o=r+i}else n=(this.visibleTop-e.top-a)/e.height,o=(this.visibleBottom-e.top+a)/e.height;i=lo(t,n),s=lo(t,o)}else{let e,n,o=t.total*this.heightOracle.charWidth,a=r*this.heightOracle.charWidth;if(null!=c){let r=uo(t,c),i=((this.pixelViewport.right-this.pixelViewport.left)/2+a)/o;e=r-i,n=r+i}else e=(this.pixelViewport.left-a)/o,n=(this.pixelViewport.right+a)/o;i=lo(t,e),s=lo(t,n)}i>e.from&&a(e.from,i,e,t),s<e.to&&a(s,e.to,e,t)}return s}gapSize(e,t,n,r){let i=uo(r,n)-uo(r,t);return this.heightOracle.lineWrapping?e.height*i:r.total*this.heightOracle.charWidth*i}updateLineGaps(e){io.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Gn.set(e.map((e=>e.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];_t.spans(e,this.viewport.from,this.viewport.to,{span(e,n){t.push({from:e,to:n})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,n)=>e.from!=t[n].from||e.to!=t[n].to));return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||fo(this.heightMap.lineAt(e,Ui.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return fo(this.heightMap.lineAt(this.scaler.fromDOM(e),Ui.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return fo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class ao{constructor(e,t){this.from=e,this.to=t}}function co(e,t,n){let r=[],i=e,o=0;return _t.spans(n,e,t,{span(){},point(e,t){e>i&&(r.push({from:i,to:e}),o+=e-i),i=t}},20),i<t&&(r.push({from:i,to:t}),o+=t-i),{total:o,ranges:r}}function lo({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let r=Math.floor(e*n);for(let e=0;;e++){let{from:n,to:i}=t[e],o=i-n;if(r<=o)return n+r;r-=o}}function uo(e,t){let n=0;for(let{from:r,to:i}of e.ranges){if(t<=i){n+=t-r;break}n+=i-r}return n/e.total}const ho={toDOM:e=>e,fromDOM:e=>e,scale:1};class po{constructor(e,t,n){let r=0,i=0,o=0;this.viewports=n.map((({from:n,to:i})=>{let o=t.lineAt(n,Ui.ByPos,e,0,0).top,s=t.lineAt(i,Ui.ByPos,e,0,0).bottom;return r+=s-o,{from:n,to:i,top:o,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(t.height-r);for(let e of this.viewports)e.domTop=o+(e.top-i)*this.scale,o=e.domBottom=e.domTop+(e.bottom-e.top),i=e.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return r+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,r=i.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return n+(e-r)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,r=i.domBottom}}}function fo(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new Wi(e.from,e.length,n,r-n,Array.isArray(e._content)?e._content.map((e=>fo(e,t))):e._content)}const mo=Re.define({combine:e=>e.join(" ")}),go=Re.define({combine:e=>e.indexOf(!0)>-1}),yo=Ft.newName(),vo=Ft.newName(),bo=Ft.newName(),xo={"&light":"."+vo,"&dark":"."+bo};function Oo(e,t,n){return new Ft(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError(`Unsupported selector: ${t}`);return n[t]})):e+" "+t})}const wo=Oo("."+yo,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},xo),So="";class ko{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(bt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=So}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r);let e=this.text.length;this.readNode(r);let i=r.nextSibling;if(i==t)break;let o=vn.get(r),s=vn.get(i);(o&&s?o.breakAfter:(o?o.breakAfter:Po(r))||Po(i)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>e)&&this.lineBreak(),r=i}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let i,o=-1,s=1;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,n),s=this.lineSeparator.length):(i=r.exec(t))&&(o=i.index,s=i[0].length),this.append(t.slice(n,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=s-1);n=o+s}}readNode(e){if(e.cmIgnore)return;let t=vn.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(_o(e,n.node,n.offset)?t:0))}}function _o(e,t,n){for(;;){if(!t||n<rn(t))return!1;if(t==e)return!0;n=tn(t)+1,t=t.parentNode}}function Po(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class Eo{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Co{constructor(e,t,n,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:i,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let t=i||o?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=e.observer.selectionRange;return n&&(t.push(new Eo(n,r)),i==n&&o==r||t.push(new Eo(i,o))),t}(e),n=new ko(t,e.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(e,t){if(0==e.length)return null;let n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?Ae.single(n+t,r+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,n=i&&i.node==t.focusNode&&i.offset==t.focusOffset||!Gt(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),r=o&&o.node==t.anchorNode&&o.offset==t.anchorOffset||!Gt(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);this.newSel=Ae.single(r,n)}}}function To(e,t){let n,{newSel:r}=t,i=e.state.selection.main,o=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:r,to:s}=t.bounds,a=i.from,c=null;(8===o||Dn.android&&t.text.length<s-r)&&(a=i.to,c="end");let l=function(e,t,n,r){let i=Math.min(e.length,t.length),o=0;for(;o<i&&e.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==i&&e.length==t.length)return null;let s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;return"end"==r&&(n-=s+Math.max(0,o-Math.min(s,a))-o),s<o&&e.length<t.length?(o-=n<=o&&n>=s?o-n:0,a=o+(a-s),s=o):a<o&&(o-=n<=o&&n>=a?o-n:0,s=o+(s-a),a=o),{from:o,toA:s,toB:a}}(e.state.doc.sliceString(r,s,So),t.text,a-r,c);l&&(Dn.chrome&&13==o&&l.toB==l.from+2&&t.text.slice(l.from,l.toB)==So+So&&l.toB--,n={from:r+l.from,to:r+l.toA,insert:te.of(t.text.slice(l.from,l.toB).split(So))})}else r&&(!e.hasFocus&&e.state.facet(vr)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,i.to))}:(Dn.mac||Dn.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(r&&2==n.insert.length&&(r=Ae.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:te.of([" "])}):Dn.chrome&&n&&n.from==n.to&&n.from==i.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(r&&(r=Ae.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:te.of([" "])}),n){if(Dn.ios&&e.inputState.flushIOSKey())return!0;if(Dn.android&&(n.from==i.from&&n.to==i.to&&1==n.insert.length&&2==n.insert.lines&&pn(e.contentDOM,"Enter",13)||(n.from==i.from-1&&n.to==i.to&&0==n.insert.length||8==o&&n.insert.length<n.to-n.from&&n.to>i.head)&&pn(e.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&0==n.insert.length&&pn(e.contentDOM,"Delete",46)))return!0;let t,s=n.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let a=()=>t||(t=function(e,t,n){let r,i=e.state,o=i.selection.main;if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let n=o.from<t.from?i.sliceDoc(o.from,t.from):"",s=o.to>t.to?i.sliceDoc(t.to,o.to):"";r=i.replaceSelection(e.state.toText(n+t.insert.sliceString(0,void 0,e.state.lineBreak)+s))}else{let s=i.changes(t),a=n&&n.main.to<=s.newLength?n.main:void 0;if(i.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=o.to&&t.to>=o.to-10){let c,l=e.state.sliceDoc(t.from,t.to),u=n&&Jr(e,n.main.head);if(u){let e=t.insert.length-(t.to-t.from);c={from:u.from,to:u.to-e}}else c=e.state.doc.lineAt(o.head);let d=o.to-t.to,h=o.to-o.from;r=i.changeByRange((n=>{if(n.from==o.from&&n.to==o.to)return{changes:s,range:a||n.map(s)};let r=n.to-d,u=r-l.length;if(n.to-n.from!=h||e.state.sliceDoc(u,r)!=l||n.to>=c.from&&n.from<=c.to)return{range:n};let p=i.changes({from:u,to:r,insert:t.insert}),f=n.to-o.to;return{changes:p,range:a?Ae.range(Math.max(0,a.anchor+f),Math.max(0,a.head+f)):n.map(p)}}))}else r={changes:s,selection:a&&i.selection.replaceRange(a)}}let s="input.type";return(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,s+=".compose",e.inputState.compositionFirstChange&&(s+=".start",e.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}(e,n,r));return e.state.facet(dr).some((t=>t(e,n.from,n.to,s,a)))||e.dispatch(a()),!0}if(r&&!r.main.eq(i)){let t=!1,n="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:r,scrollIntoView:t,userEvent:n}),!0}return!1}const jo={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Io=Dn.ie&&Dn.ie_version<=11;class Mo{constructor(e){this.view=e,this.active=!1,this.selectionRange=new cn,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(Dn.ie&&Dn.ie_version<=11||Dn.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),Io&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,n)=>t!=e[n])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(vr)?n.root.activeElement!=this.dom:!Kt(n.dom,r))return;let i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(e)?t||(this.selectionChanged=!1):(Dn.ie&&Dn.ie_version<=11||Dn.android&&Dn.chrome)&&!n.state.selection.main.empty&&r.focusNode&&en(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Dn.safari&&11==e.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e){let t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;let r=t.startContainer,i=t.startOffset,o=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);return en(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}(this.view)||Ht(e.root);if(!t||this.selectionRange.eq(t))return!1;let n=Kt(this.dom,t);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(r=Math.min(r,rn(n));;)if(r){if(1!=n.nodeType)return!1;let e=n.childNodes[r-1];"false"==e.contentEditable?r--:(n=e,r=rn(n))}else{if(n==e)return!0;r=tn(n),n=n.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,jo),Io&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Io&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;e&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&e.force&&pn(this.dom,e.key,e.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let i of e){let e=this.readMutation(i);e&&(e.typeOver&&(r=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:r}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),r=this.selectionChanged&&Kt(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new Co(this.view,e,t,n);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,r=To(this.view,t);return this.view.state==n&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){let n=Ao(t,e.previousSibling||e.target.previousSibling,-1),r=Ao(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Ao(e,t,n){for(;t;){let r=vn.get(t);if(r&&r.parent==e)return r;let i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}class Do{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(e=>e.forEach((e=>t(e,this))))||(e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new so(e.state||bt.create(e)),e.scrollTo&&e.scrollTo.is(gr)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(xr).map((e=>new wr(e)));for(let e of this.plugins)e.update(this);this.observer=new Mo(this),this.inputState=new fi(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Gr(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let t=1==e.length&&e[0]instanceof lt?e:1==e.length&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,r=!1,i=this.state;for(let t of e){if(t.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=t.state}if(this.destroyed)return void(this.viewState.state=i);let o=this.hasFocus,s=0,a=null;e.some((e=>e.annotation(Li)))?(this.inputState.notifiedFocused=o,s=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,a=Qi(i,o),a||(s=1));let c=this.observer.delayedAndroidKey,l=null;if(c?(this.observer.clearDelayedAndroidKey(),l=this.observer.readChange(),(l&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(l=null)):this.observer.clear(),i.facet(bt.phrases)!=this.state.facet(bt.phrases))return this.setState(i);t=Ar.create(this,i,e),t.flags|=s;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(u&&(u=u.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;u=new mr(e.empty?e:Ae.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(gr)&&(u=e.value.clip(this.state))}this.viewState.update(t,u),this.bidiCache=No.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(Ir)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(mo)!=t.state.facet(mo)&&(this.viewState.mustMeasureContent=!0),(n||r||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let e of this.state.facet(ur))try{e(t)}catch(e){yr(this.state,e,"update listener")}(a||l)&&Promise.resolve().then((()=>{a&&this.state==a.startState&&this.dispatch(a),l&&!To(this,l)&&c.force&&pn(this.contentDOM,c.key,c.keyCode)}))}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new so(e),this.plugins=e.facet(xr).map((e=>new wr(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView.destroy(),this.docView=new Gr(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(xr),n=e.state.facet(xr);if(t!=n){let r=[];for(let i of n){let n=t.indexOf(i);if(n<0)r.push(new wr(i));else{let t=this.plugins[n];t.mustUpdate=e,r.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let e=0;;e++){if(o<0)if(mn(n))i=-1,o=this.viewState.heightMap.height;else{let e=this.viewState.scrollAnchorAt(r);i=e.from,o=e.top}this.updateState=1;let s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let a=[];4&s||([this.measureRequests,a]=[a,this.measureRequests]);let c=a.map((e=>{try{return e.read(this)}catch(e){return yr(this.state,e),Ro}})),l=Ar.create(this,this.state,[]),u=!1;l.flags|=s,t?t.flags|=s:t=l,this.updateState=2,l.empty||(this.updatePlugins(l),this.inputState.update(l),this.updateAttrs(),u=this.docView.update(l));for(let e=0;e<a.length;e++)if(c[e]!=Ro)try{let t=a[e];t.write&&t.write(c[e],this)}catch(e){yr(this.state,e)}if(u&&this.docView.updateSelection(!0),!l.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}{let e=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-o;if(e>1||e<-1){r+=e,n.scrollTop=r/this.scaleY,o=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(ur))e(t)}get themeClasses(){return yo+" "+(this.state.facet(go)?bo:vo)+" "+this.state.facet(mo)}updateAttrs(){let e=Lo(this,Sr,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(vr)?"true":"false",class:"cm-content",style:`${Dn.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Lo(this,kr,t);let n=this.observer.ignore((()=>{let n=Wn(this.contentDOM,this.contentAttrs,t),r=Wn(this.dom,this.editorAttrs,e);return n||r}));return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)e.is(Do.announce)&&(t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value)}mountStyles(){this.styleModules=this.state.facet(Ir);let e=this.state.facet(Do.cspNonce);Ft.mount(this.root,this.styleModules.concat(wo).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return pi(this,e,di(this,e,t,n))}moveByGroup(e,t){return pi(this,e,di(this,e,t,(t=>function(e,t,n){let r=e.state.charCategorizer(t),i=r(n);return e=>{let t=r(e);return i==gt.Space&&(i=t),i==t}}(this,e.head,t))))}moveToLineBoundary(e,t,n=!0){return function(e,t,n,r){let i=function(e,t){let n=e.lineBlockAt(t);if(Array.isArray(n.type))for(let e of n.type)if(e.to>t||e.to==t&&(e.to==n.to||e.type==Hn.Text))return e;return n}(e,t.head),o=r&&i.type==Hn.Text&&(e.lineWrapping||i.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head):null;if(o){let t=e.dom.getBoundingClientRect(),r=e.textDirectionAt(i.from),s=e.posAtCoords({x:n==(r==Dr.LTR)?t.right-1:t.left+1,y:(o.top+o.bottom)/2});if(null!=s)return Ae.cursor(s,n?-1:1)}return Ae.cursor(n?i.to:i.from,n?-1:1)}(this,e,t,n)}moveVertically(e,t,n){return pi(this,e,function(e,t,n,r){let i=t.head,o=n?1:-1;if(i==(n?e.state.doc.length:0))return Ae.cursor(i,t.assoc);let s,a=t.goalColumn,c=e.contentDOM.getBoundingClientRect(),l=e.coordsAtPos(i,t.assoc||-1),u=e.documentTop;if(l)null==a&&(a=l.left-c.left),s=o<0?l.top:l.bottom;else{let t=e.viewState.lineBlockAt(i);null==a&&(a=Math.min(c.right-c.left,e.defaultCharacterWidth*(i-t.from))),s=(o<0?t.top:t.bottom)+u}let d=c.left+a,h=null!=r?r:e.viewState.heightOracle.textHeight>>1;for(let t=0;;t+=10){let n=s+(h+t)*o,r=li(e,{x:d,y:n},!1,o);if(n<c.top||n>c.bottom||(o<0?r<i:r>i)){let t=e.docView.coordsForChar(r),i=!t||n<t.top?-1:1;return Ae.cursor(r,i,void 0,a)}}}(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),li(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),i=this.bidiSpans(r);return on(n,i[Zr.find(i,e-r.from,-1,t)].dir==Dr.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(pr)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>$o)return Yr(e.length);let t,n=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==n&&(r.fresh||Vr(r.isolates,t=Cr(this,e.from,e.to))))return r.order;t||(t=Cr(this,e.from,e.to));let r=function(e,t,n){if(!e)return[new Zr(0,0,t==Rr?1:0)];if(t==$r&&!n.length&&!Br.test(e))return Yr(e.length);if(n.length)for(;e.length>Wr.length;)Wr[Wr.length]=256;let r=[],i=t==$r?0:1;return qr(e,i,i,n,0,e.length,r),r}(e.text,n,t);return this.bidiCache.push(new No(e.from,e.to,n,t,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Dn.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{dn(this.contentDOM),this.docView.updateSelection()}))}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return gr.of(new mr("number"==typeof e?Ae.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return gr.of(new mr(Ae.cursor(n.from),"start","start",n.top-e,t,!0))}static domEventHandlers(e){return Or.define((()=>({})),{eventHandlers:e})}static domEventObservers(e){return Or.define((()=>({})),{eventObservers:e})}static theme(e,t){let n=Ft.newName(),r=[mo.of(n),Ir.of(Oo(`.${n}`,e))];return t&&t.dark&&r.push(go.of(!0)),r}static baseTheme(e){return We.lowest(Ir.of(Oo("."+yo,e,xo)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),r=n&&vn.get(n)||vn.get(e);return(null===(t=null==r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}Do.styleModule=Ir,Do.inputHandler=dr,Do.focusChangeEffect=hr,Do.perLineTextDirection=pr,Do.exceptionSink=lr,Do.updateListener=ur,Do.editable=vr,Do.mouseSelectionStyle=cr,Do.dragMovesSelection=ar,Do.clickAddsSelectionRange=sr,Do.decorations=_r,Do.atomicRanges=Pr,Do.bidiIsolatedRanges=Er,Do.scrollMargins=Tr,Do.darkTheme=go,Do.cspNonce=Re.define({combine:e=>e.length?e[0]:""}),Do.contentAttributes=kr,Do.editorAttributes=Sr,Do.lineWrapping=Do.contentAttributes.of({class:"cm-lineWrapping"}),Do.announce=ct.define();const $o=4096,Ro={};class No{constructor(e,t,n,r,i,o){this.from=e,this.to=t,this.dir=n,this.isolates=r,this.fresh=i,this.order=o}static update(e,t){if(t.empty&&!e.some((e=>e.fresh)))return e;let n=[],r=e.length?e[e.length-1].dir:Dr.LTR;for(let i=Math.max(0,e.length-10);i<e.length;i++){let o=e[i];o.dir!=r||t.touchesRange(o.from,o.to)||n.push(new No(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return n}}function Lo(e,t,n){for(let r=e.state.facet(t),i=r.length-1;i>=0;i--){let t=r[i],o="function"==typeof t?t(e):t;o&&Bn(o,n)}return n}const Qo=Dn.mac?"mac":Dn.windows?"win":Dn.linux?"linux":"key";function zo(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const Fo=We.default(Do.domEventHandlers({keydown:(e,t)=>function(e,t,n,r){let i=function(e){var t=!(Ut&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||qt&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?Wt:Vt)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),o=Oe(xe(i,0))==i.length&&" "!=i,s="",a=!1,c=!1,l=!1;Vo&&Vo.view==n&&Vo.scope==r&&(s=Vo.prefix+" ",bi.indexOf(t.keyCode)<0&&(c=!0,Vo=null));let u,d,h=new Set,p=e=>{if(e){for(let r of e.run)if(!h.has(r)&&(h.add(r),r(n,t)))return e.stopPropagation&&(l=!0),!0;e.preventDefault&&(e.stopPropagation&&(l=!0),c=!0)}return!1},f=e[r];return f&&(p(f[s+zo(i,t,!o)])?a=!0:o&&(t.altKey||t.metaKey||t.ctrlKey)&&!(Dn.windows&&t.ctrlKey&&t.altKey)&&(u=Vt[t.keyCode])&&u!=i?(p(f[s+zo(u,t,!0)])||t.shiftKey&&(d=Wt[t.keyCode])!=i&&d!=u&&p(f[s+zo(d,t,!1)]))&&(a=!0):o&&t.shiftKey&&p(f[s+zo(i,t,!0)])&&(a=!0),!a&&p(f._any)&&(a=!0)),c&&(a=!0),a&&l&&t.stopPropagation(),a}(function(e){let t=e.facet(Bo),n=Zo.get(t);return n||Zo.set(t,n=function(e,t=Qo){let n=Object.create(null),r=Object.create(null),i=(e,t)=>{let n=r[e];if(null==n)r[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},o=(e,r,o,s,a)=>{var c,l;let u=n[e]||(n[e]=Object.create(null)),d=r.split(/ (?!$)/).map((e=>function(e,t){const n=e.split(/-(?!$)/);let r,i,o,s,a=n[n.length-1];"Space"==a&&(a=" ");for(let e=0;e<n.length-1;++e){const a=n[e];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==t?s=!0:i=!0}}return r&&(a="Alt-"+a),i&&(a="Ctrl-"+a),s&&(a="Meta-"+a),o&&(a="Shift-"+a),a}(e,t)));for(let t=1;t<d.length;t++){let n=d.slice(0,t).join(" ");i(n,!0),u[n]||(u[n]={preventDefault:!0,stopPropagation:!1,run:[t=>{let r=Vo={view:t,prefix:n,scope:e};return setTimeout((()=>{Vo==r&&(Vo=null)}),Wo),!0}]})}let h=d.join(" ");i(h,!1);let p=u[h]||(u[h]={preventDefault:!1,stopPropagation:!1,run:(null===(l=null===(c=u._any)||void 0===c?void 0:c.run)||void 0===l?void 0:l.slice())||[]});o&&p.run.push(o),s&&(p.preventDefault=!0),a&&(p.stopPropagation=!0)};for(let r of e){let e=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let t of e){let e=n[t]||(n[t]=Object.create(null));e._any||(e._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let t in e)e[t].run.push(r.any)}let i=r[t]||r.key;if(i)for(let t of e)o(t,i,r.run,r.preventDefault,r.stopPropagation),r.shift&&o(t,"Shift-"+i,r.shift,r.preventDefault,r.stopPropagation)}return n}(t.reduce(((e,t)=>e.concat(t)),[]))),n}(t.state),e,t,"editor")})),Bo=Re.define({enables:Fo}),Zo=new WeakMap;let Vo=null;const Wo=4e3;const Uo={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};function qo(e,t,n,r,i){t.lastIndex=0;for(let o,s=e.iterRange(n,r),a=n;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;o=t.exec(s.value);)i(a+o.index,o)}!Dn.ios&&(Uo[".cm-line"].caretColor="transparent !important",Uo[".cm-content"]={caretColor:"transparent !important"});class Yo{constructor(e){const{regexp:t,decoration:n,decorate:r,boundary:i,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(e,t,n,i)=>r(i,n,n+e[0].length,e,t);else if("function"==typeof n)this.addMatch=(e,t,r,i)=>{let o=n(e,t,r);o&&i(r,r+e[0].length,o)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(e,t,r,i)=>i(r,r+e[0].length,n)}this.boundary=i,this.maxLength=o}createDeco(e){let t=new Pt,n=t.add.bind(t);for(let{from:t,to:r}of function(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(e.state.doc.lineAt(i).from,i-t),o=Math.min(e.state.doc.lineAt(o).to,o+t),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}(e,this.maxLength))qo(e.state.doc,this.regexp,t,r,((t,r)=>this.addMatch(r,e,t,n)));return t.finish()}updateDeco(e,t){let n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges(((t,i,o,s)=>{s>e.view.viewport.from&&o<e.view.viewport.to&&(n=Math.min(o,n),r=Math.max(s,r))})),e.viewportChanged||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}updateRange(e,t,n,r){for(let i of e.visibleRanges){let o=Math.max(i.from,n),s=Math.min(i.to,r);if(s>o){let n=e.state.doc.lineAt(o),r=n.to<s?e.state.doc.lineAt(s):n,a=Math.max(i.from,n.from),c=Math.min(i.to,r.to);if(this.boundary){for(;o>n.from;o--)if(this.boundary.test(n.text[o-1-n.from])){a=o;break}for(;s<r.to;s++)if(this.boundary.test(r.text[s-r.from])){c=s;break}}let l,u=[],d=(e,t,n)=>u.push(n.range(e,t));if(n==r)for(this.regexp.lastIndex=a-n.from;(l=this.regexp.exec(n.text))&&l.index<c-n.from;)this.addMatch(l,e,l.index+n.from,d);else qo(e.state.doc,this.regexp,a,c,((t,n)=>this.addMatch(n,e,t,d)));t=t.update({filterFrom:a,filterTo:c,filter:(e,t)=>e<a||t>c,add:u})}}return t}}const Xo=null!=/x/.unicode?"gu":"g",Ho=new RegExp("[\0-\b\n--\u2028\u2029\ufeff-]",Xo),Go={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Ko=null;const Jo=Re.define({combine(e){let t=xt(e,{render:null,specialChars:Ho,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==Ko&&"undefined"!=typeof document&&document.body){let t=document.body.style;Ko=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return Ko||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,Xo)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,Xo)),t}});function es(e={}){return[Jo.of(e),ts||(ts=Or.fromClass(class{constructor(e){this.view=e,this.decorations=Gn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(Jo)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new Yo({regexp:e.specialChars,decoration:(t,n,r)=>{let{doc:i}=n.state,o=xe(t[0],0);if(9==o){let e=i.lineAt(r),t=n.state.tabSize,o=Nt(e.text,t,r-e.from);return Gn.replace({widget:new rs((t-o%t)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=Gn.replace({widget:new ns(e,o)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(Jo);e.startState.facet(Jo)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let ts=null;class ns extends Xn{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"":10==e?"":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(Go[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;let i=document.createElement("span");return i.textContent=t,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class rs extends Xn{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const is=Gn.line({class:"cm-activeLine"}),os=Or.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){let i=e.lineBlockAt(r.head);i.from>t&&(n.push(is.range(i.from)),t=i.from)}return Gn.set(n)}},{decorations:e=>e.decorations});class ss extends Ot{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ss.prototype.elementClass="",ss.prototype.toDOM=void 0,ss.prototype.mapMode=Se.TrackBefore,ss.prototype.startSide=ss.prototype.endSide=-1,ss.prototype.point=!0;const as=Re.define(),cs=Re.define(),ls=Re.define({combine:e=>e.some((e=>e))});function us(e){let t=[ds];return e&&!1===e.fixed&&t.push(ls.of(!0)),t}const ds=Or.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(cs).map((t=>new ms(e,t)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!e.state.facet(ls),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(ls)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let n=_t.iter(this.view.state.facet(as),this.view.viewport.from),r=[],i=this.gutters.map((e=>new fs(e,this.view.viewport,-this.view.documentPadding.top)));for(let e of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(e.type)){let t=!0;for(let o of e.type)if(o.type==Hn.Text&&t){ps(n,r,o.from);for(let e of i)e.line(this.view,o,r);t=!1}else if(o.widget)for(let e of i)e.widget(this.view,o)}else if(e.type==Hn.Text){ps(n,r,e.from);for(let t of i)t.line(this.view,e,r)}else if(e.widget)for(let t of i)t.widget(this.view,e);for(let e of i)e.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(cs),n=e.state.facet(cs),r=e.docChanged||e.heightChanged||e.viewportChanged||!_t.eq(e.startState.facet(as),e.state.facet(as),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let t of this.gutters)t.update(e)&&(r=!0);else{r=!0;let i=[];for(let r of n){let n=t.indexOf(r);n<0?i.push(new ms(this.view,r)):(this.gutters[n].update(e),i.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),i.indexOf(e)<0&&e.destroy();for(let e of i)this.dom.appendChild(e.dom);this.gutters=i}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>Do.scrollMargins.of((t=>{let n=t.plugin(e);return n&&0!=n.gutters.length&&n.fixed?t.textDirection==Dr.LTR?{left:n.dom.offsetWidth*t.scaleX}:{right:n.dom.offsetWidth*t.scaleX}:null}))});function hs(e){return Array.isArray(e)?e:[e]}function ps(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class fs{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=_t.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:r}=this,i=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==r.elements.length){let t=new gs(e,o,i,n);r.elements.push(t),r.dom.appendChild(t.dom)}else r.elements[this.i].update(e,o,i,n);this.height=t.bottom,this.i++}line(e,t,n){let r=[];ps(this.cursor,r,t.from),n.length&&(r=r.concat(n));let i=this.gutter.config.lineMarker(e,t,r);i&&r.unshift(i);let o=this.gutter;(0!=r.length||o.config.renderEmptyElements)&&this.addElement(e,t,r)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t);n&&this.addElement(e,t,[n])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class ms{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,(r=>{let i,o=r.target;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let e=o.getBoundingClientRect();i=(e.top+e.bottom)/2}else i=r.clientY;let s=e.lineBlockAtHeight(i-e.documentTop);t.domEventHandlers[n](e,s,r)&&r.preventDefault()}));this.markers=hs(t.markers(e)),t.initialSpacer&&(this.spacer=new gs(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=hs(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!_t.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class gs{constructor(e,t,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,r)}update(e,t,n,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let n="cm-gutterElement",r=this.dom.firstChild;for(let i=0,o=0;;){let s=o,a=i<t.length?t[i++]:null,c=!1;if(a){let e=a.elementClass;e&&(n+=" "+e);for(let e=o;e<this.markers.length;e++)if(this.markers[e].compare(a)){s=e,c=!0;break}}else s=this.markers.length;for(;o<s;){let e=this.markers[o++];if(e.toDOM){e.destroy(r);let t=r.nextSibling;r.remove(),r=t}}if(!a)break;a.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),c&&o++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}const ys=Re.define(),vs=Re.define({combine:e=>xt(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let e in t){let r=n[e],i=t[e];n[e]=r?(e,t,n)=>r(e,t,n)||i(e,t,n):i}return n}})});class bs extends ss{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function xs(e,t){return e.state.facet(vs).formatNumber(t,e.state)}const Os=cs.compute([vs],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(ys),lineMarker:(e,t,n)=>n.some((e=>e.toDOM))?null:new bs(xs(e,e.state.doc.lineAt(t.from).number)),widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(vs)!=e.state.facet(vs),initialSpacer:e=>new bs(xs(e,ws(e.state.doc.lines))),updateSpacer(e,t){let n=xs(t.view,ws(t.view.state.doc.lines));return n==e.number?e:new bs(n)},domEventHandlers:e.facet(vs).domEventHandlers})));function ws(e){let t=9;for(;t<e;)t=10*t+9;return t}const Ss=1024;let ks=0;class _s{constructor(e,t){this.from=e,this.to=t}}class Ps{constructor(e={}){this.id=ks++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=Ts.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}Ps.closedBy=new Ps({deserialize:e=>e.split(" ")}),Ps.openedBy=new Ps({deserialize:e=>e.split(" ")}),Ps.group=new Ps({deserialize:e=>e.split(" ")}),Ps.contextHash=new Ps({perNode:!0}),Ps.lookAhead=new Ps({perNode:!0}),Ps.mounted=new Ps({perNode:!0});class Es{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[Ps.mounted.id]}}const Cs=Object.create(null);class Ts{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):Cs,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),r=new Ts(e.name||"",t,e.id,n);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(Ps.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return e=>{for(let n=e.prop(Ps.group),r=-1;r<(n?n.length:0);r++){let i=t[r<0?e.name:n[r]];if(i)return i}}}}Ts.none=new Ts("",Object.create(null),0,8);class js{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let r=null;for(let t of e){let e=t(n);e&&(r||(r=Object.assign({},n.props)),r[e[0].id]=e[1])}t.push(r?new Ts(n.name,r,n.id,n.flags):n)}return new js(t)}}const Is=new WeakMap,Ms=new WeakMap;var As;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(As||(As={}));class Ds{constructor(e,t,n,r,i){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,i&&i.length){this.props=Object.create(null);for(let[e,t]of i)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=Es.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let n=e.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new qs(this.topNode,e)}cursorAt(e,t=0,n=0){let r=Is.get(this)||this.topNode,i=new qs(r);return i.moveTo(e,t),Is.set(this,i._tree),i}get topNode(){return new zs(this,0,0,null)}resolve(e,t=0){let n=Ls(Is.get(this)||this.topNode,e,t,!1);return Is.set(this,n),n}resolveInner(e,t=0){let n=Ls(Ms.get(this)||this.topNode,e,t,!0);return Ms.set(this,n),n}resolveStack(e,t=0){return function(e,t,n){let r=e.resolveInner(t,n),i=null;for(let e=r instanceof zs?r:r.context.parent;e;e=e.parent)if(e.index<0){let o=e.parent;(i||(i=[r])).push(o.resolve(t,n)),e=o}else{let o=Es.get(e.tree);if(o&&o.overlay&&o.overlay[0].from<=t&&o.overlay[o.overlay.length-1].to>=t){let s=new zs(o.tree,o.overlay[0].from+e.from,-1,e);(i||(i=[r])).push(Ls(s,t,n,!1))}}return i?Ws(i):r}(this,e,t)}iterate(e){let{enter:t,leave:n,from:r=0,to:i=this.length}=e,o=e.mode||0,s=(o&As.IncludeAnonymous)>0;for(let e=this.cursor(o|As.IncludeAnonymous);;){let o=!1;if(e.from<=i&&e.to>=r&&(!s&&e.type.isAnonymous||!1!==t(e))){if(e.firstChild())continue;o=!0}for(;o&&n&&(s||!e.type.isAnonymous)&&n(e),!e.nextSibling();){if(!e.parent())return;o=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Gs(Ts.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,n)=>new Ds(this.type,e,t,n,this.propValues)),e.makeTree||((e,t,n)=>new Ds(Ts.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:r,maxBufferLength:i=Ss,reused:o=[],minRepeatType:s=r.types.length}=e,a=Array.isArray(n)?new $s(n,n.length):n,c=r.types,l=0,u=0;function d(e,t,n,g,y,v){let{id:b,start:x,end:O,size:w}=a,S=u;for(;w<0;){if(a.next(),-1==w){let t=o[b];return n.push(t),void g.push(x-e)}if(-3==w)return void(l=b);if(-4==w)return void(u=b);throw new RangeError(`Unrecognized record size: ${w}`)}let k,_,P=c[b],E=x-e;if(O-x<=i&&(_=function(e,t){let n=a.fork(),r=0,o=0,c=0,l=n.end-i,u={size:0,start:0,skip:0};e:for(let i=n.pos-e;n.pos>i;){let e=n.size;if(n.id==t&&e>=0){u.size=r,u.start=o,u.skip=c,c+=4,r+=4,n.next();continue}let a=n.pos-e;if(e<0||a<i||n.start<l)break;let d=n.id>=s?4:0,h=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break e;d+=4}else n.id>=s&&(d+=4);n.next()}o=h,r+=e,c+=d}return(t<0||r==e)&&(u.size=r,u.start=o,u.skip=c),u.size>4?u:void 0}(a.pos-t,y))){let t=new Uint16Array(_.size-_.skip),n=a.pos-_.size,i=t.length;for(;a.pos>n;)i=m(_.start,t,i);k=new Rs(t,O-_.start,r),E=_.start-e}else{let e=a.pos-w;a.next();let t=[],n=[],r=b>=s?b:-1,o=0,c=O;for(;a.pos>e;)r>=0&&a.id==r&&a.size>=0?(a.end<=c-i&&(p(t,n,x,o,a.end,c,r,S),o=t.length,c=a.end),a.next()):v>2500?h(x,e,t,n):d(x,e,t,n,r,v+1);if(r>=0&&o>0&&o<t.length&&p(t,n,x,o,x,c,r,S),t.reverse(),n.reverse(),r>-1&&o>0){let e=function(e){return(t,n,r)=>{let i,o,s=0,a=t.length-1;if(a>=0&&(i=t[a])instanceof Ds){if(!a&&i.type==e&&i.length==r)return i;(o=i.prop(Ps.lookAhead))&&(s=n[a]+i.length+o)}return f(e,t,n,r,s)}}(P);k=Gs(P,t,n,0,t.length,0,O-x,e,e)}else k=f(P,t,n,O-x,S-O)}n.push(k),g.push(E)}function h(e,t,n,o){let s=[],c=0,l=-1;for(;a.pos>t;){let{id:e,start:t,end:n,size:r}=a;if(r>4)a.next();else{if(l>-1&&t<l)break;l<0&&(l=n-i),s.push(e,t,n),c++,a.next()}}if(c){let t=new Uint16Array(4*c),i=s[s.length-2];for(let e=s.length-3,n=0;e>=0;e-=3)t[n++]=s[e],t[n++]=s[e+1]-i,t[n++]=s[e+2]-i,t[n++]=n;n.push(new Rs(t,s[2]-i,r)),o.push(i-e)}}function p(e,t,n,i,o,s,a,c){let l=[],u=[];for(;e.length>i;)l.push(e.pop()),u.push(t.pop()+n-o);e.push(f(r.types[a],l,u,s-o,c-s)),t.push(o-n)}function f(e,t,n,r,i=0,o){if(l){let e=[Ps.contextHash,l];o=o?[e].concat(o):[e]}if(i>25){let e=[Ps.lookAhead,i];o=o?[e].concat(o):[e]}return new Ds(e,t,n,r,o)}function m(e,t,n){let{id:r,start:i,end:o,size:c}=a;if(a.next(),c>=0&&r<s){let s=n;if(c>4){let r=a.pos-(c-4);for(;a.pos>r;)n=m(e,t,n)}t[--n]=s,t[--n]=o-e,t[--n]=i-e,t[--n]=r}else-3==c?l=r:-4==c&&(u=r);return n}let g=[],y=[];for(;a.pos>0;)d(e.start||0,e.bufferStart||0,g,y,-1,0);let v=null!==(t=e.length)&&void 0!==t?t:g.length?y[0]+g[0].length:0;return new Ds(c[e.topID],g.reverse(),y.reverse(),v)}(e)}}Ds.empty=new Ds(Ts.none,[],[],0);class $s{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new $s(this.buffer,this.index)}}class Rs{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return Ts.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(e+=4))return i;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return i+"("+o.join(",")+")"}findChild(e,t,n,r,i){let{buffer:o}=this,s=-1;for(let a=e;a!=t&&!(Ns(i,r,o[a+1],o[a+2])&&(s=a,n>0));a=o[a+3]);return s}slice(e,t,n){let r=this.buffer,i=new Uint16Array(t-e),o=0;for(let s=e,a=0;s<t;){i[a++]=r[s++],i[a++]=r[s++]-n;let t=i[a++]=r[s++]-n;i[a++]=r[s++]-e,o=Math.max(o,t)}return new Rs(i,o,this.set)}}function Ns(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function Ls(e,t,n,r){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!r&&e instanceof zs&&e.index<0?null:e.parent;if(!t)return e;e=t}let o=r?0:As.IgnoreOverlays;if(r)for(let r=e,s=r.parent;s;r=s,s=r.parent)r instanceof zs&&r.index<0&&(null===(i=s.enter(t,n,o))||void 0===i?void 0:i.from)!=r.from&&(e=s);for(;;){let r=e.enter(t,n,o);if(!r)return e;e=r}}class Qs{cursor(e=0){return new qs(this,e)}getChild(e,t=null,n=null){let r=Fs(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return Fs(this,e,t,n)}resolve(e,t=0){return Ls(this,e,t,!1)}resolveInner(e,t=0){return Ls(this,e,t,!0)}matchContext(e){return Bs(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(n=t,t=e.prevSibling):t=e}return n}get node(){return this}get next(){return this.parent}}class zs extends Qs{constructor(e,t,n,r){super(),this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,r,i=0){for(let o=this;;){for(let{children:s,positions:a}=o._tree,c=t>0?s.length:-1;e!=c;e+=t){let c=s[e],l=a[e]+o.from;if(Ns(r,n,l,l+c.length))if(c instanceof Rs){if(i&As.ExcludeBuffers)continue;let s=c.findChild(0,c.buffer.length,t,n-l,r);if(s>-1)return new Vs(new Zs(o,c,e,l),null,s)}else if(i&As.IncludeAnonymous||!c.type.isAnonymous||Ys(c)){let s;if(!(i&As.IgnoreMounts)&&(s=Es.get(c))&&!s.overlay)return new zs(s.tree,l,e,o);let a=new zs(c,l,e,o);return i&As.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(t<0?c.children.length-1:0,t,n,r)}}if(i&As.IncludeAnonymous||!o.type.isAnonymous)return null;if(e=o.index>=0?o.index+t:t<0?-1:o._parent._tree.children.length,o=o._parent,!o)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let r;if(!(n&As.IgnoreOverlays)&&(r=Es.get(this._tree))&&r.overlay){let n=e-this.from;for(let{from:e,to:i}of r.overlay)if((t>0?e<=n:e<n)&&(t<0?i>=n:i>n))return new zs(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Fs(e,t,n,r){let i=e.cursor(),o=[];if(!i.firstChild())return o;if(null!=n)for(;!i.type.is(n);)if(!i.nextSibling())return o;for(;;){if(null!=r&&i.type.is(r))return o;if(i.type.is(t)&&o.push(i.node),!i.nextSibling())return null==r?o:[]}}function Bs(e,t,n=t.length-1){for(let r=e.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}class Zs{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class Vs extends Qs{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return i<0?null:new Vs(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&As.ExcludeBuffers)return null;let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return i<0?null:new Vs(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Vs(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Vs(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,i=n.buffer[this.index+3];if(i>r){let o=n.buffer[this.index+1];e.push(n.slice(r,i,o)),t.push(0)}return new Ds(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Ws(e){if(!e.length)return null;let t=0,n=e[0];for(let r=1;r<e.length;r++){let i=e[r];(i.from>n.from||i.to<n.to)&&(n=i,t=r)}let r=n instanceof zs&&n.index<0?null:n.parent,i=e.slice();return r?i[t]=r:i.splice(t,1),new Us(i,n)}class Us{constructor(e,t){this.heads=e,this.node=t}get next(){return Ws(this.heads)}}class qs{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof zs)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof zs?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?!(n&As.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&As.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&As.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(r.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let r=t+e,i=e<0?-1:n._tree.children.length;r!=i;r+=e){let e=n._tree.children[r];if(this.mode&As.IncludeAnonymous||e instanceof Rs||!e.type.isAnonymous||Ys(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,i=this.stack.length;i>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,n=i+1;break e}r=this.stack[--i]}for(let e=n;e<this.stack.length;e++)t=new Vs(this.buffer,t,this.stack[e]);return this.bufferNode=new Vs(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return Bs(this.node,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return Bs(this.node,e,r);let o=n[t.buffer[this.stack[i]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function Ys(e){return e.children.some((e=>e instanceof Rs||!e.type.isAnonymous||Ys(e)))}const Xs=new WeakMap;function Hs(e,t){if(!e.isAnonymous||t instanceof Rs||t.type!=e)return 1;let n=Xs.get(t);if(null==n){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof Ds)){n=1;break}n+=Hs(e,r)}Xs.set(t,n)}return n}function Gs(e,t,n,r,i,o,s,a,c){let l=0;for(let n=r;n<i;n++)l+=Hs(e,t[n]);let u=Math.ceil(1.5*l/8),d=[],h=[];return function t(n,r,i,s,a){for(let l=i;l<s;){let i=l,p=r[l],f=Hs(e,n[l]);for(l++;l<s;l++){let t=Hs(e,n[l]);if(f+t>=u)break;f+=t}if(l==i+1){if(f>u){let e=n[i];t(e.children,e.positions,0,e.children.length,r[i]+a);continue}d.push(n[i])}else{let t=r[l-1]+n[l-1].length-p;d.push(Gs(e,n,r,i,l,p,t,null,c))}h.push(p+a-o)}}(t,n,r,i,0),(a||c)(d,h,s)}class Ks{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof Vs?this.setBuffer(e.context.buffer,e.index,t):e instanceof zs&&this.map.set(e.tree,t)}get(e){return e instanceof Vs?this.getBuffer(e.context.buffer,e.index):e instanceof zs?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Js{constructor(e,t,n,r,i=!1,o=!1){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(i?1:0)|(o?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],n=!1){let r=[new Js(0,e.length,e,0,!1,n)];for(let n of t)n.to>e.length&&r.push(n);return r}static applyChanges(e,t,n=128){if(!t.length)return e;let r=[],i=1,o=e.length?e[0]:null;for(let s=0,a=0,c=0;;s++){let l=s<t.length?t[s]:null,u=l?l.fromA:1e9;if(u-a>=n)for(;o&&o.from<u;){let t=o;if(a>=t.from||u<=t.to||c){let e=Math.max(t.from,a)-c,n=Math.min(t.to,u)-c;t=e>=n?null:new Js(e,n,t.tree,t.offset+c,s>0,!!l)}if(t&&r.push(t),o.to>u)break;o=i<e.length?e[i++]:null}if(!l)break;a=l.toA,c=l.toA-l.toB}return r}}class ea{startParse(e,t,n){return"string"==typeof e&&(e=new ta(e)),n=n?n.length?n.map((e=>new _s(e.from,e.to))):[new _s(0,0)]:[new _s(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let e=r.advance();if(e)return e}}}class ta{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}class na{constructor(e,t,n,r,i){this.parser=e,this.parse=t,this.overlay=n,this.target=r,this.from=i}}function ra(e){if(!e.length||e.some((e=>e.from>=e.to)))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(e))}class ia{constructor(e,t,n,r,i,o,s){this.parser=e,this.predicate=t,this.mounts=n,this.index=r,this.start=i,this.target=o,this.prev=s,this.depth=0,this.ranges=[]}}const oa=new Ps({perNode:!0});class sa{constructor(e,t,n,r,i){this.nest=t,this.input=n,this.fragments=r,this.ranges=i,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let e=this.baseParse.advance();if(!e)return null;if(this.baseParse=null,this.baseTree=e,this.startInner(),null!=this.stoppedAt)for(let e of this.inner)e.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let e=this.baseTree;return null!=this.stoppedAt&&(e=new Ds(e.type,e.children,e.positions,e.length,e.propValues.concat([[oa,this.stoppedAt]]))),e}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let n=Object.assign(Object.create(null),e.target.props);n[Ps.mounted.id]=new Es(t,e.overlay,e.parser),e.target.props=n}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new da(this.fragments),t=null,n=null,r=new qs(new zs(this.baseTree,this.ranges[0].from,0,null),As.IncludeAnonymous|As.IgnoreMounts);e:for(let i,o;;){let s,a=!0;if(null!=this.stoppedAt&&r.from>=this.stoppedAt)a=!1;else if(e.hasNode(r)){if(t){let e=t.mounts.find((e=>e.frag.from<=r.from&&e.frag.to>=r.to&&e.mount.overlay));if(e)for(let n of e.mount.overlay){let i=n.from+e.pos,o=n.to+e.pos;i>=r.from&&o<=r.to&&!t.ranges.some((e=>e.from<o&&e.to>i))&&t.ranges.push({from:i,to:o})}}a=!1}else if(n&&(o=aa(n.ranges,r.from,r.to)))a=2!=o;else if(!r.type.isAnonymous&&(i=this.nest(r,this.input))&&(r.from<r.to||!i.overlay)){r.tree||la(r);let o=e.findMounts(r.from,i.parser);if("function"==typeof i.overlay)t=new ia(i.parser,i.overlay,o,this.inner.length,r.from,r.tree,t);else{let e=ha(this.ranges,i.overlay||(r.from<r.to?[new _s(r.from,r.to)]:[]));e.length&&ra(e),!e.length&&i.overlay||this.inner.push(new na(i.parser,e.length?i.parser.startParse(this.input,fa(o,e),e):i.parser.startParse(""),i.overlay?i.overlay.map((e=>new _s(e.from-r.from,e.to-r.from))):null,r.tree,e.length?e[0].from:r.from)),i.overlay?e.length&&(n={ranges:e,depth:0,prev:n}):a=!1}}else t&&(s=t.predicate(r))&&(!0===s&&(s=new _s(r.from,r.to)),s.from<s.to&&t.ranges.push(s));if(a&&r.firstChild())t&&t.depth++,n&&n.depth++;else for(;!r.nextSibling();){if(!r.parent())break e;if(t&&! --t.depth){let e=ha(this.ranges,t.ranges);e.length&&(ra(e),this.inner.splice(t.index,0,new na(t.parser,t.parser.startParse(this.input,fa(t.mounts,e),e),t.ranges.map((e=>new _s(e.from-t.start,e.to-t.start))),t.target,e[0].from))),t=t.prev}n&&! --n.depth&&(n=n.prev)}}}}function aa(e,t,n){for(let r of e){if(r.from>=n)break;if(r.to>t)return r.from<=t&&r.to>=n?2:1}return 0}function ca(e,t,n,r,i,o){if(t<n){let s=e.buffer[t+1];r.push(e.slice(t,n,s)),i.push(s-o)}}function la(e){let{node:t}=e,n=[],r=t.context.buffer;do{n.push(e.index),e.parent()}while(!e.tree);let i=e.tree,o=i.children.indexOf(r),s=i.children[o],a=s.buffer,c=[o];i.children[o]=function e(r,i,o,l,u,d){let h=n[d],p=[],f=[];ca(s,r,h,p,f,l);let m=a[h+1],g=a[h+2];c.push(p.length);let y=d?e(h+4,a[h+3],s.set.types[a[h]],m,g-m,d-1):t.toTree();return p.push(y),f.push(m-l),ca(s,a[h+3],i,p,f,l),new Ds(o,p,f,u)}(0,a.length,Ts.none,0,s.length,n.length-1);for(let t of c){let n=e.tree.children[t],r=e.tree.positions[t];e.yield(new zs(n,r+e.from,t,e._tree))}}class ua{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(As.IncludeAnonymous|As.IgnoreMounts)}moveTo(e){let{cursor:t}=this,n=e-this.offset;for(;!this.done&&t.from<n;)t.to>=e&&t.enter(n,1,As.IgnoreOverlays|As.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(!(t.children.length&&0==t.positions[0]&&t.children[0]instanceof Ds))break;t=t.children[0]}return!1}}class da{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let n=this.curFrag=e[0];this.curTo=null!==(t=n.tree.prop(oa))&&void 0!==t?t:n.to,this.inner=new ua(n.tree,-n.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(e=t.tree.prop(oa))&&void 0!==e?e:t.to,this.inner=new ua(t.tree,-t.offset)}}findMounts(e,t){var n;let r=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let e=this.inner.cursor.node;e;e=e.parent){let i=null===(n=e.tree)||void 0===n?void 0:n.prop(Ps.mounted);if(i&&i.parser==t)for(let t=this.fragI;t<this.fragments.length;t++){let n=this.fragments[t];if(n.from>=e.to)break;n.tree==this.curFrag.tree&&r.push({frag:n,pos:e.from-n.offset,mount:i})}}}return r}}function ha(e,t){let n=null,r=t;for(let i=1,o=0;i<e.length;i++){let s=e[i-1].to,a=e[i].from;for(;o<r.length;o++){let e=r[o];if(e.from>=a)break;e.to<=s||(n||(r=n=t.slice()),e.from<s?(n[o]=new _s(e.from,s),e.to>a&&n.splice(o+1,0,new _s(a,e.to))):e.to>a?n[o--]=new _s(a,e.to):n.splice(o--,1))}}return r}function pa(e,t,n,r){let i=0,o=0,s=!1,a=!1,c=-1e9,l=[];for(;;){let u=i==e.length?1e9:s?e[i].to:e[i].from,d=o==t.length?1e9:a?t[o].to:t[o].from;if(s!=a){let e=Math.max(c,n),t=Math.min(u,d,r);e<t&&l.push(new _s(e,t))}if(c=Math.min(u,d),1e9==c)break;u==c&&(s?(s=!1,i++):s=!0),d==c&&(a?(a=!1,o++):a=!0)}return l}function fa(e,t){let n=[];for(let{pos:r,mount:i,frag:o}of e){let e=r+(i.overlay?i.overlay[0].from:0),s=e+i.tree.length,a=Math.max(o.from,e),c=Math.min(o.to,s);if(i.overlay){let s=i.overlay.map((e=>new _s(e.from+r,e.to+r))),l=pa(t,s,a,c);for(let t=0,r=a;;t++){let s=t==l.length,a=s?c:l[t].from;if(a>r&&n.push(new Js(r,a,i.tree,-e,o.from>=r||o.openStart,o.to<=a||o.openEnd)),s)break;r=l[t].to}}else n.push(new Js(a,c,i.tree,-e,o.from>=e||o.openStart,o.to<=s||o.openEnd))}return n}let ma=0;class ga{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=ma++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new ga([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new va;return t=>t.modified.indexOf(e)>-1?t:va.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let ya=0;class va{constructor(){this.instances=[],this.id=ya++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>n.base==e&&function(e,t){return e.length==t.length&&e.every(((e,n)=>e==t[n]))}(t,n.modified)));if(n)return n;let r=[],i=new ga(r,e,t);for(let e of t)e.instances.push(i);let o=function(e){let t=[[]];for(let n=0;n<e.length;n++)for(let r=0,i=t.length;r<i;r++)t.push(t[r].concat(e[n]));return t.sort(((e,t)=>t.length-e.length))}(t);for(let t of e.set)if(!t.modified.length)for(let e of o)r.push(va.get(t,e));return i}}function ba(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let e of n.split(" "))if(e){let n=[],i=2,o=e;for(let t=0;;){if("..."==o&&t>0&&t+3==e.length){i=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!r)throw new RangeError("Invalid path: "+e);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let s=e[t++];if(t==e.length&&"!"==s){i=0;break}if("/"!=s)throw new RangeError("Invalid path: "+e);o=e.slice(t)}let s=n.length-1,a=n[s];if(!a)throw new RangeError("Invalid path: "+e);let c=new Oa(r,i,s>0?n.slice(0,s):null);t[a]=c.sort(t[a])}}return xa.add(t)}const xa=new Ps;class Oa{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function wa(e,t){let n=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)n[e.id]=t.class;else n[t.tag.id]=t.class;let{scope:r,all:i=null}=t||{};return{style:e=>{let t=i;for(let r of e)for(let e of r.set){let r=n[e.id];if(r){t=t?t+" "+r:r;break}}return t},scope:r}}function Sa(e,t,n,r=0,i=e.length){let o=new ka(r,Array.isArray(t)?t:[t],n);o.highlightRange(e.cursor(),r,i,"",o.highlighters),o.flush(i)}Oa.empty=new Oa([],2,null);class ka{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,r,i){let{type:o,from:s,to:a}=e;if(s>=n||a<=t)return;o.isTop&&(i=this.highlighters.filter((e=>!e.scope||e.scope(o))));let c=r,l=function(e){let t=e.type.prop(xa);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||Oa.empty,u=function(e,t){let n=null;for(let r of e){let e=r.style(t);e&&(n=n?n+" "+e:e)}return n}(i,l.tags);if(u&&(c&&(c+=" "),c+=u,1==l.mode&&(r+=(r?" ":"")+u)),this.startSpan(Math.max(t,s),c),l.opaque)return;let d=e.tree&&e.tree.prop(Ps.mounted);if(d&&d.overlay){let o=e.node.enter(d.overlay[0].from+s,1),l=this.highlighters.filter((e=>!e.scope||e.scope(d.tree.type))),u=e.firstChild();for(let h=0,p=s;;h++){let f=h<d.overlay.length?d.overlay[h]:null,m=f?f.from+s:a,g=Math.max(t,p),y=Math.min(n,m);if(g<y&&u)for(;e.from<y&&(this.highlightRange(e,g,y,r,i),this.startSpan(Math.min(y,e.to),c),!(e.to>=m)&&e.nextSibling()););if(!f||m>n)break;p=f.to+s,p>t&&(this.highlightRange(o.cursor(),Math.max(t,f.from+s),Math.min(n,p),"",l),this.startSpan(Math.min(n,p),c))}u&&e.parent()}else if(e.firstChild()){d&&(r="");do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,i),this.startSpan(Math.min(n,e.to),c)}}while(e.nextSibling());e.parent()}}}const _a=ga.define,Pa=_a(),Ea=_a(),Ca=_a(Ea),Ta=_a(Ea),ja=_a(),Ia=_a(ja),Ma=_a(ja),Aa=_a(),Da=_a(Aa),$a=_a(),Ra=_a(),Na=_a(),La=_a(Na),Qa=_a(),za={comment:Pa,lineComment:_a(Pa),blockComment:_a(Pa),docComment:_a(Pa),name:Ea,variableName:_a(Ea),typeName:Ca,tagName:_a(Ca),propertyName:Ta,attributeName:_a(Ta),className:_a(Ea),labelName:_a(Ea),namespace:_a(Ea),macroName:_a(Ea),literal:ja,string:Ia,docString:_a(Ia),character:_a(Ia),attributeValue:_a(Ia),number:Ma,integer:_a(Ma),float:_a(Ma),bool:_a(ja),regexp:_a(ja),escape:_a(ja),color:_a(ja),url:_a(ja),keyword:$a,self:_a($a),null:_a($a),atom:_a($a),unit:_a($a),modifier:_a($a),operatorKeyword:_a($a),controlKeyword:_a($a),definitionKeyword:_a($a),moduleKeyword:_a($a),operator:Ra,derefOperator:_a(Ra),arithmeticOperator:_a(Ra),logicOperator:_a(Ra),bitwiseOperator:_a(Ra),compareOperator:_a(Ra),updateOperator:_a(Ra),definitionOperator:_a(Ra),typeOperator:_a(Ra),controlOperator:_a(Ra),punctuation:Na,separator:_a(Na),bracket:La,angleBracket:_a(La),squareBracket:_a(La),paren:_a(La),brace:_a(La),content:Aa,heading:Da,heading1:_a(Da),heading2:_a(Da),heading3:_a(Da),heading4:_a(Da),heading5:_a(Da),heading6:_a(Da),contentSeparator:_a(Aa),list:_a(Aa),quote:_a(Aa),emphasis:_a(Aa),strong:_a(Aa),link:_a(Aa),monospace:_a(Aa),strikethrough:_a(Aa),inserted:_a(),deleted:_a(),changed:_a(),invalid:_a(),meta:Qa,documentMeta:_a(Qa),annotation:_a(Qa),processingInstruction:_a(Qa),definition:ga.defineModifier(),constant:ga.defineModifier(),function:ga.defineModifier(),standard:ga.defineModifier(),local:ga.defineModifier(),special:ga.defineModifier()};var Fa;wa([{tag:za.link,class:"tok-link"},{tag:za.heading,class:"tok-heading"},{tag:za.emphasis,class:"tok-emphasis"},{tag:za.strong,class:"tok-strong"},{tag:za.keyword,class:"tok-keyword"},{tag:za.atom,class:"tok-atom"},{tag:za.bool,class:"tok-bool"},{tag:za.url,class:"tok-url"},{tag:za.labelName,class:"tok-labelName"},{tag:za.inserted,class:"tok-inserted"},{tag:za.deleted,class:"tok-deleted"},{tag:za.literal,class:"tok-literal"},{tag:za.string,class:"tok-string"},{tag:za.number,class:"tok-number"},{tag:[za.regexp,za.escape,za.special(za.string)],class:"tok-string2"},{tag:za.variableName,class:"tok-variableName"},{tag:za.local(za.variableName),class:"tok-variableName tok-local"},{tag:za.definition(za.variableName),class:"tok-variableName tok-definition"},{tag:za.special(za.variableName),class:"tok-variableName2"},{tag:za.definition(za.propertyName),class:"tok-propertyName tok-definition"},{tag:za.typeName,class:"tok-typeName"},{tag:za.namespace,class:"tok-namespace"},{tag:za.className,class:"tok-className"},{tag:za.macroName,class:"tok-macroName"},{tag:za.propertyName,class:"tok-propertyName"},{tag:za.operator,class:"tok-operator"},{tag:za.comment,class:"tok-comment"},{tag:za.meta,class:"tok-meta"},{tag:za.invalid,class:"tok-invalid"},{tag:za.punctuation,class:"tok-punctuation"}]);const Ba=new Ps;function Za(e){return Re.define({combine:e?t=>t.concat(e):void 0})}const Va=new Ps;class Wa{constructor(e,t,n=[],r=""){this.data=e,this.name=r,bt.prototype.hasOwnProperty("tree")||Object.defineProperty(bt.prototype,"tree",{get(){return Ya(this)}}),this.parser=t,this.extension=[rc.of(this),bt.languageData.of(((e,t,n)=>{let r=Ua(e,t,n),i=r.type.prop(Ba);if(!i)return[];let o=e.facet(i),s=r.type.prop(Va);if(s){let i=r.resolve(t-r.from,n);for(let t of s)if(t.test(i,e)){let n=e.facet(t.facet);return"replace"==t.type?n:n.concat(o)}}return o}))].concat(n)}isActiveAt(e,t,n=-1){return Ua(e,t,n).type.prop(Ba)==this.data}findRegions(e){let t=e.facet(rc);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(e,t)=>{if(e.prop(Ba)==this.data)return void n.push({from:t,to:t+e.length});let i=e.prop(Ps.mounted);if(i){if(i.tree.prop(Ba)==this.data){if(i.overlay)for(let e of i.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(i.overlay){let e=n.length;if(r(i.tree,i.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let i=e.children[n];i instanceof Ds&&r(i,e.positions[n]+t)}};return r(Ya(e),0),n}get allowsNesting(){return!0}}function Ua(e,t,n){let r=e.facet(rc),i=Ya(e).topNode;if(!r||r.allowsNesting)for(let e=i;e;e=e.enter(t,n,As.ExcludeBuffers))e.type.isTop&&(i=e);return i}Wa.setState=ct.define();class qa extends Wa{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=Za(e.languageData);return new qa(t,e.parser.configure({props:[Ba.add((e=>e.isTop?t:void 0))]}),e.name)}configure(e,t){return new qa(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Ya(e){let t=e.field(Wa.state,!1);return t?t.tree:Ds.empty}class Xa{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let Ha=null;class Ga{constructor(e,t,n=[],r,i,o,s,a){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=i,this.viewport=o,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new Ga(e,t,[],Ds.empty,0,n,[],null)}startParse(){return this.parser.startParse(new Xa(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ds.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(Js.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Js.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Ha;Ha=this;try{return e()}finally{Ha=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Ka(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:r,treeLen:i,viewport:o,skipped:s}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,r,i)=>t.push({fromA:e,toA:n,fromB:r,toB:i}))),n=Js.applyChanges(n,t),r=Ds.empty,i=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){s=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);n<r&&s.push({from:n,to:r})}}}return new Ga(this.parser,t,n,r,i,o,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:n,to:r}=this.skipped[t];n<e.to&&r>e.from&&(this.fragments=Ka(this.fragments,n,r),this.skipped.splice(t--,1))}return!(this.skipped.length>=t||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends ea{createParse(t,n,r){let i=r[0].from,o=r[r.length-1].to,s={parsedPos:i,advance(){let t=Ha;if(t){for(let e of r)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=o,new Ds(Ts.none,[],[],o-i)},stoppedAt:null,stopAt(){}};return s}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return Ha}}function Ka(e,t,n){return Js.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class Ja{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new Ja(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=Ga.create(e.facet(rc).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new Ja(n)}}Wa.state=Ze.define({create:Ja.init,update(e,t){for(let e of t.effects)if(e.is(Wa.setState))return e.value;return t.startState.facet(rc)!=t.state.facet(rc)?Ja.init(t.state):e.apply(t)}});let ec=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(ec=e=>{let t=-1,n=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const tc="undefined"!=typeof navigator&&(null===(Fa=navigator.scheduling)||void 0===Fa?void 0:Fa.isInputPending)?()=>navigator.scheduling.isInputPending():null,nc=Or.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Wa.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Wa.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=ec(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(Wa.state);if(i.tree==i.context.tree&&i.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!tc?Math.max(25,e.timeRemaining()-5):1e9),s=i.context.treeLen<r&&n.doc.length>r+1e3,a=i.context.work((()=>tc&&tc()||Date.now()>o),r+(s?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:Wa.setState.of(new Ja(i.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>yr(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),rc=Re.define({combine:e=>e.length?e[0]:null,enables:e=>[Wa.state,nc,Do.contentAttributes.compute([e],(t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}}))]});class ic{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const oc=Re.define(),sc=Re.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some((e=>e!=t[0])))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function ac(e){let t=e.facet(sc);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function cc(e,t){let n="",r=e.tabSize,i=e.facet(sc)[0];if("\t"==i){for(;t>=r;)n+="\t",t-=r;i=" "}for(let e=0;e<t;e++)n+=i;return n}function lc(e,t){e instanceof bt&&(e=new uc(e));for(let n of e.state.facet(oc)){let r=n(e,t);if(void 0!==r)return r}let n=Ya(e.state);return n.length>=t?function(e,t,n){let r=t.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let e=[];for(let t=i;t!=r.node;t=t.parent)e.push(t);for(let t=e.length-1;t>=0;t--)r={node:e[t],next:r}}return hc(r,e,n)}(e,n,t):null}class uc{constructor(e,t={}){this.state=e,this.options=t,this.unit=ac(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:i}=this.options;return null!=r&&r>=n.from&&r<=n.to?i&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(e,t);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e,t=1){let{text:n,from:r}=this.lineAt(e,t),i=this.countColumn(n,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(i+=o-this.countColumn(n,n.search(/\S|$/))),i}countColumn(e,t=e.length){return Nt(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:r}=this.lineAt(e,t),i=this.options.overrideIndentation;if(i){let e=i(r);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const dc=new Ps;function hc(e,t,n){for(let r=e;r;r=r.next){let e=pc(r.node);if(e)return e(mc.create(t,n,r))}return 0}function pc(e){let t=e.type.prop(dc);if(t)return t;let n,r=e.firstChild;if(r&&(n=r.type.prop(Ps.closedBy))){let t=e.lastChild,r=t&&n.indexOf(t.name)>-1;return e=>vc(e,!0,1,void 0,r&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?fc:null}function fc(){return 0}class mc extends uc{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new mc(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(gc(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return hc(this.context.next,this.base,this.pos)}}function gc(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function yc({closing:e,align:t=!0,units:n=1}){return r=>vc(r,t,n,e)}function vc(e,t,n,r,i){let o=e.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==e.pos+s,c=t?function(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let i=e.options.simulateBreak,o=e.state.doc.lineAt(n.from),s=null==i||i<=o.from?o.to:Math.min(o.to,i);for(let e=n.to;;){let i=t.childAfter(e);if(!i||i==r)return null;if(!i.type.isSkipped)return i.from<s?n:null;e=i.to}}(e):null;return c?a?e.column(c.from):e.column(c.to):e.baseIndent+(a?0:e.unit*n)}function bc({except:e,units:t=1}={}){return n=>{let r=e&&e.test(n.textAfter);return n.baseIndent+(r?0:t*n.unit)}}const xc=new Ps;function Oc(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}class wc{constructor(e,t){let n;function r(e){let t=Ft.newName();return(n||(n=Object.create(null)))["."+t]=e,t}this.specs=e;const i="string"==typeof t.all?t.all:t.all?r(t.all):void 0,o=t.scope;this.scope=o instanceof Wa?e=>e.prop(Ba)==o.data:o?e=>e==o:void 0,this.style=wa(e.map((e=>({tag:e.tag,class:e.class||r(Object.assign({},e,{tag:null}))}))),{all:i}).style,this.module=n?new Ft(n):null,this.themeType=t.themeType}static define(e,t){return new wc(e,t||{})}}const Sc=Re.define(),kc=Re.define({combine:e=>e.length?[e[0]]:null});function _c(e){let t=e.facet(Sc);return t.length?t:e.facet(kc)}function Pc(e,t){let n,r=[Cc];return e instanceof wc&&(e.module&&r.push(Do.styleModule.of(e.module)),n=e.themeType),(null==t?void 0:t.fallback)?r.push(kc.of(e)):n?r.push(Sc.computeN([Do.darkTheme],(t=>t.facet(Do.darkTheme)==("dark"==n)?[e]:[]))):r.push(Sc.of(e)),r}class Ec{constructor(e){this.markCache=Object.create(null),this.tree=Ya(e.state),this.decorations=this.buildDeco(e,_c(e.state))}update(e){let t=Ya(e.state),n=_c(e.state),r=n!=_c(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return Gn.none;let n=new Pt;for(let{from:r,to:i}of e.visibleRanges)Sa(this.tree,t,((e,t,r)=>{n.add(e,t,this.markCache[r]||(this.markCache[r]=Gn.mark({class:r})))}),r,i);return n.finish()}}const Cc=We.high(Or.fromClass(Ec,{decorations:e=>e.decorations})),Tc=(za.meta,za.link,za.heading,za.emphasis,za.strong,za.strikethrough,za.keyword,za.atom,za.bool,za.url,za.contentSeparator,za.labelName,za.literal,za.inserted,za.string,za.deleted,za.regexp,za.escape,za.string,za.variableName,za.variableName,za.typeName,za.namespace,za.className,za.variableName,za.macroName,za.propertyName,za.comment,za.invalid,Do.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}})),jc=1e4,Ic="()[]{}",Mc=Re.define({combine:e=>xt(e,{afterCursor:!0,brackets:Ic,maxScanDistance:jc,renderMatch:$c})}),Ac=Gn.mark({class:"cm-matchingBracket"}),Dc=Gn.mark({class:"cm-nonmatchingBracket"});function $c(e){let t=[],n=e.matched?Ac:Dc;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const Rc=Ze.define({create:()=>Gn.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet(Mc);for(let e of t.state.selection.ranges){if(!e.empty)continue;let i=Fc(t.state,e.head,-1,r)||e.head>0&&Fc(t.state,e.head-1,1,r)||r.afterCursor&&(Fc(t.state,e.head,1,r)||e.head<t.state.doc.length&&Fc(t.state,e.head+1,-1,r));i&&(n=n.concat(r.renderMatch(i,t.state)))}return Gn.set(n,!0)},provide:e=>Do.decorations.from(e)}),Nc=[Rc,Tc],Lc=new Ps;function Qc(e,t,n){let r=e.prop(t<0?Ps.openedBy:Ps.closedBy);if(r)return r;if(1==e.name.length){let r=n.indexOf(e.name);if(r>-1&&r%2==(t<0?1:0))return[n[r+t]]}return null}function zc(e){let t=e.type.prop(Lc);return t?t(e.node):e}function Fc(e,t,n,r={}){let i=r.maxScanDistance||jc,o=r.brackets||Ic,s=Ya(e),a=s.resolveInner(t,n);for(let e=a;e;e=e.parent){let r=Qc(e.type,n,o);if(r&&e.from<e.to){let i=zc(e);if(i&&(n>0?t>=i.from&&t<i.to:t>i.from&&t<=i.to))return Bc(0,0,n,e,i,r,o)}}return function(e,t,n,r,i,o,s){let a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),c=s.indexOf(a);if(c<0||c%2==0!=n>0)return null;let l={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),d=0;for(let e=0;!u.next().done&&e<=o;){let o=u.value;n<0&&(e+=o.length);let a=t+e*n;for(let e=n>0?0:o.length-1,t=n>0?o.length:-1;e!=t;e+=n){let t=s.indexOf(o[e]);if(!(t<0||r.resolveInner(a+e,1).type!=i))if(t%2==0==n>0)d++;else{if(1==d)return{start:l,end:{from:a+e,to:a+e+1},matched:t>>1==c>>1};d--}}n>0&&(e+=o.length)}return u.done?{start:l,matched:!1}:null}(e,t,n,s,a.type,i,o)}function Bc(e,t,n,r,i,o,s){let a=r.parent,c={from:i.from,to:i.to},l=0,u=null==a?void 0:a.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(n<0?u.to<=r.from:u.from>=r.to){if(0==l&&o.indexOf(u.type.name)>-1&&u.from<u.to){let e=zc(u);return{start:c,end:e?{from:e.from,to:e.to}:void 0,matched:!0}}if(Qc(u.type,n,s))l++;else if(Qc(u.type,-n,s)){if(0==l){let e=zc(u);return{start:c,end:e&&e.from<e.to?{from:e.from,to:e.to}:void 0,matched:!1}}l--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:c,matched:!1}}const Zc=Object.create(null),Vc=[Ts.none],Wc=[],Uc=Object.create(null),qc=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])qc[e]=Xc(Zc,t);function Yc(e,t){Wc.indexOf(e)>-1||(Wc.push(e),console.warn(t))}function Xc(e,t){let n=[];for(let r of t.split(" ")){let t=[];for(let n of r.split(".")){let r=e[n]||za[n];r?"function"==typeof r?t.length?t=t.map(r):Yc(n,`Modifier ${n} used at start of tag`):t.length?Yc(n,`Tag ${n} used as modifier`):t=Array.isArray(r)?r:[r]:Yc(n,`Unknown highlighting tag ${n}`)}for(let e of t)n.push(e)}if(!n.length)return 0;let r=t.replace(/ /g,"_"),i=r+" "+n.map((e=>e.id)),o=Uc[i];if(o)return o.id;let s=Uc[i]=Ts.define({id:Vc.length,name:r,props:[ba({[r]:n})]});return Vc.push(s),s.id}function Hc(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function Gc(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[n,r]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),n=Object.create(null);for(let{label:r}of e){t[r[0]]=!0;for(let e=1;e<r.length;e++)n[r[e]]=!0}let r=Hc(t)+Hc(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(t);return e=>{let i=e.matchBefore(r);return i||e.explicit?{from:i?i.from:e.pos,options:t,validFor:n}:null}}const Kc=ot.define(),Jc=Do.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class el{constructor(e,t,n,r){this.field=e,this.line=t,this.from=n,this.to=r}}class tl{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,Se.TrackDel),n=e.mapPos(this.to,1,Se.TrackDel);return null==t||null==n?null:new tl(this.field,t,n)}}class nl{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],r=[t],i=e.doc.lineAt(t),o=/^\s*/.exec(i.text)[0];for(let i of this.lines){if(n.length){let n=o,s=/^\t*/.exec(i)[0].length;for(let t=0;t<s;t++)n+=e.facet(sc);r.push(t+n.length-s),i=n+i.slice(s)}n.push(i),t+=i.length+1}let s=this.fieldPositions.map((e=>new tl(e.field,r[e.line]+e.from,r[e.line]+e.to)));return{text:n,ranges:s}}static parse(e){let t,n=[],r=[],i=[];for(let o of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(o);){let e=t[1]?+t[1]:null,s=t[2]||t[3]||"",a=-1;for(let t=0;t<n.length;t++)(null!=e?n[t].seq==e:s&&n[t].name==s)&&(a=t);if(a<0){let t=0;for(;t<n.length&&(null==e||null!=n[t].seq&&n[t].seq<e);)t++;n.splice(t,0,{seq:e,name:s}),a=t;for(let e of i)e.field>=a&&e.field++}i.push(new el(a,r.length,t.index,t.index+s.length)),o=o.slice(0,t.index)+s+o.slice(t.index+t[0].length)}for(let e;e=/\\([{}])/.exec(o);){o=o.slice(0,e.index)+e[1]+o.slice(e.index+e[0].length);for(let t of i)t.line==r.length&&t.from>e.index&&(t.from--,t.to--)}r.push(o)}return new nl(r,i)}}let rl=Gn.widget({widget:new class extends Xn{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),il=Gn.mark({class:"cm-snippetField"});class ol{constructor(e,t){this.ranges=e,this.active=t,this.deco=Gn.set(e.map((e=>(e.from==e.to?rl:il).range(e.from,e.to))))}map(e){let t=[];for(let n of this.ranges){let r=n.map(e);if(!r)return null;t.push(r)}return new ol(t,this.active)}selectionInsideField(e){return e.ranges.every((e=>this.ranges.some((t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))))}}const sl=ct.define({map:(e,t)=>e&&e.map(t)}),al=ct.define(),cl=Ze.define({create:()=>null,update(e,t){for(let n of t.effects){if(n.is(sl))return n.value;if(n.is(al)&&e)return new ol(e.ranges,n.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>Do.decorations.from(e,(e=>e?e.deco:Gn.none))});function ll(e,t){return Ae.create(e.filter((e=>e.field==t)).map((e=>Ae.range(e.from,e.to))))}function ul(e){let t=nl.parse(e);return(e,n,r,i)=>{let{text:o,ranges:s}=t.instantiate(e.state,r),a={changes:{from:r,to:i,insert:te.of(o)},scrollIntoView:!0,annotations:n?Kc.of(n):void 0};if(s.length&&(a.selection=ll(s,0)),s.length>1){let t=new ol(s,0),n=a.effects=[sl.of(t)];void 0===e.state.field(cl,!1)&&n.push(ct.appendConfig.of([cl,fl,gl,Jc]))}e.dispatch(e.state.update(a))}}function dl(e){return({state:t,dispatch:n})=>{let r=t.field(cl,!1);if(!r||e<0&&0==r.active)return!1;let i=r.active+e,o=e>0&&!r.ranges.some((t=>t.field==i+e));return n(t.update({selection:ll(r.ranges,i),effects:sl.of(o?null:new ol(r.ranges,i)),scrollIntoView:!0})),!0}}const hl=[{key:"Tab",run:dl(1),shift:dl(-1)},{key:"Escape",run:({state:e,dispatch:t})=>!!e.field(cl,!1)&&(t(e.update({effects:sl.of(null)})),!0)}],pl=Re.define({combine:e=>e.length?e[0]:hl}),fl=We.highest(Bo.compute([pl],(e=>e.facet(pl))));function ml(e,t){return Object.assign(Object.assign({},t),{apply:ul(e)})}const gl=Do.domEventHandlers({mousedown(e,t){let n,r=t.state.field(cl,!1);if(!r||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let i=r.ranges.find((e=>e.from<=n&&e.to>=n));return!(!i||i.field==r.active||(t.dispatch({selection:ll(r.ranges,i.field),effects:sl.of(r.ranges.some((e=>e.field>i.field))?new ol(r.ranges,i.field):null),scrollIntoView:!0}),0))}}),yl={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},vl=ct.define({map(e,t){let n=t.mapPos(e,-1,Se.TrackAfter);return null==n?void 0:n}}),bl=new class extends Ot{};bl.startSide=1,bl.endSide=-1;const xl=Ze.define({create:()=>_t.empty,update(e,t){if(e=e.map(t.changes),t.selection){let n=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:e=>e>=n.from&&e<=n.to})}for(let n of t.effects)n.is(vl)&&(e=e.update({add:[bl.range(n.value,n.value+1)]}));return e}}),Ol="()[]{}<>";function wl(e){for(let t=0;t<8;t+=2)if(Ol.charCodeAt(t)==e)return Ol.charAt(t+1);return function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}(e<128?e:e+1)}function Sl(e,t){return e.languageDataAt("closeBrackets",t)[0]||yl}const kl="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),_l=Do.inputHandler.of(((e,t,n,r)=>{if((kl?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let i=e.state.selection.main;if(r.length>2||2==r.length&&1==Oe(xe(r,0))||t!=i.from||n!=i.to)return!1;let o=function(e,t){let n=Sl(e,e.selection.main.head),r=n.brackets||yl.brackets;for(let i of r){let o=wl(xe(i,0));if(t==i)return o==i?Il(e,i,r.indexOf(i+i+i)>-1,n):Tl(e,i,o,n.before||yl.before);if(t==o&&El(e,e.selection.main.from))return jl(e,0,o)}return null}(e.state,r);return!!o&&(e.dispatch(o),!0)})),Pl=[{key:"Backspace",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Sl(e,e.selection.main.head).brackets||yl.brackets,r=null,i=e.changeByRange((t=>{if(t.empty){let r=function(e,t){let n=e.sliceString(t-2,t);return Oe(xe(n,0))==n.length?n:n.slice(1)}(e.doc,t.head);for(let i of n)if(i==r&&Cl(e.doc,t.head)==wl(xe(i,0)))return{changes:{from:t.head-i.length,to:t.head+i.length},range:Ae.cursor(t.head-i.length)}}return{range:r=t}}));return r||t(e.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function El(e,t){let n=!1;return e.field(xl).between(0,e.doc.length,(e=>{e==t&&(n=!0)})),n}function Cl(e,t){let n=e.sliceString(t,t+2);return n.slice(0,Oe(xe(n,0)))}function Tl(e,t,n,r){let i=null,o=e.changeByRange((o=>{if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:n,from:o.to}],effects:vl.of(o.to+t.length),range:Ae.range(o.anchor+t.length,o.head+t.length)};let s=Cl(e.doc,o.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:t+n,from:o.head},effects:vl.of(o.head+t.length),range:Ae.cursor(o.head+t.length)}:{range:i=o}}));return i?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function jl(e,t,n){let r=null,i=e.changeByRange((t=>t.empty&&Cl(e.doc,t.head)==n?{changes:{from:t.head,to:t.head+n.length,insert:n},range:Ae.cursor(t.head+n.length)}:r={range:t}));return r?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Il(e,t,n,r){let i=r.stringPrefixes||yl.stringPrefixes,o=null,s=e.changeByRange((r=>{if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:vl.of(r.to+t.length),range:Ae.range(r.anchor+t.length,r.head+t.length)};let s,a=r.head,c=Cl(e.doc,a);if(c==t){if(Ml(e,a))return{changes:{insert:t+t,from:a},effects:vl.of(a+t.length),range:Ae.cursor(a+t.length)};if(El(e,a)){let r=n&&e.sliceDoc(a,a+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:a,to:a+r.length,insert:r},range:Ae.cursor(a+r.length)}}}else{if(n&&e.sliceDoc(a-2*t.length,a)==t+t&&(s=Al(e,a-2*t.length,i))>-1&&Ml(e,s))return{changes:{insert:t+t+t+t,from:a},effects:vl.of(a+t.length),range:Ae.cursor(a+t.length)};if(e.charCategorizer(a)(c)!=gt.Word&&Al(e,a,i)>-1&&!function(e,t,n,r){let i=Ya(e).resolveInner(t,-1),o=r.reduce(((e,t)=>Math.max(e,t.length)),0);for(let s=0;s<5;s++){let s=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),a=s.indexOf(n);if(!a||a>-1&&r.indexOf(s.slice(0,a))>-1){let t=i.firstChild;for(;t&&t.from==i.from&&t.to-t.from>n.length+a;){if(e.sliceDoc(t.to-n.length,t.to)==n)return!1;t=t.firstChild}return!0}let c=i.to==t&&i.parent;if(!c)break;i=c}return!1}(e,a,t,i))return{changes:{insert:t+t,from:a},effects:vl.of(a+t.length),range:Ae.cursor(a+t.length)}}return{range:o=r}}));return o?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Ml(e,t){let n=Ya(e).resolveInner(t+1);return n.parent&&n.from==t}function Al(e,t,n){let r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=gt.Word)return t;for(let i of n){let n=t-i.length;if(e.sliceDoc(n,t)==i&&r(e.sliceDoc(n-1,n))!=gt.Word)return n}return-1}function Dl(e,t){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=e(t,n);return!!i&&(r(n.update(i)),!0)}}const $l=Dl(Fl,0),Rl=Dl(zl,0),Nl=Dl(((e,t)=>zl(e,t,function(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),i=n.to<=r.to?r:e.doc.lineAt(n.to),o=t.length-1;o>=0&&t[o].to>r.from?t[o].to=i.to:t.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return t}(t))),0);function Ll(e,t){let n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}const Ql=50;function zl(e,t,n=t.selection.ranges){let r=n.map((e=>Ll(t,e.from).block));if(!r.every((e=>e)))return null;let i=n.map(((e,n)=>function(e,{open:t,close:n},r,i){let o,s,a=e.sliceDoc(r-Ql,r),c=e.sliceDoc(i,i+Ql),l=/\s*$/.exec(a)[0].length,u=/^\s*/.exec(c)[0].length,d=a.length-l;if(a.slice(d-t.length,d)==t&&c.slice(u,u+n.length)==n)return{open:{pos:r-l,margin:l&&1},close:{pos:i+u,margin:u&&1}};i-r<=2*Ql?o=s=e.sliceDoc(r,i):(o=e.sliceDoc(r,r+Ql),s=e.sliceDoc(i-Ql,i));let h=/^\s*/.exec(o)[0].length,p=/\s*$/.exec(s)[0].length,f=s.length-p-n.length;return o.slice(h,h+t.length)==t&&s.slice(f,f+n.length)==n?{open:{pos:r+h+t.length,margin:/\s/.test(o.charAt(h+t.length))?1:0},close:{pos:i-p-n.length,margin:/\s/.test(s.charAt(f-1))?1:0}}:null}(t,r[n],e.from,e.to)));if(2!=e&&!i.every((e=>e)))return{changes:t.changes(n.map(((e,t)=>i[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}])))};if(1!=e&&i.some((e=>e))){let e=[];for(let t,n=0;n<i.length;n++)if(t=i[n]){let i=r[n],{open:o,close:s}=t;e.push({from:o.pos-i.open.length,to:o.pos+o.margin},{from:s.pos-s.margin,to:s.pos+i.close.length})}return{changes:e}}return null}function Fl(e,t,n=t.selection.ranges){let r=[],i=-1;for(let{from:e,to:o}of n){let n=r.length,s=1e9,a=Ll(t,e).line;if(a){for(let n=e;n<=o;){let c=t.doc.lineAt(n);if(c.from>i&&(e==o||o>c.from)){i=c.from;let e=/^\s*/.exec(c.text)[0].length,t=e==c.length,n=c.text.slice(e,e+a.length)==a?e:-1;e<c.text.length&&e<s&&(s=e),r.push({line:c,comment:n,token:a,indent:e,empty:t,single:!1})}n=c.to+1}if(s<1e9)for(let e=n;e<r.length;e++)r[e].indent<r[e].line.text.length&&(r[e].indent=s);r.length==n+1&&(r[n].single=!0)}}if(2!=e&&r.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:n,indent:i,empty:o,single:s}of r)!s&&o||e.push({from:t.from+i,insert:n+" "});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}if(1!=e&&r.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:n,token:i}of r)if(n>=0){let r=t.from+n,o=r+i.length;" "==t.text[o-t.from]&&o++,e.push({from:r,to:o})}return{changes:e}}return null}const Bl=ot.define(),Zl=ot.define(),Vl=Re.define(),Wl=Re.define({combine:e=>xt(e,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,r)=>e(n,r)||t(n,r)})}),Ul=Ze.define({create:()=>lu.empty,update(e,t){let n=t.state.facet(Wl),r=t.annotation(Bl);if(r){let i=Jl.fromTransaction(t,r.selection),o=r.side,s=0==o?e.undone:e.done;return s=i?eu(s,s.length,n.minDepth,i):iu(s,t.startState.selection),new lu(0==o?r.rest:s,0==o?s:r.rest)}let i=t.annotation(Zl);if("full"!=i&&"before"!=i||(e=e.isolate()),!1===t.annotation(lt.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let o=Jl.fromTransaction(t),s=t.annotation(lt.time),a=t.annotation(lt.userEvent);return o?e=e.addChanges(o,s,a,n,t):t.selection&&(e=e.addSelection(t.startState.selection,s,a,n.newGroupDelay)),"full"!=i&&"after"!=i||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new lu(e.done.map(Jl.fromJSON),e.undone.map(Jl.fromJSON))});function ql(e={}){return[Ul,Wl.of(e),Do.domEventHandlers({beforeinput(e,t){let n="historyUndo"==e.inputType?Xl:"historyRedo"==e.inputType?Hl:null;return!!n&&(e.preventDefault(),n(t))}})]}function Yl(e,t){return function({state:n,dispatch:r}){if(!t&&n.readOnly)return!1;let i=n.field(Ul,!1);if(!i)return!1;let o=i.pop(e,n,t);return!!o&&(r(o),!0)}}const Xl=Yl(0,!1),Hl=Yl(1,!1),Gl=Yl(0,!0),Kl=Yl(1,!0);class Jl{constructor(e,t,n,r,i){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(e){return new Jl(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new Jl(e.changes&&_e.fromJSON(e.changes),[],e.mapped&&ke.fromJSON(e.mapped),e.startSelection&&Ae.fromJSON(e.startSelection),e.selectionsAfter.map(Ae.fromJSON))}static fromTransaction(e,t){let n=nu;for(let t of e.startState.facet(Vl)){let r=t(e);r.length&&(n=n.concat(r))}return!n.length&&e.changes.empty?null:new Jl(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,nu)}static selection(e){return new Jl(void 0,nu,void 0,void 0,e)}}function eu(e,t,n,r){let i=t+1>n+20?t-n-1:0,o=e.slice(i,t);return o.push(r),o}function tu(e,t){return e.length?t.length?e.concat(t):e:t}const nu=[],ru=200;function iu(e,t){if(e.length){let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-ru));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),eu(e,e.length-1,1e9,n.setSelAfter(r)))}return[Jl.selection([t])]}function ou(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function su(e,t){if(!e.length)return e;let n=e.length,r=nu;for(;n;){let i=au(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){let t=e.slice(0,n);return t[n-1]=i,t}t=i.mapped,n--,r=i.selectionsAfter}return r.length?[Jl.selection(r)]:nu}function au(e,t,n){let r=tu(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):nu,n);if(!e.changes)return Jl.selection(r);let i=e.changes.map(t),o=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(o):o;return new Jl(i,ct.mapEffects(e.effects,t),s,e.startSelection.map(o),r)}const cu=/^(input\.type|delete)($|\.)/;class lu{constructor(e,t,n=0,r=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new lu(this.done,this.undone):this}addChanges(e,t,n,r,i){let o=this.done,s=o[o.length-1];return o=s&&s.changes&&!s.changes.empty&&e.changes&&(!n||cu.test(n))&&(!s.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(i,function(e,t){let n=[],r=!1;return e.iterChangedRanges(((e,t)=>n.push(e,t))),t.iterChangedRanges(((e,t,i,o)=>{for(let e=0;e<n.length;){let t=n[e++],s=n[e++];o>=t&&i<=s&&(r=!0)}})),r}(s.changes,e.changes))||"input.type.compose"==n)?eu(o,o.length-1,r.minDepth,new Jl(e.changes.compose(s.changes),tu(e.effects,s.effects),s.mapped,s.startSelection,nu)):eu(o,o.length,r.minDepth,e),new lu(o,nu,t,n)}addSelection(e,t,n,r){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:nu;return i.length>0&&t-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&function(e,t){return e.ranges.length==t.ranges.length&&0===e.ranges.filter(((e,n)=>e.empty!=t.ranges[n].empty)).length}(i[i.length-1],e)?this:new lu(iu(this.done,e),this.undone,t,n)}addMapping(e){return new lu(su(this.done,e),su(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let r=0==e?this.done:this.undone;if(0==r.length)return null;let i=r[r.length-1],o=i.selectionsAfter[0]||t.selection;if(n&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Bl.of({side:e,rest:ou(r),selection:o}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let n=1==r.length?nu:r.slice(0,r.length-1);return i.mapped&&(n=su(n,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Bl.of({side:e,rest:n,selection:o}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}lu.empty=new lu(nu,nu);const uu=[{key:"Mod-z",run:Xl,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Hl,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Hl,preventDefault:!0},{key:"Mod-u",run:Gl,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Kl,preventDefault:!0}];function du(e,t){return Ae.create(e.ranges.map(t),e.mainIndex)}function hu(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function pu({state:e,dispatch:t},n){let r=du(e.selection,n);return!r.eq(e.selection)&&(t(hu(e,r)),!0)}function fu(e,t){return Ae.cursor(t?e.to:e.from)}function mu(e,t){return pu(e,(n=>n.empty?e.moveByChar(n,t):fu(n,t)))}function gu(e){return e.textDirectionAt(e.state.selection.main.head)==Dr.LTR}const yu=e=>mu(e,!gu(e)),vu=e=>mu(e,gu(e));function bu(e,t){return pu(e,(n=>n.empty?e.moveByGroup(n,t):fu(n,t)))}function xu(e,t,n){if(t.type.prop(n))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Ou(e,t,n){let r,i,o=Ya(e).resolveInner(t.head),s=n?Ps.closedBy:Ps.openedBy;for(let r=t.head;;){let t=n?o.childAfter(r):o.childBefore(r);if(!t)break;xu(e,t,s)?o=t:r=n?t.to:t.from}return i=o.type.prop(s)&&(r=n?Fc(e,o.from,1):Fc(e,o.to,-1))&&r.matched?n?r.end.to:r.end.from:n?o.to:o.from,Ae.cursor(i,n?-1:1)}function wu(e,t){return pu(e,(n=>{if(!n.empty)return fu(n,t);let r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)}))}"undefined"!=typeof Intl&&Intl.Segmenter;const Su=e=>wu(e,!1),ku=e=>wu(e,!0);function _u(e){let t,n=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,r=0,i=0;if(n){for(let t of e.state.facet(Do.scrollMargins)){let n=t(e);(null==n?void 0:n.top)&&(r=Math.max(null==n?void 0:n.top,r)),(null==n?void 0:n.bottom)&&(i=Math.max(null==n?void 0:n.bottom,i))}t=e.scrollDOM.clientHeight-r-i}else t=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:i,selfScroll:n,height:Math.max(e.defaultLineHeight,t-5)}}function Pu(e,t){let n,r=_u(e),{state:i}=e,o=du(i.selection,(n=>n.empty?e.moveVertically(n,t,r.height):fu(n,t)));if(o.eq(i.selection))return!1;if(r.selfScroll){let t=e.coordsAtPos(i.selection.main.head),s=e.scrollDOM.getBoundingClientRect(),a=s.top+r.marginTop,c=s.bottom-r.marginBottom;t&&t.top>a&&t.bottom<c&&(n=Do.scrollIntoView(o.main.head,{y:"start",yMargin:t.top-a}))}return e.dispatch(hu(i,o),{effects:n}),!0}const Eu=e=>Pu(e,!1),Cu=e=>Pu(e,!0);function Tu(e,t,n){let r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){let n=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&t.head!=r.from+n&&(i=Ae.cursor(r.from+n))}return i}function ju(e,t){let n=du(e.state.selection,(e=>{let n=t(e);return Ae.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(e.state.selection)&&(e.dispatch(hu(e.state,n)),!0)}function Iu(e,t){return ju(e,(n=>e.moveByChar(n,t)))}const Mu=e=>Iu(e,!gu(e)),Au=e=>Iu(e,gu(e));function Du(e,t){return ju(e,(n=>e.moveByGroup(n,t)))}function $u(e,t){return ju(e,(n=>e.moveVertically(n,t)))}const Ru=e=>$u(e,!1),Nu=e=>$u(e,!0);function Lu(e,t){return ju(e,(n=>e.moveVertically(n,t,_u(e).height)))}const Qu=e=>Lu(e,!1),zu=e=>Lu(e,!0),Fu=({state:e,dispatch:t})=>(t(hu(e,{anchor:0})),!0),Bu=({state:e,dispatch:t})=>(t(hu(e,{anchor:e.doc.length})),!0),Zu=({state:e,dispatch:t})=>(t(hu(e,{anchor:e.selection.main.anchor,head:0})),!0),Vu=({state:e,dispatch:t})=>(t(hu(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function Wu(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:r}=e,i=r.changeByRange((r=>{let{from:i,to:o}=r;if(i==o){let s=t(r);s<i?(n="delete.backward",s=Uu(e,s,!1)):s>i&&(n="delete.forward",s=Uu(e,s,!0)),i=Math.min(i,s),o=Math.max(o,s)}else i=Uu(e,i,!1),o=Uu(e,o,!0);return i==o?{range:r}:{changes:{from:i,to:o},range:Ae.cursor(i,i<r.head?-1:1)}}));return!i.changes.empty&&(e.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?Do.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Uu(e,t,n){if(e instanceof Do)for(let r of e.state.facet(Do.atomicRanges).map((t=>t(e))))r.between(t,t,((e,r)=>{e<t&&r>t&&(t=n?r:e)}));return t}const qu=(e,t)=>Wu(e,(n=>{let r,i,o=n.from,{state:s}=e,a=s.doc.lineAt(o);if(!t&&o>a.from&&o<a.from+200&&!/[^ \t]/.test(r=a.text.slice(0,o-a.from))){if("\t"==r[r.length-1])return o-1;let e=Nt(r,s.tabSize)%ac(s)||ac(s);for(let t=0;t<e&&" "==r[r.length-1-t];t++)o--;i=o}else i=me(a.text,o-a.from,t,t)+a.from,i==o&&a.number!=(t?s.doc.lines:1)?i+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(a.text.slice(i-a.from,o-a.from))&&(i=me(a.text,i-a.from,!1,!1)+a.from);return i})),Yu=e=>qu(e,!1),Xu=e=>qu(e,!0),Hu=(e,t)=>Wu(e,(n=>{let r=n.head,{state:i}=e,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let e=null;;){if(r==(t?o.to:o.from)){r==n.head&&o.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}let a=me(o.text,r-o.from,t)+o.from,c=o.text.slice(Math.min(r,a)-o.from,Math.max(r,a)-o.from),l=s(c);if(null!=e&&l!=e)break;" "==c&&r==n.head||(e=l),r=a}return r})),Gu=e=>Hu(e,!1);function Ku(e){let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.from),o=e.doc.lineAt(r.to);if(r.empty||r.to!=o.from||(o=e.doc.lineAt(r.to-1)),n>=i.number){let e=t[t.length-1];e.to=o.to,e.ranges.push(r)}else t.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return t}function Ju(e,t,n){if(e.readOnly)return!1;let r=[],i=[];for(let t of Ku(e)){if(n?t.to==e.doc.length:0==t.from)continue;let o=e.doc.lineAt(n?t.to+1:t.from-1),s=o.length+1;if(n){r.push({from:t.to,to:o.to},{from:t.from,insert:o.text+e.lineBreak});for(let n of t.ranges)i.push(Ae.range(Math.min(e.doc.length,n.anchor+s),Math.min(e.doc.length,n.head+s)))}else{r.push({from:o.from,to:t.from},{from:t.to,insert:e.lineBreak+o.text});for(let e of t.ranges)i.push(Ae.range(e.anchor-s,e.head-s))}}return!!r.length&&(t(e.update({changes:r,scrollIntoView:!0,selection:Ae.create(i,e.selection.mainIndex),userEvent:"move.line"})),!0)}function ed(e,t,n){if(e.readOnly)return!1;let r=[];for(let t of Ku(e))n?r.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):r.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const td=rd(!1),nd=rd(!0);function rd(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=t.changeByRange((n=>{let{from:r,to:i}=n,o=t.doc.lineAt(r),s=!e&&r==i&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n,r=Ya(e).resolveInner(t),i=r.childBefore(t),o=r.childAfter(t);return i&&o&&i.to<=t&&o.from>=t&&(n=i.type.prop(Ps.closedBy))&&n.indexOf(o.name)>-1&&e.doc.lineAt(i.to).from==e.doc.lineAt(o.from).from&&!/\S/.test(e.sliceDoc(i.to,o.from))?{from:i.to,to:o.from}:null}(t,r);e&&(r=i=(i<=o.to?o:t.doc.lineAt(i)).to);let a=new uc(t,{simulateBreak:r,simulateDoubleBreak:!!s}),c=lc(a,r);for(null==c&&(c=Nt(/^\s*/.exec(t.doc.lineAt(r).text)[0],t.tabSize));i<o.to&&/\s/.test(o.text[i-o.from]);)i++;s?({from:r,to:i}=s):r>o.from&&r<o.from+100&&!/\S/.test(o.text.slice(0,r))&&(r=o.from);let l=["",cc(t,c)];return s&&l.push(cc(t,a.lineIndent(o.from,-1))),{changes:{from:r,to:i,insert:te.of(l)},range:Ae.cursor(r+1+l[1].length)}}));return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function id(e,t){let n=-1;return e.changeByRange((r=>{let i=[];for(let o=r.from;o<=r.to;){let s=e.doc.lineAt(o);s.number>n&&(r.empty||r.to>s.from)&&(t(s,i,r),n=s.number),o=s.to+1}let o=e.changes(i);return{changes:i,range:Ae.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}}))}const od=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(id(e,((t,n)=>{n.push({from:t.from,insert:e.facet(sc)})})),{userEvent:"input.indent"})),!0),sd=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(id(e,((t,n)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let i=Nt(r,e.tabSize),o=0,s=cc(e,Math.max(0,i-ac(e)));for(;o<r.length&&o<s.length&&r.charCodeAt(o)==s.charCodeAt(o);)o++;n.push({from:t.from+o,to:t.from+r.length,insert:s.slice(o)})})),{userEvent:"delete.dedent"})),!0),ad=[{key:"ArrowLeft",run:yu,shift:Mu,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>bu(e,!gu(e)),shift:e=>Du(e,!gu(e)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:e=>pu(e,(t=>Tu(e,t,!gu(e)))),shift:e=>ju(e,(t=>Tu(e,t,!gu(e)))),preventDefault:!0},{key:"ArrowRight",run:vu,shift:Au,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>bu(e,gu(e)),shift:e=>Du(e,gu(e)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:e=>pu(e,(t=>Tu(e,t,gu(e)))),shift:e=>ju(e,(t=>Tu(e,t,gu(e)))),preventDefault:!0},{key:"ArrowUp",run:Su,shift:Ru,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Fu,shift:Zu},{mac:"Ctrl-ArrowUp",run:Eu,shift:Qu},{key:"ArrowDown",run:ku,shift:Nu,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Bu,shift:Vu},{mac:"Ctrl-ArrowDown",run:Cu,shift:zu},{key:"PageUp",run:Eu,shift:Qu},{key:"PageDown",run:Cu,shift:zu},{key:"Home",run:e=>pu(e,(t=>Tu(e,t,!1))),shift:e=>ju(e,(t=>Tu(e,t,!1))),preventDefault:!0},{key:"Mod-Home",run:Fu,shift:Zu},{key:"End",run:e=>pu(e,(t=>Tu(e,t,!0))),shift:e=>ju(e,(t=>Tu(e,t,!0))),preventDefault:!0},{key:"Mod-End",run:Bu,shift:Vu},{key:"Enter",run:td},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:Yu,shift:Yu},{key:"Delete",run:Xu},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Gu},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>Hu(e,!0)},{mac:"Mod-Backspace",run:e=>Wu(e,(t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}))},{mac:"Mod-Delete",run:e=>Wu(e,(t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))}].concat([{key:"Ctrl-b",run:yu,shift:Mu,preventDefault:!0},{key:"Ctrl-f",run:vu,shift:Au},{key:"Ctrl-p",run:Su,shift:Ru},{key:"Ctrl-n",run:ku,shift:Nu},{key:"Ctrl-a",run:e=>pu(e,(t=>Ae.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>ju(e,(t=>Ae.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>pu(e,(t=>Ae.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>ju(e,(t=>Ae.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:Xu},{key:"Ctrl-h",run:Yu},{key:"Ctrl-k",run:e=>Wu(e,(t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))},{key:"Ctrl-Alt-h",run:Gu},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:te.of(["",""])},range:Ae.cursor(e.from)})));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let n=t.from,r=e.doc.lineAt(n),i=n==r.from?n-1:me(r.text,n-r.from,!1)+r.from,o=n==r.to?n+1:me(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:o,insert:e.doc.slice(n,o).append(e.doc.slice(i,n))},range:Ae.cursor(o)}}));return!n.changes.empty&&(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Cu}].map((e=>({mac:e.key,run:e.run,shift:e.shift})))),cd=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>pu(e,(t=>Ou(e.state,t,!gu(e)))),shift:e=>ju(e,(t=>Ou(e.state,t,!gu(e))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>pu(e,(t=>Ou(e.state,t,gu(e)))),shift:e=>ju(e,(t=>Ou(e.state,t,gu(e))))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>Ju(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>ed(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>Ju(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>ed(e,t,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let n=e.selection,r=null;return n.ranges.length>1?r=Ae.create([n.main]):n.main.empty||(r=Ae.create([Ae.cursor(n.main.head)])),!!r&&(t(hu(e,r)),!0)}},{key:"Mod-Enter",run:nd},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let n=Ku(e).map((({from:t,to:n})=>Ae.range(t,Math.min(n+1,e.doc.length))));return t(e.update({selection:Ae.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let n=du(e.selection,(t=>{var n;for(let r=Ya(e).resolveStack(t.from,1);r;r=r.next){let{node:e}=r;if((e.from<t.from&&e.to>=t.to||e.to>t.to&&e.from<=t.from)&&(null===(n=e.parent)||void 0===n?void 0:n.parent))return Ae.range(e.to,e.from)}return t}));return t(hu(e,n)),!0},preventDefault:!0},{key:"Mod-[",run:sd},{key:"Mod-]",run:od},{key:"Mod-Alt-\\",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),r=new uc(e,{overrideIndentation:e=>{let t=n[e];return null==t?-1:t}}),i=id(e,((t,i,o)=>{let s=lc(r,t.from);if(null==s)return;/\S/.test(t.text)||(s=0);let a=/^\s*/.exec(t.text)[0],c=cc(e,s);(a!=c||o.from<t.from+a.length)&&(n[t.from]=s,i.push({from:t.from,to:t.from+a.length,insert:c}))}));return i.changes.empty||t(e.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(Ku(t).map((({from:e,to:n})=>(e>0?e--:n<t.doc.length&&n++,{from:e,to:n})))),r=du(t.selection,(t=>e.moveVertically(t,!0))).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>function(e,t,n){let r=!1,i=du(e.selection,(t=>{let i=Fc(e,t.head,-1)||Fc(e,t.head,1)||t.head>0&&Fc(e,t.head-1,1)||t.head<e.doc.length&&Fc(e,t.head+1,-1);if(!i||!i.end)return t;r=!0;let o=i.start.from==t.head?i.end.to:i.end.from;return n?Ae.range(t.anchor,o):Ae.cursor(o)}));return!!r&&(t(hu(e,i)),!0)}(e,t,!1)},{key:"Mod-/",run:e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),r=Ll(e.state,n.from);return r.line?$l(e):!!r.block&&Nl(e)}},{key:"Alt-A",run:Rl}].concat(ad);n(583);const ld=i["undefined"!=typeof document&&void 0!==document.createElement?"useLayoutEffect":"useEffect"],ud=new Map;function dd(e){const{root:t,...n}=e,r=JSON.stringify(n);let i=ud.get(t);return i||(i={},ud.set(t,i)),i[r]?i[r]:i[r]=function({root:e=null,pollInterval:t=null,useMutationObserver:n=!1,rootMargin:r="0px 0px 0px 0px",threshold:i=0}){const o=new Set;if("undefined"==typeof IntersectionObserver)return null;const s=new IntersectionObserver((e=>{for(const t of o)t(e,s)}),{root:e,rootMargin:r,threshold:i});return s.POLL_INTERVAL=t,s.USE_MUTATION_OBSERVER=n,{observer:s,getListeners:()=>o,subscribe:e=>o.add(e),unsubscribe:e=>o.delete(e)}}(e)}class hd{constructor(e,t,n,r,i,o,s,a,c,l=0,u){this.p=e,this.stack=t,this.state=n,this.reducePos=r,this.pos=i,this.score=o,this.buffer=s,this.bufferBase=a,this.curContext=c,this.lookAhead=l,this.parent=u}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let r=e.parser.context;return new hd(e,[],t,n,n,0,[],0,r?new pd(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,r=65535&e,{parser:i}=this.p,o=i.dynamicPrecedence(r);if(o&&(this.score+=o),0==n)return this.pushState(i.getGoto(this.state,r,!0),this.reducePos),r<i.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);let s=this.stack.length-3*(n-1)-(262144&e?6:0),a=s?this.stack[s-2]:this.p.ranges[0].from,c=this.reducePos-a;c>=2e3&&!(null===(t=this.p.parser.nodeSet.types[r])||void 0===t?void 0:t.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=c));let l=s?this.stack[s-1]:0,u=this.bufferBase+this.buffer.length-l;if(r<i.minRepeatTerm||131072&e){let e=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,a,e,u+4,!0)}if(262144&e)this.state=this.stack[s];else{let e=this.stack[s-3];this.state=i.getGoto(e,r,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(r,a)}storeNode(e,t,n,r=4,i=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,r=this.buffer.length;if(0==r&&e.parent&&(r=e.bufferBase-e.parent.bufferBase,e=e.parent),r>0&&0==e.buffer[r-4]&&e.buffer[r-1]>-1){if(t==n)return;if(e.buffer[r-2]>=t)return void(e.buffer[r-2]=n)}}if(i&&this.pos!=n){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4])for(;i>0&&this.buffer[i-2]>n;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,r>4&&(r-=4);this.buffer[i]=e,this.buffer[i+1]=t,this.buffer[i+2]=n,this.buffer[i+3]=r}else this.buffer.push(e,t,n,r)}shift(e,t,n,r){if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let i=e,{parser:o}=this.p;(r>this.pos||t<=o.maxNode)&&(this.pos=r,o.stateFlag(i,1)||(this.reducePos=r)),this.pushState(i,n),this.shiftContext(t,n),t<=o.maxNode&&this.buffer.push(t,n,r,4)}else this.pos=r,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,r,4)}apply(e,t,n,r){65536&e?this.reduce(e):this.shift(e,t,n,r)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new hd(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new fd(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==n)return!1;if(0==(65536&n))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let r,i=0;i<t.length;i+=2)(r=t[i+1])!=this.state&&this.p.parser.hasAction(r,e)&&n.push(t[i],r);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let r=t[e+1];n.some(((e,t)=>1&t&&e==r))||n.push(t[e],r)}t=n}let n=[];for(let e=0;e<t.length&&n.length<4;e+=2){let r=t[e+1];if(r==this.state)continue;let i=this.split();i.pushState(r,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(t[e],this.pos),i.reducePos=this.pos,i.score-=200,n.push(i)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(0==(65536&t))return!1;if(!e.validAction(this.state,t)){let n=t>>19,r=65535&t,i=this.stack.length-3*n;if(i<0||e.getGoto(this.stack[i],r,!1)<0){let e=this.findForcedReduction();if(null==e)return!1;t=e}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(r,i)=>{if(!t.includes(r))return t.push(r),e.allActions(r,(t=>{if(393216&t);else if(65536&t){let n=(t>>19)-i;if(n>1){let r=65535&t,i=this.stack.length-3*n;if(i>=0&&e.getGoto(this.stack[i],r,!1)>=0)return n<<19|65536|r}}else{let e=n(t,i+1);if(null!=e)return e}}))};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new pd(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class pd{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class fd{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class md{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new md(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new md(this.stack,this.pos,this.index)}}function gd(e,t=Uint16Array){if("string"!=typeof e)return e;let n=null;for(let r=0,i=0;r<e.length;){let o=0;for(;;){let t=e.charCodeAt(r++),n=!1;if(126==t){o=65535;break}t>=92&&t--,t>=34&&t--;let i=t-32;if(i>=46&&(i-=46,n=!0),o+=i,n)break;o*=46}n?n[i++]=o:n=new t(o)}return n}class yd{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const vd=new yd;class bd{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=vd,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,r=this.rangeIndex,i=this.pos+e;for(;i<n.from;){if(!r)return null;let e=this.ranges[--r];i-=n.from-e.to,n=e}for(;t<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;let e=this.ranges[++r];i+=e.from-n.to,n=e}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t,n,r=this.chunkOff+e;if(r>=0&&r<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(e,1);if(null==r)return-1;if(t=r,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,r=this.range;for(;r.to<=t;)r=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=vd,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(n+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return n}}class xd{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;Sd(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}xd.prototype.contextual=xd.prototype.fallback=xd.prototype.extend=!1;class Od{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data="string"==typeof e?gd(e):e}token(e,t){let n=e.pos,r=0;for(;;){let n=e.next<0,i=e.resolveOffset(1,1);if(Sd(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(null==this.elseToken)return;if(n||r++,null==i)break;e.reset(i,e.token)}r&&(e.reset(n,e.token),e.acceptToken(this.elseToken,r))}}Od.prototype.contextual=xd.prototype.fallback=xd.prototype.extend=!1;class wd{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function Sd(e,t,n,r,i,o){let s=0,a=1<<r,{dialect:c}=n.p.parser;e:for(;0!=(a&e[s]);){let n=e[s+1];for(let r=s+3;r<n;r+=2)if((e[r+1]&a)>0){let n=e[r];if(c.allows(n)&&(-1==t.token.value||t.token.value==n||_d(n,t.token.value,i,o))){t.acceptToken(n);break}}let r=t.next,l=0,u=e[s+2];if(!(t.next<0&&u>l&&65535==e[n+3*u-3])){for(;l<u;){let i=l+u>>1,o=n+i+(i<<1),a=e[o],c=e[o+1]||65536;if(r<a)u=i;else{if(!(r>=c)){s=e[o+2],t.advance();continue e}l=i+1}}break}s=e[n+3*u-1]}}function kd(e,t,n){for(let r,i=t;65535!=(r=e[i]);i++)if(r==n)return i-t;return-1}function _d(e,t,n,r){let i=kd(n,r,t);return i<0||kd(n,r,e)<i}const Pd="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let Ed=null;function Cd(e,t,n){let r=e.cursor(As.IncludeAnonymous);for(r.moveTo(t);;)if(!(n<0?r.childBefore(t):r.childAfter(t)))for(;;){if((n<0?r.to<t:r.from>t)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:e.length}}class Td{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Cd(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Cd(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],r=this.index[t];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=n.children[r],o=this.start[t]+n.positions[r];if(o>e)return this.nextStart=o,null;if(i instanceof Ds){if(o==e){if(o<this.safeFrom)return null;let e=o+i.length;if(e<=this.safeTo){let t=i.prop(Ps.lookAhead);if(!t||e+t<this.fragment.to)return i}}this.index[t]++,o+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+i.length}}}class jd{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new yd))}getActions(e){let t=0,n=null,{parser:r}=e.p,{tokenizers:i}=r,o=r.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,a=0;for(let r=0;r<i.length;r++){if(0==(1<<r&o))continue;let c=i[r],l=this.tokens[r];if((!n||c.fallback)&&((c.contextual||l.start!=e.pos||l.mask!=o||l.context!=s)&&(this.updateCachedToken(l,c,e),l.mask=o,l.context=s),l.lookAhead>l.end+25&&(a=Math.max(l.lookAhead,a)),0!=l.value)){let r=t;if(l.extended>-1&&(t=this.addActions(e,l.extended,l.end,t)),t=this.addActions(e,l.value,l.end,t),!c.extend&&(n=l,t>r))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),n||e.pos!=this.stream.end||(n=new yd,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new yd,{pos:n,p:r}=e;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,n){let r=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(r,e),n),e.value>-1){let{parser:t}=n.p;for(let r=0;r<t.specialized.length;r++)if(t.specialized[r]==e.value){let i=t.specializers[r](this.stream.read(e.start,e.end),n);if(i>=0&&n.p.parser.dialect.allows(i>>1)){0==(1&i)?e.value=i>>1:e.extended=i>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,n,r){for(let t=0;t<r;t+=3)if(this.actions[t]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}addActions(e,t,n,r){let{state:i}=e,{parser:o}=e.p,{data:s}=o;for(let e=0;e<2;e++)for(let a=o.stateSlot(i,e?2:1);;a+=3){if(65535==s[a]){if(1!=s[a+1]){0==r&&2==s[a+1]&&(r=this.putAction(Nd(s,a+2),t,n,r));break}a=Nd(s,a+2)}s[a]==t&&(r=this.putAction(Nd(s,a+1),t,n,r))}return r}}class Id{constructor(e,t,n,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new bd(t,r),this.tokens=new jd(e,this.stream),this.topTerm=e.top[1];let{from:i}=r[0];this.stacks=[hd.start(this,e.top[0],i)],this.fragments=n.length&&this.stream.end-i>4*e.bufferLength?new Td(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,n=this.stacks,r=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[e]=n;for(;e.forceReduce()&&e.stack.length&&e.stack[e.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<n.length;o++){let s=n[o];for(;;){if(this.tokens.mainToken=null,s.pos>r)i.push(s);else{if(this.advanceStack(s,i,n))continue;{e||(e=[],t=[]),e.push(s);let n=this.tokens.getMainToken(s);t.push(n.value,n.end)}}break}}if(!i.length){let t=e&&function(e){let t=null;for(let n of e){let e=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=e&&n.pos>e)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}(e);if(t)return Pd&&console.log("Finish with "+this.stackID(t)),this.stackToTree(t);if(this.parser.strict)throw Pd&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){let n=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,i);if(n)return Pd&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(i.length>e)for(i.sort(((e,t)=>t.score-e.score));i.length>e;)i.pop();i.some((e=>e.reducePos>r))&&this.recovering--}else if(i.length>1){e:for(let e=0;e<i.length-1;e++){let t=i[e];for(let n=e+1;n<i.length;n++){let r=i[n];if(t.sameState(r)||t.buffer.length>500&&r.buffer.length>500){if(!((t.score-r.score||t.buffer.length-r.buffer.length)>0)){i.splice(e--,1);continue e}i.splice(n--,1)}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let e=1;e<i.length;e++)i[e].pos<this.minStackPos&&(this.minStackPos=i[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let r=e.pos,{parser:i}=this,o=Pd?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let s=this.fragments.nodeAt(r);s;){let r=this.parser.nodeSet.types[s.type.id]==s.type?i.getGoto(e.state,s.type.id):-1;if(r>-1&&s.length&&(!t||(s.prop(Ps.contextHash)||0)==n))return e.useNode(s,r),Pd&&console.log(o+this.stackID(e)+` (via reuse of ${i.getName(s.type.id)})`),!0;if(!(s instanceof Ds)||0==s.children.length||s.positions[0]>0)break;let a=s.children[0];if(!(a instanceof Ds&&0==s.positions[0]))break;s=a}}let s=i.stateSlot(e.state,4);if(s>0)return e.reduce(s),Pd&&console.log(o+this.stackID(e)+` (via always-reduce ${i.getName(65535&s)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let s=0;s<a.length;){let c=a[s++],l=a[s++],u=a[s++],d=s==a.length||!n,h=d?e:e.split(),p=this.tokens.mainToken;if(h.apply(c,l,p?p.start:h.pos,u),Pd&&console.log(o+this.stackID(h)+` (via ${0==(65536&c)?"shift":`reduce of ${i.getName(65535&c)}`} for ${i.getName(l)} @ ${r}${h==e?"":", split"})`),d)return!0;h.pos>r?t.push(h):n.push(h)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return Md(e,t),!0}}runRecovery(e,t,n){let r=null,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=t[o<<1],c=t[1+(o<<1)],l=Pd?this.stackID(s)+" -> ":"";if(s.deadEnd){if(i)continue;if(i=!0,s.restart(),Pd&&console.log(l+this.stackID(s)+" (restarted)"),this.advanceFully(s,n))continue}let u=s.split(),d=l;for(let e=0;u.forceReduce()&&e<10&&(Pd&&console.log(d+this.stackID(u)+" (via force-reduce)"),!this.advanceFully(u,n));e++)Pd&&(d=this.stackID(u)+" -> ");for(let e of s.recoverByInsert(a))Pd&&console.log(l+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,n);this.stream.end>s.pos?(c==s.pos&&(c++,a=0),s.recoverByDelete(a,c),Pd&&console.log(l+this.stackID(s)+` (via recover-delete ${this.parser.getName(a)})`),Md(s,n)):(!r||r.score<s.score)&&(r=s)}return r}stackToTree(e){return e.close(),Ds.build({buffer:md.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Ed||(Ed=new WeakMap)).get(e);return t||Ed.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Md(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(r.pos==e.pos&&r.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}class Ad{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||0==this.disabled[e]}}const Dd=e=>e;class $d{constructor(e){this.start=e.start,this.shift=e.shift||Dd,this.reduce=e.reduce||Dd,this.reuse=e.reuse||Dd,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}class Rd extends ea{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let n=0;n<e.repeatNodeCount;n++)t.push("");let n=Object.keys(e.topRules).map((t=>e.topRules[t][1])),r=[];for(let e=0;e<t.length;e++)r.push([]);function i(e,t,n){r[e].push([t,t.deserialize(String(n))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=Ps[e]);for(let n=1;n<t.length;){let r=t[n++];if(r>=0)i(r,e,t[n++]);else{let o=t[n+-r];for(let s=-r;s>0;s--)i(t[n++],e,o);n++}}}this.nodeSet=new js(t.map(((t,i)=>Ts.define({name:i>=this.minRepeatTerm?void 0:t,id:i,props:r[i],top:n.indexOf(i)>-1,error:0==i,skipped:e.skippedNodes&&e.skippedNodes.indexOf(i)>-1})))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Ss;let o=gd(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let e=0;e<this.specializerSpecs.length;e++)this.specialized[e]=this.specializerSpecs[e].term;this.specializers=this.specializerSpecs.map(Ld),this.states=gd(e.states,Uint32Array),this.data=gd(e.stateData),this.goto=gd(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new xd(o,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let r=new Id(this,e,t,n);for(let i of this.wrappers)r=i(r,e,t,n);return r}getGoto(e,t,n=!1){let r=this.goto;if(t>=r[0])return-1;for(let i=r[t+1];;){let t=r[i++],o=1&t,s=r[i++];if(o&&n)return s;for(let n=i+(t>>1);i<n;i++)if(r[i]==e)return s;if(o)return-1}}hasAction(e,t){let n=this.data;for(let r=0;r<2;r++)for(let i,o=this.stateSlot(e,r?2:1);;o+=3){if(65535==(i=n[o])){if(1!=n[o+1]){if(2==n[o+1])return Nd(n,o+2);break}i=n[o=Nd(n,o+2)]}if(i==t||0==i)return Nd(n,o+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,(e=>e==t||null))}allActions(e,t){let n=this.stateSlot(e,4),r=n?t(n):void 0;for(let n=this.stateSlot(e,1);null==r;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=Nd(this.data,n+2)}r=t(Nd(this.data,n+1))}return r}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=Nd(this.data,n+2)}if(0==(1&this.data[n+2])){let e=this.data[n+1];t.some(((t,n)=>1&n&&t==e))||t.push(this.data[n],e)}}return t}configure(e){let t=Object.assign(Object.create(Rd.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let n=e.tokenizers.find((e=>e.from==t));return n?n.to:t}))),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map(((n,r)=>{let i=e.specializers.find((e=>e.from==n.external));if(!i)return n;let o=Object.assign(Object.assign({},n),{external:i.to});return t.specializers[r]=Ld(o),o}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map((()=>!1));if(e)for(let r of e.split(" ")){let e=t.indexOf(r);e>=0&&(n[e]=!0)}let r=null;for(let e=0;e<t.length;e++)if(!n[e])for(let n,i=this.dialects[t[e]];65535!=(n=this.data[i++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[n]=1;return new Ad(e,n,r)}static deserialize(e){return new Rd(e)}}function Nd(e,t){return e[t]|e[t+1]<<16}function Ld(e){if(e.external){let t=e.extend?1:0;return(n,r)=>e.external(n,r)<<1|t}return e.get}const Qd=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288];function zd(e){return e>=65&&e<=90||e>=97&&e<=122||e>=161}const Fd=new wd(((e,t)=>{for(let r=!1,i=0,o=0;;o++){let{next:s}=e;if(zd(s)||45==s||95==s||r&&(n=s)>=48&&n<=57)!r&&(45!=s||o>0)&&(r=!0),i===o&&45==s&&i++,e.advance();else{if(92!=s||10==e.peek(1)){r&&e.acceptToken(40==s?97:2==i&&t.canShift(2)?2:98);break}e.advance(),e.next>-1&&e.advance(),r=!0}}var n})),Bd=new wd((e=>{if(Qd.includes(e.peek(-1))){let{next:t}=e;(zd(t)||95==t||35==t||46==t||91==t||58==t||45==t||38==t)&&e.acceptToken(96)}})),Zd=new wd((e=>{if(!Qd.includes(e.peek(-1))){let{next:t}=e;if(37==t&&(e.advance(),e.acceptToken(1)),zd(t)){do{e.advance()}while(zd(e.next));e.acceptToken(1)}}})),Vd=ba({"AtKeyword import charset namespace keyframes media supports":za.definitionKeyword,"from to selector":za.keyword,NamespaceName:za.namespace,KeyframeName:za.labelName,KeyframeRangeName:za.operatorKeyword,TagName:za.tagName,ClassName:za.className,PseudoClassName:za.constant(za.className),IdName:za.labelName,"FeatureName PropertyName":za.propertyName,AttributeName:za.attributeName,NumberLiteral:za.number,KeywordQuery:za.keyword,UnaryQueryOp:za.operatorKeyword,"CallTag ValueName":za.atom,VariableName:za.variableName,Callee:za.operatorKeyword,Unit:za.unit,"UniversalSelector NestingSelector":za.definitionOperator,MatchOp:za.compareOperator,"ChildOp SiblingOp, LogicOp":za.logicOperator,BinOp:za.arithmeticOperator,Important:za.modifier,Comment:za.blockComment,ColorLiteral:za.color,"ParenthesizedContent StringLiteral":za.string,":":za.punctuation,"PseudoOp #":za.derefOperator,"; ,":za.separator,"( )":za.paren,"[ ]":za.squareBracket,"{ }":za.brace}),Wd={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},Ud={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},qd={__proto__:null,not:128,only:128},Yd=Rd.deserialize({version:14,states:"9bQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DPO$vQ[O'#DTOOQP'#Ej'#EjO${QdO'#DeO%gQ[O'#DrO${QdO'#DtO%xQ[O'#DvO&TQ[O'#DyO&]Q[O'#EPO&kQ[O'#EROOQS'#Ei'#EiOOQS'#EU'#EUQYQ[OOO&rQXO'#CdO'gQWO'#DaO'lQWO'#EpO'wQ[O'#EpQOQWOOP(RO#tO'#C_POOO)C@X)C@XOOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(^Q[O'#EXO(xQWO,58{O)QQ[O,59SO$qQ[O,59kO$vQ[O,59oO(^Q[O,59sO(^Q[O,59uO(^Q[O,59vO)]Q[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO)dQWO,59SO)iQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO)nQ`O,59oOOQS'#Cp'#CpO${QdO'#CqO)vQvO'#CsO+TQtO,5:POOQO'#Cx'#CxO)iQWO'#CwO+iQWO'#CyOOQS'#Em'#EmOOQO'#Dh'#DhO+nQ[O'#DoO+|QWO'#EqO&]Q[O'#DmO,[QWO'#DpOOQO'#Er'#ErO({QWO,5:^O,aQpO,5:`OOQS'#Dx'#DxO,iQWO,5:bO,nQ[O,5:bOOQO'#D{'#D{O,vQWO,5:eO,{QWO,5:kO-TQWO,5:mOOQS-E8S-E8SO${QdO,59{O-]Q[O'#EZO-jQWO,5;[O-jQWO,5;[POOO'#ET'#ETP-uO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.lQXO,5:sOOQO-E8V-E8VOOQS1G.g1G.gOOQP1G.n1G.nO)dQWO1G.nO)iQWO1G.nOOQP1G/V1G/VO.yQ`O1G/ZO/dQXO1G/_O/zQXO1G/aO0bQXO1G/bO0xQWO,59zO0}Q[O'#DOO1UQdO'#CoOOQP1G/Z1G/ZO${QdO1G/ZO1]QpO,59]OOQS,59_,59_O${QdO,59aO1eQWO1G/kOOQS,59c,59cO1jQ!bO,59eO1rQWO'#DhO1}QWO,5:TO2SQWO,5:ZO&]Q[O,5:VO&]Q[O'#E[O2[QWO,5;]O2gQWO,5:XO(^Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O2xQWO1G/|O2}QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XO3YQtO1G/gOOQO,5:u,5:uO3pQ[O,5:uOOQO-E8X-E8XO3}QWO1G0vPOOO-E8R-E8RPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$u7+$uO${QdO7+$uOOQS1G/f1G/fO4YQXO'#EoO4aQWO,59jO4fQtO'#EVO5ZQdO'#ElO5eQWO,59ZO5jQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO5rQWO1G/PO${QdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO5wQWO,5:vOOQO-E8Y-E8YO6VQXO1G/vOOQS7+%h7+%hO6^QYO'#CsOOQO'#EO'#EOO6iQ`O'#D}OOQO'#D}'#D}O6tQWO'#E]O6|QdO,5:hOOQS,5:h,5:hO7XQtO'#EYO${QdO'#EYO8VQdO7+%ROOQO7+%R7+%ROOQO1G0a1G0aO8jQpO<<HaO8rQWO,5;ZOOQP1G/U1G/UOOQS-E8T-E8TO${QdO'#EWO8zQWO,5;WOOQT1G.u1G.uOOQP<<Ha<<HaOOQS7+$k7+$kO9SQdO7+%ZOOQO7+%b7+%bOOQO,5:i,5:iO3QQdO'#E^O6tQWO,5:wOOQS,5:w,5:wOOQS-E8Z-E8ZOOQS1G0S1G0SO9ZQtO,5:tOOQS-E8W-E8WOOQO<<Hm<<HmOOQPAN={AN={O:XQdO,5:rOOQO-E8U-E8UOOQO<<Hu<<HuOOQO,5:x,5:xOOQO-E8[-E8[OOQS1G0c1G0c",stateData:":k~O#WOS#XQQ~OUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#URO#_TO~OQfOUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#UeO#_TO~O#R#dP~P!ZO#XjO~O#UlO~O]qO^qOpoOtrOxsO|tO!PvO#SuO#_nO~O!RwO~P#pO`}O#TzO#UyO~O#U!OO~O#U!QO~OQ!ZOb!TOf!ZOh!ZOn!YO#T!WO#U!SO#b!UO~Ob!]O!b!_O!e!`O#U![O!R#eP~Oh!eOn!YO#U!dO~Oh!gO#U!gO~Ob!]O!b!_O!e!`O#U![O~O!W#eP~P%gO]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#SWX#_WX~O]!lO~O!W!mO#R#dX!Q#dX~O#R#dX!Q#dX~P!ZO#Y!pO#Z!pO#[!rO~OUYOXYO]VO^VOtWOxXO#URO#_TO~OpoO!RwO~O`!yO#TzO#UyO~O!Q#dP~P!ZOb#QO~Ob#RO~Ov#SOz#TO~OP#VObgXjgX!WgX!bgX!egX#UgXagXQgXfgXhgXngXpgX!VgX#RgX#TgX#bgXvgX!QgX~Ob!]Oj#WO!b!_O!e!`O#U![O!W#eP~Ob#ZO~Ob!]O!b!_O!e!`O#U#[O~Op#`O!`#_O!R#eX!W#eX~Ob#cO~Oj#WO!W#eO~O!W#fO~Oh#gOn!YO~O!R#hO~O!RwO!`#_O~O!RwO!W#kO~O!W!}X#R!}X!Q!}X~P!ZO!W!mO#R#da!Q#da~O#Y!pO#Z!pO#[#rO~O]qO^qOtrOxsO|tO!PvO#SuO#_nO~Op!{a!R!{aa!{a~P.QOv#tOz#uO~O]qO^qOtrOxsO#_nO~Op{i|{i!P{i!R{i#S{ia{i~P/ROp}i|}i!P}i!R}i#S}ia}i~P/ROp!Oi|!Oi!P!Oi!R!Oi#S!Oia!Oi~P/RO!Q#vO~Oa#cP~P(^Oa#`P~P${Oa#}Oj#WO~O!W$PO~Oh$QOo$QO~O]!^Xa![X!`![X~O]$RO~Oa$SO!`#_O~Op#`O!R#ea!W#ea~O!`#_Op!aa!R!aa!W!aaa!aa~O!W$XO~O!Q$`O#U$ZO#b$YO~Oj#WOp$bO!V$dO!W!Ti#R!Ti!Q!Ti~P${O!W!}a#R!}a!Q!}a~P!ZO!W!mO#R#di!Q#di~Oa#cX~P#pOa$hO~Oj#WOQ!yXa!yXb!yXf!yXh!yXn!yXp!yX#T!yX#U!yX#b!yX~Op$jOa#`X~P${Oa$lO~Oj#WOv$mO~Oa$nO~O!`#_Op#Oa!R#Oa!W#Oa~Oa$pO~P.QOP#VOpgX!RgX~O#b$YOp!qX!R!qX~Op$rO!RwO~O!Q$vO#U$ZO#b$YO~Oj#WOQ!|Xb!|Xf!|Xh!|Xn!|Xp!|X!V!|X!W!|X#R!|X#T!|X#U!|X#b!|X!Q!|X~Op$bO!V$yO!W!Tq#R!Tq!Q!Tq~P${Oj#WOv$zO~OpoOa#ca~Op$jOa#`a~Oa$}O~P${Oj#WOQ!|ab!|af!|ah!|an!|ap!|a!V!|a!W!|a#R!|a#T!|a#U!|a#b!|a!Q!|a~Oa!zap!za~P${O#Wo#X#bj!P#b~",goto:"-Y#gPPP#hP#kP#t$TP#t$d#tPP$jPPP$p$y$yP%]P$yP$y%w&ZPPP&s&y#tP'PP#tP'VP#tP#t#tPPP']'r(PPP#kPP(W(W(b(WP(WP(W(WP#kP#kP#kP(e#kP(h(k(n(u#kP#kP(z)Q)a)o)u*P*V*a*g*mPPPPPPPPPP*s*|P+i+lP,b,e,k,tRkQ_bOPdhw!m#nkYOPdhotuvw!m#Q#c#nkSOPdhotuvw!m#Q#c#nQmTR!snQ{VR!wqQ!w}Q#Y!XR#s!yq!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${U$]#h$_$rR$q$[q!XZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${Q!e^R#g!fQ|VR!xqQ!w|R#s!xQ!PWR!zrQ!RXR!{sQxUQ!vpQ#d!bQ#j!iQ#k!jQ$t$^R%Q$sSgPwQ!ohQ#m!mR$e#nZfPhw!m#na!a[`a!V!]!_#_#`R#]!]R!f^R!h_R#i!hS$^#h$_R%O$rV$[#h$_$rQ!qjR#q!qQdOShPwU!kdh#nR#n!mQ#z#RU$i#z$o${Q$o$RR${$jQ$k#zR$|$kQpUS!up$gR$g#wQ$c#lR$x$cQ!ngS#o!n#pR#p!oQ#a!^R$V#aQ$_#hR$u$_Q$s$^R%P$s_cOPdhw!m#n^UOPdhw!m#nQ!toQ!|tQ!}uQ#OvQ#w#QR$W#cR#{#RQ!VZQ!c]Q#U!TQ#l!l[#y#R#z$R$j$o${Q#|#TQ$O#WS$a#l$cQ$f#uR$w$bR#x#QQiPR#PwQ!b[Q!jaR#X!VU!^[a!VQ!i`Q#^!]Q#b!_Q$T#_R$U#`",nodeNames:" Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:114,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[Vd],skippedNodes:[0,3,85],repeatNodeCount:10,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#W~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#W~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!V[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYtQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QSzSo`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!PQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#b[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#b[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSp^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#_QOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#X~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!W^Oy%^z;'S%^;'S;=`%o<%lO%^dCoSzSOy%^z;'S%^;'S;=`%o<%lO%^bDQU|QOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS|Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!YQo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bFfSxQOy%^z;'S%^;'S;=`%o<%lO%^lFwSv[Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!`Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!RUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!Q^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!PQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[Bd,Zd,Fd,1,2,3,4,new Od("m~RRYZ[z{a~~g~aO#Z~~dP!P!Qg~lO#[~~",28,102)],topRules:{StyleSheet:[0,4],Styles:[1,84]},specialized:[{term:97,get:e=>Wd[e]||-1},{term:56,get:e=>Ud[e]||-1},{term:98,get:e=>qd[e]||-1}],tokenPrec:1169});let Xd=null;function Hd(){if(!Xd&&"object"==typeof document&&document.body){let{style:e}=document.body,t=[],n=new Set;for(let r in e)"cssText"!=r&&"cssFloat"!=r&&"string"==typeof e[r]&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))),n.has(r)||(t.push(r),n.add(r)));Xd=t.sort().map((e=>({type:"property",label:e})))}return Xd||[]}const Gd=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map((e=>({type:"class",label:e}))),Kd=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map((e=>({type:"keyword",label:e}))).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map((e=>({type:"constant",label:e})))),Jd=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map((e=>({type:"type",label:e}))),eh=/^(\w[\w-]*|-\w[\w-]*|)$/,th=/^-(-[\w-]*)?$/,nh=new Ks,rh=["Declaration"];function ih(e){for(let t=e;;){if(t.type.isTop)return t;if(!(t=t.parent))return e}}function oh(e,t,n){if(t.to-t.from>4096){let r=nh.get(t);if(r)return r;let i=[],o=new Set,s=t.cursor(As.IncludeAnonymous);if(s.firstChild())do{for(let t of oh(e,s.node,n))o.has(t.label)||(o.add(t.label),i.push(t))}while(s.nextSibling());return nh.set(t,i),i}{let r=[],i=new Set;return t.cursor().iterate((t=>{var o;if(n(t)&&t.matchContext(rh)&&":"==(null===(o=t.node.nextSibling)||void 0===o?void 0:o.name)){let n=e.sliceString(t.from,t.to);i.has(n)||(i.add(n),r.push({label:n,type:"variable"}))}})),r}}const sh=e=>t=>{let{state:n,pos:r}=t,i=Ya(n).resolveInner(r,-1),o=i.type.isError&&i.from==i.to-1&&"-"==n.doc.sliceString(i.from,i.to);if("PropertyName"==i.name||(o||"TagName"==i.name)&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:Hd(),validFor:eh};if("ValueName"==i.name)return{from:i.from,options:Kd,validFor:eh};if("PseudoClassName"==i.name)return{from:i.from,options:Gd,validFor:eh};if(e(i)||(t.explicit||o)&&function(e,t){var n;if(("("==e.name||e.type.isError)&&(e=e.parent||e),"ArgList"!=e.name)return!1;let r=null===(n=e.parent)||void 0===n?void 0:n.firstChild;return"Callee"==(null==r?void 0:r.name)&&"var"==t.sliceString(r.from,r.to)}(i,n.doc))return{from:e(i)||o?i.from:r,options:oh(n.doc,ih(i),e),validFor:th};if("TagName"==i.name){for(let{parent:e}=i;e;e=e.parent)if("Block"==e.name)return{from:i.from,options:Hd(),validFor:eh};return{from:i.from,options:Jd,validFor:eh}}if(!t.explicit)return null;let s=i.resolve(r),a=s.childBefore(r);return a&&":"==a.name&&"PseudoClassSelector"==s.name?{from:r,options:Gd,validFor:eh}:a&&":"==a.name&&"Declaration"==s.name||"ArgList"==s.name?{from:r,options:Kd,validFor:eh}:"Block"==s.name||"Styles"==s.name?{from:r,options:Hd(),validFor:eh}:null},ah=sh((e=>"VariableName"==e.name)),ch=qa.define({name:"css",parser:Yd.configure({props:[dc.add({Declaration:bc()}),xc.add({"Block KeyframeList":Oc})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function lh(){return new ic(ch,ch.data.of({autocomplete:ah}))}const uh=20,dh=22,hh=23,ph=24,fh=26,mh=27,gh=28,yh=31,vh=34,bh=37,xh={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Oh={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},wh={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Sh(e){return 9==e||10==e||13==e||32==e}let kh=null,_h=null,Ph=0;function Eh(e,t){let n=e.pos+t;if(Ph==n&&_h==e)return kh;let r=e.peek(t);for(;Sh(r);)r=e.peek(++t);let i="";for(;45==(o=r)||46==o||58==o||o>=65&&o<=90||95==o||o>=97&&o<=122||o>=161;)i+=String.fromCharCode(r),r=e.peek(++t);var o;return _h=e,Ph=n,kh=i?i.toLowerCase():r==Ch||r==Th?void 0:null}const Ch=63,Th=33;function jh(e,t){this.name=e,this.parent=t,this.hash=t?t.hash:0;for(let t=0;t<e.length;t++)this.hash+=(this.hash<<4)+e.charCodeAt(t)+(e.charCodeAt(t)<<8)}const Ih=[6,10,7,8,9],Mh=new $d({start:null,shift:(e,t,n,r)=>Ih.indexOf(t)>-1?new jh(Eh(r,1)||"",e):e,reduce:(e,t)=>t==uh&&e?e.parent:e,reuse(e,t,n,r){let i=t.type.id;return 6==i||36==i?new jh(Eh(r,1)||"",e):e},hash:e=>e?e.hash:0,strict:!1}),Ah=new wd(((e,t)=>{if(60!=e.next)return void(e.next<0&&t.context&&e.acceptToken(57));e.advance();let n=47==e.next;n&&e.advance();let r=Eh(e,0);if(void 0===r)return;if(!r)return e.acceptToken(n?14:6);let i=t.context?t.context.name:null;if(n){if(r==i)return e.acceptToken(11);if(i&&Oh[i])return e.acceptToken(57,-2);if(t.dialectEnabled(0))return e.acceptToken(12);for(let e=t.context;e;e=e.parent)if(e.name==r)return;e.acceptToken(13)}else{if("script"==r)return e.acceptToken(7);if("style"==r)return e.acceptToken(8);if("textarea"==r)return e.acceptToken(9);if(xh.hasOwnProperty(r))return e.acceptToken(10);i&&wh[i]&&wh[i][r]?e.acceptToken(57,-1):e.acceptToken(6)}}),{contextual:!0}),Dh=new wd((e=>{for(let t=0,n=0;;n++){if(e.next<0){n&&e.acceptToken(58);break}if(45==e.next)t++;else{if(62==e.next&&t>=2){n>=3&&e.acceptToken(58,-2);break}t=0}e.advance()}})),$h=new wd(((e,t)=>{if(47==e.next&&62==e.peek(1)){let n=t.dialectEnabled(1)||function(e){for(;e;e=e.parent)if("svg"==e.name||"math"==e.name)return!0;return!1}(t.context);e.acceptToken(n?5:4,2)}else 62==e.next&&e.acceptToken(4,1)}));function Rh(e,t,n){let r=2+e.length;return new wd((i=>{for(let o=0,s=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(t);break}if(0==o&&60==i.next||1==o&&47==i.next||o>=2&&o<r&&i.next==e.charCodeAt(o-2))o++,s++;else if(2!=o&&o!=r||!Sh(i.next)){if(o==r&&62==i.next){a>s?i.acceptToken(t,-s):i.acceptToken(n,-(s-2));break}if((10==i.next||13==i.next)&&a){i.acceptToken(t,1);break}o=s=0}else s++;i.advance()}}))}const Nh=Rh("script",54,1),Lh=Rh("style",55,2),Qh=Rh("textarea",56,3),zh=ba({"Text RawText":za.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":za.angleBracket,TagName:za.tagName,"MismatchedCloseTag/TagName":[za.tagName,za.invalid],AttributeName:za.attributeName,"AttributeValue UnquotedAttributeValue":za.attributeValue,Is:za.definitionOperator,"EntityReference CharacterReference":za.character,Comment:za.blockComment,ProcessingInst:za.processingInstruction,DoctypeDecl:za.documentMeta}),Fh=Rd.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%WQ&rO,59fO%`Q&rO,59iO%hQ&rO,59lO%sQ&rO,59nOOOa'#D^'#D^O%{OaO'#CxO&WOaO,59[OOOb'#D_'#D_O&`ObO'#C{O&kObO,59[OOOd'#D`'#D`O&sOdO'#DOO'OOdO,59[OOO`'#Da'#DaO'WO!rO,59[O'_Q#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'dO$fO,59oOOO`,59o,59oO'lQ#|O,59qO'qQ#|O,59rOOO`-E7W-E7WO'vQ&rO'#CsOOQW'#DZ'#DZO(UQ&rO1G.wOOOa1G.w1G.wO(^Q&rO1G/QOOOb1G/Q1G/QO(fQ&rO1G/TOOOd1G/T1G/TO(nQ&rO1G/WOOO`1G/W1G/WOOO`1G/Y1G/YO(yQ&rO1G/YOOOa-E7[-E7[O)RQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)WQ#tO'#C|OOOd-E7^-E7^O)]Q#tO'#DPOOO`-E7_-E7_O)bQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O)gQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rOOO`7+$t7+$tO)rQ#|O,59eO)wQ#|O,59hO)|Q#|O,59kOOO`1G/X1G/XO*RO7[O'#CvO*dOMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O*uO7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+WOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:"+s~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OhyO~OS!OOhyO~OS!QOhyO~OS!SOT!TOhyO~OS!TOhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXhgXTgX~OS!fOhyO~OS!gOhyO~OS!hOhyO~OS!iOT!jOhyO~OS!jOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{}!P!R!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ}bQ!PcQ!RdQ!UeZ!e{}!P!R!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:Mh,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"]],propSources:[zh],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[Nh,Lh,Qh,$h,Ah,Dh,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:485},tokenPrec:487});function Bh(e,t){let n=Object.create(null);for(let r of e.getChildren(hh)){let e=r.getChild(ph),i=r.getChild(fh)||r.getChild(mh);e&&(n[t.read(e.from,e.to)]=i?i.type.id==fh?t.read(i.from+1,i.to-1):t.read(i.from,i.to):"")}return n}function Zh(e,t){let n=e.getChild(dh);return n?t.read(n.from,n.to):" "}function Vh(e,t,n){let r;for(let i of n)if(!i.attrs||i.attrs(r||(r=Bh(e.node.parent.firstChild,t))))return{parser:i.parser};return null}function Wh(e=[],t=[]){let n=[],r=[],i=[],o=[];for(let t of e)("script"==t.tag?n:"style"==t.tag?r:"textarea"==t.tag?i:o).push(t);let s=t.length?Object.create(null):null;for(let e of t)(s[e.name]||(s[e.name]=[])).push(e);return a=(e,t)=>{let a=e.type.id;if(a==gh)return Vh(e,t,n);if(a==yh)return Vh(e,t,r);if(a==vh)return Vh(e,t,i);if(a==uh&&o.length){let n,r=e.node,i=r.firstChild,s=i&&Zh(i,t);if(s)for(let e of o)if(e.tag==s&&(!e.attrs||e.attrs(n||(n=Bh(r,t))))){let t=r.lastChild,n=t.type.id==bh?t.from:r.to;if(n>i.to)return{parser:e.parser,overlay:[{from:i.to,to:n}]}}}if(s&&a==hh){let n,r=e.node;if(n=r.firstChild){let e=s[t.read(n.from,n.to)];if(e)for(let n of e){if(n.tagName&&n.tagName!=Zh(r.parent,t))continue;let e=r.lastChild;if(e.type.id==fh){let t=e.from+1,r=e.lastChild,i=e.to-(r&&r.isError?0:1);if(i>t)return{parser:n.parser,overlay:[{from:t,to:i}]}}else if(e.type.id==mh)return{parser:n.parser,overlay:[{from:e.from,to:e.to}]}}}}return null},(e,t,n,r)=>new sa(e,a,t,n,r);var a}const Uh=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],qh=new $d({start:!1,shift:(e,t)=>4==t||5==t||312==t?e:313==t,strict:!1}),Yh=new wd(((e,t)=>{let{next:n}=e;(125==n||-1==n||t.context)&&e.acceptToken(310)}),{contextual:!0,fallback:!0}),Xh=new wd(((e,t)=>{let n,{next:r}=e;Uh.indexOf(r)>-1||(47!=r||47!=(n=e.peek(1))&&42!=n)&&(125==r||59==r||-1==r||t.context||e.acceptToken(309))}),{contextual:!0}),Hh=new wd(((e,t)=>{let{next:n}=e;if((43==n||45==n)&&(e.advance(),n==e.next)){e.advance();let n=!t.context&&t.canShift(1);e.acceptToken(n?1:2)}}),{contextual:!0});function Gh(e,t){return e>=65&&e<=90||e>=97&&e<=122||95==e||e>=192||!t&&e>=48&&e<=57}const Kh=new wd(((e,t)=>{if(60!=e.next||!t.dialectEnabled(0))return;if(e.advance(),47==e.next)return;let n=0;for(;Uh.indexOf(e.next)>-1;)e.advance(),n++;if(Gh(e.next,!0)){for(e.advance(),n++;Gh(e.next,!1);)e.advance(),n++;for(;Uh.indexOf(e.next)>-1;)e.advance(),n++;if(44==e.next)return;for(let t=0;;t++){if(7==t){if(!Gh(e.next,!0))return;break}if(e.next!="extends".charCodeAt(t))break;e.advance(),n++}}e.acceptToken(3,-n)})),Jh=ba({"get set async static":za.modifier,"for while do if else switch try catch finally return throw break continue default case":za.controlKeyword,"in of await yield void typeof delete instanceof":za.operatorKeyword,"let var const using function class extends":za.definitionKeyword,"import export from":za.moduleKeyword,"with debugger as new":za.keyword,TemplateString:za.special(za.string),super:za.atom,BooleanLiteral:za.bool,this:za.self,null:za.null,Star:za.modifier,VariableName:za.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":za.function(za.variableName),VariableDefinition:za.definition(za.variableName),Label:za.labelName,PropertyName:za.propertyName,PrivatePropertyName:za.special(za.propertyName),"CallExpression/MemberExpression/PropertyName":za.function(za.propertyName),"FunctionDeclaration/VariableDefinition":za.function(za.definition(za.variableName)),"ClassDeclaration/VariableDefinition":za.definition(za.className),PropertyDefinition:za.definition(za.propertyName),PrivatePropertyDefinition:za.definition(za.special(za.propertyName)),UpdateOp:za.updateOperator,"LineComment Hashbang":za.lineComment,BlockComment:za.blockComment,Number:za.number,String:za.string,Escape:za.escape,ArithOp:za.arithmeticOperator,LogicOp:za.logicOperator,BitOp:za.bitwiseOperator,CompareOp:za.compareOperator,RegExp:za.regexp,Equals:za.definitionOperator,Arrow:za.function(za.punctuation),": Spread":za.punctuation,"( )":za.paren,"[ ]":za.squareBracket,"{ }":za.brace,"InterpolationStart InterpolationEnd":za.special(za.brace),".":za.derefOperator,", ;":za.separator,"@":za.meta,TypeName:za.typeName,TypeDefinition:za.definition(za.typeName),"type enum interface implements namespace module declare":za.definitionKeyword,"abstract global Privacy readonly override":za.modifier,"is keyof unique infer":za.operatorKeyword,JSXAttributeValue:za.attributeValue,JSXText:za.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":za.angleBracket,"JSXIdentifier JSXNameSpacedName":za.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":za.attributeName,"JSXBuiltin/JSXIdentifier":za.standard(za.tagName)}),ep={__proto__:null,export:18,as:23,from:31,default:34,async:39,function:40,extends:52,this:56,true:64,false:64,null:76,void:80,typeof:84,super:102,new:136,delete:152,yield:161,await:165,class:170,public:227,private:227,protected:227,readonly:229,instanceof:248,satisfies:251,in:252,const:254,import:286,keyof:339,unique:343,infer:349,is:385,abstract:405,implements:407,type:409,let:412,var:414,using:417,interface:423,enum:427,namespace:433,module:435,declare:439,global:443,for:462,of:471,while:474,with:478,do:482,if:486,else:488,switch:492,case:498,try:504,catch:508,finally:512,return:516,throw:520,break:524,continue:528,debugger:532},tp={__proto__:null,async:123,get:125,set:127,declare:187,public:189,private:189,protected:189,static:191,abstract:193,override:195,readonly:201,accessor:203,new:389},np={__proto__:null,"<":143},rp=Rd.deserialize({version:14,states:"$<UO%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ08SO'#ChO+RO!bO'#CiO+aO#tO'#CiO+oO?MpO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DyO0fQ^O'#EROOQ07b'#EZ'#EZO1PQWO'#EWOOQO'#El'#ElOOQO'#Ie'#IeO1XQWO'#GmO1dQWO'#EkO1iQWO'#EkO3kQ08SO'#JiO6[Q08SO'#JjO6xQWO'#FZO6}Q&jO'#FqOOQ07b'#Fc'#FcO7YO,YO'#FcO7hQ7[O'#FxO9UQWO'#FwOOQ07b'#Jj'#JjOOQ07`'#Ji'#JiO9ZQWO'#GqOOQU'#KU'#KUO9fQWO'#IRO9kQ07hO'#ISOOQU'#JW'#JWOOQU'#IW'#IWQ`Q^OOO`Q^OOO%[Q^O'#DqO9sQ^O'#D}O9zQ^O'#EPO9aQWO'#GmO:RQ7[O'#CnO:aQWO'#EjO:lQWO'#EuO:qQ7[O'#FbO;`QWO'#GmOOQO'#KV'#KVO;eQWO'#KVO;sQWO'#GuO;sQWO'#GvO;sQWO'#GxO9aQWO'#G{O<jQWO'#HOO>RQWO'#CdO>cQWO'#H[O>kQWO'#HbO>kQWO'#HdO`Q^O'#HfO>kQWO'#HhO>kQWO'#HkO>pQWO'#HqO>uQ07iO'#HwO%[Q^O'#HyO?QQ07iO'#H{O?]Q07iO'#H}O9kQ07hO'#IPO?hQ08SO'#ChO@jQ`O'#DiQOQWOOO%[Q^O'#EPOAQQWO'#ESO:RQ7[O'#EjOA]QWO'#EjOAhQpO'#FbOOQU'#Cf'#CfOOQ07`'#Dn'#DnOOQ07`'#Jm'#JmO%[Q^O'#JmOOQO'#Jq'#JqOOQO'#Ib'#IbOBhQ`O'#EcOOQ07`'#Eb'#EbOCdQ07pO'#EcOCnQ`O'#EVOOQO'#Jp'#JpODSQ`O'#JqOEaQ`O'#EVOCnQ`O'#EcPEnO!0LbO'#CaPOOO)CDu)CDuOOOO'#IX'#IXOEyO!bO,59TOOQ07b,59T,59TOOOO'#IY'#IYOFXO#tO,59TO%[Q^O'#D`OOOO'#I['#I[OFgO?MpO,59xOOQ07b,59x,59xOFuQ^O'#I]OGYQWO'#JkOI[QrO'#JkO+}Q^O'#JkOIcQWO,5:OOIyQWO'#ElOJWQWO'#JyOJcQWO'#JxOJcQWO'#JxOJkQWO,5;YOJpQWO'#JwOOQ07f,5:Z,5:ZOJwQ^O,5:ZOLxQ08SO,5:eOMiQWO,5:mONSQ07hO'#JvONZQWO'#JuO9ZQWO'#JuONoQWO'#JuONwQWO,5;XON|QWO'#JuO!#UQrO'#JjOOQ07b'#Ch'#ChO%[Q^O'#ERO!#tQpO,5:rOOQO'#Jr'#JrOOQO-E<c-E<cO9aQWO,5=XO!$[QWO,5=XO!$aQ^O,5;VO!&dQ7[O'#EgO!'}QWO,5;VO!)mQ7[O'#DsO!)tQ^O'#DxO!*OQ`O,5;`O!*WQ`O,5;`O%[Q^O,5;`OOQU'#FR'#FROOQU'#FT'#FTO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aOOQU'#FX'#FXO!*fQ^O,5;rOOQ07b,5;w,5;wOOQ07b,5;x,5;xO!,iQWO,5;xOOQ07b,5;y,5;yO%[Q^O'#IiO!,qQ07hO,5<eO!&dQ7[O,5;aO!-`Q7[O,5;aO%[Q^O,5;uO!-gQ&jO'#FgO!.dQ&jO'#J}O!.OQ&jO'#J}O!.kQ&jO'#J}OOQO'#J}'#J}O!/PQ&jO,5<POOOS,5<],5<]O!/bQ^O'#FsOOOS'#Ih'#IhO7YO,YO,5;}O!/iQ&jO'#FuOOQ07b,5;},5;}O!0YQMhO'#CuOOQ07b'#Cy'#CyO!0mQWO'#CyO!0rO?MpO'#C}O!1`Q7[O,5<bO!1gQWO,5<dO!3SQ!LQO'#GSO!3aQWO'#GTO!3fQWO'#GTO!3kQ!LQO'#GXO!4jQ`O'#G]OOQO'#Gh'#GhO!(SQ7[O'#GgOOQO'#Gj'#GjO!(SQ7[O'#GiO!5]QMhO'#JdOOQ07b'#Jd'#JdO!5gQWO'#JcO!5uQWO'#JbO!5}QWO'#CtOOQ07b'#Cw'#CwOOQ07b'#DR'#DROOQ07b'#DT'#DTO1SQWO'#DVO!(SQ7[O'#FzO!(SQ7[O'#F|O!6VQWO'#GOO!6[QWO'#GPO!3fQWO'#GVO!(SQ7[O'#G[O!6aQWO'#EmO!7OQWO,5<cOOQ07`'#Cq'#CqO!7WQWO'#EnO!8QQ`O'#EoOOQ07`'#Jw'#JwO!8XQ07hO'#KWO9kQ07hO,5=]O`Q^O,5>mOOQU'#J`'#J`OOQU,5>n,5>nOOQU-E<U-E<UO!:ZQ08SO,5:]O!<wQ08SO,5:iO%[Q^O,5:iO!?bQ08SO,5:kOOQO,5@q,5@qO!@RQ7[O,5=XO!@aQ07hO'#JaO9UQWO'#JaO!@rQ07hO,59YO!@}Q`O,59YO!AVQ7[O,59YO:RQ7[O,59YO!AbQWO,5;VO!AjQWO'#HZO!BOQWO'#KZO%[Q^O,5;zO!7{Q`O,5;|O!BWQWO,5=tO!B]QWO,5=tO!BbQWO,5=tO9kQ07hO,5=tO;sQWO,5=dOOQO'#Cu'#CuO!BpQ`O,5=aO!BxQ7[O,5=bO!CTQWO,5=dO!CYQpO,5=gO!CbQWO'#KVO>pQWO'#HQO9aQWO'#HSO!CgQWO'#HSO:RQ7[O'#HUO!ClQWO'#HUOOQU,5=j,5=jO!CqQWO'#HVO!DSQWO'#CnO!DXQWO,59OO!DcQWO,59OO!FhQ^O,59OOOQU,59O,59OO!FxQ07hO,59OO%[Q^O,59OO!ITQ^O'#H^OOQU'#H_'#H_OOQU'#H`'#H`O`Q^O,5=vO!IkQWO,5=vO`Q^O,5=|O`Q^O,5>OO!IpQWO,5>QO`Q^O,5>SO!IuQWO,5>VO!IzQ^O,5>]OOQU,5>c,5>cO%[Q^O,5>cO9kQ07hO,5>eOOQU,5>g,5>gO!NUQWO,5>gOOQU,5>i,5>iO!NUQWO,5>iOOQU,5>k,5>kO!NZQ`O'#D[O%[Q^O'#JmO!NxQ`O'#JmO# gQ`O'#DjO# xQ`O'#DjO#$ZQ^O'#DjO#$bQWO'#JlO#$jQWO,5:TO#$oQWO'#EpO#$}QWO'#JzO#%VQWO,5;ZO#%[Q`O'#DjO#%iQ`O'#EUOOQ07b,5:n,5:nO%[Q^O,5:nO#%pQWO,5:nO>pQWO,5;UO!@}Q`O,5;UO!AVQ7[O,5;UO:RQ7[O,5;UO#%xQWO,5@XO#%}Q$ISO,5:rOOQO-E<`-E<`O#'TQ07pO,5:}OCnQ`O,5:qO#'_Q`O,5:qOCnQ`O,5:}O!@rQ07hO,5:qOOQ07`'#Ef'#EfOOQO,5:},5:}O%[Q^O,5:}O#'lQ07hO,5:}O#'wQ07hO,5:}O!@}Q`O,5:qOOQO,5;T,5;TO#(VQ07hO,5:}POOO'#IV'#IVP#(kO!0LbO,58{POOO,58{,58{OOOO-E<V-E<VOOQ07b1G.o1G.oOOOO-E<W-E<WO#(vQpO,59zOOOO-E<Y-E<YOOQ07b1G/d1G/dO#({QrO,5>wO+}Q^O,5>wOOQO,5>},5>}O#)VQ^O'#I]OOQO-E<Z-E<ZO#)dQWO,5@VO#)lQrO,5@VO#)sQWO,5@dOOQ07b1G/j1G/jO%[Q^O,5@eO#){QWO'#IcOOQO-E<a-E<aO#)sQWO,5@dOOQ07`1G0t1G0tOOQ07f1G/u1G/uOOQ07f1G0X1G0XO%[Q^O,5@bO#*aQ07hO,5@bO#*rQ07hO,5@bO#*yQWO,5@aO9ZQWO,5@aO#+RQWO,5@aO#+aQWO'#IfO#*yQWO,5@aOOQ07`1G0s1G0sO!*OQ`O,5:tO!*ZQ`O,5:tOOQO,5:v,5:vO#,RQWO,5:vO#,ZQ7[O1G2sO9aQWO1G2sOOQ07b1G0q1G0qO#,iQ08SO1G0qO#-nQ08QO,5;ROOQ07b'#GR'#GRO#.[Q08SO'#JdO!$aQ^O1G0qO#0dQ7[O'#JnO#0nQWO,5:_O#0sQrO'#JoO%[Q^O'#JoO#0}QWO,5:dOOQ07b'#D['#D[OOQ07b1G0z1G0zO%[Q^O1G0zOOQ07b1G1d1G1dO#1SQWO1G0zO#3kQ08SO1G0{O#3rQ08SO1G0{O#6]Q08SO1G0{O#6dQ08SO1G0{O#8nQ08SO1G0{O#9UQ08SO1G0{O#<OQ08SO1G0{O#<VQ08SO1G0{O#>pQ08SO1G0{O#>wQ08SO1G0{O#@oQ08SO1G0{O#CoQ(CYO'#ChO#EmQ(CYO1G1^O#EtQ(CYO'#JjO!,lQWO1G1dO#FUQ08SO,5?TOOQ07`-E<g-E<gO#FxQ08SO1G0{OOQ07b1G0{1G0{O#ITQ08SO1G1aO#IwQ&jO,5<TO#JPQ&jO,5<UO#JXQ&jO'#FlO#JpQWO'#FkOOQO'#KO'#KOOOQO'#Ig'#IgO#JuQ&jO1G1kOOQ07b1G1k1G1kOOOS1G1v1G1vO#KWQ(CYO'#JiO#KbQWO,5<_O!*fQ^O,5<_OOOS-E<f-E<fOOQ07b1G1i1G1iO#KgQ`O'#J}OOQ07b,5<a,5<aO#KoQ`O,5<aOOQ07b,59e,59eO!&dQ7[O'#DPOOOO'#IZ'#IZO#KtO?MpO,59iOOQ07b,59i,59iO%[Q^O1G1|O!6[QWO'#IkO#LPQ7[O,5<uOOQ07b,5<r,5<rO!(SQ7[O'#InO#LoQ7[O,5=RO!(SQ7[O'#IpO#MbQ7[O,5=TO!&dQ7[O,5=VOOQO1G2O1G2OO#MlQpO'#CqO#NPQpO,5<nO#NWQWO'#KRO9aQWO'#KRO#NfQWO,5<pO!(SQ7[O,5<oO#NkQWO'#GUO#NvQWO,5<oO#N{QpO'#GRO$ YQpO'#KSO$ dQWO'#KSO!&dQ7[O'#KSO$ iQWO,5<sO$ nQ`O'#G^O!4eQ`O'#G^O$!PQWO'#G`O$!UQWO'#GbO!3fQWO'#GeO$!ZQ07hO'#ImO$!fQ`O,5<wOOQ07f,5<w,5<wO$!mQ`O'#G^O$!{Q`O'#G_O$#TQ`O'#G_O$#YQ7[O,5=RO$#jQ7[O,5=TOOQ07b,5=W,5=WO!(SQ7[O,5?}O!(SQ7[O,5?}O$#zQWO'#IrO$$VQWO,5?|O$$_QWO,59`O$%OQ7[O,59qOOQ07b,59q,59qO$%qQ7[O,5<fO$&dQ7[O,5<hO@bQWO,5<jOOQ07b,5<k,5<kO$&nQWO,5<qO$&sQ7[O,5<vO$'TQWO'#JuO!$aQ^O1G1}O$'YQWO1G1}O9ZQWO'#JxO9ZQWO'#EpO%[Q^O'#EpO9ZQWO'#ItO$'_Q07hO,5@rOOQU1G2w1G2wOOQU1G4X1G4XOOQ07b1G/w1G/wO!,iQWO1G/wO$)dQ08SO1G0TOOQU1G2s1G2sO!&dQ7[O1G2sO%[Q^O1G2sO#,^QWO1G2sO$+hQ7[O'#EgOOQ07`,5?{,5?{O$+rQ07hO,5?{OOQU1G.t1G.tO!@rQ07hO1G.tO!@}Q`O1G.tO!AVQ7[O1G.tO$,TQWO1G0qO$,YQWO'#ChO$,eQWO'#K[O$,mQWO,5=uO$,rQWO'#K[O$,wQWO'#K[O$-VQWO'#IzO$-eQWO,5@uO$-mQrO1G1fOOQ07b1G1h1G1hO9aQWO1G3`O@bQWO1G3`O$-tQWO1G3`O$-yQWO1G3`OOQU1G3`1G3`O!CTQWO1G3OO!&dQ7[O1G2{O$.OQWO1G2{OOQU1G2|1G2|O!&dQ7[O1G2|O$.TQWO1G2|O$.]Q`O'#GzOOQU1G3O1G3OO!4eQ`O'#IvO!CYQpO1G3ROOQU1G3R1G3ROOQU,5=l,5=lO$.eQ7[O,5=nO9aQWO,5=nO$!UQWO,5=pO9UQWO,5=pO!@}Q`O,5=pO!AVQ7[O,5=pO:RQ7[O,5=pO$.sQWO'#KYO$/OQWO,5=qOOQU1G.j1G.jO$/TQ07hO1G.jO@bQWO1G.jO$/`QWO1G.jO9kQ07hO1G.jO$1eQrO,5@wO$1uQWO,5@wO9ZQWO,5@wO$2QQ^O,5=xO$2XQWO,5=xOOQU1G3b1G3bO`Q^O1G3bOOQU1G3h1G3hOOQU1G3j1G3jO>kQWO1G3lO$2^Q^O1G3nO$6bQ^O'#HmOOQU1G3q1G3qO$6oQWO'#HsO>pQWO'#HuOOQU1G3w1G3wO$6wQ^O1G3wO9kQ07hO1G3}OOQU1G4P1G4POOQ07`'#GY'#GYO9kQ07hO1G4RO9kQ07hO1G4TO$;OQWO,5@XO!*fQ^O,5;[O9ZQWO,5;[O>pQWO,5:UO!*fQ^O,5:UO!@}Q`O,5:UO$;TQ(CYO,5:UOOQO,5;[,5;[O$;_Q`O'#I^O$;uQWO,5@WOOQ07b1G/o1G/oO$;}Q`O'#IdO$<XQWO,5@fOOQ07`1G0u1G0uO# xQ`O,5:UOOQO'#Ia'#IaO$<aQ`O,5:pOOQ07f,5:p,5:pO#%sQWO1G0YOOQ07b1G0Y1G0YO%[Q^O1G0YOOQ07b1G0p1G0pO>pQWO1G0pO!@}Q`O1G0pO!AVQ7[O1G0pOOQ07`1G5s1G5sO!@rQ07hO1G0]OOQO1G0i1G0iO%[Q^O1G0iO$<hQ07hO1G0iO$<sQ07hO1G0iO!@}Q`O1G0]OCnQ`O1G0]O$=RQ07hO1G0iOOQO1G0]1G0]O$=gQ08SO1G0iPOOO-E<T-E<TPOOO1G.g1G.gOOOO1G/f1G/fO$=qQpO,5<eO$=yQrO1G4cOOQO1G4i1G4iO%[Q^O,5>wO$>TQWO1G5qO$>]QWO1G6OO$>eQrO1G6PO9ZQWO,5>}O$>oQ08SO1G5|O%[Q^O1G5|O$?PQ07hO1G5|O$?bQWO1G5{O$?bQWO1G5{O9ZQWO1G5{O$?jQWO,5?QO9ZQWO,5?QOOQO,5?Q,5?QO$@OQWO,5?QO$'TQWO,5?QOOQO-E<d-E<dOOQO1G0`1G0`OOQO1G0b1G0bO!,lQWO1G0bOOQU7+(_7+(_O!&dQ7[O7+(_O%[Q^O7+(_O$@^QWO7+(_O$@iQ7[O7+(_O$@wQ08SO,5=RO$CSQ08SO,5=TO$E_Q08SO,5=RO$GpQ08SO,5=TO$JRQ08SO,59qO$LZQ08SO,5<fO$NfQ08SO,5<hO%!qQ08SO,5<vOOQ07b7+&]7+&]O%%SQ08SO7+&]O%%vQ7[O'#I_O%&QQWO,5@YOOQ07b1G/y1G/yO%&YQ^O'#I`O%&gQWO,5@ZO%&oQrO,5@ZOOQ07b1G0O1G0OO%&yQWO7+&fOOQ07b7+&f7+&fO%'OQ(CYO,5:eO%[Q^O7+&xO%'YQ(CYO,5:]O%'gQ(CYO,5:iO%'qQ(CYO,5:kOOQ07b7+'O7+'OOOQO1G1o1G1oOOQO1G1p1G1pO%'{QtO,5<WO!*fQ^O,5<VOOQO-E<e-E<eOOQ07b7+'V7+'VOOOS7+'b7+'bOOOS1G1y1G1yO%(WQWO1G1yOOQ07b1G1{1G1{O%(]QpO,59kOOOO-E<X-E<XOOQ07b1G/T1G/TO%(dQ08SO7+'hOOQ07b,5?V,5?VO%)WQpO,5?VOOQ07b1G2a1G2aP!&dQ7[O'#IkPOQ07b-E<i-E<iO%)vQ7[O,5?YOOQ07b-E<l-E<lO%*iQ7[O,5?[OOQ07b-E<n-E<nO%*sQpO1G2qOOQ07b1G2Y1G2YO%*zQWO'#IjO%+YQWO,5@mO%+YQWO,5@mO%+bQWO,5@mO%+mQWO,5@mOOQO1G2[1G2[O%+{Q7[O1G2ZO!(SQ7[O1G2ZO%,]Q!LQO'#IlO%,mQWO,5@nO!&dQ7[O,5@nO%,uQpO,5@nOOQ07b1G2_1G2_OOQ07`,5<x,5<xOOQ07`,5<y,5<yO$'TQWO,5<yOC_QWO,5<yO!@}Q`O,5<xOOQO'#Ga'#GaO%-PQWO,5<zOOQ07`,5<|,5<|O$'TQWO,5=POOQO,5?X,5?XOOQO-E<k-E<kOOQ07f1G2c1G2cO!4eQ`O,5<xO%-XQWO,5<yO$!PQWO,5<zO!4eQ`O,5<yO!(SQ7[O'#InO%-{Q7[O1G2mO!(SQ7[O'#IpO%.nQ7[O1G2oO%.xQ7[O1G5iO%/SQ7[O1G5iOOQO,5?^,5?^OOQO-E<p-E<pOOQO1G.z1G.zO!7{Q`O,59sO%[Q^O,59sO%/aQWO1G2UO!(SQ7[O1G2]O%/fQ08SO7+'iOOQ07b7+'i7+'iO!$aQ^O7+'iO%0YQWO,5;[OOQ07`,5?`,5?`OOQ07`-E<r-E<rOOQ07b7+%c7+%cO%0_QpO'#KTO#%sQWO7+(_O%0iQrO7+(_O$@aQWO7+(_O%0pQ08QO'#ChO%1TQ08QO,5<}O%1uQWO,5<}OOQ07`1G5g1G5gOOQU7+$`7+$`O!@rQ07hO7+$`O!@}Q`O7+$`O!$aQ^O7+&]O%1zQWO'#IyO%2cQWO,5@vOOQO1G3a1G3aO9aQWO,5@vO%2cQWO,5@vO%2kQWO,5@vOOQO,5?f,5?fOOQO-E<x-E<xOOQ07b7+'Q7+'QO%2pQWO7+(zO9kQ07hO7+(zO9aQWO7+(zO@bQWO7+(zOOQU7+(j7+(jO%2uQ08QO7+(gO!&dQ7[O7+(gO%3PQpO7+(hOOQU7+(h7+(hO!&dQ7[O7+(hO%3WQWO'#KXO%3cQWO,5=fOOQO,5?b,5?bOOQO-E<t-E<tOOQU7+(m7+(mO%4rQ`O'#HTOOQU1G3Y1G3YO!&dQ7[O1G3YO%[Q^O1G3YO%4yQWO1G3YO%5UQ7[O1G3YO9kQ07hO1G3[O$!UQWO1G3[O9UQWO1G3[O!@}Q`O1G3[O!AVQ7[O1G3[O%5dQWO'#IxO%5xQWO,5@tO%6QQ`O,5@tOOQ07`1G3]1G3]OOQU7+$U7+$UO@bQWO7+$UO9kQ07hO7+$UO%6]QWO7+$UO%[Q^O1G6cO%[Q^O1G6dO%6bQ07hO1G6cO%6lQ^O1G3dO%6sQWO1G3dO%6xQ^O1G3dOOQU7+(|7+(|O9kQ07hO7+)WO`Q^O7+)YOOQU'#K_'#K_OOQU'#I{'#I{O%7PQ^O,5>XOOQU,5>X,5>XO%[Q^O'#HnO%7^QWO'#HpOOQU,5>_,5>_O9ZQWO,5>_OOQU,5>a,5>aOOQU7+)c7+)cOOQU7+)i7+)iOOQU7+)m7+)mOOQU7+)o7+)oO%7cQ`O1G5sO%7wQ(CYO1G0vO%8RQWO1G0vOOQO1G/p1G/pO%8^Q(CYO1G/pO>pQWO1G/pO!*fQ^O'#DjOOQO,5>x,5>xOOQO-E<[-E<[OOQO,5?O,5?OOOQO-E<b-E<bO!@}Q`O1G/pOOQO-E<_-E<_OOQ07f1G0[1G0[OOQ07b7+%t7+%tO#%sQWO7+%tOOQ07b7+&[7+&[O>pQWO7+&[O!@}Q`O7+&[OOQO7+%w7+%wO$=gQ08SO7+&TOOQO7+&T7+&TO%[Q^O7+&TO%8hQ07hO7+&TO!@rQ07hO7+%wO!@}Q`O7+%wO%8sQ07hO7+&TO%9RQ08SO7++hO%[Q^O7++hO%9cQWO7++gO%9cQWO7++gOOQO1G4l1G4lO9ZQWO1G4lO%9kQWO1G4lOOQO7+%|7+%|O#%sQWO<<KyO%0iQrO<<KyO%9yQWO<<KyOOQU<<Ky<<KyO!&dQ7[O<<KyO%[Q^O<<KyO%:RQWO<<KyO%:^Q08SO,5?YO%<iQ08SO,5?[O%>tQ08SO1G2ZO%AVQ08SO1G2mO%CbQ08SO1G2oO%EmQ7[O,5>yOOQO-E<]-E<]O%EwQrO,5>zO%[Q^O,5>zOOQO-E<^-E<^O%FRQWO1G5uOOQ07b<<JQ<<JQO%FZQ(CYO1G0qO%HeQ(CYO1G0{O%HlQ(CYO1G0{O%JpQ(CYO1G0{O%JwQ(CYO1G0{O%LlQ(CYO1G0{O%MSQ(CYO1G0{O& gQ(CYO1G0{O& nQ(CYO1G0{O&#rQ(CYO1G0{O&#yQ(CYO1G0{O&%qQ(CYO1G0{O&&UQ08SO<<JdO&'ZQ(CYO1G0{O&)PQ(CYO'#JdO&+SQ(CYO1G1aO&+aQ(CYO1G0TO!*fQ^O'#FnOOQO'#KP'#KPOOQO1G1r1G1rO&+kQWO1G1qO&+pQ(CYO,5?TOOOS7+'e7+'eOOOO1G/V1G/VOOQ07b1G4q1G4qO!(SQ7[O7+(]O&+zQWO,5?UO9aQWO,5?UOOQO-E<h-E<hO&,YQWO1G6XO&,YQWO1G6XO&,bQWO1G6XO&,mQ7[O7+'uO&,}QpO,5?WO&-XQWO,5?WO!&dQ7[O,5?WOOQO-E<j-E<jO&-^QpO1G6YO&-hQWO1G6YOOQ07`1G2e1G2eO$'TQWO1G2eOOQ07`1G2d1G2dO&-pQWO1G2fO!&dQ7[O1G2fOOQ07`1G2k1G2kO!@}Q`O1G2dOC_QWO1G2eO&-uQWO1G2fO&-}QWO1G2eO&.qQ7[O,5?YOOQ07b-E<m-E<mO&/dQ7[O,5?[OOQ07b-E<o-E<oO!(SQ7[O7++TOOQ07b1G/_1G/_O&/nQWO1G/_OOQ07b7+'p7+'pO&/sQ7[O7+'wO&0TQ08SO<<KTOOQ07b<<KT<<KTO&0wQWO1G0vO!&dQ7[O'#IsO&0|QWO,5@oO!&dQ7[O1G2iOOQU<<Gz<<GzO!@rQ07hO<<GzO&1UQ08SO<<IwOOQ07b<<Iw<<IwOOQO,5?e,5?eO&1xQWO,5?eO&1}QWO,5?eOOQO-E<w-E<wO&2]QWO1G6bO&2]QWO1G6bO9aQWO1G6bO@bQWO<<LfOOQU<<Lf<<LfO&2eQWO<<LfO9kQ07hO<<LfOOQU<<LR<<LRO%2uQ08QO<<LROOQU<<LS<<LSO%3PQpO<<LSO&2jQ`O'#IuO&2uQWO,5@sO!*fQ^O,5@sOOQU1G3Q1G3QO&2}Q^O'#JmOOQO'#Iw'#IwO9kQ07hO'#IwO&3XQ`O,5=oOOQU,5=o,5=oO&3`Q`O'#EcO&3tQWO7+(tO&3yQWO7+(tOOQU7+(t7+(tO!&dQ7[O7+(tO%[Q^O7+(tO&4RQWO7+(tOOQU7+(v7+(vO9kQ07hO7+(vO$!UQWO7+(vO9UQWO7+(vO!@}Q`O7+(vO&4^QWO,5?dOOQO-E<v-E<vOOQO'#HW'#HWO&4iQWO1G6`O9kQ07hO<<GpOOQU<<Gp<<GpO@bQWO<<GpO&4qQWO7++}O&4vQWO7+,OO%[Q^O7++}O%[Q^O7+,OOOQU7+)O7+)OO&4{QWO7+)OO&5QQ^O7+)OO&5XQWO7+)OOOQU<<Lr<<LrOOQU<<Lt<<LtOOQU-E<y-E<yOOQU1G3s1G3sO&5^QWO,5>YOOQU,5>[,5>[O&5cQWO1G3yO9ZQWO7+&bO!*fQ^O7+&bOOQO7+%[7+%[O&5hQ(CYO1G6PO>pQWO7+%[OOQ07b<<I`<<I`OOQ07b<<Iv<<IvO>pQWO<<IvOOQO<<Io<<IoO$=gQ08SO<<IoO%[Q^O<<IoOOQO<<Ic<<IcO!@rQ07hO<<IcO&5rQ07hO<<IoO&5}Q08SO<= SO&6_QWO<= ROOQO7+*W7+*WO9ZQWO7+*WOOQUANAeANAeO&6gQWOANAeO!&dQ7[OANAeO#%sQWOANAeO%0iQrOANAeO%[Q^OANAeO&6oQ08SO7+'uO&9QQ08SO,5?YO&;]Q08SO,5?[O&=hQ08SO7+'wO&?yQrO1G4fO&@TQ(CYO7+&]O&BXQ(CYO,5=RO&D`Q(CYO,5=TO&DpQ(CYO,5=RO&EQQ(CYO,5=TO&EbQ(CYO,59qO&GeQ(CYO,5<fO&IhQ(CYO,5<hO&KkQ(CYO,5<vO&MaQ(CYO7+'hO&MnQ(CYO7+'iO&M{QWO,5<YOOQO7+']7+']O&NQQ7[O<<KwOOQO1G4p1G4pO&NXQWO1G4pO&NdQWO1G4pO&NrQWO7++sO&NrQWO7++sO!&dQ7[O1G4rO&NzQpO1G4rO' UQWO7++tOOQ07`7+(P7+(PO$'TQWO7+(QO' ^QpO7+(QOOQ07`7+(O7+(OO$'TQWO7+(PO' eQWO7+(QO!&dQ7[O7+(QOC_QWO7+(PO' jQ7[O<<NoOOQ07b7+$y7+$yO' tQpO,5?_OOQO-E<q-E<qO'!OQ08QO7+(TOOQUAN=fAN=fO9aQWO1G5POOQO1G5P1G5PO'!`QWO1G5PO'!eQWO7++|O'!eQWO7++|O9kQ07hOANBQO@bQWOANBQOOQUANBQANBQOOQUANAmANAmOOQUANAnANAnO'!mQWO,5?aOOQO-E<s-E<sO'!xQ(CYO1G6_O'%YQrO'#ChOOQO,5?c,5?cOOQO-E<u-E<uOOQU1G3Z1G3ZO&2}Q^O,5<zOOQU<<L`<<L`O!&dQ7[O<<L`O&3tQWO<<L`O'%dQWO<<L`O%[Q^O<<L`OOQU<<Lb<<LbO9kQ07hO<<LbO$!UQWO<<LbO9UQWO<<LbO'%lQ`O1G5OO'%wQWO7++zOOQUAN=[AN=[O9kQ07hOAN=[OOQU<= i<= iOOQU<= j<= jO'&PQWO<= iO'&UQWO<= jOOQU<<Lj<<LjO'&ZQWO<<LjO'&`Q^O<<LjOOQU1G3t1G3tO>pQWO7+)eO'&gQWO<<I|O'&rQ(CYO<<I|OOQO<<Hv<<HvOOQ07bAN?bAN?bOOQOAN?ZAN?ZO$=gQ08SOAN?ZOOQOAN>}AN>}O%[Q^OAN?ZOOQO<<Mr<<MrOOQUG27PG27PO!&dQ7[OG27PO#%sQWOG27PO'&|QWOG27PO%0iQrOG27PO''UQ(CYO<<JdO''cQ(CYO1G2ZO')XQ(CYO,5?YO'+[Q(CYO,5?[O'-_Q(CYO1G2mO'/bQ(CYO1G2oO'1eQ(CYO<<KTO'1rQ(CYO<<IwOOQO1G1t1G1tO!(SQ7[OANAcOOQO7+*[7+*[O'2PQWO7+*[O'2[QWO<= _O'2dQpO7+*^OOQ07`<<Kl<<KlO$'TQWO<<KlOOQ07`<<Kk<<KkO'2nQpO<<KlO$'TQWO<<KkOOQO7+*k7+*kO9aQWO7+*kO'2uQWO<= hOOQUG27lG27lO9kQ07hOG27lO!*fQ^O1G4{O'2}QWO7++yO&3tQWOANAzOOQUANAzANAzO!&dQ7[OANAzO'3VQWOANAzOOQUANA|ANA|O9kQ07hOANA|O$!UQWOANA|OOQO'#HX'#HXOOQO7+*j7+*jOOQUG22vG22vOOQUANETANETOOQUANEUANEUOOQUANBUANBUO'3_QWOANBUOOQU<<MP<<MPO!*fQ^OAN?hOOQOG24uG24uO$=gQ08SOG24uO#%sQWOLD,kOOQULD,kLD,kO!&dQ7[OLD,kO'3dQWOLD,kO'3lQ(CYO7+'uO'5bQ(CYO,5?YO'7eQ(CYO,5?[O'9hQ(CYO7+'wO';^Q7[OG26}OOQO<<Mv<<MvOOQ07`ANAWANAWO$'TQWOANAWOOQ07`ANAVANAVOOQO<<NV<<NVOOQULD-WLD-WO';nQ(CYO7+*gOOQUG27fG27fO&3tQWOG27fO!&dQ7[OG27fOOQUG27hG27hO9kQ07hOG27hOOQUG27pG27pO';xQ(CYOG25SOOQOLD*aLD*aOOQU!$(!V!$(!VO#%sQWO!$(!VO!&dQ7[O!$(!VO'<SQ08SOG26}OOQ07`G26rG26rOOQULD-QLD-QO&3tQWOLD-QOOQULD-SLD-SOOQU!)9Eq!)9EqO#%sQWO!)9EqOOQU!$(!l!$(!lOOQU!.K;]!.K;]O'>eQ(CYOG26}O!*fQ^O'#DyO1PQWO'#EWO'@ZQrO'#JiO!*fQ^O'#DqO'@bQ^O'#D}O'@iQrO'#ChO'CPQrO'#ChO!*fQ^O'#EPO'CaQ^O,5;VO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O'#IiO'EdQWO,5<eO'ElQ7[O,5;aO'GVQ7[O,5;aO!*fQ^O,5;uO!&dQ7[O'#GgO'ElQ7[O'#GgO!&dQ7[O'#GiO'ElQ7[O'#GiO1SQWO'#DVO1SQWO'#DVO!&dQ7[O'#FzO'ElQ7[O'#FzO!&dQ7[O'#F|O'ElQ7[O'#F|O!&dQ7[O'#G[O'ElQ7[O'#G[O!*fQ^O,5:iO!*fQ^O,5@eO'CaQ^O1G0qO'G^Q(CYO'#ChO!*fQ^O1G1|O!&dQ7[O'#InO'ElQ7[O'#InO!&dQ7[O'#IpO'ElQ7[O'#IpO!&dQ7[O,5<oO'ElQ7[O,5<oO'CaQ^O1G1}O!*fQ^O7+&xO!&dQ7[O1G2ZO'ElQ7[O1G2ZO!&dQ7[O'#InO'ElQ7[O'#InO!&dQ7[O'#IpO'ElQ7[O'#IpO!&dQ7[O1G2]O'ElQ7[O1G2]O'CaQ^O7+'iO'CaQ^O7+&]O!&dQ7[OANAcO'ElQ7[OANAcO'GhQWO'#EkO'GmQWO'#EkO'GuQWO'#FZO'GzQWO'#EuO'HPQWO'#JyO'H[QWO'#JwO'HgQWO,5;VO'HlQ7[O,5<bO'HsQWO'#GTO'HxQWO'#GTO'H}QWO,5<cO'IVQWO,5;VO'I_Q(CYO1G1^O'IfQWO,5<oO'IkQWO,5<oO'IpQWO,5<qO'IuQWO,5<qO'IzQWO1G1}O'JPQWO1G0qO'JUQ7[O<<KwO'J]Q7[O<<KwO7hQ7[O'#FxO9UQWO'#FwOA]QWO'#EjO!*fQ^O,5;rO!3fQWO'#GTO!3fQWO'#GTO!3fQWO'#GVO!3fQWO'#GVO!(SQ7[O7+(]O!(SQ7[O7+(]O%*sQpO1G2qO%*sQpO1G2qO!&dQ7[O,5=VO!&dQ7[O,5=V",stateData:"'Ka~O'tOS'uOSSOS'vRQ~OPYOQYORfOX!VO`qOczOdyOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![XO!fuO!kZO!nYO!oYO!pYO!rvO!twO!wxO!{]O#s!PO$T|O%b}O%d!QO%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO%s!UO&P!WO&V!XO&X!YO&Z!ZO&]![O&`!]O&f!^O&l!_O&n!`O&p!aO&r!bO&t!cO'{SO'}TO(QUO(XVO(g[O(tiO~OVtO~P`OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~O`!vOo!nO!P!oO!_!xO!`!uO!a!uO!{:dO#P!pO#Q!pO#R!wO#S!pO#T!pO#W!yO#X!yO'|!lO'}TO(QUO([!mO(g!sO~O'v!zO~OP[XZ[X`[Xn[X|[X}[X!P[X!Y[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X'r[X(X[X(h[X(o[X(p[X~O!d$|X~P(qO^!|O'}#OO(O!|O(P#OO~O^#PO(P#OO(Q#OO(R#PO~Ot#RO!R#SO(Y#SO(Z#UO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{:hO'}TO(QUO(XVO(g[O(tiO~O!X#YO!Y#VO!V(_P!V(lP~P+}O!Z#bO~P`OPYOQYORfOc!jOd!iOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'}TO(QUO(XVO(g[O(tiO~Ol#lO!X#hO!{]O#e#kO#f#hO'{:iO!j(iP~P.iO!k#nO'{#mO~O!w#rO!{]O%b#sO~O#g#tO~O!d#uO#g#tO~OP$]OZ$dOn$QO|#yO}#zO!P#{O!Y$aO!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O`(]X'r(]X'p(]X!j(]X!V(]X![(]X%c(]X!d(]X~P1qO#[$eO$O$eOP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X![(^X%c(^X~O`(^X!i(^X'r(^X'p(^X!V(^X!j(^Xr(^X!d(^X~P4XO#[$eO~O$Y$gO$[$fO$c$lO~ORfO![$mO$f$nO$h$pO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz%ZO!P${O![$|O!f%`O!k$xO#f%aO$T%^O$o%[O$q%]O$t%_O'{$rO'}TO(QUO(X$uO(o$}O(p%POf(UP~O!k%bO~O!P%eO![%fO'{%dO~O!d%jO~O`%kO'r%kO~O'|!lO~P%[O%h%rO~P%[Og%VO!k%bO'{%dO'|!lO~Od%yO!k%bO'{%dO~O#r$SO~O|&OO![%{O!k%}O%d&RO'{%dO'|!lO'}TO(QUO_(}P~O!w#rO~O%m&TO!P(yX![(yX'{(yX~O'{&UO~O!t&ZO#s!PO%d!QO%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO~Oc&`Od&_O!w&]O%b&^O%u&[O~P;xOc&cOdyO![&bO!t&ZO!wxO!{]O#s!PO%b}O%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO%s!UO~Oa&fO#[&iO%d&dO'|!lO~P<}O!k&jO!t&nO~O!k#nO~O![XO~O`%kO'q&vO'r%kO~O`%kO'q&yO'r%kO~O`%kO'q&{O'r%kO~O'p[X!V[Xr[X!j[X&T[X![[X%c[X!d[X~P(qO!_'YO!`'RO!a'RO'|!lO'}TO(QUO~Oo'PO!P'OO!X'SO([&}O!Z(`P!Z(nP~P@UOj']O!['ZO'{%dO~Od'bO!k%bO'{%dO~O|&OO!k%}O~Oo!nO!P!oO!{:dO#P!pO#Q!pO#S!pO#T!pO'|!lO'}TO(QUO([!mO(g!sO~O!_'hO!`'gO!a'gO#R!pO#W'iO#X'iO~PApO`%kOg%VO!d#uO!k%bO'r%kO(h'kO~O!o'oO#['mO~PCOOo!nO!P!oO'}TO(QUO([!mO(g!sO~O![XOo(eX!P(eX!_(eX!`(eX!a(eX!{(eX#P(eX#Q(eX#R(eX#S(eX#T(eX#W(eX#X(eX'|(eX'}(eX(Q(eX([(eX(g(eX~O!`'gO!a'gO'|!lO~PCnO'w'sO'x'sO'y'uO~O^!|O'}'wO(O!|O(P'wO~O^#PO(P'wO(Q'wO(R#PO~Ot#RO!R#SO(Y#SO(Z'{O~O!X'}O!V'PX!V'VX!Y'PX!Y'VX~P+}O!Y(PO!V(_X~OP$]OZ$dOn$QO|#yO}#zO!P#{O!Y(PO!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O!V(_X~PGbO!V(UO~O!V(kX!Y(kX!d(kX!j(kX(h(kX~O#[(kX#g#`X!Z(kX~PIhO#[(VO!V(mX!Y(mX~O!Y(WO!V(lX~O!V(ZO~O#[$eO~PIhO!Z([O~P`O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!maZ!man!ma!Y!ma!h!ma!o!ma#j!ma#k!ma#l!ma#m!ma#n!ma#o!ma#p!ma#q!ma#r!ma#t!ma#v!ma#x!ma#y!ma(h!ma(o!ma(p!ma~O`!ma'r!ma'p!ma!V!ma!j!mar!ma![!ma%c!ma!d!ma~PKOO!j(]O~O!d#uO#[(^O(h'kO!Y(jX`(jX'r(jX~O!j(jX~PMnO!P%eO![%fO!{]O#e(cO#f(bO'{%dO~O!Y(dO!j(iX~O!j(fO~O!P%eO![%fO#f(bO'{%dO~OP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!i(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X~O!d#uO!j(^X~P! [O|(gO}(hO!i#wO!k#xO!{!za!P!za~O!w!za%b!za![!za#e!za#f!za'{!za~P!#`O!w(lO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![XO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~O#g(rO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz%ZO!P${O![$|O!f%`O!k$xO#f%aO$T%^O$o%[O$q%]O$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~Of(bP~P!(SO!X(vO!j(cP~P%[O([(xO(g[O~O!P(zO!k#xO([(xO(g[O~OP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![!eO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'{)YO'}TO(QUO(XVO(g[O(t<YO~O})]O!k#xO~O!Y$aO`$ma'r$ma'p$ma!j$ma!V$ma![$ma%c$ma!d$ma~O#s)aO~P!&dO|)dO!d)cO![$ZX$W$ZX$Y$ZX$[$ZX$c$ZX~O!d)cO![(qX$W(qX$Y(qX$[(qX$c(qX~O|)dO~P!.OO|)dO![(qX$W(qX$Y(qX$[(qX$c(qX~O![)fO$W)jO$Y)eO$[)eO$c)kO~O!X)nO~P!*fO$Y$gO$[$fO$c)rO~Oj$uX|$uX!P$uX!i$uX(o$uX(p$uX~OfiXf$uXjiX!YiX#[iX~P!/tOo)tO~Ot)uO(Y)vO(Z)xO~Oj*RO|)zO!P){O(o$}O(p%PO~Of)yO~P!0}Of*SO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'}TO(QUO(X$uO(o$}O(p%PO~O!X*WO'{*TO!j(uP~P!1lO#g*YO~O!k*ZO~O!X*`O'{*]O!V(vP~P!1lOn*lO!P*dO!_*jO!`*cO!a*cO!k*ZO#W*kO%Y*fO'|!lO([!mO~O!Z*iO~P!3xO!i#wOj(WX|(WX!P(WX(o(WX(p(WX!Y(WX#[(WX~Of(WX#|(WX~P!4qOj*qO#[*pOf(VX!Y(VX~O!Y*rOf(UX~O'{&UOf(UP~O!k*yO~O'{(pO~Ol*}O!P%eO!X#hO![%fO!{]O#e#kO#f#hO'{%dO!j(iP~O!d#uO#g+OO~O!P%eO!X+QO!Y(WO![%fO'{%dO!V(lP~Oo'VO!P+SO!X+RO'}TO(QUO([(xO~O!Z(nP~P!7lO!Y+TO`(zX'r(zX~OP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O`!ea!Y!ea'r!ea'p!ea!V!ea!j!ear!ea![!ea%c!ea!d!ea~P!8dO|#yO}#zO!P#{O!i#wO!k#xO(XVOP!qaZ!qan!qa!Y!qa!h!qa!o!qa#j!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#t!qa#v!qa#x!qa#y!qa(h!qa(o!qa(p!qa~O`!qa'r!qa'p!qa!V!qa!j!qar!qa![!qa%c!qa!d!qa~P!:}O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!saZ!san!sa!Y!sa!h!sa!o!sa#j!sa#k!sa#l!sa#m!sa#n!sa#o!sa#p!sa#q!sa#r!sa#t!sa#v!sa#x!sa#y!sa(h!sa(o!sa(p!sa~O`!sa'r!sa'p!sa!V!sa!j!sar!sa![!sa%c!sa!d!sa~P!=hOg%VOj+^O!['ZO%c+]O~O!d+`O`(TX![(TX'r(TX!Y(TX~O`%kO![XO'r%kO~Og%VO!k%bO~Og%VO!k%bO'{%dO~O!d#uO#g(rO~Oa+kO%d+lO'{+hO'}TO(QUO!Z)OP~O!Y+mO_(}X~OZ+qO~O_+rO~O![%{O'{%dO'|!lO_(}P~Og%VO#[+wO~Og%VOj+zO![$|O~O![+|O~O|,OO![XO~O%h%rO~O!w,TO~Od,YO~Oa,ZO'{#mO'}TO(QUO!Z(|P~Od%yO~O%d!QO'{&UO~P<}OZ,`O_,_O~OPYOQYORfOczOdyOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO!fuO!kZO!nYO!oYO!pYO!rvO!wxO!{]O%b}O'}TO(QUO(XVO(g[O(tiO~O![!eO!t!gO$T!kO'{!dO~P!DkO_,_O`%kO'r%kO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~O`,eO!twO#s!OO%f!OO%g!OO%h!OO~P!GTO!k&jO~O&V,kO~O![,mO~O&h,oO&j,pOP&eaQ&eaR&eaX&ea`&eac&ead&eal&ean&eao&eap&eav&eax&eaz&ea!P&ea!T&ea!U&ea![&ea!f&ea!k&ea!n&ea!o&ea!p&ea!r&ea!t&ea!w&ea!{&ea#s&ea$T&ea%b&ea%d&ea%f&ea%g&ea%h&ea%k&ea%m&ea%p&ea%q&ea%s&ea&P&ea&V&ea&X&ea&Z&ea&]&ea&`&ea&f&ea&l&ea&n&ea&p&ea&r&ea&t&ea'p&ea'{&ea'}&ea(Q&ea(X&ea(g&ea(t&ea!Z&ea&^&eaa&ea&c&ea~O'{,uO~Og!bX!Y!OX!Y!bX!Z!OX!Z!bX!d!OX!d!bX!k!bX#[!OX~O!d,zO#[,yOg(aX!Y#dX!Y(aX!Z#dX!Z(aX!d(aX!k(aX~Og%VO!d,|O!k%bO!Y!^X!Z!^X~Oo!nO!P!oO'}TO(QUO([!mO~OP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![!eO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'}TO(QUO(XVO(g[O(t<YO~O'{;]O~P#!ZO!Y-QO!Z(`X~O!Z-SO~O!d,zO#[,yO!Y#dX!Z#dX~O!Y-TO!Z(nX~O!Z-VO~O!`-WO!a-WO'|!lO~P# xO!Z-ZO~P'_Oj-^O!['ZO~O!V-cO~Oo!za!_!za!`!za!a!za#P!za#Q!za#R!za#S!za#T!za#W!za#X!za'|!za'}!za(Q!za([!za(g!za~P!#`O!o-hO#[-fO~PCOO!`-jO!a-jO'|!lO~PCnO`%kO#[-fO'r%kO~O`%kO!d#uO#[-fO'r%kO~O`%kO!d#uO!o-hO#[-fO'r%kO(h'kO~O'w'sO'x'sO'y-oO~Or-pO~O!V'Pa!Y'Pa~P!8dO!X-tO!V'PX!Y'PX~P%[O!Y(PO!V(_a~O!V(_a~PGbO!Y(WO!V(la~O!P%eO!X-xO![%fO'{%dO!V'VX!Y'VX~O#[-zO!Y(ja!j(ja`(ja'r(ja~O!d#uO~P#*aO!Y(dO!j(ia~O!P%eO![%fO#f.OO'{%dO~Ol.TO!P%eO!X.QO![%fO!{]O#e.SO#f.QO'{%dO!Y'YX!j'YX~O}.XO!k#xO~Og%VOj.[O!['ZO%c.ZO~O`#_i!Y#_i'r#_i'p#_i!V#_i!j#_ir#_i![#_i%c#_i!d#_i~P!8dOj<fO|)zO!P){O(o$}O(p%PO~O#g#Za`#Za#[#Za'r#Za!Y#Za!j#Za![#Za!V#Za~P#-]O#g(WXP(WXZ(WX`(WXn(WX}(WX!h(WX!k(WX!o(WX#j(WX#k(WX#l(WX#m(WX#n(WX#o(WX#p(WX#q(WX#r(WX#t(WX#v(WX#x(WX#y(WX'r(WX(X(WX(h(WX!j(WX!V(WX'p(WXr(WX![(WX%c(WX!d(WX~P!4qO!Y.iOf(bX~P!0}Of.kO~O!Y.lO!j(cX~P!8dO!j.oO~O!V.qO~OP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O(XVOZ#ii`#iin#ii!Y#ii!h#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O#j#ii~P#1XO#j$OO~P#1XOP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO(XVOZ#ii`#ii!Y#ii!h#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~On#ii~P#3yOn$QO~P#3yOP$]On$QO|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO(XVO`#ii!Y#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~OZ#ii!h#ii#o#ii#p#ii#q#ii#r#ii~P#6kOZ$dO!h$SO#o$SO#p$SO#q$cO#r$SO~P#6kOP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO(XVO`#ii!Y#ii#v#ii#x#ii#y#ii'r#ii(h#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O(o#ii~P#9lO(o#|O~P#9lOP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO(XVO(o#|O`#ii!Y#ii#x#ii#y#ii'r#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O(p#ii~P#<^O(p#}O~P#<^OP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO(XVO(o#|O(p#}O~O`#ii!Y#ii#y#ii'r#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~P#?OOP[XZ[Xn[X|[X}[X!P[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X!Y[X!Z[X~O#|[X~P#AiOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO#v:sO#x:uO#y:vO(XVO(h$ZO(o#|O(p#}O~O#|.sO~P#CvO#[:{O$O:{O#|(^X!Z(^X~P! [O`']a!Y']a'r']a'p']a!j']a!V']ar']a![']a%c']a!d']a~P!8dOP#iiZ#ii`#iin#ii}#ii!Y#ii!h#ii!i#ii!k#ii!o#ii#j#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(X#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~P#-]O`#}i!Y#}i'r#}i'p#}i!V#}i!j#}ir#}i![#}i%c#}i!d#}i~P!8dO$Y.xO$[.xO~O$Y.yO$[.yO~O!d)cO#[.zO![$`X$W$`X$Y$`X$[$`X$c$`X~O!X.{O~O![)fO$W.}O$Y)eO$[)eO$c/OO~O!Y:wO!Z(]X~P#CvO!Z/PO~O!d)cO$c(qX~O$c/RO~Ot)uO(Y)vO(Z/UO~O!V/YO~P!&dO(o$}Oj%Za|%Za!P%Za(p%Za!Y%Za#[%Za~Of%Za#|%Za~P#LWO(p%POj%]a|%]a!P%]a(o%]a!Y%]a#[%]a~Of%]a#|%]a~P#LyO!YeX!deX!jeX!j$uX(heX~P!/tO!j/bO~P#-]O!Y/cO!d#uO(h'kO!j(uX~O!j/hO~O!X*WO'{%dO!j(uP~O#g/jO~O!V$uX!Y$uX!d$|X~P!/tO!Y/kO!V(vX~P#-]O!d/mO~O!V/oO~Og%VOn/sO!d#uO!k%bO(h'kO~O'{/uO~O!d+`O~O`%kO!Y/yO'r%kO~O!Z/{O~P!3xO!`/|O!a/|O'|!lO([!mO~O!P0OO([!mO~O#W0PO~Of%Za!Y%Za#[%Za#|%Za~P!0}Of%]a!Y%]a#[%]a#|%]a~P!0}O'{&UOf'fX!Y'fX~O!Y*rOf(Ua~Of0YO~O|0ZO}0ZO!P0[Ojya(oya(pya!Yya#[ya~Ofya#|ya~P$$dO|)zO!P){Oj$na(o$na(p$na!Y$na#[$na~Of$na#|$na~P$%YO|)zO!P){Oj$pa(o$pa(p$pa!Y$pa#[$pa~Of$pa#|$pa~P$%{O#g0^O~Of%Oa!Y%Oa#[%Oa#|%Oa~P!0}O!d#uO~O#g0aO~O!Y+TO`(za'r(za~O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!qiZ!qin!qi!Y!qi!h!qi!o!qi#j!qi#k!qi#l!qi#m!qi#n!qi#o!qi#p!qi#q!qi#r!qi#t!qi#v!qi#x!qi#y!qi(h!qi(o!qi(p!qi~O`!qi'r!qi'p!qi!V!qi!j!qir!qi![!qi%c!qi!d!qi~P$'jOg%VOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'}TO(QUO(X$uO(o$}O(p%PO~Ol0kO'{0jO~P$*TO!d+`O`(Ta![(Ta'r(Ta!Y(Ta~O#g0qO~OZ[X!YeX!ZeX~O!Y0rO!Z)OX~O!Z0tO~OZ0uO~Oa0wO'{+hO'}TO(QUO~O![%{O'{%dO_'nX!Y'nX~O!Y+mO_(}a~O!j0zO~P!8dOZ0}O~O_1OO~O#[1RO~Oj1UO![$|O~O([(xO!Z({P~Og%VOj1_O![1[O%c1^O~OZ1iO!Y1gO!Z(|X~O!Z1jO~O_1lO`%kO'r%kO~O'{#mO'}TO(QUO~O#[$eO$O$eOP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X~O#r1oO&T1pO`(^X!i(^X~P$/kO#[$eO#r1oO&T1pO~O`1rO~P%[O`1tO~O&^1wOP&[iQ&[iR&[iX&[i`&[ic&[id&[il&[in&[io&[ip&[iv&[ix&[iz&[i!P&[i!T&[i!U&[i![&[i!f&[i!k&[i!n&[i!o&[i!p&[i!r&[i!t&[i!w&[i!{&[i#s&[i$T&[i%b&[i%d&[i%f&[i%g&[i%h&[i%k&[i%m&[i%p&[i%q&[i%s&[i&P&[i&V&[i&X&[i&Z&[i&]&[i&`&[i&f&[i&l&[i&n&[i&p&[i&r&[i&t&[i'p&[i'{&[i'}&[i(Q&[i(X&[i(g&[i(t&[i!Z&[ia&[i&c&[i~Oa1}O!Z1{O&c1|O~P`O![XO!k2PO~O&j,pOP&eiQ&eiR&eiX&ei`&eic&eid&eil&ein&eio&eip&eiv&eix&eiz&ei!P&ei!T&ei!U&ei![&ei!f&ei!k&ei!n&ei!o&ei!p&ei!r&ei!t&ei!w&ei!{&ei#s&ei$T&ei%b&ei%d&ei%f&ei%g&ei%h&ei%k&ei%m&ei%p&ei%q&ei%s&ei&P&ei&V&ei&X&ei&Z&ei&]&ei&`&ei&f&ei&l&ei&n&ei&p&ei&r&ei&t&ei'p&ei'{&ei'}&ei(Q&ei(X&ei(g&ei(t&ei!Z&ei&^&eia&ei&c&ei~O!V2VO~O!Y!^a!Z!^a~P#CvOo!nO!P!oO!X2]O([!mO!Y'QX!Z'QX~P@UO!Y-QO!Z(`a~O!Y'WX!Z'WX~P!7lO!Y-TO!Z(na~O!Z2dO~P'_O`%kO#[2mO'r%kO~O`%kO!d#uO#[2mO'r%kO~O`%kO!d#uO!o2qO#[2mO'r%kO(h'kO~O`%kO'r%kO~P!8dO!Y$aOr$ma~O!V'Pi!Y'Pi~P!8dO!Y(PO!V(_i~O!Y(WO!V(li~O!V(mi!Y(mi~P!8dO!Y(ji!j(ji`(ji'r(ji~P!8dO#[2sO!Y(ji!j(ji`(ji'r(ji~O!Y(dO!j(ii~O!P%eO![%fO!{]O#e2xO#f2wO'{%dO~O!P%eO![%fO#f2wO'{%dO~Oj3PO!['ZO%c3OO~Og%VOj3PO!['ZO%c3OO~O#g%ZaP%ZaZ%Za`%Zan%Za}%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za'r%Za(X%Za(h%Za!j%Za!V%Za'p%Zar%Za![%Za%c%Za!d%Za~P#LWO#g%]aP%]aZ%]a`%]an%]a}%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a'r%]a(X%]a(h%]a!j%]a!V%]a'p%]ar%]a![%]a%c%]a!d%]a~P#LyO#g%ZaP%ZaZ%Za`%Zan%Za}%Za!Y%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za'r%Za(X%Za(h%Za!j%Za!V%Za'p%Za#[%Zar%Za![%Za%c%Za!d%Za~P#-]O#g%]aP%]aZ%]a`%]an%]a}%]a!Y%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a'r%]a(X%]a(h%]a!j%]a!V%]a'p%]a#[%]ar%]a![%]a%c%]a!d%]a~P#-]O#gyaPyaZya`yanya!hya!iya!kya!oya#jya#kya#lya#mya#nya#oya#pya#qya#rya#tya#vya#xya#yya'rya(Xya(hya!jya!Vya'pyarya![ya%cya!dya~P$$dO#g$naP$naZ$na`$nan$na}$na!h$na!i$na!k$na!o$na#j$na#k$na#l$na#m$na#n$na#o$na#p$na#q$na#r$na#t$na#v$na#x$na#y$na'r$na(X$na(h$na!j$na!V$na'p$nar$na![$na%c$na!d$na~P$%YO#g$paP$paZ$pa`$pan$pa}$pa!h$pa!i$pa!k$pa!o$pa#j$pa#k$pa#l$pa#m$pa#n$pa#o$pa#p$pa#q$pa#r$pa#t$pa#v$pa#x$pa#y$pa'r$pa(X$pa(h$pa!j$pa!V$pa'p$par$pa![$pa%c$pa!d$pa~P$%{O#g%OaP%OaZ%Oa`%Oan%Oa}%Oa!Y%Oa!h%Oa!i%Oa!k%Oa!o%Oa#j%Oa#k%Oa#l%Oa#m%Oa#n%Oa#o%Oa#p%Oa#q%Oa#r%Oa#t%Oa#v%Oa#x%Oa#y%Oa'r%Oa(X%Oa(h%Oa!j%Oa!V%Oa'p%Oa#[%Oar%Oa![%Oa%c%Oa!d%Oa~P#-]O`#_q!Y#_q'r#_q'p#_q!V#_q!j#_qr#_q![#_q%c#_q!d#_q~P!8dOf'RX!Y'RX~P!(SO!Y.iOf(ba~O!X3ZO!Y'SX!j'SX~P%[O!Y.lO!j(ca~O!Y.lO!j(ca~P!8dO!V3^O~O#|!ma!Z!ma~PKOO#|!ea!Y!ea!Z!ea~P#CvO#|!qa!Z!qa~P!:}O#|!sa!Z!sa~P!=hORfO![3pO$a3qO~O!Z3uO~Or3vO~P#-]O`$jq!Y$jq'r$jq'p$jq!V$jq!j$jqr$jq![$jq%c$jq!d$jq~P!8dO!V3wO~P#-]O|)zO!P){O(p%POj'ba(o'ba!Y'ba#['ba~Of'ba#|'ba~P%)_O|)zO!P){Oj'da(o'da(p'da!Y'da#['da~Of'da#|'da~P%*QO(h$ZO~P#-]O!X3zO'{%dO!Y'^X!j'^X~O!Y/cO!j(ua~O!Y/cO!d#uO!j(ua~O!Y/cO!d#uO(h'kO!j(ua~Of$wi!Y$wi#[$wi#|$wi~P!0}O!X4SO'{*]O!V'`X!Y'`X~P!1lO!Y/kO!V(va~O!Y/kO!V(va~P#-]O!d#uO#r4[O~On4_O!d#uO(h'kO~O(o$}Oj%Zi|%Zi!P%Zi(p%Zi!Y%Zi#[%Zi~Of%Zi#|%Zi~P%-dO(p%POj%]i|%]i!P%]i(o%]i!Y%]i#[%]i~Of%]i#|%]i~P%.VOf(Vi!Y(Vi~P!0}O#[4fOf(Vi!Y(Vi~P!0}O!j4iO~O`$kq!Y$kq'r$kq'p$kq!V$kq!j$kqr$kq![$kq%c$kq!d$kq~P!8dO!V4mO~O!Y4nO![(wX~P#-]O!i#wO~P4XO`$uX![$uX%W[X'r$uX!Y$uX~P!/tO%W4pO`kXjkX|kX!PkX![kX'rkX(okX(pkX!YkX~O%W4pO~Oa4vO%d4wO'{+hO'}TO(QUO!Y'mX!Z'mX~O!Y0rO!Z)Oa~OZ4{O~O_4|O~O`%kO'r%kO~P#-]O![$|O~P#-]O!Y5UO#[5WO!Z({X~O!Z5XO~Oo!nO!P5YO!_!xO!`!uO!a!uO!{:dO#P!pO#Q!pO#R!pO#S!pO#T!pO#W5_O#X!yO'|!lO'}TO(QUO([!mO(g!sO~O!Z5^O~P%3hOj5dO![1[O%c5cO~Og%VOj5dO![1[O%c5cO~Oa5kO'{#mO'}TO(QUO!Y'lX!Z'lX~O!Y1gO!Z(|a~O'}TO(QUO([5mO~O_5qO~O#r5tO&T5uO~PMnO!j5vO~P%[O`5xO~O`5xO~P%[Oa1}O!Z5}O&c1|O~P`O!d6PO~O!d6ROg(ai!Y(ai!Z(ai!d(ai!k(ai~O!Y#di!Z#di~P#CvO#[6SO!Y#di!Z#di~O!Y!^i!Z!^i~P#CvO`%kO#[6]O'r%kO~O`%kO!d#uO#[6]O'r%kO~O!Y(jq!j(jq`(jq'r(jq~P!8dO!Y(dO!j(iq~O!P%eO![%fO#f6dO'{%dO~O!['ZO%c6gO~Oj6jO!['ZO%c6gO~O#g'baP'baZ'ba`'ban'ba}'ba!h'ba!i'ba!k'ba!o'ba#j'ba#k'ba#l'ba#m'ba#n'ba#o'ba#p'ba#q'ba#r'ba#t'ba#v'ba#x'ba#y'ba'r'ba(X'ba(h'ba!j'ba!V'ba'p'bar'ba!['ba%c'ba!d'ba~P%)_O#g'daP'daZ'da`'dan'da}'da!h'da!i'da!k'da!o'da#j'da#k'da#l'da#m'da#n'da#o'da#p'da#q'da#r'da#t'da#v'da#x'da#y'da'r'da(X'da(h'da!j'da!V'da'p'dar'da!['da%c'da!d'da~P%*QO#g$wiP$wiZ$wi`$win$wi}$wi!Y$wi!h$wi!i$wi!k$wi!o$wi#j$wi#k$wi#l$wi#m$wi#n$wi#o$wi#p$wi#q$wi#r$wi#t$wi#v$wi#x$wi#y$wi'r$wi(X$wi(h$wi!j$wi!V$wi'p$wi#[$wir$wi![$wi%c$wi!d$wi~P#-]O#g%ZiP%ZiZ%Zi`%Zin%Zi}%Zi!h%Zi!i%Zi!k%Zi!o%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#p%Zi#q%Zi#r%Zi#t%Zi#v%Zi#x%Zi#y%Zi'r%Zi(X%Zi(h%Zi!j%Zi!V%Zi'p%Zir%Zi![%Zi%c%Zi!d%Zi~P%-dO#g%]iP%]iZ%]i`%]in%]i}%]i!h%]i!i%]i!k%]i!o%]i#j%]i#k%]i#l%]i#m%]i#n%]i#o%]i#p%]i#q%]i#r%]i#t%]i#v%]i#x%]i#y%]i'r%]i(X%]i(h%]i!j%]i!V%]i'p%]ir%]i![%]i%c%]i!d%]i~P%.VOf'Ra!Y'Ra~P!0}O!Y'Sa!j'Sa~P!8dO!Y.lO!j(ci~O#|#_i!Y#_i!Z#_i~P#CvOP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O(XVOZ#iin#ii!h#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~O#j#ii~P%FhO#j:lO~P%FhOP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO(XVOZ#ii!h#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~On#ii~P%HsOn:nO~P%HsOP$]On:nO|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO(XVO#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~OZ#ii!h#ii#o#ii#p#ii#q#ii#r#ii~P%KOOZ:zO!h:pO#o:pO#p:pO#q:yO#r:pO~P%KOOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO(XVO#v#ii#x#ii#y#ii#|#ii(h#ii(p#ii!Y#ii!Z#ii~O(o#ii~P%MjO(o#|O~P%MjOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO#v:sO(XVO(o#|O#x#ii#y#ii#|#ii(h#ii!Y#ii!Z#ii~O(p#ii~P& uO(p#}O~P& uOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO#v:sO#x:uO(XVO(o#|O(p#}O~O#y#ii#|#ii(h#ii!Y#ii!Z#ii~P&$QO`#zy!Y#zy'r#zy'p#zy!V#zy!j#zyr#zy![#zy%c#zy!d#zy~P!8dOj<gO|)zO!P){O(o$}O(p%PO~OP#iiZ#iin#ii}#ii!h#ii!i#ii!k#ii!o#ii#j#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(X#ii(h#ii!Y#ii!Z#ii~P&&xO!i#wOP(WXZ(WXj(WXn(WX|(WX}(WX!P(WX!h(WX!k(WX!o(WX#j(WX#k(WX#l(WX#m(WX#n(WX#o(WX#p(WX#q(WX#r(WX#t(WX#v(WX#x(WX#y(WX#|(WX(X(WX(h(WX(o(WX(p(WX!Y(WX!Z(WX~O#|#}i!Y#}i!Z#}i~P#CvO#|!qi!Z!qi~P$'jO!Z6|O~O!Y']a!Z']a~P#CvO!d#uO(h'kO!Y'^a!j'^a~O!Y/cO!j(ui~O!Y/cO!d#uO!j(ui~Of$wq!Y$wq#[$wq#|$wq~P!0}O!V'`a!Y'`a~P#-]O!d7TO~O!Y/kO!V(vi~P#-]O!Y/kO!V(vi~O!V7XO~O!d#uO#r7^O~On7_O!d#uO(h'kO~O|)zO!P){O(p%POj'ca(o'ca!Y'ca#['ca~Of'ca#|'ca~P&.YO|)zO!P){Oj'ea(o'ea(p'ea!Y'ea#['ea~Of'ea#|'ea~P&.{O!V7aO~Of$yq!Y$yq#[$yq#|$yq~P!0}O`$ky!Y$ky'r$ky'p$ky!V$ky!j$kyr$ky![$ky%c$ky!d$ky~P!8dO!d6RO~O!Y4nO![(wa~O`#_y!Y#_y'r#_y'p#_y!V#_y!j#_yr#_y![#_y%c#_y!d#_y~P!8dOZ7fO~Oa7hO'{+hO'}TO(QUO~O!Y0rO!Z)Oi~O_7lO~O([(xO!Y'iX!Z'iX~O!Y5UO!Z({a~OlkO'{7sO~P.iO!Z7vO~P%3hOo!nO!P7wO'}TO(QUO([!mO(g!sO~O![1[O~O![1[O%c7yO~Oj7|O![1[O%c7yO~OZ8RO!Y'la!Z'la~O!Y1gO!Z(|i~O!j8VO~O!j8WO~O!j8ZO~O!j8ZO~P%[O`8]O~O!d8^O~O!j8_O~O!Y(mi!Z(mi~P#CvO`%kO#[8gO'r%kO~O!Y(jy!j(jy`(jy'r(jy~P!8dO!Y(dO!j(iy~O!['ZO%c8jO~O#g$wqP$wqZ$wq`$wqn$wq}$wq!Y$wq!h$wq!i$wq!k$wq!o$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#p$wq#q$wq#r$wq#t$wq#v$wq#x$wq#y$wq'r$wq(X$wq(h$wq!j$wq!V$wq'p$wq#[$wqr$wq![$wq%c$wq!d$wq~P#-]O#g'caP'caZ'ca`'can'ca}'ca!h'ca!i'ca!k'ca!o'ca#j'ca#k'ca#l'ca#m'ca#n'ca#o'ca#p'ca#q'ca#r'ca#t'ca#v'ca#x'ca#y'ca'r'ca(X'ca(h'ca!j'ca!V'ca'p'car'ca!['ca%c'ca!d'ca~P&.YO#g'eaP'eaZ'ea`'ean'ea}'ea!h'ea!i'ea!k'ea!o'ea#j'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#t'ea#v'ea#x'ea#y'ea'r'ea(X'ea(h'ea!j'ea!V'ea'p'ear'ea!['ea%c'ea!d'ea~P&.{O#g$yqP$yqZ$yq`$yqn$yq}$yq!Y$yq!h$yq!i$yq!k$yq!o$yq#j$yq#k$yq#l$yq#m$yq#n$yq#o$yq#p$yq#q$yq#r$yq#t$yq#v$yq#x$yq#y$yq'r$yq(X$yq(h$yq!j$yq!V$yq'p$yq#[$yqr$yq![$yq%c$yq!d$yq~P#-]O!Y'Si!j'Si~P!8dO#|#_q!Y#_q!Z#_q~P#CvO(o$}OP%ZaZ%Zan%Za}%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za#|%Za(X%Za(h%Za!Y%Za!Z%Za~Oj%Za|%Za!P%Za(p%Za~P&@bO(p%POP%]aZ%]an%]a}%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a#|%]a(X%]a(h%]a!Y%]a!Z%]a~Oj%]a|%]a!P%]a(o%]a~P&BiOj<gO|)zO!P){O(p%PO~P&@bOj<gO|)zO!P){O(o$}O~P&BiO|0ZO}0ZO!P0[OPyaZyajyanya!hya!iya!kya!oya#jya#kya#lya#mya#nya#oya#pya#qya#rya#tya#vya#xya#yya#|ya(Xya(hya(oya(pya!Yya!Zya~O|)zO!P){OP$naZ$naj$nan$na}$na!h$na!i$na!k$na!o$na#j$na#k$na#l$na#m$na#n$na#o$na#p$na#q$na#r$na#t$na#v$na#x$na#y$na#|$na(X$na(h$na(o$na(p$na!Y$na!Z$na~O|)zO!P){OP$paZ$paj$pan$pa}$pa!h$pa!i$pa!k$pa!o$pa#j$pa#k$pa#l$pa#m$pa#n$pa#o$pa#p$pa#q$pa#r$pa#t$pa#v$pa#x$pa#y$pa#|$pa(X$pa(h$pa(o$pa(p$pa!Y$pa!Z$pa~OP%OaZ%Oan%Oa}%Oa!h%Oa!i%Oa!k%Oa!o%Oa#j%Oa#k%Oa#l%Oa#m%Oa#n%Oa#o%Oa#p%Oa#q%Oa#r%Oa#t%Oa#v%Oa#x%Oa#y%Oa#|%Oa(X%Oa(h%Oa!Y%Oa!Z%Oa~P&&xO#|$jq!Y$jq!Z$jq~P#CvO#|$kq!Y$kq!Z$kq~P#CvO!Z8vO~O#|8wO~P!0}O!d#uO!Y'^i!j'^i~O!d#uO(h'kO!Y'^i!j'^i~O!Y/cO!j(uq~O!V'`i!Y'`i~P#-]O!Y/kO!V(vq~O!V8}O~P#-]O!V8}O~Of(Vy!Y(Vy~P!0}O!Y'ga!['ga~P#-]O`%Vq![%Vq'r%Vq!Y%Vq~P#-]OZ9SO~O!Y0rO!Z)Oq~O#[9WO!Y'ia!Z'ia~O!Y5UO!Z({i~P#CvOP[XZ[Xn[X|[X}[X!P[X!V[X!Y[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X~O!d%TX#r%TX~P'#SO![1[O%c9[O~O'}TO(QUO([9aO~O!Y1gO!Z(|q~O!j9dO~O!j9eO~O!j9fO~O!j9fO~P%[O#[9iO!Y#dy!Z#dy~O!Y#dy!Z#dy~P#CvO!['ZO%c9nO~O#|#zy!Y#zy!Z#zy~P#CvOP$wiZ$win$wi}$wi!h$wi!i$wi!k$wi!o$wi#j$wi#k$wi#l$wi#m$wi#n$wi#o$wi#p$wi#q$wi#r$wi#t$wi#v$wi#x$wi#y$wi#|$wi(X$wi(h$wi!Y$wi!Z$wi~P&&xO|)zO!P){O(p%POP'baZ'baj'ban'ba}'ba!h'ba!i'ba!k'ba!o'ba#j'ba#k'ba#l'ba#m'ba#n'ba#o'ba#p'ba#q'ba#r'ba#t'ba#v'ba#x'ba#y'ba#|'ba(X'ba(h'ba(o'ba!Y'ba!Z'ba~O|)zO!P){OP'daZ'daj'dan'da}'da!h'da!i'da!k'da!o'da#j'da#k'da#l'da#m'da#n'da#o'da#p'da#q'da#r'da#t'da#v'da#x'da#y'da#|'da(X'da(h'da(o'da(p'da!Y'da!Z'da~O(o$}OP%ZiZ%Zij%Zin%Zi|%Zi}%Zi!P%Zi!h%Zi!i%Zi!k%Zi!o%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#p%Zi#q%Zi#r%Zi#t%Zi#v%Zi#x%Zi#y%Zi#|%Zi(X%Zi(h%Zi(p%Zi!Y%Zi!Z%Zi~O(p%POP%]iZ%]ij%]in%]i|%]i}%]i!P%]i!h%]i!i%]i!k%]i!o%]i#j%]i#k%]i#l%]i#m%]i#n%]i#o%]i#p%]i#q%]i#r%]i#t%]i#v%]i#x%]i#y%]i#|%]i(X%]i(h%]i(o%]i!Y%]i!Z%]i~O#|$ky!Y$ky!Z$ky~P#CvO#|#_y!Y#_y!Z#_y~P#CvO!d#uO!Y'^q!j'^q~O!Y/cO!j(uy~O!V'`q!Y'`q~P#-]O!V9wO~P#-]O!Y0rO!Z)Oy~O!Y5UO!Z({q~O![1[O%c:OO~O!j:RO~O!['ZO%c:WO~OP$wqZ$wqn$wq}$wq!h$wq!i$wq!k$wq!o$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#p$wq#q$wq#r$wq#t$wq#v$wq#x$wq#y$wq#|$wq(X$wq(h$wq!Y$wq!Z$wq~P&&xO|)zO!P){O(p%POP'caZ'caj'can'ca}'ca!h'ca!i'ca!k'ca!o'ca#j'ca#k'ca#l'ca#m'ca#n'ca#o'ca#p'ca#q'ca#r'ca#t'ca#v'ca#x'ca#y'ca#|'ca(X'ca(h'ca(o'ca!Y'ca!Z'ca~O|)zO!P){OP'eaZ'eaj'ean'ea}'ea!h'ea!i'ea!k'ea!o'ea#j'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#t'ea#v'ea#x'ea#y'ea#|'ea(X'ea(h'ea(o'ea(p'ea!Y'ea!Z'ea~OP$yqZ$yqn$yq}$yq!h$yq!i$yq!k$yq!o$yq#j$yq#k$yq#l$yq#m$yq#n$yq#o$yq#p$yq#q$yq#r$yq#t$yq#v$yq#x$yq#y$yq#|$yq(X$yq(h$yq!Y$yq!Z$yq~P&&xOf%_!Z!Y%_!Z#[%_!Z#|%_!Z~P!0}O!Y'iq!Z'iq~P#CvO!Y#d!Z!Z#d!Z~P#CvO#g%_!ZP%_!ZZ%_!Z`%_!Zn%_!Z}%_!Z!Y%_!Z!h%_!Z!i%_!Z!k%_!Z!o%_!Z#j%_!Z#k%_!Z#l%_!Z#m%_!Z#n%_!Z#o%_!Z#p%_!Z#q%_!Z#r%_!Z#t%_!Z#v%_!Z#x%_!Z#y%_!Z'r%_!Z(X%_!Z(h%_!Z!j%_!Z!V%_!Z'p%_!Z#[%_!Zr%_!Z![%_!Z%c%_!Z!d%_!Z~P#-]OP%_!ZZ%_!Zn%_!Z}%_!Z!h%_!Z!i%_!Z!k%_!Z!o%_!Z#j%_!Z#k%_!Z#l%_!Z#m%_!Z#n%_!Z#o%_!Z#p%_!Z#q%_!Z#r%_!Z#t%_!Z#v%_!Z#x%_!Z#y%_!Z#|%_!Z(X%_!Z(h%_!Z!Y%_!Z!Z%_!Z~P&&xOr(]X~P1qO'|!lO~P!*fO!VeX!YeX#[eX~P'#SOP[XZ[Xn[X|[X}[X!P[X!Y[X!YeX!h[X!i[X!k[X!o[X#[[X#[eX#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X~O!deX!j[X!jeX(heX~P'@vOP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![XO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'{)YO'}TO(QUO(XVO(g[O(t<YO~O!Y:wO!Z$ma~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;RO!P${O![$|O!f<aO!k$xO#f;XO$T%^O$o;TO$q;VO$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~O#s)aO~P'ElO!Z[X!ZeX~P'@vO#g:kO~O!d#uO#g:kO~O#[:{O~O#r:pO~O#[;ZO!Y(mX!Z(mX~O#[:{O!Y(kX!Z(kX~O#g;[O~Of;^O~P!0}O#g;cO~O#g;dO~O!d#uO#g;eO~O!d#uO#g;[O~O#|;fO~P#CvO#g;gO~O#g;hO~O#g;mO~O#g;nO~O#g;oO~O#g;pO~O#|;qO~P!0}O#|;rO~P!0}O!i#P#Q#S#T#W#e#f#q(t$o$q$t%W%b%c%d%k%m%p%q%s%u~'vS#k!U't'|#lo#j#mn|'u$Y'u'{$[([~",goto:"$2p)SPPPPP)TPP)WP)iP*x.|PPPP5pPP6WPP<S?gP?zP?zPPP?zPAxP?zP?zP?zPA|PPBRPBlPGdPPPGhPPPPGhJiPPPJoKjPGhPMxPPPP!!WGhPPPGhPGhP!$fGhP!'z!(|!)VP!)y!)}!)yPPPPP!-Y!(|PP!-v!.pP!1dGhGh!1i!4s!9Y!9Y!=OPPP!=VGhPPPPPPPPPPP!@dP!AuPPGh!CSPGhPGhGhGhGhPGh!DfP!GnP!JrP!Jv!KQ!KU!KUP!GkP!KY!KYP!N^P!NbGhGh!Nh##k?zP?zP?z?zP#$v?z?z#'O?z#)k?z#+m?z?z#,[#.f#.f#.j#.r#.f#.zP#.fP?z#/d?z#3R?z?z5pPPP#6vPPP#7a#7aP#7aP#7w#7aPP#7}P#7tP#7t#8b#7t#8|#9S5m)W#9V)WP#9^#9^#9^P)WP)WP)WP)WPP)WP#9d#9gP#9g)WP#9kP#9nP)WP)WP)WP)WP)WP)W)WPP#9t#9z#:V#:]#:c#:i#:o#:}#;T#;Z#;e#;k#;u#<U#<[#<|#=`#=f#=l#=z#>a#@O#@^#@d#Ax#BW#Cr#DQ#DW#D^#Dd#Dn#Dt#Dz#EU#Eh#EnPPPPPPPPPP#EtPPPPPPP#Fi#Ip#KP#KW#K`PPPP$!d$%Z$+r$+u$+x$,q$,t$,w$-O$-WPP$-^$-b$.Y$/X$/]$/qPP$/u$/{$0PP$0S$0W$0Z$1P$1h$2P$2T$2W$2Z$2a$2d$2h$2lR!{RoqOXst!Z#c%j&m&o&p&r,h,m1w1zY!uQ'Z-Y1[5]Q%pvQ%xyQ&P|Q&e!VS'R!e-QQ'a!iS'g!r!xS*c$|*hQ+f%yQ+s&RQ,X&_Q-W'YQ-b'bQ-j'hQ/|*jQ1f,YR;Y:g%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S,e,h,m-^-f-t-z.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3Z5Y5d5t5u5x6]7w7|8]8gS#p]:d!r)[$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q*u%ZQ+k%{Q,Z&bQ,b&jQ.c;QQ0h+^Q0l+`Q0w+lQ1n,`Q2{.[Q4v0rQ5k1gQ6i3PQ6u;RQ7h4wR8m6j&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]t!nQ!r!u!x!y'R'Y'Z'g'h'i-Q-W-Y-j1[5]5_$v$si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gQ&S|Q'P!eS'V%f-TQ+k%{Q,Z&bQ0]*yQ0w+lQ0|+rQ1m,_Q1n,`Q4v0rQ5P1OQ5k1gQ5n1iQ5o1lQ7h4wQ7k4|Q8U5qQ9V7lR9b8RrnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zR,]&f&v^OPXYstuvwz!Z!`!g!j!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O']'m(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<[<][#[WZ#V#Y'S'}!S%gm#g#h#k%b%e(W(b(c(d+Q+R+T,d,z-x.O.P.Q.S2P2w2x6R6dQ%sxQ%wyS%||&RQ&Y!TQ'^!hQ'`!iQ(k#rS*V$x*ZS+e%x%yQ+i%{Q,S&]Q,W&_S-a'a'bQ.^(lQ/g*WQ0p+fQ0v+lQ0x+mQ0{+qQ1a,TS1e,X,YQ2i-bQ3y/cQ4u0rQ4y0uQ5O0}Q5j1fQ7Q3zQ7g4wQ7j4{Q9R7fR9y9S!O$zi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c!S%uy!i!t%w%x%y'Q'`'a'b'f'p*b+e+f,}-a-b-i/t0p2b2i2p4^Q+_%sQ+x&VQ+{&WQ,V&_Q.](kQ1`,SU1d,W,X,YQ3Q.^Q5e1aS5i1e1fQ8Q5j#W<^#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<go<_:y:z:};P;T;V;X;`;b;d;h;j;l;n;rW%Ti%V*r<YS&V!Q&dQ&W!RQ&X!SR+v&T$w%Si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gT)v$u)wV*v%Z;Q;RU'V!e%f-TS(y#y#zQ+p&OS.V(g(hQ1V+|Q4g0ZR7p5U&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]$i$`c#X#d%n%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.t.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PT#SV#T&}kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q'T!eR2^-Qv!nQ!e!r!u!x!y'R'Y'Z'g'h'i-Q-W-Y-j1[5]5_S*b$|*hS/t*c*jQ/}*kQ1X,OQ4^/|R4a0PnqOXst!Z#c%j&m&o&p&r,h,m1w1zQ&t!^Q'q!wS(m#t:kQ+c%vQ,Q&YQ,R&[Q-_'_Q-l'jS.g(r;[S0`+O;eQ0n+dQ1Z,PQ2O,oQ2Q,pQ2Y,{Q2g-`Q2j-dS4l0a;oQ4q0oS4t0q;pQ6T2[Q6X2hQ6^2oQ7e4rQ8b6VQ8c6YQ8f6_R9h8_$d$_c#X#d%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PS(j#o'dU*o%R(q3mS+Y%n.tQ2|0hQ6f2{Q8l6iR9o8m$d$^c#X#d%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PS(i#o'dS({#z$_S+X%n.tS.W(h(jQ.w)]Q0e+YR2y.X&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]S#p]:dQ&o!XQ&p!YQ&r![Q&s!]R1v,kQ'[!hQ+[%sQ-]'^S.Y(k+_Q2e-[W2}.].^0g0iQ6W2fU6e2z2|3QS8i6f6hS9m8k8lS:U9l9oQ:^:VR:a:_U!vQ'Z-YT5Z1[5]!Q_OXZ`st!V!Z#c#g%b%j&d&f&m&o&p&r(d,h,m.P1w1z]!pQ!r'Z-Y1[5]T#p]:d%Y{OPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gS(y#y#zS.V(g(h!s;v$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Y!tQ'Z-Y1[5]Q'f!rS'p!u!xS'r!y5_S-i'g'hQ-k'iR2p-jQ'o!tS(`#f1qS-h'f'rQ/f*VQ/r*bQ2q-kQ4O/gS4X/s/}Q7P3yS7[4_4aQ8y7QR9Q7_Q#vbQ'n!tS(_#f1qS(a#l*}Q+P%cQ+a%tQ+g%zU-g'f'o'rQ-{(`Q/e*VQ/q*bQ/w*eQ0m+bQ1b,US2n-h-kQ2v.TS3}/f/gS4W/r/}Q4Z/vQ4]/xQ5g1cQ6`2qQ7O3yQ7S4OS7W4X4aQ7]4`Q8O5hS8x7P7QQ8|7XQ9O7[Q9_8PQ9u8yQ9v8}Q9x9QQ:Q9`Q:Y9wQ;y;tQ<U;}R<V<OV!vQ'Z-Y%YaOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gS#vz!j!r;s$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]R;y<[%YbOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gQ%cj!S%ty!i!t%w%x%y'Q'`'a'b'f'p*b+e+f,}-a-b-i/t0p2b2i2p4^S%zz!jQ+b%uQ,U&_W1c,V,W,X,YU5h1d1e1fS8P5i5jQ9`8Q!r;t$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q;}<ZR<O<[$|eOPXYstuvw!Z!`!g!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gY#aWZ#V#Y'}!S%gm#g#h#k%b%e(W(b(c(d+Q+R+T,d,z-x.O.P.Q.S2P2w2x6R6dQ,c&j!p;u$[$m)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]R;x'SS'W!e%fR2`-T%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S,e,h,m-^-f-t-z.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3Z5Y5d5t5u5x6]7w7|8]8g!r)[$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q,b&jQ0h+^Q2{.[Q6i3PR8m6j!f$Uc#X%n'|(S(n(u)U)V)W)X)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:e!T:r)Z)l-O.t2W2Z3_3g3h3i3j3n3t6U6p6y6z7r8a8n8t8u9{:S<P!b$Wc#X%n'|(S(n(u)W)X)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:e!P:t)Z)l-O.t2W2Z3_3i3j3n3t6U6p6y6z7r8a8n8t8u9{:S<P!^$[c#X%n'|(S(n(u)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:eQ3x/az<])Z)l-O.t2W2Z3_3n3t6U6p6y6z7r8a8n8t8u9{:S<PQ<b<dR<c<e&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]S$nh$oR3q.z'TgOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.z.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]T$jf$pQ$hfS)e$k)iR)q$pT$if$pT)g$k)i'ThOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.z.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]T$nh$oQ$qhR)p$o%YjOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8g!s<Z$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]#clOPXZst!Z!`!o#R#c#n#{$m%j&f&i&j&m&o&p&r&v'O'](z)n+S+^,e,h,m-^.[.{0[1_1o1p1r1t1w1z1|3P3p5Y5d5t5u5x6j7w7|8]!O%Ri#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c#W(q#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gQ*z%_Q/W)zo3m:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!O$yi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cQ*[$zS*e$|*hQ*{%`Q/x*f#W;{#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn;|:y:z:};P;T;V;X;`;b;d;h;j;l;n;rQ<Q<^Q<R<_Q<S<`R<T<a!O%Ri#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c#W(q#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<go3m:y:z:};P;T;V;X;`;b;d;h;j;l;n;rnoOXst!Z#c%j&m&o&p&r,h,m1w1zQ*_${Q,v&yQ,w&{R4R/k$v%Si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gQ+y&WQ1T+{Q5S1SR7o5TT*g$|*hS*g$|*hT5[1[5]S/v*d5YT4`0O7wQ+a%tQ/w*eQ0m+bQ1b,UQ5g1cQ8O5hQ9_8PR:Q9`!O%Oi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cr)}$v(s*O*n*|/i0U0V3W4P4j6}7`9t;z<W<XS0Q*m0R#W:|#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn:}:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!^;_(o)`*U*^._.b.f/S/X/a/n0f1Q1S3T4Q4U5R5T6k6n7U7Y7b7d8{9P:X<d<e`;`3l6q6t6x8o9p9s:bS;i.a3UT;j6s8r!O%Qi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cv*P$v(s*Q*m*|/]/i0U0V3W4P4b4j6}7`9t;z<W<XS0S*n0T#W;O#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn;P:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!b;a(o)`*U*^.`.a.f/S/X/a/n0f1Q1S3R3T4Q4U5R5T6k6l6n7U7Y7b7d8{9P:X<d<ed;b3l6r6s6x8o8p9p9q9s:bS;k.b3VT;l6t8srnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zQ&a!UR,e&jrnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zR&a!UQ+}&XR1P+vsnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zQ1],SS5b1`1aU7x5`5a5eS9Z7z7{S9|9Y9]Q:Z9}R:`:[Q&h!VR,^&dR5n1iS%||&RR0x+mQ&m!WR,h&nR,n&sT1x,m1zR,r&tQ,q&tR2R,rQ't!zR-n'tSsOtQ#cXT%ms#cQ!}TR'v!}Q#QUR'x#QQ)w$uR/T)wQ#TVR'z#TQ#WWU(Q#W(R-uQ(R#XR-u(SQ-R'TR2_-RQ.j(sR3X.jQ.m(uS3[.m3]R3].nQ-Y'ZR2c-YY!rQ'Z-Y1[5]R'e!rS#^W%eU(X#^(Y-vQ(Y#_R-v(TQ-U'WR2a-Ut`OXst!V!Z#c%j&d&f&m&o&p&r,h,m1w1zS#gZ%bU#q`#g.PR.P(dQ(e#iQ-|(aW.U(e-|2t6bQ2t-}R6b2uQ)i$kR.|)iQ$ohR)o$oQ$bcU)_$b-q:xQ-q:eR:x)lQ/d*VW3{/d3|7R8zU3|/e/f/gS7R3}4OR8z7S$X)|$v(o(s)`*U*^*m*n*w*x*|.a.b.d.e.f/S/X/]/_/a/i/n0U0V0f1Q1S3R3S3T3W3l4P4Q4U4b4d4j5R5T6k6l6m6n6s6t6v6w6x6}7U7Y7`7b7d8o8p8q8{9P9p9q9r9s9t:X:b;z<W<X<d<eQ/l*^U4T/l4V7VQ4V/nR7V4UQ*h$|R/z*hr*O$v(s*m*n*|/i0U0V3W4P4j6}7`9t;z<W<X!^._(o)`*U*^.a.b.f/S/X/a/n0f1Q1S3T4Q4U5R5T6k6n7U7Y7b7d8{9P:X<d<eU/^*O._6qa6q3l6s6t6x8o9p9s:bQ0R*mQ3U.aU4c0R3U8rR8r6sv*Q$v(s*m*n*|/]/i0U0V3W4P4b4j6}7`9t;z<W<X!b.`(o)`*U*^.a.b.f/S/X/a/n0f1Q1S3R3T4Q4U5R5T6k6l6n7U7Y7b7d8{9P:X<d<eU/`*Q.`6re6r3l6s6t6x8o8p9p9q9s:bQ0T*nQ3V.bU4e0T3V8sR8s6tQ*s%UR0X*sQ4o0fR7c4oQ+U%hR0d+UQ5V1VS7q5V9XR9X7rQ,P&YR1Y,PQ5]1[R7u5]Q1h,ZS5l1h8SR8S5nQ0s+iW4x0s4z7i9TQ4z0vQ7i4yR9T7jQ+n%|R0y+nQ1z,mR5|1zYrOXst#cQ&q!ZQ+W%jQ,g&mQ,i&oQ,j&pQ,l&rQ1u,hS1x,m1zR5{1wQ%lpQ&u!_Q&x!aQ&z!bQ&|!cQ'l!tQ+V%iQ+c%vQ+u&SQ,]&hQ,t&wW-e'f'n'o'rQ-l'jQ/y*gQ0n+dS1k,^,aQ2S,sQ2T,vQ2U,wQ2j-dW2l-g-h-k-mQ4q0oQ4}0|Q5Q1QQ5f1bQ5p1mQ5z1vU6Z2k2n2qQ6^2oQ7e4rQ7m5PQ7n5RQ7t5[Q7}5gQ8T5oS8d6[6`Q8f6_Q9U7kQ9^8OQ9c8UQ9j8eQ9z9VQ:P9_Q:T9kR:]:QQ%vyQ'_!iQ'j!tU+d%w%x%yQ,{'QU-`'`'a'bS-d'f'pQ/p*bS0o+e+fQ2[,}S2h-a-bQ2o-iQ4Y/tQ4r0pQ6V2bQ6Y2iQ6_2pR7Z4^S$wi<YR*t%VU%Ui%V<YR0W*rQ$viS(o#u+`Q(s#wS)`$c$dQ*U$xQ*^${Q*m%OQ*n%QQ*w%[Q*x%]Q*|%aQ.a:|Q.b;OQ.d;SQ.e;UQ.f;WQ/S)uS/X){/ZQ/])}Q/_*PQ/a*RQ/i*YQ/n*`Q0U*pQ0V*qh0f+].Z1^3O5c6g7y8j9[9n:O:WQ1Q+wQ1S+zQ3R;_Q3S;aQ3T;cQ3W.iS3l:y:zQ4P/jQ4Q/kQ4U/mQ4b0QQ4d0SQ4j0^Q5R1RQ5T1UQ6k;gQ6l;iQ6m;kQ6n;mQ6s:}Q6t;PQ6v;TQ6w;VQ6x;XQ6}3xQ7U4SQ7Y4[Q7`4fQ7b4nQ7d4pQ8o;dQ8p;`Q8q;bQ8{7TQ9P7^Q9p;hQ9q;jQ9r;lQ9s;nQ9t8wQ:X;qQ:b;rQ;z<YQ<W<bQ<X<cQ<d<fR<e<gnpOXst!Z#c%j&m&o&p&r,h,m1w1zQ!fPS#eZ#nQ&w!`U'c!o5Y7wQ'y#RQ(|#{Q)m$mS,a&f&iQ,f&jQ,s&vQ,x'OQ-[']Q.p(zQ/Q)nQ0b+SQ0i+^Q1s,eQ2f-^Q2|.[Q3s.{Q4h0[Q5a1_Q5r1oQ5s1pQ5w1rQ5y1tQ6O1|Q6f3PQ6{3pQ7{5dQ8X5tQ8Y5uQ8[5xQ8l6jQ9]7|R9g8]#WcOPXZst!Z!`!o#c#n#{%j&f&i&j&m&o&p&r&v'O'](z+S+^,e,h,m-^.[0[1_1o1p1r1t1w1z1|3P5Y5d5t5u5x6j7w7|8]Q#XWQ#dYQ%nuQ%ovS%qw!gS'|#V(PQ(S#YQ(n#tQ(u#xQ(}$OQ)O$PQ)P$QQ)Q$RQ)R$SQ)S$TQ)T$UQ)U$VQ)V$WQ)W$XQ)X$YQ)Z$[Q)^$aQ)b$eW)l$m)n.{3pQ+Z%pQ+o%}S-O'S2]Q-m'mS-r'}-tQ-w(VQ-y(^Q.h(rQ.n(vQ.r:cQ.t:fQ.u:gQ.v:jQ/V)yQ0_+OQ2W,yQ2Z,|Q2k-fQ2r-zQ3Y.lQ3_:kQ3`:lQ3a:mQ3b:nQ3c:oQ3d:pQ3e:qQ3f:rQ3g:sQ3h:tQ3i:uQ3j:vQ3k.sQ3n:{Q3o;YQ3t:wQ4k0aQ4s0qQ6U;ZQ6[2mQ6a2sQ6o3ZQ6p;[Q6y;^Q6z;eQ7r5WQ8a6SQ8e6]Q8n;fQ8t;oQ8u;pQ9k8gQ9{9WQ:S9iQ:e#RR<P<]R#ZWR'U!eY!tQ'Z-Y1[5]S'Q!e-QQ'f!rS'p!u!xS'r!y5_S,}'R'YS-i'g'hQ-k'iQ2b-WR2p-jR(t#wR(w#xQ!fQT-X'Z-Y]!qQ!r'Z-Y1[5]Q#o]R'd:dT#jZ%bS#iZ%bS%hm,dU(a#g#h#kS-}(b(cQ.R(dQ0c+TQ2u.OU2v.P.Q.SS6c2w2xR8h6d`#]W#V#Y%e'}(W+Q-xr#fZm#g#h#k%b(b(c(d+T.O.P.Q.S2w2x6dQ1q,dQ2X,zQ6Q2PQ8`6RT;w'S+RT#`W%eS#_W%eS(O#V(WS(T#Y+QS-P'S+RT-s'}-xT'X!e%fQ$kfR)s$pT)h$k)iR3r.zT*X$x*ZR*a${Q0g+]Q2z.ZQ5`1^Q6h3OQ7z5cQ8k6gQ9Y7yQ9l8jQ9}9[Q:V9nQ:[:OR:_:WnqOXst!Z#c%j&m&o&p&r,h,m1w1zQ&g!VR,]&dtmOXst!U!V!Z#c%j&d&m&o&p&r,h,m1w1zR,d&jT%im,dR1W+|R,[&bQ&Q|R+t&RR+j%{T&k!W&nT&l!W&nT1y,m1z",nodeNames:" ArithOp ArithOp JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:371,context:qh,nodeProps:[["group",-26,8,16,18,65,201,205,209,210,212,215,218,228,230,236,238,240,242,245,251,257,259,261,263,265,267,268,"Statement",-32,12,13,28,31,32,38,48,51,52,54,59,67,75,79,81,83,84,106,107,116,117,134,137,139,140,141,142,144,145,164,165,167,"Expression",-23,27,29,33,37,39,41,168,170,172,173,175,176,177,179,180,181,183,184,185,195,197,199,200,"Type",-3,87,99,105,"ClassItem"],["openedBy",22,"<",34,"InterpolationStart",53,"[",57,"{",72,"(",157,"JSXStartCloseTag"],["closedBy",23,">",36,"InterpolationEnd",47,"]",58,"}",73,")",162,"JSXEndTag"]],propSources:[Jh],skippedNodes:[0,4,5,271],repeatNodeCount:37,tokenData:"$Fj(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#8g!R![#:v![!]#Gv!]!^#IS!^!_#J^!_!`#Ns!`!a$#_!a!b$(l!b!c$,k!c!}Er!}#O$-u#O#P$/P#P#Q$4h#Q#R$5r#R#SEr#S#T$7P#T#o$8Z#o#p$<k#p#q$=a#q#r$>q#r#s$?}#s$f%Z$f$g+g$g#BYEr#BY#BZ$AX#BZ$ISEr$IS$I_$AX$I_$I|Er$I|$I}$Dd$I}$JO$Dd$JO$JTEr$JT$JU$AX$JU$KVEr$KV$KW$AX$KW&FUEr&FU&FV$AX&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AX?HUOEr(n%d_$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$f&j(R!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(R!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$f&j(OpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(OpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$f&j(Op(R!b't(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST(P#S$f&j'u(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$f&j(Op(R!b'u(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$f&j!o$Ip(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#t$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#t$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/|3l_'}$(n$f&j(R!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$f&j(R!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$f&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$a`$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$a``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$a`$f&j(R!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(R!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$a`(R!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k#%|:hh$f&j(Op(R!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__VS$f&j(Op(R!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]VS$f&j(R!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXVS$f&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSVSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWVS(R!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]VS$f&j(OpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWVS(OpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYVS(Op(R!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S#%|C}i$f&j(g!L^(Op(R!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr#%|EoP;=`<%lCr(CSFRk$f&j(Op(R!b$Y#t'{&;d([!LYOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$f&j(Op(R!b$Y#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv(CSJPP;=`<%lEr%#SJ_`$f&j(Op(R!b#l$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SKl_$f&j$O$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&COLva(p&;`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SNW`$f&j#x$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/|! c_(Q$)`$f&j(OpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$f&j(OpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$f&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$a`$f&j(OpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(OpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$a`(OpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b(*Q!'t_!k(!b$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!)O_!jM|$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!*[b$f&j(Op(R!b'|#)d#m$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!+o`$f&j(Op(R!b#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!,|`$f&j(Op(R!bn&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!.Z_!Y&;l$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!/ec$f&j(Op(R!b|'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!0ya$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!2Z_!XMt$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!3eg$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!5Vg$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!6wc$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8_c$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!9uf$f&j(Op(R!b#k$IdOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpxz!;Zz{#,f{!P!;Z!P!Q#-{!Q!^!;Z!^!_#'Z!_!`#5k!`!a#7Q!a!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(r!;fb$f&j(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(Q!<w`$f&j(R!b!USOY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eb!Q!^!<n!^!_!GY!_!}!<n!}#O!Ja#O#P!Dj#P#o!<n#o#p!GY#p;'S!<n;'S;=`!Kj<%lO!<n&n!>Q^$f&j!USOY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@Y!_!}!=y!}#O!Bw#O#P!Dj#P#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!?Ta$f&j!USO!^&c!_#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&cS!@_X!USOY!@YZ!P!@Y!P!Q!@z!Q!}!@Y!}#O!Ac#O#P!Bb#P;'S!@Y;'S;=`!Bq<%lO!@YS!APU!US#Z#[!@z#]#^!@z#a#b!@z#g#h!@z#i#j!@z#m#n!@zS!AfVOY!AcZ#O!Ac#O#P!A{#P#Q!@Y#Q;'S!Ac;'S;=`!B[<%lO!AcS!BOSOY!AcZ;'S!Ac;'S;=`!B[<%lO!AcS!B_P;=`<%l!AcS!BeSOY!@YZ;'S!@Y;'S;=`!Bq<%lO!@YS!BtP;=`<%l!@Y&n!B|[$f&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#O!Bw#O#P!Cr#P#Q!=y#Q#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!CwX$f&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!DgP;=`<%l!Bw&n!DoX$f&jOY!=yYZ&cZ!^!=y!^!_!@Y!_#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!E_P;=`<%l!=y(Q!Eki$f&j(R!b!USOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Eb#[#]&}#]#^!Eb#^#a&}#a#b!Eb#b#g&}#g#h!Eb#h#i&}#i#j!Eb#j#m&}#m#n!Eb#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!GaZ(R!b!USOY!GYZw!GYwx!@Yx!P!GY!P!Q!HS!Q!}!GY!}#O!Ic#O#P!Bb#P;'S!GY;'S;=`!JZ<%lO!GY!f!HZb(R!b!USOY'}Zw'}x#O'}#P#Z'}#Z#[!HS#[#]'}#]#^!HS#^#a'}#a#b!HS#b#g'}#g#h!HS#h#i'}#i#j!HS#j#m'}#m#n!HS#n;'S'};'S;=`(f<%lO'}!f!IhX(R!bOY!IcZw!Icwx!Acx#O!Ic#O#P!A{#P#Q!GY#Q;'S!Ic;'S;=`!JT<%lO!Ic!f!JWP;=`<%l!Ic!f!J^P;=`<%l!GY(Q!Jh^$f&j(R!bOY!JaYZ&cZw!Jawx!Bwx!^!Ja!^!_!Ic!_#O!Ja#O#P!Cr#P#Q!<n#Q#o!Ja#o#p!Ic#p;'S!Ja;'S;=`!Kd<%lO!Ja(Q!KgP;=`<%l!Ja(Q!KmP;=`<%l!<n'`!Ky`$f&j(Op!USOY!KpYZ&cZr!Kprs!=ys!P!Kp!P!Q!L{!Q!^!Kp!^!_!Ns!_!}!Kp!}#O##z#O#P!Dj#P#o!Kp#o#p!Ns#p;'S!Kp;'S;=`#%T<%lO!Kp'`!MUi$f&j(Op!USOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!L{#[#](r#]#^!L{#^#a(r#a#b!L{#b#g(r#g#h!L{#h#i(r#i#j!L{#j#m(r#m#n!L{#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!NzZ(Op!USOY!NsZr!Nsrs!@Ys!P!Ns!P!Q# m!Q!}!Ns!}#O#!|#O#P!Bb#P;'S!Ns;'S;=`##t<%lO!Nst# tb(Op!USOY)rZr)rs#O)r#P#Z)r#Z#[# m#[#])r#]#^# m#^#a)r#a#b# m#b#g)r#g#h# m#h#i)r#i#j# m#j#m)r#m#n# m#n;'S)r;'S;=`*Z<%lO)rt##RX(OpOY#!|Zr#!|rs!Acs#O#!|#O#P!A{#P#Q!Ns#Q;'S#!|;'S;=`##n<%lO#!|t##qP;=`<%l#!|t##wP;=`<%l!Ns'`#$R^$f&j(OpOY##zYZ&cZr##zrs!Bws!^##z!^!_#!|!_#O##z#O#P!Cr#P#Q!Kp#Q#o##z#o#p#!|#p;'S##z;'S;=`#$}<%lO##z'`#%QP;=`<%l##z'`#%WP;=`<%l!Kp(r#%fk$f&j(Op(R!b!USOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#%Z#[#]%Z#]#^#%Z#^#a%Z#a#b#%Z#b#g%Z#g#h#%Z#h#i%Z#i#j#%Z#j#m%Z#m#n#%Z#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#'d](Op(R!b!USOY#'ZZr#'Zrs!GYsw#'Zwx!Nsx!P#'Z!P!Q#(]!Q!}#'Z!}#O#)w#O#P!Bb#P;'S#'Z;'S;=`#*w<%lO#'Z#W#(fe(Op(R!b!USOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#(]#[#]*g#]#^#(]#^#a*g#a#b#(]#b#g*g#g#h#(]#h#i*g#i#j#(]#j#m*g#m#n#(]#n;'S*g;'S;=`+Z<%lO*g#W#*OZ(Op(R!bOY#)wZr#)wrs!Icsw#)wwx#!|x#O#)w#O#P!A{#P#Q#'Z#Q;'S#)w;'S;=`#*q<%lO#)w#W#*tP;=`<%l#)w#W#*zP;=`<%l#'Z(r#+W`$f&j(Op(R!bOY#*}YZ&cZr#*}rs!Jasw#*}wx##zx!^#*}!^!_#)w!_#O#*}#O#P!Cr#P#Q!;Z#Q#o#*}#o#p#)w#p;'S#*};'S;=`#,Y<%lO#*}(r#,]P;=`<%l#*}(r#,cP;=`<%l!;Z(CS#,sb$f&j(Op(R!b'v(;d!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(CS#.W_$f&j(Op(R!bS(;dOY#-{YZ&cZr#-{rs#/Vsw#-{wx#2gx!^#-{!^!_#4f!_#O#-{#O#P#0X#P#o#-{#o#p#4f#p;'S#-{;'S;=`#5e<%lO#-{(Bb#/`]$f&j(R!bS(;dOY#/VYZ&cZw#/Vwx#0Xx!^#/V!^!_#1j!_#O#/V#O#P#0X#P#o#/V#o#p#1j#p;'S#/V;'S;=`#2a<%lO#/V(AO#0`X$f&jS(;dOY#0XYZ&cZ!^#0X!^!_#0{!_#o#0X#o#p#0{#p;'S#0X;'S;=`#1d<%lO#0X(;d#1QSS(;dOY#0{Z;'S#0{;'S;=`#1^<%lO#0{(;d#1aP;=`<%l#0{(AO#1gP;=`<%l#0X(<v#1qW(R!bS(;dOY#1jZw#1jwx#0{x#O#1j#O#P#0{#P;'S#1j;'S;=`#2Z<%lO#1j(<v#2^P;=`<%l#1j(Bb#2dP;=`<%l#/V(Ap#2p]$f&j(OpS(;dOY#2gYZ&cZr#2grs#0Xs!^#2g!^!_#3i!_#O#2g#O#P#0X#P#o#2g#o#p#3i#p;'S#2g;'S;=`#4`<%lO#2g(<U#3pW(OpS(;dOY#3iZr#3irs#0{s#O#3i#O#P#0{#P;'S#3i;'S;=`#4Y<%lO#3i(<U#4]P;=`<%l#3i(Ap#4cP;=`<%l#2g(=h#4oY(Op(R!bS(;dOY#4fZr#4frs#1jsw#4fwx#3ix#O#4f#O#P#0{#P;'S#4f;'S;=`#5_<%lO#4f(=h#5bP;=`<%l#4f(CS#5hP;=`<%l#-{%#W#5xb$f&j$O$Id(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z+h#7_b$W#t$f&j(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z$/l#8rp$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#U%Z#U#V#>Q#V#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#d#AY#d#l%Z#l#m#D[#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;Rk$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#=R_$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>Zd$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#?tf$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Acc$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Bye$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Deg$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#FXi$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#HT_!d$b$f&j#|%<f(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#I__`l$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^#Jk^g!*v!h'.r(Op(R!b(tSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Kg!Q!^*g!^!_#L]!_!`#M}!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#KpX$h&j(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#LfZ#n$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#MX!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#MbX$O$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#NWX#o$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$ Oa#[%?x$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$!T!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$!`_#g$Ih$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$#nafBf#o$Id$c#|$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$$s!`!a$%}!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$%O_#o$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$&Ya#n$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$'_!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$'j`#n$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$(wc(h$Ip$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$*S!P!^%Z!^!_*g!_!a%Z!a!b$+^!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$*__}'#p$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+i`$f&j#y$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$,v_!{!Ln$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$.Q_!P(8n$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/UZ$f&jO!^$/w!^!_$0_!_#i$/w#i#j$0d#j#l$/w#l#m$2V#m#o$/w#o#p$0_#p;'S$/w;'S;=`$4b<%lO$/w(n$0OT^#S$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0dO^#S(n$0i[$f&jO!Q&c!Q![$1_![!^&c!_!c&c!c!i$1_!i#T&c#T#Z$1_#Z#o&c#o#p$3u#p;'S&c;'S;=`&w<%lO&c(n$1dZ$f&jO!Q&c!Q![$2V![!^&c!_!c&c!c!i$2V!i#T&c#T#Z$2V#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2[Z$f&jO!Q&c!Q![$2}![!^&c!_!c&c!c!i$2}!i#T&c#T#Z$2}#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3SZ$f&jO!Q&c!Q![$/w![!^&c!_!c&c!c!i$/w!i#T&c#T#Z$/w#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$3xR!Q![$4R!c!i$4R#T#Z$4R#S$4US!Q![$4R!c!i$4R#T#Z$4R#q#r$0_(n$4eP;=`<%l$/w!2r$4s_!V!+S$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$5}`#v$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$7[_$f&j(Op(R!b(X&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$8jk$f&j(Op(R!b'{&;d$[#t([!LYOY%ZYZ&cZr%Zrs&}st%Ztu$8Zuw%Zwx(rx}%Z}!O$:_!O!Q%Z!Q![$8Z![!^%Z!^!_*g!_!c%Z!c!}$8Z!}#O%Z#O#P&c#P#R%Z#R#S$8Z#S#T%Z#T#o$8Z#o#p*g#p$g%Z$g;'S$8Z;'S;=`$<e<%lO$8Z+d$:jk$f&j(Op(R!b$[#tOY%ZYZ&cZr%Zrs&}st%Ztu$:_uw%Zwx(rx}%Z}!O$:_!O!Q%Z!Q![$:_![!^%Z!^!_*g!_!c%Z!c!}$:_!}#O%Z#O#P&c#P#R%Z#R#S$:_#S#T%Z#T#o$:_#o#p*g#p$g%Z$g;'S$:_;'S;=`$<_<%lO$:_+d$<bP;=`<%l$:_(CS$<hP;=`<%l$8Z!5p$<tX![!3l(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g&CO$=la(o&;`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+^#q;'S%Z;'S;=`+a<%lO%Z%#`$?O_!Z$I`r`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$@Y_!pS$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$Aj|$f&j(Op(R!b't(;d$Y#t'{&;d([!LYOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$AX#BZ$ISEr$IS$I_$AX$I_$JTEr$JT$JU$AX$JU$KVEr$KV$KW$AX$KW&FUEr&FU&FV$AX&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AX?HUOEr(CS$Duk$f&j(Op(R!b'u(;d$Y#t'{&;d([!LYOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[Xh,Hh,Kh,2,3,4,5,6,7,8,9,10,11,12,13,Yh,new Od("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOt~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(Z~~",141,332),new Od("j~RQYZXz{^~^O'x~~aP!P!Qd~iO'y~~",25,315)],topRules:{Script:[0,6],SingleExpression:[1,269],SingleClassItem:[2,270]},dialects:{jsx:0,ts:14602},dynamicPrecedences:{69:1,79:1,81:1,165:1,193:1},specialized:[{term:319,get:e=>ep[e]||-1},{term:334,get:e=>tp[e]||-1},{term:70,get:e=>np[e]||-1}],tokenPrec:14626}),ip=[ml("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),ml("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),ml("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),ml("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),ml("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),ml("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),ml("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),ml("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),ml("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),ml('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),ml('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],op=ip.concat([ml("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),ml("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),ml("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),sp=new Ks,ap=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function cp(e){return(t,n)=>{let r=t.node.getChild("VariableDefinition");return r&&n(r,e),!0}}const lp=["FunctionDeclaration"],up={FunctionDeclaration:cp("function"),ClassDeclaration:cp("class"),ClassExpression:()=>!0,EnumDeclaration:cp("constant"),TypeAliasDeclaration:cp("type"),NamespaceDeclaration:cp("namespace"),VariableDefinition(e,t){e.matchContext(lp)||t(e,"variable")},TypeDefinition(e,t){t(e,"type")},__proto__:null};function dp(e,t){let n=sp.get(t);if(n)return n;let r=[],i=!0;function o(t,n){let i=e.sliceString(t.from,t.to);r.push({label:i,type:n})}return t.cursor(As.IncludeAnonymous).iterate((t=>{if(i)i=!1;else if(t.name){let e=up[t.name];if(e&&e(t,o)||ap.has(t.name))return!1}else if(t.to-t.from>8192){for(let n of dp(e,t.node))r.push(n);return!1}})),sp.set(t,r),r}const hp=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,pp=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function fp(e){let t=Ya(e.state).resolveInner(e.pos,-1);if(pp.indexOf(t.name)>-1)return null;let n="VariableName"==t.name||t.to-t.from<20&&hp.test(e.state.sliceDoc(t.from,t.to));if(!n&&!e.explicit)return null;let r=[];for(let n=t;n;n=n.parent)ap.has(n.name)&&(r=r.concat(dp(e.state.doc,n)));return{options:r,from:n?t.from:e.pos,validFor:hp}}const mp=qa.define({name:"javascript",parser:rp.configure({props:[dc.add({IfStatement:bc({except:/^\s*({|else\b)/}),TryStatement:bc({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:e=>e.baseIndent,SwitchBody:e=>{let t=e.textAfter,n=/^\s*\}/.test(t),r=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:r?1:2)*e.unit},Block:yc({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>null,"Statement Property":bc({except:/^{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":e=>e.column(e.node.from)+e.unit}),xc.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Oc,BlockComment:e=>({from:e.from+2,to:e.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),gp={test:e=>/^JSX/.test(e.name),facet:Za({commentTokens:{block:{open:"{/*",close:"*/}"}}})},yp=mp.configure({dialect:"ts"},"typescript"),vp=mp.configure({dialect:"jsx",props:[Va.add((e=>e.isTop?[gp]:void 0))]}),bp=mp.configure({dialect:"jsx ts",props:[Va.add((e=>e.isTop?[gp]:void 0))]},"typescript");let xp=e=>({label:e,type:"keyword"});const Op="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(xp),wp=Op.concat(["declare","implements","private","protected","public"].map(xp));function Sp(e={}){let t=e.jsx?e.typescript?bp:vp:e.typescript?yp:mp,n=e.typescript?op.concat(wp):ip.concat(Op);return new ic(t,[mp.data.of({autocomplete:(r=pp,i=Gc(n),e=>{for(let t=Ya(e.state).resolveInner(e.pos,-1);t;t=t.parent){if(r.indexOf(t.name)>-1)return null;if(t.type.isTop)break}return i(e)})}),mp.data.of({autocomplete:fp}),e.jsx?Pp:[]]);var r,i}function kp(e,t,n=e.length){for(let r=null==t?void 0:t.firstChild;r;r=r.nextSibling)if("JSXIdentifier"==r.name||"JSXBuiltin"==r.name||"JSXNamespacedName"==r.name||"JSXMemberExpression"==r.name)return e.sliceString(r.from,Math.min(r.to,n));return""}const _p="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Pp=Do.inputHandler.of(((e,t,n,r,i)=>{if((_p?e.composing:e.compositionStarted)||e.state.readOnly||t!=n||">"!=r&&"/"!=r||!mp.isActiveAt(e.state,t,-1))return!1;let o=i(),{state:s}=o,a=s.changeByRange((e=>{var t;let n,{head:i}=e,o=Ya(s).resolveInner(i-1,-1);if("JSXStartTag"==o.name&&(o=o.parent),s.doc.sliceString(i-1,i)!=r||"JSXAttributeValue"==o.name&&o.to>i);else{if(">"==r&&"JSXFragmentTag"==o.name)return{range:e,changes:{from:i,insert:"</>"}};if("/"==r&&"JSXStartCloseTag"==o.name){let e=o.parent,r=e.parent;if(r&&e.from==i-2&&((n=kp(s.doc,r.firstChild,i))||"JSXFragmentTag"==(null===(t=r.firstChild)||void 0===t?void 0:t.name))){let e=`${n}>`;return{range:Ae.cursor(i+e.length,-1),changes:{from:i,insert:e}}}}else if(">"==r){let t=function(e){for(;;){if("JSXOpenTag"==e.name||"JSXSelfClosingTag"==e.name||"JSXFragmentTag"==e.name)return e;if("JSXEscape"==e.name||!e.parent)return null;e=e.parent}}(o);if(t&&!/^\/?>|^<\//.test(s.doc.sliceString(i,i+2))&&(n=kp(s.doc,t,i)))return{range:e,changes:{from:i,insert:`</${n}>`}}}}return{range:e}}));return!a.changes.empty&&(e.dispatch([o,s.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)})),Ep=["_blank","_self","_top","_parent"],Cp=["ascii","utf-8","utf-16","latin1","latin1"],Tp=["get","post","put","delete"],jp=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Ip=["true","false"],Mp={},Ap={a:{attrs:{href:null,ping:null,type:null,media:null,target:Ep,hreflang:null}},abbr:Mp,address:Mp,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Mp,aside:Mp,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Mp,base:{attrs:{href:null,target:Ep}},bdi:Mp,bdo:Mp,blockquote:{attrs:{cite:null}},body:Mp,br:Mp,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:jp,formmethod:Tp,formnovalidate:["novalidate"],formtarget:Ep,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Mp,center:Mp,cite:Mp,code:Mp,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Mp,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Mp,div:Mp,dl:Mp,dt:Mp,em:Mp,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Mp,figure:Mp,footer:Mp,form:{attrs:{action:null,name:null,"accept-charset":Cp,autocomplete:["on","off"],enctype:jp,method:Tp,novalidate:["novalidate"],target:Ep}},h1:Mp,h2:Mp,h3:Mp,h4:Mp,h5:Mp,h6:Mp,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Mp,hgroup:Mp,hr:Mp,html:{attrs:{manifest:null}},i:Mp,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:jp,formmethod:Tp,formnovalidate:["novalidate"],formtarget:Ep,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Mp,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Mp,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Mp,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Cp,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Mp,noscript:Mp,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Mp,param:{attrs:{name:null,value:null}},pre:Mp,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Mp,rt:Mp,ruby:Mp,samp:Mp,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Cp}},section:Mp,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Mp,source:{attrs:{src:null,type:null,media:null}},span:Mp,strong:Mp,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Mp,summary:Mp,sup:Mp,table:Mp,tbody:Mp,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Mp,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Mp,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Mp,time:{attrs:{datetime:null}},title:Mp,tr:Mp,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Mp,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Mp},Dp={accesskey:null,class:null,contenteditable:Ip,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Ip,autocorrect:Ip,autocapitalize:Ip,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Ip,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Ip,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Ip,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Ip,"aria-hidden":Ip,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Ip,"aria-multiselectable":Ip,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Ip,"aria-relevant":null,"aria-required":Ip,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},$p="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map((e=>"on"+e));for(let e of $p)Dp[e]=null;class Rp{constructor(e,t){this.tags=Object.assign(Object.assign({},Ap),e),this.globalAttrs=Object.assign(Object.assign({},Dp),t),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}function Np(e,t,n=e.length){if(!t)return"";let r=t.firstChild,i=r&&r.getChild("TagName");return i?e.sliceString(i.from,Math.min(i.to,n)):""}function Lp(e,t=!1){for(;e;e=e.parent)if("Element"==e.name){if(!t)return e;t=!1}return null}function Qp(e,t,n){let r=n.tags[Np(e,Lp(t))];return(null==r?void 0:r.children)||n.allTags}function zp(e,t){let n=[];for(let r=Lp(t);r&&!r.type.isTop;r=Lp(r.parent)){let i=Np(e,r);if(i&&"CloseTag"==r.lastChild.name)break;i&&n.indexOf(i)<0&&("EndTag"==t.name||t.from>=r.firstChild.to)&&n.push(i)}return n}Rp.default=new Rp;const Fp=/^[:\-\.\w\u00b7-\uffff]*$/;function Bp(e,t,n,r,i){let o=/\s*>/.test(e.sliceDoc(i,i+5))?"":">",s=Lp(n,!0);return{from:r,to:i,options:Qp(e.doc,s,t).map((e=>({label:e,type:"type"}))).concat(zp(e.doc,n).map(((e,t)=>({label:"/"+e,apply:"/"+e+o,type:"type",boost:99-t})))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function Zp(e,t,n,r){let i=/\s*>/.test(e.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:zp(e.doc,t).map(((e,t)=>({label:e,apply:e+i,type:"type",boost:99-t}))),validFor:Fp}}function Vp(e){let{extraTags:t,extraGlobalAttributes:n}=e,r=n||t?new Rp(t,n):Rp.default;return e=>function(e,t){let{state:n,pos:r}=t,i=Ya(n).resolveInner(r,-1),o=i.resolve(r);for(let e,t=r;o==i&&(e=i.childBefore(t));){let n=e.lastChild;if(!n||!n.type.isError||n.from<n.to)break;o=i=e,t=n.from}return"TagName"==i.name?i.parent&&/CloseTag$/.test(i.parent.name)?Zp(n,i,i.from,r):Bp(n,e,i,i.from,r):"StartTag"==i.name?Bp(n,e,i,r,r):"StartCloseTag"==i.name||"IncompleteCloseTag"==i.name?Zp(n,i,r,r):t.explicit&&("OpenTag"==i.name||"SelfClosingTag"==i.name)||"AttributeName"==i.name?function(e,t,n,r,i){let o=Lp(n),s=o?t.tags[Np(e.doc,o)]:null,a=s&&s.attrs?Object.keys(s.attrs):[];return{from:r,to:i,options:(s&&!1===s.globalAttrs?a:a.length?a.concat(t.globalAttrNames):t.globalAttrNames).map((e=>({label:e,type:"property"}))),validFor:Fp}}(n,e,i,"AttributeName"==i.name?i.from:r,r):"Is"==i.name||"AttributeValue"==i.name||"UnquotedAttributeValue"==i.name?function(e,t,n,r,i){var o;let s,a=null===(o=n.parent)||void 0===o?void 0:o.getChild("AttributeName"),c=[];if(a){let o=e.sliceDoc(a.from,a.to),l=t.globalAttrs[o];if(!l){let r=Lp(n),i=r?t.tags[Np(e.doc,r)]:null;l=(null==i?void 0:i.attrs)&&i.attrs[o]}if(l){let t=e.sliceDoc(r,i).toLowerCase(),n='"',o='"';/^['"]/.test(t)?(s='"'==t[0]?/^[^"]*$/:/^[^']*$/,n="",o=e.sliceDoc(i,i+1)==t[0]?"":t[0],t=t.slice(1),r++):s=/^[^\s<>='"]*$/;for(let e of l)c.push({label:e,apply:n+e+o,type:"constant"})}}return{from:r,to:i,options:c,validFor:s}}(n,e,i,"Is"==i.name?r:i.from,r):!t.explicit||"Element"!=o.name&&"Text"!=o.name&&"Document"!=o.name?null:function(e,t,n,r){let i=[],o=0;for(let r of Qp(e.doc,n,t))i.push({label:"<"+r,type:"type"});for(let t of zp(e.doc,n))i.push({label:"</"+t+">",type:"type",boost:99-o++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}(n,e,i,r)}(r,e)}const Wp=mp.parser.configure({top:"SingleExpression"}),Up=[{tag:"script",attrs:e=>"text/typescript"==e.type||"ts"==e.lang,parser:yp.parser},{tag:"script",attrs:e=>"text/babel"==e.type||"text/jsx"==e.type,parser:vp.parser},{tag:"script",attrs:e=>"text/typescript-jsx"==e.type,parser:bp.parser},{tag:"script",attrs:e=>/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(e.type),parser:Wp},{tag:"script",attrs:e=>!e.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(e.type),parser:mp.parser},{tag:"style",attrs:e=>(!e.lang||"css"==e.lang)&&(!e.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(e.type)),parser:ch.parser}],qp=[{name:"style",parser:ch.parser.configure({top:"Styles"})}].concat($p.map((e=>({name:e,parser:mp.parser})))),Yp=qa.define({name:"html",parser:Fh.configure({props:[dc.add({Element(e){let t=/^(\s*)(<\/)?/.exec(e.textAfter);return e.node.to<=e.pos+t[0].length?e.continue():e.lineIndent(e.node.from)+(t[2]?0:e.unit)},"OpenTag CloseTag SelfClosingTag":e=>e.column(e.node.from)+e.unit,Document(e){if(e.pos+/\s*/.exec(e.textAfter)[0].length<e.node.to)return e.continue();let t,n=null;for(let t=e.node;;){let e=t.lastChild;if(!e||"Element"!=e.name||e.to!=t.to)break;n=t=e}return n&&(!(t=n.lastChild)||"CloseTag"!=t.name&&"SelfClosingTag"!=t.name)?e.lineIndent(n.from)+e.unit:null}}),xc.add({Element(e){let t=e.firstChild,n=e.lastChild;return t&&"OpenTag"==t.name?{from:t.to,to:"CloseTag"==n.name?n.from:e.to}:null}}),Lc.add({"OpenTag CloseTag":e=>e.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"\x3c!--",close:"--\x3e"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),Xp=Yp.configure({wrap:Wh(Up,qp)});function Hp(e={}){let t,n="";!1===e.matchClosingTags&&(n="noMatch"),!0===e.selfClosingTags&&(n=(n?n+" ":"")+"selfClosing"),(e.nestedLanguages&&e.nestedLanguages.length||e.nestedAttributes&&e.nestedAttributes.length)&&(t=Wh((e.nestedLanguages||[]).concat(Up),(e.nestedAttributes||[]).concat(qp)));let r=t?Yp.configure({wrap:t,dialect:n}):n?Xp.configure({dialect:n}):Xp;return new ic(r,[Xp.data.of({autocomplete:Vp(e)}),!1!==e.autoCloseTags?Kp:[],Sp().support,lh().support])}const Gp=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),Kp=Do.inputHandler.of(((e,t,n,r,i)=>{if(e.composing||e.state.readOnly||t!=n||">"!=r&&"/"!=r||!Xp.isActiveAt(e.state,t,-1))return!1;let o=i(),{state:s}=o,a=s.changeByRange((e=>{var t,n,i;let o,a=s.doc.sliceString(e.from-1,e.to)==r,{head:c}=e,l=Ya(s).resolveInner(c-1,-1);if("TagName"!=l.name&&"StartTag"!=l.name||(l=l.parent),a&&">"==r&&"OpenTag"==l.name){if("CloseTag"!=(null===(n=null===(t=l.parent)||void 0===t?void 0:t.lastChild)||void 0===n?void 0:n.name)&&(o=Np(s.doc,l.parent,c))&&!Gp.has(o))return{range:e,changes:{from:c,to:c+(">"===s.doc.sliceString(c,c+1)?1:0),insert:`</${o}>`}}}else if(a&&"/"==r&&"IncompleteCloseTag"==l.name){let e=l.parent;if(l.from==c-2&&"CloseTag"!=(null===(i=e.lastChild)||void 0===i?void 0:i.name)&&(o=Np(s.doc,e,c))&&!Gp.has(o)){let e=c+(">"===s.doc.sliceString(c,c+1)?1:0),t=`${o}>`;return{range:Ae.cursor(c+t.length,-1),changes:{from:c,to:e,insert:t}}}}return{range:e}}));return!a.changes.empty&&(e.dispatch([o,s.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}));var Jp=n(87150),ef=n(86505),tf=n(52159),nf=function(){return nf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nf.apply(this,arguments)};function rf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function of(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function sf(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function af(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var cf,lf,uf=function(e){return(0,r.jsx)("svg",nf({fill:"currentColor",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg"},e))},df=function(){return(0,r.jsxs)(uf,{viewBox:"0 0 48 48",children:[(0,r.jsx)("title",{children:"Sign in"}),(0,r.jsx)("path",{d:"M9 42q-1.2 0-2.1-.9Q6 40.2 6 39V9q0-1.2.9-2.1Q7.8 6 9 6h14.55v3H9v30h14.55v3Zm24.3-9.25-2.15-2.15 5.1-5.1h-17.5v-3h17.4l-5.1-5.1 2.15-2.15 8.8 8.8Z"})]})},hf=function(){return(0,r.jsxs)(uf,{viewBox:"0 0 48 48",children:[(0,r.jsx)("title",{children:"Sign out"}),(0,r.jsx)("path",{d:"M9 42q-1.2 0-2.1-.9Q6 40.2 6 39V9q0-1.2.9-2.1Q7.8 6 9 6h14.55v3H9v30h14.55v3Zm24.3-9.25-2.15-2.15 5.1-5.1h-17.5v-3h17.4l-5.1-5.1 2.15-2.15 8.8 8.8Z"})]})},pf=function(){return(0,r.jsxs)(uf,{fill:"none",stroke:"currentColor",children:[(0,r.jsx)("title",{children:"Restart script"}),(0,r.jsx)("path",{d:"M8 2C4.68629 2 2 4.68629 2 8C2 10.0946 3.07333 11.9385 4.7 13.0118",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M14.0005 7.9998C14.0005 5.82095 12.8391 3.91335 11.1016 2.8623",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M14.0003 2.3335H11.167C10.8908 2.3335 10.667 2.55735 10.667 2.8335V5.66683",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M1.99967 13.6665L4.83301 13.6665C5.10915 13.6665 5.33301 13.4426 5.33301 13.1665L5.33301 10.3332",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M10 10L12 12L10 14",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M14.667 14L12.667 14",strokeLinecap:"round",strokeLinejoin:"round"})]})},ff=function(){return(0,r.jsxs)(uf,{children:[(0,r.jsx)("title",{children:"Run sandbox"}),(0,r.jsx)("path",{d:"M11.0792 8.1078C11.2793 8.25007 11.27 8.55012 11.0616 8.67981L6.02535 11.8135C5.79638 11.956 5.5 11.7913 5.5 11.5216L5.5 8.40703L5.5 4.80661C5.5 4.52735 5.81537 4.36463 6.04296 4.52647L11.0792 8.1078Z"})]})},mf=function(){return(0,r.jsxs)(uf,{children:[(0,r.jsx)("title",{children:"Click to go back"}),(0,r.jsx)("path",{d:"M9.64645 12.3536C9.84171 12.5488 10.1583 12.5488 10.3536 12.3536C10.5488 12.1583 10.5488 11.8417 10.3536 11.6464L9.64645 12.3536ZM10.3536 4.35355C10.5488 4.15829 10.5488 3.84171 10.3536 3.64644C10.1583 3.45118 9.84171 3.45118 9.64645 3.64644L10.3536 4.35355ZM6.07072 7.92929L5.71716 7.57573L6.07072 7.92929ZM10.3536 11.6464L6.42427 7.71716L5.71716 8.42426L9.64645 12.3536L10.3536 11.6464ZM6.42427 8.28284L10.3536 4.35355L9.64645 3.64644L5.71716 7.57573L6.42427 8.28284ZM6.42427 7.71716C6.58048 7.87337 6.58048 8.12663 6.42427 8.28284L5.71716 7.57573C5.48285 7.81005 5.48285 8.18995 5.71716 8.42426L6.42427 7.71716Z"})]})},gf=function(){return(0,r.jsxs)(uf,{children:[(0,r.jsx)("title",{children:"Click to go forward"}),(0,r.jsx)("path",{d:"M6.35355 3.64645C6.15829 3.45118 5.84171 3.45118 5.64645 3.64645C5.45118 3.84171 5.45118 4.15829 5.64645 4.35355L6.35355 3.64645ZM5.64645 11.6464C5.45118 11.8417 5.45118 12.1583 5.64645 12.3536C5.84171 12.5488 6.15829 12.5488 6.35355 12.3536L5.64645 11.6464ZM9.92929 8.07071L10.2828 8.42426L9.92929 8.07071ZM5.64645 4.35355L9.57574 8.28284L10.2828 7.57574L6.35355 3.64645L5.64645 4.35355ZM9.57574 7.71716L5.64645 11.6464L6.35355 12.3536L10.2828 8.42426L9.57574 7.71716ZM9.57574 8.28284C9.41952 8.12663 9.41953 7.87337 9.57574 7.71716L10.2828 8.42426C10.5172 8.18995 10.5172 7.81005 10.2828 7.57574L9.57574 8.28284Z"})]})},yf=function(){return(0,r.jsxs)(uf,{children:[(0,r.jsx)("title",{children:"Refresh preview"}),(0,r.jsx)("path",{clipRule:"evenodd",d:"M3.83325 7.99992C3.83325 5.69867 5.69853 3.83325 7.99934 3.83325C9.81246 3.83325 11.3563 4.99195 11.9285 6.61097C11.9396 6.6425 11.9536 6.67221 11.97 6.69992H8.80005C8.52391 6.69992 8.30005 6.92378 8.30005 7.19992C8.30005 7.47606 8.52391 7.69992 8.80005 7.69992H12.5667C12.8981 7.69992 13.1667 7.43129 13.1667 7.09992V3.33325C13.1667 3.05711 12.9429 2.83325 12.6667 2.83325C12.3906 2.83325 12.1667 3.05711 12.1667 3.33325V4.94608C11.2268 3.66522 9.7106 2.83325 7.99934 2.83325C5.14613 2.83325 2.83325 5.14651 2.83325 7.99992C2.83325 10.8533 5.14613 13.1666 7.99934 13.1666C9.91218 13.1666 11.5815 12.1266 12.474 10.5836C12.6123 10.3446 12.5306 10.0387 12.2915 9.90044C12.0525 9.76218 11.7466 9.84387 11.6084 10.0829C10.8873 11.3296 9.54072 12.1666 7.99934 12.1666C5.69853 12.1666 3.83325 10.3012 3.83325 7.99992Z",fillRule:"evenodd"})]})},vf=function(){return(0,r.jsxs)(uf,{fill:"none",stroke:"currentColor",children:[(0,r.jsx)("title",{children:"Clean"}),(0,r.jsx)("circle",{cx:"7.99998",cy:"8.00004",r:"4.66667",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M4.66669 4.66663L11.3334 11.3333"})]})},bf=function(){return(0,r.jsxs)(uf,{fill:"none",stroke:"currentColor",children:[(0,r.jsx)("title",{children:"Open on CodeSandbox"}),(0,r.jsx)("path",{d:"M6.66665 3.33337H4.33331C3.78103 3.33337 3.33331 3.78109 3.33331 4.33337V11.6667C3.33331 12.219 3.78103 12.6667 4.33331 12.6667H11.6666C12.2189 12.6667 12.6666 12.219 12.6666 11.6667V9.33337",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M10 3.33337H12.5667C12.6219 3.33337 12.6667 3.37815 12.6667 3.43337V6.00004",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M7.33331 8.66668L12.5333 3.46667",strokeLinecap:"round"})]})},xf=function(){return(0,r.jsxs)(uf,{stroke:"currentColor",children:[(0,r.jsx)("title",{children:"Close file"}),(0,r.jsx)("path",{d:"M12 4L4 12",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M4 4L12 12",strokeLinecap:"round"})]})},Of=function(){return(0,r.jsxs)(uf,{children:[(0,r.jsx)("title",{children:"Open browser console"}),(0,r.jsx)("path",{d:"M5.65871 3.62037C5.44905 3.44066 5.1334 3.46494 4.95368 3.6746C4.77397 3.88427 4.79825 4.19992 5.00792 4.37963L5.65871 3.62037ZM5.00792 11.6204C4.79825 11.8001 4.77397 12.1157 4.95368 12.3254C5.1334 12.5351 5.44905 12.5593 5.65871 12.3796L5.00792 11.6204ZM9.9114 7.92407L10.2368 7.54445L9.9114 7.92407ZM5.00792 4.37963L9.586 8.3037L10.2368 7.54445L5.65871 3.62037L5.00792 4.37963ZM9.586 7.6963L5.00792 11.6204L5.65871 12.3796L10.2368 8.45555L9.586 7.6963ZM9.586 8.3037C9.39976 8.14407 9.39976 7.85594 9.586 7.6963L10.2368 8.45555C10.5162 8.2161 10.5162 7.7839 10.2368 7.54445L9.586 8.3037Z"}),(0,r.jsx)("path",{d:"M10 11.5C9.72386 11.5 9.5 11.7239 9.5 12C9.5 12.2761 9.72386 12.5 10 12.5V11.5ZM14.6667 12.5C14.9428 12.5 15.1667 12.2761 15.1667 12C15.1667 11.7239 14.9428 11.5 14.6667 11.5V12.5ZM10 12.5H14.6667V11.5H10V12.5Z"})]})},wf={colors:{surface1:"#ffffff",surface2:"#EFEFEF",surface3:"#F3F3F3",disabled:"#C5C5C5",base:"#323232",clickable:"#808080",hover:"#4D4D4D",accent:"#3973E0",error:"#EA3323",errorSurface:"#FCF1F0",warning:"#6A4516",warningSurface:"#FEF2C0"},syntax:{plain:"#151515",comment:{color:"#999",fontStyle:"italic"},keyword:"#7C5AE3",tag:"#0971F1",punctuation:"#3B3B3B",definition:"#85A600",property:"#3B3B3B",static:"#3B3B3B",string:"#2E6BD0"},font:{body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',size:"13px",lineHeight:"20px"}},Sf={colors:{surface1:"#151515",surface2:"#252525",surface3:"#2F2F2F",disabled:"#4D4D4D",base:"#808080",clickable:"#999999",hover:"#C5C5C5",accent:"#E5E5E5",error:"#FFB4A6",errorSurface:"#690000",warning:"#E7C400",warningSurface:"#3A3000"},syntax:{plain:"#FFFFFF",comment:{color:"#757575",fontStyle:"italic"},keyword:"#77B7D7",tag:"#DFAB5C",punctuation:"#ffffff",definition:"#86D9CA",property:"#77B7D7",static:"#C64640",string:"#977CDC"},font:{body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',size:"13px",lineHeight:"20px"}},kf={light:wf,dark:Sf,auto:"undefined"!=typeof window&&(null===(cf=null===window||void 0===window?void 0:window.matchMedia)||void 0===cf?void 0:cf.call(window,"(prefers-color-scheme: dark)").matches)?Sf:wf},_f=function(e){var t=e.lastIndexOf("/");return e.slice(t+1)},Pf=function(e){var t=0,n=0,r=0;if(e.startsWith("#")){if(e.length<7)return!0;t=parseInt(e.substr(1,2),16),n=parseInt(e.substr(3,2),16),r=parseInt(e.substr(5,2),16)}else{var i=e.replace("rgb(","").replace("rgba(","").replace(")","").split(",");if(i.length<3)return!0;t=parseInt(i[0],10),n=parseInt(i[1],10),r=parseInt(i[2],10)}return(299*t+587*n+114*r)/1e3<128},Ef=0,Cf=function(){return(+(Date.now().toString(10).substr(0,4)+Ef++)).toString(16)},Tf=function(){return""},jf=Object.getOwnPropertyDescriptors({toString:Tf});Object.defineProperties(Tf,jf);var If="sp",Mf=(lf=(e=>{let t=!1;const n=G(e,(e=>{t=!0;const n="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",r="object"==typeof e.media&&e.media||{},i="object"==typeof e.root?e.root||null:globalThis.document||null,o="object"==typeof e.theme&&e.theme||{},s={prefix:n,media:r,theme:o,themeMap:"object"==typeof e.themeMap&&e.themeMap||{...c},utils:"object"==typeof e.utils&&e.utils||{}},a=D(i),l={css:L(s,a),globalCss:W(s,a),keyframes:q(s,a),createTheme:H(s,a),reset(){a.reset(),l.theme.toString()},theme:{},sheet:a,config:s,prefix:n,getCssText:a.toString,toString:a.toString};return String(l.theme=l.createTheme(o)),l}));return t||n.reset(),n})({prefix:If})).createTheme,Af=lf.css,Df=(lf.getCssText,lf.keyframes),$f={space:new Array(11).fill(" ").reduce((function(e,t,n){var r;return nf(nf({},e),((r={})[n+1]="".concat(4*(n+1),"px"),r))}),{}),border:{radius:"4px"},layout:{height:"300px",headerHeight:"40px"},transitions:{default:"150ms ease"},zIndices:{base:"1",overlay:"2",top:"3"}},Rf=function(){return""};Rf.toString=Rf;var Nf=(0,i.createContext)({}),Lf=function(e){var t=e.children,n=e.classes;return(0,r.jsx)(Nf.Provider,{value:n||{},children:t})},Qf=function(){var e=(0,i.useContext)(Nf);return function(t,n){void 0===n&&(n=[]);var r="".concat(If,"-").concat(t);return zf.apply(void 0,af(af([],n,!1),[r,e[r]],!1))}},zf=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(Boolean).join(" ")},Ff=Af({all:"initial",fontSize:"$font$size",fontFamily:"$font$body",display:"block",boxSizing:"border-box",textRendering:"optimizeLegibility",WebkitTapHighlightColor:"transparent",WebkitFontSmoothing:"subpixel-antialiased",variants:{variant:{dark:{colorScheme:"dark"},light:{colorScheme:"light"}}},"@media screen and (min-resolution: 2dppx)":{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},"*":{boxSizing:"border-box"},".sp-wrapper:focus":{outline:"0"}}),Bf=i.createContext({theme:wf,id:"light",mode:"light"}),Zf=function(e){var t=e.theme,n=e.children,o=e.className,s=rf(e,["theme","children","className"]),a=i.useState(t),c=a[0],l=a[1],u=function(e){var t,n,r,i,o;if(void 0===e&&(e="light"),"string"==typeof e){var s=kf[e];if(!s)throw new Error("[sandpack-react]: invalid theme '".concat(e,"' provided."));return{theme:s,id:e,mode:Pf(s.colors.surface1)?"dark":"light"}}var a=Pf(null!==(n=null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.surface1)&&void 0!==n?n:wf.colors.surface1)?"dark":"light",c="dark"===a?Sf:wf,l={colors:nf(nf({},c.colors),null!==(r=null==e?void 0:e.colors)&&void 0!==r?r:{}),syntax:nf(nf({},c.syntax),null!==(i=null==e?void 0:e.syntax)&&void 0!==i?i:{}),font:nf(nf({},c.font),null!==(o=null==e?void 0:e.font)&&void 0!==o?o:{})},u=e?function(e){for(var t=0,n=0;n<e.length;t&=t)t=31*t+e.charCodeAt(n++);return Math.abs(t)}(JSON.stringify(l)):"default";return{theme:l,id:"sp-".concat(u),mode:a}}(c),d=u.theme,h=u.id,p=u.mode,f=Qf(),m=i.useMemo((function(){return Mf(h,function(e){var t=Object.entries(e.syntax).reduce((function(e,t){var n,r=t[0],i=t[1],o=((n={})["color-".concat(r)]=i,n);return"object"==typeof i&&(o=Object.entries(i).reduce((function(e,t){var n,i=t[0],o=t[1];return nf(nf({},e),((n={})["".concat(i,"-").concat(r)]=o,n))}),{})),nf(nf({},e),o)}),{});return nf(nf({},$f),{colors:e.colors,font:e.font,syntax:t})}(d))}),[d,h]);return i.useEffect((function(){if("auto"===t){var e=function(e){var t=e.matches;l(t?"dark":"light")};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e),function(){window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",e)}}l(t)}),[t]),(0,r.jsx)(Bf.Provider,{value:{theme:d,id:h,mode:p},children:(0,r.jsx)("div",nf({className:f("wrapper",[m,Ff({variant:p}),o])},s,{children:n}))})},Vf=(Bf.Consumer,{"/styles.css":{code:"body {\n  font-family: sans-serif;\n  -webkit-font-smoothing: auto;\n  -moz-font-smoothing: auto;\n  -moz-osx-font-smoothing: grayscale;\n  font-smoothing: auto;\n  text-rendering: optimizeLegibility;\n  font-smooth: always;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n\nh1 {\n  font-size: 1.5rem;\n}"}}),Wf={files:{"/src/styles.css":Vf["/styles.css"],"/src/pages/index.astro":{code:'---\nimport "../styles.css";\nconst data = "world";\n---\n\n<h1>Hello {data}</h1>\n\n<style>\n  h1 {\n    font-size: 1.5rem;\n  }\n</style>'},".env":{code:'ASTRO_TELEMETRY_DISABLED="1"'},"/package.json":{code:JSON.stringify({dependencies:{astro:"^1.6.12","esbuild-wasm":"^0.15.16"},scripts:{dev:"astro dev",start:"astro dev",build:"astro build",preview:"astro preview",astro:"astro"}})}},main:"/src/pages/index.astro",environment:"node"},Uf={files:nf(nf({},Vf),{"/pages/_app.js":{code:"import '../styles.css'\n\nexport default function MyApp({ Component, pageProps }) {\n  return <Component {...pageProps} />\n}"},"/pages/index.js":{code:'export default function Home({ data }) {\n  return (\n    <div>\n      <h1>Hello {data}</h1>\n    </div>\n  );\n}\n  \nexport function getServerSideProps() {\n  return {\n    props: { data: "world" },\n  }\n}\n'},"/next.config.js":{code:"/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  reactStrictMode: true,\n  swcMinify: true,\n}\n\nmodule.exports = nextConfig\n"},"/package.json":{code:JSON.stringify({name:"my-app",version:"0.1.0",private:!0,scripts:{dev:"NEXT_TELEMETRY_DISABLED=1 next dev",build:"next build",start:"next start",lint:"next lint"},dependencies:{next:"12.1.6",react:"18.2.0","react-dom":"18.2.0","@next/swc-wasm-nodejs":"12.1.6"}})}}),main:"/pages/index.js",environment:"node"},qf={files:{"/index.js":{code:"const http = require('http');\n\nconst hostname = '127.0.0.1';\nconst port = 3000;\n\nconst server = http.createServer((req, res) => {\n  res.statusCode = 200;\n  res.setHeader('Content-Type', 'text/html');\n  res.end('Hello world');\n});\n\nserver.listen(port, hostname, () => {\n  console.log(`Server running at http://${hostname}:${port}/`);\n});"},"/package.json":{code:JSON.stringify({dependencies:{},scripts:{start:"node index.js"},main:"index.js"})}},main:"/index.js",environment:"node"},Yf={files:nf(nf({},Vf),{"/index.js":{code:'import "./styles.css";\n\ndocument.getElementById("app").innerHTML = `\n<h1>Hello world</h1>\n`;\n'},"/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite App</title>\n  </head>\n  <body>\n    <div id="app"></div>\n    <script type="module" src="/index.js"><\/script>\n  </body>\n</html>\n'},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},devDependencies:{vite:"4.1.4","esbuild-wasm":"0.17.12"}})}}),main:"/index.js",environment:"node"},Xf={files:nf(nf({},Vf),{"/App.jsx":{code:'export default function App() {\n  const data = "world"\n\n  return <h1>Hello {data}</h1>\n}\n'},"/index.jsx":{code:'import { render } from "preact";\nimport "./styles.css";\n\nimport App from "./App";\n\nconst root = document.getElementById("root");\nrender(<App />, root);\n'},"/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite App</title>\n  </head>\n  <body>\n    <div id="root"></div>\n    <script type="module" src="/index.jsx"><\/script>\n  </body>\n</html>\n'},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},dependencies:{preact:"^10.16.0"},devDependencies:{"@preact/preset-vite":"^2.5.0",vite:"4.1.4","esbuild-wasm":"0.17.12"}})},"/vite.config.js":{code:"import { defineConfig } from \"vite\";\nimport preact from '@preact/preset-vite'\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [preact()],\n});\n"}}),main:"/App.jsx",environment:"node"},Hf={files:nf(nf({},Vf),{"/App.tsx":{code:'export default function App() {\n  const data: string = "world"\n\n  return <h1>Hello {data}</h1>\n}\n'},"/index.tsx":{code:'import { render } from "preact";\nimport "./styles.css";\n\nimport App from "./App";\n\nconst root = document.getElementById("root") as HTMLElement;\nrender(<App />, root);\n'},"/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite App</title>\n  </head>\n  <body>\n    <div id="root"></div>\n    <script type="module" src="/index.tsx"><\/script>\n  </body>\n</html>\n'},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"ESNext",useDefineForClassFields:!0,lib:["DOM","DOM.Iterable","ESNext"],allowJs:!1,skipLibCheck:!0,esModuleInterop:!1,allowSyntheticDefaultImports:!0,strict:!0,forceConsistentCasingInFileNames:!0,module:"ESNext",moduleResolution:"Node",resolveJsonModule:!0,isolatedModules:!0,noEmit:!0,jsx:"react-jsx",jsxImportSource:"preact"},include:["src"],references:[{path:"./tsconfig.node.json"}]},null,2)},"/tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node",allowSyntheticDefaultImports:!0},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"tsc && vite build",preview:"vite preview"},dependencies:{preact:"^10.16.0"},devDependencies:{"@preact/preset-vite":"^2.5.0",typescript:"^4.9.5",vite:"4.1.4","esbuild-wasm":"^0.17.12"}},null,2)},"/vite-env.d.ts":{code:'/// <reference types="vite/client" />'},"/vite.config.ts":{code:"import { defineConfig } from 'vite'\nimport preact from '@preact/preset-vite'\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [preact()],\n})\n"}}),main:"/App.tsx",environment:"node"},Gf={files:nf(nf({},Vf),{"/App.jsx":{code:'export default function App() {\n  const data = "world"\n\n  return <h1>Hello {data}</h1>\n}\n'},"/index.jsx":{code:'import { StrictMode } from "react";\nimport { createRoot } from "react-dom/client";\nimport "./styles.css";\n\nimport App from "./App";\n\nconst root = createRoot(document.getElementById("root"));\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);'},"/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite App</title>\n  </head>\n  <body>\n    <div id="root"></div>\n    <script type="module" src="/index.jsx"><\/script>\n  </body>\n</html>\n'},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},dependencies:{react:"^18.2.0","react-dom":"^18.2.0"},devDependencies:{"@vitejs/plugin-react":"3.1.0",vite:"4.1.4","esbuild-wasm":"0.17.12"}})},"/vite.config.js":{code:'import { defineConfig } from "vite";\nimport react from "@vitejs/plugin-react";\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n});\n'}}),main:"/App.jsx",environment:"node"},Kf={files:nf(nf({},Vf),{"/App.tsx":{code:'export default function App() {\n  const data: string = "world"\n\n  return <h1>Hello {data}</h1>\n}\n'},"/index.tsx":{code:'import { StrictMode } from "react";\nimport { createRoot } from "react-dom/client";\nimport "./styles.css";\n\nimport App from "./App";\nimport React from "react";\n\nconst root = createRoot(document.getElementById("root") as HTMLElement);\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n'},"/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite App</title>\n  </head>\n  <body>\n    <div id="root"></div>\n    <script type="module" src="/index.tsx"><\/script>\n  </body>\n</html>\n'},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"ESNext",useDefineForClassFields:!0,lib:["DOM","DOM.Iterable","ESNext"],allowJs:!1,skipLibCheck:!0,esModuleInterop:!1,allowSyntheticDefaultImports:!0,strict:!0,forceConsistentCasingInFileNames:!0,module:"ESNext",moduleResolution:"Node",resolveJsonModule:!0,isolatedModules:!0,noEmit:!0,jsx:"react-jsx"},include:["src"],references:[{path:"./tsconfig.node.json"}]},null,2)},"/tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node",allowSyntheticDefaultImports:!0},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"tsc && vite build",preview:"vite preview"},dependencies:{react:"^18.2.0","react-dom":"^18.2.0"},devDependencies:{"@types/react":"^18.0.28","@types/react-dom":"^18.0.11","@vitejs/plugin-react":"^3.1.0",typescript:"^4.9.5",vite:"4.1.4","esbuild-wasm":"^0.17.12"}},null,2)},"/vite-env.d.ts":{code:'/// <reference types="vite/client" />'},"/vite.config.ts":{code:"import { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react'\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n})\n"}}),main:"/App.tsx",environment:"node"},Jf={files:{"/src/styles.css":Vf["/styles.css"],"/src/App.svelte":{code:'<script>\nconst data = "world";\n<\/script>\n\n<h1>Hello {data}</h1>\n\n<style>\nh1 {\n  font-size: 1.5rem;\n}\n</style>'},"/src/main.js":{code:"import App from './App.svelte'\nimport \"./styles.css\"\n\nconst app = new App({\n  target: document.getElementById('app'),\n})\n\nexport default app"},"/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite App</title>\n  </head>\n  <body>\n    <div id="app"></div>\n    <script type="module" src="/src/main.js"><\/script>\n  </body>\n</html>\n'},"/vite.config.js":{code:"import { defineConfig } from 'vite'\nimport { svelte } from '@sveltejs/vite-plugin-svelte'\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [svelte()],\n})"},"/package.json":{code:JSON.stringify({type:"module",scripts:{dev:"vite"},devDependencies:{"@sveltejs/vite-plugin-svelte":"^2.0.2",svelte:"^3.55.1",vite:"4.0.4","esbuild-wasm":"^0.17.12"}})}},main:"/src/App.svelte",environment:"node"},em={files:{"/src/styles.css":Vf["/styles.css"],"/src/App.svelte":{code:'<script lang="ts">\nconst data: string = "world";\n<\/script>\n\n<h1>Hello {data}</h1>\n\n<style>\nh1 {\n  font-size: 1.5rem;\n}\n</style>'},"/src/main.ts":{code:"import App from './App.svelte'\nimport \"./styles.css\"\n\nconst app = new App({\n  target: document.getElementById('app'),\n})\n\nexport default app"},"/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite App</title>\n  </head>\n  <body>\n    <div id="app"></div>\n    <script type="module" src="/src/main.ts"><\/script>\n  </body>\n</html>\n'},"/vite-env.d.ts":{code:'/// <reference types="svelte" />\n/// <reference types="vite/client" />'},"svelte.config.js":{code:"import { vitePreprocess } from '@sveltejs/vite-plugin-svelte'\n\nexport default {\n  // Consult https://svelte.dev/docs#compile-time-svelte-preprocess\n  // for more information about preprocessors\n  preprocess: vitePreprocess(),\n}\n"},"/vite.config.ts":{code:"import { defineConfig } from 'vite'\nimport { svelte } from '@sveltejs/vite-plugin-svelte'\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [svelte()],\n})"},"tsconfig.json":{code:JSON.stringify({extends:"@tsconfig/svelte/tsconfig.json",compilerOptions:{target:"ESNext",useDefineForClassFields:!0,module:"ESNext",resolveJsonModule:!0,allowJs:!0,checkJs:!0,isolatedModules:!0},include:["src/**/*.d.ts","src/**/*.ts","src/**/*.js","src/**/*.svelte"],references:[{path:"./tsconfig.node.json"}]},null,2)},"tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node"},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({type:"module",scripts:{dev:"vite"},devDependencies:{"@sveltejs/vite-plugin-svelte":"^2.0.2","@tsconfig/svelte":"^3.0.0",svelte:"^3.55.1","svelte-check":"^2.10.3",tslib:"^2.5.0",vite:"4.1.4","esbuild-wasm":"^0.17.12"}},null,2)}},main:"/src/App.svelte",environment:"node"},tm={files:{"/src/styles.css":Vf["/styles.css"],"/src/App.vue":{code:'<script setup>\nimport { ref } from "vue";\n\nconst data = ref("world");\n<\/script>\n\n<template>\n  <h1>Hello {{ data }}</h1>\n</template>\n\n<style>\nh1 {\n  font-size: 1.5rem;\n}\n</style>'},"/src/main.js":{code:"import { createApp } from 'vue'\nimport App from './App.vue'\nimport \"./styles.css\"\n            \ncreateApp(App).mount('#app')            \n"},"/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite App</title>\n  </head>\n  <body>\n    <div id="app"></div>\n    <script type="module" src="/src/main.js"><\/script>\n  </body>\n</html>\n'},"/vite.config.js":{code:"import { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [vue()]\n})\n"},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},dependencies:{vue:"^3.2.45"},devDependencies:{"@vitejs/plugin-vue":"3.2.0",vite:"4.1.4","esbuild-wasm":"0.17.12"}})}},main:"/src/App.vue",environment:"node"},nm={files:{"/src/styles.css":Vf["/styles.css"],"/src/App.vue":{code:'<script setup lang="ts">\nimport { ref } from "vue";\n\nconst data = ref<string>("world");\n<\/script>\n\n<template>\n  <h1>Hello {{ data }}</h1>\n</template>\n\n<style>\nh1 {\n  font-size: 1.5rem;\n}\n</style>'},"/src/main.ts":{code:"import { createApp } from 'vue'\nimport App from './App.vue'\nimport \"./styles.css\"\n\ncreateApp(App).mount('#app')\n"},"/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite App</title>\n  </head>\n  <body>\n    <div id="app"></div>\n    <script type="module" src="/src/main.ts"><\/script>\n  </body>\n</html>\n'},"/vite-env.d.ts":{code:'/// <reference types="vite/client" />'},"/vite.config.ts":{code:"import { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [vue()]\n})\n"},"tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"ESNext",useDefineForClassFields:!0,module:"ESNext",moduleResolution:"Node",strict:!0,jsx:"preserve",resolveJsonModule:!0,isolatedModules:!0,esModuleInterop:!0,lib:["ESNext","DOM"],skipLibCheck:!0,noEmit:!0},include:["src/**/*.ts","src/**/*.d.ts","src/**/*.tsx","src/**/*.vue"],references:[{path:"./tsconfig.node.json"}]},null,2)},"tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node",allowSyntheticDefaultImports:!0},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"tsc && vite build",preview:"vite preview"},dependencies:{vue:"^3.2.47"},devDependencies:{"@vitejs/plugin-vue":"^4.0.0",vite:"4.1.4","vue-tsc":"^1.2.0",typescript:"^4.9.5","esbuild-wasm":"^0.17.12"}},null,2)}},main:"/src/App.vue",environment:"node"},rm={files:{"/src/app/app.component.css":Vf["/styles.css"],"/src/app/app.component.html":{code:"<div>\n<h1>{{ helloWorld }}</h1>\n</div>     \n"},"/src/app/app.component.ts":{code:'import { Component } from "@angular/core";\n\n@Component({\n  selector: "app-root",\n  templateUrl: "./app.component.html",\n  styleUrls: ["./app.component.css"]\n})\nexport class AppComponent {\n  helloWorld = "Hello world";\n}           \n'},"/src/app/app.module.ts":{code:'import { BrowserModule } from "@angular/platform-browser";\nimport { NgModule } from "@angular/core";\n      \nimport { AppComponent } from "./app.component";\n      \n@NgModule({\n  declarations: [AppComponent],\n  imports: [BrowserModule],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}       \n'},"/src/index.html":{code:'<!doctype html>\n<html lang="en">\n      \n<head>\n  <meta charset="utf-8">\n  <title>Angular</title>\n  <base href="/">\n      \n  <meta name="viewport" content="width=device-width, initial-scale=1">\n  <link rel="icon" type="image/x-icon" href="favicon.ico">\n</head>\n      \n<body>\n   <app-root></app-root>\n</body>\n      \n</html>\n'},"/src/main.ts":{code:'import { enableProdMode } from "@angular/core";\nimport { platformBrowserDynamic } from "@angular/platform-browser-dynamic";\n      \nimport { AppModule } from "./app/app.module";      \n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n      \n'},"/src/polyfills.ts":{code:'import "core-js/proposals/reflect-metadata";   \n      import "zone.js/dist/zone";\n'},"/package.json":{code:JSON.stringify({dependencies:{"@angular/core":"^11.2.0","@angular/platform-browser":"^11.2.0","@angular/platform-browser-dynamic":"^11.2.0","@angular/common":"^11.2.0","@angular/compiler":"^11.2.0","zone.js":"0.11.3","core-js":"3.8.3",rxjs:"6.6.3"},main:"/src/main.ts"})}},main:"/src/app/app.component.ts",environment:"angular-cli"},im={files:nf(nf({},Vf),{"/App.js":{code:"export default function App() {\n  return <h1>Hello world</h1>\n}\n"},"/index.js":{code:'import React, { StrictMode } from "react";\nimport { createRoot } from "react-dom/client";\nimport "./styles.css";\n\nimport App from "./App";\n\nconst root = createRoot(document.getElementById("root"));\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);'},"/public/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Document</title>\n  </head>\n  <body>\n    <div id="root"></div>\n  </body>\n</html>'},"/package.json":{code:JSON.stringify({dependencies:{react:"^18.0.0","react-dom":"^18.0.0","react-scripts":"^5.0.0"},main:"/index.js"})}}),main:"/App.js",environment:"create-react-app"},om={files:nf(nf({},Vf),{"tsconfig.json":{code:'{\n  "include": [\n    "./**/*"\n  ],\n  "compilerOptions": {\n    "strict": true,\n    "esModuleInterop": true,\n    "lib": [ "dom", "es2015" ],\n    "jsx": "react-jsx"\n  }\n}'},"/App.tsx":{code:"export default function App(): JSX.Element {\n  return <h1>Hello world</h1>\n}\n"},"/index.tsx":{code:'import React, { StrictMode } from "react";\nimport { createRoot } from "react-dom/client";\nimport "./styles.css";\n\nimport App from "./App";\n\nconst root = createRoot(document.getElementById("root"));\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);'},"/public/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Document</title>\n  </head>\n  <body>\n    <div id="root"></div>\n  </body>\n</html>'},"/package.json":{code:JSON.stringify({dependencies:{react:"^18.0.0","react-dom":"^18.0.0","react-scripts":"^4.0.0"},devDependencies:{"@types/react":"^18.0.0","@types/react-dom":"^18.0.0",typescript:"^4.0.0"},main:"/index.tsx"})}}),main:"/App.tsx",environment:"create-react-app"},sm={files:nf(nf({},Vf),{"/App.tsx":{code:'import { Component } from "solid-js";\n\nconst App: Component = () => {\n  return <h1>Hello world</h1>\n};\n\nexport default App;'},"/index.tsx":{code:'import { render } from "solid-js/web";\nimport App from "./App";\n\nimport "./styles.css";\n\nrender(() => <App />, document.getElementById("app"));'},"/index.html":{code:'<html>\n<head>\n  <title>Parcel Sandbox</title>\n  <meta charset="UTF-8" />\n</head>\n<body>\n  <div id="app"></div>\n  <script src="src/index.tsx"><\/script>\n</body>\n</html>'},"/package.json":{code:JSON.stringify({dependencies:{"solid-js":"1.3.15"},main:"/index.tsx"})}}),main:"/App.tsx",environment:"solid"},am={files:nf(nf({},Vf),{"/App.svelte":{code:"<style>\n  h1 {\n    font-size: 1.5rem;\n  }\n</style>\n\n<script>\n  let name = 'world';\n<\/script>\n\n<main>\n  <h1>Hello {name}</h1>\n</main>"},"/index.js":{code:'import App from "./App.svelte";\nimport "./styles.css";\n\nconst app = new App({\n  target: document.body\n});\n\nexport default app;\n      '},"/public/index.html":{code:'<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="utf8" />\n    <meta name="viewport" content="width=device-width" />\n\n    <title>Svelte app</title>\n\n    <link rel="stylesheet" href="public/bundle.css" />\n  </head>\n\n  <body>\n    <script src="bundle.js"><\/script>\n  </body>\n</html>'},"/package.json":{code:JSON.stringify({dependencies:{svelte:"^3.0.0"},main:"/index.js"})}}),main:"/App.svelte",environment:"svelte"},cm={files:{"tsconfig.json":{code:'{\n  "include": [\n    "./**/*"\n  ],\n  "compilerOptions": {\n    "strict": true,\n    "esModuleInterop": true,\n    "lib": [ "dom", "es2015" ],\n    "jsx": "react-jsx"\n  }\n}'},"/add.ts":{code:"export const add = (a: number, b: number): number => a + b;"},"/add.test.ts":{code:"import { add } from './add';\n\ndescribe('add', () => {\n  test('Commutative Law of Addition', () => {\n    expect(add(1, 2)).toBe(add(2, 1));\n  });\n});"},"package.json":{code:JSON.stringify({dependencies:{},devDependencies:{typescript:"^4.0.0"},main:"/add.ts"})}},main:"/add.test.ts",environment:"parcel",mode:"tests"},lm={files:nf(nf({},Vf),{"/index.js":{code:'import "./styles.css";\n\ndocument.getElementById("app").innerHTML = `\n<h1>Hello world</h1>\n`;\n'},"/index.html":{code:'<!DOCTYPE html>\n<html>\n\n<head>\n  <title>Parcel Sandbox</title>\n  <meta charset="UTF-8" />\n</head>\n\n<body>\n  <div id="app"></div>\n\n  <script src="index.js">\n  <\/script>\n</body>\n\n</html>'},"/package.json":{code:JSON.stringify({dependencies:{},main:"/index.js"})}}),main:"/index.js",environment:"parcel"},um={files:nf(nf({},Vf),{"tsconfig.json":{code:'{\n  "compilerOptions": {\n    "strict": true,\n    "module": "commonjs",\n    "jsx": "preserve",\n    "esModuleInterop": true,\n    "sourceMap": true,\n    "allowJs": true,\n    "lib": [\n      "es6",\n      "dom"\n    ],\n    "rootDir": "src",\n    "moduleResolution": "node"\n  }\n}'},"/index.ts":{code:'import "./styles.css";\n\ndocument.getElementById("app").innerHTML = `\n<h1>Hello world</h1>\n`;\n'},"/index.html":{code:'<!DOCTYPE html>\n<html>\n\n<head>\n  <title>Parcel Sandbox</title>\n  <meta charset="UTF-8" />\n</head>\n\n<body>\n  <div id="app"></div>\n\n  <script src="index.ts">\n  <\/script>\n</body>\n\n</html>'},"/package.json":{code:JSON.stringify({dependencies:{},devDependencies:{typescript:"^4.0.0"},main:"/index.ts"})}}),main:"/index.ts",environment:"parcel"},dm={files:{"/src/styles.css":Vf["/styles.css"],"/src/App.vue":{code:"<template>\n  <h1>Hello {{ msg }}</h1>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nconst msg = ref('world');\n<\/script>"},"/src/main.js":{code:"import { createApp } from 'vue'\nimport App from './App.vue'\nimport \"./styles.css\";\n\ncreateApp(App).mount('#app')\n"},"/public/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <meta name="viewport" content="width=device-width,initial-scale=1.0" />\n    <title>codesandbox</title>\n  </head>\n  <body>\n    <noscript>\n      <strong\n        >We\'re sorry but codesandbox doesn\'t work properly without JavaScript\n        enabled. Please enable it to continue.</strong\n      >\n    </noscript>\n    <div id="app"></div>\n    \x3c!-- built files will be auto injected --\x3e\n  </body>\n</html>\n'},"/package.json":{code:JSON.stringify({name:"vue3",version:"0.1.0",private:!0,main:"/src/main.js",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.26.1",vue:"^3.2.45"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-service":"^5.0.8"}})}},main:"/src/App.vue",environment:"vue-cli"},hm={files:{"/src/styles.css":Vf["/styles.css"],"/src/App.vue":{code:"<template>\n  <h1>Hello {{ msg }}</h1>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue';\nconst msg = ref<string>('world');\n<\/script>"},"/src/main.ts":{code:"import { createApp } from 'vue'\nimport App from './App.vue'\nimport \"./styles.css\";\n\ncreateApp(App).mount('#app')\n"},"/src/shims-vue.d.ts":'/* eslint-disable */\ndeclare module "*.vue" {\n  import type { DefineComponent } from "vue";\n  const component: DefineComponent<{}, {}, any>;\n  export default component;\n}',"/public/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <meta name="viewport" content="width=device-width,initial-scale=1.0" />\n    <title>codesandbox</title>\n  </head>\n  <body>\n    <noscript>\n      <strong\n        >We\'re sorry but codesandbox doesn\'t work properly without JavaScript\n        enabled. Please enable it to continue.</strong\n      >\n    </noscript>\n    <div id="app"></div>\n    \x3c!-- built files will be auto injected --\x3e\n  </body>\n</html>\n'},"/package.json":{code:JSON.stringify({name:"vue3-ts",version:"0.1.0",private:!0,main:"/src/main.ts",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.26.1",vue:"^3.2.45"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-plugin-typescript":"^5.0.8","@vue/cli-service":"^5.0.8",typescript:"^4.9.3"}})},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"esnext",module:"esnext",strict:!0,jsx:"preserve",moduleResolution:"node",experimentalDecorators:!0,skipLibCheck:!0,esModuleInterop:!0,allowSyntheticDefaultImports:!0,forceConsistentCasingInFileNames:!0,useDefineForClassFields:!0,sourceMap:!1,baseUrl:".",types:["webpack-env"],paths:{"@/*":["src/*"]},lib:["esnext","dom","dom.iterable","scripthost"]},include:["src/**/*.ts","src/**/*.tsx","src/**/*.vue","tests/**/*.ts","tests/**/*.tsx"],exclude:["node_modules"]})}},main:"/src/App.vue",environment:"vue-cli"},pm={static:{files:nf(nf({},Vf),{"/index.html":{code:'<!DOCTYPE html>\n<html>\n\n<head>\n  <title>Parcel Sandbox</title>\n  <meta charset="UTF-8" />\n  <link rel="stylesheet" href="/styles.css" />\n</head>\n\n<body>\n  <h1>Hello world</h1>\n</body>\n\n</html>'},"/package.json":{code:JSON.stringify({dependencies:{},main:"/index.html"})}}),main:"/index.html",environment:"static"},angular:rm,react:im,"react-ts":om,solid:sm,svelte:am,"test-ts":cm,"vanilla-ts":um,vanilla:lm,vue:dm,"vue-ts":hm,node:qf,nextjs:Uf,vite:Yf,"vite-react":Gf,"vite-react-ts":Kf,"vite-preact":Xf,"vite-preact-ts":Hf,"vite-vue":tm,"vite-vue-ts":nm,"vite-svelte":Jf,"vite-svelte-ts":em,astro:Wf},fm=function(e){var t,n,r,i,o,s,a=(0,J.f)(e.files),c=gm({template:e.template,customSetup:e.customSetup,files:a}),l=(0,J.f)(null!==(n=null===(t=e.options)||void 0===t?void 0:t.visibleFiles)&&void 0!==n?n:[]),u=(null===(r=e.options)||void 0===r?void 0:r.activeFile)?mm(null===(i=e.options)||void 0===i?void 0:i.activeFile,c.files):void 0;0===l.length&&a&&Object.keys(a).forEach((function(e){var t=a[e];"string"!=typeof t?(!u&&t.active&&(u=e,!0===t.hidden&&l.push(e)),t.hidden||l.push(e)):l.push(e)})),0===l.length&&(l=[c.main]),c.entry&&!c.files[c.entry]&&(c.entry=mm(c.entry,c.files)),!u&&c.main&&(u=c.main),u&&c.files[u]||(u=l[0]),l.includes(u)||l.push(u);var d=(0,J.d)(c.files,null!==(o=c.dependencies)&&void 0!==o?o:{},null!==(s=c.devDependencies)&&void 0!==s?s:{},c.entry);return{visibleFiles:l.filter((function(e){return d[e]})),activeFile:u,files:d,environment:c.environment,shouldUpdatePreview:!0}},mm=function(e,t){var n=(0,J.f)(t),r=(0,J.f)(e);if(r in n)return r;if(!e)return null;for(var i=null,o=0,s=[".js",".jsx",".ts",".tsx"];!i&&o<s.length;){var a=r.split(".")[0],c="".concat(a).concat(s[o]);void 0!==n[c]&&(i=c),o++}return i},gm=function(e){var t=e.files,n=e.template,r=e.customSetup;if(!n){if(!r){var i=pm.vanilla;return nf(nf({},i),{files:nf(nf({},i.files),ym(t))})}if(!t||0===Object.keys(t).length)throw new Error("[sandpack-react]: without a template, you must pass at least one file");return nf(nf({},r),{files:ym(t)})}var o=pm[n];if(!o)throw new Error('[sandpack-react]: invalid template "'.concat(n,'" provided'));return r||t?{files:ym(nf(nf({},o.files),t)),dependencies:nf(nf({},o.dependencies),null==r?void 0:r.dependencies),devDependencies:nf(nf({},o.devDependencies),null==r?void 0:r.devDependencies),entry:(0,J.f)(null==r?void 0:r.entry),main:o.main,environment:(null==r?void 0:r.environment)||o.environment}:o},ym=function(e){return e?Object.keys(e).reduce((function(t,n){return"string"==typeof e[n]?t[n]={code:e[n]}:t[n]=e[n],t}),{}):{}},vm=i.createContext(null),bm=function(e){var t,n,o=e.children,s=e.options,a=e.style,c=e.className,l=e.theme,u=function(e){var t=fm(e),n=(0,i.useState)(t),r=n[0],o=n[1],s=(0,i.useRef)(!1);(0,i.useEffect)((function(){s.current?o(fm(e)):s.current=!0}),[e.files,e.customSetup,e.template]);var a=function(e,t,n){void 0===n&&(n=!0),o((function(r){var i,o=r.files;return"string"==typeof e&&"string"==typeof t?o=nf(nf({},o),((i={})[e]={code:t},i)):"object"==typeof e&&(o=nf(nf({},o),ym(e))),nf(nf({},r),{files:(0,J.f)(o),shouldUpdatePreview:n})}))},c={openFile:function(e){o((function(t){var n=t.visibleFiles,r=rf(t,["visibleFiles"]),i=n.includes(e)?n:af(af([],n,!0),[e],!1);return nf(nf({},r),{activeFile:e,visibleFiles:i})}))},resetFile:function(e){o((function(n){var r;return nf(nf({},n),{files:nf(nf({},n.files),(r={},r[e]=t.files[e],r))})}))},resetAllFiles:function(){o((function(e){return nf(nf({},e),{files:t.files})}))},setActiveFile:function(e){r.files[e]&&o((function(t){return nf(nf({},t),{activeFile:e})}))},updateCurrentFile:function(e,t){void 0===t&&(t=!0),a(r.activeFile,e,t)},updateFile:a,addFile:a,closeFile:function(e){1!==r.visibleFiles.length&&o((function(t){var n=t.visibleFiles,r=t.activeFile,i=rf(t,["visibleFiles","activeFile"]),o=n.indexOf(e),s=n.filter((function(t){return t!==e}));return nf(nf({},i),{activeFile:e===r?0===o?n[1]:n[o-1]:r,visibleFiles:s})}))},deleteFile:function(e,t){void 0===t&&(t=!0),o((function(n){var r=n.visibleFiles,i=n.files,o=n.activeFile,s=rf(n,["visibleFiles","files","activeFile"]),a=nf({},i);delete a[e];var c=r.filter((function(t){return t!==e}));if(0===c.length){var l=Object.keys(i)[Object.keys(i).length-1];return nf(nf({},s),{visibleFiles:[l],activeFile:l,files:a,shouldUpdatePreview:t})}return nf(nf({},s),{visibleFiles:c,activeFile:e===o?c[c.length-1]:o,files:a,shouldUpdatePreview:t})}))}};return[nf(nf({},r),{visibleFilesFromProps:t.visibleFiles}),c]}(e),d=u[0],h=u[1],p=function(e,t){var n,r,o,s=e.options,a=e.customSetup,c=e.teamId,l=e.sandboxId;null!=s||(s={}),null!=a||(a={});var u=(null==s?void 0:s.initMode)||"lazy",d=(0,i.useState)({startRoute:null==s?void 0:s.startRoute,bundlerState:void 0,error:null,initMode:u,reactDevTools:void 0,status:null===(n=null==s?void 0:s.autorun)||void 0===n||n?"initial":"idle"}),h=d[0],p=d[1],f=(0,i.useRef)(),m=(0,i.useRef)(null),g=(0,i.useRef)(null),y=(0,i.useRef)({}),v=(0,i.useRef)({}),b=(0,i.useRef)(null),x=(0,i.useRef)({}),O=(0,i.useRef)(),w=(0,i.useRef)({global:{}}),S=(0,i.useRef)(),k=(0,i.useRef)(t.environment),_=(0,i.useCallback)((function(e,n,r){return of(void 0,void 0,void 0,(function(){var i,o,u,d,f;return sf(this,(function(m){switch(m.label){case 0:return v.current[n]&&v.current[n].destroy(),null!=s||(s={}),null!=a||(a={}),i=null!==(u=null==s?void 0:s.bundlerTimeOut)&&void 0!==u?u:4e4,b.current&&clearTimeout(b.current),"function"!=typeof O.current&&(b.current=setTimeout((function(){P(),p((function(e){return nf(nf({},e),{status:"timeout"})}))}),i)),[4,ee(e,{files:t.files,template:t.environment},{externalResources:s.externalResources,bundlerURL:s.bundlerURL,startRoute:null!==(d=null==r?void 0:r.startRoute)&&void 0!==d?d:s.startRoute,fileResolver:s.fileResolver,skipEval:null!==(f=s.skipEval)&&void 0!==f&&f,logLevel:s.logLevel,showOpenInCodeSandbox:!1,showErrorScreen:!0,showLoadingScreen:!1,reactDevTools:h.reactDevTools,customNpmRegistries:null==a?void 0:a.npmRegistries,teamId:c,sandboxId:l})];case 1:return o=m.sent(),"function"!=typeof O.current&&(O.current=o.listen(I)),x.current[n]=x.current[n]||{},w.current[n]&&(Object.keys(w.current[n]).forEach((function(e){var t=w.current[n][e],r=o.listen(t);x.current[n][e]=r})),w.current[n]={}),Object.entries(w.current.global).forEach((function(e){var t=e[0],r=e[1],i=o.listen(r);x.current[n][t]=i})),v.current[n]=o,[2]}}))}))}),[t.environment,t.files,h.reactDevTools]),P=(0,i.useCallback)((function(){Object.keys(v.current).map(j),"function"==typeof O.current&&(O.current(),O.current=void 0)}),[]),E=(0,i.useCallback)((function(){return of(void 0,void 0,void 0,(function(){return sf(this,(function(e){switch(e.label){case 0:return[4,Promise.all(Object.entries(y.current).map((function(e){var t=e[0],n=e[1],r=n.iframe,i=n.clientPropsOverride,o=void 0===i?{}:i;return of(void 0,void 0,void 0,(function(){return sf(this,(function(e){switch(e.label){case 0:return[4,_(r,t,o)];case 1:return e.sent(),[2]}}))}))})))];case 1:return e.sent(),p((function(e){return nf(nf({},e),{error:null,status:"running"})})),[2]}}))}))}),[_]);f.current=function(e){e.some((function(e){return e.isIntersecting}))?E():P()};var C=(0,i.useCallback)((function(){var e,t,n;if(null===(e=null==s?void 0:s.autorun)||void 0===e||e){var r=null!==(t=null==s?void 0:s.initModeObserverOptions)&&void 0!==t?t:{rootMargin:"1000px 0px"};m.current&&g.current&&(null===(n=m.current)||void 0===n||n.unobserve(g.current)),g.current&&"lazy"===h.initMode?(m.current=new IntersectionObserver((function(e){var t,n;e.some((function(e){return e.isIntersecting}))&&e.some((function(e){return e.isIntersecting}))&&g.current&&(null===(t=f.current)||void 0===t||t.call(f,e),null===(n=m.current)||void 0===n||n.unobserve(g.current))}),r),m.current.observe(g.current)):g.current&&"user-visible"===h.initMode?(m.current=new IntersectionObserver((function(e){var t;null===(t=f.current)||void 0===t||t.call(f,e)}),r),m.current.observe(g.current)):E()}}),[null==s?void 0:s.autorun,null==s?void 0:s.initModeObserverOptions,E,h.initMode,P]),T=(0,i.useCallback)((function(e,t,n){return of(void 0,void 0,void 0,(function(){return sf(this,(function(r){switch(r.label){case 0:return y.current[t]={iframe:e,clientPropsOverride:n},"running"!==h.status?[3,2]:[4,_(e,t,n)];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))}),[_,h.status]),j=function(e){var t,n,r=v.current[e];r?(r.destroy(),null===(t=r.iframe.contentWindow)||void 0===t||t.location.replace("about:blank"),r.iframe.removeAttribute("src"),delete v.current[e]):delete y.current[e],b.current&&clearTimeout(b.current),Object.values(null!==(n=x.current[e])&&void 0!==n?n:{}).forEach((function(e){Object.values(e).forEach((function(e){return e()}))}));var i=Object.keys(v.current).length>0?"running":"idle";p((function(e){return nf(nf({},e),{status:i})}))},I=function(e){"start"===e.type?p((function(e){return nf(nf({},e),{error:null})})):"state"===e.type?p((function(t){return nf(nf({},t),{bundlerState:e.state})})):"done"===e.type&&!e.compilatonError||"connected"===e.type?(b.current&&clearTimeout(b.current),p((function(e){return nf(nf({},e),{error:null})}))):"action"===e.type&&"show-error"===e.action?(b.current&&clearTimeout(b.current),p((function(t){return nf(nf({},t),{error:(0,J.e)(e)})}))):"action"===e.type&&"notification"===e.action&&"error"===e.notificationType&&p((function(t){return nf(nf({},t),{error:{message:e.title}})}))},M=null!==(r=null==s?void 0:s.recompileMode)&&void 0!==r?r:"delayed",A=null!==(o=null==s?void 0:s.recompileDelay)&&void 0!==o?o:200;return(0,i.useEffect)((function(){if("running"===h.status&&t.shouldUpdatePreview){if(k.current!==t.environment&&(k.current=t.environment,Object.entries(v.current).forEach((function(e){var t=e[0],n=e[1];T(n.iframe,t)}))),"immediate"===M&&Object.values(v.current).forEach((function(e){"done"===e.status&&e.updateSandbox({files:t.files,template:t.environment})})),"delayed"===M){if("undefined"==typeof window)return;window.clearTimeout(S.current),S.current=window.setTimeout((function(){Object.values(v.current).forEach((function(e){"done"===e.status&&e.updateSandbox({files:t.files,template:t.environment})}))}),A)}return function(){window.clearTimeout(S.current)}}}),[t.files,t.environment,t.shouldUpdatePreview,A,M,T,h.status]),(0,i.useEffect)((function(){u!==h.initMode&&(p((function(e){return nf(nf({},e),{initMode:u})})),C())}),[u,C,h.initMode]),(0,i.useEffect)((function(){return function(){"function"==typeof O.current&&O.current(),b.current&&clearTimeout(b.current),S.current&&clearTimeout(S.current),m.current&&m.current.disconnect()}}),[]),[h,{clients:v.current,initializeSandpackIframe:C,runSandpack:E,registerBundler:T,unregisterBundler:j,registerReactDevTools:function(e){p((function(t){return nf(nf({},t),{reactDevTools:e})}))},addListener:function(e,t){if(t){if(v.current[t])return v.current[t].listen(e);var n=Cf();return w.current[t]=w.current[t]||{},x.current[t]=x.current[t]||{},w.current[t][n]=e,function(){w.current[t][n]?delete w.current[t][n]:x.current[t][n]&&(x.current[t][n](),delete x.current[t][n])}}var r=Cf();w.current.global[r]=e;var i=Object.values(v.current).map((function(t){return t.listen(e)}));return function(){i.forEach((function(e){return e()})),delete w.current.global[r],Object.values(x.current).forEach((function(e){var t;null===(t=null==e?void 0:e[r])||void 0===t||t.call(e)}))}},dispatchMessage:function(e,t){"running"===h.status?t?v.current[t].dispatch(e):Object.values(v.current).forEach((function(t){t.dispatch(e)})):console.warn("[sandpack-react]: dispatch cannot be called while in idle mode")},lazyAnchorRef:g,unsubscribeClientListenersRef:x,queuedListenersRef:w}]}(e,d),f=p[0],m=p[1],g=m.dispatchMessage,y=m.addListener,v=rf(m,["dispatchMessage","addListener"]),b=function(e,t){var n=(0,i.useState)({editorState:"pristine",teamId:e.teamId}),r=n[0],o=n[1],s=fm(e),a=(0,K.j)(s.files,t)?"pristine":"dirty";return a!==r.editorState&&o((function(e){return nf(nf({},e),{editorState:a})})),r}(e,d.files);return i.useEffect((function(){v.initializeSandpackIframe()}),[]),(0,r.jsx)(vm.Provider,{value:nf(nf(nf(nf(nf(nf({},d),f),b),h),v),{autoReload:null===(n=null===(t=e.options)||void 0===t?void 0:t.autoReload)||void 0===n||n,listen:y,dispatch:g}),children:(0,r.jsx)(Lf,{classes:null==s?void 0:s.classes,children:(0,r.jsx)(Zf,{className:c,style:a,theme:l,children:o})})})};function xm(){var e=i.useContext(vm);if(null===e)throw new Error('[sandpack-react]: "useSandpack" must be wrapped by a "SandpackProvider"');var t=e.dispatch,n=e.listen,r=rf(e,["dispatch","listen"]);return{sandpack:nf({},r),dispatch:t,listen:n}}vm.Consumer;var Om,wm,Sm,km,_m,Pm,Em,Cm,Tm,jm=function(){var e,t,n,r=xm().sandpack;return{code:null===(e=r.files[r.activeFile])||void 0===e?void 0:e.code,readOnly:null!==(n=null===(t=r.files[r.activeFile])||void 0===t?void 0:t.readOnly)&&void 0!==n&&n,updateCode:r.updateCurrentFile}},Im=Af({svg:{margin:"auto"}}),Mm=Af(((Om={appearance:"none",outline:"none",display:"flex",alignItems:"center",fontSize:"inherit",fontFamily:"inherit",backgroundColor:"transparent",transition:"color $default, background $default",cursor:"pointer",color:"$colors$clickable",border:0,textDecoration:"none","&:disabled":{color:"$colors$disabled"},"&:hover:not(:disabled,[data-active='true'])":{color:"$colors$hover"},'&[data-active="true"]':{color:"$colors$accent"},svg:{minWidth:"$space$4",width:"$space$4",height:"$space$4"}})["&.".concat(Im)]={padding:"$space$1",height:"$space$7",display:"flex"},Om["&.".concat(Im,"&:not(:has(span))")]={width:"$space$7"},Om["&.".concat(Im,"&:has(svg + span)")]={paddingRight:"$space$3",paddingLeft:"$space$2",gap:"$space$1"},Om)),Am=Af({backgroundColor:"$colors$surface2",borderRadius:"99999px",border:"1px solid $colors$surface3",'&[data-active="true"]':{color:"$colors$surface1",background:"$colors$accent"},"&:hover:not(:disabled,[data-active='true'])":{backgroundColor:"$colors$surface3"}}),Dm=Af({padding:0}),$m=Df({"0%":{opacity:0},"100%":{opacity:1}}),Rm=Af({position:"absolute",bottom:"0",left:"0",right:"0",top:"0",margin:"0",overflow:"auto",height:"100%",zIndex:"$top"}),Nm=Af(((wm={whiteSpace:"pre-wrap",padding:"$space$10",backgroundColor:"$colors$surface1",display:"flex",gap:"$space$2",flexDirection:"column"})[".".concat(Mm)]={width:"auto",gap:"$space$2",padding:"0 $space$3 0 $space$2",marginTop:"$space$1"},wm.variants={solidBg:{true:{backgroundColor:"$colors$errorSurface"}}},wm)),Lm=Af(((Sm={padding:"$space$10",backgroundColor:"$colors$surface1"})[".".concat(Mm)]={marginTop:"$space$6",width:"auto",gap:"$space$2",padding:"0 $space$3 0 $space$2"},Sm)),Qm=Af({animation:"".concat($m," 150ms ease"),color:"$colors$error",display:"flex",flexDirection:"column",gap:"$space$3",variants:{errorCode:{true:{fontFamily:"$font$mono"}}},a:{color:"inherit"},p:{margin:0}}),zm=Af({borderBottom:"1px solid $colors$surface2",background:"$colors$surface1"}),Fm=Af({padding:"0 $space$2",overflow:"auto",display:"flex",flexWrap:"nowrap",alignItems:"stretch",minHeight:"40px",marginBottom:"-1px"}),Bm=Af({padding:"0 $space$1 0 $space$1",borderRadius:"$border$radius",marginLeft:"$space$1",width:"$space$5",visibility:"hidden",svg:{width:"$space$3",height:"$space$3",display:"block",position:"relative",top:1}}),Zm=Af(((km={padding:"0 $space$2",height:"$layout$headerHeight",whiteSpace:"nowrap","&:focus":{outline:"none"}})["&:hover > .".concat(Bm)]={visibility:"unset"},km)),Vm=function(e){var t=e.closableTabs,n=e.className,i=rf(e,["closableTabs","className"]),o=xm().sandpack,s=Qf(),a=o.activeFile,c=o.visibleFiles,l=o.setActiveFile,u=function(e){e.stopPropagation();var t=e.target.closest("[data-active]"),n=null==t?void 0:t.getAttribute("title");n&&o.closeFile(n)};return(0,r.jsx)("div",nf({className:s("tabs",[zm,n]),translate:"no"},i,{children:(0,r.jsx)("div",{"aria-label":"Select active file",className:s("tabs-scrollable-container",[Fm]),role:"tablist",children:c.map((function(e){return(0,r.jsxs)("button",{"aria-selected":e===a,className:s("tab-button",[Mm,Zm]),"data-active":e===a,onClick:function(){return l(e)},role:"tab",title:e,type:"button",children:[(n=e,i=_f(n),o=c.reduce((function(e,t){return t===n?e:_f(t)===i?(e.push(t),e):e}),[]),0===o.length?i:function(e,t){var n=("/"===e[0]?e.slice(1):e).split("/"),r=[];if(1===n.length)r.unshift(n[0]);else for(var i=0;i<t.length;i++)for(var o=t[i].split("/"),s=1;s<=n.length;s++){var a=n[n.length-s],c=o[o.length-s];if(r.length<s&&r.unshift(a),a!==c)break}return r.length<n.length&&r.unshift(".."),r.join("/")}(n,o)),t&&c.length>1&&(0,r.jsx)("span",{className:s("close-button",[Bm]),onClick:u,children:(0,r.jsx)(xf,{})})]},e);var n,i,o}))})}))},Wm=function(e){var t=e.onClick,n=e.className,i=e.children,o=Qf();return(0,r.jsx)("button",{className:o("button",[o("icon-standalone"),Mm,Im,Am,n]),onClick:t,type:"button",children:i})},Um=Af({position:"absolute",bottom:"$space$2",right:"$space$2",paddingRight:"$space$3"}),qm=function(e){e.className;var t=e.onClick,n=rf(e,["className","onClick"]),i=xm().sandpack;return(0,r.jsxs)(Wm,nf({className:Um.toString(),onClick:function(e){i.runSandpack(),null==t||t(e)}},n,{children:[(0,r.jsx)(ff,{}),(0,r.jsx)("span",{children:"Run"})]}))},Ym=Af(((_m={display:"flex",flexDirection:"column",width:"100%",position:"relative",backgroundColor:"$colors$surface1",gap:1})["&:has(.".concat(If,"-stack)")]={backgroundColor:"$colors$surface2"},_m)),Xm=function(e){var t=e.className,n=rf(e,["className"]),i=Qf();return(0,r.jsx)("div",nf({className:i("stack",[Ym,t])},n))},Hm=function(e,t){if(e.length!==t.length)return!1;for(var n=!0,r=0;r<e.length;r++)if(e[r]!==t[r]){n=!1;break}return n},Gm=function(e,t){var n=t.line,r=t.column;return e.line(n).from+(null!=r?r:0)-1},Km=function(e){return"".concat(If,"-syntax-").concat(e)},Jm=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.useCallback((function(t){return e.forEach((function(e){if(e)return"function"==typeof e?e(t):void(e.current=t)}))}),e)},eg=Gn.line({attributes:{class:"cm-errorLine"}}),tg=Or.fromClass(function(){function e(){this.decorations=Gn.none}return e.prototype.update=function(e){var t=this;e.transactions.forEach((function(n){var r=n.annotation("show-error");if(void 0!==r){var i=Gm(e.view.state.doc,{line:r})+1;t.decorations=Gn.set([eg.range(i)])}else n.annotation("remove-errors")&&(t.decorations=Gn.none)}))},e}(),{decorations:function(e){return e.decorations}}),ng=Af({margin:"0",display:"block",fontFamily:"$font$mono",fontSize:"$font$size",color:"$syntax$color$plain",lineHeight:"$font$lineHeight"}),rg=Af(["string","plain","comment","keyword","definition","punctuation","property","tag","static"].reduce((function(e,t){var n;return nf(nf({},e),((n={})[".".concat(Km(t))]={color:"$syntax$color$".concat(t),fontStyle:"$syntax$fontStyle$".concat(t)},n))}),{})),ig=Af(((Pm={flex:1,position:"relative",overflow:"auto",background:"$colors$surface1",".cm-scroller":{padding:"$space$4 0"}})[".".concat(ng)]={padding:"$space$4 0"},Pm["@media screen and (max-width: 768px)"]={"@supports (-webkit-overflow-scrolling: touch)":{".cm-content":{fontSize:"16px"}}},Pm)),og=Af({margin:"0",outline:"none",height:"100%"}),sg=Af(((Em={fontFamily:"$font$mono",fontSize:"0.8em",position:"absolute",right:"$space$2",bottom:"$space$2",zIndex:"$top",color:"$colors$clickable",backgroundColor:"$colors$surface2",borderRadius:"99999px",padding:"calc($space$1 / 2) $space$2"})["& + .".concat(Mm)]={right:"calc($space$11 * 2)"},Em)),ag=i.forwardRef((function(e,t){var n=e.code,o=void 0===n?"":n,s=e.filePath,a=e.fileType,c=e.onCodeUpdate,l=e.showLineNumbers,u=void 0!==l&&l,d=e.showInlineErrors,h=void 0!==d&&d,p=e.wrapContent,f=void 0!==p&&p,m=e.editorState,g=void 0===m?"pristine":m,y=e.readOnly,v=void 0!==y&&y,b=e.showReadOnly,x=void 0===b||b,O=e.decorators,w=e.initMode,S=void 0===w?"lazy":w,k=e.extensions,_=void 0===k?[]:k,P=e.extensionsKeymap,E=void 0===P?[]:P,C=e.additionalLanguages,T=void 0===C?[]:C,j=i.useRef(null),I=Jm(j,t),M=i.useRef(),A=function(){var e=i.useContext(Bf);return{theme:e.theme,themeId:e.id,themeMode:e.mode}}(),D=A.theme,$=A.themeId,R=i.useState(o),N=R[0],L=R[1],Q=i.useState("immediate"===S),z=Q[0],F=Q[1],B=Qf(),Z=xm(),V=Z.listen,W=Z.sandpack.autoReload,U=i.useRef([]),q=i.useRef([]),Y=function(e,t={}){const{root:n=null,pollInterval:r=null,useMutationObserver:o=!1,rootMargin:s="0px 0px 0px 0px",threshold:a=0,initialIsIntersecting:c=!1}=t,[l,u]=i.useState((()=>({boundingClientRect:null,intersectionRatio:0,intersectionRect:null,isIntersecting:c,rootBounds:null,target:null,time:0}))),[d,h]=i.useState((()=>dd({root:n,pollInterval:r,useMutationObserver:o,rootMargin:s,threshold:a})));return i.useEffect((()=>{const e=dd({root:n,pollInterval:r,useMutationObserver:o,rootMargin:s,threshold:a});h(e)}),[n,s,r,o,JSON.stringify(a)]),ld((()=>{const t=e&&"current"in e?e.current:e;if(!d||!t)return;let n=!1;d.observer.observe(t);const r=e=>{if(!n)for(let n=0;n<e.length;n++){const r=e[n];r.target===t&&u(r)}};return d.subscribe(r),()=>{n=!0,d.observer.unobserve(t),d.unsubscribe(r)}}),[e,d]),l}(j,{rootMargin:"600px 0px",threshold:.2}).isIntersecting;i.useImperativeHandle(t,(function(){return{getCodemirror:function(){return M.current}}})),i.useEffect((function(){("lazy"===S||"user-visible"===S)&&Y&&F(!0)}),[S,Y]);var X=function(e,t,n){if(!e&&!t)return"javascript";var r=t;if(!r&&e){var i=e.lastIndexOf(".");r=e.slice(i+1)}for(var o=0,s=n;o<s.length;o++){var a=s[o];if(r===a.name||a.extensions.includes(r||""))return a.name}switch(r){case"ts":case"tsx":return"typescript";case"html":case"svelte":case"vue":case"astro":return"html";case"css":case"less":case"scss":return"css";default:return"javascript"}}(s,a,T),H=function(e,t){for(var n={javascript:Sp({jsx:!0,typescript:!1}),typescript:Sp({jsx:!0,typescript:!0}),html:Hp(),css:lh()},r=0,i=t;r<i.length;r++){var o=i[r];if(e===o.name)return o.language}return n[e]}(X,T),G=function(e){return wc.define([{tag:za.link,textDecoration:"underline"},{tag:za.emphasis,fontStyle:"italic"},{tag:za.strong,fontWeight:"bold"},{tag:za.keyword,class:Km("keyword")},{tag:[za.atom,za.number,za.bool],class:Km("static")},{tag:za.variableName,class:Km("plain")},{tag:za.standard(za.tagName),class:Km("tag")},{tag:[za.function(za.variableName),za.definition(za.function(za.variableName)),za.tagName],class:Km("definition")},{tag:za.propertyName,class:Km("property")},{tag:[za.literal,za.inserted],class:Km(e.syntax.string?"string":"static")},{tag:za.punctuation,class:Km("punctuation")},{tag:[za.comment,za.quote],class:Km("comment")}])}(D),K=function(e){var t=e.highlightTheme,n=e.code,r=void 0===n?"":n,o=e.langSupport.language.parser.parse(r),s=0,a=[],c=function(e,t){if(e>s){var n=r.slice(s,e);a.push(t?(0,i.createElement)("span",{children:n,className:t,key:"".concat(e).concat(s)}):n),s=e}};return Sa(o,t,(function(e,t,n){c(e,""),c(t,n)})),s<r.length&&(null==r?void 0:r.includes("\n"))&&a.push("\n\n"),a}({langSupport:H,highlightTheme:G,code:o}),J=i.useMemo((function(){return O?O.sort((function(e,t){return e.line-t.line})):O}),[O]);i.useEffect((function(){if(j.current&&z){var e,t=[{key:"Tab",run:function(e){var t,n;od(e);var r=E.find((function(e){return"Tab"===e.key}));return null===(n=null===(t=null==r?void 0:r.run)||void 0===t?void 0:t.call(r,e))||void 0===n||n}},{key:"Shift-Tab",run:function(e){var t,n,r=e.state,i=e.dispatch;sd({state:r,dispatch:i});var o=E.find((function(e){return"Shift-Tab"===e.key}));return null===(n=null===(t=null==o?void 0:o.run)||void 0===t?void 0:t.call(o,a))||void 0===n||n}},{key:"Escape",run:function(){return v||j.current&&j.current.focus(),!0}},{key:"mod-Backspace",run:Gu}],n=af(af([es(),ql(),[_l,xl]],_,!0),[Bo.of(af(af(af(af(af([],Pl,!0),cd,!0),uu,!0),t,!0),E,!0)),H,Do.theme({"&":{backgroundColor:"var(--".concat(If,"-colors-surface1)"),color:"var(--".concat(If,"-syntax-color-plain)"),height:"100%"},".cm-matchingBracket, .cm-nonmatchingBracket, &.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{color:"inherit",backgroundColor:"rgba(128,128,128,.25)",backgroundBlendMode:"difference"},"&.cm-editor.cm-focused":{outline:"none"},".cm-activeLine":{backgroundColor:"var(--".concat(If,"-colors-surface3)"),borderRadius:"var(--".concat(If,"-border-radius)")},".cm-errorLine":{backgroundColor:"var(--".concat(If,"-colors-errorSurface)"),borderRadius:"var(--".concat(If,"-border-radius)")},".cm-content":{caretColor:"var(--".concat(If,"-colors-accent)"),padding:"0 var(--".concat(If,"-space-4)")},".cm-scroller":{fontFamily:"var(--".concat(If,"-font-mono)"),lineHeight:"var(--".concat(If,"-font-lineHeight)")},".cm-gutters":{backgroundColor:"var(--".concat(If,"-colors-surface1)"),color:"var(--".concat(If,"-colors-disabled)"),border:"none",paddingLeft:"var(--".concat(If,"-space-1)")},".cm-gutter.cm-lineNumbers":{fontSize:".6em"},".cm-lineNumbers .cm-gutterElement":{lineHeight:"var(--".concat(If,"-font-lineHeight)"),minWidth:"var(--".concat(If,"-space-5)")},".cm-content .cm-line":{paddingLeft:"var(--".concat(If,"-space-1)")},".cm-content.cm-readonly .cm-line":{paddingLeft:0}}),Pc(G)],!1);v?(n.push(bt.readOnly.of(!0)),n.push(Do.editable.of(!1))):(n.push(function(e={}){return[Mc.of(e),Nc]}()),n.push(os)),J&&n.push((e=J,Or.fromClass(function(){function t(e){this.decorations=this.getDecoration(e)}return t.prototype.update=function(e){},t.prototype.getDecoration=function(t){if(!e)return Gn.none;var n=e.map((function(e){var n,r,i,o=Gn.line({attributes:{class:null!==(n=e.className)&&void 0!==n?n:""}}),s=Gn.mark({class:null!==(r=e.className)&&void 0!==r?r:"",attributes:null!==(i=e.elementAttributes)&&void 0!==i?i:void 0}),a=Gm(t.state.doc,{line:e.line,column:e.startColumn})+1;if(e.startColumn&&e.endColumn){var c=Gm(t.state.doc,{line:e.line,column:e.endColumn})+1;return s.range(a,c)}return o.range(a)}));return Gn.set(n)},t}(),{decorations:function(e){return e.decorations}}))),f&&n.push(Do.lineWrapping),u&&n.push(function(e={}){return[vs.of(e),us(),Os]}()),h&&n.push(tg);var r=j.current,i=r.querySelector(".sp-pre-placeholder");i&&r.removeChild(i);var a=new Do({doc:o,extensions:n,parent:r,dispatch:function(e){if(a.update([e]),e.docChanged){var t=e.newDoc.sliceString(0,e.newDoc.length);L(t),null==c||c(t)}}});return a.contentDOM.setAttribute("data-gramm","false"),a.contentDOM.setAttribute("data-lt-active","false"),a.contentDOM.setAttribute("aria-label",s?"Code Editor for ".concat(_f(s)):"Code Editor"),v?a.contentDOM.classList.add("cm-readonly"):a.contentDOM.setAttribute("tabIndex","-1"),M.current=a,function(){var e;null===(e=M.current)||void 0===e||e.destroy()}}}),[z,u,f,$,J,v,W]),i.useEffect((function(){var e=M.current,t=!Hm(_,U.current)||!Hm(E,q.current);e&&t&&(e.dispatch({effects:ct.appendConfig.of(_)}),e.dispatch({effects:ct.appendConfig.of(Bo.of(af([],E,!0)))}),U.current=_,q.current=E)}),[_,E]),i.useEffect((function(){M.current&&"dirty"===g&&window.matchMedia("(min-width: 768px)").matches&&M.current.contentDOM.focus()}),[]),i.useEffect((function(){if(M.current&&"string"==typeof o&&o!==N){var e=M.current,t=e.state.selection.ranges.some((function(e){var t=e.to,n=e.from;return t>o.length||n>o.length}))?Ae.cursor(o.length):e.state.selection,n={from:0,to:e.state.doc.length,insert:o};e.dispatch({changes:n,selection:t})}}),[o]),i.useEffect((function(){if(h){var e=V((function(e){var t=M.current;"success"===e.type?null==t||t.dispatch({annotations:[new ot("remove-errors",!0)]}):"action"===e.type&&"show-error"===e.action&&e.path===s&&e.line&&(null==t||t.dispatch({annotations:[new ot("show-error",e.line)]}))}));return function(){return e()}}}),[V,h]);var ee=function(){var e=4;return u&&(e+=6),v||(e+=1),"var(--".concat(If,"-space-").concat(e,")")};return v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("pre",{ref:I,className:B("cm",[B(g),B(X),og,rg]),translate:"no",children:(0,r.jsx)("code",{className:B("pre-placeholder",[ng]),style:{marginLeft:ee()},children:K})}),v&&x&&(0,r.jsx)("span",nf({className:B("read-only",[sg])},{},{children:"Read-only"}))]}):(0,r.jsx)("div",{ref:I,"aria-autocomplete":"list","aria-label":s?"Code Editor for ".concat(_f(s)):"Code Editor","aria-multiline":"true",className:B("cm",[B(g),B(X),og,rg]),onKeyDown:function(e){"Enter"===e.key&&M.current&&(e.preventDefault(),M.current.contentDOM.focus())},role:"textbox",tabIndex:0,translate:"no",suppressHydrationWarning:!0,children:(0,r.jsx)("pre",{className:B("pre-placeholder",[ng]),style:{marginLeft:ee()},children:K})})})),cg=(0,i.forwardRef)((function(e,t){var n=e.showTabs,i=e.showLineNumbers,o=void 0!==i&&i,s=e.showInlineErrors,a=void 0!==s&&s,c=e.showRunButton,l=void 0===c||c,u=e.wrapContent,d=void 0!==u&&u,h=e.closableTabs,p=void 0!==h&&h,f=e.initMode,m=e.extensions,g=e.extensionsKeymap,y=e.readOnly,v=e.showReadOnly,b=e.additionalLanguages,x=e.className,O=rf(e,["showTabs","showLineNumbers","showInlineErrors","showRunButton","wrapContent","closableTabs","initMode","extensions","extensionsKeymap","readOnly","showReadOnly","additionalLanguages","className"]),w=xm().sandpack,S=jm(),k=S.code,_=S.updateCode,P=S.readOnly,E=w.activeFile,C=w.status,T=w.editorState,j=null!=n?n:w.visibleFiles.length>1,I=Qf();return(0,r.jsxs)(Xm,nf({className:I("editor",[x])},O,{children:[j&&(0,r.jsx)(Vm,{closableTabs:p}),(0,r.jsxs)("div",{className:I("code-editor",[ig]),children:[(0,r.jsx)(ag,{ref:t,additionalLanguages:b,code:k,editorState:T,extensions:m,extensionsKeymap:g,filePath:E,initMode:f||w.initMode,onCodeUpdate:function(e){var t;return function(e,t){void 0===t&&(t=!0),_(e,t)}(e,null===(t=w.autoReload)||void 0===t||t)},readOnly:y||P,showInlineErrors:a,showLineNumbers:o,showReadOnly:v,wrapContent:d},E),!l||w.autoReload&&"idle"!==C?null:(0,r.jsx)(qm,{})]})]}))})),lg=(i.forwardRef((function(e,t){var n=e.showTabs,i=e.showLineNumbers,o=e.decorators,s=e.code,a=e.initMode,c=e.wrapContent,l=e.additionalLanguages,u=rf(e,["showTabs","showLineNumbers","decorators","code","initMode","wrapContent","additionalLanguages"]),d=xm().sandpack,h=jm().code,p=Qf(),f=null!=n?n:d.visibleFiles.length>1;return(0,r.jsxs)(Xm,nf({className:p("editor-viewer")},u,{children:[f?(0,r.jsx)(Vm,{}):null,(0,r.jsx)("div",{className:p("code-editor",[ig]),children:(0,r.jsx)(ag,{ref:t,additionalLanguages:l,code:null!=s?s:h,decorators:o,filePath:d.activeFile,initMode:a||d.initMode,showLineNumbers:i,showReadOnly:!1,wrapContent:c,readOnly:!0})}),"idle"===d.status?(0,r.jsx)(qm,{}):null]}))})),Af(((Cm={border:"1px solid $colors$surface2",display:"flex",flexWrap:"wrap",alignItems:"stretch",borderRadius:"$border$radius",overflow:"hidden",position:"relative",backgroundColor:"$colors$surface2",gap:1})["> .".concat(Ym)]={flexGrow:1,flexShrink:1,flexBasis:"0",height:"$layout$height",overflow:"hidden","@media print":{height:"auto",display:"block"},"@media screen and (max-width: 768px)":(Tm={},Tm["&:not(.".concat(If,"-preview, .").concat(If,"-editor, .").concat(If,"-preset-column)")]={height:"calc($layout$height / 2)"},Tm.minWidth="100%;",Tm)},Cm["> .".concat(If,"-file-explorer")]={flex:.2,minWidth:200,"@media screen and (max-width: 768px)":{flex:1}},Cm))),ug=i.forwardRef((function(e,t){var n=e.children,i=e.className,o=rf(e,["children","className"]),s=xm().sandpack,a=Qf(),c=Jm(s.lazyAnchorRef,t);return(0,r.jsx)("div",nf({ref:c,className:a("layout",[lg,i])},o,{children:n}))})),dg=function(e){var t=xm(),n=t.sandpack,r=t.listen,o=t.dispatch,s=i.useRef(null),a=i.useRef(Cf());return i.useEffect((function(){var t=s.current,r=a.current;return null!==t&&n.registerBundler(t,r,e),function(){return n.unregisterBundler(r)}}),[]),{sandpack:n,getClient:function(){return n.clients[a.current]||null},clientId:a.current,iframe:s,listen:function(e){return r(e,a.current)},dispatch:function(e){return o(e,a.current)}}},hg=function(e){var t=xm().dispatch;return{restart:function(){return t({type:"shell/restart"},e)},openPreview:function(){return t({type:"shell/openPreview"},e)}}},pg=function(e){var t=i.useState(!1),n=t[0],r=t[1],o=i.useState(),s=o[0],a=o[1],c=i.useState(null),l=c[0],u=c[1],d=null==e?void 0:e.timeout,h=null==e?void 0:e.clientId,p=xm().listen;return i.useEffect((function(){var e,t=p((function(t){"start"===t.type&&t.firstLoad&&r(!1),d&&(e=setTimeout((function(){u(null)}),d)),"shell/progress"!==t.type||n||(s||"downloaded_module"!==t.data.state||a(t.data.totalPending),void 0!==s&&u(function(e,t){var n;switch(e.state){case"downloading_manifest":return"[1/3] Downloading manifest";case"downloaded_module":return"[2/3] Downloaded ".concat(e.name," (").concat(t-e.totalPending,"/").concat(t,")");case"starting_command":return"[3/3] Starting command";case"command_running":return'[3/3] Running "'.concat(null===(n=e.command)||void 0===n?void 0:n.trim(),'"')}}(t.data,s))),"done"===t.type&&!1===t.compilatonError&&(u(null),r(!0),clearTimeout(e))}),h);return function(){e&&clearTimeout(e),t()}}),[h,n,s,d]),l},fg=function(e){var t=e.clientId,n=e.maxMessageCount,r=void 0===n?800:n;e.resetOnPreviewRestart;var o=i.useState([]),s=o[0],a=o[1],c=xm().listen;return i.useEffect((function(){return c((function(e){"start"===e.type?a([]):"stdout"===e.type&&e.payload.data&&Boolean(e.payload.data.trim())&&a((function(t){for(var n=af(af([],t,!0),[{data:e.payload.data,id:Cf()}],!1);n.length>r;)n.shift();return n}))}),t)}),[r,t]),{logs:s,reset:function(){return a([])}}},mg=function(e){var t=e.replace("[sandpack-client]: ","");if(/process.exit/.test(t)){var n=t.match(/process.exit\((\d+)\)/);return n?0===Number(n[1])?"Server is not running, would you like to start it again?":"Server has crashed with status code ".concat(n[1],", would you like to restart the server?"):t}return t},gg=function(e){var t=e.children,n=e.className,i=rf(e,["children","className"]),o=function(){var e,t=xm().sandpack.error;return null!==(e=null==t?void 0:t.message)&&void 0!==e?e:null}(),s=hg().restart,a=Qf(),c=xm().sandpack,l=c.runSandpack,u=c.teamId,d=xm().dispatch;if(!o&&!t)return null;var h=null==o?void 0:o.startsWith("[sandpack-client]");return(null==o?void 0:o.includes("NPM_REGISTRY_UNAUTHENTICATED_REQUEST"))?(0,r.jsxs)("div",nf({className:a("overlay",[a("error"),Rm,Lm,n])},e,{children:[(0,r.jsx)("p",{className:a("error-message",[Qm]),children:(0,r.jsx)("strong",{children:"Unable to fetch required dependency."})}),(0,r.jsx)("div",{className:a("error-message",[Qm]),children:(0,r.jsxs)("p",{children:["Authentication required. Please sign in to your account (make sure to allow pop-ups to this page) and try again. If the issue persists, contact"," ",(0,r.jsx)("a",{href:"mailto:hello@codesandbox.io?subject=Sandpack Timeout Error",children:"support"})," ","for further assistance."]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("button",{className:a("button",[Mm,Im,Am]),onClick:function(){u&&d({type:"sign-in",teamId:u})},children:[(0,r.jsx)(df,{}),(0,r.jsx)("span",{children:"Sign in"})]})})]})):h&&o?(0,r.jsx)("div",nf({className:a("overlay",[a("error"),Rm,Lm,n])},i,{children:(0,r.jsxs)("div",{className:a("error-message",[Qm]),children:[(0,r.jsx)("p",{className:a("error-title",[Af({fontWeight:"bold"})]),children:"Couldn't connect to server"}),(0,r.jsx)("p",{children:mg(o)}),(0,r.jsx)("div",{children:(0,r.jsxs)("button",{className:a("button",[a("icon-standalone"),Mm,Im,Am]),onClick:function(){s(),l()},title:"Restart script",type:"button",children:[(0,r.jsx)(pf,{})," ",(0,r.jsx)("span",{children:"Restart"})]})})]})})):(0,r.jsxs)("div",nf({className:a("overlay",[a("error"),Rm,Nm({solidBg:!0}),n]),translate:"no"},i,{children:[(0,r.jsx)("p",{className:a("error-message",[Qm]),children:(0,r.jsx)("strong",{children:"Something went wrong"})}),(0,r.jsx)("p",{className:a("error-message",[Qm({errorCode:!0})]),children:o||t})]}))};function yg(e,t,n,r){var o=t?null:function(e){var t={};switch(e.bg&&(t.backgroundColor="rgb(".concat(e.bg,")")),e.fg&&(t.color="rgb(".concat(e.fg,")")),e.decoration){case"bold":t.fontWeight="bold";break;case"dim":t.opacity="0.5";break;case"italic":t.fontStyle="italic";break;case"hidden":t.visibility="hidden";break;case"strikethrough":t.textDecoration="line-through";break;case"underline":t.textDecoration="underline";break;case"blink":t.textDecoration="blink"}return t}(n),s=t?function(e){var t="";return e.bg&&(t+="".concat(e.bg,"-bg ")),e.fg&&(t+="".concat(e.fg,"-fg ")),e.decoration&&(t+="ansi-".concat(e.decoration," ")),""===t?null:t=t.substring(0,t.length-1)}(n):null;if(!e)return i.createElement("span",{style:o,key:r,className:s},n.content);for(var a,c=[],l=/(\s|^)(https?:\/\/(?:www\.|(?!www))[^\s.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/g,u=0;null!==(a=l.exec(n.content));){var d=a[1],h=a[2],p=a.index+d.length;p>u&&c.push(n.content.substring(u,p));var f=h.startsWith("www.")?"http://".concat(h):h;c.push(i.createElement("a",{key:u,href:f,target:"_blank"},"".concat(h))),u=l.lastIndex}return u<n.content.length&&c.push(n.content.substring(u)),i.createElement("span",{style:o,key:r,className:s},c)}function vg(e){var t,n,r=e.className,o=e.useClasses,s=e.children,a=e.linkify;return i.createElement("code",{className:r},(t=null!=s?s:"",n=null!=o&&o,void 0===n&&(n=!1),t=(0,ef.escapeCarriageReturn)(function(e){var t=e;do{t=(e=t).replace(/[^\n]\x08/gm,"")}while(t.length<e.length);return e}(t)),Jp.ansiToJson(t,{json:!0,remove_empty:!0,use_classes:n})).map(yg.bind(null,null!=a&&a,null!=o&&o)))}var bg,xg,Og,wg,Sg=function(e){var t=e.data,n=Qf();return(0,r.jsx)(r.Fragment,{children:t.map((function(e){var t=e.data,i=e.id;return(0,r.jsx)("div",{className:n("console-item",[kg]),children:(0,r.jsx)(vg,{children:t})},i)}))})},kg=Af({width:"100%",padding:"$space$3 $space$2",fontSize:".85em",position:"relative",whiteSpace:"pre","&:not(:first-child):after":{content:"",position:"absolute",top:0,left:0,right:0,height:1,background:"$colors$surface3"}}),_g="https://codesandbox.io/api/v1/sandboxes/define",Pg=function(e){var t,n,o,s=e.children,a=rf(e,["children"]),c=xm().sandpack,l=i.useRef(null),u=i.useState(),d=u[0],h=u[1];return i.useEffect((function(){var e=setTimeout((function(){var e,t,n,r,i=(e=c.files,t=c.environment,r=Object.keys(e).reduce((function(t,n){var r,i=n.replace("/",""),o={content:e[n].code,isBinary:!1};return nf(nf({},t),((r={})[i]=o,r))}),{}),n=nf({files:r},t?{template:t}:null),tf.compressToBase64(JSON.stringify(n)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")),o=new URLSearchParams({parameters:i,query:new URLSearchParams({file:c.activeFile,utm_medium:"sandpack"}).toString()});h(o)}),600);return function(){clearTimeout(e)}}),[c.activeFile,c.environment,c.files]),(null!==(o=null===(n=null===(t=null==d?void 0:d.get)||void 0===t?void 0:t.call(d,"parameters"))||void 0===n?void 0:n.length)&&void 0!==o?o:0)>1500?(0,r.jsxs)("button",nf({onClick:function(){var e;return null===(e=l.current)||void 0===e?void 0:e.submit()},title:"Open in CodeSandbox",type:"button"},a,{children:[(0,r.jsxs)("form",{ref:l,action:_g,method:"POST",style:{visibility:"hidden"},target:"_blank",children:[(0,r.jsx)("input",{name:"environment",type:"hidden",value:"node"===c.environment?"server":c.environment}),Array.from(d,(function(e){var t=e[0],n=e[1];return(0,r.jsx)("input",{name:t,type:"hidden",value:n},t)}))]}),s]})):(0,r.jsx)("a",nf({href:"".concat(_g,"?").concat(null==d?void 0:d.toString(),"&environment=").concat("node"===c.environment?"server":c.environment),rel:"noreferrer noopener",target:"_blank",title:"Open in CodeSandbox"},a,{children:s}))},Eg=function(){var e=Qf();return(0,r.jsxs)(Pg,{className:e("button",[e("icon-standalone"),Mm,Im,Am]),children:[(0,r.jsx)(bf,{}),(0,r.jsx)("span",{children:"Open Sandbox"})]})},Cg=Af({transform:"translate(-4px, 9px) scale(0.13, 0.13)","*":{position:"absolute",width:"96px",height:"96px"}}),Tg=Af(((bg={position:"absolute",right:"$space$2",bottom:"$space$2",zIndex:"$top",width:"32px",height:"32px",borderRadius:"$border$radius"})[".".concat(Cg)]={display:"flex"},bg[".sp-button.".concat(Mm)]={display:"none"},bg["&:hover .sp-button.".concat(Mm)]={display:"flex"},bg["&:hover .sp-button.".concat(Mm," > span")]={display:"none"},bg["&:hover .".concat(Cg)]={display:"none"},bg)),jg=Df({"0%":{transform:"rotateX(-25.5deg) rotateY(45deg)"},"100%":{transform:"rotateX(-25.5deg) rotateY(405deg)"}}),Ig=Af({animation:"".concat(jg," 1s linear infinite"),animationFillMode:"forwards",transformStyle:"preserve-3d",transform:"rotateX(-25.5deg) rotateY(45deg)","*":{border:"10px solid $colors$clickable",borderRadius:"8px",background:"$colors$surface1"},".top":{transform:"rotateX(90deg) translateZ(44px)",transformOrigin:"50% 50%"},".bottom":{transform:"rotateX(-90deg) translateZ(44px)",transformOrigin:"50% 50%"},".front":{transform:"rotateY(0deg) translateZ(44px)",transformOrigin:"50% 50%"},".back":{transform:"rotateY(-180deg) translateZ(44px)",transformOrigin:"50% 50%"},".left":{transform:"rotateY(-90deg) translateZ(44px)",transformOrigin:"50% 50%"},".right":{transform:"rotateY(90deg) translateZ(44px)",transformOrigin:"50% 50%"}}),Mg=function(e){var t=e.className,n=e.showOpenInCodeSandbox,i=rf(e,["className","showOpenInCodeSandbox"]),o=Qf();return(0,r.jsxs)("div",nf({className:o("cube-wrapper",[Tg,t]),title:"Open in CodeSandbox"},i,{children:[n&&(0,r.jsx)(Eg,{}),(0,r.jsx)("div",{className:o("cube",[Cg]),children:(0,r.jsxs)("div",{className:o("sides",[Ig]),children:[(0,r.jsx)("div",{className:"top"}),(0,r.jsx)("div",{className:"right"}),(0,r.jsx)("div",{className:"bottom"}),(0,r.jsx)("div",{className:"left"}),(0,r.jsx)("div",{className:"front"}),(0,r.jsx)("div",{className:"back"})]})})]}))},Ag=Af({backgroundColor:"$colors$surface1"}),Dg=function(e){var t=e.clientId,n=e.loading,o=e.className,s=e.style,a=e.showOpenInCodeSandbox,c=rf(e,["clientId","loading","className","style","showOpenInCodeSandbox"]),l=Qf(),u=xm().sandpack,d=u.runSandpack,h=u.environment,p=i.useState(!1),f=p[0],m=p[1],g=function(e,t){var n=xm(),r=n.sandpack,o=n.listen,s=i.useState("LOADING"),a=s[0],c=s[1];return i.useEffect((function(){var t=o((function(e){"start"===e.type&&!0===e.firstLoad&&c("LOADING"),"done"===e.type&&c((function(e){return"LOADING"===e?"PRE_FADING":"HIDDEN"}))}),e);return function(){t()}}),[e,"idle"===r.status]),i.useEffect((function(){var e;return"PRE_FADING"!==a||t?"FADING"===a&&(e=setTimeout((function(){return c("HIDDEN")}),200)):c("FADING"),function(){clearTimeout(e)}}),[a,t]),"timeout"===r.status?"TIMEOUT":"running"!==r.status?"HIDDEN":a}(t,n),y=pg({clientId:t}),v=fg({clientId:t}).logs;if(i.useEffect((function(){var e;return(null==y?void 0:y.includes("Running"))&&(e=setTimeout((function(){m(!0)}),3e3)),function(){e&&clearTimeout(e)}}),[y]),"HIDDEN"===g)return null;if("TIMEOUT"===g)return(0,r.jsx)("div",nf({className:l("overlay",[l("error"),Rm,Nm,Lm,o])},c,{children:(0,r.jsxs)("div",{className:l("error-message",[Qm]),children:[(0,r.jsx)("p",{className:l("error-title",[Af({fontWeight:"bold"})]),children:"Couldn't connect to server"}),(0,r.jsx)("div",{className:l("error-message",[Qm]),children:(0,r.jsxs)("p",{children:["This means sandpack cannot connect to the runtime or your network is having some issues. Please check the network tab in your browser and try again. If the problem persists, report it via"," ",(0,r.jsx)("a",{href:"mailto:hello@codesandbox.io?subject=Sandpack Timeout Error",children:"email"})," ","or submit an issue on"," ",(0,r.jsx)("a",{href:"https://github.com/codesandbox/sandpack/issues",rel:"noreferrer noopener",target:"_blank",children:"GitHub."})]})}),(0,r.jsxs)("p",{className:l("error-message",[Qm({errorCode:!0})]),children:["ENV: ",h,(0,r.jsx)("br",{}),"ERROR: TIME_OUT"]}),(0,r.jsx)("div",{children:(0,r.jsxs)("button",{className:l("button",[l("icon-standalone"),Mm,Im,Am]),onClick:d,title:"Restart script",type:"button",children:[(0,r.jsx)(pf,{})," ",(0,r.jsx)("span",{children:"Try again"})]})})]})}));var b="LOADING"===g||"PRE_FADING"===g;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",nf({className:l("overlay",[l("loading"),Rm,Ag,o]),style:nf(nf({},s),{opacity:b?1:0,transition:"opacity ".concat(200,"ms ease-out")})},c,{children:[f&&(0,r.jsx)("div",{className:$g.toString(),children:(0,r.jsx)(Sg,{data:v})}),(0,r.jsx)(Mg,{showOpenInCodeSandbox:a})]})),y&&(0,r.jsx)("div",{className:Rg.toString(),children:(0,r.jsx)("p",{children:y})})]})},$g=Af({position:"absolute",left:0,right:0,bottom:"$space$8",overflow:"auto",opacity:.5,overflowX:"hidden"}),Rg=Af({position:"absolute",left:"$space$5",bottom:"$space$4",zIndex:"$top",color:"$colors$clickable",animation:"".concat($m," 150ms ease"),fontFamily:"$font$mono",fontSize:".8em",width:"75%",p:{whiteSpace:"nowrap",margin:0,textOverflow:"ellipsis",overflow:"hidden"}}),Ng=function(e){var t=e.clientId,n=pg({timeout:3e3,clientId:t});return n?(0,r.jsx)("div",{className:Lg.toString(),children:(0,r.jsx)("p",{children:n})}):null},Lg=Af({position:"absolute",left:"$space$5",bottom:"$space$4",zIndex:"$top",color:"$colors$clickable",animation:"".concat($m," 150ms ease"),fontFamily:"$font$mono",fontSize:".8em",width:"75%",p:{whiteSpace:"nowrap",margin:0,textOverflow:"ellipsis",overflow:"hidden"}}),Qg=(Af({borderRadius:"0",width:"100%",padding:0,marginBottom:"$space$2",span:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},svg:{marginRight:"$space$1"}}),Af({padding:"$space$3",overflow:"auto",height:"100%"}),Af({display:"flex",alignItems:"center",height:"$layout$headerHeight",borderBottom:"1px solid $colors$surface2",padding:"$space$3 $space$2",background:"$colors$surface1"})),zg=Af({backgroundColor:"$colors$surface2",color:"$colors$clickable",padding:"$space$1 $space$3",borderRadius:"99999px",border:"1px solid $colors$surface2",height:"24px",lineHeight:"24px",fontSize:"inherit",outline:"none",flex:1,marginLeft:"$space$4",width:"0",transition:"background $transitions$default","&:hover":{backgroundColor:"$colors$surface3"},"&:focus":{backgroundColor:"$surface1",border:"1px solid $colors$accent",color:"$colors$base"}}),Fg=function(e){var t,n=e.clientId,o=e.onURLChange,s=e.className,a=e.startRoute,c=rf(e,["clientId","onURLChange","className","startRoute"]),l=i.useState(""),u=l[0],d=l[1],h=xm(),p=h.sandpack,f=h.dispatch,m=h.listen,g=i.useState(null!==(t=null!=a?a:p.startRoute)&&void 0!==t?t:"/"),y=g[0],v=g[1],b=i.useState(!1),x=b[0],O=b[1],w=i.useState(!1),S=w[0],k=w[1],_=Qf();i.useEffect((function(){var e=m((function(e){if("urlchange"===e.type){var t=e.url,n=e.back,r=e.forward,i=function(e){var t=e.match(/(https?:\/\/.*?)\//);return t&&t[1]?[t[1],e.replace(t[1],"")]:[e,"/"]}(t),o=i[0],s=i[1];d(o),v(s),O(n),k(r)}}),n);return function(){return e()}}),[]);var P=_("button",[_("icon"),Mm,Dm,Af({minWidth:"$space$6",justifyContent:"center"})]);return(0,r.jsxs)("div",nf({className:_("navigator",[Qg,s])},c,{children:[(0,r.jsx)("button",{"aria-label":"Go back one page",className:P,disabled:!x,onClick:function(){f({type:"urlback"})},type:"button",children:(0,r.jsx)(mf,{})}),(0,r.jsx)("button",{"aria-label":"Go forward one page",className:P,disabled:!S,onClick:function(){f({type:"urlforward"})},type:"button",children:(0,r.jsx)(gf,{})}),(0,r.jsx)("button",{"aria-label":"Refresh page",className:P,onClick:function(){f({type:"refresh"})},type:"button",children:(0,r.jsx)(yf,{})}),(0,r.jsx)("input",{"aria-label":"Current Sandpack URL",className:_("input",[zg]),name:"Current Sandpack URL",onChange:function(e){var t=e.target.value.startsWith("/")?e.target.value:"/".concat(e.target.value);v(t)},onKeyDown:function(e){"Enter"===e.code&&(e.preventDefault(),e.stopPropagation(),"function"==typeof o&&o(u+e.currentTarget.value))},type:"text",value:y})]}))},Bg=Af(((xg={flex:1,display:"flex",flexDirection:"column",background:"white",overflow:"auto",position:"relative"})[".".concat(If,"-bridge-frame")]={border:0,position:"absolute",left:"$space$2",bottom:"$space$2",zIndex:"$top",height:12,width:"30%",mixBlendMode:"multiply",pointerEvents:"none"},xg)),Zg=Af({border:"0",outline:"0",width:"100%",height:"100%",minHeight:"160px",maxHeight:"2000px",flex:1}),Vg=Af({display:"flex",position:"absolute",bottom:"$space$2",right:"$space$2",zIndex:"$overlay",gap:"$space$2"}),Wg=i.forwardRef((function(e,t){var n=e.showNavigator,o=void 0!==n&&n,s=e.showRefreshButton,a=void 0===s||s,c=e.showOpenInCodeSandbox,l=void 0===c||c,u=e.showSandpackErrorOverlay,d=void 0===u||u;e.showOpenNewtab;var h=e.showRestartButton,p=void 0===h||h,f=e.actionsChildren,m=void 0===f?(0,r.jsx)(r.Fragment,{}):f,g=e.children,y=e.className,v=e.startRoute,b=void 0===v?"/":v,x=rf(e,["showNavigator","showRefreshButton","showOpenInCodeSandbox","showSandpackErrorOverlay","showOpenNewtab","showRestartButton","actionsChildren","children","className","startRoute"]),O=dg({startRoute:b}),w=O.sandpack,S=O.listen,k=O.iframe,_=O.getClient,P=O.clientId,E=O.dispatch,C=i.useState(null),T=C[0],j=C[1],I=w.status,M=function(e){var t=xm().dispatch;return{refresh:function(){return t({type:"refresh"},e)},back:function(){return t({type:"urlback"},e)},forward:function(){return t({type:"urlforward"},e)}}}(P).refresh,A=hg(P).restart,D=Qf();return i.useEffect((function(){return S((function(e){"resize"===e.type&&j(e.height)}))}),[]),i.useImperativeHandle(t,(function(){return{clientId:P,getClient:_}}),[_,P]),(0,r.jsxs)(Xm,nf({className:D("preview",[y])},x,{children:[o&&(0,r.jsx)(Fg,{clientId:P,onURLChange:function(e){k.current&&(k.current.src=e)},startRoute:b}),(0,r.jsxs)("div",{className:D("preview-container",[Bg]),children:[(0,r.jsx)("iframe",{ref:k,className:D("preview-iframe",[Zg]),style:{height:T||void 0},title:"Sandpack Preview"}),(0,r.jsxs)("div",{className:D("preview-actions",[Vg]),children:[m,p&&"node"===w.environment&&(0,r.jsx)(Wm,{onClick:A,children:(0,r.jsx)(pf,{})}),!o&&a&&"running"===I&&(0,r.jsx)(Wm,{onClick:M,children:(0,r.jsx)(yf,{})}),w.teamId&&(0,r.jsx)("button",{className:D("button",[D("icon-standalone"),Mm,Im,Am]),onClick:function(){return E({type:"sign-out"})},title:"Sign out",type:"button",children:(0,r.jsx)(hf,{})}),l&&(0,r.jsx)(Eg,{})]}),(0,r.jsx)(Dg,{clientId:P,showOpenInCodeSandbox:l}),d&&(0,r.jsx)(gg,{}),g]})]}))})),Ug=(Af(((Og={display:"flex",flexDirection:"column",width:"100%",position:"relative",overflow:"auto",minHeight:"160px",flex:1})[".".concat(If,"-stack")]={height:"100%"},Og)),Af({justifyContent:"space-between",borderBottom:"1px solid $colors$surface2",padding:"0 $space$2",fontFamily:"$font$mono",height:"$layout$headerHeight",minHeight:"$layout$headerHeight",overflowX:"auto",whiteSpace:"nowrap"}),Af({display:"flex",flexDirection:"row",alignItems:"center",gap:"$space$2"}),Af({variants:{status:{pass:{color:"var(--test-pass)"},fail:{color:"var(--test-fail)"},skip:{color:"var(--test-skip)"},title:{color:"var(--test-title)"}}}})),qg=(Ug({status:"pass"}),Ug({status:"fail"}),Ug({status:"skip"}),Ug({status:"title"}),Af({variants:{status:{pass:{background:"var(--test-pass)",color:"$colors$surface1"},fail:{background:"var(--test-fail)",color:"$colors$surface1"},run:{background:"var(--test-run)",color:"$colors$surface1"}}}})),Yg=(qg({status:"run"}),qg({status:"pass"}),qg({status:"fail"}),Af({marginLeft:"$space$4"}),Af({marginBottom:"$space$2",color:"$colors$clickable"}),Af({marginBottom:"$space$2",color:"$colors$hover"}),Af({marginLeft:"$space$2"}),Af({marginRight:"$space$2"}),Af({color:"$colors$hover",marginBottom:"$space$2"}),Af({marginLeft:"$space$4"}),Af({color:"$colors$hover",fontSize:"$font$size",padding:"$space$2",whiteSpace:"pre-wrap"}),Af({display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"$space$2"}),Af({marginBottom:"$space$2"}),Af({fontWeight:"bold"}),Af({borderRadius:"calc($border$radius / 2)"}),Af({padding:"$space$1 $space$2",fontFamily:"$font$mono",textTransform:"uppercase",marginRight:"$space$2"}),Af({fontFamily:"$font$mono",cursor:"pointer",display:"inline-block"}),Af({color:"$colors$clickable",textDecorationStyle:"dotted",textDecorationLine:"underline"}),Af({color:"$colors$hover",fontWeight:"bold",textDecorationStyle:"dotted",textDecorationLine:"underline"}),Af({marginBottom:"$space$2"}),Af({fontWeight:"bold",color:"$colors$hover",whiteSpace:"pre-wrap"}),Af({fontWeight:"bold",color:"$colors$clickable"}),Af({display:"flex",position:"absolute",bottom:"$space$2",right:"$space$2",zIndex:"$overlay","> *":{marginLeft:"$space$2"}}),Af({padding:"$space$4",height:"100%",overflow:"auto",display:"flex",flexDirection:"column",position:"relative",fontFamily:"$font$mono"}),Af({fontWeight:"bold",color:"$colors$base"}),["SyntaxError: ","Error in sandbox:"]),Xg={id:"random",method:"clear",data:["Console was cleared"]},Hg=(0,eval)("this"),Gg="function"==typeof ArrayBuffer,Kg="function"==typeof Map,Jg="function"==typeof Set;!function(e){e[e.infinity=0]="infinity",e[e.minusInfinity=1]="minusInfinity",e[e.minusZero=2]="minusZero"}(wg||(wg={}));var ey,ty={Arithmetic:function(e){return e===wg.infinity?1/0:e===wg.minusInfinity?-1/0:e===wg.minusZero?-0:e},HTMLElement:function(e){var t=document.implementation.createHTMLDocument("sandbox");try{var n=t.createElement(e.tagName);n.innerHTML=e.innerHTML;for(var r=0,i=Object.keys(e.attributes);r<i.length;r++){var o=i[r];try{n.setAttribute(o,e.attributes[o])}catch(e){}}return n}catch(t){return e}},Function:function(e){var t=function(){};return Object.defineProperty(t,"toString",{value:function(){return"function ".concat(e.name,"() {").concat(e.body,"}")}}),t},"[[NaN]]":function(){return NaN},"[[undefined]]":function(){},"[[Date]]":function(e){var t=new Date;return t.setTime(e),t},"[[RegExp]]":function(e){return new RegExp(e.src,e.flags)},"[[Error]]":function(e){var t=new(Hg[e.name]||Error)(e.message);return t.stack=e.stack,t},"[[ArrayBuffer]]":function(e){if(Gg){var t=new ArrayBuffer(e.length);return new Int8Array(t).set(e),t}return e},"[[TypedArray]]":function(e){return"function"==typeof Hg[e.ctorName]?new Hg[e.ctorName](e.arr):e.arr},"[[Map]]":function(e){if(Kg){for(var t=new Map,n=0;n<e.length;n+=2)t.set(e[n],e[n+1]);return t}for(var r=[],i=0;i<e.length;i+=2)r.push([e[n],e[n+1]]);return r},"[[Set]]":function(e){if(Jg){for(var t=new Set,n=0;n<e.length;n++)t.add(e[n]);return t}return e}},ny=function(e){var t;if("string"==typeof e||"number"==typeof e||null===e)return e;if(Array.isArray(e))return e.map(ny);if("object"==typeof e&&"@t"in e){var n=e["@t"];return(0,ty[n])(e.data)}if("object"==typeof e&&"#@t"in e)return n=e["#@t"],(0,ty[n])(e.data);if("object"==typeof e&&"NodeList"===(null===(t=e.constructor)||void 0===t?void 0:t.name)){var r={};return Object.entries(e).forEach((function(e){var t=e[0],n=e[1];r[t]=ny(n)})),r}return e},ry=function(e,t,n){var r;void 0===n&&(n=0);try{var i=ny(e);if(Array.isArray(i))return function(e,t,n){var r=e.reduce((function(e,r,i){return"".concat(e).concat(i?", ":"").concat(ry(r,t,n))}),"");return"[".concat(r,"]")}(i,t,n+1);switch(typeof i){case"string":return'"'.concat(i,'"').slice(0,1e4);case"number":case"function":case"symbol":return i.toString();case"boolean":return String(i);case"undefined":return"undefined";default:if(i instanceof RegExp||i instanceof Error||i instanceof Date)return i.toString();if(null===i)return String(null);if(i instanceof HTMLElement)return i.outerHTML.slice(0,1e4);if(0===Object.entries(i).length)return"{}";if("@r"in i){if(n>2)return"Unable to print information";var o=t[i["@r"]];return ry(o,t,n+1)}if("NodeList"===(null===(r=i.constructor)||void 0===r?void 0:r.name)){var s=i.length,a=new Array(s).fill(null).map((function(e,n){return ry(i[n],t)}));return"NodeList(".concat(i.length,")[").concat(a,"]")}return function(e,t,n){var r="Object"!==e.constructor.name?"".concat(e.constructor.name," "):"";if(n>2)return r;var i=Object.entries(e),o=Object.entries(e).reduce((function(e,r,o){var s=r[0],a=r[1],c=0===o?"":", ",l=i.length>10?"\n  ":"",u=ry(a,t,n);return 400===o?e+l+"...":o>400?e:e+"".concat(c).concat(l).concat(s,": ")+u}),"");return"".concat(r,"{ ").concat(o).concat(i.length>10?"\n":" ","}")}(i,t,n+1)}}catch(e){return"Unable to print information"}},iy=function(e){switch(e){case"warn":return"warning";case"clear":return"clear";case"error":return"error";default:return"info"}},oy=function(e){var t=e.data,n=Qf();return(0,r.jsx)(r.Fragment,{children:t.map((function(e,t,o){var s=e.data,a=e.id,c=e.method;return s&&Array.isArray(s)?(0,r.jsx)(i.Fragment,{children:s.map((function(e,i){var s=o.slice(t,o.length);return(0,r.jsx)("div",{className:n("console-item",[sy({variant:iy(c)})]),children:(0,r.jsx)(ag,{code:"clear"===c?e:ry(e,s),fileType:"js",initMode:"user-visible",showReadOnly:!1,readOnly:!0,wrapContent:!0})},"".concat(a,"-").concat(i))}))},a):null}))})},sy=Af(((ey={width:"100%",padding:"$space$3 $space$2",fontSize:".8em",position:"relative","&:not(:first-child):after":{content:"",position:"absolute",top:0,left:0,right:0,height:1,background:"$colors$surface3"},".sp-cm":{padding:0},".cm-editor":{background:"none"},".cm-content":{padding:0}})[".".concat(If,"-pre-placeholder")]={margin:"0 !important",fontSize:"1em"},ey.variants={variant:{error:{color:"$colors$error",background:"$colors$errorSurface","&:not(:first-child):after":{background:"$colors$error",opacity:.07}},warning:{color:"$colors$warning",background:"$colors$warningSurface","&:not(:first-child):after":{background:"$colors$warning",opacity:.07}},clear:{fontStyle:"italic"},info:{}}},ey)),ay=Af({justifyContent:"space-between",borderBottom:"1px solid $colors$surface2",padding:"0 $space$2",fontFamily:"$font$mono",height:"$layout$headerHeight",minHeight:"$layout$headerHeight",overflowX:"auto",whiteSpace:"nowrap"}),cy=Af({display:"flex",flexDirection:"row",alignItems:"center",gap:"$space$2"}),ly=function(e){var t=e.currentTab,n=e.setCurrentTab,i=e.node,o=Qf(),s=o("console-header-button",[Mm,Am,Af({padding:"$space$1 $space$3"})]);return(0,r.jsxs)("div",{className:o("console-header",[ay,cy]),children:[(0,r.jsxs)("p",{className:o("console-header-title",[Af({lineHeight:1,margin:0,color:"$colors$base",fontSize:"$font$size",display:"flex",alignItems:"center",gap:"$space$2"})]),children:[(0,r.jsx)(Of,{}),(0,r.jsx)("span",{children:"Terminal"})]}),i&&(0,r.jsxs)("div",{className:o("console-header-actions",[cy]),children:[(0,r.jsx)("button",{className:s,"data-active":"server"===t,onClick:function(){return n("server")},type:"button",children:"Server"}),(0,r.jsx)("button",{className:s,"data-active":"client"===t,onClick:function(){return n("client")},type:"button",children:"Client"})]})]})};i.forwardRef((function(e,t){var n,o=e.showHeader,s=void 0===o||o,a=e.showSyntaxError,c=void 0!==a&&a,l=e.maxMessageCount,u=e.onLogsChange,d=e.className;e.showSetupProgress;var h=e.showResetConsoleButton,p=void 0===h||h,f=e.showRestartButton,m=void 0===f||f,g=e.resetOnPreviewRestart,y=void 0!==g&&g,v=e.actionsChildren,b=void 0===v?(0,r.jsx)(r.Fragment,{}):v,x=e.standalone,O=void 0!==x&&x,w=rf(e,["showHeader","showSyntaxError","maxMessageCount","onLogsChange","className","showSetupProgress","showResetConsoleButton","showRestartButton","resetOnPreviewRestart","actionsChildren","standalone"]),S=xm().sandpack.environment,k=dg(),_=k.iframe,P=k.clientId,E=hg().restart,C=i.useState("node"===S?"server":"client"),T=C[0],j=C[1],I=O?P:void 0,M=function(e){var t=e.clientId,n=e.maxMessageCount,r=void 0===n?800:n,o=e.showSyntaxError,s=void 0!==o&&o,a=e.resetOnPreviewRestart,c=void 0!==a&&a,l=i.useState([]),u=l[0],d=l[1],h=xm().listen;return i.useEffect((function(){var e=h((function(e){if(c&&"start"===e.type)d([]);else if("console"===e.type&&e.codesandbox){var t=Array.isArray(e.log)?e.log:[e.log];if(t.find((function(e){return"clear"===e.method})))return d([Xg]);var n=s?t:t.filter((function(e){var t,n,r;return(null!==(r=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.filter)||void 0===n?void 0:n.call(t,(function(e){return"string"!=typeof e||0===Yg.filter((function(t){return e.startsWith(t)})).length})))&&void 0!==r?r:[]).length>0}));if(!n)return;d((function(e){for(var t=af(af([],e,!0),n,!0).filter((function(e,t,n){return t===n.findIndex((function(t){return t.id===e.id}))}));t.length>r;)t.shift();return t}))}}),t);return e}),[s,r,t,c]),{logs:u,reset:function(){return d([])}}}({maxMessageCount:l,showSyntaxError:c,resetOnPreviewRestart:y,clientId:I}),A=M.logs,D=M.reset,$=fg({maxMessageCount:l,resetOnPreviewRestart:y,clientId:I}),R=$.logs,N=$.reset,L=i.useRef(null);i.useEffect((function(){null==u||u(A),L.current&&(L.current.scrollTop=L.current.scrollHeight)}),[u,A,R,T]);var Q="server"===T,z="node"===S;i.useImperativeHandle(t,(function(){return{reset:function(){D(),N()}}}));var F=Qf();return(0,r.jsxs)(Xm,nf({className:F("console",[Af((n={height:"100%",background:"$surface1",iframe:{display:"none"}},n[".".concat(If,"-bridge-frame")]={display:"block",border:0,position:"absolute",left:"$space$2",bottom:"$space$2",zIndex:"$top",height:12,width:"30%",mixBlendMode:"multiply",pointerEvents:"none"},n)),d])},w,{children:[s&&z&&(0,r.jsx)(ly,{currentTab:T,node:z,setCurrentTab:j}),(0,r.jsx)("div",{ref:L,className:F("console-list",[Af({overflow:"auto",scrollBehavior:"smooth"})]),children:Q?(0,r.jsx)(Sg,{data:R}):(0,r.jsx)(oy,{data:A})}),(0,r.jsxs)("div",{className:F("console-actions",[Af({position:"absolute",bottom:"$space$2",right:"$space$2",display:"flex",gap:"$space$2"})]),children:[b,m&&Q&&(0,r.jsx)(Wm,{onClick:function(){E(),D(),N()},children:(0,r.jsx)(pf,{})}),p&&(0,r.jsx)(Wm,{onClick:function(){"client"===T?D():N()},children:(0,r.jsx)(vf,{})})]}),O&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ng,{clientId:I}),(0,r.jsx)("iframe",{ref:_})]})]}))})),Af({position:"absolute",zIndex:"$top",variants:{direction:{vertical:{right:0,left:0,height:10,cursor:"ns-resize"},horizontal:{top:0,bottom:0,width:10,cursor:"ew-resize"}}},"@media screen and (max-width: 768px)":{display:"none"}}),Af({position:"relative",strong:{background:"$colors$clickable",color:"$colors$surface1",minWidth:12,height:12,padding:"0 2px",borderRadius:12,fontSize:8,lineHeight:"12px",position:"absolute",top:0,right:0,fontWeight:"normal"}}),Af({width:"100%",overflow:"hidden"}),Af({flexDirection:"row-reverse","@media screen and (max-width: 768px)":{flexFlow:"wrap-reverse !important",flexDirection:"initial"}})},44603:(e,t,n)=>{"use strict";n.d(t,{BN:()=>p,ER:()=>f,Ej:()=>m,UE:()=>a,UU:()=>c,cY:()=>h,jD:()=>d,rD:()=>o});var r=n(71076);function i(e,t,n){let{reference:i,floating:o}=e;const s=(0,r.TV)(t),a=(0,r.Dz)(t),c=(0,r.sq)(a),l=(0,r.C0)(t),u="y"===s,d=i.x+i.width/2-o.width/2,h=i.y+i.height/2-o.height/2,p=i[c]/2-o[c]/2;let f;switch(l){case"top":f={x:d,y:i.y-o.height};break;case"bottom":f={x:d,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:h};break;case"left":f={x:i.x-o.width,y:h};break;default:f={x:i.x,y:i.y}}switch((0,r.Sg)(t)){case"start":f[a]-=p*(n&&u?-1:1);break;case"end":f[a]+=p*(n&&u?-1:1)}return f}const o=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:a}=n,c=s.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:h}=i(u,r,l),p=r,f={},m=0;for(let n=0;n<c.length;n++){const{name:s,fn:g}=c[n],{x:y,y:v,data:b,reset:x}=await g({x:d,y:h,initialPlacement:r,placement:p,strategy:o,middlewareData:f,rects:u,platform:a,elements:{reference:e,floating:t}});d=null!=y?y:d,h=null!=v?v:h,f={...f,[s]:{...f[s],...b}},x&&m<=50&&(m++,"object"==typeof x&&(x.placement&&(p=x.placement),x.rects&&(u=!0===x.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):x.rects),({x:d,y:h}=i(u,p,l))),n=-1)}return{x:d,y:h,placement:p,strategy:o,middlewareData:f}};async function s(e,t){var n;void 0===t&&(t={});const{x:i,y:o,platform:s,rects:a,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=(0,r._3)(t,e),m=(0,r.nI)(f),g=c[p?"floating"===h?"reference":"floating":h],y=(0,r.B1)(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(g)))||n?g:g.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:l})),v="floating"===h?{...a.floating,x:i,y:o}:a.reference,b=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c.floating)),x=await(null==s.isElement?void 0:s.isElement(b))&&await(null==s.getScale?void 0:s.getScale(b))||{x:1,y:1},O=(0,r.B1)(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:b,strategy:l}):v);return{top:(y.top-O.top+m.top)/x.y,bottom:(O.bottom-y.bottom+m.bottom)/x.y,left:(y.left-O.left+m.left)/x.x,right:(O.right-y.right+m.right)/x.x}}const a=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:o,rects:s,platform:a,elements:c,middlewareData:l}=t,{element:u,padding:d=0}=(0,r._3)(e,t)||{};if(null==u)return{};const h=(0,r.nI)(d),p={x:n,y:i},f=(0,r.Dz)(o),m=(0,r.sq)(f),g=await a.getDimensions(u),y="y"===f,v=y?"top":"left",b=y?"bottom":"right",x=y?"clientHeight":"clientWidth",O=s.reference[m]+s.reference[f]-p[f]-s.floating[m],w=p[f]-s.reference[f],S=await(null==a.getOffsetParent?void 0:a.getOffsetParent(u));let k=S?S[x]:0;k&&await(null==a.isElement?void 0:a.isElement(S))||(k=c.floating[x]||s.floating[m]);const _=O/2-w/2,P=k/2-g[m]/2-1,E=(0,r.jk)(h[v],P),C=(0,r.jk)(h[b],P),T=E,j=k-g[m]-C,I=k/2-g[m]/2+_,M=(0,r.qE)(T,I,j),A=!l.arrow&&null!=(0,r.Sg)(o)&&I!=M&&s.reference[m]/2-(I<T?E:C)-g[m]/2<0,D=A?I<T?I-T:I-j:0;return{[f]:p[f]+D,data:{[f]:M,centerOffset:I-M-D,...A&&{alignmentOffset:D}},reset:A}}}),c=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:a,rects:c,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...v}=(0,r._3)(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const b=(0,r.C0)(o),x=(0,r.C0)(l)===l,O=await(null==u.isRTL?void 0:u.isRTL(d.floating)),w=f||(x||!y?[(0,r.bV)(l)]:(0,r.WJ)(l));f||"none"===g||w.push(...(0,r.lP)(l,y,g,O));const S=[l,...w],k=await s(t,v),_=[];let P=(null==(i=a.flip)?void 0:i.overflows)||[];if(h&&_.push(k[b]),p){const e=(0,r.w7)(o,c,O);_.push(k[e[0]],k[e[1]])}if(P=[...P,{placement:o,overflows:_}],!_.every((e=>e<=0))){var E,C;const e=((null==(E=a.flip)?void 0:E.index)||0)+1,t=S[e];if(t)return{data:{index:e,overflows:P},reset:{placement:t}};let n=null==(C=P.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:C.placement;if(!n)switch(m){case"bestFit":{var T;const e=null==(T=P.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:T[0];e&&(n=e);break}case"initialPlacement":n=l}if(o!==n)return{reset:{placement:n}}}return{}}}};function l(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function u(e){return r.r_.some((t=>e[t]>=0))}const d=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...o}=(0,r._3)(e,t);switch(i){case"referenceHidden":{const e=l(await s(t,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:u(e)}}}case"escaped":{const e=l(await s(t,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:u(e)}}}default:return{}}}}},h=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:i}=t,o=await async function(e,t){const{placement:n,platform:i,elements:o}=e,s=await(null==i.isRTL?void 0:i.isRTL(o.floating)),a=(0,r.C0)(n),c=(0,r.Sg)(n),l="y"===(0,r.TV)(n),u=["left","top"].includes(a)?-1:1,d=s&&l?-1:1,h=(0,r._3)(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:m}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return c&&"number"==typeof m&&(f="end"===c?-1*m:m),l?{x:f*d,y:p*u}:{x:p*u,y:f*d}}(t,e);return{x:n+o.x,y:i+o.y,data:o}}}},p=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...u}=(0,r._3)(e,t),d={x:n,y:i},h=await s(t,u),p=(0,r.TV)((0,r.C0)(o)),f=(0,r.PG)(p);let m=d[f],g=d[p];if(a){const e="y"===f?"bottom":"right",t=m+h["y"===f?"top":"left"],n=m-h[e];m=(0,r.qE)(t,m,n)}if(c){const e="y"===p?"bottom":"right",t=g+h["y"===p?"top":"left"],n=g-h[e];g=(0,r.qE)(t,g,n)}const y=l.fn({...t,[f]:m,[p]:g});return{...y,data:{x:y.x-n,y:y.y-i}}}}},f=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:o,rects:s,middlewareData:a}=t,{offset:c=0,mainAxis:l=!0,crossAxis:u=!0}=(0,r._3)(e,t),d={x:n,y:i},h=(0,r.TV)(o),p=(0,r.PG)(h);let f=d[p],m=d[h];const g=(0,r._3)(c,t),y="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const e="y"===p?"height":"width",t=s.reference[p]-s.floating[e]+y.mainAxis,n=s.reference[p]+s.reference[e]-y.mainAxis;f<t?f=t:f>n&&(f=n)}if(u){var v,b;const e="y"===p?"width":"height",t=["top","left"].includes((0,r.C0)(o)),n=s.reference[h]-s.floating[e]+(t&&(null==(v=a.offset)?void 0:v[h])||0)+(t?0:y.crossAxis),i=s.reference[h]+s.reference[e]+(t?0:(null==(b=a.offset)?void 0:b[h])||0)-(t?y.crossAxis:0);m<n?m=n:m>i&&(m=i)}return{[p]:f,[h]:m}}}},m=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:i,platform:o,elements:a}=t,{apply:c=(()=>{}),...l}=(0,r._3)(e,t),u=await s(t,l),d=(0,r.C0)(n),h=(0,r.Sg)(n),p="y"===(0,r.TV)(n),{width:f,height:m}=i.floating;let g,y;"top"===d||"bottom"===d?(g=d,y=h===(await(null==o.isRTL?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,g="end"===h?"top":"bottom");const v=m-u[g],b=f-u[y],x=!t.middlewareData.shift;let O=v,w=b;if(p){const e=f-u.left-u.right;w=h||x?(0,r.jk)(b,e):e}else{const e=m-u.top-u.bottom;O=h||x?(0,r.jk)(v,e):e}if(x&&!h){const e=(0,r.T9)(u.left,0),t=(0,r.T9)(u.right,0),n=(0,r.T9)(u.top,0),i=(0,r.T9)(u.bottom,0);p?w=f-2*(0!==e||0!==t?e+t:(0,r.T9)(u.left,u.right)):O=m-2*(0!==n||0!==i?n+i:(0,r.T9)(u.top,u.bottom))}await c({...t,availableWidth:w,availableHeight:O});const S=await o.getDimensions(a.floating);return f!==S.width||m!==S.height?{reset:{rects:!0}}:{}}}}},88492:(e,t,n)=>{"use strict";n.d(t,{UE:()=>q,ll:()=>B,rD:()=>X,UU:()=>V,jD:()=>U,ER:()=>Y,BN:()=>Z,Ej:()=>W});var r=n(71076),i=n(44603);const o=Math.min,s=Math.max,a=Math.round,c=Math.floor,l=e=>({x:e,y:e});function u(e){return p(e)?(e.nodeName||"").toLowerCase():"#document"}function d(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function h(e){var t;return null==(t=(p(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function p(e){return e instanceof Node||e instanceof d(e).Node}function f(e){return e instanceof Element||e instanceof d(e).Element}function m(e){return e instanceof HTMLElement||e instanceof d(e).HTMLElement}function g(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof d(e).ShadowRoot)}function y(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=w(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function v(e){return["table","td","th"].includes(u(e))}function b(e){const t=x(),n=w(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function x(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function O(e){return["html","body","#document"].includes(u(e))}function w(e){return d(e).getComputedStyle(e)}function S(e){return f(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function k(e){if("html"===u(e))return e;const t=e.assignedSlot||e.parentNode||g(e)&&e.host||h(e);return g(t)?t.host:t}function _(e){const t=k(e);return O(t)?e.ownerDocument?e.ownerDocument.body:e.body:m(t)&&y(t)?t:_(t)}function P(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=_(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),s=d(i);return o?t.concat(s,s.visualViewport||[],y(i)?i:[],s.frameElement&&n?P(s.frameElement):[]):t.concat(i,P(i,[],n))}function E(e){const t=w(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=m(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,c=a(n)!==o||a(r)!==s;return c&&(n=o,r=s),{width:n,height:r,$:c}}function C(e){return f(e)?e:e.contextElement}function T(e){const t=C(e);if(!m(t))return l(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=E(t);let s=(o?a(n.width):n.width)/r,c=(o?a(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),c&&Number.isFinite(c)||(c=1),{x:s,y:c}}const j=l(0);function I(e){const t=d(e);return x()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:j}function M(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),s=C(e);let a=l(1);t&&(i?f(i)&&(a=T(i)):a=T(e));const c=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==d(e))&&t}(s,n,i)?I(s):l(0);let u=(o.left+c.x)/a.x,h=(o.top+c.y)/a.y,p=o.width/a.x,m=o.height/a.y;if(s){const e=d(s),t=i&&f(i)?d(i):i;let n=e,r=n.frameElement;for(;r&&i&&t!==n;){const e=T(r),t=r.getBoundingClientRect(),i=w(r),o=t.left+(r.clientLeft+parseFloat(i.paddingLeft))*e.x,s=t.top+(r.clientTop+parseFloat(i.paddingTop))*e.y;u*=e.x,h*=e.y,p*=e.x,m*=e.y,u+=o,h+=s,n=d(r),r=n.frameElement}}return(0,r.B1)({width:p,height:m,x:u,y:h})}const A=[":popover-open",":modal"];function D(e){return A.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function $(e){return M(h(e)).left+S(e).scrollLeft}function R(e,t,n){let i;if("viewport"===t)i=function(e,t){const n=d(e),r=h(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const e=x();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}(e,n);else if("document"===t)i=function(e){const t=h(e),n=S(e),r=e.ownerDocument.body,i=s(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=s(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+$(e);const c=-n.scrollTop;return"rtl"===w(r).direction&&(a+=s(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:c}}(h(e));else if(f(t))i=function(e,t){const n=M(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=m(e)?T(e):l(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=I(e);i={...t,x:t.x-n.x,y:t.y-n.y}}return(0,r.B1)(i)}function N(e,t){const n=k(e);return!(n===t||!f(n)||O(n))&&("fixed"===w(n).position||N(n,t))}function L(e,t,n){const r=m(t),i=h(t),o="fixed"===n,s=M(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=l(0);if(r||!r&&!o)if(("body"!==u(t)||y(i))&&(a=S(t)),r){const e=M(t,!0,o,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&(c.x=$(i));return{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function Q(e,t){return m(e)&&"fixed"!==w(e).position?t?t(e):e.offsetParent:null}function z(e,t){const n=d(e);if(!m(e)||D(e))return n;let r=Q(e,t);for(;r&&v(r)&&"static"===w(r).position;)r=Q(r,t);return r&&("html"===u(r)||"body"===u(r)&&"static"===w(r).position&&!b(r))?n:r||function(e){let t=k(e);for(;m(t)&&!O(t);){if(b(t))return t;t=k(t)}return null}(e)||n}const F={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,s=h(r),a=!!t&&D(t.floating);if(r===s||a&&o)return n;let c={scrollLeft:0,scrollTop:0},d=l(1);const p=l(0),f=m(r);if((f||!f&&!o)&&(("body"!==u(r)||y(s))&&(c=S(r)),m(r))){const e=M(r);d=T(r),p.x=e.x+r.clientLeft,p.y=e.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+p.x,y:n.y*d.y-c.scrollTop*d.y+p.y}},getDocumentElement:h,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[..."clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let r=P(e,[],!1).filter((e=>f(e)&&"body"!==u(e))),i=null;const o="fixed"===w(e).position;let s=o?k(e):e;for(;f(s)&&!O(s);){const t=w(s),n=b(s);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||y(s)&&!n&&N(e,s))?r=r.filter((e=>e!==s)):i=t,s=k(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],c=a[0],l=a.reduce(((e,n)=>{const r=R(t,n,i);return e.top=s(r.top,e.top),e.right=o(r.right,e.right),e.bottom=o(r.bottom,e.bottom),e.left=s(r.left,e.left),e}),R(t,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:z,getElementRects:async function(e){const t=this.getOffsetParent||z,n=this.getDimensions;return{reference:L(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=E(e);return{width:t,height:n}},getScale:T,isElement:f,isRTL:function(e){return"rtl"===w(e).direction}};function B(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:u="function"==typeof IntersectionObserver,animationFrame:d=!1}=r,p=C(e),f=i||a?[...p?P(p):[],...P(t)]:[];f.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)}));const m=p&&u?function(e,t){let n,r=null;const i=h(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function l(u,d){void 0===u&&(u=!1),void 0===d&&(d=1),a();const{left:h,top:p,width:f,height:m}=e.getBoundingClientRect();if(u||t(),!f||!m)return;const g={rootMargin:-c(p)+"px "+-c(i.clientWidth-(h+f))+"px "+-c(i.clientHeight-(p+m))+"px "+-c(h)+"px",threshold:s(0,o(1,d))||1};let y=!0;function v(e){const t=e[0].intersectionRatio;if(t!==d){if(!y)return l();t?l(!1,t):n=setTimeout((()=>{l(!1,1e-7)}),100)}y=!1}try{r=new IntersectionObserver(v,{...g,root:i.ownerDocument})}catch(e){r=new IntersectionObserver(v,g)}r.observe(e)}(!0),a}(p,n):null;let g,y=-1,v=null;l&&(v=new ResizeObserver((e=>{let[r]=e;r&&r.target===p&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame((()=>{var e;null==(e=v)||e.observe(t)}))),n()})),p&&!d&&v.observe(p),v.observe(t));let b=d?M(e):null;return d&&function t(){const r=M(e);!b||r.x===b.x&&r.y===b.y&&r.width===b.width&&r.height===b.height||n(),b=r,g=requestAnimationFrame(t)}(),n(),()=>{var e;f.forEach((e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)})),null==m||m(),null==(e=v)||e.disconnect(),v=null,d&&cancelAnimationFrame(g)}}const Z=i.BN,V=i.UU,W=i.Ej,U=i.jD,q=i.UE,Y=i.ER,X=(e,t,n)=>{const r=new Map,o={platform:F,...n},s={...o.platform,_c:r};return(0,i.rD)(e,t,{...o,platform:s})}},71076:(e,t,n)=>{"use strict";n.d(t,{B1:()=>w,C0:()=>u,Dz:()=>m,PG:()=>h,Sg:()=>d,T9:()=>o,TV:()=>f,WJ:()=>y,_3:()=>l,bV:()=>x,jk:()=>i,lP:()=>b,nI:()=>O,qE:()=>c,r_:()=>r,sq:()=>p,w7:()=>g});const r=["top","right","bottom","left"],i=Math.min,o=Math.max,s=(Math.round,Math.floor,{left:"right",right:"left",bottom:"top",top:"bottom"}),a={start:"end",end:"start"};function c(e,t,n){return o(e,i(t,n))}function l(e,t){return"function"==typeof e?e(t):e}function u(e){return e.split("-")[0]}function d(e){return e.split("-")[1]}function h(e){return"x"===e?"y":"x"}function p(e){return"y"===e?"height":"width"}function f(e){return["top","bottom"].includes(u(e))?"y":"x"}function m(e){return h(f(e))}function g(e,t,n){void 0===n&&(n=!1);const r=d(e),i=m(e),o=p(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=x(s)),[s,x(s)]}function y(e){const t=x(e);return[v(e),t,v(t)]}function v(e){return e.replace(/start|end/g,(e=>a[e]))}function b(e,t,n,r){const i=d(e);let o=function(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}(u(e),"start"===n,r);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(v)))),o}function x(e){return e.replace(/left|right|bottom|top/g,(e=>s[e]))}function O(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function w(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}},92807:(e,t,n)=>{"use strict";function r(e,[t,n]){return Math.min(n,Math.max(t,e))}n.d(t,{q:()=>r})},77977:(e,t,n)=>{"use strict";function r(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}n.d(t,{m:()=>r})},139:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"parents"in e}function i(e){for(let t=0,n=e.parents.length;t<n;t++)if(e.parents[t].__unsafe__getWithoutCapture(!0),e.parents[t].lastChangedEpoch!==e.parentEpochs[t])return!0;return!1}n.d(t,{Ml:()=>l,VM:()=>O,c2:()=>d,eU:()=>M,EW:()=>B,_O:()=>$,wv:()=>w,Px:()=>S,hL:()=>T,Rn:()=>C,Xl:()=>v,_D:()=>N});const o=(e,t)=>{if(e.children.remove(t)&&e.children.isEmpty&&r(e))for(let t=0,n=e.parents.length;t<n;t++)o(e.parents[t],e)},s=(e,t)=>{if(e.children.add(t)&&r(e))for(let t=0,n=e.parents.length;t<n;t++)s(e.parents[t],e)};function a(e,t){return e===t||Object.is(e,t)||Boolean(e&&t&&"function"==typeof e.equals&&e.equals(t))}function c(e,t){const n=Symbol.for(`com.tldraw.state/${e}`),r=globalThis;return r[n]??=t(),r[n]}const l=c("empty_array",(()=>Object.freeze([])));class u{arraySize=0;array=Array(8);set=null;get isEmpty(){if(this.array)return 0===this.arraySize;if(this.set)return 0===this.set.size;throw new Error("no set or array")}add(e){if(this.array)return-1===this.array.indexOf(e)&&(this.arraySize<8?(this.array[this.arraySize]=e,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(e),!0));if(this.set)return!this.set.has(e)&&(this.set.add(e),!0);throw new Error("no set or array")}remove(e){if(this.array){const t=this.array.indexOf(e);return-1!==t&&(this.array[t]=void 0,this.arraySize--,t!==this.arraySize&&(this.array[t]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return!!this.set.has(e)&&(this.set.delete(e),!0);throw new Error("no set or array")}visit(e){if(this.array)for(let t=0;t<this.arraySize;t++){const n=this.array[t];void 0!==n&&e(n)}else{if(!this.set)throw new Error("no set or array");this.set.forEach(e)}}}const d=Symbol.for("com.tldraw.state/RESET_VALUE");class h{constructor(e){this.capacity=e,this.buffer=new Array(e)}index=0;buffer;pushEntry(e,t,n){void 0!==n&&(n!==d?(this.buffer[this.index]=[e,t,n],this.index=(this.index+1)%this.capacity):this.clear())}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(e){const{index:t,capacity:n,buffer:r}=this;for(let i=0;i<n;i++){const o=(t-1+n-i)%n,s=r[o];if(!s)return d;const[a,c]=s;if(0===i&&e>=c)return[];if(a<=e&&e<c){const e=i+1,t=new Array(e);for(let i=0;i<e;i++)t[i]=r[(o+i)%n][2];return t}}return d}}class p{constructor(e,t){this.below=e,this.child=t}offset=0;numNewParents=0;maybeRemoved}const f=c("capture",(()=>({stack:null})));function m(e){f.stack=new p(f.stack,e)}function g(){const e=f.stack;if(f.stack=e.below,e.numNewParents>0||e.offset!==e.child.parents.length){for(let t=e.offset;t<e.child.parents.length;t++){const n=e.child.parents[t];e.child.parents.indexOf(n)>=e.offset&&o(n,e.child)}if(e.child.parents.length=e.offset,e.child.parentEpochs.length=e.offset,f.stack?.maybeRemoved)for(let t=0;t<f.stack.maybeRemoved.length;t++){const n=f.stack.maybeRemoved[t];-1===e.child.parents.indexOf(n)&&o(n,e.child)}}}function y(e){if(f.stack){const t=f.stack.child.parents.indexOf(e);if(t<0&&(f.stack.numNewParents++,f.stack.child.isActivelyListening&&s(e,f.stack.child)),t<0||t>=f.stack.offset){if(t!==f.stack.offset&&t>0){const e=f.stack.child.parents[f.stack.offset];f.stack.maybeRemoved?-1===f.stack.maybeRemoved.indexOf(e)&&f.stack.maybeRemoved.push(e):f.stack.maybeRemoved=[e]}f.stack.child.parents[f.stack.offset]=e,f.stack.child.parentEpochs[f.stack.offset]=e.lastChangedEpoch,f.stack.offset++}}}function v(){const e=f.stack?.child;if(!e)throw new Error("whyAmIRunning() called outside of a reactive context");const t=[];for(let n=0;n<e.parents.length;n++){const r=e.parents[n];r.lastChangedEpoch>e.parentEpochs[n]&&t.push(r)}if(0===t.length)console.log(e.name,"is running but none of the parents changed");else{console.log(e.name,"is running because:");for(const e of t)console.log("\t",e.name,"changed =>",e.__unsafe__getWithoutCapture(!0))}}const b=-1;class x{constructor(e,t,n){this.name=e,this.runEffect=t,this._scheduleEffect=n?.scheduleEffect}_isActivelyListening=!1;get isActivelyListening(){return this._isActivelyListening}lastTraversedEpoch=b;lastReactedEpoch=b;_scheduleCount=0;get scheduleCount(){return this._scheduleCount}parentEpochs=[];parents=[];_scheduleEffect;maybeScheduleEffect(){this._isActivelyListening&&this.lastReactedEpoch!==P()&&(!this.parents.length||i(this)?this.scheduleEffect():this.lastReactedEpoch=P())}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}maybeExecute=()=>{this._isActivelyListening&&this.execute()};attach(){this._isActivelyListening=!0;for(let e=0,t=this.parents.length;e<t;e++)s(this.parents[e],this)}detach(){this._isActivelyListening=!1;for(let e=0,t=this.parents.length;e<t;e++)o(this.parents[e],this)}execute(){try{m(this);const e=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=P(),e}finally{g()}}}const O=c("EffectScheduler",(()=>x));function w(e,t,n){const r=new O(e,t,n);return r.attach(),r.scheduleEffect(),()=>{r.detach()}}function S(e,t,n){const r=new O(e,t,n);return{scheduler:r,start:e=>{const t=e?.force??!1;r.attach(),t?r.scheduleEffect():r.maybeScheduleEffect()},stop:()=>{r.detach()}}}class k{constructor(e){this.parent=e}initialAtomValues=new Map;get isRoot(){return null===this.parent}commit(){if(this.isRoot){const e=this.initialAtomValues;this.initialAtomValues=new Map,E(e.keys())}else this.initialAtomValues.forEach(((e,t)=>{this.parent.initialAtomValues.has(t)||this.parent.initialAtomValues.set(t,e)}))}abort(){_.globalEpoch++,this.initialAtomValues.forEach(((e,t)=>{t.set(e),t.historyBuffer?.clear()})),this.commit()}}const _=c("transactions",(()=>({globalEpoch:0,globalIsReacting:!1,currentTransaction:null})));function P(){return _.globalEpoch}function E(e){if(_.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{_.globalIsReacting=!0;const t=new Set,n=e=>{e.lastTraversedEpoch!==_.globalEpoch&&(e.lastTraversedEpoch=_.globalEpoch,e instanceof O?t.add(e):e.children.visit(n))};for(const t of e)t.children.visit(n);for(const e of t)e.maybeScheduleEffect()}finally{_.globalIsReacting=!1}}function C(e){const t=new k(_.currentTransaction);_.currentTransaction=t;try{let n=!1;const r=e((()=>n=!0));return n?t.abort():t.commit(),r}catch(e){throw t.abort(),e}finally{_.currentTransaction=_.currentTransaction.parent}}function T(e){return _.currentTransaction?e():C(e)}class j{constructor(e,t,n){this.name=e,this.current=t,this.isEqual=n?.isEqual??null,n&&(n.historyLength&&(this.historyBuffer=new h(n.historyLength)),this.computeDiff=n.computeDiff)}isEqual;computeDiff;lastChangedEpoch=P();children=new u;historyBuffer;__unsafe__getWithoutCapture(e){return this.current}get(){return y(this),this.current}set(e,t){if(this.isEqual?.(this.current,e)??a(this.current,e))return this.current;_.globalEpoch++,this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,P(),t??this.computeDiff?.(this.current,e,this.lastChangedEpoch,P())??d),this.lastChangedEpoch=P();const n=this.current;return this.current=e,function(e,t){_.currentTransaction?_.currentTransaction.initialAtomValues.has(e)||_.currentTransaction.initialAtomValues.set(e,t):E([e])}(this,n),e}update(e){return this.set(e(this.current))}getDiffSince(e){return y(this),e>=this.lastChangedEpoch?l:this.historyBuffer?.getChangesSince(e)??d}}const I=c("Atom",(()=>j));function M(e,t,n){return new I(e,t,n)}let A=!1;const D=Symbol.for("com.tldraw.state/UNINITIALIZED"),$=e=>e===D,R=c("WithDiff",(()=>class{constructor(e,t){this.value=e,this.diff=t}}));function N(e,t){return new R(e,t)}class L{constructor(e,t,n){this.name=e,this.derive=t,n?.historyLength&&(this.historyBuffer=new h(n.historyLength)),this.computeDiff=n?.computeDiff,this.isEqual=n?.isEqual??a}lastChangedEpoch=b;lastTraversedEpoch=b;lastCheckedEpoch=b;parents=[];parentEpochs=[];children=new u;get isActivelyListening(){return!this.children.isEmpty}historyBuffer;state=D;error=null;computeDiff;isEqual;__unsafe__getWithoutCapture(e){if(!(this.lastChangedEpoch===b||this.lastCheckedEpoch!==P()&&i(this))){if(this.lastCheckedEpoch=P(),this.error){if(e)return this.state;throw this.error.thrownValue}return this.state}try{m(this);const e=this.derive(this.state,this.lastCheckedEpoch),t=e instanceof R?e.value:e,n=this.state===D;if(n||!this.isEqual(t,this.state)){if(this.historyBuffer&&!n){const n=e instanceof R?e.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,P(),n??this.computeDiff?.(this.state,t,this.lastCheckedEpoch,P())??d)}this.lastChangedEpoch=P(),this.state=t}return this.error=null,this.lastCheckedEpoch=P(),this.state}catch(t){if(this.state!==D&&(this.state=D,this.lastChangedEpoch=P()),this.lastCheckedEpoch=P(),this.historyBuffer&&this.historyBuffer.clear(),this.error={thrownValue:t},!e)throw t;return this.state}finally{g()}}get(){try{return this.__unsafe__getWithoutCapture()}finally{y(this)}}getDiffSince(e){return this.__unsafe__getWithoutCapture(!0),y(this),e>=this.lastChangedEpoch?l:this.historyBuffer?.getChangesSince(e)??d}}const Q=c("Computed",(()=>L));function z(e={},t,n,r){return r.get?(A||(A=!0,console.warn("Using `@computed` as a decorator for getters is deprecated and will be removed in the near future. Please refactor to use `@computed` as a decorator for methods.\n\n// Before\n@computed\nget foo() {\n\treturn 'foo'\n}\n\n// After\n@computed\ngetFoo() {\n\treturn 'foo'\n}\n")),function(e={},t,n,r){const i=r.get,o=Symbol.for("__@tldraw/state__computed__"+n);return r.get=function(){let t=this[o];return t||(t=new Q(n,i.bind(this),e),Object.defineProperty(this,o,{enumerable:!1,configurable:!1,writable:!1,value:t})),t.get()},r}(e,0,n,r)):function(e={},t,n,r){const i=r.value,o=Symbol.for("__@tldraw/state__computed__"+n);return r.value=function(){let t=this[o];return t||(t=new Q(n,i.bind(this),e),Object.defineProperty(this,o,{enumerable:!1,configurable:!1,writable:!1,value:t})),t.get()},r.value[F]=!0,r}(e,0,n,r)}const F="@@__isComputedMethod__@@";function B(){if(1===arguments.length){const e=arguments[0];return(t,n,r)=>z(e,0,n,r)}return"string"==typeof arguments[0]?new Q(arguments[0],arguments[1],arguments[2]):z(void 0,0,arguments[1],arguments[2])}if(1!==c("apiVersion",(()=>1)))throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.")},58617:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ANIMATION_MEDIUM_MS:()=>Li,ANIMATION_SHORT_MS:()=>Ni,AlignMenuItems:()=>Xy,Arc2d:()=>mu,ArrangeMenuSubmenu:()=>Mv,ArrayOfValidator:()=>it,ArrowShapeArrowheadEndStyle:()=>Kn,ArrowShapeArrowheadStartStyle:()=>Gn,ArrowShapeTool:()=>Yd,ArrowShapeUtil:()=>Wh,ArrowheadStylePickerSet:()=>tx,AssetRecordType:()=>Mn,AssetUrlsProvider:()=>Wm,BaseBoxShapeTool:()=>uu,BaseBoxShapeUtil:()=>au,BookmarkShapeUtil:()=>Jh,Box:()=>jo,BreakPointProvider:()=>Bm,CAMERA_SLIDE_FRICTION:()=>Yi,CameraRecordType:()=>Wt,Circle2d:()=>gu,ClipboardMenuGroup:()=>_v,CommonStylePickerSet:()=>Gb,ContainerProvider:()=>mo,ContextMenu:()=>Xv,ConversionsMenuGroup:()=>Tv,CopyMenuItem:()=>Ev,CubicBezier2d:()=>yu,CubicSpline2d:()=>vu,CutMenuItem:()=>Pv,DEFAULT_ACCEPTED_IMG_TYPE:()=>Md,DEFAULT_ACCEPTED_VID_TYPE:()=>Ad,DEFAULT_ANIMATION_OPTIONS:()=>qi,DOUBLE_CLICK_DURATION:()=>Bi,DRAG_DISTANCE:()=>Vi,DebugFlags:()=>Kv,DefaultActionsMenu:()=>av,DefaultActionsMenuContent:()=>Yy,DefaultBackground:()=>Kr,DefaultBrush:()=>Di,DefaultCanvas:()=>es,DefaultCollaboratorHint:()=>ws,DefaultColorStyle:()=>Zn,DefaultColorThemePalette:()=>Fn,DefaultContextMenu:()=>Xv,DefaultContextMenuContent:()=>Yv,DefaultCursor:()=>Ss,DefaultDashStyle:()=>Wn,DefaultDebugMenu:()=>rb,DefaultDebugMenuContent:()=>Gv,DefaultErrorFallback:()=>ea,DefaultFillStyle:()=>Un,DefaultFontFamilies:()=>Yn,DefaultFontStyle:()=>qn,DefaultGrid:()=>ks,DefaultHandle:()=>_s,DefaultHandles:()=>Ps,DefaultHelpMenu:()=>ab,DefaultHelpMenuContent:()=>ob,DefaultHelperButtons:()=>hb,DefaultHelperButtonsContent:()=>db,DefaultHorizontalAlignStyle:()=>mr,DefaultHoveredShapeIndicator:()=>Es,DefaultKeyboardShortcutsDialog:()=>yb,DefaultKeyboardShortcutsDialogContent:()=>gb,DefaultMainMenu:()=>Tb,DefaultMainMenuContent:()=>vb,DefaultMinimap:()=>Mb,DefaultPageMenu:()=>Lb,DefaultQuickActions:()=>zb,DefaultQuickActionsContent:()=>Qb,DefaultScribble:()=>Ts,DefaultSelectionBackground:()=>js,DefaultSelectionForeground:()=>Is,DefaultShapeIndicator:()=>Rs,DefaultSizeStyle:()=>Xn,DefaultSnapIndicator:()=>zs,DefaultSpinner:()=>Fs,DefaultStylePanel:()=>ix,DefaultStylePanelContent:()=>Xb,DefaultSvgDefs:()=>Bs,DefaultToolbar:()=>zx,DefaultVerticalAlignStyle:()=>gr,DefaultZoomMenu:()=>Ux,DefaultZoomMenuContent:()=>Wx,DeleteMenuItem:()=>Iv,DictValidator:()=>at,DistributeMenuItems:()=>Hy,DocumentRecordType:()=>vn,DrawShapeTool:()=>Gd,DrawShapeUtil:()=>gp,DuplicateMenuItem:()=>fv,EASINGS:()=>ei,EMBED_DEFINITIONS:()=>lr,EMPTY_ARRAY:()=>o.Ml,EVENT_NAME_MAP:()=>qc,Edge2d:()=>Aa,EditLinkMenuItem:()=>pv,EditSubmenu:()=>xb,Editor:()=>Jc,EditorContext:()=>Hr,Ellipse2d:()=>bu,EmbedShapeUtil:()=>bp,EmbedsGroup:()=>Nv,EnumStyleProp:()=>Dn,EraserTool:()=>Zf,ErrorBoundary:()=>Yr,ErrorScreen:()=>iu,ExampleDialog:()=>eb,ExportFileContentSubMenu:()=>bb,ExtrasGroup:()=>Eb,FeatureFlags:()=>Jv,FileHelpers:()=>E,FitFrameToContentMenuItem:()=>vv,FrameShapeTool:()=>Kd,FrameShapeUtil:()=>kp,GRID_STEPS:()=>Xi,GeoShapeGeoStyle:()=>yr,GeoShapeTool:()=>th,GeoShapeUtil:()=>sf,GeoStylePickerSet:()=>Jb,Geometry2d:()=>Ro,Group2d:()=>No,GroupMenuItem:()=>mv,GroupOrUngroupMenuItem:()=>iv,GroupShapeUtil:()=>Qa,HALF_PI:()=>si,HASH_PATTERN_ZOOM_NAMES:()=>Ui,HIT_TEST_MARGIN:()=>Hi,HTMLContainer:()=>ou,HandTool:()=>qf,HighlightShapeTool:()=>nh,HighlightShapeUtil:()=>lf,ImageShapeUtil:()=>yf,IncrementalSetConstructor:()=>a,InstancePageStateRecordType:()=>dn,InstancePresenceRecordType:()=>mn,KeyboardShortcutsMenuItem:()=>sb,LANGUAGES:()=>zr,LanguageMenu:()=>ib,LaserTool:()=>Hf,LineShapeSplineStyle:()=>Er,LineShapeTool:()=>oh,LineShapeUtil:()=>Ef,LoadingScreen:()=>ru,LockGroup:()=>Sb,MAX_PAGES:()=>Ri,MAX_SHAPES_PER_PAGE:()=>$i,MAX_ZOOM:()=>Fi,MIN_ZOOM:()=>zi,MULTI_CLICK_DURATION:()=>Zi,Mat:()=>$o,MediaHelpers:()=>$,MigrationFailureReason:()=>qe,MiscMenuGroup:()=>wb,MoveToPageMenu:()=>Rv,MultiShapeMenuGroup:()=>kb,NoteShapeTool:()=>ch,NoteShapeUtil:()=>If,ObjectValidator:()=>ot,OfflineIndicator:()=>TO,OpacitySlider:()=>rx,OptionalErrorBoundary:()=>Xr,PI:()=>oi,PI2:()=>ai,PageItemInput:()=>$b,PageItemSubmenu:()=>Nb,PageRecordType:()=>nn,PasteMenuItem:()=>Cv,PngHelpers:()=>D,Point2d:()=>xu,PointerRecordType:()=>hn,Polygon2d:()=>$a,Polyline2d:()=>Da,PreferencesGroup:()=>Cb,PrintItem:()=>qv,ROTATE_CORNER_TO_SELECTION_CORNER:()=>Ao,ReadonlySharedStyleMap:()=>Va,RecordType:()=>Ae,Rectangle2d:()=>Ra,RemoveFrameMenuItem:()=>yv,ReorderMenuItems:()=>Ky,ReorderMenuSubmenu:()=>$v,Result:()=>v,RotateCWMenuItem:()=>nv,SIN:()=>ci,SVGContainer:()=>ba,SVG_PADDING:()=>Wi,SelectTool:()=>Mm,SetSelectionGroup:()=>jv,ShapeSubmenu:()=>Ob,ShapeUtil:()=>Na,SharedStyleMap:()=>Wa,SnapManager:()=>kc,Spinner:()=>Dy,SplineStylePickerSet:()=>ex,StackMenuItems:()=>Gy,Stadium2d:()=>Ou,StateNode:()=>Yc,Store:()=>Be,StoreSchema:()=>Ke,StyleProp:()=>An,T:()=>r,TAB_ID:()=>hl,TLDOCUMENT_ID:()=>bn,TLDRAW_FILE_EXTENSION:()=>XO,TLINSTANCE_ID:()=>sn,TLPOINTER_ID:()=>pn,TL_CANVAS_UI_COLOR_TYPES:()=>Gt,TextShapeTool:()=>hh,TextShapeUtil:()=>$f,TextStylePickerSet:()=>Kb,Tldraw:()=>kO,TldrawEditor:()=>Gl,TldrawHandles:()=>Du,TldrawHoveredShapeIndicator:()=>$u,TldrawImage:()=>CO,TldrawScribble:()=>Uu,TldrawSelectionBackground:()=>qu,TldrawSelectionForeground:()=>Hu,TldrawUi:()=>bO,TldrawUiButton:()=>Jm,TldrawUiButtonCheck:()=>Hv,TldrawUiButtonIcon:()=>tg,TldrawUiButtonLabel:()=>yg,TldrawUiButtonPicker:()=>Vb,TldrawUiComponentsProvider:()=>Xx,TldrawUiContextProvider:()=>yO,TldrawUiDialogBody:()=>wg,TldrawUiDialogCloseButton:()=>Og,TldrawUiDialogFooter:()=>Sg,TldrawUiDialogHeader:()=>bg,TldrawUiDialogTitle:()=>xg,TldrawUiDropdownMenuCheckboxItem:()=>Wy,TldrawUiDropdownMenuContent:()=>Ly,TldrawUiDropdownMenuGroup:()=>By,TldrawUiDropdownMenuIndicator:()=>Zy,TldrawUiDropdownMenuItem:()=>Vy,TldrawUiDropdownMenuRoot:()=>Ry,TldrawUiDropdownMenuSub:()=>Qy,TldrawUiDropdownMenuSubTrigger:()=>zy,TldrawUiDropdownMenuTrigger:()=>Ny,TldrawUiIcon:()=>eg,TldrawUiInput:()=>kg,TldrawUiKbd:()=>Uy,TldrawUiMenuCheckboxItem:()=>cv,TldrawUiMenuContextProvider:()=>pg,TldrawUiMenuGroup:()=>lv,TldrawUiMenuItem:()=>qy,TldrawUiMenuSubmenu:()=>uv,TldrawUiPopover:()=>cg,TldrawUiPopoverContent:()=>ug,TldrawUiPopoverTrigger:()=>lg,TldrawUiSlider:()=>Ub,ToggleAutoSizeMenuItem:()=>hv,ToggleDarkModeItem:()=>Bv,ToggleDebugModeItem:()=>Uv,ToggleEdgeScrollingItem:()=>Vv,ToggleFocusModeItem:()=>Zv,ToggleGridItem:()=>zv,ToggleLockMenuItem:()=>bv,ToggleReduceMotionItem:()=>Wv,ToggleSnapModeItem:()=>Lv,ToggleToolLockItem:()=>Qv,ToggleTransparentBgMenuItem:()=>xv,ToggleWrapModeItem:()=>Fv,USER_COLORS:()=>oa,UiEventsProvider:()=>og,UndoRedoGroup:()=>_b,UngroupMenuItem:()=>gv,UnionValidator:()=>st,UnlockAllMenuItem:()=>Ov,Validator:()=>rt,Vec:()=>ti,VideoShapeUtil:()=>Nf,ViewSubmenu:()=>Pb,WeakMapCache:()=>Ua,ZERO_INDEX_KEY:()=>me,ZOOMS:()=>Qi,ZoomOrRotateMenuItem:()=>Jy,ZoomTo100MenuItem:()=>wv,ZoomToFitMenuItem:()=>Sv,ZoomToSelectionMenuItem:()=>kv,ZoomTool:()=>Rm,angleDistance:()=>Ii,annotateError:()=>_,applyRotationToSnapshotShapes:()=>Ga,approximately:()=>di,areAnglesCompatible:()=>bi,areArraysShallowEqual:()=>f,areObjectsShallowEqual:()=>X,arrowShapeMigrations:()=>tr,arrowShapeProps:()=>er,assert:()=>x,assertExists:()=>O,assertIdType:()=>$e,assetIdValidator:()=>Zt,assetMigrations:()=>In,assetValidator:()=>jn,atom:()=>o.eU,average:()=>ii,bookmarkShapeMigrations:()=>rr,bookmarkShapeProps:()=>nr,boxModelValidator:()=>qt,buildFromV1Document:()=>IO,canonicalizeRotation:()=>pi,canvasUiColorTypeValidator:()=>Kt,clamp:()=>li,clampRadians:()=>yi,clockwiseAngleDist:()=>fi,compact:()=>u,compareRecordVersions:()=>Xe,compareSchemas:()=>Je,computed:()=>o.EW,containBoxSize:()=>jd,copyAs:()=>dy,coreShapes:()=>za,counterClockwiseAngleDist:()=>mi,createAssetValidator:()=>Vt,createPresenceStateDerivation:()=>gn,createRecordType:()=>De,createSessionStateSnapshotSignal:()=>gl,createShapeId:()=>Ln,createShapeValidator:()=>ln,createTLSchema:()=>Qr,createTLStore:()=>Vl,createTLUser:()=>ya,dataUrlToFile:()=>qa,debounce:()=>S,debugFlags:()=>io,dedupe:()=>l,deepCopy:()=>B,defaultShapeTools:()=>ph,defaultShapeUtils:()=>Qf,defaultTools:()=>Nm,defaultUserPreferences:()=>sa,defineMigrations:()=>Ue,degreesToRadians:()=>xi,devFreeze:()=>Fe,downsizeImage:()=>Id,drawShapeMigrations:()=>sr,drawShapeProps:()=>or,embedShapeMigrations:()=>hr,embedShapePermissionDefaults:()=>ur,embedShapeProps:()=>dr,exhaustiveSwitchError:()=>b,exportAs:()=>gy,exportToBlob:()=>ly,extractSessionStateFromLegacySnapshot:()=>vl,featureFlags:()=>no,filterEntries:()=>q,fitFrameToContent:()=>gg,frameShapeMigrations:()=>fr,frameShapeProps:()=>pr,geoShapeMigrations:()=>br,geoShapeProps:()=>vr,getArcMeasure:()=>Ai,getArrowTerminalsInArrowSpace:()=>Lc,getCursor:()=>ll,getDefaultColorTheme:()=>Bn,getDefaultTranslationLocale:()=>Fr,getEmbedInfo:()=>Nd,getErrorAnnotations:()=>P,getFirstFromIterable:()=>M,getFreshUserPreferences:()=>aa,getHashForBuffer:()=>j,getHashForObject:()=>T,getHashForString:()=>C,getIncrementedName:()=>Ya,getIndexAbove:()=>Oe,getIndexBelow:()=>we,getIndexBetween:()=>xe,getIndices:()=>Se,getIndicesAbove:()=>ve,getIndicesBelow:()=>be,getIndicesBetween:()=>ye,getOwnProperty:()=>F,getPointInArcT:()=>Mi,getPointOnCircle:()=>wi,getPointerInfo:()=>po,getPolygonVertices:()=>Si,getRecordVersion:()=>Ye,getRotationSnapshot:()=>Ha,getShapePropKeysByStyle:()=>Qn,getSvgAsImage:()=>oy,getSvgAsString:()=>sy,getSvgPathFromPoints:()=>Cs,getUserPreferences:()=>ga,groupShapeMigrations:()=>Or,groupShapeProps:()=>xr,hardReset:()=>ku,hardResetEditor:()=>Gs,hasOwnProperty:()=>z,highlightShapeMigrations:()=>Sr,highlightShapeProps:()=>wr,idValidator:()=>Bt,imageShapeMigrations:()=>Pr,imageShapeProps:()=>_r,intersectCircleCircle:()=>ka,intersectCirclePolygon:()=>_a,intersectCirclePolyline:()=>Pa,intersectLineSegmentCircle:()=>Oa,intersectLineSegmentLineSegment:()=>xa,intersectLineSegmentPolygon:()=>Sa,intersectLineSegmentPolyline:()=>wa,intersectPolygonBounds:()=>Ea,intersectPolygonPolygon:()=>ja,invLerp:()=>N,isDefined:()=>Pe,isGifAnimated:()=>Dd,isNonNull:()=>Ee,isNonNullish:()=>Ce,isPageId:()=>rn,isSafeFloat:()=>ji,isShape:()=>Rn,isShapeId:()=>Nn,last:()=>d,lerp:()=>R,lineShapeMigrations:()=>jr,lineShapeProps:()=>Tr,linesIntersect:()=>Ta,lns:()=>I,loadSessionStateSnapshotIntoStore:()=>yl,loopToHtmlElement:()=>ao,mapObjectMapValues:()=>Y,migrate:()=>Ge,migrateRecord:()=>He,minBy:()=>h,modulate:()=>Q,moveCameraWhenCloseToEdge:()=>Su,noop:()=>y,normalizeWheel:()=>ko,noteShapeMigrations:()=>Mr,noteShapeProps:()=>Ir,objectMapEntries:()=>W,objectMapFromEntries:()=>U,objectMapKeys:()=>Z,objectMapValues:()=>V,omitFromStackTrace:()=>g,opacityValidator:()=>Ht,openWindow:()=>_u,pageIdValidator:()=>tn,parentIdValidator:()=>an,parseAndLoadDocument:()=>tw,parseTldrawJsonFile:()=>KO,partition:()=>p,perimeterOfEllipse:()=>hi,pointInPolygon:()=>Ei,polygonsIntersect:()=>Ma,precise:()=>ri,preloadFont:()=>i,preventDefault:()=>co,promiseWithResolve:()=>w,radiansToDegrees:()=>Oi,rafThrottle:()=>te,rangeIntersection:()=>_i,react:()=>o.wv,refreshPage:()=>Ks,releasePointerCapture:()=>uo,removeFrame:()=>fg,resizeBox:()=>su,reverseRecordsDiff:()=>Ve,rng:()=>L,rootShapeMigrations:()=>$n,rotateArray:()=>c,rotateSelectionHandle:()=>Mo,runtime:()=>Xs,scribbleValidator:()=>en,serializeTldrawJson:()=>JO,serializeTldrawJsonBlob:()=>ew,setDefaultEditorAssetUrls:()=>lO,setDefaultUiAssetUrls:()=>hO,setPointerCapture:()=>lo,setRuntimeOverrides:()=>Hs,setUserPreferences:()=>ua,shapeIdValidator:()=>cn,shortAngleDist:()=>gi,snapAngle:()=>vi,sortById:()=>_e,sortByIndex:()=>ke,squashRecordDiffs:()=>Ze,stopEventPropagation:()=>ho,structuredClone:()=>Te,textShapeMigrations:()=>Dr,textShapeProps:()=>Ar,throttle:()=>m,throttledRaf:()=>ne,toDomPrecision:()=>Ci,toFixed:()=>Ti,toPrecision:()=>ui,toolbarItem:()=>Ax,track:()=>s.u4,transact:()=>o.hL,transaction:()=>o.Rn,truncateStringWithEllipsis:()=>Bd,uniq:()=>Fo,uniqueId:()=>ta,unwrapLabel:()=>Ey,useActions:()=>Py,useAssetUrls:()=>Um,useBreakpoint:()=>Zm,useCanRedo:()=>Mu,useCanUndo:()=>Au,useComputed:()=>s.HO,useContainer:()=>go,useCopyAs:()=>my,useDefaultHelpers:()=>fO,useDialogs:()=>wy,useEditor:()=>Gr,useEditorComponents:()=>Ys,useExportAs:()=>vy,useIsCropping:()=>du,useIsDarkMode:()=>nl,useIsEditing:()=>hu,useKeyboardShortcuts:()=>jx,useLocalStorageState:()=>Ab,useLocalStore:()=>ql,useMenuClipboardEvents:()=>ry,useMenuIsOpen:()=>ag,useNativeClipboardEvents:()=>iy,usePeerIds:()=>Bo,usePresence:()=>Zo,useQuickReactor:()=>s.lX,useReactor:()=>s.a1,useReadonly:()=>Yu,useRelevantStyles:()=>Bb,useSelectionEvents:()=>pu,useShallowArrayIdentity:()=>Vs,useShallowObjectIdentity:()=>Ws,useTLStore:()=>Ul,useTldrawUiComponents:()=>Hx,useToasts:()=>fy,useToolbarSchema:()=>Rx,useTools:()=>mb,useTransform:()=>Jr,useTranslation:()=>Km,useUiEvents:()=>sg,useValue:()=>s.h,validateIndexKey:()=>ge,vecModelValidator:()=>Ut,videoShapeMigrations:()=>Rr,videoShapeProps:()=>$r,warnDeprecatedGetter:()=>Ie,whyAmIRunning:()=>o.Xl});var r={};async function i(e,t){const{url:n,style:r="normal",weight:i="500",display:o,featureSettings:s,stretch:a,unicodeRange:c,variant:l,format:u}=t,d=new FontFace(e,`url(${n})`,{style:r,weight:i,display:o,featureSettings:s,stretch:a,unicodeRange:c,variant:l});return await d.load(),document.fonts.add(d),d.$$_url=n,d.$$_fontface=`\n@font-face {\n\tfont-family: ${d.family};\n\tfont-stretch: ${d.stretch};\n\tfont-weight: ${d.weight};\n\tfont-style: ${d.style};\n\tsrc: url("${n}") format("${u}")\n}`,d}n.r(r),n.d(r,{ArrayOfValidator:()=>it,DictValidator:()=>at,ObjectValidator:()=>ot,UnionValidator:()=>st,ValidationError:()=>et,Validator:()=>rt,any:()=>ut,array:()=>Ot,arrayOf:()=>wt,bigint:()=>bt,boolean:()=>vt,dict:()=>Tt,indexKey:()=>Ft,integer:()=>mt,jsonDict:()=>Ct,jsonValue:()=>Et,linkUrl:()=>Lt,literal:()=>xt,literalEnum:()=>$t,model:()=>It,nonZeroInteger:()=>yt,nonZeroNumber:()=>ft,nullable:()=>Dt,number:()=>ht,object:()=>kt,optional:()=>At,positiveInteger:()=>gt,positiveNumber:()=>pt,setEnum:()=>Mt,srcUrl:()=>zt,string:()=>dt,union:()=>jt,unknown:()=>lt,unknownObject:()=>St});var o=n(139),s=n(41663);class a{constructor(e){this.previousValue=e}nextValue;diff;get(){const e=this.diff?.removed?.size??0,t=this.diff?.added?.size??0;if(0!==e||0!==t)return{value:this.nextValue,diff:this.diff}}_add(e,t){this.nextValue??=new Set(this.previousValue),this.nextValue.add(e),this.diff??={},t?this.diff.removed?.delete(e):(this.diff.added??=new Set,this.diff.added.add(e))}add(e){const t=this.previousValue.has(e);if(t){const n=this.diff?.removed?.has(e);if(!n)return;return this._add(e,t)}const n=this.nextValue?.has(e);n||this._add(e,t)}_remove(e,t){this.nextValue??=new Set(this.previousValue),this.nextValue.delete(e),this.diff??={},t?(this.diff.removed??=new Set,this.diff.removed.add(e)):this.diff.added?.delete(e)}remove(e){const t=this.previousValue.has(e);if(!t){const n=this.diff?.added?.has(e);if(!n)return;return this._remove(e,t)}const n=this.diff?.removed?.has(e);n||this._remove(e,t)}}function c(e,t){return e.map(((n,r)=>e[(r+t)%e.length]))}function l(e,t){const n=[];e:for(const r of e){for(const e of n)if(t?t(r,e):r===e)continue e;n.push(r)}return n}function u(e){return e.filter((e=>null!=e))}function d(e){return e[e.length-1]}function h(e,t){let n,r=1/0;for(const i of e){const e=t(i);e<r&&(n=i,r=e)}return n}function p(e,t){const n=[],r=[];for(const i of e)t(i)?n.push(i):r.push(i);return[n,r]}function f(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}function m(e,t){let n,r;return function(...i){return n||(n=!0,setTimeout((()=>n=!1),t),r=e(...i)),r}}function g(e){const t=(...n)=>{try{return e(...n)}catch(e){throw e instanceof Error&&Error.captureStackTrace&&Error.captureStackTrace(e,t),e}};return t}function y(){}const v={ok:e=>({ok:!0,value:e}),err:e=>({ok:!1,error:e})};function b(e,t){const n=t&&e&&"object"==typeof e&&t in e?e[t]:e;throw new Error(`Unknown switch case ${n}`)}const x=g(((e,t)=>{if(!e)throw new Error(t||"Assertion Error")})),O=g(((e,t)=>{if(null==e)throw new Error(t??"value must be defined");return e}));function w(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return Object.assign(n,{resolve:e,reject:t})}function S(e,t){let n;const r=(...r)=>(n||(n={},n.promise=new Promise(((e,t)=>{n.resolve=e,n.reject=t}))),clearTimeout(n.timeout),n.latestArgs=r,n.timeout=setTimeout((()=>{const t=n;n=void 0;try{t.resolve(e(...t.latestArgs))}catch(e){t.reject(e)}}),t),n.promise);return r.cancel=()=>{n&&clearTimeout(n.timeout)},r}const k=new WeakMap;function _(e,t){if("object"!=typeof e||null===e)return;let n=k.get(e);n||(n={tags:{},extras:{}},k.set(e,n)),t.tags&&(n.tags={...n.tags,...t.tags}),t.extras&&(n.extras={...n.extras,...t.extras})}function P(e){return k.get(e)??{tags:{},extras:{}}}class E{static async base64ToFile(e){return fetch(e).then((function(e){return e.arrayBuffer()}))}static async fileToBase64(e){return await new Promise(((t,n)=>{if(e){const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=e=>n(e),r.onabort=e=>n(e)}}))}}function C(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t+""}function T(e){return C(JSON.stringify(e))}function j(e){const t=new DataView(e);let n=0;for(let e=0;e<t.byteLength;e++)n=(n<<5)-n+t.getUint8(e),n|=0;return n+""}function I(e){const t=e.split("");return t.push(...t.splice(0,Math.round(t.length/5))),t.push(...t.splice(0,Math.round(t.length/4))),t.push(...t.splice(0,Math.round(t.length/3))),t.push(...t.splice(0,Math.round(t.length/2))),t.reverse().map((e=>+e?+e<5?+e+5:+e>5?+e-5:e:e)).join("")}function M(e){return e.values().next().value}let A=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!=typeof Int32Array&&(A=new Int32Array(A));class D{static isPng(e,t){return 137===e.getUint8(t+0)&&80===e.getUint8(t+1)&&78===e.getUint8(t+2)&&71===e.getUint8(t+3)&&13===e.getUint8(t+4)&&10===e.getUint8(t+5)&&26===e.getUint8(t+6)&&10===e.getUint8(t+7)}static getChunkType(e,t){return[String.fromCharCode(e.getUint8(t)),String.fromCharCode(e.getUint8(t+1)),String.fromCharCode(e.getUint8(t+2)),String.fromCharCode(e.getUint8(t+3))].join("")}static readChunks(e,t=0){const n={};if(!D.isPng(e,t))throw new Error("Not a PNG");for(t+=8;t<=e.buffer.byteLength;){const r=t,i=e.getInt32(t);t+=4;const o=D.getChunkType(e,t);if("IDAT"===o&&n[o])t+=i+4+4;else{if("IEND"===o)break;n[o]={start:r,dataOffset:t+4,size:i},t+=i+4+4}}return n}static parsePhys(e,t){return{ppux:e.getUint32(t),ppuy:e.getUint32(t+4),unit:e.getUint8(t+4)}}static findChunk(e,t){return D.readChunks(e)[t]}static setPhysChunk(e,t=1,n){let r=46,i=0;const o=D.findChunk(e,"pHYs");o&&(r=o.start,i=o.size);const s=D.findChunk(e,"IDAT");s&&(r=s.start,i=0);const a=new ArrayBuffer(21),c=new DataView(a);c.setUint32(0,9),c.setUint8(4,"p".charCodeAt(0)),c.setUint8(5,"H".charCodeAt(0)),c.setUint8(6,"Y".charCodeAt(0)),c.setUint8(7,"s".charCodeAt(0));const l=2835.5;c.setInt32(8,l*t),c.setInt32(12,l*t),c.setInt8(16,1);const u=new Uint8Array(a.slice(4,17));c.setInt32(17,((e,t)=>{let n=-1;for(let t=0;t<e.length;t++)n=A[255&(n^e[t])]^n>>>8;return-1^n})(u));const d=e.buffer.slice(0,r),h=e.buffer.slice(r+i);return new Blob([d,a,h],n)}}class ${static loadVideo(e){return new Promise(((t,n)=>{const r=document.createElement("video");r.onloadeddata=()=>t(r),r.onerror=e=>{console.error(e),n(new Error("Could not load video"))},r.crossOrigin="anonymous",r.src=e}))}static loadImage(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=e=>{console.error(e),n(new Error("Could not load image"))},r.crossOrigin="anonymous",r.src=e}))}static blobToDataUrl(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=e=>{console.error(e),n(new Error("Could not read blob"))},r.readAsDataURL(e)}))}static async getVideoSize(e){return $.usingObjectURL(e,(async e=>{const t=await $.loadVideo(e);return{w:t.videoWidth,h:t.videoHeight}}))}static async getImageSize(e){const t=await $.usingObjectURL(e,$.loadImage);try{if("image/png"===e.type){const n=new DataView(await e.arrayBuffer());if(D.isPng(n,0)){const e=D.findChunk(n,"pHYs");if(e){const r=D.parsePhys(n,e.dataOffset);if(0===r.unit&&r.ppux===r.ppuy){const e=Math.max(r.ppux/2834.5,1);return{w:Math.round(t.naturalWidth/e),h:Math.round(t.naturalHeight/e)}}}}}}catch(e){return console.error(e),{w:t.naturalWidth,h:t.naturalHeight}}return{w:t.naturalWidth,h:t.naturalHeight}}static async usingObjectURL(e,t){const n=URL.createObjectURL(e);try{return await t(n)}finally{URL.revokeObjectURL(n)}}}function R(e,t,n){return e+(t-e)*n}function N(e,t,n){return(n-e)/(t-e)}function L(e=""){let t=0,n=0,r=0,i=0;function o(){const e=t^t<<11;return t=n,n=r,r=i,i^=(i>>>19^e^e>>>8)>>>0,i/4294967296*2}for(let n=0;n<e.length+64;n++)t^=0|e.charCodeAt(n),o();return o}function Q(e,t,n,r=!1){const[i,o]=t,[s,a]=n,c=s+(e-i)/(o-i)*(a-s);return r?s<a?Math.max(Math.min(c,a),s):Math.max(Math.min(c,s),a):c}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function F(e,t){if(z(e,t))return e[t]}function B(e){if(!e)return e;if(Array.isArray(e)){const t=[],n=e.length;for(let r=0;r<n;r++)t.push(B(e[r]));return t}if("object"==typeof e){const t=Object.keys(e),n=t.length,r={};for(let i=0;i<n;i++){const n=t[i];r[n]=B(e[n])}return r}return e}function Z(e){return Object.keys(e)}function V(e){return Object.values(e)}function W(e){return Object.entries(e)}function U(e){return Object.fromEntries(e)}function q(e,t){const n={};let r=!1;for(const[i,o]of W(e))t(i,o)?n[i]=o:r=!0;return r?n:e}function Y(e,t){const n={};for(const[r,i]of W(e)){const e=t(r,i);n[r]=e}return n}function X(e,t){if(e===t)return!0;const n=new Set(Object.keys(e)),r=new Set(Object.keys(t));if(n.size!==r.size)return!1;for(const i of n){if(!r.has(i))return!1;if(!Object.is(e[i],t[i]))return!1}return!0}const H=()=>"undefined"!=typeof process&&!1,G=[],K=()=>{const e=G.splice(0,G.length);for(const t of e)t()};let J;function ee(){J||(J=requestAnimationFrame((()=>{J=void 0,K()})))}function te(e){return H()?e:()=>{G.includes(e)||(G.push(e),ee())}}function ne(e){if(H())return e();G.includes(e)||(G.push(e),ee())}const re="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ie="a0",oe="A00000000000000000000000000";function se(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-"a".charCodeAt(0)+2;if(e>="A"&&e<="Z")return"Z".charCodeAt(0)-e.charCodeAt(0)+2;throw new Error("Invalid index key head: "+e)}function ae(e){if(e.length!==se(e.charAt(0)))throw new Error("invalid integer part of index key: "+e)}function ce(e){if(void 0===e)throw Error("n is undefined")}function le(e){ae(e);const[t,...n]=e.split("");let r=!0;for(let e=n.length-1;r&&e>=0;e--){const t=re.indexOf(n[e])+1;t===re.length?n[e]="0":(n[e]=re.charAt(t),r=!1)}if(r){if("Z"===t)return"a0";if("z"===t)return;const e=String.fromCharCode(t.charCodeAt(0)+1);return e>"a"?n.push("0"):n.pop(),e+n.join("")}return t+n.join("")}function ue(e,t){if(void 0!==t&&e>=t)throw new Error(e+" >= "+t);if("0"===e.slice(-1)||t&&"0"===t.slice(-1))throw new Error("trailing zero");if(t){let n=0;for(;(e.charAt(n)||"0")===t.charAt(n);)n++;if(n>0)return t.slice(0,n)+ue(e.slice(n),t.slice(n))}const n=e?re.indexOf(e.charAt(0)):0,r=void 0!==t?re.indexOf(t.charAt(0)):re.length;if(r-n>1){const e=Math.round(.5*(n+r));return re.charAt(e)}return t&&t.length>1?t.slice(0,1):re.charAt(n)+ue(e.slice(1),void 0)}function de(e){const t=se(e.charAt(0));if(t>e.length)throw new Error("invalid index: "+e);return e.slice(0,t)}function he(e){if(e===oe)throw new Error("invalid index: "+e);const t=de(e);if("0"===e.slice(t.length).slice(-1))throw new Error("invalid index: "+e)}function pe(e,t){if(void 0!==e&&he(e),void 0!==t&&he(t),void 0!==e&&void 0!==t&&e>=t)throw new Error(e+" >= "+t);if(void 0===e&&void 0===t)return ie;if(void 0===e){if(void 0===t)throw Error("b is undefined");const e=de(t),n=t.slice(e.length);if(e===oe)return e+ue("",n);if(e<t)return e;const r=function(e){ae(e);const[t,...n]=e.split("");let r=!0;for(let e=n.length-1;r&&e>=0;e--){const t=re.indexOf(n[e])-1;-1===t?n[e]=re.slice(-1):(n[e]=re.charAt(t),r=!1)}if(r){if("a"===t)return"Z"+re.slice(-1);if("A"===t)return;const e=String.fromCharCode(t.charCodeAt(0)-1);return e<"Z"?n.push(re.slice(-1)):n.pop(),e+n.join("")}return t+n.join("")}(e);return ce(r),r}if(void 0===t){const t=de(e),n=e.slice(t.length),r=le(t);return void 0===r?t+ue(n,void 0):r}const n=de(e),r=e.slice(n.length),i=de(t),o=t.slice(i.length);if(n===i)return n+ue(r,o);const s=le(n);return ce(s),s<t?s:n+ue(r,void 0)}function fe(e,t,n){if(0===n)return[];if(1===n)return[pe(e,t)];if(void 0===t){let r=pe(e,t);const i=[r];for(let e=0;e<n-1;e++)r=pe(r,t),i.push(r);return i}if(void 0===e){let r=pe(e,t);const i=[r];for(let t=0;t<n-1;t++)r=pe(e,r),i.push(r);return i.reverse(),i}const r=Math.floor(n/2),i=pe(e,t);return[...fe(e,i,r),i,...fe(i,t,n-r-1)]}const me=ie;function ge(e){he(e)}function ye(e,t,n){return fe(e,t,n)}function ve(e,t){return fe(e,void 0,t)}function be(e,t){return fe(void 0,e,t)}function xe(e,t){return fe(e,t,1)[0]}function Oe(e){return fe(e,void 0,1)[0]}function we(e){return fe(void 0,e,1)[0]}function Se(e,t="a1"){return[t,...fe(t,void 0,e)]}function ke(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function _e(e,t){return e.id>t.id?1:-1}function Pe(e){return void 0!==e}function Ee(e){return null!==e}function Ce(e){return null!=e}const Te="undefined"!=typeof window&&window.structuredClone?window.structuredClone:e=>e?JSON.parse(JSON.stringify(e)):e,je=new Set;function Ie(e){je.has(e)||(je.add(e),console.warn(`Using '${e}' is deprecated and will be removed in the near future. Please refactor to use 'get${e[0].toLocaleUpperCase()}${e.slice(1)}' instead.`))}let Me=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"");class Ae{constructor(e,t){this.typeName=e,this.createDefaultProperties=t.createDefaultProperties,this.migrations=t.migrations,this.validator=t.validator??{validate:e=>e},this.scope=t.scope??"document"}createDefaultProperties;migrations;validator;scope;create(e){const t={...this.createDefaultProperties(),id:this.createId()};for(const[n,r]of Object.entries(e))void 0!==r&&(t[n]=r);return t.typeName=this.typeName,t}clone(e){return{...Te(e),id:this.createId()}}createId(e){return this.typeName+":"+(e??Me())}createCustomId(e){return this.typeName+":"+e}parseId(e){if(!this.isId(e))throw new Error(`ID "${e}" is not a valid ID for type "${this.typeName}"`);return e.slice(this.typeName.length+1)}isInstance=e=>e?.typeName===this.typeName;isId(e){if(!e)return!1;for(let t=0;t<this.typeName.length;t++)if(e[t]!==this.typeName[t])return!1;return":"===e[this.typeName.length]}withDefaultProperties(e){return new Ae(this.typeName,{createDefaultProperties:e,migrations:this.migrations,validator:this.validator,scope:this.scope})}validate(e,t){return t&&this.validator.validateUsingKnownGoodVersion?this.validator.validateUsingKnownGoodVersion(t,e):this.validator.validate(e)}}function De(e,t){return new Ae(e,{createDefaultProperties:()=>({}),migrations:t.migrations??{currentVersion:0,firstVersion:0,migrators:{}},validator:t.validator,scope:t.scope})}function $e(e,t){if(!e||!t.isId(e))throw new Error(`string ${JSON.stringify(e)} is not a valid ${t.typeName} id`)}class Re{items=new WeakMap;get(e,t){return this.items.has(e)||this.items.set(e,t(e)),this.items.get(e)}}var Ne=n(3497);function Le(e,t){for(const[n,r]of Object.entries(e)){const e=r,i=t[n];if("eq"in e&&i!==e.eq)return!1;if("neq"in e&&i===e.neq)return!1;if("gt"in e&&("number"!=typeof i||i<=e.gt))return!1}return!0}function Qe(e,t,n){const r=Object.fromEntries(Object.keys(n).map((e=>[e,new Set])));for(const[i,o]of Object.entries(n))if("eq"in o){const n=e.index(t,i).get().get(o.eq);if(n)for(const e of n)r[i].add(e)}else if("neq"in o){const n=e.index(t,i);for(const[e,t]of n.get())if(e!==o.neq)for(const e of t)r[i].add(e)}else if("gt"in o){const n=e.index(t,i);for(const[e,t]of n.get())if(e>o.gt)for(const e of t)r[i].add(e)}return function(e){if(0===e.length)return new Set;const t=e[0],n=e.slice(1),r=new Set;for(const e of t)n.every((t=>t.has(e)))&&r.add(e);return r}(Object.values(r))}class ze{constructor(e,t){this.atoms=e,this.history=t}indexCache=new Map;historyCache=new Map;filterHistory(e){if(this.historyCache.has(e))return this.historyCache.get(e);const t=(0,o.EW)("filterHistory:"+e,((t,n)=>{if((0,o._O)(t))return this.history.get();const r=this.history.getDiffSince(n);if(r===o.c2)return this.history.get();const i={added:{},removed:{},updated:{}};let s=0,a=0,c=0;for(const t of r){for(const n of V(t.added))if(n.typeName===e)if(i.removed[n.id]){const e=i.removed[n.id];delete i.removed[n.id],a--,e!==n&&(i.updated[n.id]=[e,n],c++)}else i.added[n.id]=n,s++;for(const[n,r]of V(t.updated))r.typeName===e&&(i.added[r.id]?i.added[r.id]=r:i.updated[r.id]?i.updated[r.id]=[i.updated[r.id][0],r]:(i.updated[r.id]=[n,r],c++));for(const n of V(t.removed))n.typeName===e&&(i.added[n.id]?(delete i.added[n.id],s--):i.updated[n.id]?(i.removed[n.id]=i.updated[n.id][0],delete i.updated[n.id],c--,a++):(i.removed[n.id]=n,a++))}return s||a||c?(0,o._D)(this.history.get(),i):t}),{historyLength:100});return this.historyCache.set(e,t),t}index(e,t){const n=e+":"+t;if(this.indexCache.has(n))return this.indexCache.get(n);const r=this.__uncached_createIndex(e,t);return this.indexCache.set(n,r),r}__uncached_createIndex(e,t){const n=this.filterHistory(e),r=()=>{n.get();const r=new Map;for(const n of V(this.atoms.get())){const i=n.get();if(i.typeName===e){const e=i[t];r.has(e)||r.set(e,new Set),r.get(e).add(i.id)}}return r};return(0,o.EW)("index:"+e+":"+t,((i,s)=>{if((0,o._O)(i))return r();const c=n.getDiffSince(s);if(c===o.c2)return r();const l=new Map,u=(e,t)=>{let n=l.get(e);n||(n=new a(i.get(e)??new Set)),n.add(t),l.set(e,n)},d=(e,t)=>{let n=l.get(e);n||(n=new a(i.get(e)??new Set)),n.remove(t),l.set(e,n)};for(const n of c){for(const r of V(n.added))r.typeName===e&&u(r[t],r.id);for(const[r,i]of V(n.updated))if(i.typeName===e){const e=r[t],n=i[t];e!==n&&(d(e,i.id),u(n,i.id))}for(const r of V(n.removed))r.typeName===e&&d(r[t],r.id)}let h,p;for(const[e,t]of l){const n=t.get();n&&(h||(h=new Map(i)),p||(p=new Map),0===n.value.size?h.delete(e):h.set(e,n.value),p.set(e,n.diff))}return h&&p?(0,o._D)(h,p):i}),{historyLength:100})}record(e,t=(()=>({})),n="record:"+e+(t?":"+t.toString():"")){const r=this.ids(e,t,n);return(0,o.EW)(n,(()=>{for(const e of r.get())return this.atoms.get()[e]?.get()}))}records(e,t=(()=>({})),n="records:"+e+(t?":"+t.toString():"")){const r=this.ids(e,t,"ids:"+n);return(0,o.EW)(n,(()=>[...r.get()].map((e=>{const t=this.atoms.get()[e];if(!t)throw new Error("no atom found for record id: "+e);return t.get()}))))}ids(e,t=(()=>({})),n="ids:"+e+(t?":"+t.toString():"")){const r=this.filterHistory(e),i=()=>{r.get();const n=t();return 0===Object.keys(n).length?new Set(V(this.atoms.get()).flatMap((t=>{const n=t.get();return n.typeName===e?n.id:[]}))):Qe(this,e,n)},s=e=>{const t=i(),n=function(e,t){const n={};for(const r of t)e.has(r)||(n.added??=new Set,n.added.add(r));for(const r of e)t.has(r)||(n.removed??=new Set,n.removed.add(r));return n.added||n.removed?n:void 0}(e,t);return n?(0,o._D)(t,n):e},c=(0,o.EW)("ids_query:"+n,t,{isEqual:Ne});return(0,o.EW)("query:"+n,((t,n)=>{const l=c.get();if((0,o._O)(t))return i();if(n<c.lastChangedEpoch)return s(t);const u=r.getDiffSince(n);if(u===o.c2)return s(t);const d=new a(t);for(const t of u){for(const n of V(t.added))n.typeName===e&&Le(l,n)&&d.add(n.id);for(const[n,r]of V(t.updated))r.typeName===e&&(Le(l,r)?d.add(r.id):d.remove(r.id));for(const n of V(t.removed))n.typeName===e&&d.remove(n.id)}const h=d.get();return h?(0,o._D)(h.value,h.diff):t}),{historyLength:50})}exec(e,t){const n=Qe(this,e,t);if(0===n.size)return o.Ml;const r=this.atoms.get();return[...n].map((e=>r[e].get()))}}function Fe(e){return e}class Be{id=Me();atoms=(0,o.eU)("store_atoms",{});history=(0,o.eU)("history",0,{historyLength:1e3});query=new ze(this.atoms,this.history);listeners=new Set;historyAccumulator=new We;historyReactor;schema;props;scopedTypes;constructor(e){const{initialData:t,schema:n}=e;this.schema=n,this.props=e.props,t&&this.atoms.set(U(W(t).map((([e,t])=>[e,(0,o.eU)("atom:"+e,this.schema.validateRecord(this,t,"initialize",null))])))),this.historyReactor=(0,o.Px)("Store.historyReactor",(()=>{this.history.get(),this._flushHistory()}),{scheduleEffect:e=>ne(e)}),this.scopedTypes={document:new Set(V(this.schema.types).filter((e=>"document"===e.scope)).map((e=>e.typeName))),session:new Set(V(this.schema.types).filter((e=>"session"===e.scope)).map((e=>e.typeName))),presence:new Set(V(this.schema.types).filter((e=>"presence"===e.scope)).map((e=>e.typeName)))}}_flushHistory(){if(this.historyAccumulator.hasChanges()){const e=this.historyAccumulator.flush();for(const{changes:t,source:n}of e){let e=null,r=null,i=null;for(const{onHistory:o,filters:s}of this.listeners)if("all"===s.source||s.source===n)if("all"!==s.scope)if("document"===s.scope){if(r??=this.filterChangesByScope(t,"document"),!r)continue;o({changes:r,source:n})}else if("session"===s.scope){if(e??=this.filterChangesByScope(t,"session"),!e)continue;o({changes:e,source:n})}else{if(i??=this.filterChangesByScope(t,"presence"),!i)continue;o({changes:i,source:n})}else o({changes:t,source:n})}}}filterChangesByScope(e,t){const n={added:q(e.added,((e,n)=>this.scopedTypes[t].has(n.typeName))),updated:q(e.updated,((e,n)=>this.scopedTypes[t].has(n[1].typeName))),removed:q(e.removed,((e,n)=>this.scopedTypes[t].has(n.typeName)))};return 0===Object.keys(n.added).length&&0===Object.keys(n.updated).length&&0===Object.keys(n.removed).length?null:n}updateHistory(e){this.historyAccumulator.add({changes:e,source:this.isMergingRemoteChanges?"remote":"user"}),0===this.listeners.size&&this.historyAccumulator.clear(),this.history.set(this.history.get()+1,e)}validate(e){this.allRecords().forEach((t=>this.schema.validateRecord(this,t,e,null)))}onBeforeCreate;onAfterCreate;onBeforeChange;onAfterChange;onBeforeDelete;onAfterDelete;_runCallbacks=!0;put=(e,t)=>{(0,o.hL)((()=>{const n={},r={},i=this.atoms.__unsafe__getWithoutCapture();let s,a=null,c=!1;const l=this.onBeforeCreate&&this._runCallbacks?this.onBeforeCreate:null,u=this.onBeforeChange&&this._runCallbacks?this.onBeforeChange:null,d=this.isMergingRemoteChanges?"remote":"user";for(let h=0,p=e.length;h<p;h++){s=e[h];const p=(a??i)[s.id];if(p){const e=p.__unsafe__getWithoutCapture();if(u&&(s=u(e,s,d)),this.schema.validateRecord(this,s,t??"updateRecord",e)===e)continue;p.set(s),c=!0,n[s.id]=[e,p.__unsafe__getWithoutCapture()]}else l&&(s=l(s,d)),c=!0,s=this.schema.validateRecord(this,s,t??"createRecord",null),r[s.id]=s,a||(a={...i}),a[s.id]=(0,o.eU)("atom:"+s.id,s)}if(a&&this.atoms.set(a),c&&(this.updateHistory({added:r,updated:n,removed:{}}),this._runCallbacks)){const{onAfterCreate:e,onAfterChange:t}=this;e&&Object.values(r).forEach((t=>{e(t,d)})),t&&Object.values(n).forEach((([e,n])=>{t(e,n,d)}))}}))};remove=e=>{(0,o.hL)((()=>{const t=[],n=this.isMergingRemoteChanges?"remote":"user";if(this.onBeforeDelete&&this._runCallbacks)for(const r of e){const e=this.atoms.__unsafe__getWithoutCapture()[r];e&&!1===this.onBeforeDelete(e.get(),n)&&t.push(r)}let r;if(this.atoms.update((n=>{let i;for(const o of e)t.includes(o)||o in n&&(i||(i={...n}),r||(r={}),delete i[o],r[o]=n[o].get());return i??n})),r&&(this.updateHistory({added:{},updated:{},removed:r}),this.onAfterDelete&&this._runCallbacks)){let t;for(let i=0,o=e.length;i<o;i++)t=r[e[i]],t&&this.onAfterDelete(t,n)}}))};get=e=>this.atoms.get()[e]?.get();unsafeGetWithoutCapture=e=>this.atoms.get()[e]?.__unsafe__getWithoutCapture();serialize=(e="document")=>{const t={};for(const[n,r]of W(this.atoms.get())){const i=r.get();("all"===e||this.scopedTypes[e].has(i.typeName))&&(t[n]=i)}return t};getSnapshot(e="document"){return{store:this.serialize(e),schema:this.schema.serialize()}}migrateSnapshot(e){const t=this.schema.migrateStoreSnapshot(e);if("error"===t.type)throw new Error(`Failed to migrate snapshot: ${t.reason}`);return{store:t.value,schema:this.schema.serialize()}}loadSnapshot(e){const t=this.schema.migrateStoreSnapshot(e);if("error"===t.type)throw new Error(`Failed to migrate snapshot: ${t.reason}`);(0,o.hL)((()=>{this.clear(),this.put(Object.values(t.value)),this.ensureStoreIsUsable()}))}allRecords=()=>V(this.atoms.get()).map((e=>e.get()));clear=()=>{this.remove(Z(this.atoms.get()))};update=(e,t)=>{const n=this.atoms.get()[e];n?this.put([t(n.__unsafe__getWithoutCapture())]):console.error(`Record ${e} not found. This is probably an error`)};has=e=>!!this.atoms.get()[e];listen=(e,t)=>{this._flushHistory();const n={onHistory:e,filters:{source:t?.source??"all",scope:t?.scope??"all"}};return this.listeners.add(n),this.historyReactor.scheduler.isActivelyListening||this.historyReactor.start(),()=>{this.listeners.delete(n),0===this.listeners.size&&this.historyReactor.stop()}};isMergingRemoteChanges=!1;mergeRemoteChanges=e=>{if(this.isMergingRemoteChanges)return e();try{this.isMergingRemoteChanges=!0,(0,o.hL)(e)}finally{this.isMergingRemoteChanges=!1}};extractingChanges(e){const t=[],n=this.historyAccumulator.intercepting((e=>t.push(e.changes)));try{return(0,o.hL)(e),Ze(t)}finally{n()}}applyDiff(e,t=!0){const n=this._runCallbacks;try{this._runCallbacks=t,(0,o.hL)((()=>{const t=V(e.added).concat(V(e.updated).map((([e,t])=>t))),n=Z(e.removed);t.length&&this.put(t),n.length&&this.remove(n)}))}finally{this._runCallbacks=n}}createComputedCache=(e,t,n)=>{const r=new Re;return{get:i=>{const s=this.atoms.get()[i];if(s)return r.get(s,(()=>{const r=n?(0,o.EW)(s.name+":equals",(()=>s.get()),{isEqual:n}):s;return(0,o.EW)(e+":"+i,(()=>t(r.get())))})).get()}}};createSelectedComputedCache=(e,t,n)=>{const r=new Re;return{get:i=>{const s=this.atoms.get()[i];if(!s)return;const a=(0,o.EW)(e+":"+i+":selector",(()=>t(s.get())));return r.get(s,(()=>(0,o.EW)(e+":"+i,(()=>n(a.get()))))).get()}}};getRecordType=e=>{const t=this.schema.types[e.typeName];if(!t)throw new Error(`Record type ${e.typeName} not found`);return t};_integrityChecker;ensureStoreIsUsable(){this._integrityChecker??=this.schema.createIntegrityChecker(this),this._integrityChecker?.()}_isPossiblyCorrupted=!1;markAsPossiblyCorrupted(){this._isPossiblyCorrupted=!0}isPossiblyCorrupted(){return this._isPossiblyCorrupted}}function Ze(e){const t={added:{},removed:{},updated:{}};for(const n of e){for(const[e,r]of W(n.added))if(t.removed[e]){const n=t.removed[e];delete t.removed[e],n!==r&&(t.updated[e]=[n,r])}else t.added[e]=r;for(const[e,[r,i]]of W(n.updated))t.added[e]?(t.added[e]=i,delete t.updated[e],delete t.removed[e]):t.updated[e]?(t.updated[e]=[t.updated[e][0],i],delete t.removed[e]):(t.updated[e]=n.updated[e],delete t.removed[e]);for(const[e,r]of W(n.removed))t.added[e]?delete t.added[e]:t.updated[e]?(t.removed[e]=t.updated[e][0],delete t.updated[e]):t.removed[e]=r}return t}function Ve(e){const t={added:e.removed,removed:e.added,updated:{}};for(const[n,r]of Object.values(e.updated))t.updated[n.id]=[r,n];return t}class We{_history=[];_interceptors=new Set;intercepting(e){return this._interceptors.add(e),()=>{this._interceptors.delete(e)}}add(e){this._history.push(e);for(const t of this._interceptors)t(e)}flush(){const e=function(e){const t=[];let n,r=e[0];for(let i=1,o=e.length;i<o;i++)n=e[i],r.source!==n.source?(t.push(r),r=n):r={source:r.source,changes:Ze([r.changes,n.changes])};return t.push(r),t}(this._history);return this._history=[],e}clear(){this._history=[]}hasChanges(){return this._history.length>0}}function Ue(e){const{currentVersion:t,firstVersion:n,migrators:r={},subTypeKey:i,subTypeMigrations:o}=e;if("number"==typeof t&&"number"==typeof n){if(t===n)throw Error("Current version is equal to initial version.");if(t<n)throw Error("Current version is lower than initial version.")}return{firstVersion:n??0,currentVersion:t??0,migrators:r,subTypeKey:i,subTypeMigrations:o}}var qe=(e=>(e.IncompatibleSubtype="incompatible-subtype",e.UnknownType="unknown-type",e.TargetVersionTooNew="target-version-too-new",e.TargetVersionTooOld="target-version-too-old",e.MigrationError="migration-error",e.UnrecognizedSubtype="unrecognized-subtype",e))(qe||{});function Ye(e,t){const n=t.recordVersions[e.typeName];if(!n)return{rootVersion:0};if("subTypeKey"in n){const t=e[n.subTypeKey],r=n.subTypeVersions[t];return{rootVersion:n.version,subTypeVersion:r}}return{rootVersion:n.version}}function Xe(e,t){if(e.rootVersion>t.rootVersion)return 1;if(e.rootVersion<t.rootVersion)return-1;if(null!=e.subTypeVersion&&null!=t.subTypeVersion){if(e.subTypeVersion>t.subTypeVersion)return 1;if(e.subTypeVersion<t.subTypeVersion)return-1}return 0}function He({record:e,migrations:t,fromVersion:n,toVersion:r}){let i=n;if(!function(e){return"object"==typeof e&&null!==e&&"id"in e&&"typeName"in e}(e))throw new Error("[migrateRecord] object is not a record");const{typeName:o,id:s,...a}=e;let c=a;for(;i<r;){const e=i+1,n=t.migrators[e];if(!n)return{type:"error",reason:"target-version-too-new"};c=n.up(c),i=e}for(;i>r;){const e=i-1,n=t.migrators[i];if(!n)return{type:"error",reason:"target-version-too-old"};c=n.down(c),i=e}return{type:"success",value:{...c,id:s,typeName:o}}}function Ge({value:e,migrations:t,fromVersion:n,toVersion:r}){let i=n;for(;i<r;){const n=i+1,r=t.migrators[n];if(!r)return{type:"error",reason:"target-version-too-new"};e=r.up(e),i=n}for(;i>r;){const n=i-1,r=t.migrators[i];if(!r)return{type:"error",reason:"target-version-too-old"};e=r.down(e),i=n}return{type:"success",value:e}}class Ke{constructor(e,t){this.types=e,this.options=t}static create(e,t){return new Ke(e,t??{})}get currentStoreVersion(){return this.options.snapshotMigrations?.currentVersion??0}validateRecord(e,t,n,r){try{const e=F(this.types,t.typeName);if(!e)throw new Error(`Missing definition for record type ${t.typeName}`);return e.validate(t,r??void 0)}catch(i){if(this.options.onValidationFailure)return this.options.onValidationFailure({store:e,record:t,phase:n,recordBefore:r,error:i});throw i}}migratePersistedRecord(e,t,n="up"){const r=F(this.types,e.typeName),i=t.recordVersions[e.typeName];if(!i||!r)return{type:"error",reason:qe.UnknownType};const o=r.migrations.currentVersion,s=i.version;if(o!==s){const t=He("up"===n?{record:e,migrations:r.migrations,fromVersion:s,toVersion:o}:{record:e,migrations:r.migrations,fromVersion:o,toVersion:s});if("error"===t.type)return t;e=t.value}if(!r.migrations.subTypeKey)return{type:"success",value:e};const a=r.migrations.subTypeMigrations?.[e[r.migrations.subTypeKey]],c="subTypeVersions"in i?i.subTypeVersions[e[r.migrations.subTypeKey]]:void 0;if(void 0===a)return{type:"error",reason:qe.UnrecognizedSubtype};if(void 0===c)return{type:"error",reason:qe.IncompatibleSubtype};const l=He("up"===n?{record:e,migrations:a,fromVersion:c,toVersion:a.currentVersion}:{record:e,migrations:a,fromVersion:a.currentVersion,toVersion:c});return"error"===l.type?l:{type:"success",value:l.value}}migrateStoreSnapshot(e){let{store:t}=e;const n=this.options.snapshotMigrations;if(!n)return{type:"success",value:t};const r=n.currentVersion,i=e.schema.storeVersion??0;if(r<i)return{type:"error",reason:qe.TargetVersionTooOld};if(r>i){const e=Ge({value:t,migrations:n,fromVersion:i,toVersion:r});if("error"===e.type)return e;t=e.value}const o=[];for(const n of V(t)){const t=this.migratePersistedRecord(n,e.schema);if("error"===t.type)return t;t.value&&t.value!==n&&o.push(t.value)}if(o.length){t={...t};for(const e of o)t[e.id]=e}return{type:"success",value:t}}createIntegrityChecker(e){return this.options.createIntegrityChecker?.(e)??void 0}serialize(){return{schemaVersion:1,storeVersion:this.options.snapshotMigrations?.currentVersion??0,recordVersions:Object.fromEntries(V(this.types).map((e=>[e.typeName,e.migrations.subTypeKey&&e.migrations.subTypeMigrations?{version:e.migrations.currentVersion,subTypeKey:e.migrations.subTypeKey,subTypeVersions:e.migrations.subTypeMigrations?Object.fromEntries(Object.entries(e.migrations.subTypeMigrations).map((([e,t])=>[e,t.currentVersion]))):void 0}:{version:e.migrations.currentVersion}])))}}serializeEarliestVersion(){return{schemaVersion:1,storeVersion:this.options.snapshotMigrations?.firstVersion??0,recordVersions:Object.fromEntries(V(this.types).map((e=>[e.typeName,e.migrations.subTypeKey&&e.migrations.subTypeMigrations?{version:e.migrations.firstVersion,subTypeKey:e.migrations.subTypeKey,subTypeVersions:e.migrations.subTypeMigrations?Object.fromEntries(Object.entries(e.migrations.subTypeMigrations).map((([e,t])=>[e,t.firstVersion]))):void 0}:{version:e.migrations.firstVersion}])))}}}const Je=(e,t)=>{if(e.schemaVersion>t.schemaVersion)return 1;if(e.schemaVersion<t.schemaVersion)return-1;if(e.storeVersion>t.storeVersion)return 1;if(e.storeVersion<t.storeVersion)return-1;for(const n of Object.keys(e.recordVersions)){const r=e.recordVersions[n],i=t.recordVersions[n];if(r.version>i.version)return 1;if(r.version<i.version)return-1;if("subTypeVersions"in r&&!("subTypeVersions"in i))return 1;if(!("subTypeVersions"in r)&&"subTypeVersions"in i)return-1;if("subTypeVersions"in r&&"subTypeVersions"in i)for(const e of Object.keys(r.subTypeVersions)){const t=r.subTypeVersions[e],n=i.subTypeVersions[e];if(t>n)return 1;if(t<n)return-1}}return 0};class et extends Error{constructor(e,t=[]){const n=function(e){if(!e.length)return null;let t="";for(const n of e)"number"==typeof n?t+=`.${n}`:n.startsWith("(")?t.endsWith(")")?t=`${t.slice(0,-1)}, ${n.slice(1)}`:t+=n:t+=`.${n}`;return t=t.replace(/id = [^,]+, /,"").replace(/id = [^)]+/,""),t.startsWith(".")?t.slice(1):t}(t),r=e.split("\n").map(((e,t)=>0===t?e:`  ${e}`)).join("\n");super(t?`At ${n}: ${r}`:r),this.rawMessage=e,this.path=t}name="ValidationError"}function tt(e,t){try{return t()}catch(t){if(t instanceof et)throw new et(t.rawMessage,[e,...t.path]);throw new et(t.toString(),[e])}}function nt(e){if(null===e)return"null";if(Array.isArray(e))return"an array";const t=typeof e;switch(t){case"bigint":case"boolean":case"function":case"number":case"string":case"symbol":return`a ${t}`;case"object":return`an ${t}`;case"undefined":return"undefined";default:b(t)}}class rt{constructor(e,t){this.validationFn=e,this.validateUsingKnownGoodVersionFn=t}validate(e){return this.validationFn(e)}validateUsingKnownGoodVersion(e,t){return Object.is(e,t)?e:this.validateUsingKnownGoodVersionFn?this.validateUsingKnownGoodVersionFn(e,t):this.validate(t)}isValid(e){try{return this.validate(e),!0}catch{return!1}}nullable(){return Dt(this)}optional(){return At(this)}refine(e){return new rt((t=>e(this.validate(t))),((t,n)=>{const r=this.validateUsingKnownGoodVersion(t,n);return Object.is(t,r)?t:e(r)}))}check(e,t){return"string"==typeof e?this.refine((n=>(tt(`(check ${e})`,(()=>t(n))),n))):this.refine((t=>(e(t),t)))}}class it extends rt{constructor(e){super((t=>{const n=Ot.validate(t);for(let t=0;t<n.length;t++)tt(t,(()=>e.validate(n[t])));return n}),((t,n)=>{if(!e.validateUsingKnownGoodVersion)return this.validate(n);const r=Ot.validate(n);let i=t.length!==r.length;for(let n=0;n<r.length;n++){const o=r[n];if(n>=t.length){i=!0,tt(n,(()=>e.validate(o)));continue}if(Object.is(t[n],o))continue;const s=tt(n,(()=>e.validateUsingKnownGoodVersion(t[n],o)));Object.is(s,t[n])||(i=!0)}return i?n:t})),this.itemValidator=e}nonEmpty(){return this.check((e=>{if(0===e.length)throw new et("Expected a non-empty array")}))}lengthGreaterThan1(){return this.check((e=>{if(e.length<=1)throw new et("Expected an array with length greater than 1")}))}}class ot extends rt{constructor(e,t=!1){super((n=>{if("object"!=typeof n||null===n)throw new et(`Expected object, got ${nt(n)}`);for(const[t,r]of Object.entries(e))tt(t,(()=>{r.validate(F(n,t))}));if(!t)for(const t of Object.keys(n))if(!z(e,t))throw new et("Unexpected property",[t]);return n}),((n,r)=>{if("object"!=typeof r||null===r)throw new et(`Expected object, got ${nt(r)}`);let i=!1;for(const[t,o]of Object.entries(e)){const e=F(n,t),s=F(r,t);if(Object.is(e,s))continue;const a=tt(t,(()=>{const t=o;return t.validateUsingKnownGoodVersion?t.validateUsingKnownGoodVersion(e,s):t.validate(s)}));Object.is(a,e)||(i=!0)}if(!t)for(const t of Object.keys(r))if(!z(e,t))throw new et("Unexpected property",[t]);for(const e of Object.keys(n))if(!z(r,e)){i=!0;break}return i?r:n})),this.config=e,this.shouldAllowUnknownProperties=t}allowUnknownProperties(){return new ot(this.config,!0)}extend(e){return new ot({...this.config,...e})}}class st extends rt{constructor(e,t,n){super((t=>{this.expectObject(t);const{matchingSchema:n,variant:r}=this.getMatchingSchemaAndVariant(t);return void 0===n?this.unknownValueValidation(t,r):tt(`(${e} = ${r})`,(()=>n.validate(t)))}),((t,n)=>{this.expectObject(n),this.expectObject(t);const{matchingSchema:r,variant:i}=this.getMatchingSchemaAndVariant(n);return void 0===r?this.unknownValueValidation(n,i):F(t,e)!==F(n,e)?tt(`(${e} = ${i})`,(()=>r.validate(n))):tt(`(${e} = ${i})`,(()=>r.validateUsingKnownGoodVersion?r.validateUsingKnownGoodVersion(t,n):r.validate(n)))})),this.key=e,this.config=t,this.unknownValueValidation=n}expectObject(e){if("object"!=typeof e||null===e)throw new et(`Expected an object, got ${nt(e)}`,[])}getMatchingSchemaAndVariant(e){const t=F(e,this.key);if("string"!=typeof t)throw new et(`Expected a string for key "${this.key}", got ${nt(t)}`);return{matchingSchema:z(this.config,t)?this.config[t]:void 0,variant:t}}validateUnknownVariants(e){return new st(this.key,this.config,e)}}class at extends rt{constructor(e,t){super((n=>{if("object"!=typeof n||null===n)throw new et(`Expected object, got ${nt(n)}`);for(const[r,i]of Object.entries(n))tt(r,(()=>{e.validate(r),t.validate(i)}));return n}),((n,r)=>{if("object"!=typeof r||null===r)throw new et(`Expected object, got ${nt(r)}`);let i=!1;for(const[o,s]of Object.entries(r)){if(!z(n,o)){i=!0,tt(o,(()=>{e.validate(o),t.validate(s)}));continue}const r=F(n,o),a=s;if(Object.is(r,a))continue;const c=tt(o,(()=>t.validateUsingKnownGoodVersion?t.validateUsingKnownGoodVersion(r,a):t.validate(a)));Object.is(c,r)||(i=!0)}for(const e of Object.keys(n))if(!z(r,e)){i=!0;break}return i?r:n})),this.keyValidator=e,this.valueValidator=t}}function ct(e){return new rt((t=>{if(typeof t!==e)throw new et(`Expected ${e}, got ${nt(t)}`);return t}))}const lt=new rt((e=>e)),ut=new rt((e=>e)),dt=ct("string"),ht=ct("number").check((e=>{if(Number.isNaN(e))throw new et("Expected a number, got NaN");if(!Number.isFinite(e))throw new et(`Expected a finite number, got ${e}`)})),pt=ht.check((e=>{if(e<0)throw new et(`Expected a positive number, got ${e}`)})),ft=ht.check((e=>{if(e<=0)throw new et(`Expected a non-zero positive number, got ${e}`)})),mt=ht.check((e=>{if(!Number.isInteger(e))throw new et(`Expected an integer, got ${e}`)})),gt=mt.check((e=>{if(e<0)throw new et(`Expected a positive integer, got ${e}`)})),yt=mt.check((e=>{if(e<=0)throw new et(`Expected a non-zero positive integer, got ${e}`)})),vt=ct("boolean"),bt=ct("bigint");function xt(e){return new rt((t=>{if(t!==e)throw new et(`Expected ${e}, got ${JSON.stringify(t)}`);return e}))}const Ot=new rt((e=>{if(!Array.isArray(e))throw new et(`Expected an array, got ${nt(e)}`);return e}));function wt(e){return new it(e)}const St=new rt((e=>{if("object"!=typeof e||null===e)throw new et(`Expected object, got ${nt(e)}`);return e}));function kt(e){return new ot(e)}function _t(e){return"object"==typeof e&&null!==e&&(e.constructor===Object||!e.constructor)}function Pt(e){return null===e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(Pt):!!_t(e)&&Object.values(e).every(Pt))}const Et=new rt((e=>{if(Pt(e))return e;throw new et("Expected json serializable value, got "+typeof e)}),((e,t)=>{if(Array.isArray(e)&&Array.isArray(t)){let n=e.length!==t.length;for(let r=0;r<t.length;r++){if(r>=e.length){n=!0,Et.validate(t[r]);continue}const i=e[r],o=t[r];if(Object.is(i,o))continue;const s=Et.validateUsingKnownGoodVersion(i,o);Object.is(s,i)||(n=!0)}return n?t:e}if(_t(e)&&_t(t)){let n=!1;for(const r of Object.keys(t)){if(!z(e,r)){n=!0,Et.validate(t[r]);continue}const i=e[r],o=t[r];if(Object.is(i,o))continue;const s=Et.validateUsingKnownGoodVersion(i,o);Object.is(s,i)||(n=!0)}for(const r of Object.keys(e))if(!z(t,r)){n=!0;break}return n?t:e}return Et.validate(t)}));function Ct(){return Tt(dt,Et)}function Tt(e,t){return new at(e,t)}function jt(e,t){return new st(e,t,((n,r)=>{throw new et(`Expected one of ${Object.keys(t).map((e=>JSON.stringify(e))).join(" or ")}, got ${JSON.stringify(r)}`,[e])}))}function It(e,t){return new rt((n=>tt(e,(()=>t.validate(n)))),((n,r)=>tt(e,(()=>t.validateUsingKnownGoodVersion?t.validateUsingKnownGoodVersion(n,r):t.validate(r)))))}function Mt(e){return new rt((t=>{if(!e.has(t)){const n=Array.from(e,(e=>JSON.stringify(e))).join(" or ");throw new et(`Expected ${n}, got ${t}`)}return t}))}function At(e){return new rt((t=>{if(void 0!==t)return e.validate(t)}),((t,n)=>{if((void 0!==t||void 0!==n)&&void 0!==n)return e.validateUsingKnownGoodVersion&&void 0!==t?e.validateUsingKnownGoodVersion(t,n):e.validate(n)}))}function Dt(e){return new rt((t=>null===t?null:e.validate(t)),((t,n)=>null===n?null:e.validateUsingKnownGoodVersion&&null!==t?e.validateUsingKnownGoodVersion(t,n):e.validate(n)))}function $t(...e){return Mt(new Set(e))}function Rt(e){try{return new URL(e)}catch(t){if(e.startsWith("/")||e.startsWith("./"))try{return new URL(e,"http://example.com")}catch(t){throw new et(`Expected a valid url, got ${JSON.stringify(e)}`)}throw new et(`Expected a valid url, got ${JSON.stringify(e)}`)}}const Nt=new Set(["http:","https:","mailto:"]),Lt=dt.check((e=>{if(""===e)return;const t=Rt(e);if(!Nt.has(t.protocol.toLowerCase()))throw new et(`Expected a valid url, got ${JSON.stringify(e)} (invalid protocol)`)})),Qt=new Set(["http:","https:","data:"]),zt=dt.check((e=>{if(""===e)return;const t=Rt(e);if(!Qt.has(t.protocol.toLowerCase()))throw new et(`Expected a valid url, got ${JSON.stringify(e)} (invalid protocol)`)})),Ft=dt.refine((e=>{try{return ge(e),e}catch{throw new et(`Expected an index key, got ${JSON.stringify(e)}`)}}));function Bt(e){return dt.refine((t=>{if(!t.startsWith(`${e}:`))throw new Error(`${e} ID must start with "${e}:"`);return t}))}const Zt=Bt("asset");function Vt(e,t){return kt({id:Zt,typeName:xt("asset"),type:xt(e),props:t,meta:Et})}const Wt=De("camera",{validator:It("camera",kt({typeName:xt("camera"),id:Bt("camera"),x:ht,y:ht,z:ht,meta:Et})),migrations:Ue({currentVersion:1,migrators:{1:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),scope:"session"}).withDefaultProperties((()=>({x:0,y:0,z:1,meta:{}}))),Ut=kt({x:ht,y:ht,z:ht.optional()}),qt=kt({x:ht,y:ht,w:ht,h:ht}),Yt=Mt(new Set(["none","default","pointer","cross","grab","rotate","grabbing","resize-edge","resize-corner","text","move","ew-resize","ns-resize","nesw-resize","nwse-resize","nesw-rotate","nwse-rotate","swne-rotate","senw-rotate","zoom-in","zoom-out"])),Xt=kt({type:Yt,rotation:ht}),Ht=ht.check((e=>{if(e<0||e>1)throw new et("Opacity must be between 0 and 1")})),Gt=new Set(["accent","white","black","selection-stroke","selection-fill","laser","muted-1"]),Kt=Mt(Gt),Jt=new Set(["starting","paused","active","stopping"]),en=kt({id:dt,points:wt(Ut),size:pt,color:Kt,opacity:ht,state:Mt(Jt),delay:ht,shrink:ht,taper:vt}),tn=Bt("page"),nn=De("page",{validator:It("page",kt({typeName:xt("page"),id:tn,name:dt,index:Ft,meta:Et})),migrations:Ue({currentVersion:1,migrators:{1:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),scope:"document"}).withDefaultProperties((()=>({meta:{}})));function rn(e){return nn.isId(e)}Bt("instance");const on=Ue({currentVersion:24,migrators:{1:{up:e=>({...e,exportBackground:!0}),down:({exportBackground:e,...t})=>t},2:{up:({dialog:e,...t})=>t,down:e=>({...e,dialog:null})},3:{up:e=>({...e,isToolLocked:!1}),down:({isToolLocked:e,...t})=>t},4:{up:({propsForNextShape:e,...t})=>({...t,propsForNextShape:Object.fromEntries(Object.entries(e).filter((([e])=>["color","labelColor","dash","fill","size","font","align","verticalAlign","icon","geo","arrowheadStart","arrowheadEnd","spline"].includes(e))))}),down:e=>e},5:{up:({propsForNextShape:e,...t})=>({...t,propsForNextShape:{...e,labelColor:"black"}}),down:e=>{const{labelColor:t,...n}=e.propsForNextShape;return{...e,propsForNextShape:{...n}}}},6:{up:e=>({...e,followingUserId:null}),down:({followingUserId:e,...t})=>t},7:{up:e=>{let t=e.propsForNextShape.align;return"justify"===t&&(t="start"),{...e,propsForNextShape:{...e.propsForNextShape,align:t}}},down:e=>({...e})},8:{up:e=>({...e,zoomBrush:null}),down:({zoomBrush:e,...t})=>t},9:{up:e=>({...e,propsForNextShape:{...e.propsForNextShape,verticalAlign:"middle"}}),down:e=>{const{verticalAlign:t,...n}=e.propsForNextShape;return{...e,propsForNextShape:n}}},10:{up:e=>null!==e.scribble?{...e,scribble:{...e.scribble,delay:0}}:{...e},down:e=>{if(null!==e.scribble){const{delay:t,...n}=e.scribble;return{...e,scribble:n}}return{...e}}},11:{up:({userId:e,...t})=>t,down:e=>({...e,userId:"user:none"})},12:{up:e=>({...e,isPenMode:!1,isGridMode:!1}),down:({isPenMode:e,isGridMode:t,...n})=>n},13:{up:({propsForNextShape:{opacity:e,...t},...n})=>({...n,opacityForNextShape:Number(e??"1"),propsForNextShape:t}),down:({opacityForNextShape:e,...t})=>({...t,propsForNextShape:{...t.propsForNextShape,opacity:e<.175?"0.1":e<.375?"0.25":e<.625?"0.5":e<.875?"0.75":"1"}})},14:{up:e=>({...e,chatMessage:"",isChatting:!1}),down:({chatMessage:e,isChatting:t,...n})=>n},15:{up:e=>({...e,highlightedUserIds:[]}),down:({highlightedUserIds:e,...t})=>t},16:{up:({propsForNextShape:e,...t})=>({...t,stylesForNextShape:{}}),down:({stylesForNextShape:e,...t})=>({...t,propsForNextShape:{color:"black",labelColor:"black",dash:"draw",fill:"none",size:"m",icon:"file",font:"draw",align:"middle",verticalAlign:"middle",geo:"rectangle",arrowheadStart:"none",arrowheadEnd:"arrow",spline:"line"}})},17:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})},18:{up:e=>{const{color:t,...n}=e.cursor;return{...e,cursor:n}},down:e=>({...e,cursor:{...e.cursor,color:"black"}})},19:{up:e=>({...e,canMoveCamera:!0,isFocused:!1,devicePixelRatio:1,isCoarsePointer:!1,openMenus:[],isChangingStyle:!1,isReadOnly:!1}),down:({canMoveCamera:e,isFocused:t,devicePixelRatio:n,isCoarsePointer:r,openMenus:i,isChangingStyle:o,isReadOnly:s,...a})=>({...a})},20:{up:({isReadOnly:e,...t})=>({...t,isReadonly:e}),down:({isReadonly:e,...t})=>({...t,isReadOnly:e})},21:{up:e=>({...e,isHoveringCanvas:null}),down:({isHoveringCanvas:e,...t})=>({...t})},22:{up:({scribble:e,...t})=>({...t,scribbles:[]}),down:({scribbles:e,...t})=>({...t,scribble:null})},23:{up:e=>({...e,insets:[!1,!1,!1,!1]}),down:({insets:e,...t})=>({...t})},24:{up:e=>({...e,duplicateProps:null}),down:({duplicateProps:e,...t})=>({...t})}}}),sn="instance:instance",an=dt.refine((e=>{if(!e.startsWith("page:")&&!e.startsWith("shape:"))throw new Error('Parent ID must start with "page:" or "shape:"');return e})),cn=Bt("shape");function ln(e,t,n){return kt({id:cn,typeName:xt("shape"),x:ht,y:ht,rotation:ht,index:Ft,parentId:an,type:xt(e),isLocked:vt,opacity:Ht,props:t?kt(t):Et,meta:n?kt(n):Et})}const un=It("instance_page_state",kt({typeName:xt("instance_page_state"),id:Bt("instance_page_state"),pageId:tn,selectedShapeIds:wt(cn),hintingShapeIds:wt(cn),erasingShapeIds:wt(cn),hoveredShapeId:cn.nullable(),editingShapeId:cn.nullable(),croppingShapeId:cn.nullable(),focusedGroupId:cn.nullable(),meta:Et})),dn=De("instance_page_state",{migrations:Ue({currentVersion:5,migrators:{1:{up:e=>({...e,croppingShapeId:null}),down:({croppingShapeId:e,...t})=>t},2:{up:({instanceId:e,cameraId:t,...n})=>n,down:e=>({...e,instanceId:sn,cameraId:Wt.createId("void")})},3:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})},4:{up:e=>{const{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:i,editingShapeId:o,croppingShapeId:s,focusedGroupId:a,...c}=e;return{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:i,editingShapeId:o,croppingShapeId:s,focusedGroupId:a,...c}},down:e=>{const{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:i,editingShapeId:o,croppingShapeId:s,focusedGroupId:a,...c}=e;return{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:i,editingShapeId:o,croppingShapeId:s,focusedGroupId:a,...c}}},5:{up:e=>{const{selectedIds:t,hintingIds:n,erasingIds:r,hoveredId:i,editingId:o,croppingShapeId:s,croppingId:a,focusLayerId:c,...l}=e;return{...l,selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:i,editingShapeId:o,croppingShapeId:s??a??null,focusedGroupId:c}},down:e=>{const{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:i,editingShapeId:o,croppingShapeId:s,focusedGroupId:a,...c}=e;return{...c,selectedIds:t,hintingIds:n,erasingIds:r,hoveredId:i,editingId:o,croppingId:s,focusLayerId:a}}}}}),validator:un,scope:"session"}).withDefaultProperties((()=>({editingShapeId:null,croppingShapeId:null,selectedShapeIds:[],hoveredShapeId:null,erasingShapeIds:[],hintingShapeIds:[],focusedGroupId:null,meta:{}}))),hn=De("pointer",{validator:It("pointer",kt({typeName:xt("pointer"),id:Bt("pointer"),x:ht,y:ht,lastActivityTimestamp:ht,meta:Et})),migrations:Ue({currentVersion:1,migrators:{1:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),scope:"session"}).withDefaultProperties((()=>({x:0,y:0,lastActivityTimestamp:0,meta:{}}))),pn=hn.createId("pointer"),fn=It("instance_presence",kt({typeName:xt("instance_presence"),id:Bt("instance_presence"),userId:dt,userName:dt,lastActivityTimestamp:ht,followingUserId:dt.nullable(),cursor:kt({x:ht,y:ht,type:Yt,rotation:ht}),color:dt,camera:kt({x:ht,y:ht,z:ht}),screenBounds:qt,selectedShapeIds:wt(Bt("shape")),currentPageId:Bt("page"),brush:qt.nullable(),scribbles:wt(en),chatMessage:dt,meta:Et})),mn=De("instance_presence",{migrations:Ue({currentVersion:5,migrators:{1:{up:e=>null!==e.scribble?{...e,scribble:{...e.scribble,delay:0}}:{...e},down:e=>{if(null!==e.scribble){const{delay:t,...n}=e.scribble;return{...e,scribble:n}}return{...e}}},2:{up:({instanceId:e,...t})=>t,down:e=>({...e,instanceId:sn})},3:{up:e=>({...e,chatMessage:""}),down:({chatMessage:e,...t})=>t},4:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})},5:{up:e=>{const{selectedShapeIds:t,...n}=e;return{selectedShapeIds:t,...n}},down:e=>{const{selectedShapeIds:t,...n}=e;return{selectedShapeIds:t,...n}}}}}),validator:fn,scope:"presence"}).withDefaultProperties((()=>({lastActivityTimestamp:0,followingUserId:null,color:"#FF0000",camera:{x:0,y:0,z:1},cursor:{x:0,y:0,type:"default",rotation:0},screenBounds:{x:0,y:0,w:1,h:1},selectedShapeIds:[],brush:null,scribbles:[],chatMessage:"",meta:{}}))),gn=(e,t)=>n=>(0,o.EW)("instancePresence",(()=>{const r=n.get(sn),i=n.get(dn.createId(r?.currentPageId)),o=n.get(Wt.createId(r?.currentPageId)),s=n.get(pn),a=e.get();return i&&r&&o&&s&&a?mn.create({id:t??mn.createId(n.id),selectedShapeIds:i.selectedShapeIds,brush:r.brush,scribbles:r.scribbles,userId:a.id,userName:a.name,followingUserId:r.followingUserId,camera:{x:o.x,y:o.y,z:o.z},color:a.color,currentPageId:r.currentPageId,cursor:{x:s.x,y:s.y,rotation:r.cursor.rotation,type:r.cursor.type},lastActivityTimestamp:s.lastActivityTimestamp,screenBounds:r.screenBounds,chatMessage:r.chatMessage,meta:{}}):null})),yn=It("document",kt({typeName:xt("document"),id:xt("document:document"),gridSize:ht,name:dt,meta:Et})),vn=De("document",{migrations:Ue({currentVersion:2,migrators:{1:{up:e=>({...e,name:""}),down:({name:e,...t})=>t},2:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),validator:yn,scope:"document"}).withDefaultProperties((()=>({gridSize:10,name:"",meta:{}}))),bn=vn.createId("document");function xn(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function On(e){"asset"===e.typeName&&("src"in e&&(e.src="<redacted>"),"src"in e.props&&(e.props.src="<redacted>"))}const wn=({error:e,phase:t,record:n,recordBefore:r})=>{throw _(e,{tags:{origin:"store.validateRecord",storePhase:t,isExistingValidationIssue:"initialize"===t},extras:{recordBefore:r?On(Te(r)):void 0,recordAfter:On(Te(n))}}),e};function Sn(e){const t=e.query.ids("page"),n=()=>{if(!e.has(bn))return e.put([vn.create({id:bn,name:e.props.defaultName})]),n();if(!e.has(pn))return e.put([hn.create({id:pn})]),n();const r=t.get();if(0===r.size)return e.put([nn.create({id:"page:page",name:"Page 1",index:"a1",meta:{}})]),n();const i=()=>[...r].map((t=>e.get(t))).sort(xn)[0].id,o=e.get(sn);if(!o)return e.put([e.schema.types.instance.create({id:sn,currentPageId:i(),exportBackground:!0})]),n();if(!r.has(o.currentPageId))return e.put([{...o,currentPageId:i()}]),n();const s=new Set,a=new Set;for(const t of r){const n=dn.createId(t);e.has(n)||s.add(n);const r=Wt.createId(t);e.has(r)||a.add(r)}s.size>0&&e.put([...s].map((e=>dn.create({id:e,pageId:dn.parseId(e)})))),a.size>0&&e.put([...a].map((e=>Wt.create({id:e}))))};return n}const kn=Vt("bookmark",kt({title:dt,description:dt,image:dt,src:zt.nullable()})),_n=Ue({currentVersion:1,migrators:{1:{up:e=>{const t=e.props.src;return t&&!zt.isValid(t)?{...e,props:{...e.props,src:""}}:e},down:e=>e}}}),Pn=Vt("image",kt({w:ht,h:ht,name:dt,isAnimated:vt,mimeType:dt.nullable(),src:zt.nullable()})),En=Ue({currentVersion:3,migrators:{1:{up:e=>({...e,props:{...e.props,isAnimated:!1}}),down:e=>{const{isAnimated:t,...n}=e.props;return{...e,props:n}}},2:{up:e=>{const{width:t,height:n,...r}=e.props;return{...e,props:{w:t,h:n,...r}}},down:e=>{const{w:t,h:n,...r}=e.props;return{...e,props:{width:t,height:n,...r}}}},3:{up:e=>{const t=e.props.src;return t&&!zt.isValid(t)?{...e,props:{...e.props,src:""}}:e},down:e=>e}}}),Cn=Vt("video",kt({w:ht,h:ht,name:dt,isAnimated:vt,mimeType:dt.nullable(),src:zt.nullable()})),Tn=Ue({currentVersion:3,migrators:{1:{up:e=>({...e,props:{...e.props,isAnimated:!1}}),down:e=>{const{isAnimated:t,...n}=e.props;return{...e,props:n}}},2:{up:e=>{const{width:t,height:n,...r}=e.props;return{...e,props:{w:t,h:n,...r}}},down:e=>{const{w:t,h:n,...r}=e.props;return{...e,props:{width:t,height:n,...r}}}},3:{up:e=>{const t=e.props.src;return t&&!zt.isValid(t)?{...e,props:{...e.props,src:""}}:e},down:e=>e}}}),jn=It("asset",jt("type",{image:Pn,video:Cn,bookmark:kn})),In=Ue({subTypeKey:"type",subTypeMigrations:{image:En,video:Tn,bookmark:_n},currentVersion:1,migrators:{1:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),Mn=De("asset",{migrations:In,validator:jn,scope:"document"}).withDefaultProperties((()=>({meta:{}})));class An{constructor(e,t,n){this.id=e,this.defaultValue=t,this.type=n}static define(e,t){const{defaultValue:n,type:r=ut}=t;return new An(e,n,r)}static defineEnum(e,t){const{defaultValue:n,values:r}=t;return new Dn(e,n,r)}validate(e){return this.type.validate(e)}validateUsingKnownGoodVersion(e,t){return this.type.validateUsingKnownGoodVersion?this.type.validateUsingKnownGoodVersion(e,t):this.validate(t)}}class Dn extends An{constructor(e,t,n){super(e,t,$t(...n)),this.values=n}}const $n=Ue({currentVersion:3,migrators:{1:{up:e=>({...e,isLocked:!1}),down:e=>{const{isLocked:t,...n}=e;return{...n}}},2:{up:({props:{opacity:e,...t},...n})=>({...n,opacity:Number(e??"1"),props:t}),down:({opacity:e,...t})=>({...t,props:{...t.props,opacity:e<.175?"0.1":e<.375?"0.25":e<.625?"0.5":e<.875?"0.75":"1"}})},3:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}});function Rn(e){return!!e&&"shape"===e.typeName}function Nn(e){return!!e&&e.startsWith("shape:")}function Ln(e){return`shape:${e??Me()}`}function Qn(e){const t=new Map;for(const[n,r]of Object.entries(e))if(r instanceof An){if(t.has(r))throw new Error(`Duplicate style prop ${r.id}. Each style prop can only be used once within a shape.`);t.set(r,n)}return t}const zn=["black","grey","light-violet","violet","blue","light-blue","yellow","orange","green","light-green","light-red","red"],Fn={lightMode:{id:"light",text:"#000000",background:"rgb(249, 250, 251)",solid:"#fcfffe",black:{solid:"#1d1d1d",semi:"#e8e8e8",pattern:"#494949",highlight:{srgb:"#fddd00",p3:"color(display-p3 0.972 0.8705 0.05)"}},blue:{solid:"#4263eb",semi:"#dce1f8",pattern:"#6681ee",highlight:{srgb:"#10acff",p3:"color(display-p3 0.308 0.6632 0.9996)"}},green:{solid:"#099268",semi:"#d3e9e3",pattern:"#39a785",highlight:{srgb:"#00ffc8",p3:"color(display-p3 0.2536 0.984 0.7981)"}},grey:{solid:"#adb5bd",semi:"#eceef0",pattern:"#bcc3c9",highlight:{srgb:"#cbe7f1",p3:"color(display-p3 0.8163 0.9023 0.9416)"}},"light-blue":{solid:"#4dabf7",semi:"#ddedfa",pattern:"#6fbbf8",highlight:{srgb:"#00f4ff",p3:"color(display-p3 0.1512 0.9414 0.9996)"}},"light-green":{solid:"#40c057",semi:"#dbf0e0",pattern:"#65cb78",highlight:{srgb:"#65f641",p3:"color(display-p3 0.563 0.9495 0.3857)"}},"light-red":{solid:"#ff8787",semi:"#f4dadb",pattern:"#fe9e9e",highlight:{srgb:"#ff7fa3",p3:"color(display-p3 0.9988 0.5301 0.6397)"}},"light-violet":{solid:"#e599f7",semi:"#f5eafa",pattern:"#e9acf8",highlight:{srgb:"#ff88ff",p3:"color(display-p3 0.9676 0.5652 0.9999)"}},orange:{solid:"#f76707",semi:"#f8e2d4",pattern:"#f78438",highlight:{srgb:"#ffa500",p3:"color(display-p3 0.9988 0.6905 0.266)"}},red:{solid:"#e03131",semi:"#f4dadb",pattern:"#e55959",highlight:{srgb:"#ff636e",p3:"color(display-p3 0.9992 0.4376 0.45)"}},violet:{solid:"#ae3ec9",semi:"#ecdcf2",pattern:"#bd63d3",highlight:{srgb:"#c77cff",p3:"color(display-p3 0.7469 0.5089 0.9995)"}},yellow:{solid:"#ffc078",semi:"#f9f0e6",pattern:"#fecb92",highlight:{srgb:"#fddd00",p3:"color(display-p3 0.972 0.8705 0.05)"}}},darkMode:{id:"dark",text:"hsl(210, 17%, 98%)",background:"hsl(240, 5%, 8%)",solid:"#010403",black:{solid:"#e1e1e1",semi:"#2c3036",pattern:"#989898",highlight:{srgb:"#d2b700",p3:"color(display-p3 0.8078 0.7225 0.0312)"}},blue:{solid:"#4263eb",semi:"#262d40",pattern:"#3a4b9e",highlight:{srgb:"#0079d2",p3:"color(display-p3 0.0032 0.4655 0.7991)"}},green:{solid:"#099268",semi:"#253231",pattern:"#366a53",highlight:{srgb:"#009774",p3:"color(display-p3 0.0085 0.582 0.4604)"}},grey:{solid:"#9398b0",semi:"#33373c",pattern:"#7c8187",highlight:{srgb:"#9cb4cb",p3:"color(display-p3 0.6299 0.7012 0.7856)"}},"light-blue":{solid:"#4dabf7",semi:"#2a3642",pattern:"#4d7aa9",highlight:{srgb:"#00bdc8",p3:"color(display-p3 0.0023 0.7259 0.7735)"}},"light-green":{solid:"#40c057",semi:"#2a3830",pattern:"#4e874e",highlight:{srgb:"#00a000",p3:"color(display-p3 0.2711 0.6172 0.0195)"}},"light-red":{solid:"#ff8787",semi:"#3b3235",pattern:"#a56767",highlight:{srgb:"#db005b",p3:"color(display-p3 0.7849 0.0585 0.3589)"}},"light-violet":{solid:"#e599f7",semi:"#383442",pattern:"#9770a9",highlight:{srgb:"#c400c7",p3:"color(display-p3 0.7024 0.0403 0.753)"}},orange:{solid:"#f76707",semi:"#3a2e2a",pattern:"#9f552d",highlight:{srgb:"#d07a00",p3:"color(display-p3 0.7699 0.4937 0.0085)"}},red:{solid:"#e03131",semi:"#36292b",pattern:"#8f3734",highlight:{srgb:"#de002c",p3:"color(display-p3 0.7978 0.0509 0.2035)"}},violet:{solid:"#ae3ec9",semi:"#31293c",pattern:"#763a8b",highlight:{srgb:"#9e00ee",p3:"color(display-p3 0.5651 0.0079 0.8986)"}},yellow:{solid:"#ffc034",semi:"#3c3934",pattern:"#fecb92",highlight:{srgb:"#d2b700",p3:"color(display-p3 0.8078 0.7225 0.0312)"}}}};function Bn(e){return e.isDarkMode?Fn.darkMode:Fn.lightMode}const Zn=An.defineEnum("tldraw:color",{defaultValue:"black",values:zn}),Vn=An.defineEnum("tldraw:labelColor",{defaultValue:"black",values:zn}),Wn=An.defineEnum("tldraw:dash",{defaultValue:"draw",values:["draw","solid","dashed","dotted"]}),Un=An.defineEnum("tldraw:fill",{defaultValue:"none",values:["none","semi","solid","pattern"]}),qn=An.defineEnum("tldraw:font",{defaultValue:"draw",values:["draw","sans","serif","mono"]}),Yn={draw:"'tldraw_draw', sans-serif",sans:"'tldraw_sans', sans-serif",serif:"'tldraw_serif', serif",mono:"'tldraw_mono', monospace"},Xn=An.defineEnum("tldraw:size",{defaultValue:"m",values:["s","m","l","xl"]}),Hn=["arrow","triangle","square","dot","pipe","diamond","inverted","bar","none"],Gn=An.defineEnum("tldraw:arrowheadStart",{defaultValue:"none",values:Hn}),Kn=An.defineEnum("tldraw:arrowheadEnd",{defaultValue:"arrow",values:Hn}),Jn=jt("type",{binding:kt({type:xt("binding"),boundShapeId:cn,normalizedAnchor:Ut,isExact:vt,isPrecise:vt}),point:kt({type:xt("point"),x:ht,y:ht})}),er={labelColor:Vn,color:Zn,fill:Un,dash:Wn,size:Xn,arrowheadStart:Gn,arrowheadEnd:Kn,font:qn,start:Jn,end:Jn,bend:ht,text:dt,labelPosition:ht},tr=Ue({currentVersion:3,migrators:{1:{up:e=>({...e,props:{...e.props,labelColor:"black"}}),down:e=>{const{labelColor:t,...n}=e.props;return{...e,props:n}}},2:{up:e=>{const{start:t,end:n}=e.props;return{...e,props:{...e.props,start:"binding"===t.type?{...t,isPrecise:!(.5===t.normalizedAnchor.x&&.5===t.normalizedAnchor.y)}:t,end:"binding"===n.type?{...n,isPrecise:!(.5===n.normalizedAnchor.x&&.5===n.normalizedAnchor.y)}:n}}},down:e=>{const{start:t,end:n}=e.props,r={...t},i={...n};return"binding"===r.type&&(r.isPrecise||(r.normalizedAnchor={x:.5,y:.5}),delete r.isPrecise),"binding"===i.type&&(i.isPrecise||(i.normalizedAnchor={x:.5,y:.5}),delete i.isPrecise),{...e,props:{...e.props,start:r,end:i}}}},3:{up:e=>({...e,props:{...e.props,labelPosition:.5}}),down:e=>{const{labelPosition:t,...n}=e.props;return{...e,props:n}}}}}),nr={w:ft,h:ft,assetId:Zt.nullable(),url:Lt},rr=Ue({currentVersion:2,migrators:{1:{up:e=>void 0===e.props.assetId?{...e,props:{...e.props,assetId:null}}:e,down:e=>{if(null===e.props.assetId){const{assetId:t,...n}=e.props;return{...e,props:n}}return e}},2:{up:e=>""===e.props.url||Lt.isValid(e.props.url)?e:{...e,props:{...e.props,url:""}},down:e=>e}}}),ir=kt({type:$t("free","straight"),points:wt(Ut)}),or={color:Zn,fill:Un,dash:Wn,size:Xn,segments:wt(ir),isComplete:vt,isClosed:vt,isPen:vt},sr=Ue({currentVersion:1,migrators:{1:{up:e=>{const{points:t}=e.props.segments[0];if(0===t.length)return{...e,props:{...e.props,isPen:!1}};let n=!(0===t[0].z||.5===t[0].z);return t[1]&&(n=n&&!(0===t[1].z||.5===t[1].z)),{...e,props:{...e.props,isPen:n}}},down:e=>{const{isPen:t,...n}=e.props;return{...e,props:{...n}}}}}}),ar=/(^\/r\/[^/]+\/?$)/,cr=e=>{try{return new URL(e)}catch(e){return}},lr=[{type:"tldraw",title:"tldraw",hostnames:["beta.tldraw.com","tldraw.com","localhost:3000"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,canUnmount:!0,overridePermissions:{"allow-top-navigation":!0},toEmbedUrl:e=>{const t=cr(e);if(t&&t.pathname.match(ar))return e},fromEmbedUrl:e=>{const t=cr(e);if(t&&t.pathname.match(ar))return e}},{type:"figma",title:"Figma",hostnames:["figma.com"],width:720,height:500,doesResize:!0,canUnmount:!0,toEmbedUrl:e=>{if(e.match(/https:\/\/([\w\.-]+\.)?figma.com\/(file|proto)\/([0-9a-zA-Z]{22,128})(?:\/.*)?$/)&&!e.includes("figma.com/embed"))return`https://www.figma.com/embed?embed_host=share&url=${e}`},fromEmbedUrl:e=>{const t=cr(e);if(t&&t.pathname.match(/^\/embed\/?$/)){const e=t.searchParams.get("url");if(e)return e}}},{type:"google_maps",title:"Google Maps",hostnames:["google.*"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{if(e.includes("/maps/")){const t=e.match(/@(.*),(.*),(.*)z/);let n;if(t){const[,r,i,o]=t;n=`https://${new URL(e).host.replace("www.","")}/maps/embed/v1/view?key=${process.env.NEXT_PUBLIC_GC_API_KEY}&center=${r},${i}&zoom=${o}`}else n="";return n}},fromEmbedUrl:e=>{const t=cr(e);if(t&&t.pathname.match(/^\/maps\/embed\/v1\/view\/?$/)&&t.searchParams.has("center")&&t.searchParams.get("zoom")){const e=t.searchParams.get("zoom"),[n,r]=t.searchParams.get("center").split(",");return`https://www.google.com/maps/@${n},${r},${e}z`}}},{type:"val_town",title:"Val Town",hostnames:["val.town"],minWidth:260,minHeight:100,width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=cr(e),n=t&&t.pathname.match(/\/v\/([^/]+)\/?/);if(n)return`https://www.val.town/embed/${n[1]}`},fromEmbedUrl:e=>{const t=cr(e),n=t&&t.pathname.match(/\/embed\/([^/]+)\/?/);if(n)return`https://www.val.town/v/${n[1]}`}},{type:"codesandbox",title:"CodeSandbox",hostnames:["codesandbox.io"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=cr(e),n=t&&t.pathname.match(/\/s\/([^/]+)\/?/);if(n)return`https://codesandbox.io/embed/${n[1]}`},fromEmbedUrl:e=>{const t=cr(e),n=t&&t.pathname.match(/\/embed\/([^/]+)\/?/);if(n)return`https://codesandbox.io/s/${n[1]}`}},{type:"codepen",title:"Codepen",hostnames:["codepen.io"],minWidth:300,minHeight:300,width:520,height:400,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=e.match(/https:\/\/codepen.io\/([^/]+)\/pen\/([^/]+)/);if(t){const[e,n,r]=t;return`https://codepen.io/${n}/embed/${r}`}},fromEmbedUrl:e=>{const t=e.match(/https:\/\/codepen.io\/([^/]+)\/embed\/([^/]+)/);if(t){const[e,n,r]=t;return`https://codepen.io/${n}/pen/${r}`}}},{type:"scratch",title:"Scratch",hostnames:["scratch.mit.edu"],width:520,height:400,doesResize:!1,canUnmount:!1,toEmbedUrl:e=>{const t=e.match(/https?:\/\/scratch.mit.edu\/projects\/([^/]+)/);if(t){const[e,n]=t;return`https://scratch.mit.edu/projects/embed/${n}`}},fromEmbedUrl:e=>{const t=e.match(/https:\/\/scratch.mit.edu\/projects\/embed\/([^/]+)/);if(t){const[e,n]=t;return`https://scratch.mit.edu/projects/${n}`}}},{type:"youtube",title:"YouTube",hostnames:["*.youtube.com","youtube.com","youtu.be"],width:800,height:450,doesResize:!0,canUnmount:!1,overridePermissions:{"allow-presentation":!0},isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=cr(e);if(!t)return;const n=t.hostname.replace(/^www./,"");return"youtu.be"===n?`https://www.youtube.com/embed/${t.pathname.split("/").filter(Boolean)[0]}`:"youtube.com"!==n&&"m.youtube.com"!==n||!t.pathname.match(/^\/watch/)?void 0:`https://www.youtube.com/embed/${t.searchParams.get("v")}`},fromEmbedUrl:e=>{const t=cr(e);if(t&&"youtube.com"===t.hostname.replace(/^www./,"")){const e=t.pathname.match(/^\/embed\/([^/]+)\/?/);if(e)return`https://www.youtube.com/watch?v=${e[1]}`}}},{type:"google_calendar",title:"Google Calendar",hostnames:["calendar.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,canUnmount:!1,instructionLink:"https://support.google.com/calendar/answer/41207?hl=en",toEmbedUrl:e=>{const t=cr(e),n=t?.searchParams.get("cid");if(t?.pathname.match(/\/calendar\/u\/0/)&&n){t.pathname="/calendar/embed";const e=Array.from(t.searchParams.keys());for(const n of e)t.searchParams.delete(n);return t.searchParams.set("src",n),t.href}},fromEmbedUrl:e=>{const t=cr(e),n=t?.searchParams.get("src");if(t?.pathname.match(/\/calendar\/embed/)&&n){t.pathname="/calendar/u/0";const e=Array.from(t.searchParams.keys());for(const n of e)t.searchParams.delete(n);return t.searchParams.set("cid",n),t.href}}},{type:"google_slides",title:"Google Slides",hostnames:["docs.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=cr(e);if(t?.pathname.match(/^\/presentation/)&&t?.pathname.match(/\/pub\/?$/)){t.pathname=t.pathname.replace(/\/pub$/,"/embed");const e=Array.from(t.searchParams.keys());for(const n of e)t.searchParams.delete(n);return t.href}},fromEmbedUrl:e=>{const t=cr(e);if(t?.pathname.match(/^\/presentation/)&&t?.pathname.match(/\/embed\/?$/)){t.pathname=t.pathname.replace(/\/embed$/,"/pub");const e=Array.from(t.searchParams.keys());for(const n of e)t.searchParams.delete(n);return t.href}}},{type:"github_gist",title:"GitHub Gist",hostnames:["gist.github.com"],width:720,height:500,doesResize:!0,canUnmount:!0,toEmbedUrl:e=>{const t=cr(e);if(t&&t.pathname.match(/\/([^/]+)\/([^/]+)/)){if(!e.split("/").pop())return;return e}},fromEmbedUrl:e=>{const t=cr(e);if(t&&t.pathname.match(/\/([^/]+)\/([^/]+)/)){if(!e.split("/").pop())return;return e}}},{type:"replit",title:"Replit",hostnames:["replit.com"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=cr(e);if(t&&t.pathname.match(/\/@([^/]+)\/([^/]+)/))return`${e}?embed=true`},fromEmbedUrl:e=>{const t=cr(e);if(t&&t.pathname.match(/\/@([^/]+)\/([^/]+)/)&&t.searchParams.has("embed"))return t.searchParams.delete("embed"),t.href}},{type:"felt",title:"Felt",hostnames:["felt.com"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=cr(e);if(t&&t.pathname.match(/^\/map\//))return t.origin+"/embed"+t.pathname},fromEmbedUrl:e=>{const t=cr(e);if(t&&t.pathname.match(/^\/embed\/map\//))return t.pathname=t.pathname.replace(/^\/embed/,""),t.href}},{type:"spotify",title:"Spotify",hostnames:["open.spotify.com"],width:720,height:500,minHeight:500,overrideOutlineRadius:12,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=cr(e);if(t&&t.pathname.match(/^\/(artist|album)\//))return t.origin+"/embed"+t.pathname},fromEmbedUrl:e=>{const t=cr(e);if(t&&t.pathname.match(/^\/embed\/(artist|album)\//))return t.origin+t.pathname.replace(/^\/embed/,"")}},{type:"vimeo",title:"Vimeo",hostnames:["vimeo.com","player.vimeo.com"],width:640,height:360,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=cr(e);if(t&&"vimeo.com"===t.hostname&&t.pathname.match(/^\/[0-9]+/))return"https://player.vimeo.com/video/"+t.pathname.split("/")[1]+"?title=0&byline=0"},fromEmbedUrl:e=>{const t=cr(e);if(t&&"player.vimeo.com"===t.hostname){const e=t.pathname.match(/^\/video\/([^/]+)\/?$/);if(e)return"https://vimeo.com/"+e[1]}}},{type:"excalidraw",title:"Excalidraw",hostnames:["excalidraw.com"],width:720,height:500,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=cr(e);if(t&&t.hash.match(/#room=/))return e},fromEmbedUrl:e=>{const t=cr(e);if(t&&t.hash.match(/#room=/))return e}},{type:"observable",title:"Observable",hostnames:["observablehq.com"],width:720,height:500,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!1,backgroundColor:"#fff",toEmbedUrl:e=>{const t=cr(e);if(t&&t.pathname.match(/^\/@([^/]+)\/([^/]+)\/?$/))return`${t.origin}/embed${t.pathname}?cell=*`;if(t&&t.pathname.match(/^\/d\/([^/]+)\/?$/)){const e=t.pathname.replace(/^\/d/,"");return`${t.origin}/embed${e}?cell=*`}},fromEmbedUrl:e=>{const t=cr(e);return t&&t.pathname.match(/^\/embed\/@([^/]+)\/([^/]+)\/?$/)?`${t.origin}${t.pathname.replace("/embed","")}#cell-*`:t&&t.pathname.match(/^\/embed\/([^/]+)\/?$/)?`${t.origin}${t.pathname.replace("/embed","/d")}#cell-*`:void 0}}],ur={"allow-downloads-without-user-activation":!1,"allow-downloads":!1,"allow-modals":!1,"allow-orientation-lock":!1,"allow-pointer-lock":!1,"allow-popups":!0,"allow-popups-to-escape-sandbox":!1,"allow-presentation":!1,"allow-storage-access-by-user-activation":!1,"allow-top-navigation":!1,"allow-top-navigation-by-user-activation":!1,"allow-scripts":!0,"allow-same-origin":!0,"allow-forms":!0},dr={w:ft,h:ft,url:dt},hr=Ue({currentVersion:4,migrators:{1:{up:e=>{const t=e.props.url,n=new URL(t).host.replace("www.","");let r;for(const e of lr)if(e.hostnames.includes(n))try{r=e.fromEmbedUrl(t)}catch(e){console.warn(e)}return{...e,props:{...e.props,tmpOldUrl:e.props.url,url:r??""}}},down:e=>{let t=e.props.tmpOldUrl;if(!t||""===t){const n=e.props.url,r=new URL(n).host.replace("www.","");for(const e of lr)if(e.hostnames.includes(r))try{t=e.toEmbedUrl(n)}catch(e){console.warn(e)}}const{tmpOldUrl:n,...r}=e.props;return{...e,props:{...r,url:t??""}}}},2:{up:e=>{const{doesResize:t,...n}=e.props;return{...e,props:{...n}}},down:e=>({...e,props:{...e.props,doesResize:!0}})},3:{up:e=>{const{tmpOldUrl:t,...n}=e.props;return{...e,props:{...n}}},down:e=>({...e,props:{...e.props}})},4:{up:e=>{const{overridePermissions:t,...n}=e.props;return{...e,props:{...n}}},down:e=>({...e,props:{...e.props}})}}}),pr={w:ft,h:ft,name:dt},fr=Ue({}),mr=An.defineEnum("tldraw:horizontalAlign",{defaultValue:"middle",values:["start","middle","end","start-legacy","end-legacy","middle-legacy"]}),gr=An.defineEnum("tldraw:verticalAlign",{defaultValue:"middle",values:["start","middle","end"]}),yr=An.defineEnum("tldraw:geo",{defaultValue:"rectangle",values:["cloud","rectangle","ellipse","triangle","diamond","pentagon","hexagon","octagon","star","rhombus","rhombus-2","oval","trapezoid","arrow-right","arrow-left","arrow-up","arrow-down","x-box","check-box"]}),vr={geo:yr,labelColor:Vn,color:Zn,fill:Un,dash:Wn,size:Xn,font:qn,align:mr,verticalAlign:gr,url:Lt,w:ft,h:ft,growY:pt,text:dt},br=Ue({currentVersion:8,migrators:{1:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...n}=e.props;return{...e,props:n}}},2:{up:e=>({...e,props:{...e.props,labelColor:"black"}}),down:e=>{const{labelColor:t,...n}=e.props;return{...e,props:n}}},3:{up:e=>{let t=e.props.align;return"justify"===t&&(t="start"),{...e,props:{...e.props,align:t}}},down:e=>({...e})},4:{up:e=>({...e}),down:e=>({...e,props:{...e.props,geo:"check-box"===e.props.geo?"rectangle":e.props.geo}})},5:{up:e=>({...e,props:{...e.props,verticalAlign:"middle"}}),down:e=>{const{verticalAlign:t,...n}=e.props;return{...e,props:n}}},6:{up:e=>{let t;switch(e.props.align){case"start":t="start-legacy";break;case"end":t="end-legacy";break;default:t="middle-legacy"}return{...e,props:{...e.props,align:t}}},down:e=>{let t;switch(e.props.align){case"start-legacy":t="start";break;case"end-legacy":t="end";break;case"middle-legacy":t="middle";break;default:t=e.props.align}return{...e,props:{...e.props,align:t}}}},7:{up:e=>e,down:e=>{if("cloud"===e.props.geo)return{...e,props:{...e.props,geo:"rectangle"}}}},8:{up:e=>""===e.props.url||Lt.isValid(e.props.url)?e:{...e,props:{...e.props,url:""}},down:e=>e}}}),xr={},Or=Ue({}),wr={color:Zn,size:Xn,segments:wt(ir),isComplete:vt,isPen:vt},Sr=Ue({}),kr=kt({topLeft:Ut,bottomRight:Ut}),_r={w:ft,h:ft,playing:vt,url:Lt,assetId:Zt.nullable(),crop:kr.nullable()},Pr=Ue({currentVersion:3,migrators:{1:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...n}=e.props;return{...e,props:n}}},2:{up:e=>({...e,props:{...e.props,crop:null}}),down:e=>{const{crop:t,...n}=e.props;return{...e,props:n}}},3:{up:e=>""===e.props.url||Lt.isValid(e.props.url)?e:{...e,props:{...e.props,url:""}},down:e=>e}}}),Er=An.defineEnum("tldraw:spline",{defaultValue:"line",values:["cubic","line"]}),Cr=kt({id:dt,index:Ft,x:ht,y:ht}),Tr={color:Zn,dash:Wn,size:Xn,spline:Er,points:Tt(dt,Cr)},jr=Ue({currentVersion:4,migrators:{1:{up:e=>{const t=B(e.props.handles);for(const e in t)t[e].canSnap=!0;return{...e,props:{...e.props,handles:t}}},down:e=>{const t=B(e.props.handles);for(const e in t)delete t[e].canSnap;return{...e,props:{...e.props,handles:t}}}},2:{up:e=>({...e,props:{...e.props,handles:U(Object.values(e.props.handles).map((e=>[e.index,{x:e.x,y:e.y}])))}}),down:e=>{const t=Object.entries(e.props.handles).map((([e,t])=>({index:e,...t}))).sort(ke);return{...e,props:{...e.props,handles:Object.fromEntries(t.map(((e,n)=>{const r=0===n?"start":n===t.length-1?"end":`handle:${e.index}`;return[r,{id:r,type:"vertex",canBind:!1,canSnap:!0,index:e.index,x:e.x,y:e.y}]})))}}}},3:{up:e=>{const{handles:t,...n}=e.props,r=Object.entries(t).map((([e,{x:t,y:n}])=>({x:t,y:n,index:e}))).sort(ke);return{...e,props:{...n,points:r.map((({x:e,y:t})=>({x:e,y:t})))}}},down:e=>{const{points:t,...n}=e.props,r=Se(t.length);return{...e,props:{...n,handles:Object.fromEntries(t.map(((e,t)=>[r[t],{x:e.x,y:e.y}])))}}}},4:{up:e=>{const{points:t,...n}=e.props,r=Se(t.length);return{...e,props:{...n,points:Object.fromEntries(t.map(((e,t)=>{const n=r[t];return[n,{id:n,index:n,x:e.x,y:e.y}]})))}}},down:e=>{const t=Object.values(e.props.points).sort(ke);return{...e,props:{...e.props,points:t.map((({x:e,y:t})=>({x:e,y:t})))}}}}}}),Ir={color:Zn,size:Xn,font:qn,align:mr,verticalAlign:gr,growY:pt,url:Lt,text:dt},Mr=Ue({currentVersion:5,migrators:{1:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...n}=e.props;return{...e,props:n}}},2:{up:e=>{let t=e.props.align;return"justify"===t&&(t="start"),{...e,props:{...e.props,align:t}}},down:e=>({...e})},3:{up:e=>{let t;switch(e.props.align){case"start":t="start-legacy";break;case"end":t="end-legacy";break;default:t="middle-legacy"}return{...e,props:{...e.props,align:t}}},down:e=>{let t;switch(e.props.align){case"start-legacy":t="start";break;case"end-legacy":t="end";break;case"middle-legacy":t="middle";break;default:t=e.props.align}return{...e,props:{...e.props,align:t}}}},4:{up:e=>({...e,props:{...e.props,verticalAlign:"middle"}}),down:e=>{const{verticalAlign:t,...n}=e.props;return{...e,props:n}}},5:{up:e=>""===e.props.url||Lt.isValid(e.props.url)?e:{...e,props:{...e.props,url:""}},down:e=>e}}}),Ar={color:Zn,size:Xn,font:qn,align:mr,w:ft,text:dt,scale:ft,autoSize:vt},Dr=Ue({currentVersion:1,migrators:{1:{up:e=>{let t=e.props.align;return"justify"===t&&(t="start"),{...e,props:{...e.props,align:t}}},down:e=>({...e})}}}),$r={w:ft,h:ft,time:ht,playing:vt,url:Lt,assetId:Zt.nullable()},Rr=Ue({currentVersion:2,migrators:{1:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...n}=e.props;return{...e,props:n}}},2:{up:e=>""===e.props.url||Lt.isValid(e.props.url)?e:{...e,props:{...e.props,url:""}},down:e=>e}}}),Nr=Ue({currentVersion:4,migrators:{1:{up:e=>Object.fromEntries(Object.entries(e).filter((([e,t])=>"shape"!==t.typeName||"icon"!==t.type&&"code"!==t.type))),down:e=>e},2:{up:e=>e,down:e=>Object.fromEntries(Object.entries(e).filter((([e,t])=>"instance_presence"!==t.typeName)))},3:{up:e=>Object.fromEntries(Object.entries(e).filter((([e,t])=>!t.typeName.match(/^(user|user_presence)$/)))),down:e=>Object.fromEntries(Object.entries(e).filter((([e,t])=>"pointer"!==t.typeName)))},4:{up:e=>Object.fromEntries(Object.entries(e).filter((([e,t])=>!t.typeName.match("user_document")))),down:e=>e}}}),Lr={arrow:{migrations:tr,props:er},bookmark:{migrations:rr,props:nr},draw:{migrations:sr,props:or},embed:{migrations:hr,props:dr},frame:{migrations:fr,props:pr},geo:{migrations:br,props:vr},group:{migrations:Or,props:xr},highlight:{migrations:Sr,props:wr},image:{migrations:Pr,props:_r},line:{migrations:jr,props:Tr},note:{migrations:Mr,props:Ir},text:{migrations:Dr,props:Ar},video:{migrations:Rr,props:$r}};function Qr({shapes:e=Lr}={}){const t=new Map;for(const n of V(e))for(const e of Qn(n.props??{}).keys()){if(t.has(e.id)&&t.get(e.id)!==e)throw new Error(`Multiple StyleProp instances with the same id: ${e.id}`);t.set(e.id,e)}const n=function(e){return De("shape",{migrations:Ue({currentVersion:$n.currentVersion,firstVersion:$n.firstVersion,migrators:$n.migrators,subTypeKey:"type",subTypeMigrations:Y(e,((e,t)=>t.migrations??Ue({})))}),scope:"document",validator:It("shape",jt("type",Y(e,((e,{props:t,meta:n})=>ln(e,t,n)))))}).withDefaultProperties((()=>({x:0,y:0,rotation:0,isLocked:!1,opacity:1,meta:{}})))}(e),r=function(e){const t={};for(const[n,r]of e)t[n]=At(r);const n=It("instance",kt({typeName:xt("instance"),id:Bt("instance"),currentPageId:tn,followingUserId:dt.nullable(),brush:qt.nullable(),opacityForNextShape:Ht,stylesForNextShape:kt(t),cursor:Xt,scribbles:wt(en),isFocusMode:vt,isDebugMode:vt,isToolLocked:vt,exportBackground:vt,screenBounds:qt,insets:wt(vt),zoomBrush:qt.nullable(),isPenMode:vt,isGridMode:vt,chatMessage:dt,isChatting:vt,highlightedUserIds:wt(dt),canMoveCamera:vt,isFocused:vt,devicePixelRatio:ht,isCoarsePointer:vt,isHoveringCanvas:vt.nullable(),openMenus:wt(dt),isChangingStyle:vt,isReadonly:vt,meta:Et,duplicateProps:kt({shapeIds:wt(Bt("shape")),offset:kt({x:ht,y:ht})}).nullable()}));return De("instance",{migrations:on,validator:n,scope:"session"}).withDefaultProperties((()=>({followingUserId:null,opacityForNextShape:1,stylesForNextShape:{},brush:null,scribbles:[],cursor:{type:"default",rotation:0},isFocusMode:!1,exportBackground:!1,isDebugMode:!1,isToolLocked:!1,screenBounds:{x:0,y:0,w:1080,h:720},insets:[!1,!1,!1,!1],zoomBrush:null,isGridMode:!1,isPenMode:!1,chatMessage:"",isChatting:!1,highlightedUserIds:[],canMoveCamera:!0,isFocused:!1,devicePixelRatio:"undefined"==typeof window?1:window.devicePixelRatio,isCoarsePointer:!1,isHoveringCanvas:null,openMenus:[],isChangingStyle:!1,isReadonly:!1,meta:{},duplicateProps:null})))}(t);return Ke.create({asset:Mn,camera:Wt,document:vn,instance:r,instance_page_state:dn,page:nn,shape:n,instance_presence:mn,pointer:hn},{snapshotMigrations:Nr,onValidationFailure:wn,createIntegrityChecker:Sn})}const zr=[{locale:"ca",label:"Catal"},{locale:"cs",label:"etina"},{locale:"da",label:"Danish"},{locale:"de",label:"Deutsch"},{locale:"en",label:"English"},{locale:"es",label:"Espaol"},{locale:"fr",label:"Franais"},{locale:"gl",label:"Galego"},{locale:"hr",label:"Hrvatski"},{locale:"it",label:"Italiano"},{locale:"hu",label:"Magyar"},{locale:"no",label:"Norwegian"},{locale:"pl",label:"Polski"},{locale:"pt-br",label:"Portugus - Brasil"},{locale:"pt-pt",label:"Portugus - Europeu"},{locale:"ro",label:"Romn"},{locale:"ru",label:"Russian"},{locale:"sl",label:"Slovenina"},{locale:"fi",label:"Suomi"},{locale:"sv",label:"Svenska"},{locale:"vi",label:"Ting Vit"},{locale:"tr",label:"Trke"},{locale:"uk",label:"Ukrainian"},{locale:"he",label:""},{locale:"ar",label:""},{locale:"fa",label:""},{locale:"ku",label:""},{locale:"ne",label:""},{locale:"hi-in",label:""},{locale:"te",label:""},{locale:"th",label:""},{locale:"my",label:""},{locale:"ko-kr",label:""},{locale:"ja",label:""},{locale:"zh-cn",label:""},{locale:"zh-tw",label:" ()"}];function Fr(){return function(e){for(const t of e){const e=Zr(t);if(e)return e}return"en"}("undefined"!=typeof window?window.navigator.languages??["en"]:["en"])}const Br={zh:"zh-cn",pt:"pt-br",ko:"ko-kr",hi:"hi-in"};function Zr(e){const t=zr.find((t=>t.locale===e.toLowerCase()));if(t)return t.locale;const[n,r]=e.split(/[-_]/).map((e=>e.toLowerCase()));if(r){const e=zr.find((e=>e.locale===n));if(e)return e.locale}return n in Br?Br[n]:null}var Vr=n(7094),Wr=n(66438),Ur=n(30395);const qr={error:null};class Yr extends Wr.Component{static getDerivedStateFromError(e){return{error:e}}state=qr;componentDidCatch(e){this.props.onError?.(e)}render(){const{error:e}=this.state;if(null!==e){const{fallback:t}=this.props;return(0,Vr.jsx)(t,{error:e})}return this.props.children}}function Xr({children:e,fallback:t,...n}){return null===t?(0,Vr.jsx)(Vr.Fragment,{children:e}):(0,Vr.jsx)(Yr,{fallback:t,...n,children:e})}const Hr=Wr.createContext({});function Gr(){return Wr.useContext(Hr)}function Kr(){return(0,Vr.jsx)("div",{className:"tl-background"})}function Jr(e,t,n,r,i,o){(0,Wr.useLayoutEffect)((()=>{const s=e.current;if(!s)return;if(void 0===t)return;let a=`translate(${t}px, ${n}px)`;void 0!==r&&(a+=` scale(${r})`),void 0!==i&&(a+=` rotate(${i}rad)`),o&&(a+=` translate(${o.x}px, ${o.y}px)`),s.style.transform=a}))}const ei={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e<=0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e>=1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e<=0?0:e>=1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2};class ti{constructor(e=0,t=0,n=1){this.x=e,this.y=t,this.z=n}get pressure(){return this.z}set(e=this.x,t=this.y,n=this.z){return this.x=e,this.y=t,this.z=n,this}setTo({x:e=0,y:t=0,z:n=1}){return this.x=e,this.y=t,this.z=n,this}rot(e){if(0===e)return this;const{x:t,y:n}=this,r=Math.sin(e),i=Math.cos(e);return this.x=t*i-n*r,this.y=t*r+n*i,this}rotWith(e,t){if(0===t)return this;const n=this.x-e.x,r=this.y-e.y,i=Math.sin(t),o=Math.cos(t);return this.x=e.x+(n*o-r*i),this.y=e.y+(n*i+r*o),this}clone(){const{x:e,y:t,z:n}=this;return new ti(e,t,n)}sub(e){return this.x-=e.x,this.y-=e.y,this}subXY(e,t){return this.x-=e,this.y-=t,this}subScalar(e){return this.x-=e,this.y-=e,this}add(e){return this.x+=e.x,this.y+=e.y,this}addXY(e,t){return this.x+=e,this.y+=t,this}addScalar(e){return this.x+=e,this.y+=e,this}clamp(e,t){return this.x=Math.max(this.x,e),this.y=Math.max(this.y,e),void 0!==t&&(this.x=Math.min(this.x,t),this.y=Math.min(this.y,t)),this}div(e){return this.x/=e,this.y/=e,this}divV(e){return this.x/=e.x,this.y/=e.y,this}mul(e){return this.x*=e,this.y*=e,this}mulV(e){return this.x*=e.x,this.y*=e.y,this}abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}nudge(e,t){const n=ti.Tan(e,this);return this.add(n.mul(t))}neg(){return this.x*=-1,this.y*=-1,this}cross(e){return this.x=this.y*e.z-this.z*e.y,this.y=this.z*e.x-this.x*e.z,this}dpr(e){return ti.Dpr(this,e)}cpr(e){return ti.Cpr(this,e)}len2(){return ti.Len2(this)}len(){return ti.Len(this)}pry(e){return ti.Pry(this,e)}per(){const{x:e,y:t}=this;return this.x=t,this.y=-e,this}uni(){return ti.Uni(this)}tan(e){return ti.Tan(this,e)}dist(e){return ti.Dist(this,e)}distanceToLineSegment(e,t){return ti.DistanceToLineSegment(e,t,this)}slope(e){return ti.Slope(this,e)}snapToGrid(e){return this.x=Math.round(this.x/e)*e,this.y=Math.round(this.y/e)*e,this}angle(e){return ti.Angle(this,e)}toAngle(){return ti.ToAngle(this)}lrp(e,t){return this.x=this.x+(e.x-this.x)*t,this.y=this.y+(e.y-this.y)*t,this}equals(e){return ti.Equals(this,e)}equalsXY(e,t){return ti.EqualsXY(this,e,t)}norm(){const e=this.len();return this.x=0===e?0:this.x/e,this.y=0===e?0:this.y/e,this}toFixed(){return ti.ToFixed(this)}toString(){return ti.ToString(ti.ToFixed(this))}toJson(){return ti.ToJson(this)}toArray(){return ti.ToArray(this)}static Add(e,t){return new ti(e.x+t.x,e.y+t.y)}static AddXY(e,t,n){return new ti(e.x+t,e.y+n)}static Sub(e,t){return new ti(e.x-t.x,e.y-t.y)}static SubXY(e,t,n){return new ti(e.x-t,e.y-n)}static AddScalar(e,t){return new ti(e.x+t,e.y+t)}static SubScalar(e,t){return new ti(e.x-t,e.y-t)}static Div(e,t){return new ti(e.x/t,e.y/t)}static Mul(e,t){return new ti(e.x*t,e.y*t)}static DivV(e,t){return new ti(e.x/t.x,e.y/t.y)}static MulV(e,t){return new ti(e.x*t.x,e.y*t.y)}static Neg(e){return new ti(-e.x,-e.y)}static Per(e){return new ti(e.y,-e.x)}static Dist2(e,t){return ti.Sub(e,t).len2()}static Abs(e){return new ti(Math.abs(e.x),Math.abs(e.y))}static Dist(e,t){return Math.hypot(e.y-t.y,e.x-t.x)}static Dpr(e,t){return e.x*t.x+e.y*t.y}static Cross(e,t){return new ti(e.y*t.z-e.z*t.y,e.z*t.x-e.x*t.z)}static Cpr(e,t){return e.x*t.y-t.x*e.y}static Len2(e){return e.x*e.x+e.y*e.y}static Len(e){return Math.hypot(e.x,e.y)}static Pry(e,t){return ti.Dpr(e,t)/ti.Len(t)}static Uni(e){return ti.Div(e,ti.Len(e))}static Tan(e,t){return ti.Uni(ti.Sub(e,t))}static Min(e,t){return new ti(Math.min(e.x,t.x),Math.min(e.y,t.y))}static Max(e,t){return new ti(Math.max(e.x,t.x),Math.max(e.y,t.y))}static From({x:e,y:t,z:n=1}){return new ti(e,t,n)}static FromArray(e){return new ti(e[0],e[1])}static Rot(e,t=0){const n=Math.sin(t),r=Math.cos(t);return new ti(e.x*r-e.y*n,e.x*n+e.y*r)}static RotWith(e,t,n){const r=e.x-t.x,i=e.y-t.y,o=Math.sin(n),s=Math.cos(n);return new ti(t.x+(r*s-i*o),t.y+(r*o+i*s))}static NearestPointOnLineThroughPoint(e,t,n){return ti.Mul(t,ti.Sub(n,e).pry(t)).add(e)}static NearestPointOnLineSegment(e,t,n,r=!0){const i=ti.Tan(t,e),o=ti.Add(e,ti.Mul(i,ti.Sub(n,e).pry(i)));if(r){if(o.x<Math.min(e.x,t.x))return ti.Cast(e.x<t.x?e:t);if(o.x>Math.max(e.x,t.x))return ti.Cast(e.x>t.x?e:t);if(o.y<Math.min(e.y,t.y))return ti.Cast(e.y<t.y?e:t);if(o.y>Math.max(e.y,t.y))return ti.Cast(e.y>t.y?e:t)}return o}static DistanceToLineThroughPoint(e,t,n){return ti.Dist(n,ti.NearestPointOnLineThroughPoint(e,t,n))}static DistanceToLineSegment(e,t,n,r=!0){return ti.Dist(n,ti.NearestPointOnLineSegment(e,t,n,r))}static Snap(e,t=1){return new ti(Math.round(e.x/t)*t,Math.round(e.y/t)*t)}static Cast(e){return e instanceof ti?e:ti.From(e)}static Slope(e,t){return e.x===t.y?NaN:(e.y-t.y)/(e.x-t.x)}static IsNaN(e){return isNaN(e.x)||isNaN(e.y)}static Angle(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}static Lrp(e,t,n){return ti.Sub(t,e).mul(n).add(e)}static Med(e,t){return new ti((e.x+t.x)/2,(e.y+t.y)/2)}static Equals(e,t){return Math.abs(e.x-t.x)<1e-4&&Math.abs(e.y-t.y)<1e-4}static EqualsXY(e,t,n){return e.x===t&&e.y===n}static Clockwise(e,t,n){return(n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y)<0}static Rescale(e,t){const n=ti.Len(e);return new ti(t*e.x/n,t*e.y/n)}static ScaleWithOrigin(e,t,n){return ti.Sub(e,n).mul(t).add(n)}static ToFixed(e,t=2){return new ti(+e.x.toFixed(t),+e.y.toFixed(t),+e.z.toFixed(t))}static Nudge(e,t,n){return ti.Add(e,ti.Tan(t,e).mul(n))}static ToString(e){return`${e.x}, ${e.y}`}static ToAngle(e){let t=Math.atan2(e.y,e.x);return t<0&&(t+=2*Math.PI),t}static FromAngle(e,t=1){return new ti(Math.cos(e)*t,Math.sin(e)*t)}static ToArray(e){return[e.x,e.y,e.z]}static ToJson(e){const{x:t,y:n,z:r}=e;return{x:t,y:n,z:r}}static Average(e){const t=e.length,n=new ti(0,0);for(let r=0;r<t;r++)n.add(e[r]);return n.div(t)}static Clamp(e,t,n){return void 0===n?new ti(Math.min(Math.max(e.x,t)),Math.min(Math.max(e.y,t))):new ti(Math.min(Math.max(e.x,t),n),Math.min(Math.max(e.y,t),n))}static PointsBetween(e,t,n=6){const r=[];for(let i=0;i<n;i++){const o=ei.easeInQuad(i/(n-1)),s=ti.Lrp(e,t,o);s.z=Math.min(1,.5+.65*Math.abs(.5-ni(o))),r.push(s)}return r}static SnapToGrid(e,t=8){return new ti(Math.round(e.x/t)*t,Math.round(e.y/t)*t)}}const ni=e=>e<.5?2*e*e:(4-2*e)*e-1;function ri(e){return`${Ci(e.x)},${Ci(e.y)} `}function ii(e,t){return`${Ci((e.x+t.x)/2)},${Ci((e.y+t.y)/2)} `}const oi=Math.PI,si=oi/2,ai=2*oi,ci=Math.sin;function li(e,t,n){return Math.max(t,void 0!==n?Math.min(e,n):e)}function ui(e,t=1e10){return e?Math.round(e*t)/t:0}function di(e,t,n=1e-6){return Math.abs(e-t)<=n}function hi(e,t){const n=Math.pow(e-t,2)/Math.pow(e+t,2);return oi*(e+t)*(1+3*n/(10+Math.sqrt(4-3*n)))}function pi(e){return(e%=ai)<0?e+=ai:0===e&&(e=0),e}function fi(e,t){return(e=pi(e))>(t=pi(t))&&(t+=ai),t-e}function mi(e,t){return ai-fi(e,t)}function gi(e,t){const n=(t-e)%ai;return 2*n%ai-n}function yi(e){return(ai+e)%ai}function vi(e,t){const n=ai/t;let r=Math.floor((yi(e)+n/2)/n)*n%ai;return r<oi&&(r+=ai),r>oi&&(r-=ai),r}function bi(e,t){return e===t||di(e%(Math.PI/2)-t%(Math.PI/2),0)}function xi(e){return e*oi/180}function Oi(e){return 180*e/oi}function wi(e,t,n){return new ti(e.x,e.y).add(ti.FromAngle(n,t))}function Si(e,t,n){const r=e/2,i=t/2,o=[];let s=1/0,a=-1/0,c=1/0,l=-1/0;for(let e=0;e<n;e++){const t=e*(ai/n)-si,u=r+r*Math.cos(t),d=i+i*Math.sin(t);u<s&&(s=u),d<c&&(c=d),u>a&&(a=u),d>l&&(l=d),o.push(new ti(u,d))}const u=a-s,d=l-c;if(0!=e-u||0!=t-d)for(let n=0;n<o.length;n++){const r=o[n];r.x=(r.x-s)/u*e,r.y=(r.y-c)/d*t}return o}function ki(e,t,n,r){return e<r&&n<t}function _i(e,t,n,r){const i=Math.max(e,n),o=Math.min(t,r);return i<=o?[i,o]:null}function Pi(e,t,n){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)}function Ei(e,t){let n,r,i=0;for(let o=0;o<t.length;o++){if(n=t[o],n.x===e.x&&n.y===e.y)return!0;if(r=t[(o+1)%t.length],ti.Dist(e,n)+ti.Dist(e,r)===ti.Dist(n,r))return!0;n.y<=e.y?r.y>e.y&&Pi(n,r,e)>0&&(i+=1):r.y<=e.y&&Pi(n,r,e)<0&&(i-=1)}return 0!==i}function Ci(e){return+e.toFixed(4)}function Ti(e){return+e.toFixed(2)}const ji=e=>Math.abs(e)<Number.MAX_SAFE_INTEGER;function Ii(e,t,n){return n<0?fi(e,t):mi(e,t)}function Mi(e,t,n,r){let i;if(Math.abs(e)>oi){i=gi(t,r);const o=gi(r,n);return Math.abs(i)<Math.abs(o)?i/e:(e-o)/e}{i=gi(t,r);const n=i/e;return Math.sign(i)!==Math.sign(e)?Math.abs(n)>.5?1:0:n}}function Ai(e,t,n,r){const i=(t-e)%ai*2%ai-(t-e)%ai;return r?(ai-Math.abs(i))*(n?1:-1):i}const Di=({brush:e,color:t,opacity:n,className:r})=>{const i=(0,Wr.useRef)(null);Jr(i,e.x,e.y);const o=Ci(Math.max(1,e.w)),s=Ci(Math.max(1,e.h));return(0,Vr.jsx)("svg",{className:"tl-overlays__item",ref:i,children:t?(0,Vr.jsxs)("g",{className:"tl-brush",opacity:n,children:[(0,Vr.jsx)("rect",{width:o,height:s,fill:t,opacity:.75}),(0,Vr.jsx)("rect",{width:o,height:s,fill:"none",stroke:t,opacity:.1})]}):(0,Vr.jsx)("rect",{className:`tl-brush tl-brush__default ${r}`,width:o,height:s})})},$i=2e3,Ri=40,Ni=80,Li=320,Qi=[.1,.25,.5,1,2,4,8],zi=.1,Fi=8,Bi=450,Zi=200,Vi=4,Wi=32,Ui={};for(let e=1;e<=Math.ceil(Fi);e++)Ui[e+"_dark"]=`hash_pattern_zoom_${e}_dark`,Ui[e+"_light"]=`hash_pattern_zoom_${e}_light`;const qi={duration:0,easing:ei.easeInOutCubic},Yi=.09,Xi=[{min:-1,mid:.15,step:64},{min:.05,mid:.375,step:16},{min:.15,mid:1,step:4},{min:.7,mid:2.5,step:1}],Hi=8,Gi=20,Ki=8,Ji=12,eo=20,to=12,no={},ro=oo("pointerCaptureTrackingObject",{defaults:{all:new Map},shouldStoreForSession:!1}),io={preventDefaultLogging:oo("preventDefaultLogging",{defaults:{all:!1}}),pointerCaptureTracking:oo("pointerCaptureTracking",{defaults:{all:!1}}),elementRemovalLogging:oo("elementRemovalLogging",{defaults:{all:!1}}),debugSvg:oo("debugSvg",{defaults:{all:!1}}),showFps:oo("showFps",{defaults:{all:!1}}),throwToBlob:oo("throwToBlob",{defaults:{all:!1}}),resetConnectionEveryPing:oo("resetConnectionEveryPing",{defaults:{all:!1}}),debugCursors:oo("debugCursors",{defaults:{all:!1}}),forceSrgb:oo("forceSrgbColors",{defaults:{all:!1}}),debugGeometry:oo("debugGeometry",{defaults:{all:!1}}),hideShapes:oo("hideShapes",{defaults:{all:!1}}),documentName:oo("documentName",{defaults:{all:!1}})};if("undefined"!=typeof Element){const e=Element.prototype.removeChild;(0,o.wv)("element removal logging",(()=>{io.elementRemovalLogging.get()?Element.prototype.removeChild=function(t){return console.warn("[tldraw] removing child:",t),e.call(this,t)}:Element.prototype.removeChild=e}))}function oo(e,{defaults:t,shouldStoreForSession:n=!0}){return function(e){const t=function(e){switch(so((()=>process.env.TLDRAW_ENV))??so((()=>process.env.VERCEL_PUBLIC_TLDRAW_ENV))??so((()=>process.env.NEXT_PUBLIC_TLDRAW_ENV))??"production"){case"production":return e.defaults.production??e.defaults.all;case"preview":case"staging":return e.defaults.staging??e.defaults.all;default:return e.defaults.development??e.defaults.all}}(e),n=e.shouldStoreForSession?function(e){try{return JSON.parse(window?.sessionStorage.getItem(`tldraw_debug:${e}`)??"null")}catch(e){return null}}(e.name):null,r=(0,o.eU)(`debug:${e.name}`,n??t);return"undefined"!=typeof window&&(e.shouldStoreForSession&&(0,o.wv)(`debug:${e.name}`,(()=>{const n=r.get();try{n===t?window.sessionStorage.removeItem(`tldraw_debug:${e.name}`):window.sessionStorage.setItem(`tldraw_debug:${e.name}`,JSON.stringify(n))}catch{}})),Object.defineProperty(window,`tldraw${e.name.replace(/^[a-z]/,(e=>e.toUpperCase()))}`,{get:()=>r.get(),set(e){r.set(e)},configurable:!0})),Object.assign(r,e)}({name:e,defaults:t,shouldStoreForSession:n})}function so(e){try{return e()}catch{return null}}function ao(e){if(e instanceof HTMLElement)return e;if(e.parentElement)return ao(e.parentElement);throw Error("Could not find a parent element of an HTML type!")}function co(e){e.preventDefault(),io.preventDefaultLogging.get()&&console.warn("preventDefault called on event:",e)}function lo(e,t){if(e.setPointerCapture(t.pointerId),io.pointerCaptureTracking.get()){const n=ro.get();n.set(e,(n.get(e)??0)+1),console.warn("setPointerCapture called on element:",e,t)}}function uo(e,t){if(e.hasPointerCapture(t.pointerId)&&(e.releasePointerCapture(t.pointerId),io.pointerCaptureTracking.get())){const n=ro.get();1===n.get(e)?n.delete(e):n.has(e)?n.set(e,n.get(e)-1):console.warn("Release without capture"),console.warn("releasePointerCapture called on element:",e,t)}}const ho=e=>e.stopPropagation();function po(e){return e.isKilled=!0,{point:{x:e.clientX,y:e.clientY,z:e.pressure},shiftKey:e.shiftKey,altKey:e.altKey,ctrlKey:e.metaKey||e.ctrlKey,pointerId:e.pointerId,button:e.button,isPen:"pen"===e.pointerType}}const fo=(0,Wr.createContext)(null);function mo({container:e,children:t}){return(0,Vr.jsx)(fo.Provider,{value:e,children:t})}function go(){return O((0,Wr.useContext)(fo),"useContainer used outside of <Tldraw />")}const yo=["input","select","button","textarea"];function vo(){const{activeElement:e}=document;return!(!e||!(e.getAttribute("contenteditable")||yo.indexOf(e.tagName.toLowerCase())>-1))}const bo=["textarea","input"];var xo=n(85080),Oo=n(83235);const wo=10,So=/Mac|iPod|iPhone|iPad/.test("undefined"==typeof window?"node":window.navigator.platform);function ko(e){let{deltaY:t,deltaX:n}=e,r=0;if(e.ctrlKey||e.altKey||e.metaKey){const n=Math.sign(e.deltaY);let i=t;Math.abs(e.deltaY)>wo&&(i=wo*n),r=i/100}else e.shiftKey&&!So&&(n=t,t=0);return{x:-n,y:-t,z:-r}}const _o=(0,xo.createUseGesture)([Oo.w,Oo.f]);let Po;const Eo=e=>void 0===Po?(Po=e,!1):e-Po>120&&e-Po<160?(Po=e,!0):(Po=e,!1);function Co(e,t,n){const r=e.getShape(t);return{shape:r,handle:e.getShapeHandles(r).find((e=>e.id===n))}}var To=n(58940);class jo{constructor(e=0,t=0,n=0,r=0){this.x=e,this.y=t,this.w=n,this.h=r}x=0;y=0;w=0;h=0;get point(){return new ti(this.x,this.y)}set point(e){this.x=e.x,this.y=e.y}get minX(){return this.x}set minX(e){this.x=e}get midX(){return this.x+this.w/2}get maxX(){return this.x+this.w}get minY(){return this.y}set minY(e){this.y=e}get midY(){return this.y+this.h/2}get maxY(){return this.y+this.h}get width(){return this.w}set width(e){this.w=e}get height(){return this.h}set height(e){this.h=e}get aspectRatio(){return this.width/this.height}get center(){return new ti(this.midX,this.midY)}set center(e){this.minX=e.x-this.width/2,this.minY=e.y-this.height/2}get corners(){return[new ti(this.minX,this.minY),new ti(this.maxX,this.minY),new ti(this.maxX,this.maxY),new ti(this.minX,this.maxY)]}get cornersAndCenter(){return[new ti(this.minX,this.minY),new ti(this.maxX,this.minY),new ti(this.maxX,this.maxY),new ti(this.minX,this.maxY),this.center]}get sides(){const{corners:e}=this;return[[e[0],e[1]],[e[1],e[2]],[e[2],e[3]],[e[3],e[0]]]}get size(){return new ti(this.w,this.h)}toFixed(){return this.x=ui(this.x),this.y=ui(this.y),this.w=ui(this.w),this.h=ui(this.h),this}setTo(e){return this.x=e.x,this.y=e.y,this.w=e.w,this.h=e.h,this}set(e=0,t=0,n=0,r=0){return this.x=e,this.y=t,this.w=n,this.h=r,this}expand(e){const t=Math.min(this.minX,e.minX),n=Math.min(this.minY,e.minY),r=Math.max(this.maxX,e.maxX),i=Math.max(this.maxY,e.maxY);return this.x=t,this.y=n,this.w=r-t,this.h=i-n,this}expandBy(e){return this.x-=e,this.y-=e,this.w+=2*e,this.h+=2*e,this}scale(e){return this.x/=e,this.y/=e,this.w/=e,this.h/=e,this}clone(){const{x:e,y:t,w:n,h:r}=this;return new jo(e,t,n,r)}translate(e){return this.x+=e.x,this.y+=e.y,this}snapToGrid(e){const t=Math.round(this.minX/e)*e,n=Math.round(this.minY/e)*e,r=Math.round(this.maxX/e)*e,i=Math.round(this.maxY/e)*e;this.minX=t,this.minY=n,this.width=Math.max(1,r-t),this.height=Math.max(1,i-n)}collides(e){return jo.Collides(this,e)}contains(e){return jo.Contains(this,e)}includes(e){return jo.Includes(this,e)}containsPoint(e,t=0){return jo.ContainsPoint(this,e,t)}getHandlePoint(e){switch(e){case"top_left":return new ti(this.minX,this.minY);case"top_right":return new ti(this.maxX,this.minY);case"bottom_left":return new ti(this.minX,this.maxY);case"bottom_right":return new ti(this.maxX,this.maxY);case"top":return new ti(this.midX,this.minY);case"right":return new ti(this.maxX,this.midY);case"bottom":return new ti(this.midX,this.maxY);case"left":return new ti(this.minX,this.midY)}}toJson(){return{x:this.minX,y:this.minY,w:this.w,h:this.h}}resize(e,t,n){const{minX:r,minY:i,maxX:o,maxY:s}=this;let{minX:a,minY:c,maxX:l,maxY:u}=this;switch(e){case"left":case"top_left":case"bottom_left":a+=t;break;case"right":case"top_right":case"bottom_right":l+=t}switch(e){case"top":case"top_left":case"top_right":c+=n;break;case"bottom":case"bottom_left":case"bottom_right":u+=n}if((l-a)/(o-r)<0){const e=l;l=a,a=e}if((u-c)/(s-i)<0){const e=u;u=c,c=e}this.minX=a,this.minY=c,this.width=Math.abs(l-a),this.height=Math.abs(u-c)}union(e){const t=Math.min(this.minX,e.x),n=Math.min(this.minY,e.y),r=Math.max(this.maxX,e.w+e.x),i=Math.max(this.maxY,e.h+e.y);return this.x=t,this.y=n,this.width=r-t,this.height=i-n,this}static From(e){return new jo(e.x,e.y,e.w,e.h)}static FromCenter(e,t){return new jo(e.x-t.x/2,e.y-t.y/2,t.x,t.y)}static FromPoints(e){if(0===e.length)return new jo;let t,n=1/0,r=1/0,i=-1/0,o=-1/0;for(let s=0,a=e.length;s<a;s++)t=e[s],n=Math.min(t.x,n),r=Math.min(t.y,r),i=Math.max(t.x,i),o=Math.max(t.y,o);return new jo(n,r,i-n,o-r)}static Expand(e,t){const n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return new jo(n,r,i-n,o-r)}static ExpandBy(e,t){return new jo(e.minX-t,e.minY-t,e.width+2*t,e.height+2*t)}static Collides=(e,t)=>!(e.maxX<t.minX||e.minX>t.maxX||e.maxY<t.minY||e.minY>t.maxY);static Contains=(e,t)=>e.minX<t.minX&&e.minY<t.minY&&e.maxY>t.maxY&&e.maxX>t.maxX;static Includes=(e,t)=>jo.Collides(e,t)||jo.Contains(e,t);static ContainsPoint=(e,t,n=0)=>!(t.x<e.minX-n||t.y<e.minY-n||t.x>e.maxX+n||t.y>e.maxY+n);static Common=e=>{let t=1/0,n=1/0,r=-1/0,i=-1/0;for(let o=0;o<e.length;o++){const s=e[o];t=Math.min(t,s.minX),n=Math.min(n,s.minY),r=Math.max(r,s.maxX),i=Math.max(i,s.maxY)}return new jo(t,n,r-t,i-n)};static Sides=(e,t=0)=>{const{corners:n}=e;return[[n[0],n[1]],[n[1],n[2]],[n[2],n[3]],[n[3],n[0]]]};static Resize(e,t,n,r,i=!1){const{minX:o,minY:s,maxX:a,maxY:c}=e;let{minX:l,minY:u,maxX:d,maxY:h}=e;switch(t){case"left":case"top_left":case"bottom_left":l+=n;break;case"right":case"top_right":case"bottom_right":d+=n}switch(t){case"top":case"top_left":case"top_right":u+=r;break;case"bottom":case"bottom_left":case"bottom_right":h+=r}const p=(d-l)/(a-o),f=(h-u)/(c-s),m=p<0,g=f<0;if(i){const e=(a-o)/(c-s),n=Math.abs(d-l),r=Math.abs(h-u),i=n*(f<0?1:-1)*(1/e),m=r*(p<0?1:-1)*e,g=e<n/r;switch(t){case"top_left":g?u=h+i:l=d+m;break;case"top_right":g?u=h+i:d=l-m;break;case"bottom_right":g?h=u-i:d=l-m;break;case"bottom_left":g?h=u-i:l=d+m;break;case"bottom":case"top":{const t=(l+d)/2,n=r*e;l=t-n/2,d=t+n/2;break}case"left":case"right":{const t=(u+h)/2,r=n/e;u=t-r/2,h=t+r/2;break}}}if(m){const e=d;d=l,l=e}if(g){const e=h;h=u,u=e}const y=new jo(l,u,Math.abs(d-l),Math.abs(h-u));return{box:y,scaleX:+(y.width/e.width*(p>0?1:-1)).toFixed(5),scaleY:+(y.height/e.height*(f>0?1:-1)).toFixed(5)}}equals(e){return jo.Equals(this,e)}static Equals(e,t){return t.x===e.x&&t.y===e.y&&t.w===e.w&&t.h===e.h}zeroFix(){return this.w=Math.max(1,this.w),this.h=Math.max(1,this.h),this}static ZeroFix(e){return new jo(e.x,e.y,Math.max(1,e.w),Math.max(1,e.h))}}const Io=["top","top_right","right","bottom_right","bottom","bottom_left","left","top_left"];function Mo(e,t){t%=ai;const n=Math.round(t/(oi/4)),r=Io.indexOf(e);return Io[(r+n)%Io.length]}const Ao={top_left_rotate:"top_left",top_right_rotate:"top_right",bottom_right_rotate:"bottom_right",bottom_left_rotate:"bottom_left",mobile_rotate:"top_left"},Do=e=>{let t=e.parentElement;for(;t;){if(t===document.body)return document;const{overflowY:e}=window.getComputedStyle(t);if(t.scrollHeight>t.clientHeight&&("auto"===e||"scroll"===e||"overlay"===e))return t;t=t.parentElement}return document};class $o{constructor(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.d=r,this.e=i,this.f=o}a=1;b=0;c=0;d=1;e=0;f=0;equals(e){return this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}multiply(e){const t=e,{a:n,b:r,c:i,d:o,e:s,f:a}=this;return this.a=n*t.a+i*t.b,this.c=n*t.c+i*t.d,this.e=n*t.e+i*t.f+s,this.b=r*t.a+o*t.b,this.d=r*t.c+o*t.d,this.f=r*t.e+o*t.f+a,this}rotate(e,t,n){return 0===e?this:void 0===t?this.multiply($o.Rotate(e)):this.translate(t,n).multiply($o.Rotate(e)).translate(-t,-n)}translate(e,t){return this.multiply($o.Translate(e,t))}scale(e,t){return this.multiply($o.Scale(e,t))}invert(){const{a:e,b:t,c:n,d:r,e:i,f:o}=this,s=e*r-t*n;return this.a=r/s,this.b=t/-s,this.c=n/-s,this.d=e/s,this.e=(r*i-n*o)/-s,this.f=(t*i-e*o)/s,this}applyToPoint(e){return $o.applyToPoint(this,e)}applyToPoints(e){return $o.applyToPoints(this,e)}rotation(){return $o.Rotation(this)}point(){return $o.Point(this)}decomposed(){return $o.Decompose(this)}toCssString(){return $o.toCssString(this)}setTo(e){return Object.assign(this,e),this}decompose(){return $o.Decompose(this)}clone(){return new $o(this.a,this.b,this.c,this.d,this.e,this.f)}static Identity(){return new $o(1,0,0,1,0,0)}static Translate(e,t){return new $o(1,0,0,1,e,t)}static Rotate(e,t,n){if(0===e)return $o.Identity();const r=Math.cos(e),i=Math.sin(e),o=new $o(r,i,-i,r,0,0);return void 0===t?o:$o.Compose($o.Translate(t,n),o,$o.Translate(-t,-n))}static Scale=(e,t,n,r)=>{const i=new $o(e,0,0,t,0,0);return void 0===n?i:$o.Compose($o.Translate(n,r),i,$o.Translate(-n,-r))};static Multiply(e,t){return{a:e.a*t.a+e.c*t.b,c:e.a*t.c+e.c*t.d,e:e.a*t.e+e.c*t.f+e.e,b:e.b*t.a+e.d*t.b,d:e.b*t.c+e.d*t.d,f:e.b*t.e+e.d*t.f+e.f}}static Inverse(e){const t=e.a*e.d-e.b*e.c;return{a:e.d/t,b:e.b/-t,c:e.c/-t,d:e.a/t,e:(e.d*e.e-e.c*e.f)/-t,f:(e.b*e.e-e.a*e.f)/t}}static Absolute(e){const t=e.a*e.d-e.b*e.c;return{a:e.d/t,b:e.b/-t,c:e.c/-t,d:e.a/t,e:(e.d*e.e-e.c*e.f)/t,f:(e.b*e.e-e.a*e.f)/-t}}static Compose(...e){const t=$o.Identity();for(let n=0,r=e.length;n<r;n++)t.multiply(e[n]);return t}static Point(e){return new ti(e.e,e.f)}static Rotation(e){let t;if(0!==e.a||0!==e.c){const n=Math.hypot(e.a,e.c);t=Math.acos(e.a/n)*(e.c>0?-1:1)}else if(0!==e.b||0!==e.d){const n=Math.hypot(e.b,e.d);t=si+Math.acos(e.b/n)*(e.d>0?-1:1)}else t=0;return yi(t)}static Decompose(e){let t,n,r;if(0!==e.a||0!==e.c){const i=Math.hypot(e.a,e.c);t=i,n=(e.a*e.d-e.b*e.c)/i,r=Math.acos(e.a/i)*(e.c>0?-1:1)}else if(0!==e.b||0!==e.d){const i=Math.hypot(e.b,e.d);t=(e.a*e.d-e.b*e.c)/i,n=i,r=si+Math.acos(e.b/i)*(e.d>0?-1:1)}else t=0,n=0,r=0;return{x:e.e,y:e.f,scaleX:t,scaleY:n,rotation:yi(r)}}static Smooth(e,t=1e10){return e.a=Math.round(e.a*t)/t,e.b=Math.round(e.b*t)/t,e.c=Math.round(e.c*t)/t,e.d=Math.round(e.d*t)/t,e.e=Math.round(e.e*t)/t,e.f=Math.round(e.f*t)/t,e}static toCssString(e){return`matrix(${Ci(e.a)}, ${Ci(e.b)}, ${Ci(e.c)}, ${Ci(e.d)}, ${Ci(e.e)}, ${Ci(e.f)})`}static applyToPoint(e,t){return new ti(e.a*t.x+e.c*t.y+e.e,e.b*t.x+e.d*t.y+e.f,t.z)}static applyToXY(e,t,n){return[e.a*t+e.c*n+e.e,e.b*t+e.d*n+e.f]}static applyToPoints(e,t){return t.map((t=>new ti(e.a*t.x+e.c*t.y+e.e,e.b*t.x+e.d*t.y+e.f,t.z)))}static applyToBounds(e,t){return new jo(e.e+t.minX,e.f+t.minY,t.width,t.height)}static From(e){return new $o(e.a,e.b,e.c,e.d,e.e,e.f)}static Cast(e){return e instanceof $o?e:$o.From(e)}}class Ro{isFilled=!1;isClosed=!0;isLabel=!1;debugColor;ignore;constructor(e){this.isFilled=e.isFilled,this.isClosed=e.isClosed,this.isLabel=e.isLabel??!1,this.debugColor=e.debugColor,this.ignore=e.ignore}hitTestPoint(e,t=0,n=!1){return this.distanceToPoint(e,n)<=t}distanceToPoint(e,t=!1){const n=e.dist(this.nearestPoint(e));return this.isClosed&&(this.isFilled||t)&&Ei(e,this.vertices)?-n:n}distanceToLineSegment(e,t){const n=this.nearestPointOnLineSegment(e,t),r=ti.DistanceToLineSegment(e,t,n);return this.isClosed&&this.isFilled&&Ei(n,this.vertices)?-r:r}hitTestLineSegment(e,t,n=0){return this.distanceToLineSegment(e,t)<=n}nearestPointOnLineSegment(e,t){let n,r=1/0;for(let i=0;i<this.vertices.length;i++){const o=this.vertices[i],s=ti.DistanceToLineSegment(e,t,o);s<r&&(r=s,n=o)}if(!n)throw Error("nearest point not found");return n}isPointInBounds(e,t=0){const{bounds:n}=this;return!(e.x<n.minX-t||e.y<n.minY-t||e.x>n.maxX+t||e.y>n.maxY+t)}_vertices;get vertices(){return this._vertices||(this._vertices=this.getVertices()),this._vertices}getBounds(){return jo.FromPoints(this.vertices)}_bounds;get bounds(){return this._bounds||(this._bounds=this.getBounds()),this._bounds}get center(){return this.bounds.center}_area;get area(){return this._area||(this._area=this.getArea()),this._area}getArea(){if(!this.isClosed)return 0;const{vertices:e}=this;let t=0;for(let n=0,r=e.length;n<r;n++){const i=e[n],o=e[(n+1)%r];t+=i.x*o.y-o.x*i.y}return t/2}toSimpleSvgPath(){let e="";const{vertices:t}=this,n=t.length;if(0===n)return e;e+=`M${t[0].x},${t[0].y}`;for(let r=1;r<n;r++)e+=`L${t[r].x},${t[r].y}`;return this.isClosed&&(e+="Z"),e}}class No extends Ro{children=[];ignoredChildren=[];constructor(e){super({...e,isClosed:!0,isFilled:!1});for(const t of e.children)t.ignore?this.ignoredChildren.push(t):this.children.push(t);if(0===this.children.length)throw Error("Group2d must have at least one child")}getVertices(){return this.children.filter((e=>!e.isLabel)).flatMap((e=>e.vertices))}nearestPoint(e){let t,n=1/0;const{children:r}=this;if(0===r.length)throw Error("no children");for(const i of r){const r=i.nearestPoint(e),o=r.dist(e);o<n&&(n=o,t=r)}if(!t)throw Error("nearest point not found");return t}distanceToPoint(e,t=!1){return Math.min(...this.children.map(((n,r)=>n.distanceToPoint(e,t||r>0))))}hitTestPoint(e,t,n){return!!this.children.filter((e=>!e.isLabel)).find((r=>r.hitTestPoint(e,t,n)))}hitTestLineSegment(e,t,n){return!!this.children.filter((e=>!e.isLabel)).find((r=>r.hitTestLineSegment(e,t,n)))}getArea(){return this.children[0].area}toSimpleSvgPath(){let e="";for(const t of this.children)e+=t.toSimpleSvgPath();const t=jo.FromPoints(this.vertices).corners;for(let n=0,r=t.length;n<r;n++){const i=t[n],o=t[(n-1+r)%r],s=i.dist(o),a=t[(n+1)%r],c=i.dist(a),l=i.clone().lrp(o,4/s),u=i,d=i.clone().lrp(a,4/c);e+=`M${l.x},${l.y} L${u.x},${u.y} L${d.x},${d.y} `}return e}}const Lo=(0,s.u4)((function({showStroke:e=!0,showVertices:t=!0,showClosestPointOnOutline:n=!0}){const r=Gr();!function(e=!0){const[t,n]=(0,Wr.useState)(0),r=Gr();(0,Wr.useEffect)((()=>{if(!e)return;const t=()=>n((e=>e+1));return r.on("tick",t),()=>{r.off("tick",t)}}),[r,e])}(n);const i=r.getZoomLevel(),o=r.getRenderingShapes(),{inputs:{currentPagePoint:s}}=r;return(0,Vr.jsx)("svg",{style:{position:"absolute",pointerEvents:"none",zIndex:999999999,top:0,left:0,overflow:"visible"},children:o.map((o=>{const a=r.getShape(o.id);if("group"===a.type)return null;const c=r.getShapeGeometry(a),l=r.getShapePageTransform(a),u=r.getPointInShapeSpace(a,s),d=c.nearestPoint(u),h=c.distanceToPoint(u,!0),p=Math.abs(h)*i,f=h<0,{vertices:m}=c;return(0,Vr.jsxs)("g",{transform:l.toCssString(),strokeLinecap:"round",strokeLinejoin:"round",children:[e&&(0,Vr.jsx)(Qo,{geometry:c}),t&&m.map(((e,t)=>(0,Vr.jsx)("circle",{cx:e.x,cy:e.y,r:"2",fill:`hsl(${Q(t,[0,m.length-1],[120,200])}, 100%, 50%)`,stroke:"black",strokeWidth:"1"},`v${t}`))),n&&p<150&&(0,Vr.jsx)("line",{x1:d.x,y1:d.y,x2:u.x,y2:u.y,opacity:1-p/150,stroke:f?"goldenrod":"dodgerblue",strokeWidth:"2"})]},o.id+"_outline")}))})}));function Qo({geometry:e}){return e instanceof No?(0,Vr.jsx)(Vr.Fragment,{children:[...e.children,...e.ignoredChildren].map(((e,t)=>(0,Vr.jsx)(Qo,{geometry:e},t)))}):(0,Vr.jsx)("path",{stroke:e.debugColor??"red",strokeWidth:"2",fill:"none",opacity:"1",d:e.toSimpleSvgPath()})}var zo=n(62495);function Fo(e){return zo(e)}function Bo(){const e=Gr(),t=(0,Wr.useMemo)((()=>e.store.query.records("instance_presence",(()=>({userId:{neq:e.user.getId()}})))),[e]),n=(0,s.HO)("userIds",(()=>Fo(t.get().map((e=>e.userId))).sort()),{isEqual:(e,t)=>e.join(",")===t.join?.(",")},[t]);return(0,s.h)(n)}function Zo(e){const t=Gr(),n=(0,Wr.useMemo)((()=>t.store.query.records("instance_presence",(()=>({userId:{eq:e}})))),[t,e]);return(0,s.h)(`latestPresence:${e}`,(()=>n.get().slice().sort(((e,t)=>t.lastActivityTimestamp-e.lastActivityTimestamp))[0]),[])??null}const Vo=(0,s.u4)((function(){const e=Bo();return(0,Vr.jsx)(Vr.Fragment,{children:e.map((e=>(0,Vr.jsx)(Wo,{collaboratorId:e},e)))})})),Wo=(0,s.u4)((function({collaboratorId:e}){const t=Gr(),n=Zo(e),r=function(e){const t=(0,Wr.useRef)(e?.lastActivityTimestamp??-1),[n,r]=(0,Wr.useState)((()=>qo(Date.now()-t.current)));return(0,Wr.useEffect)((()=>{const e=setInterval((()=>{r(qo(Date.now()-t.current))}),1200);return()=>clearInterval(e)}),[]),e&&(t.current=e.lastActivityTimestamp),n}(n);if(!n||n.currentPageId!==t.getCurrentPageId())return null;switch(r){case"inactive":{const{followingUserId:e,highlightedUserIds:r}=t.getInstanceState();if(e!==n.userId&&!r.includes(n.userId))return null;break}case"idle":{const{highlightedUserIds:e}=t.getInstanceState();if(n.followingUserId===t.user.getId()&&!n.chatMessage&&!e.includes(n.userId))return null;break}}return(0,Vr.jsx)(Uo,{latestPresence:n})})),Uo=(0,s.u4)((function({latestPresence:e}){const t=Gr(),{CollaboratorBrush:n,CollaboratorScribble:r,CollaboratorCursor:i,CollaboratorHint:o,CollaboratorShapeIndicator:s}=Ys(),a=t.getZoomLevel(),c=t.getViewportPageBounds(),{userId:l,chatMessage:u,brush:d,scribbles:h,selectedShapeIds:p,userName:f,cursor:m,color:g}=e,y=!(m.x<c.minX-12/a||m.y<c.minY-16/a||m.x>c.maxX-12/a||m.y>c.maxY-16/a);return(0,Vr.jsxs)(Vr.Fragment,{children:[d&&n?(0,Vr.jsx)(n,{className:"tl-collaborator__brush",brush:d,color:g,opacity:.1},l+"_brush"):null,y&&i?(0,Vr.jsx)(i,{className:"tl-collaborator__cursor",point:m,color:g,zoom:a,name:"New User"!==f?f:null,chatMessage:u},l+"_cursor"):o?(0,Vr.jsx)(o,{className:"tl-collaborator__cursor-hint",point:m,color:g,zoom:a,viewport:c},l+"_cursor_hint"):null,r&&h.length?(0,Vr.jsx)(Vr.Fragment,{children:h.map((e=>(0,Vr.jsx)(r,{className:"tl-collaborator__scribble",scribble:e,color:g,zoom:a,opacity:"laser"===e.color?.5:.1},l+"_scribble_"+e.id)))}):null,s&&p.map((e=>(0,Vr.jsx)(s,{className:"tl-collaborator__shape-indicator",shapeId:e,color:g,opacity:.5},l+"_"+e)))]})}));function qo(e){return e>6e4?"inactive":e>3e3?"idle":"active"}function Yo(e,t){return 0===t?e:Yo(t,e%t)}function Xo(e){const t=e.toString().split(".")[1];if(!t)return 1;const n=Math.pow(10,t.length);return n/Yo(parseInt(t,10),n)}const Ho=(0,s.u4)((function({id:e,shape:t,util:n,index:r,backgroundIndex:i,opacity:o,isCulled:a}){const c=Gr(),{ShapeErrorFallback:l}=Ys(),u=Wr.useRef(null),d=Wr.useRef(null),h=Wr.useCallback(((e,t)=>{u.current?.style.setProperty(e,t),d.current?.style.setProperty(e,t)}),[]);(0,s.lX)("set shape container transform position",(()=>{if(!c.getShape(e))return;const t=c.getShapePageTransform(e),n=$o.toCssString(t);h("transform",n)}),[c,h]),(0,s.lX)("set shape container clip path",(()=>{if(!c.getShape(e))return null;const t=c.getShapeClipPath(e);h("clip-path",t??"none")}),[c,h]),(0,s.lX)("set shape height and width",(()=>{const t=c.getShape(e);if(!t)return null;const n=c.getShapeGeometry(t).bounds,r=Xo(Math.floor(100*c.getInstanceState().devicePixelRatio)/100),i=n.w%r,o=0===i?n.w:n.w+(r-i),s=n.h%r,a=0===s?n.h:n.h+(r-s);h("width",Math.max(o,r)+"px"),h("height",Math.max(a,r)+"px")}),[c]),Wr.useLayoutEffect((()=>{h("opacity",o+""),u.current?.style.setProperty("z-index",r+""),d.current?.style.setProperty("z-index",i+"")}),[o,r,i,h]);const p=Wr.useCallback((e=>{c.annotateError(e,{origin:"react.shape",willCrashApp:!1})}),[c]);return t?(0,Vr.jsxs)(Vr.Fragment,{children:[n.backgroundComponent&&(0,Vr.jsx)("div",{ref:d,className:"tl-shape tl-shape-background","data-shape-type":t.type,draggable:!1,children:!a&&(0,Vr.jsx)(Xr,{fallback:l,onError:p,children:(0,Vr.jsx)(Ko,{shape:t,util:n})})}),(0,Vr.jsx)("div",{ref:u,className:"tl-shape","data-shape-type":t.type,draggable:!1,children:a?(0,Vr.jsx)(Jo,{shape:t}):(0,Vr.jsx)(Xr,{fallback:l,onError:p,children:(0,Vr.jsx)(Go,{shape:t,util:n})})})]}):null})),Go=Wr.memo((function({shape:e,util:t}){return(0,s.A1)("InnerShape:"+e.type,(()=>t.component(e)))}),((e,t)=>e.shape.props===t.shape.props&&e.shape.meta===t.shape.meta&&e.util===t.util)),Ko=Wr.memo((function({shape:e,util:t}){return(0,s.A1)("InnerShape:"+e.type,(()=>t.backgroundComponent?.(e)))}),((e,t)=>e.shape.props===t.shape.props&&e.shape.meta===t.shape.meta)),Jo=Wr.memo((function({shape:e}){const t=Gr().getShapeGeometry(e).bounds;return(0,Vr.jsx)("div",{className:"tl-shape__culled",style:{transform:`translate(${Ci(t.minX)}px, ${Ci(t.minY)}px)`,width:Math.max(1,Ci(t.width)),height:Math.max(1,Ci(t.height))}})}),(()=>!0));function es({className:e}){const t=Gr(),{Background:n,SvgDefs:r}=Ys(),i=Wr.useRef(null),o=Wr.useRef(null),a=Wr.useRef(null);!function(e){const t=Gr();(0,Wr.useLayoutEffect)((()=>{function n(){const n=e.current;if(!n)return null;const r=n.getBoundingClientRect();t.updateViewportScreenBounds(new jo(r.left||r.x,r.top||r.y,Math.max(r.width,1),Math.max(r.height,1)))}n();const r=To(n,200,{trailing:!0}),i=setInterval(r,1e3);window.addEventListener("resize",r);const o=new ResizeObserver((e=>{e[0].contentRect&&r()})),s=e.current;let a=null;return s&&(o.observe(s),a=Do(s),a.addEventListener("scroll",r)),()=>{clearInterval(i),window.removeEventListener("resize",r),o.disconnect(),a?.removeEventListener("scroll",r)}}),[t,e])}(i),function(){const e=Gr(),t=go(),n=(0,s.h)("isFocused",(()=>e.getInstanceState().isFocused),[e]);(0,Wr.useEffect)((()=>{if(void 0===typeof matchMedia)return;let t=null;const n=()=>{null!=t&&t();const r=`(resolution: ${window.devicePixelRatio}dppx)`,i=matchMedia(r),o=e=>{"change"===e.type&&n()};i.addEventListener?i.addEventListener("change",n):i.addListener&&i.addListener(o),t=()=>{i.removeEventListener?i.removeEventListener("change",n):i.removeListener&&i.removeListener(o)},e.updateInstanceState({devicePixelRatio:window.devicePixelRatio})};return n(),()=>{t?.()}}),[e]),(0,Wr.useEffect)((()=>{if(!n)return;const r=n=>{if(!n.altKey||!e.isIn("zoom")&&e.getPath().endsWith(".idle")||vo()||co(n),n.isKilled)return;switch(n.isKilled=!0,n.key){case"=":case"-":case"0":if(n.metaKey||n.ctrlKey)return void co(n);break;case"Tab":default:if(vo()||e.getIsMenuOpen())return;break;case",":return;case"Escape":if((e.getEditingShape()||e.getSelectedShapeIds().length>0)&&n.preventDefault(),e.getOpenMenus().length>0)return;return void(e.inputs.keys.has("Escape")||(e.inputs.keys.add("Escape"),e.cancel(),t.focus()))}const r={type:"keyboard",name:n.repeat?"key_repeat":"key_down",key:n.key,code:n.code,shiftKey:n.shiftKey,altKey:n.altKey,ctrlKey:n.metaKey||n.ctrlKey};e.dispatch(r)},i=t=>{if(t.isKilled)return;if(t.isKilled=!0,vo()||e.getIsMenuOpen())return;if(","===t.key)return;const n={type:"keyboard",name:"key_up",key:t.key,code:t.code,shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.metaKey||t.ctrlKey};e.dispatch(n)};function o(n){if(t.contains(n.target)){const t=n.touches[0].pageX,r=n.touches[0].radiusX||0;(t-r<10||t+r>e.getViewportScreenBounds().width-10)&&("BUTTON"===n.target?.tagName&&n.target?.click(),co(n))}}const s=e=>{t.contains(e.target)&&(e.ctrlKey||e.metaKey)&&co(e)};return t.addEventListener("touchstart",o,{passive:!1}),t.addEventListener("wheel",s,{passive:!1}),document.addEventListener("gesturestart",co),document.addEventListener("gesturechange",co),document.addEventListener("gestureend",co),t.addEventListener("keydown",r),t.addEventListener("keyup",i),()=>{t.removeEventListener("touchstart",o),t.removeEventListener("wheel",s),document.removeEventListener("gesturestart",co),document.removeEventListener("gesturechange",co),document.removeEventListener("gestureend",co),t.removeEventListener("keydown",r),t.removeEventListener("keyup",i)}}),[e,t,n])}(),function(){const e=Gr();(0,Wr.useEffect)((()=>{if(!e.environment.isFirefox||e.environment.isAndroid||e.environment.isIos){if(window.matchMedia){const t=window.matchMedia("(pointer: coarse)"),n=()=>{e.updateInstanceState({isCoarsePointer:!!t.matches})};if(n(),t)return t.addEventListener("change",n),()=>t.removeEventListener("change",n)}}else e.updateInstanceState({isCoarsePointer:!1})}),[e])}(),function(e){const t=Gr(),n=Wr.useMemo((()=>{let n="not sure",r=1,i=1,o=1,s=0;const a=new ti,c=new ti;return{onWheel:({event:e})=>{if(!t.getInstanceState().isFocused)return;if(n="not sure",Eo(Date.now()))return;const r=t.getEditingShapeId();if(r){const e=t.getShape(r);if(e&&t.getShapeUtil(e).canScroll(e)){const e=t.getShapePageBounds(r);if(e?.containsPoint(t.inputs.currentPagePoint))return}}co(e);const i=ko(e);if(0===i.x&&0===i.y)return;const o={type:"wheel",name:"wheel",delta:i,point:new ti(e.clientX,e.clientY),shiftKey:e.shiftKey,altKey:e.altKey,ctrlKey:e.metaKey||e.ctrlKey};t.dispatch(o)},onPinchStart:o=>{const s=e.current;n="not sure";const{event:l,origin:u,da:d}=o;l instanceof WheelEvent||(l.target===s||s?.contains(l.target))&&(c.x=u[0],c.y=u[1],a.x=u[0],a.y=u[1],r=d[0],i=t.getZoomLevel(),t.dispatch({type:"pinch",name:"pinch_start",point:{x:u[0],y:u[1],z:t.getZoomLevel()},delta:{x:0,y:0},shiftKey:l.shiftKey,altKey:l.altKey,ctrlKey:l.metaKey||l.ctrlKey}))},onPinchEnd:r=>{const i=e.current,{event:o,origin:s,offset:a}=r;if(o instanceof WheelEvent)return;if(o.target!==i&&!i?.contains(o.target))return;const c=a[0];n="not sure",requestAnimationFrame((()=>{t.dispatch({type:"pinch",name:"pinch_end",point:{x:s[0],y:s[1],z:c},delta:{x:s[0],y:s[1]},shiftKey:o.shiftKey,altKey:o.altKey,ctrlKey:o.metaKey||o.ctrlKey})}))},onPinch:l=>{const u=e.current,{event:d,origin:h,offset:p,da:f}=l;if(d instanceof WheelEvent)return;if(d.target!==u&&!u?.contains(d.target))return;const m="gesturechange"===l.type||"gestureend"===l.type;s=f[0];const g=h[0]-c.x,y=h[1]-c.y;switch(c.x=h[0],c.y=h[1],(e=>{if(e&&(n="zooming"),"zooming"===n)return;const t=Math.abs(s-r),i=ti.Dist(a,c);switch(n){case"not sure":t>24?n="zooming":i>16&&(n="panning");break;case"panning":t>64&&(n="zooming")}})(m),n){case"zooming":o=p[0],t.dispatch({type:"pinch",name:"pinch",point:{x:h[0],y:h[1],z:o},delta:{x:g,y},shiftKey:d.shiftKey,altKey:d.altKey,ctrlKey:d.metaKey||d.ctrlKey});break;case"panning":t.dispatch({type:"pinch",name:"pinch",point:{x:h[0],y:h[1],z:i},delta:{x:g,y},shiftKey:d.shiftKey,altKey:d.altKey,ctrlKey:d.metaKey||d.ctrlKey})}}}}),[t,e]);_o(n,{target:e,eventOptions:{passive:!1},pinch:{from:()=>[t.getZoomLevel(),0],scaleBounds:()=>({from:t.getZoomLevel(),max:8,min:.05})}})}(i),function(e){const t=Gr();(0,Wr.useEffect)((()=>{const n=e.current;if(!n)return;const r=e=>{if(e instanceof PointerEvent&&"pen"===e.pointerType){e.isKilled=!0;const{target:n}=e;if(bo.includes(n.tagName?.toLocaleLowerCase())||t.isIn("select.editing_shape"))return;co(e)}};return n.addEventListener("touchstart",r),n.addEventListener("touchend",r),()=>{n.removeEventListener("touchstart",r),n.removeEventListener("touchend",r)}}),[t,e])}(i),(0,s.lX)("position layers",(()=>{const e=o.current;if(!e)return;const n=a.current;if(!n)return;const{x:r,y:i,z:s}=t.getCamera(),c=s>=1?Q(s,[1,8],[.125,.5],!0):Q(s,[.1,1],[-2,.125],!0),l=`scale(${Ci(s)}) translate(${Ci(r+c)}px,${Ci(i+c)}px)`;e.style.setProperty("transform",l),n.style.setProperty("transform",l)}),[t]);const c=function(){const e=Gr();return(0,Wr.useMemo)((function(){let t,n;return{onPointerDown:function(t){t.isKilled||(2!==t.button?0!==t.button&&1!==t.button&&5!==t.button||(lo(t.currentTarget,t),e.dispatch({type:"pointer",target:"canvas",name:"pointer_down",...po(t)}),e.getOpenMenus().length>0&&(e.updateInstanceState({openMenus:[]}),document.body.click(),e.getContainer().focus())):e.dispatch({type:"pointer",target:"canvas",name:"right_click",...po(t)}))},onPointerMove:function(r){r.isKilled||r.clientX===t&&r.clientY===n||(t=r.clientX,n=r.clientY,e.dispatch({type:"pointer",target:"canvas",name:"pointer_move",...po(r)}))},onPointerUp:function(r){r.isKilled||0!==r.button&&1!==r.button&&2!==r.button&&5!==r.button||(t=r.clientX,n=r.clientY,uo(r.currentTarget,r),e.dispatch({type:"pointer",target:"canvas",name:"pointer_up",...po(r)}))},onPointerEnter:function(t){if(t.isKilled)return;if(e.getInstanceState().isPenMode&&"pen"!==t.pointerType)return;const n="mouse"===t.pointerType||"pen"===t.pointerType;e.updateInstanceState({isHoveringCanvas:!!n||null})},onPointerLeave:function(t){if(t.isKilled)return;if(e.getInstanceState().isPenMode&&"pen"!==t.pointerType)return;const n="mouse"===t.pointerType||"pen"===t.pointerType;e.updateInstanceState({isHoveringCanvas:!n&&null})},onDragOver:function(e){co(e)},onDrop:async function(t){if(co(t),!t.dataTransfer?.files?.length)return;const n=Array.from(t.dataTransfer.files);await e.putExternalContent({type:"files",files:n,point:e.screenToPage({x:t.clientX,y:t.clientY}),ignoreParent:!1})},onTouchStart:function(e){e.isKilled=!0,document.body.click(),co(e)},onTouchEnd:function(e){e.isKilled=!0,"A"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&co(e)},onClick:function(e){ho(e)}}}),[e])}(),l=(0,s.h)("shapeSvgDefs",(()=>{const e=new Map;for(const n of V(t.shapeUtils)){if(!n)return;const t=n.getCanvasSvgDefs();for(const{key:n,component:r}of t)e.has(n)||e.set(n,(0,Vr.jsx)(r,{},n))}return[...e.values()]}),[t]),u=(0,s.h)("debug_shapes",(()=>io.hideShapes.get()),[io]),d=(0,s.h)("debug_svg",(()=>io.debugSvg.get()),[io]),h=(0,s.h)("debug_geometry",(()=>io.debugGeometry.get()),[io]);return(0,Vr.jsxs)("div",{ref:i,draggable:!1,className:Ur("tl-canvas",e),"data-testid":"canvas",...c,children:[(0,Vr.jsx)("svg",{className:"tl-svg-context",children:(0,Vr.jsxs)("defs",{children:[l,ps&&(0,Vr.jsx)(ps,{}),(0,Vr.jsx)(fs,{}),(0,Vr.jsx)(ms,{}),(0,Vr.jsx)(gs,{}),r&&(0,Vr.jsx)(r,{})]})}),n&&(0,Vr.jsx)(n,{}),(0,Vr.jsx)(ts,{}),(0,Vr.jsxs)("div",{ref:o,className:"tl-html-layer tl-shapes",draggable:!1,children:[(0,Vr.jsx)(xs,{}),(0,Vr.jsx)(bs,{}),u?null:d?(0,Vr.jsx)(cs,{}):(0,Vr.jsx)(ls,{})]}),(0,Vr.jsxs)("div",{className:"tl-overlays",children:[(0,Vr.jsxs)("div",{ref:a,className:"tl-html-layer",children:[h?(0,Vr.jsx)(Lo,{}):null,(0,Vr.jsx)(ss,{}),(0,Vr.jsx)(rs,{}),(0,Vr.jsx)(ns,{}),(0,Vr.jsx)(is,{}),(0,Vr.jsx)(us,{}),(0,Vr.jsx)(ds,{}),(0,Vr.jsx)(hs,{}),(0,Vr.jsx)(os,{}),(0,Vr.jsx)(vs,{}),(0,Vr.jsx)(Vo,{})]}),(0,Vr.jsx)(Os,{})]})]})}function ts(){const e=Gr(),t=(0,s.h)("gridSize",(()=>e.getDocumentSettings().gridSize),[e]),{x:n,y:r,z:i}=(0,s.h)("camera",(()=>e.getCamera()),[e]),o=(0,s.h)("isGridMode",(()=>e.getInstanceState().isGridMode),[e]),{Grid:a}=Ys();return a&&o?(0,Vr.jsx)(a,{x:n,y:r,z:i,size:t}):null}function ns(){const e=Gr(),t=(0,s.h)("scribbles",(()=>e.getInstanceState().scribbles),[e]),n=(0,s.h)("zoomLevel",(()=>e.getZoomLevel()),[e]),{Scribble:r}=Ys();return r&&t.length?(0,Vr.jsx)(Vr.Fragment,{children:t.map((e=>(0,Vr.jsx)(r,{className:"tl-user-scribble",scribble:e,zoom:n},e.id)))}):null}function rs(){const e=Gr(),t=(0,s.h)("brush",(()=>e.getInstanceState().brush),[e]),{Brush:n}=Ys();return n&&t?(0,Vr.jsx)(n,{className:"tl-user-brush",brush:t}):null}function is(){const e=Gr(),t=(0,s.h)("zoomBrush",(()=>e.getInstanceState().zoomBrush),[e]),{ZoomBrush:n}=Ys();return n&&t?(0,Vr.jsx)(n,{className:"tl-user-brush tl-zoom-brush",brush:t}):null}function os(){const e=Gr(),t=(0,s.h)("snapLines",(()=>e.snaps.getIndicators()),[e]),n=(0,s.h)("zoomLevel",(()=>e.getZoomLevel()),[e]),{SnapIndicator:r}=Ys();return r&&t.length>0?(0,Vr.jsx)(Vr.Fragment,{children:t.map((e=>(0,Vr.jsx)(r,{className:"tl-user-snapline",line:e,zoom:n},e.id)))}):null}function ss(){const e=Gr(),{Handles:t}=Ys(),n=(0,s.h)("zoomLevel",(()=>e.getZoomLevel()),[e]),r=(0,s.h)("coarse pointer",(()=>e.getInstanceState().isCoarsePointer),[e]),i=(0,s.h)("isChangingStyle",(()=>e.getInstanceState().isReadonly),[e]),o=(0,s.h)("isChangingStyle",(()=>e.getInstanceState().isChangingStyle),[e]),a=(0,s.h)("onlySelectedShape",(()=>e.getOnlySelectedShape()),[e]),c=(0,s.h)("transform",(()=>a?e.getShapePageTransform(a):null),[e,a]),l=(0,s.h)("handles",(()=>{if(!a)return null;const t=e.getShapeHandles(a);if(!t)return null;const i=(r?eo:to)/n*2;return t.filter((e=>"virtual"!==e.type||!t.some((t=>t!==e&&"vertex"===t.type&&ti.Dist(e,t)<i)))).sort((e=>"vertex"===e.type?1:-1))}),[e,a,n,r]);return t&&a&&!o&&!i&&l&&c?(0,Vr.jsx)(t,{children:(0,Vr.jsx)("g",{transform:$o.toCssString(c),children:l.map((e=>(0,Vr.jsx)(as,{shapeId:a.id,handle:e,zoom:n,isCoarse:r},e.id)))})}):null}function as({shapeId:e,handle:t,zoom:n,isCoarse:r}){const i=function(e,t){const n=Gr();return Wr.useMemo((()=>{let r,i;return{onPointerDown:r=>{if(r.isKilled)return;lo(ao(r.currentTarget),r);const{shape:i,handle:o}=Co(n,e,t);o&&n.dispatch({type:"pointer",target:"handle",handle:o,shape:i,name:"pointer_down",...po(r)})},onPointerMove:o=>{if(o.isKilled)return;if(o.clientX===r&&o.clientY===i)return;r=o.clientX,i=o.clientY;const{shape:s,handle:a}=Co(n,e,t);a&&n.dispatch({type:"pointer",target:"handle",handle:a,shape:s,name:"pointer_move",...po(o)})},onPointerUp:r=>{if(r.isKilled)return;uo(ao(r.currentTarget),r);const{shape:i,handle:o}=Co(n,e,t);o&&n.dispatch({type:"pointer",target:"handle",handle:o,shape:i,name:"pointer_up",...po(r)})}}}),[n,e,t])}(e,t.id),{Handle:o}=Ys();return o?(0,Vr.jsx)("g",{"aria-label":"handle",transform:`translate(${t.x}, ${t.y})`,...i,children:(0,Vr.jsx)(o,{shapeId:e,handle:t,zoom:n,isCoarse:r})}):null}function cs(){const e=Gr(),t=(0,s.h)("rendering shapes",(()=>e.getRenderingShapes()),[e]);return(0,Vr.jsx)(Vr.Fragment,{children:t.map((e=>(0,Vr.jsxs)(Wr.Fragment,{children:[(0,Vr.jsx)(Ho,{...e}),(0,Vr.jsx)(ys,{id:e.id})]},e.id+"_fragment")))})}function ls(){const e=Gr(),t=(0,s.h)("rendering shapes",(()=>e.getRenderingShapes()),[e]);return(0,Vr.jsx)(Vr.Fragment,{children:t.map((e=>(0,Vr.jsx)(Ho,{...e},e.id+"_shape")))})}function us(){const e=Gr(),t=(0,s.h)("selectedShapeIds",(()=>e.getSelectedShapeIds()),[e]),n=(0,s.h)("should display selected ids",(()=>e.isInAny("select.idle","select.brushing","select.scribble_brushing","select.editing_shape","select.pointing_shape","select.pointing_selection","select.pointing_handle")&&!e.getInstanceState().isChangingStyle),[e]),{ShapeIndicator:r}=Ys();return r&&n?(0,Vr.jsx)(Vr.Fragment,{children:t.map((e=>(0,Vr.jsx)(r,{className:"tl-user-indicator__selected",shapeId:e},e+"_indicator")))}):null}const ds=function(){const e=Gr(),{HoveredShapeIndicator:t}=Ys(),n=(0,s.h)("coarse pointer",(()=>e.getInstanceState().isCoarsePointer),[e]),r=(0,s.h)("hovering canvas",(()=>e.getInstanceState().isHoveringCanvas),[e]),i=(0,s.h)("hovered id",(()=>e.getCurrentPageState().hoveredShapeId),[e]);return!n&&r&&i&&t?(0,Vr.jsx)(t,{shapeId:i}):null},hs=(0,s.u4)((function(){const e=Gr(),{ShapeIndicator:t}=Ys(),n=l(e.getHintingShapeIds());return n.length&&t?(0,Vr.jsx)(Vr.Fragment,{children:n.map((e=>(0,Vr.jsx)(t,{className:"tl-user-indicator__hint",shapeId:e},e+"_hinting")))}):null}));function ps(){return(0,Vr.jsxs)("g",{id:"cursor",children:[(0,Vr.jsxs)("g",{fill:"rgba(0,0,0,.2)",transform:"translate(-11,-11)",children:[(0,Vr.jsx)("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),(0,Vr.jsx)("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),(0,Vr.jsxs)("g",{fill:"white",transform:"translate(-12,-12)",children:[(0,Vr.jsx)("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),(0,Vr.jsx)("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),(0,Vr.jsxs)("g",{fill:"currentColor",transform:"translate(-12,-12)",children:[(0,Vr.jsx)("path",{d:"m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z"}),(0,Vr.jsx)("path",{d:"m13 10.814v11.188l2.969-2.866.428-.139h4.768z"})]})]})}function fs(){return(0,Vr.jsx)("path",{id:"cursor_hint",fill:"currentColor",d:"M -2,-5 2,0 -2,5 Z"})}function ms(){return(0,Vr.jsx)("marker",{id:"arrowhead-dot",className:"tl-arrow-hint",refX:"3.0",refY:"3.0",orient:"0",children:(0,Vr.jsx)("circle",{cx:"3",cy:"3",r:"2",strokeDasharray:"100%"})})}function gs(){return(0,Vr.jsxs)("marker",{id:"arrowhead-cross",className:"tl-arrow-hint",refX:"3.0",refY:"3.0",orient:"auto",children:[(0,Vr.jsx)("line",{x1:"1.5",y1:"1.5",x2:"4.5",y2:"4.5",strokeDasharray:"100%"}),(0,Vr.jsx)("line",{x1:"1.5",y1:"4.5",x2:"4.5",y2:"1.5",strokeDasharray:"100%"})]})}const ys=(0,s.u4)((function({id:e}){const t=Gr(),n=t.getShape(e),[r,i]=Wr.useState(""),s=n?.parentId===t.getCurrentPageId();return Wr.useEffect((()=>{if(!s)return;let n=null;const r=(0,o.wv)("shape to svg",(async()=>{const r=Math.random();n=r;const o=t.getShapePageBounds(e),s=await t.getSvg([e],{padding:0,background:t.getInstanceState().exportBackground});s&&o&&n===r&&(s.style.setProperty("overflow","visible"),s.setAttribute("preserveAspectRatio","xMidYMin slice"),s.style.setProperty("transform",`translate(${o.x}px, ${o.y+o.h+12}px)`),s.style.setProperty("border","1px solid black"),i(s?.outerHTML))}));return()=>{n=null,r()}}),[t,e,s]),s?(0,Vr.jsx)("div",{style:{paddingTop:12,position:"absolute"},children:(0,Vr.jsx)("div",{style:{display:"flex"},dangerouslySetInnerHTML:{__html:r}})}):null}));function vs(){const e=Gr(),t=(0,s.h)("selection rotation",(()=>e.getSelectionRotation()),[e]),n=(0,s.h)("selection bounds",(()=>e.getSelectionRotatedPageBounds()),[e]),{SelectionForeground:r}=Ys();return n&&r?(0,Vr.jsx)(r,{bounds:n,rotation:t}):null}function bs(){const e=Gr(),t=(0,s.h)("selection rotation",(()=>e.getSelectionRotation()),[e]),n=(0,s.h)("selection bounds",(()=>e.getSelectionRotatedPageBounds()),[e]),{SelectionBackground:r}=Ys();return n&&r?(0,Vr.jsx)(r,{bounds:n,rotation:t}):null}function xs(){const{OnTheCanvas:e}=Ys();return e?(0,Vr.jsx)(e,{}):null}function Os(){const{InFrontOfTheCanvas:e}=Ys();return e?(0,Vr.jsx)(e,{}):null}function ws({className:e,zoom:t,point:n,color:r,viewport:i,opacity:o=1}){const s=(0,Wr.useRef)(null);return Jr(s,li(n.x,i.minX+5/t,i.maxX-5/t),li(n.y,i.minY+5/t,i.maxY-5/t),1/t,ti.Angle(i.center,n)),(0,Vr.jsxs)("svg",{ref:s,className:Ur("tl-overlays__item",e),children:[(0,Vr.jsx)("use",{href:"#cursor_hint",color:r,strokeWidth:3,stroke:"var(--color-background)"}),(0,Vr.jsx)("use",{href:"#cursor_hint",color:r,opacity:o})]})}const Ss=(0,Wr.memo)((function({className:e,zoom:t,point:n,color:r,name:i,chatMessage:o}){const s=(0,Wr.useRef)(null);return Jr(s,n?.x,n?.y,1/t),n?(0,Vr.jsxs)("div",{ref:s,className:Ur("tl-overlays__item",e),children:[(0,Vr.jsx)("svg",{className:"tl-cursor",children:(0,Vr.jsx)("use",{href:"#cursor",color:r})}),o?(0,Vr.jsxs)(Vr.Fragment,{children:[i&&(0,Vr.jsx)("div",{className:"tl-nametag-title",style:{color:r},children:i}),(0,Vr.jsx)("div",{className:"tl-nametag-chat",style:{backgroundColor:r},children:o})]}):i&&(0,Vr.jsx)("div",{className:"tl-nametag",style:{backgroundColor:r},children:i})]}):null}));function ks({x:e,y:t,z:n,size:r}){return(0,Vr.jsxs)("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[(0,Vr.jsx)("defs",{children:Xi.map((({min:i,mid:o,step:s},a)=>{const c=s*r*n,l=.5+e*n,u=.5+t*n,d=l>0?l%c:c+l%c,h=u>0?u%c:c+u%c,p=n<o?Q(n,[i,o],[0,1]):1;return(0,Vr.jsx)("pattern",{id:`grid-${s}`,width:c,height:c,patternUnits:"userSpaceOnUse",children:(0,Vr.jsx)("circle",{className:"tl-grid-dot",cx:d,cy:h,r:1,opacity:p})},`grid-pattern-${a}`)}))}),Xi.map((({step:e},t)=>(0,Vr.jsx)("rect",{width:"100%",height:"100%",fill:`url(#grid-${e})`},`grid-rect-${t}`)))]})}function _s({handle:e,isCoarse:t,className:n,zoom:r}){const i=(t?eo:to)/r,o=("create"===e.type&&t?3:4)/r;return(0,Vr.jsxs)("g",{className:Ur("tl-handle",{"tl-handle__virtual":"virtual"===e.type,"tl-handle__create":"create"===e.type},n),children:[(0,Vr.jsx)("circle",{className:"tl-handle__bg",r:i}),(0,Vr.jsx)("circle",{className:"tl-handle__fg",r:o})]})}const Ps=({children:e})=>(0,Vr.jsx)("svg",{className:"tl-user-handles tl-overlays__item",children:e});function Es({shapeId:e}){const{ShapeIndicator:t}=Ys();return t?(0,Vr.jsx)(t,{className:"tl-user-indicator__hovered",shapeId:e}):null}function Cs(e,t=!0){const n=e.length;if(n<2)return"";let r=e[0],i=e[1];if(2===n)return`M${ri(r)}L${ri(i)}`;let o="";for(let t=2,s=n-1;t<s;t++)r=e[t],i=e[t+1],o+=ii(r,i);return t?`M${ii(e[0],e[1])}Q${ri(e[1])}${ii(e[1],e[2])}T${o}${ii(e[n-1],e[0])}${ii(e[0],e[1])}Z`:`M${ri(e[0])}Q${ri(e[1])}${ii(e[1],e[2])}${e.length>3?"T":""}${o}L${ri(e[n-1])}`}function Ts({scribble:e,zoom:t,color:n,opacity:r,className:i}){return e.points.length?(0,Vr.jsx)("svg",{className:i?Ur("tl-overlays__item",i):i,children:(0,Vr.jsx)("path",{className:"tl-scribble",d:Cs(e.points,!1),stroke:n??`var(--color-${e.color})`,fill:"none",strokeWidth:8/t,opacity:r??e.opacity})}):null}function js({bounds:e,rotation:t}){const n=Wr.useRef(null);return Jr(n,e.x,e.y,1,t),Wr.useLayoutEffect((()=>{const t=n.current;t&&(t.style.width=Ci(Math.max(1,e.width))+"px",t.style.height=Ci(Math.max(1,e.height))+"px")}),[e.width,e.height]),(0,Vr.jsx)("div",{ref:n,className:"tl-selection__bg",draggable:!1})}function Is({bounds:e,rotation:t}){const n=Gr(),r=(0,Wr.useRef)(null),i=(0,s.h)("only selected shape",(()=>n.getOnlySelectedShape()),[n]),o=i?n.getShapeUtil(i).expandSelectionOutlinePx(i):0;return Jr(r,e?.x,e?.y,1,t,{x:-o,y:-o}),e=e.clone().expandBy(o).zeroFix(),(0,Vr.jsx)("svg",{ref:r,className:"tl-overlays__item tl-selection__fg","data-testid":"selection-foreground",children:(0,Vr.jsx)("rect",{className:Ur("tl-selection__fg__outline"),width:Ci(e.width),height:Ci(e.height)})})}const Ms=()=>(0,Vr.jsx)("div",{className:"tl-shape-error-boundary"});class As{constructor(e){this.shape=e}equals(e){return this.shape?.isLocked===e?.shape?.isLocked&&this.shape?.props===e?.shape?.props&&this.shape?.meta===e?.shape?.meta}}const Ds=({shape:e,util:t})=>(0,s.A1)("Indicator:"+e.type,(()=>t.indicator(e))),$s=({editor:e,id:t})=>{const n=(0,s.h)("shape",(()=>new As(e.store.get(t))),[e,t]),{ShapeIndicatorErrorFallback:r}=Ys();return!n.shape||n.shape.isLocked?null:(0,Vr.jsx)(Xr,{fallback:r,onError:t=>e.annotateError(t,{origin:"react.shapeIndicator",willCrashApp:!1}),children:(0,Vr.jsx)(Ds,{shape:n.shape,util:e.getShapeUtil(n.shape)},n.shape.id)})},Rs=(0,Wr.memo)((function({shapeId:e,className:t,color:n,opacity:r}){const i=Gr(),o=(0,s.h)("transform",(()=>{const t=i.getShapePageTransform(e);return t?t.toCssString():""}),[i,e]);return(0,Vr.jsx)("svg",{className:Ur("tl-overlays__item",t),children:(0,Vr.jsx)("g",{className:"tl-shape-indicator",transform:o,stroke:n??"var(--color-selected)",opacity:r,children:(0,Vr.jsx)($s,{editor:i,id:e})})})})),Ns=()=>(0,Vr.jsx)("circle",{cx:4,cy:4,r:8,strokeWidth:"1",stroke:"red"});function Ls({points:e,zoom:t}){const n=2.5/t,r=e.reduce(((e,t)=>Math.min(e,t.x)),1/0),i=e.reduce(((e,t)=>Math.max(e,t.x)),-1/0),o=e.reduce(((e,t)=>Math.min(e,t.y)),1/0),s=e.reduce(((e,t)=>Math.max(e,t.y)),-1/0);let a,c,l,u;return e.some((e=>e.x===r&&e.y===o))?(a=r,c=o,l=i,u=s):(a=r,c=s,l=i,u=o),(0,Vr.jsxs)("g",{className:"tl-snap-indicator",stroke:"lime",children:[(0,Vr.jsx)("line",{x1:a,y1:c,x2:l,y2:u}),e.map(((e,t)=>(0,Vr.jsx)("g",{transform:`translate(${e.x},${e.y})`,children:(0,Vr.jsx)("path",{className:"tl-snap-point",d:`M ${-n},${-n} L ${n},${n} M ${-n},${n} L ${n},${-n}`})},t)))]})}function Qs({gaps:e,direction:t,zoom:n}){const r=3.5/n;let i=[-1/0,1/0],o=null;const s="horizontal"===t;for(const t of e)o=_i(i[0],i[1],s?t.startEdge[0].y:t.startEdge[0].x,s?t.startEdge[1].y:t.startEdge[1].x),o&&(i=o,o=_i(i[0],i[1],s?t.endEdge[0].y:t.endEdge[0].x,s?t.endEdge[1].y:t.endEdge[1].x),o&&(i=o));if(null===i)return null;const a=(i[0]+i[1])/2;return(0,Vr.jsx)("g",{className:"tl-snap-indicator",stroke:"cyan",children:e.map((({startEdge:e,endEdge:t},n)=>(0,Vr.jsx)(Wr.Fragment,{children:s?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("line",{x1:e[0].x,y1:a-2*r,x2:e[1].x,y2:a+2*r}),(0,Vr.jsx)("line",{x1:t[0].x,y1:a-2*r,x2:t[1].x,y2:a+2*r}),(0,Vr.jsx)("line",{x1:e[0].x,y1:a,x2:t[0].x,y2:a}),(0,Vr.jsx)("line",{x1:(e[0].x+t[0].x)/2,y1:a-r,x2:(e[0].x+t[0].x)/2,y2:a+r})]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("line",{x1:a-2*r,y1:e[0].y,x2:a+2*r,y2:e[1].y}),(0,Vr.jsx)("line",{x1:a-2*r,y1:t[0].y,x2:a+2*r,y2:t[1].y}),(0,Vr.jsx)("line",{x1:a,y1:e[0].y,x2:a,y2:t[0].y}),(0,Vr.jsx)("line",{x1:a-r,y1:(e[0].y+t[0].y)/2,x2:a+r,y2:(e[0].y+t[0].y)/2})]})},n)))})}function zs({className:e,line:t,zoom:n}){return(0,Vr.jsx)("svg",{className:Ur("tl-overlays__item",e),children:"points"===t.type?(0,Vr.jsx)(Ls,{...t,zoom:n}):"gaps"===t.type?(0,Vr.jsx)(Qs,{...t,zoom:n}):null})}function Fs(){return(0,Vr.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",children:(0,Vr.jsxs)("g",{strokeWidth:2,fill:"none",fillRule:"evenodd",children:[(0,Vr.jsx)("circle",{strokeOpacity:.25,cx:8,cy:8,r:7,stroke:"var(--color-text-1)"}),(0,Vr.jsx)("path",{strokeLinecap:"round",d:"M15 8c0-4.5-4.5-7-7-7",stroke:"var(--color-text-1)",children:(0,Vr.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"})})]})})}const Bs=()=>null;function Zs(e,t){const n=(0,Wr.useRef)(e);return t(e,n.current)?n.current:(n.current=e,e)}function Vs(e){return Zs(e,f)}function Ws(e){return Zs(e,X)}const Us=(0,Wr.createContext)({});function qs({overrides:e={},children:t}){const n=Ws(e);return(0,Vr.jsx)(Us.Provider,{value:(0,Wr.useMemo)((()=>({Background:Kr,SvgDefs:Bs,Brush:Di,ZoomBrush:Di,ScreenshotBrush:Di,CollaboratorBrush:Di,Cursor:Ss,CollaboratorCursor:Ss,CollaboratorHint:ws,CollaboratorShapeIndicator:Rs,Grid:ks,Scribble:Ts,SnapIndicator:zs,Handles:Ps,Handle:_s,CollaboratorScribble:Ts,ErrorFallback:ea,ShapeErrorFallback:Ms,ShapeIndicatorErrorFallback:Ns,Spinner:Fs,SelectionBackground:js,SelectionForeground:Is,HoveredShapeIndicator:Es,ShapeIndicator:Rs,OnTheCanvas:null,InFrontOfTheCanvas:null,Canvas:es,...n})),[n]),children:t})}function Ys(){return(0,Wr.useContext)(Us)}const Xs={openWindow:(e,t)=>window.open(e,t,"noopener noreferrer"),refreshPage:()=>window.location.reload(),hardReset:async()=>await(window.__tldraw__hardReset?.())};function Hs(e){Object.assign(Xs,e)}function Gs(){Xs.hardReset()}function Ks(){Xs.refreshPage()}function Js(){}const ea=({error:e,editor:t})=>{const n=(0,Wr.useRef)(null),[r,i]=(0,Wr.useState)(!1),[o,a]=(0,Wr.useState)(!1),[c,l]=(0,Wr.useState)(!1),{Canvas:u}=Ys(),d=e instanceof Error?e.message:String(e),h=e instanceof Error?e.stack:null,p=(0,s.h)("isDarkMode",(()=>{try{if(t)return t.user.getIsDarkMode()}catch{}return null}),[t]),[f,m]=(0,Wr.useState)(null);(0,Wr.useLayoutEffect)((()=>{null!==p&&m(p);let e=n.current?.parentElement,t=!1;for(;e;){if(e.classList.contains("tl-theme__dark")||e.classList.contains("tl-theme__light")){t=!0;break}e=e.parentElement}m(t?null:window.matchMedia("(prefers-color-scheme: dark)").matches)}),[p]),(0,Wr.useEffect)((()=>{if(o){const e=setTimeout((()=>{a(!1)}),2e3);return()=>clearTimeout(e)}}),[o]);const g=new URL("https://github.com/tldraw/tldraw/issues/new");return g.searchParams.set("title",d),g.searchParams.set("labels","bug"),g.searchParams.set("body",`Hey, I ran into an error while using tldraw:\n\n\`\`\`js\n${h??d}\n\`\`\`\n\nMy browser: ${navigator.userAgent}`),(0,Vr.jsxs)("div",{ref:n,className:Ur("tl-container tl-error-boundary",null===f?"":f?"tl-theme__dark":"tl-theme__light"),children:[(0,Vr.jsx)("div",{className:"tl-error-boundary__overlay"}),t&&(0,Vr.jsx)(Yr,{onError:Js,fallback:()=>null,children:(0,Vr.jsx)(Hr.Provider,{value:t,children:(0,Vr.jsx)("div",{className:"tl-overlay tl-error-boundary__canvas",children:u?(0,Vr.jsx)(u,{}):null})})}),(0,Vr.jsx)("div",{className:Ur("tl-modal","tl-error-boundary__content",{"tl-error-boundary__content__expanded":r&&!c}),children:c?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("h2",{children:"Are you sure?"}),(0,Vr.jsx)("p",{children:"Resetting your data will delete your drawing and cannot be undone."}),(0,Vr.jsxs)("div",{className:"tl-error-boundary__content__actions",children:[(0,Vr.jsx)("button",{onClick:()=>l(!1),children:"Cancel"}),(0,Vr.jsx)("button",{className:"tl-error-boundary__reset",onClick:async()=>{Gs()},children:"Reset data"})]})]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("h2",{children:"Something's gone wrong."}),(0,Vr.jsxs)("p",{children:["Sorry, we encountered an error. Please refresh the page to continue. If you keep seeing this error, you can ",(0,Vr.jsx)("a",{href:g.toString(),children:"create a GitHub issue"})," or"," ",(0,Vr.jsx)("a",{href:"https://discord.gg/Cq6cPsTfNy",children:"ask for help on Discord"}),"."]}),r&&(0,Vr.jsxs)(Vr.Fragment,{children:["Message:",(0,Vr.jsx)("h4",{children:(0,Vr.jsx)("code",{children:d})}),"Stack trace:",(0,Vr.jsxs)("div",{className:"tl-error-boundary__content__error",children:[(0,Vr.jsx)("pre",{children:(0,Vr.jsx)("code",{children:h??d})}),(0,Vr.jsx)("button",{onClick:()=>{const e=document.createElement("textarea");e.value=h??d,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove(),a(!0)},children:o?"Copied!":"Copy"})]})]}),(0,Vr.jsxs)("div",{className:"tl-error-boundary__content__actions",children:[(0,Vr.jsx)("button",{onClick:()=>i(!r),children:r?"Hide details":"Show details"}),(0,Vr.jsxs)("div",{className:"tl-error-boundary__content__actions__group",children:[(0,Vr.jsx)("button",{className:"tl-error-boundary__reset",onClick:()=>l(!0),children:"Reset data"}),(0,Vr.jsx)("button",{className:"tl-error-boundary__refresh",onClick:()=>{Ks()},children:"Refresh Page"})]})]})]})})]})};function ta(){return Me()}const na="TLDRAW_USER_DATA_v3",ra=kt({id:dt,name:dt.nullable().optional(),locale:dt.nullable().optional(),color:dt.nullable().optional(),isDarkMode:vt.nullable().optional(),animationSpeed:ht.nullable().optional(),edgeScrollSpeed:ht.nullable().optional(),isSnapMode:vt.nullable().optional(),isWrapMode:vt.nullable().optional()}),ia=Ue({currentVersion:5,migrators:{1:{up:e=>({...e,animationSpeed:1}),down:({animationSpeed:e,...t})=>t},2:{up:e=>({...e,isSnapMode:!1}),down:({isSnapMode:e,...t})=>t},3:{up:e=>e,down:e=>({id:e.id,name:e.name??sa.name,locale:e.locale??sa.locale,color:e.color??sa.color,animationSpeed:e.animationSpeed??sa.animationSpeed,isDarkMode:e.isDarkMode??sa.isDarkMode,isSnapMode:e.isSnapMode??sa.isSnapMode,isWrapMode:e.isWrapMode??sa.isWrapMode})},4:{up:e=>({...e,edgeScrollSpeed:1}),down:({edgeScrollSpeed:e,...t})=>t},5:{up:e=>({...e,isWrapMode:!1}),down:({isWrapMode:e,...t})=>t}}}),oa=["#FF802B","#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467"],sa=Object.freeze({name:"New User",locale:Fr(),color:oa[Math.floor(Math.random()*oa.length)],isDarkMode:!1,edgeScrollSpeed:1,animationSpeed:"undefined"!=typeof window&&window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches?0:1,isSnapMode:!1,isWrapMode:!1});function aa(){return{id:ta()}}function ca(e){if(null===e||"object"!=typeof e)return aa();if(!("version"in e)||!("user"in e)||"number"!=typeof e.version)return aa();const t=Ge({value:e.user,fromVersion:e.version,toVersion:ia.currentVersion??0,migrations:ia});if("error"===t.type)return aa();try{ra.validate(t.value)}catch(e){return aa()}return t.value}const la=(0,o.eU)("globalUserData",null);function ua(e){ra.validate(e),la.set(e),"undefined"!=typeof window&&window.localStorage&&window.localStorage.setItem(na,JSON.stringify({version:ia.currentVersion,user:la.get()})),ha?.postMessage({type:ma,origin:fa(),data:{user:ga(),version:ia.currentVersion}})}const da="undefined"!=typeof process&&!1,ha="undefined"==typeof BroadcastChannel||da?null:new BroadcastChannel("tldraw-user-sync");ha?.addEventListener("message",(e=>{const t=e.data;t?.type===ma&&t?.origin!==fa()&&la.set(ca(t.data))}));let pa=null;function fa(){return null===pa&&(pa=ta()),pa}const ma="tldraw-user-preferences-change";function ga(){let e=la.get();return e||(e=ca("undefined"==typeof window?null:JSON.parse(window?.localStorage?.getItem(na)||"null")??null),la.set(e)),e}function ya(e={}){return{derivePresenceState:e.derivePresenceState??(()=>(0,o.EW)("presence",(()=>null))),userPreferences:e.userPreferences??(0,o.EW)("userPreferences",(()=>ga())),setUserPreferences:e.setUserPreferences??ua}}var va=n(72579);function ba({children:e,className:t="",...n}){return(0,Vr.jsx)("svg",{...n,className:`tl-svg-container ${t}`,children:e})}function xa(e,t,n,r){const i=e.x-n.x,o=e.y-n.y,s=r.x-n.x,a=r.y-n.y,c=t.x-e.x,l=t.y-e.y,u=s*o-a*i,d=c*o-l*i,h=a*c-s*l;if(0===u||0===d)return null;if(0===h)return null;if(0!==h){const t=u/h,n=d/h;if(0<=t&&t<=1&&0<=n&&n<=1)return ti.AddXY(e,t*c,t*l)}return null}function Oa(e,t,n,r){const i=(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y),o=2*((t.x-e.x)*(e.x-n.x)+(t.y-e.y)*(e.y-n.y)),s=o*o-4*i*(n.x*n.x+n.y*n.y+e.x*e.x+e.y*e.y-2*(n.x*e.x+n.y*e.y)-r*r);if(s<0)return null;if(0===s)return null;const a=Math.sqrt(s),c=(-o+a)/(2*i),l=(-o-a)/(2*i);if((c<0||c>1)&&(l<0||l>1))return null;const u=[];return 0<=c&&c<=1&&u.push(ti.Lrp(e,t,c)),0<=l&&l<=1&&u.push(ti.Lrp(e,t,l)),0===u.length?null:u}function wa(e,t,n){const r=[];let i;for(let o=0,s=n.length-1;o<s;o++)i=xa(e,t,n[o],n[o+1]),i&&r.push(i);return 0===r.length?null:r}function Sa(e,t,n){const r=[];let i;for(let o=1,s=n.length;o<s+1;o++)i=xa(e,t,n[o-1],n[o%n.length]),i&&r.push(i);return 0===r.length?null:r}function ka(e,t,n,r){let i=n.x-e.x,o=n.y-e.y;const s=Math.sqrt(i*i+o*o),a=(s*s-r*r+t*t)/(2*s),c=Math.sqrt(t*t-a*a);return i/=s,o/=s,[new ti(e.x+i*a-o*c,e.y+o*a+i*c),new ti(e.x+i*a+o*c,e.y+o*a-i*c)]}function _a(e,t,n){const r=[];let i,o,s;for(let a=0,c=n.length;a<c;a++)i=n[a],o=n[(a+1)%n.length],s=Oa(i,o,e,t),s&&r.push(...s);return 0===r.length?null:r}function Pa(e,t,n){const r=[];let i,o,s;for(let a=1,c=n.length;a<c;a++)i=n[a-1],o=n[a],s=Oa(i,o,e,t),s&&r.push(...s);return 0===r.length?null:r}function Ea(e,t){const n=[];let r;for(const i of t.sides)r=Sa(i[0],i[1],e),r&&n.push(...r);return 0===n.length?null:n}function Ca(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function Ta(e,t,n,r){return Ca(e,n,r)!==Ca(t,n,r)&&Ca(e,t,n)!==Ca(e,t,r)}function ja(e,t){const n=new Map;let r,i,o,s;for(let i=0,o=e.length;i<o;i++)if(r=e[i],Ei(r,t)){const e=Ia(r);n.has(e)||n.set(e,r)}for(let i=0,o=t.length;i<o;i++)if(r=t[i],Ei(r,e)){const e=Ia(r);n.has(e)||n.set(e,r)}for(let a=0,c=e.length;a<c;a++){r=e[a],i=e[(a+1)%e.length];for(let e=0,a=t.length;e<a;e++){o=t[e],s=t[(e+1)%t.length];const a=xa(r,i,o,s);if(null!==a){const e=Ia(a);n.has(e)||n.set(e,a)}}}return 0===n.size?null:function(e){const t=ti.Average(e);return e.sort(((e,n)=>ti.Angle(t,e)-ti.Angle(t,n)))}([...n.values()])}function Ia(e){return`${e.x},${e.y}`}function Ma(e,t){let n,r,i,o;for(let s=0,a=e.length;s<a;s++){n=e[s],r=e[(s+1)%a];for(let e=0,s=t.length;e<s;e++)if(i=t[e],o=t[(e+1)%s],Ta(n,r,i,o))return!0}return!1}class Aa extends Ro{start;end;d;u;ul;constructor(e){super({...e,isClosed:!1,isFilled:!1});const{start:t,end:n}=e;this.start=t,this.end=n,this.d=t.clone().sub(n),this.u=this.d.clone().uni(),this.ul=this.u.len()}_length;get length(){return this._length?this._length:this.d.len()}midPoint(){return this.start.lrp(this.end,.5)}getVertices(){return[this.start,this.end]}nearestPoint(e){const{start:t,end:n,u:r,ul:i}=this;if(0===i)return t;const o=ti.Sub(e,t).dpr(r)/i,s=t.x+r.x*o;if(s<Math.min(t.x,n.x))return t.x<n.x?t:n;if(s>Math.max(t.x,n.x))return t.x>n.x?t:n;const a=t.y+r.y*o;return a<Math.min(t.y,n.y)?t.y<n.y?t:n:a>Math.max(t.y,n.y)?t.y>n.y?t:n:new ti(s,a)}hitTestLineSegment(e,t,n){return Ta(e,t,this.start,this.end)}}class Da extends Ro{points;constructor(e){super({isClosed:!1,isFilled:!1,...e});const{points:t}=e;this.points=t}_segments;get segments(){if(!this._segments){this._segments=[];const{vertices:e}=this;for(let t=0,n=e.length-1;t<n;t++){const n=e[t],r=e[t+1];this._segments.push(new Aa({start:n,end:r}))}this.isClosed&&this._segments.push(new Aa({start:e[e.length-1],end:e[0]}))}return this._segments}_length;get length(){return this._length||(this._length=this.segments.reduce(((e,t)=>e+t.length),0)),this._length}getVertices(){return this.points}nearestPoint(e){const{segments:t}=this;let n,r,i=this.points[0],o=1/0;for(let s=0;s<t.length;s++)n=t[s].nearestPoint(e),r=n.dist(e),r<o&&(i=n,o=r);return i}hitTestLineSegment(e,t,n){return this.segments.some((r=>r.hitTestLineSegment(e,t,n)))}}class $a extends Da{constructor(e){super({...e}),this.isClosed=!0}}class Ra extends $a{x;y;w;h;constructor(e){const{x:t=0,y:n=0,width:r,height:i}=e;super({...e,points:[new ti(t,n),new ti(t+r,n),new ti(t+r,n+i),new ti(t,n+i)]}),this.x=t,this.y=n,this.w=r,this.h=i}getBounds(){return new jo(this.x,this.y,this.w,this.h)}}class Na{constructor(e){this.editor=e}static props;static migrations;static type;canSnap=()=>!0;canScroll=()=>!1;canUnmount=()=>!0;canBind=(e,t)=>!0;canEdit=()=>!1;canResize=()=>!0;canEditInReadOnly=()=>!1;canCrop=()=>!1;providesBackgroundForChildren(e){return!1}hideResizeHandles=()=>!1;hideRotateHandle=()=>!1;hideSelectionBoundsBg=()=>!1;hideSelectionBoundsFg=()=>!1;isAspectRatioLocked=()=>!1;canReceiveNewChildrenOfType(e,t){return!1}canDropShapes(e,t){return!1}expandSelectionOutlinePx(e){return 0}getCanvasSvgDefs(){return[]}getBoundsSnapGeometry(e){return{}}getHandleSnapGeometry(e){return{}}onBeforeCreate;onBeforeUpdate;onDragShapesOver;onDragShapesOut;onDropShapesOver;onResizeStart;onResize;onResizeEnd;onTranslateStart;onTranslate;onTranslateEnd;onHandleDrag;onRotateStart;onRotate;onRotateEnd;onBindingChange;onChildrenChange;onDoubleClickHandle;onDoubleClickEdge;onDoubleClick;onClick;onEditEnd}function La({bounds:e,className:t}){const n=Gr(),r=(0,s.h)("zoom level",(()=>n.getZoomLevel()),[n]);return(0,Vr.jsx)("g",{className:t,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round",children:e.sides.map(((e,t)=>{const{strokeDasharray:n,strokeDashoffset:i}=function(e,t,n={}){const{closed:r=!1,snap:i=1,start:o="outset",end:s="outset",lengthRatio:a=2,style:c="dashed"}=n;let l=0,u=0,d=1,h=0,p=0;switch(c){case"dashed":d=1,l=Math.min(t*a,e/4);break;case"dotted":d=100,l=t/d;break;default:return{strokeDasharray:"none",strokeDashoffset:"none"}}return r||("outset"===o?(e+=l/2,p+=l/2):"skip"===o&&(e-=l,p-=l),"outset"===s?e+=l/2:"skip"===s&&(e-=l)),u=Math.floor(e/l/(2*d)),u-=u%i,u<3&&"dashed"===c?e/t<5?(l=e,u=1,h=0):(l=.333*e,h=.333*e):(u=Math.max(u,3),l=e/u/(2*d),r?(p=l/2,h=(e-u*l)/u):h=(e-u*l)/Math.max(1,u-1)),{strokeDasharray:[l,h].join(" "),strokeDashoffset:p.toString()}}(e[0].dist(e[1]),1/r,{style:"dashed",lengthRatio:4});return(0,Vr.jsx)("line",{x1:e[0].x,y1:e[0].y,x2:e[1].x,y2:e[1].y,strokeDasharray:n,strokeDashoffset:i},t)}))})}class Qa extends Na{static type="group";static props=xr;static migrations=Or;hideSelectionBoundsFg=()=>!0;canBind=()=>!1;getDefaultProps(){return{}}getGeometry(e){const t=this.editor.getSortedChildIdsForParent(e.id);return 0===t.length?new Ra({width:1,height:1,isFilled:!1}):new No({children:t.map((e=>{const t=this.editor.getShape(e),n=this.editor.getShapeGeometry(e),r=this.editor.getShapeLocalTransform(t).applyToPoints(n.vertices);return n.isClosed?new $a({points:r,isFilled:!0}):new Da({points:r})}))})}component(e){const t=this.editor.getErasingShapeIds().includes(e.id),{hintingShapeIds:n}=this.editor.getCurrentPageState(),r=n.length>0&&n.some((t=>t!==e.id&&this.editor.isShapeOfType(this.editor.getShape(t),"group"))),i=this.editor.getCurrentPageState().focusedGroupId!==e.id;if(!t&&(i||r))return null;const o=this.editor.getShapeGeometry(e).bounds;return(0,Vr.jsx)(ba,{id:e.id,children:(0,Vr.jsx)(La,{className:"tl-group",bounds:o})})}indicator(e){const t=this.editor.getShapeGeometry(e).bounds;return(0,Vr.jsx)(La,{className:"",bounds:t})}onChildrenChange=e=>{const t=this.editor.getSortedChildIdsForParent(e.id);return 0===t.length?(this.editor.getCurrentPageState().focusedGroupId===e.id&&this.editor.popFocusedGroupId(),void this.editor.deleteShapes([e.id])):1===t.length?(this.editor.getCurrentPageState().focusedGroupId===e.id&&this.editor.popFocusedGroupId(),this.editor.reparentShapes(t,e.parentId),void this.editor.deleteShapes([e.id])):void 0}}const za=[Qa],Fa=new Set(za.map((e=>e.type)));function Ba(e){const t=[...za],n=new Set;for(const r of e){if(Fa.has(r.type))throw new Error(`Shape type "${r.type}" is a core shapes type and cannot be overridden`);if(n.has(r.type))throw new Error(`Shape type "${r.type}" is defined more than once`);t.push(r),n.add(r.type)}return t}function Za(e,t){if(!t)return!1;switch(e.type){case"mixed":return"mixed"===t.type;case"shared":return"shared"===t.type&&e.value===t.value;default:throw b(e)}}class Va{map;constructor(e){this.map=new Map(e)}get(e){return this.map.get(e)}getAsKnownValue(e){const t=this.get(e);if(t&&"mixed"!==t.type)return t.value}get size(){return this.map.size}equals(e){if(this.size!==e.size)return!1;const t=new Set;for(const[n,r]of this){if(!Za(r,e.get(n)))return!1;t.add(n)}for(const[n,r]of e)if(!t.has(n)&&!Za(r,this.get(n)))return!1;return!0}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}[Symbol.iterator](){return this.map[Symbol.iterator]()}}class Wa extends Va{set(e,t){this.map.set(e,t)}applyValue(e,t){const n=this.get(e);if(n)switch(n.type){case"mixed":return;case"shared":return void(n.value!==t&&this.set(e,{type:"mixed"}));default:b(n,"type")}else this.set(e,{type:"shared",value:t})}}class Ua{items=new WeakMap;get(e,t){return this.items.has(e)||this.items.set(e,t(e)),this.items.get(e)}access(e){return this.items.get(e)}set(e,t){this.items.set(e,t)}has(e){return this.items.has(e)}invalidate(e){this.items.delete(e)}bust(){this.items=new WeakMap}}function qa(e,t,n){return fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){return new File([e],t,{type:n})}))}function Ya(e,t){let n=e;const r=new Set(t);for(;r.has(n);)n=/^.*(\d+)$/.exec(n)?.[1]?n.replace(/(\d+)(?=\D?)$/,(e=>(+e+1).toString())):`${n} 1`;return n}function Xa(e,t,n){if(0===n.length)return[];const r=new Map;for(const t of u(n.map((t=>e.getShape(t))))){const{parentId:n}=t;r.has(n)||r.set(n,{children:u(e.getSortedChildIdsForParent(n).map((t=>e.getShape(t)))),moving:new Set}),r.get(n).moving.add(t)}const i=[];switch(t){case"toBack":r.forEach((({moving:e,children:t})=>function(e,t,n){const r=t.length;if(e.size===r)return;let i,o;for(let n=0;n<r;n++){const r=t[n];if(!e.has(r)){o=r.index;break}i=r.index,e.delete(r)}if(0!==e.size){const t=ye(i,o,e.size);n.push(...Array.from(e.values()).sort(ke).map(((e,n)=>({...e,index:t[n]}))))}}(e,t,i)));break;case"toFront":r.forEach((({moving:e,children:t})=>function(e,t,n){const r=t.length;if(e.size===r)return;let i,o;for(let n=r-1;n>-1;n--){const r=t[n];if(!e.has(r)){i=r.index;break}o=r.index,e.delete(r)}if(0!==e.size){const t=ye(i,o,e.size);n.push(...Array.from(e.values()).sort(ke).map(((e,n)=>({...e,index:t[n]}))))}}(e,t,i)));break;case"forward":r.forEach((({moving:e,children:t})=>function(e,t,n){const r=t.length;if(e.size===r)return;let i={name:"skipping"};for(let o=0;o<r;o++){const r=e.has(t[o]);switch(i.name){case"skipping":if(!r)continue;i={name:"selecting",selectIndex:o};break;case"selecting":{if(r)continue;const{selectIndex:e}=i;ye(t[o].index,t[o+1]?.index,o-e).forEach(((r,i)=>n.push({...t[e+i],index:r}))),i={name:"skipping"};break}}}}(e,t,i)));break;case"backward":r.forEach((({moving:e,children:t})=>function(e,t,n){const r=t.length;if(e.size===r)return;let i={name:"skipping"};for(let o=r-1;o>-1;o--){const r=e.has(t[o]);switch(i.name){case"skipping":if(!r)continue;i={name:"selecting",selectIndex:o};break;case"selecting":if(r)continue;ye(t[o-1]?.index,t[o].index,i.selectIndex-o).forEach(((e,r)=>{n.push({...t[o+r+1],index:e})})),i={name:"skipping"}}}}(e,t,i)))}return i}function Ha({editor:e}){const t=e.getSelectedShapes(),n=e.getSelectionRotation(),r=e.getSelectionRotatedPageBounds(),{inputs:{originPagePoint:i}}=e;if(!r)return null;const o=r.center.clone().rotWith(r.point,n);return{selectionPageCenter:o,initialCursorAngle:o.angle(i),initialSelectionRotation:n,shapeSnapshots:t.map((t=>({shape:Te(t),initialPagePoint:e.getShapePageTransform(t.id).point()})))}}function Ga({delta:e,editor:t,snapshot:n,stage:r}){const{selectionPageCenter:i,shapeSnapshots:o}=n;t.updateShapes(o.map((({shape:n,initialPagePoint:r})=>{const o=Nn(n.parentId)?t.getShapePageTransform(n.parentId):$o.Identity(),s=ti.RotWith(r,i,e),a=$o.applyToPoint($o.Inverse(o),s),c=pi(n.rotation+e);return{id:n.id,type:n.type,x:a.x,y:a.y,rotation:c}})));const s=[];o.forEach((({shape:e})=>{const n=t.getShape(e.id);if(!n)return;const i=t.getShapeUtil(e);if("start"===r||"one-off"===r){const t=i.onRotateStart?.(e);t&&s.push(t)}const o=i.onRotate?.(e,n);if(o&&s.push(o),"end"===r||"one-off"===r){const t=i.onRotateEnd?.(e,n);t&&s.push(t)}})),s.length>0&&t.updateShapes(s)}const Ka=(e,t,n)=>{for(;!rn(n.parentId);){const t=e.get(n.parentId);if(!t)return!1;n=t}return n.parentId===t};class Ja{constructor(e){this.editor=e}_clickId="";_clickTimeout;_clickScreenPoint;_previousScreenPoint;_getClickTimeout=(e,t=ta())=>{this._clickId=t,clearTimeout(this._clickTimeout),this._clickTimeout=setTimeout((()=>{if(this._clickState===e&&this._clickId===t){switch(this._clickState){case"pendingTriple":this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"double_click",phase:"settle"});break;case"pendingQuadruple":this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"triple_click",phase:"settle"});break;case"pendingOverflow":this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"settle"})}this._clickState="idle"}}),"idle"===e||"pendingDouble"===e?Bi:Zi)};_clickState="idle";get clickState(){return this._clickState}lastPointerInfo={};transformPointerDownEvent=e=>{if(!this._clickState)return e;switch(this._clickScreenPoint=ti.From(e.point),this._previousScreenPoint&&this._previousScreenPoint.dist(this._clickScreenPoint)>40&&(this._clickState="idle"),this._previousScreenPoint=this._clickScreenPoint,this.lastPointerInfo=e,this._clickState){case"idle":return this._clickState="pendingDouble",this._clickTimeout=this._getClickTimeout(this._clickState),e;case"pendingDouble":return this._clickState="pendingTriple",this._clickTimeout=this._getClickTimeout(this._clickState),{...e,type:"click",name:"double_click",phase:"down"};case"pendingTriple":return this._clickState="pendingQuadruple",this._clickTimeout=this._getClickTimeout(this._clickState),{...e,type:"click",name:"triple_click",phase:"down"};case"pendingQuadruple":return this._clickState="pendingOverflow",this._clickTimeout=this._getClickTimeout(this._clickState),{...e,type:"click",name:"quadruple_click",phase:"down"};case"pendingOverflow":return this._clickState="overflow",this._clickTimeout=this._getClickTimeout(this._clickState),e;default:return this._clickTimeout=this._getClickTimeout(this._clickState),e}};transformPointerUpEvent=e=>{if(!this._clickState)return e;switch(this._clickScreenPoint=ti.From(e.point),this._clickState){case"pendingTriple":return{...this.lastPointerInfo,type:"click",name:"double_click",phase:"up"};case"pendingQuadruple":return{...this.lastPointerInfo,type:"click",name:"triple_click",phase:"up"};case"pendingOverflow":return{...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"up"};default:return e}};cancelDoubleClickTimeout=()=>{this._clickTimeout=clearTimeout(this._clickTimeout),this._clickState="idle"};handleMove=()=>{"idle"!==this._clickState&&this._clickScreenPoint&&this._clickScreenPoint.dist(this.editor.inputs.currentScreenPoint)>(this.editor.getInstanceState().isCoarsePointer?6:Vi)&&this.cancelDoubleClickTimeout()}}class ec{constructor(e){this.editor=e,"undefined"!=typeof window&&"navigator"in window?(this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this.isIos=!!navigator.userAgent.match(/iPad/i)||!!navigator.userAgent.match(/iPhone/i),this.isChromeForIos=/crios.*safari/i.test(navigator.userAgent),this.isFirefox=/firefox/i.test(navigator.userAgent),this.isAndroid=/android/i.test(navigator.userAgent)):(this.isSafari=!1,this.isIos=!1,this.isChromeForIos=!1,this.isFirefox=!1,this.isAndroid=!1)}isSafari;isIos;isChromeForIos;isFirefox;isAndroid}function tc(e){if(e){let t=rc;for(;e.length;)t=t.push(e.pop());return t}return rc}class nc{length=0;head=null;tail=this;push(e){return new ic(e,this)}toArray(){return o.Ml}[Symbol.iterator](){return{next:()=>({value:void 0,done:!0})}}}const rc=new nc;class ic{constructor(e,t){this.head=e,this.tail=t,this.length=t.length+1}length;push(e){return new ic(e,this)}toArray(){return Array.from(this)}[Symbol.iterator](){let e=this;return{next(){if(e.length){const t=e.head;return e=e.tail,{value:t,done:!1}}return{value:void 0,done:!0}}}}}class oc{constructor(e,t){this.ctx=e,this.annotateError=t}_undos=(0,o.eU)("HistoryManager.undos",tc());_redos=(0,o.eU)("HistoryManager.redos",tc());_batchDepth=0;onBatchComplete=()=>{};_commands={};getNumUndos(){return this._undos.get().length}getNumRedos(){return this._redos.get().length}createCommand=(e,t,n)=>{if(this._commands[e])throw new Error(`Duplicate command: ${e}`);this._commands[e]=n;const r=(...i)=>{if(!this._batchDepth)return this.batch((()=>r(...i))),this.ctx;const o=t(...i);if(!o)return this.ctx;const{data:s,ephemeral:a,squashing:c,preservesRedoStack:l}=o;if(this.ignoringUpdates(((e,t)=>(n.do(s),{undos:e,redos:t}))),!a){const t=this._undos.get().head;c&&t&&"command"===t.type&&t.name===e&&t.preservesRedoStack===l?this._undos.update((e=>e.tail.push({...t,id:ta(),data:n.squash(t.data,s)}))):this._undos.update((t=>t.push({type:"command",name:e,data:s,id:ta(),preservesRedoStack:l}))),o.preservesRedoStack||this._redos.set(tc()),this.ctx.emit("change-history",{reason:"push"})}return this.ctx};return r};batch=e=>{try{this._batchDepth++,1===this._batchDepth?(0,o.hL)((()=>{const t=this._undos.get().head?.id;e(),t!==this._undos.get().head?.id&&this.onBatchComplete()})):e()}catch(e){throw this.annotateError(e),e}finally{this._batchDepth--}return this};ignoringUpdates=e=>{let t=this._undos.get(),n=this._redos.get();this._undos.set(tc()),this._redos.set(tc());try{({undos:t,redos:n}=(0,o.hL)((()=>e(t,n))))}finally{this._undos.set(t),this._redos.set(n)}};_undo=({pushToRedoStack:e,toMark:t})=>(this.ignoringUpdates(((n,r)=>{if(0===n.length)return{undos:n,redos:r};for(;"STOP"===n.head?.type;){const i=n.head;if(n=n.tail,e&&(r=r.push(i)),i.id===t)return this.ctx.emit("change-history",e?{reason:"undo"}:{reason:"bail",markId:t}),{undos:n,redos:r}}if(0===n.length)return this.ctx.emit("change-history",e?{reason:"undo"}:{reason:"bail",markId:t}),{undos:n,redos:r};for(;n.head;){const i=n.head;if(n=n.tail,e&&(r=r.push(i)),"STOP"===i.type){if(i.onUndo&&(!t||i.id===t))return this.ctx.emit("change-history",e?{reason:"undo"}:{reason:"bail",markId:t}),{undos:n,redos:r}}else this._commands[i.name].undo(i.data)}return this.ctx.emit("change-history",e?{reason:"undo"}:{reason:"bail",markId:t}),{undos:n,redos:r}})),this);undo=()=>(this._undo({pushToRedoStack:!0}),this);redo=()=>(this.ignoringUpdates(((e,t)=>{if(0===t.length)return{undos:e,redos:t};for(;"STOP"===t.head?.type;)e=e.push(t.head),t=t.tail;if(0===t.length)return this.ctx.emit("change-history",{reason:"redo"}),{undos:e,redos:t};for(;t.head;){const n=t.head;if(e=e.push(t.head),t=t.tail,"STOP"===n.type){if(n.onRedo)break}else{const e=this._commands[n.name];e.redo?e.redo(n.data):e.do(n.data)}}return this.ctx.emit("change-history",{reason:"redo"}),{undos:e,redos:t}})),this);bail=()=>(this._undo({pushToRedoStack:!1}),this);bailToMark=e=>(this._undo({pushToRedoStack:!1,toMark:e}),this);mark=(e=ta(),t=!0,n=!0)=>{const r=this._undos.get().head;return r&&"STOP"===r.type&&r.id===e&&r.onUndo===t&&r.onRedo===n?r.id:(this._undos.update((r=>r.push({type:"STOP",id:e,onUndo:t,onRedo:n}))),this.ctx.emit("mark-history",{id:e}),e)};clear(){this._undos.set(tc()),this._redos.set(tc())}}class sc{constructor(e){this.editor=e}scribbleItems=new Map;state="paused";addScribble=(e,t=ta())=>{const n={id:t,scribble:{id:t,size:20,color:"accent",opacity:.8,delay:0,points:[],shrink:.1,taper:!0,...e,state:"starting"},timeoutMs:0,delayRemaining:e.delay??0,prev:null,next:null};return this.scribbleItems.set(t,n),"paused"===this.state&&this.resume(),n};resume(){this.state="running",this.editor.addListener("tick",this.tick)}pause(){this.editor.removeListener("tick",this.tick),this.state="paused"}reset(){this.editor.updateInstanceState({scribbles:[]}),this.scribbleItems.clear(),this.pause()}stop=e=>{const t=this.scribbleItems.get(e);if(!t)throw Error(`Scribble with id ${e} not found`);return t.delayRemaining=Math.min(t.delayRemaining,200),t.scribble.state="stopping",t};addPoint=(e,t,n)=>{const r=this.scribbleItems.get(e);if(!r)throw Error(`Scribble with id ${e} not found`);const{prev:i}=r,o={x:t,y:n,z:.5};return(!i||ti.Dist(i,o)>=1)&&(r.next=o),r};tick=e=>{this.editor.batch((()=>{this.scribbleItems.forEach((t=>{if("starting"===t.scribble.state){const{next:e,prev:n}=t;return e&&e!==n&&(t.prev=e,t.scribble.points.push(e)),void(t.scribble.points.length>8&&(t.scribble.state="active"))}t.delayRemaining>0&&(t.delayRemaining=Math.max(0,t.delayRemaining-e)),t.timeoutMs+=e,t.timeoutMs>=16&&(t.timeoutMs=0);const{delayRemaining:n,timeoutMs:r,prev:i,next:o,scribble:s}=t;switch(s.state){case"active":o&&o!==i?(t.prev=o,s.points.push(o),0===n&&s.points.length>8&&s.points.shift()):0===r&&(s.points.length>1?s.points.shift():t.delayRemaining=s.delay);break;case"stopping":if(0===t.delayRemaining&&0===r){if(1===s.points.length)return void this.scribbleItems.delete(t.id);s.shrink&&(s.size=Math.max(1,s.size*(1-s.shrink))),s.points.shift()}}})),this.editor.updateInstanceState({scribbles:Array.from(this.scribbleItems.values()).map((({scribble:e})=>({...e,points:[...e.points]}))).slice(-5)}),0===this.scribbleItems.size&&this.pause()}))}}class ac{constructor(e){this.editor=e,e.store.onBeforeCreate=(e,t)=>{const n=this._beforeCreateHandlers[e.typeName];if(n){let r=e;for(const e of n)r=e(r,t);return r}return e},e.store.onAfterCreate=(e,t)=>{const n=this._afterCreateHandlers[e.typeName];if(n)for(const r of n)r(e,t)},e.store.onBeforeChange=(e,t,n)=>{const r=this._beforeChangeHandlers[t.typeName];if(r){let i=t;for(const t of r)i=t(e,i,n);return i}return t};let t=0;e.store.onAfterChange=(e,n,r)=>{if(t++,t>1e3)console.error("[CleanupManager.onAfterChange] Maximum update depth exceeded, bailing out.");else{const t=this._afterChangeHandlers[n.typeName];if(t)for(const i of t)i(e,n,r)}t--},e.store.onBeforeDelete=(e,t)=>{const n=this._beforeDeleteHandlers[e.typeName];if(n)for(const r of n)if(!1===r(e,t))return!1},e.store.onAfterDelete=(e,t)=>{const n=this._afterDeleteHandlers[e.typeName];if(n)for(const r of n)r(e,t)},e.history.onBatchComplete=()=>{this._batchCompleteHandlers.forEach((e=>e()))}}_beforeCreateHandlers={};_afterCreateHandlers={};_beforeChangeHandlers={};_afterChangeHandlers={};_beforeDeleteHandlers={};_afterDeleteHandlers={};_batchCompleteHandlers=[];registerBeforeCreateHandler(e,t){return this._beforeCreateHandlers[e]||(this._beforeCreateHandlers[e]=[]),this._beforeCreateHandlers[e].push(t),()=>cc(this._beforeCreateHandlers[e],t)}registerAfterCreateHandler(e,t){return this._afterCreateHandlers[e]||(this._afterCreateHandlers[e]=[]),this._afterCreateHandlers[e].push(t),()=>cc(this._afterCreateHandlers[e],t)}registerBeforeChangeHandler(e,t){return this._beforeChangeHandlers[e]||(this._beforeChangeHandlers[e]=[]),this._beforeChangeHandlers[e].push(t),()=>cc(this._beforeChangeHandlers[e],t)}registerAfterChangeHandler(e,t){return this._afterChangeHandlers[e]||(this._afterChangeHandlers[e]=[]),this._afterChangeHandlers[e].push(t),()=>cc(this._afterChangeHandlers[e],t)}registerBeforeDeleteHandler(e,t){return this._beforeDeleteHandlers[e]||(this._beforeDeleteHandlers[e]=[]),this._beforeDeleteHandlers[e].push(t),()=>cc(this._beforeDeleteHandlers[e],t)}registerAfterDeleteHandler(e,t){return this._afterDeleteHandlers[e]||(this._afterDeleteHandlers[e]=[]),this._afterDeleteHandlers[e].push(t),()=>cc(this._afterDeleteHandlers[e],t)}registerBatchCompleteHandler(e){return this._batchCompleteHandlers.push(e),()=>cc(this._batchCompleteHandlers,e)}}function cc(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}var lc=Object.defineProperty,uc=Object.getOwnPropertyDescriptor,dc=(e,t,n,r)=>{for(var i,o=r>1?void 0:r?uc(t,n):t,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&lc(t,n,o),o};const hc=e=>Math.round(e*10**8)/10**8;function pc(e,t,n,r,i){const o=e.filter((e=>("forward"===r?e.startNode.id===t:e.endNode.id===t)&&hc(e.length)===hc(n)&&_i(e.breadthIntersection[0],e.breadthIntersection[1],i[0],i[1])));if(0===o.length)return[];const s=new Set;return o.forEach((t=>{const a="forward"===r?t.endNode.id:t.startNode.id;if(!s.has(a)){s.add(a);const c=pc(e,a,n,r,_i(t.breadthIntersection[0],t.breadthIntersection[1],i[0],i[1]));o.push(...c)}})),o}class fc{constructor(e){this.manager=e,this.editor=e.editor}editor;getSnapPointsCache(){const{editor:e}=this;return e.store.createComputedCache("snapPoints",(t=>{const n=e.getShapePageTransform(t.id);if(!n)return;const r=e.getShapeUtil(t).getBoundsSnapGeometry(t).points??e.getShapeGeometry(t).bounds.cornersAndCenter;return n&&r?r.map(((e,r)=>{const{x:i,y:o}=$o.applyToPoint(n,e);return{x:i,y:o,id:`${t.id}:${r}`}})):void 0}))}getSnapPoints(e){return this.getSnapPointsCache().get(e)??[]}getSnappablePoints(){const e=this.getSnapPointsCache(),t=this.manager.getSnappableShapes(),n=[];for(const r of t){const t=e.get(r);t&&n.push(...t)}return n}getSnappableGapNodes(){return Array.from(this.manager.getSnappableShapes(),(e=>({id:e,pageBounds:O(this.editor.getShapePageBounds(e))})))}getVisibleGaps(){const e=[],t=[];let n,r;const i=this.getSnappableGapNodes().sort(((e,t)=>e.pageBounds.minX-t.pageBounds.minX));for(let t=0;t<i.length;t++){n=i[t];for(let o=t+1;o<i.length;o++)r=i[o],n.pageBounds.maxX<r.pageBounds.minX&&ki(n.pageBounds.minY,n.pageBounds.maxY,r.pageBounds.minY,r.pageBounds.maxY)&&e.push({startNode:n,endNode:r,startEdge:[new ti(n.pageBounds.maxX,n.pageBounds.minY),new ti(n.pageBounds.maxX,n.pageBounds.maxY)],endEdge:[new ti(r.pageBounds.minX,r.pageBounds.minY),new ti(r.pageBounds.minX,r.pageBounds.maxY)],length:r.pageBounds.minX-n.pageBounds.maxX,breadthIntersection:_i(n.pageBounds.minY,n.pageBounds.maxY,r.pageBounds.minY,r.pageBounds.maxY)})}const o=i.sort(((e,t)=>e.pageBounds.minY-t.pageBounds.minY));for(let e=0;e<o.length;e++){n=o[e];for(let i=e+1;i<o.length;i++)r=o[i],n.pageBounds.maxY<r.pageBounds.minY&&ki(n.pageBounds.minX,n.pageBounds.maxX,r.pageBounds.minX,r.pageBounds.maxX)&&t.push({startNode:n,endNode:r,startEdge:[new ti(n.pageBounds.minX,n.pageBounds.maxY),new ti(n.pageBounds.maxX,n.pageBounds.maxY)],endEdge:[new ti(r.pageBounds.minX,r.pageBounds.minY),new ti(r.pageBounds.maxX,r.pageBounds.minY)],length:r.pageBounds.minY-n.pageBounds.maxY,breadthIntersection:_i(n.pageBounds.minX,n.pageBounds.maxX,r.pageBounds.minX,r.pageBounds.maxX)})}return{horizontal:e,vertical:t}}snapTranslateShapes({lockedAxis:e,initialSelectionPageBounds:t,initialSelectionSnapPoints:n,dragDelta:r}){const i=this.manager.getSnapThreshold(),o=this.getSnappablePoints(),s=t.clone().translate(r),a=n.map((({x:e,y:t},n)=>({id:"selection:"+n,x:e+r.x,y:t+r.y}))),c=o,l=[],u=[],d=new ti(i,i);this.collectPointSnaps({minOffset:d,nearestSnapsX:l,nearestSnapsY:u,otherNodeSnapPoints:c,selectionSnapPoints:a}),this.collectGapSnaps({selectionPageBounds:s,nearestSnapsX:l,nearestSnapsY:u,minOffset:d});const h=new ti("x"===e?0:l[0]?.nudge??0,"y"===e?0:u[0]?.nudge??0);d.x=0,d.y=0,l.length=0,u.length=0,a.forEach((e=>{e.x+=h.x,e.y+=h.y})),s.translate(h),this.collectPointSnaps({minOffset:d,nearestSnapsX:l,nearestSnapsY:u,otherNodeSnapPoints:c,selectionSnapPoints:a}),this.collectGapSnaps({selectionPageBounds:s,nearestSnapsX:l,nearestSnapsY:u,minOffset:d});const p=this.getPointSnapLines({nearestSnapsX:l,nearestSnapsY:u}),f=this.getGapSnapLines({selectionPageBounds:s,nearestSnapsX:l,nearestSnapsY:u});return this.manager.setIndicators([...f,...p]),{nudge:h}}snapResizeShapes({initialSelectionPageBounds:e,dragDelta:t,handle:n,isAspectRatioLocked:r,isResizingFromCenter:i}){const o=this.manager.getSnapThreshold(),{box:s,scaleX:a,scaleY:c}=jo.Resize(e,n,i?2*t.x:t.x,i?2*t.y:t.y,r);let l=n;a<0&&(l=function(e){switch(e){case"left":return"right";case"right":return"left";case"top_left":return"top_right";case"top_right":return"top_left";case"bottom_left":return"bottom_right";case"bottom_right":return"bottom_left";default:return e}}(l)),c<0&&(l=function(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"top_left":return"bottom_left";case"top_right":return"bottom_right";case"bottom_left":return"top_left";case"bottom_right":return"top_right";default:return e}}(l)),i&&(s.center=e.center);const u="top"===l||"bottom"===l,d="left"===l||"right"===l,h=mc(l,s),p=this.getSnappablePoints(),f=[],m=[],g=new ti(o,o);this.collectPointSnaps({minOffset:g,nearestSnapsX:f,nearestSnapsY:m,otherNodeSnapPoints:p,selectionSnapPoints:h});const y=new ti(u?0:f[0]?.nudge??0,d?0:m[0]?.nudge??0);if(r&&("top_left"===(v=l)||"top_right"===v||"bottom_right"===v||"bottom_left"===v)&&0!==y.len()){const t=f.length&&m.length?Math.abs(y.x)<Math.abs(y.y)?"x":"y":f.length?"x":"y",n=e.aspectRatio;"x"===t?(m.length=0,y.y=y.x/n,"bottom_left"!==l&&"top_right"!==l||(y.y=-y.y)):(f.length=0,y.x=y.y*n,"bottom_left"!==l&&"top_right"!==l||(y.x=-y.x))}var v;const b=ti.Add(t,y),{box:x}=jo.Resize(e,n,i?2*b.x:b.x,i?2*b.y:b.y,r);i&&(x.center=e.center);const O=mc("any",x);f.length=0,m.length=0,g.x=0,g.y=0,this.collectPointSnaps({minOffset:g,nearestSnapsX:f,nearestSnapsY:m,otherNodeSnapPoints:p,selectionSnapPoints:O});const w=this.getPointSnapLines({nearestSnapsX:f,nearestSnapsY:m});return this.manager.setIndicators([...w]),{nudge:y}}collectPointSnaps({selectionSnapPoints:e,otherNodeSnapPoints:t,minOffset:n,nearestSnapsX:r,nearestSnapsY:i}){for(const o of e)for(const e of t){const t=ti.Sub(o,e),s=Math.abs(t.x),a=Math.abs(t.y);hc(s)<=hc(n.x)&&(hc(s)<hc(n.x)&&(r.length=0),r.push({type:"points",points:{thisPoint:o,otherPoint:e},nudge:e.x-o.x}),n.x=s),hc(a)<=hc(n.y)&&(hc(a)<hc(n.y)&&(i.length=0),i.push({type:"points",points:{thisPoint:o,otherPoint:e},nudge:e.y-o.y}),n.y=a)}}collectGapSnaps({selectionPageBounds:e,minOffset:t,nearestSnapsX:n,nearestSnapsY:r}){const{horizontal:i,vertical:o}=this.getVisibleGaps();for(const r of i){if(!ki(r.breadthIntersection[0],r.breadthIntersection[1],e.minY,e.maxY))continue;const i=r.startEdge[0].x+r.length/2-e.center.x;if(r.length>e.width&&hc(Math.abs(i))<=hc(t.x)){hc(Math.abs(i))<hc(t.x)&&(n.length=0),t.x=Math.abs(i);const e={type:"gap_center",gap:r,nudge:i},o=n.find((({type:e})=>"gap_center"===e)),s=o&&_i(r.breadthIntersection[0],r.breadthIntersection[1],o.gap.breadthIntersection[0],o.gap.breadthIntersection[1]);o&&o.gap.length>r.length&&s?n[n.indexOf(o)]=e:o&&s||n.push(e)}const o=r.startNode.pageBounds.minX-r.length-e.maxX;hc(Math.abs(o))<=hc(t.x)&&(hc(Math.abs(o))<hc(t.x)&&(n.length=0),t.x=Math.abs(o),n.push({type:"gap_duplicate",gap:r,protrusionDirection:"left",nudge:o}));const s=r.endNode.pageBounds.maxX+r.length-e.minX;hc(Math.abs(s))<=hc(t.x)&&(hc(Math.abs(s))<hc(t.x)&&(n.length=0),t.x=Math.abs(s),n.push({type:"gap_duplicate",gap:r,protrusionDirection:"right",nudge:s}))}for(const n of o){if(!ki(n.breadthIntersection[0],n.breadthIntersection[1],e.minX,e.maxX))continue;const i=n.startEdge[0].y+n.length/2-e.center.y;if(n.length>e.height&&hc(Math.abs(i))<=hc(t.y)){hc(Math.abs(i))<hc(t.y)&&(r.length=0),t.y=Math.abs(i);const e={type:"gap_center",gap:n,nudge:i},o=r.find((({type:e})=>"gap_center"===e)),s=o&&ki(o.gap.breadthIntersection[0],o.gap.breadthIntersection[1],n.breadthIntersection[0],n.breadthIntersection[1]);o&&o.gap.length>n.length&&s?r[r.indexOf(o)]=e:o&&s||r.push(e);continue}const o=n.startNode.pageBounds.minY-n.length-e.maxY;hc(Math.abs(o))<=hc(t.y)&&(hc(Math.abs(o))<hc(t.y)&&(r.length=0),t.y=Math.abs(o),r.push({type:"gap_duplicate",gap:n,protrusionDirection:"top",nudge:o}));const s=n.endNode.pageBounds.maxY+n.length-e.minY;hc(Math.abs(s))<=hc(t.y)&&(hc(Math.abs(s))<hc(t.y)&&(r.length=0),t.y=Math.abs(s),r.push({type:"gap_duplicate",gap:n,protrusionDirection:"bottom",nudge:s}))}}getPointSnapLines({nearestSnapsX:e,nearestSnapsY:t}){const n={},r={};if(e.length>0)for(const t of e)if("points"===t.type){const e=hc(t.points.otherPoint.x);n[e]||(n[e]=[]),n[e].push(t.points)}if(t.length>0)for(const e of t)if("points"===e.type){const t=hc(e.points.otherPoint.y);r[t]||(r[t]=[]),r[t].push(e.points)}return Object.values(n).concat(Object.values(r)).map((e=>({id:ta(),type:"points",points:l(e.map((e=>ti.From(e.otherPoint))).concat(e.map((e=>ti.From(e.thisPoint)))),((e,t)=>e.equals(t)))})))}getGapSnapLines({selectionPageBounds:e,nearestSnapsX:t,nearestSnapsY:n}){const{vertical:r,horizontal:i}=this.getVisibleGaps(),o={top:e.sides[0],right:e.sides[1],bottom:[e.corners[3],e.corners[2]],left:[e.corners[0],e.corners[3]]},s=[];if(t.length>0)for(const n of t){if("points"===n.type)continue;const{gap:{breadthIntersection:t,startEdge:r,startNode:a,endNode:c,length:l,endEdge:u}}=n;switch(n.type){case"gap_center":{const n=(l-e.width)/2,d=_i(t[0],t[1],e.minY,e.maxY);s.push({type:"gaps",direction:"horizontal",id:ta(),gaps:[...pc(i,a.id,n,"backward",d),{startEdge:r,endEdge:o.left},{startEdge:o.right,endEdge:u},...pc(i,c.id,n,"forward",d)]});break}case"gap_duplicate":{const d=_i(t[0],t[1],e.minY,e.maxY);s.push({type:"gaps",direction:"horizontal",id:ta(),gaps:"left"===n.protrusionDirection?[{startEdge:o.right,endEdge:r.map((e=>e.clone().addXY(-a.pageBounds.width,0)))},{startEdge:r,endEdge:u},...pc(i,c.id,l,"forward",d)]:[...pc(i,a.id,l,"backward",d),{startEdge:r,endEdge:u},{startEdge:u.map((e=>e.clone().addXY(n.gap.endNode.pageBounds.width,0))),endEdge:o.left}]});break}}}if(n.length>0)for(const t of n){if("points"===t.type)continue;const{gap:{breadthIntersection:n,startEdge:i,startNode:a,endNode:c,length:l,endEdge:u}}=t;switch(t.type){case"gap_center":{const c=(l-e.height)/2,d=_i(n[0],n[1],e.minX,e.maxX);s.push({type:"gaps",direction:"vertical",id:ta(),gaps:[...pc(r,a.id,c,"backward",d),{startEdge:i,endEdge:o.top},{startEdge:o.bottom,endEdge:u},...pc(r,t.gap.endNode.id,c,"forward",d)]});break}case"gap_duplicate":{const d=_i(n[0],n[1],e.minX,e.maxX);s.push({type:"gaps",direction:"vertical",id:ta(),gaps:"top"===t.protrusionDirection?[{startEdge:o.bottom,endEdge:i.map((e=>e.clone().addXY(0,-a.pageBounds.height)))},{startEdge:i,endEdge:u},...pc(r,c.id,l,"forward",d)]:[...pc(r,a.id,l,"backward",d),{startEdge:i,endEdge:u},{startEdge:u.map((e=>e.clone().addXY(0,c.pageBounds.height))),endEdge:o.top}]})}}}return function(e){e.sort(((e,t)=>t.gaps.length-e.gaps.length));for(let t=e.length-1;t>0;t--){const n=e[t];for(let r=t-1;r>=0;r--){const i=e[r];if(i.direction===n.direction&&n.gaps.every((e=>i.gaps.some((t=>hc(e.startEdge[0].x)===hc(t.startEdge[0].x)&&hc(e.startEdge[0].y)===hc(t.startEdge[0].y)&&hc(e.startEdge[1].x)===hc(t.startEdge[1].x)&&hc(e.startEdge[1].y)===hc(t.startEdge[1].y)))&&i.gaps.some((t=>hc(e.endEdge[0].x)===hc(t.endEdge[0].x)&&hc(e.endEdge[0].y)===hc(t.endEdge[0].y)&&hc(e.endEdge[1].x)===hc(t.endEdge[1].x)&&hc(e.endEdge[1].y)===hc(t.endEdge[1].y)))))){e.splice(t,1);break}}}}(s),s}}function mc(e,t){const{minX:n,maxX:r,minY:i,maxY:o}=t,s=[];switch(e){case"top":case"left":case"top_left":case"any":s.push({id:"top_left",handle:"top_left",x:n,y:i})}switch(e){case"top":case"right":case"top_right":case"any":s.push({id:"top_right",handle:"top_right",x:r,y:i})}switch(e){case"bottom":case"right":case"bottom_right":case"any":s.push({id:"bottom_right",handle:"bottom_right",x:r,y:o})}switch(e){case"bottom":case"left":case"bottom_left":case"any":s.push({id:"bottom_left",handle:"bottom_left",x:n,y:o})}return s}dc([o.EW],fc.prototype,"getSnapPointsCache",1),dc([o.EW],fc.prototype,"getSnappablePoints",1),dc([o.EW],fc.prototype,"getSnappableGapNodes",1),dc([o.EW],fc.prototype,"getVisibleGaps",1);var gc=Object.defineProperty,yc=Object.getOwnPropertyDescriptor;const vc=()=>null,bc=()=>[];class xc{constructor(e){this.manager=e,this.editor=e.editor}editor;getSnapGeometryCache(){const{editor:e}=this;return e.store.createComputedCache("handle snap geometry",(t=>{const n=e.getShapeUtil(t).getHandleSnapGeometry(t);return{outline:void 0===n.outline?e.getShapeGeometry(t):n.outline,points:n.points??[],getSelfSnapOutline:n.getSelfSnapOutline??vc,getSelfSnapPoints:n.getSelfSnapPoints??bc}}))}*iterateSnapPointsInPageSpace(e,t){const n=this.getSnapGeometryCache().get(e)?.getSelfSnapPoints(t);if(n&&n.length){const t=O(this.editor.getShapePageTransform(e));for(const e of n)yield t.applyToPoint(e)}for(const t of this.manager.getSnappableShapes()){if(t===e)continue;const n=this.getSnapGeometryCache().get(t)?.points;if(!n||!n.length)continue;const r=O(this.editor.getShapePageTransform(t));for(const e of n)yield r.applyToPoint(e)}}*iterateSnapOutlines(e,t){const n=this.getSnapGeometryCache().get(e)?.getSelfSnapOutline(t);n&&(yield{shapeId:e,outline:n});for(const t of this.manager.getSnappableShapes()){if(t===e)continue;const n=this.getSnapGeometryCache().get(t)?.outline;n&&(yield{shapeId:t,outline:n})}}getHandleSnapPosition({currentShapeId:e,handle:t,handleInPageSpace:n}){const r=this.manager.getSnapThreshold();let i=r,o=null;for(const r of this.iterateSnapPointsInPageSpace(e,t)){const e=ti.Dist(n,r);e<i&&(i=e,o=r)}if(o)return o;let s=r,a=null;for(const{shapeId:r,outline:i}of this.iterateSnapOutlines(e,t)){const e=O(this.editor.getShapePageTransform(r)),t=this.editor.getPointInShapeSpace(r,n),o=i.nearestPoint(t),c=e.applyToPoint(o),l=ti.Dist(n,c);l<s&&(s=l,a=c)}return a||null}snapHandle({currentShapeId:e,handle:t}){const n=O(this.editor.getShapePageTransform(e)).applyToPoint(t),r=this.getHandleSnapPosition({currentShapeId:e,handle:t,handleInPageSpace:n});return r?(this.manager.setIndicators([{id:ta(),type:"points",points:[r]}]),{nudge:ti.Sub(r,n)}):null}}((e,t,n,r)=>{for(var i,o=yc(t,n),s=e.length-1;s>=0;s--)(i=e[s])&&(o=i(t,n,o)||o);o&&gc(t,n,o)})([o.EW],xc.prototype,"getSnapGeometryCache");var Oc=Object.defineProperty,wc=Object.getOwnPropertyDescriptor,Sc=(e,t,n,r)=>{for(var i,o=r>1?void 0:r?wc(t,n):t,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&Oc(t,n,o),o};class kc{constructor(e){this.editor=e,this.shapeBounds=new fc(this),this.handles=new xc(this)}shapeBounds;handles;_snapIndicators=(0,o.eU)("snapLines",void 0);getIndicators(){return this._snapIndicators.get()??o.Ml}clearIndicators(){this.getIndicators().length&&this._snapIndicators.set(void 0)}setIndicators(e){this._snapIndicators.set(e)}getSnapThreshold(){return 8/this.editor.getZoomLevel()}getSnappableShapes(){const{editor:e}=this,t=e.getRenderingBounds(),n=e.getSelectedShapeIds(),r=new Set,i=o=>{if(Nn(o)){const t=e.getShape(o);t&&e.isShapeOfType(t,"frame")&&r.add(o)}const s=e.getSortedChildIdsForParent(o);for(const o of s){if(n.includes(o))continue;const s=e.getShape(o);if(!s)continue;if(!e.getShapeUtil(s).canSnap(s))continue;const a=e.getShapePageBounds(o);a&&t.includes(a)&&(e.isShapeOfType(s,"group")?i(o):r.add(o))}};return i(this.getCurrentCommonAncestor()??e.getCurrentPageId()),r}getCurrentCommonAncestor(){return this.editor.findCommonAncestor(this.editor.getSelectedShapes())}}Sc([o.EW],kc.prototype,"getSnapThreshold",1),Sc([o.EW],kc.prototype,"getSnappableShapes",1),Sc([o.EW],kc.prototype,"getCurrentCommonAncestor",1);const _c=/\r?\n|\r/g;function Pc(e){return e.replace(_c,"\n").split("\n").map((e=>e||" ")).join("\n")}const Ec={start:"left","start-legacy":"left",middle:"center","middle-legacy":"center",end:"right","end-legacy":"right"},Cc=/\s/;class Tc{constructor(e){this.editor=e;const t=document.createElement("div");t.id="tldraw_text_measure",t.classList.add("tl-text"),t.classList.add("tl-text-measure"),t.tabIndex=-1,this.editor.getContainer().appendChild(t),this.baseElm=t}baseElm;measureText=(e,t)=>{const n=this.baseElm?.cloneNode();this.baseElm.insertAdjacentElement("afterend",n),n.setAttribute("dir","ltr"),n.style.setProperty("font-family",t.fontFamily),n.style.setProperty("font-style",t.fontStyle),n.style.setProperty("font-weight",t.fontWeight),n.style.setProperty("font-size",t.fontSize+"px"),n.style.setProperty("line-height",t.lineHeight*t.fontSize+"px"),n.style.setProperty("max-width",null===t.maxWidth?null:t.maxWidth+"px"),n.style.setProperty("min-width",t.minWidth??null),n.style.setProperty("padding",t.padding),n.textContent=Pc(e);const r=n.getBoundingClientRect();return n.remove(),{x:0,y:0,w:r.width,h:r.height}};measureElementTextNodeSpans(e,{shouldTruncateToFirstLine:t=!1}={}){const n=[],r=e.getBoundingClientRect(),i=-r.left,o=-r.top,s=new Range,a=e.childNodes[0];let c=0,l=null,u=null,d=0,h=!1;for(const r of e.childNodes)if(r.nodeType===Node.TEXT_NODE)for(const e of r.textContent??""){s.setStart(a,c),s.setEnd(a,c+e.length);const r=s.getClientRects(),p=r[r.length-1],f=p.top+o,m=p.left+i,g=p.right+i,y=Cc.test(e);if(y===u&&f===d&&l)l.box.w=g-l.box.x,l.text+=e;else{if(l){if(t&&f!==d){h=!0;break}n.push(l)}l={box:{x:m,y:f,w:p.width,h:p.height},text:e}}u=y,d=f,c+=e.length}return l&&n.push(l),{spans:n,didTruncate:h}}measureTextSpans(e,t){if(""===e)return[];const n=this.baseElm?.cloneNode();this.baseElm.insertAdjacentElement("afterend",n);const r=Math.ceil(t.width-2*t.padding);n.style.setProperty("width",`${r}px`),n.style.setProperty("height","min-content"),n.style.setProperty("dir","ltr"),n.style.setProperty("font-size",`${t.fontSize}px`),n.style.setProperty("font-family",t.fontFamily),n.style.setProperty("font-weight",t.fontWeight),n.style.setProperty("line-height",t.lineHeight*t.fontSize+"px"),n.style.setProperty("text-align",Ec[t.textAlign]);const i="truncate-ellipsis"===t.overflow||"truncate-clip"===t.overflow;i&&(n.style.setProperty("overflow-wrap","anywhere"),n.style.setProperty("word-break","break-all"));const o=Pc(e);n.textContent=o;const{spans:s,didTruncate:a}=this.measureElementTextNodeSpans(n,{shouldTruncateToFirstLine:i});if("truncate-ellipsis"===t.overflow&&a){n.textContent="";const e=Math.ceil(this.measureElementTextNodeSpans(n).spans[0].box.w);n.style.setProperty("width",r-e+"px"),n.textContent=o;const i=this.measureElementTextNodeSpans(n,{shouldTruncateToFirstLine:!0}).spans,s=i[i.length-1];return i.push({text:"",box:{x:Math.min(s.box.x+s.box.w,t.width-t.padding-e),y:s.box.y,w:e,h:s.box.h}}),i}return n.remove(),s}}class jc{constructor(e){this.editor=e,this.editor.disposables.add(this.dispose),this.start()}raf;isPaused=!0;last=0;t=0;start=()=>{this.isPaused=!1,cancelAnimationFrame(this.raf),this.raf=requestAnimationFrame(this.tick),this.last=Date.now()};tick=()=>{if(this.isPaused)return;const e=Date.now(),t=e-this.last;this.last=e,this.t+=t,this.editor.emit("frame",t),this.t<16||(this.t-=16,this.updatePointerVelocity(t),this.editor.emit("tick",t)),this.raf=requestAnimationFrame(this.tick)};dispose=()=>{this.isPaused=!0,cancelAnimationFrame(this.raf)};prevPoint=new ti;updatePointerVelocity=e=>{const{prevPoint:t,editor:{inputs:{currentScreenPoint:n,pointerVelocity:r}}}=this;if(0===e)return;const i=ti.Sub(n,t);this.prevPoint=n.clone();const o=i.len(),s=o?i.div(o):new ti(0,0),a=r.clone().lrp(s.mul(o/e),.5);Math.abs(a.x)<.01&&(a.x=0),Math.abs(a.y)<.01&&(a.y=0),r.equals(a)||(this.editor.inputs.pointerVelocity=a)}}var Ic=Object.defineProperty,Mc=Object.getOwnPropertyDescriptor,Ac=(e,t,n,r)=>{for(var i,o=r>1?void 0:r?Mc(t,n):t,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&Ic(t,n,o),o};class Dc{constructor(e,t){this.user=e,this.inferDarkMode=t}updateUserPreferences=e=>{this.user.setUserPreferences({...this.user.userPreferences.get(),...e})};getUserPreferences(){return{id:this.getId(),name:this.getName(),locale:this.getLocale(),color:this.getColor(),animationSpeed:this.getAnimationSpeed(),isSnapMode:this.getIsSnapMode(),isDarkMode:this.getIsDarkMode(),isWrapMode:this.getIsWrapMode()}}getIsDarkMode(){return this.user.userPreferences.get().isDarkMode??(!!this.inferDarkMode&&"undefined"!=typeof window&&(window.matchMedia?.("(prefers-color-scheme: dark)")?.matches??!1))}getEdgeScrollSpeed(){return this.user.userPreferences.get().edgeScrollSpeed??sa.edgeScrollSpeed}getAnimationSpeed(){return this.user.userPreferences.get().animationSpeed??sa.animationSpeed}getId(){return this.user.userPreferences.get().id}getName(){return this.user.userPreferences.get().name??sa.name}getLocale(){return this.user.userPreferences.get().locale??sa.locale}getColor(){return this.user.userPreferences.get().color??sa.color}getIsSnapMode(){return this.user.userPreferences.get().isSnapMode??sa.isSnapMode}getIsWrapMode(){return this.user.userPreferences.get().isWrapMode??sa.isWrapMode}}function $c(e){return Math.abs(e.props.bend)<8}function Rc(e,t){if("point"===t.type)return;const n=e.getShape(t.boundShapeId),r=e.getShapePageTransform(n),i=e.getShapeGeometry(n),o=i instanceof No?i.children[0].vertices:i.vertices;return{shape:n,transform:r,isClosed:i.isClosed,isExact:t.isExact,didIntersect:!1,outline:o}}function Nc(e,t,n,r){if("point"===n.type)return ti.From(n);const i=e.getShape(n.boundShapeId);if(i){const{point:o,size:s}=e.getShapeGeometry(i).bounds,a=ti.Add(o,ti.MulV(n.isPrecise||r?n.normalizedAnchor:{x:.5,y:.5},s)),c=$o.applyToPoint(e.getShapePageTransform(i),a);return $o.applyToPoint($o.Inverse(t),c)}return new ti(0,0)}function Lc(e,t){const n=e.getShapePageTransform(t);let r,i;"binding"===t.props.start.type&&"binding"===t.props.end.type&&(r=t.props.start.boundShapeId,i=t.props.end.boundShapeId);const o=Bc(e,r,i);return{start:Nc(e,n,t.props.start,"double-bound"===o||"start-contains-end"===o),end:Nc(e,n,t.props.end,"double-bound"===o||"end-contains-start"===o)}}Ac([o.EW],Dc.prototype,"getUserPreferences",1),Ac([o.EW],Dc.prototype,"getIsDarkMode",1),Ac([o.EW],Dc.prototype,"getEdgeScrollSpeed",1),Ac([o.EW],Dc.prototype,"getAnimationSpeed",1),Ac([o.EW],Dc.prototype,"getId",1),Ac([o.EW],Dc.prototype,"getName",1),Ac([o.EW],Dc.prototype,"getLocale",1),Ac([o.EW],Dc.prototype,"getColor",1),Ac([o.EW],Dc.prototype,"getIsSnapMode",1),Ac([o.EW],Dc.prototype,"getIsWrapMode",1);const Qc=10,zc=10,Fc={s:2,m:3.5,l:5,xl:10};function Bc(e,t,n){if(!t||!n)return"safe";if(t===n)return"double-bound";const r=e.getShapePageBounds(t),i=e.getShapePageBounds(n);if(r&&i){if(r.contains(i))return"start-contains-end";if(i.contains(r))return"end-contains-start"}return"safe"}function Zc(e,t){const{start:n,end:r,arrowheadStart:i,arrowheadEnd:o}=t.props,s=Lc(e,t),a=s.start.clone(),c=s.end.clone(),l=ti.Med(a,c);if(ti.Equals(a,c))return{isStraight:!0,start:{handle:a,point:a,arrowhead:t.props.arrowheadStart},end:{handle:c,point:c,arrowhead:t.props.arrowheadEnd},middle:l,isValid:!1,length:0};const u=ti.Sub(c,a).uni(),d=Rc(e,n),h=Rc(e,r),p=e.getShapePageTransform(t);Vc(c,s.start,p,h),Vc(a,s.end,p,d);let f=0,m=0,g=0,y=0,v=Qc;const b=d&&h&&d.shape===h.shape,x=d&&h?Bc(e,d.shape.id,h.shape.id):"safe";"safe"!==x||!d||!h||b||d.isExact||h.isExact||(h.didIntersect&&!d.didIntersect?d.isClosed&&a.setTo(c.clone().add(u.clone().mul(Qc))):h.didIntersect||h.isClosed&&c.setTo(a.clone().sub(u.clone().mul(Qc))));const O=ti.Sub(c,a),w=ti.Len(O)?O.uni():ti.From(O),S=!ti.Equals(w,u);b||("start-contains-end"!==x&&d&&"none"!==i&&!d.isExact&&(g=Fc[t.props.size]/2+("size"in d.shape.props?Fc[d.shape.props.size]/2:0),f=zc+g,v+=g),"end-contains-start"!==x&&h&&"none"!==o&&!h.isExact&&(y=Fc[t.props.size]/2+("size"in h.shape.props?Fc[h.shape.props.size]/2:0),m=zc+y,v+=y));const k=a.clone().add(w.clone().mul(f*(S?-1:1))),_=c.clone().sub(w.clone().mul(m*(S?-1:1)));ti.Dist(k,_)<v&&(0!==f&&0!==m?(f*=-1.5,m*=-1.5):0!==f?f*=-1:0!==m&&(m*=-1)),a.add(w.clone().mul(f*(S?-1:1))),c.sub(w.clone().mul(m*(S?-1:1))),S?(d&&h&&c.setTo(ti.Add(a,w.clone().mul(-Qc))),l.setTo(ti.Med(s.start,s.end))):l.setTo(ti.Med(a,c));const P=ti.Dist(a,c);return{isStraight:!0,start:{handle:s.start,point:a,arrowhead:t.props.arrowheadStart},end:{handle:s.end,point:c,arrowhead:t.props.arrowheadEnd},middle:l,isValid:P>0,length:P}}function Vc(e,t,n,r){if(void 0===r)return;if(r.isExact)return;const i=$o.applyToPoint(n,t),o=$o.applyToPoint(n,e),s=$o.applyToPoint($o.Inverse(r.transform),i),a=$o.applyToPoint($o.Inverse(r.transform),o),c=r.isClosed,l=(c?Sa:wa)(s,a,r.outline);let u;if(null!==l&&(u=l.sort(((e,t)=>ti.Dist(e,s)-ti.Dist(t,s)))[0]??(c?void 0:a)),void 0===u)return;const d=$o.applyToPoint(r.transform,u),h=$o.applyToPoint($o.Inverse(n),d);e.setTo(h),r.didIntersect=!0}function Wc(e,t,n=0){const{arrowheadEnd:r,arrowheadStart:i}=t.props,o=t.props.bend+n;if(Math.abs(o)>Math.abs(10*t.props.bend))return Zc(e,t);const s=Lc(e,t),a=ti.Med(s.start,s.end),c=ti.Sub(s.end,s.start),l=ti.Len(c)?c.uni():ti.From(c),u=ti.Add(a,l.per().mul(-o)),d=Rc(e,t.props.start),h=Rc(e,t.props.end),p=s.start.clone(),f=s.end.clone(),m=u.clone();if(ti.Equals(p,f))return{isStraight:!0,start:{handle:p,point:p,arrowhead:t.props.arrowheadStart},end:{handle:f,point:f,arrowhead:t.props.arrowheadEnd},middle:m,isValid:!1,length:0};const g=t.props.bend<0,y=g?fi:mi,v=Uc(p,f,m),b=ti.Angle(v.center,p),x=ti.Angle(v.center,f),O=y(b,x);if(0===v.length||0===v.size||!ji(v.length)||!ji(v.size))return Zc(e,t);const w=p.clone(),S=f.clone(),k=m.clone(),_=e.getShapePageTransform(t);let P=0,E=0,C=Qc;if(d&&!d.isExact){const n=$o.applyToPoint(_,w),r=$o.applyToPoint(_,v.center),o=$o.applyToPoint(_,S),s=$o.Inverse(d.transform),a=$o.applyToPoint(s,n),c=$o.applyToPoint(s,r),l=$o.applyToPoint(s,o),{isClosed:u}=d;let h,p=(u?_a:Pa)(c,v.radius,d.outline);if(p){const e=c.angle(a),t=c.angle(l),n=y(e,t);p=p.filter((t=>y(e,c.angle(t))<=n));const r=.25*n;p.sort(u?(t,n)=>Math.abs(y(e,c.angle(t))-r)<Math.abs(y(e,c.angle(n))-r)?-1:1:(t,n)=>y(e,c.angle(t))<y(e,c.angle(n))?-1:1),h=p[0]??(u?void 0:a)}else h=u?void 0:a;if(h&&(w.setTo(e.getPointInShapeSpace(t,$o.applyToPoint(d.transform,h))),d.didIntersect=!0,"none"!==i)){const e=Fc[t.props.size]/2+("size"in d.shape.props?Fc[d.shape.props.size]/2:0);P=zc+e,C+=e}}if(h&&!h.isExact){const n=$o.applyToPoint(_,w),i=$o.applyToPoint(_,S),o=$o.applyToPoint(_,v.center),s=$o.Inverse(h.transform),a=$o.applyToPoint(s,n),c=$o.applyToPoint(s,o),l=$o.applyToPoint(s,i),u=h.isClosed;let d,p=(u?_a:Pa)(c,v.radius,h.outline);if(p){const e=c.angle(a),t=c.angle(l),n=y(e,t),r=.75*n;p=p.filter((t=>y(e,c.angle(t))<=n)),p.sort(u?(t,n)=>Math.abs(y(e,c.angle(t))-r)<Math.abs(y(e,c.angle(n))-r)?-1:1:(t,n)=>y(e,c.angle(t))<y(e,c.angle(n))?-1:1),d=p[0]?p[0]:u?void 0:l}else d=u?void 0:l;if(d&&(S.setTo(e.getPointInShapeSpace(t,$o.applyToPoint(h.transform,d))),h.didIntersect=!0,"none"!==r)){const e=Fc[t.props.size]/2+("size"in h.shape.props?Fc[h.shape.props.size]/2:0);E=zc+e,C+=e}}let T=ti.Angle(v.center,w),j=ti.Angle(v.center,S),I=y(T,j),M=I*v.radius;const A=w.clone(),D=S.clone();if(0!==P){const e=P/M*(g?1:-1),t=ti.FromAngle(T+I*e);A.setTo(v.center).add(t.mul(v.radius))}if(0!==E){const e=E/M*(g?-1:1),t=ti.FromAngle(j+I*e);D.setTo(v.center).add(t.mul(v.radius))}if(ti.Dist(A,D)<C&&(0!==P&&0!==E?(P*=-1.5,E*=-1.5):0!==P?P*=-2:0!==E&&(E*=-2)),0!==P){const e=P/M*(g?1:-1),t=ti.FromAngle(T+I*e);w.setTo(v.center).add(t.mul(v.radius))}if(0!==E){const e=E/M*(g?-1:1),t=ti.FromAngle(j+I*e);S.setTo(v.center).add(t.mul(v.radius))}if(d&&h&&!d.isExact&&!h.isExact){T=ti.Angle(v.center,w),j=ti.Angle(v.center,S),I=y(T,j),M=I*v.radius;const t=Bc(e,d.shape.id,h.shape.id);if("double-bound"===t&&M<30)w.setTo(p),S.setTo(f),k.setTo(m);else if("safe"===t&&(d&&!d.didIntersect&&w.setTo(p),h&&!h.didIntersect||y(b,T)>y(b,j))){const e=Math.min(.9,Qc/M)*(g?1:-1),t=ti.FromAngle(T+I*e);S.setTo(v.center).add(t.mul(v.radius))}}!function(e,t,n,r,i,o,s){const a=ti.Angle(e,n);let c=fi(a,ti.Angle(e,r));s||(c=ai-c);const l=.5*(s?1:-1),u=ti.FromAngle(a+c*l);if(i.setTo(e).add(u.mul(t)),c>o){i.rotWith(e,oi);const t=r.clone();r.setTo(n),n.setTo(t)}}(v.center,v.radius,w,S,k,O,g),w.equals(S)&&(w.setTo(k.clone().addXY(1,1)),S.setTo(k.clone().subXY(1,1))),p.setTo(w),f.setTo(S),m.setTo(k);const $=Uc(p,f,m);return{isStraight:!1,start:{point:p,handle:s.start,arrowhead:t.props.arrowheadStart},end:{point:f,handle:s.end,arrowhead:t.props.arrowheadEnd},middle:m,handleArc:v,bodyArc:$,isValid:0!==$.length&&isFinite($.center.x)&&isFinite($.center.y)}}function Uc(e,t,n){const r=-2*(e.x*(t.y-n.y)-e.y*(t.x-n.x)+t.x*n.y-n.x*t.y),i={x:((e.x*e.x+e.y*e.y)*(n.y-t.y)+(t.x*t.x+t.y*t.y)*(e.y-n.y)+(n.x*n.x+n.y*n.y)*(t.y-e.y))/r,y:((e.x*e.x+e.y*e.y)*(t.x-n.x)+(t.x*t.x+t.y*t.y)*(n.x-e.x)+(n.x*n.x+n.y*n.y)*(e.x-t.x))/r},o=ti.Dist(i,e),s=+ti.Clockwise(e,n,t),a=Math.hypot(e.y-t.y,e.x-t.x),c=Math.hypot(t.y-n.y,t.x-n.x),l=Math.hypot(n.y-e.y,n.x-e.x),u=2*Math.acos((c*c+l*l-a*a)/(2*c*l)),d=(ai-u)*(s?1:-1);return{center:i,radius:o,size:d,length:d*o,largeArcFlag:+(oi>u),sweepFlag:s}}const qc={wheel:"onWheel",pointer_down:"onPointerDown",pointer_move:"onPointerMove",pointer_up:"onPointerUp",right_click:"onRightClick",middle_click:"onMiddleClick",key_down:"onKeyDown",key_up:"onKeyUp",key_repeat:"onKeyRepeat",cancel:"onCancel",complete:"onComplete",interrupt:"onInterrupt",double_click:"onDoubleClick",triple_click:"onTripleClick",quadruple_click:"onQuadrupleClick"};class Yc{constructor(e,t){this.editor=e;const{id:n,children:r,initial:i}=this.constructor;this.id=n,this._isActive=(0,o.eU)("toolIsActive"+this.id,!1),this._current=(0,o.eU)("toolState"+this.id,void 0),this._path=(0,o.EW)("toolPath"+this.id,(()=>{const e=this.getCurrent();return this.id+(e?`.${e.getPath()}`:"")})),this.parent=t??{},this.parent?r&&i?(this.type="branch",this.initial=i,this.children=Object.fromEntries(r().map((e=>[e.id,new e(this.editor,this)]))),this._current.set(this.children[this.initial])):this.type="leaf":(this.type="root",r&&i&&(this.initial=i,this.children=Object.fromEntries(r().map((e=>[e.id,new e(this.editor,this)]))),this._current.set(this.children[this.initial])))}static id;static initial;static children;id;type;shapeType;initial;children;parent;getPath(){return this._path.get()}_path;getCurrent(){return this._current.get()}_current;getIsActive(){return this._isActive.get()}_isActive;transition=(e,t={})=>{const n=e.split(".");let r=this;for(let e=0;e<n.length;e++){const i=n[e],o=r.getCurrent(),s=r.children?.[i];if(!s)throw Error(`${r.id} - no child state exists with the id ${i}.`);if(o?.id!==s.id&&(o?.exit(t,i),r._current.set(s),s.enter(t,o?.id||"initial"),!s.getIsActive()))break;r=s}return this};handleEvent=e=>{const t=qc[e.name],n=this.getCurrent();this[t]?.(e),this.getCurrent()===n&&this.getIsActive()&&n?.handleEvent(e)};enter=(e,t)=>{if(this._isActive.set(!0),this.onEnter?.(e,t),this.onTick&&this.editor.on("tick",this.onTick),this.children&&this.initial&&this.getIsActive()){const n=this.children[this.initial];this._current.set(n),n.enter(e,t)}};exit=(e,t)=>{this._isActive.set(!1),this.onTick&&this.editor.off("tick",this.onTick),this.onExit?.(e,t),this.getIsActive()||this.getCurrent()?.exit(e,t)};_currentToolIdMask=(0,o.eU)("curent tool id mask",void 0);getCurrentToolIdMask(){return this._currentToolIdMask.get()}setCurrentToolIdMask(e){this._currentToolIdMask.set(e)}onWheel;onPointerDown;onPointerMove;onPointerUp;onDoubleClick;onTripleClick;onQuadrupleClick;onRightClick;onMiddleClick;onKeyDown;onKeyUp;onKeyRepeat;onCancel;onComplete;onInterrupt;onEnter;onExit;onTick}class Xc extends Yc{static id="root";static initial="";static children=()=>[];onKeyDown=e=>{if("KeyZ"===e.code&&!e.shiftKey&&!e.ctrlKey){const t=this.getCurrent();t&&"idle"===t.getCurrent()?.id&&this.children.zoom&&this.editor.setCurrentTool("zoom",{...e,onInteractionEnd:t.id})}}}var Hc=Object.defineProperty,Gc=Object.getOwnPropertyDescriptor,Kc=(e,t,n,r)=>{for(var i,o=r>1?void 0:r?Gc(t,n):t,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&Hc(t,n,o),o};class Jc extends va.EventEmitter{constructor({store:e,user:t,shapeUtils:n,tools:r,getContainer:i,initialState:s,inferDarkMode:c}){super(),this.store=e,this.snaps=new kc(this),this.user=new Dc(t??ya(),c??!1),this.getContainer=i??(()=>document.body),this.textMeasure=new Tc(this),this.root=new class extends Xc{static initial=s??""}(this),this.root.children={};const l=Ba(n),d=new Set(Object.keys(e.schema.types.shape.migrations.subTypeMigrations));for(const e of l){if(!d.has(e.type))throw Error(`Editor and store have different shapes: "${e.type}" was passed into the editor but not the schema`);d.delete(e.type)}if(d.size>0)throw Error(`Editor and store have different shapes: "${[...d][0]}" is present in the store schema but not provided to the editor`);const h={},p={},f=new Map;for(const e of l){const t=new e(this);h[e.type]=t;const n=Qn(e.props??{});p[e.type]=n;for(const e of n.keys())if(f.has(e.id)){if(f.get(e.id)!==e)throw Error(`Multiple style props with id "${e.id}" in use. Style prop IDs must be unique.`)}else f.set(e.id,e)}this.shapeUtils=h,this.styleProps=p;for(const e of[...r]){if(z(this.root.children,e.id))throw Error(`Can't override tool with id "${e.id}"`);this.root.children[e.id]=new e(this,this.root)}this.environment=new ec(this),this.scribbles=new sc(this);const m=new Set,g=e=>{const t=this.getShape(e);if(!t)return;const{start:n,end:r}=t.props,i="binding"===n.type?this.getShape(n.boundShapeId):void 0,o="binding"===r.type?this.getShape(r.boundShapeId):void 0,s=this.getAncestorPageId(t);if(!s)return;let a;if(i&&o)a=this.findCommonAncestor([i,o])??s;else{if(!i&&!o)return;{const e=(i||o)?.parentId;a=e&&e===t.parentId?t.parentId:s}}a&&a!==t.parentId&&this.reparentShapes([e],a);const c=this.getShape(e);if(!c)throw Error("no reparented arrow");const l=this.getShapeNearestSibling(c,i),u=this.getShapeNearestSibling(c,o);let d,h;if(l&&u)d=l.index>u.index?l:u;else if(l&&!u)d=l;else{if(!u||l)return;d=u}const p=this.getSortedChildIdsForParent(d.parentId).map((e=>this.getShape(e))).filter((e=>e.index>d.index));if(p.length){const e=p.find((e=>"arrow"!==e.type));if(c.index>d.index&&(!e||c.index<e.index))return;h=xe(d.index,p[0].index)}else h=Oe(d.index);h!==c.index&&this.updateShapes([{id:e,type:"arrow",index:h}])},y=(e,t)=>{const{x:n,y:r}=Lc(this,e)[t];this.store.put([{...e,props:{...e.props,[t]:{type:"point",x:n,y:r}}}])},v=e=>{for(const t of["start","end"]){const n=e.props[t];if("binding"!==n.type)continue;const r=this.getShape(n.boundShapeId),i=this.getAncestorPageId(e)===this.getAncestorPageId(r);r&&i||y(e,t)}g(e.id)},b=(e,t)=>{let n=null;const r=e.selectedShapeIds.filter((e=>!t.has(e)));r.length!==e.selectedShapeIds.length&&(n||(n={...e}),n.selectedShapeIds=r);const i=e.erasingShapeIds.filter((e=>!t.has(e)));i.length!==e.erasingShapeIds.length&&(n||(n={...e}),n.erasingShapeIds=i),e.hoveredShapeId&&t.has(e.hoveredShapeId)&&(n||(n={...e}),n.hoveredShapeId=null),e.editingShapeId&&t.has(e.editingShapeId)&&(n||(n={...e}),n.editingShapeId=null);const o=e.hintingShapeIds.filter((e=>!t.has(e)));return o.length!==e.hintingShapeIds.length&&(n||(n={...e}),n.hintingShapeIds=o),e.focusedGroupId&&t.has(e.focusedGroupId)&&(n||(n={...e}),n.focusedGroupId=null),n};if(this.sideEffects=new ac(this),this.sideEffects.registerBatchCompleteHandler((()=>{for(const e of m){m.delete(e);const t=this.getShape(e);if(!t)continue;const n=this.getShapeUtil(t),r=n.onChildrenChange?.(t);r?.length&&this.updateShapes(r,{squashing:!0})}this.emit("update")})),this.sideEffects.registerBeforeDeleteHandler("shape",(e=>{e.parentId&&Nn(e.parentId)&&m.add(e.parentId);const t=this._getArrowBindingsIndex().get()[e.id];if(t?.length)for(const{arrowId:e,handleId:n}of t){const t=this.getShape(e);t&&y(t,n)}const n=new Set([e.id]),r=u(this.getPageStates().map((e=>b(e,n))));r.length&&this.store.put(r)})),this.sideEffects.registerBeforeDeleteHandler("page",(e=>{if(this.getInstanceState().currentPageId!==e.id)return;const t=this.getPages().find((t=>t.id!==e.id))?.id;if(!t)return;this.store.put([{...this.getInstanceState(),currentPageId:t}]);const n=Wt.createId(e.id),r=dn.createId(e.id);this.store.remove([n,r])})),this.sideEffects.registerAfterChangeHandler("shape",((e,t)=>{if(this.isShapeOfType(t,"arrow")&&v(t),e.parentId!==t.parentId){const e=e=>{const t=this._getArrowBindingsIndex().get()[e];if(t?.length)for(const e of t)g(e.arrowId)};e(t.id),this.visitDescendants(t.id,e)}if(e.parentId!==t.parentId&&rn(t.parentId)){const n=new Set([e.id]);this.visitDescendants(e.id,(e=>{n.add(e)}));for(const e of this.getPageStates()){if(e.pageId===t.parentId)continue;const r=b(e,n);r&&this.store.put([r])}}e.parentId&&Nn(e.parentId)&&m.add(e.parentId),t.parentId!==e.parentId&&Nn(t.parentId)&&m.add(t.parentId)})),this.sideEffects.registerAfterChangeHandler("instance_page_state",((e,t)=>{if(e?.selectedShapeIds!==t?.selectedShapeIds){const e=t.selectedShapeIds.filter((e=>{let n=this.getShape(e)?.parentId;for(;Nn(n);){if(t.selectedShapeIds.includes(n))return!1;n=this.getShape(n)?.parentId}return!0}));let n=null;if(e.length>0){const t=this.findCommonAncestor(u(e.map((e=>this.getShape(e)))),(e=>this.isShapeOfType(e,"group")));t&&(n=t)}else t?.focusedGroupId&&(n=t.focusedGroupId);e.length===t.selectedShapeIds.length&&n===t.focusedGroupId||this.store.put([{...t,selectedShapeIds:e,focusedGroupId:n??null}])}})),this.sideEffects.registerAfterCreateHandler("shape",(e=>{this.isShapeOfType(e,"arrow")&&v(e)})),this.sideEffects.registerAfterCreateHandler("page",(e=>{const t=Wt.createId(e.id),n=dn.createId(e.id);this.store.has(t)||this.store.put([Wt.create({id:t})]),this.store.has(n)||this.store.put([dn.create({id:n,pageId:e.id})])})),this._currentPageShapeIds=((e,t)=>{const n=e.query.ids("shape");let r=null;function i(){const i=t();return r=i,new Set([...n.get()].filter((t=>Ka(e,i,e.get(t)))))}return(0,o.EW)("_shapeIdsInCurrentPage",((n,s)=>{if((0,o._O)(n))return i();const c=t();if(c!==r)return i();const l=e.history.getDiffSince(s);if(l===o.c2)return i();const u=new a(n);for(const t of l){for(const n of Object.values(t.added))Rn(n)&&Ka(e,c,n)&&u.add(n.id);for(const[n,r]of Object.values(t.updated))Rn(r)&&(Ka(e,c,r)?u.add(r.id):u.remove(r.id));for(const e of Object.keys(t.removed))Nn(e)&&u.remove(e)}const d=u.get();return d?(0,o._D)(d.value,d.diff):n}))})(this.store,(()=>this.getCurrentPageId())),this._parentIdsToChildIds=(e=>{const t=e.query.ids("shape");function n(){const n={},r=t.get(),i=Array(r.size);return r.forEach((t=>i.push(e.get(t)))),i.sort(ke),i.forEach((e=>{n[e.parentId]||(n[e.parentId]=[]),n[e.parentId].push(e.id)})),n}return(0,o.EW)("parentsToChildrenWithIndexes",((t,r)=>{if((0,o._O)(t))return n();const i=e.history.getDiffSince(r);if(i===o.c2)return n();if(0===i.length)return t;let s=null;const a=e=>{s||(s={...t}),s[e]?s[e]===t[e]&&(s[e]=[...s[e]]):s[e]=[]},c=new Set;let l;for(let e=0,t=i.length;e<t;e++){l=i[e];for(const e of Object.values(l.added))Rn(e)&&(a(e.parentId),s[e.parentId].push(e.id),c.add(s[e.parentId]));for(const[e,t]of Object.values(l.updated))if(Rn(t)&&Rn(e))if(e.parentId!==t.parentId)a(e.parentId),a(t.parentId),s[e.parentId].splice(s[e.parentId].indexOf(t.id),1),s[t.parentId].push(t.id),c.add(s[t.parentId]);else if(e.index!==t.index){a(t.parentId);const e=s[t.parentId].indexOf(t.id);s[t.parentId][e]=t.id,c.add(s[t.parentId])}for(const e of Object.values(l.removed))Rn(e)&&(a(e.parentId),s[e.parentId].splice(s[e.parentId].indexOf(e.id),1))}for(const t of c){const n=u(t.map((t=>e.get(t))));n.sort(ke),t.splice(0,t.length,...n.map((e=>e.id)))}return s??t}))})(this.store),this.disposables.add(this.store.listen((e=>{this.emit("change",e)}))),this.store.ensureStoreIsUsable(),this._setInstancePageState({editingShapeId:null,hoveredShapeId:null,erasingShapeIds:[]},{ephemeral:!0}),s&&void 0===this.root.children[s])throw Error(`No state found for initialState "${s}".`);this.root.enter(void 0,"initial"),this.getInstanceState().followingUserId&&this.stopFollowingUser(),this.updateRenderingBounds(),requestAnimationFrame((()=>{this._tickManager.start()}))}store;root;disposables=new Set;_tickManager=new jc(this);snaps;user;textMeasure;environment;scribbles;getContainer;sideEffects;dispose(){this.disposables.forEach((e=>e())),this.disposables.clear()}shapeUtils;styleProps;getShapeUtil(e){const t="string"==typeof e?e:e.type,n=F(this.shapeUtils,t);return x(n,`No shape util found for type "${t}"`),n}history=new oc(this,(e=>{this.annotateError(e,{origin:"history.batch",willCrashApp:!0}),this.crash(e)}));undo(){return this.history.undo(),this}getCanUndo(){return this.history.getNumUndos()>0}redo(){return this.history.redo(),this}getCanRedo(){return this.history.getNumRedos()>0}mark(e,t,n){return this.history.mark(e,t,n),this}bail(){return this.history.bail(),this}bailToMark(e){return this.history.bailToMark(e),this}batch(e){return this.history.batch(e),this}_getArrowBindingsIndex(){return(e=>{const{store:t}=e,n=t.query.filterHistory("shape"),r=t.query.records("shape",(()=>({type:{eq:"arrow"}})));function i(){const e=r.get(),t={};for(const n of e){const{start:e,end:r}=n.props;if("binding"===e.type){const r=t[e.boundShapeId];r?r.push({arrowId:n.id,handleId:"start"}):t[e.boundShapeId]=[{arrowId:n.id,handleId:"start"}]}if("binding"===r.type){const e=t[r.boundShapeId];e?e.push({arrowId:n.id,handleId:"end"}):t[r.boundShapeId]=[{arrowId:n.id,handleId:"end"}]}}return t}return(0,o.EW)("arrowBindingsIndex",((t,r)=>{if((0,o._O)(t))return i();const s=t,a=n.getDiffSince(r);if(a===o.c2)return i();let c;function l(e){c||(c={...s}),c[e]?c[e]===s[e]&&(c[e]=[...c[e]]):c[e]=[]}function u(e,t,n){l(e),c[e]=c[e].filter((e=>e.arrowId!==t||e.handleId!==n)),0===c[e].length&&delete c[e]}function d(e,t,n){l(e),c[e].push({arrowId:t,handleId:n})}for(const t of a){for(const n of Object.values(t.added))if(e.isShapeOfType(n,"arrow")){const{start:e,end:t}=n.props;"binding"===e.type&&d(e.boundShapeId,n.id,"start"),"binding"===t.type&&d(t.boundShapeId,n.id,"end")}for(const[n,r]of Object.values(t.updated))if(e.isShapeOfType(n,"arrow")&&e.isShapeOfType(r,"arrow"))for(const e of["start","end"]){const t=n.props[e],i=r.props[e];"binding"===t.type&&"point"===i.type?u(t.boundShapeId,n.id,e):"point"===t.type&&"binding"===i.type?d(i.boundShapeId,r.id,e):"binding"===t.type&&"binding"===i.type&&t.boundShapeId!==i.boundShapeId&&(u(t.boundShapeId,n.id,e),d(i.boundShapeId,r.id,e))}for(const n of Object.values(t.removed))if(e.isShapeOfType(n,"arrow")){const{start:e,end:t}=n.props;"binding"===e.type&&u(e.boundShapeId,n.id,"start"),"binding"===t.type&&u(t.boundShapeId,n.id,"end")}}return c??s}))})(this)}getArrowsBoundTo(e){return this._getArrowBindingsIndex().get()[e]||o.Ml}getArrowInfoCache(){return this.store.createComputedCache("arrow infoCache",(e=>$c(e)?Zc(this,e):Wc(this,e)))}getArrowInfo(e){const t="string"==typeof e?e:e.id;return this.getArrowInfoCache().get(t)}annotateError(e,{origin:t,willCrashApp:n,tags:r,extras:i}){const o=this.createErrorAnnotations(t,n);return _(e,{tags:{...o.tags,...r},extras:{...o.extras,...i}}),n&&this.store.markAsPossiblyCorrupted(),this}createErrorAnnotations(e,t){try{const n=this.getEditingShapeId();return{tags:{origin:e,willCrashApp:t},extras:{activeStateNode:this.root.getPath(),selectedShapes:this.getSelectedShapes(),editingShape:n?this.getShape(n):void 0,inputs:this.inputs}}}catch{return{tags:{origin:e,willCrashApp:t},extras:{}}}}_crashingError=null;getCrashingError(){return this._crashingError}crash(e){return this._crashingError=e,this.store.markAsPossiblyCorrupted(),this.emit("crash",{error:e}),this}getPath(){return this.root.getPath().split("root.")[1]}isIn(e){const t=e.split(".").reverse();let n=this.root;for(;t.length>0;){const e=t.pop();if(!e)return!0;const r=n.getCurrent();if(r?.id!==e)return!1;if(0===t.length)return!0;n=r}return!1}isInAny(...e){return e.some((e=>this.isIn(e)))}setCurrentTool(e,t={}){return this.root.transition(e,t),this}getCurrentTool(){return this.root.getCurrent()}getCurrentToolId(){const e=this.getCurrentTool();return e?e.getCurrentToolIdMask()??e.id:""}getStateDescendant(e){const t=e.split(".").reverse();let n=this.root;for(;t.length>0;){const e=t.pop();if(!e)return n;const r=n.children?.[e];if(!r)return;n=r}return n}getDocumentSettings(){return this.store.get(bn)}updateDocumentSettings(e){return this.store.put([{...this.getDocumentSettings(),...e}]),this}getInstanceState(){return this.store.get(sn)}updateInstanceState(e,t){return this._updateInstanceState(e,{ephemeral:!0,squashing:!0,...t}),void 0!==e.isChangingStyle&&(clearTimeout(this._isChangingStyleTimeout),!0===e.isChangingStyle&&(this._isChangingStyleTimeout=setTimeout((()=>{this.updateInstanceState({isChangingStyle:!1},{ephemeral:!0})}),2e3))),this}_updateInstanceState=this.history.createCommand("updateInstanceState",((e,t)=>{const n=this.store.get(this.getInstanceState().id);return{data:{prev:n,next:{...n,...e}},ephemeral:!1,squashing:!1,...t}}),{do:({next:e})=>{this.store.put([e])},undo:({prev:e})=>{this.store.put([e])},squash:({prev:e},{next:t})=>({prev:e,next:t})});_isChangingStyleTimeout=-1;getOpenMenus(){return this.getInstanceState().openMenus}addOpenMenu(e){const t=new Set(this.getOpenMenus());return t.has(e)||(t.add(e),this.updateInstanceState({openMenus:[...t]})),this}deleteOpenMenu(e){const t=new Set(this.getOpenMenus());return t.has(e)&&(t.delete(e),this.updateInstanceState({openMenus:[...t]})),this}clearOpenMenus(){return this.getOpenMenus().length&&this.updateInstanceState({openMenus:[]}),this}getIsMenuOpen(){return this.getOpenMenus().length>0}setCursor=e=>(this.updateInstanceState({cursor:{...this.getInstanceState().cursor,...e}},{ephemeral:!0}),this);getPageStates(){return this._getPageStatesQuery().get()}_getPageStatesQuery(){return this.store.query.records("instance_page_state")}getCurrentPageState(){return this.store.get(this._getCurrentPageStateId())}_getCurrentPageStateId(){return dn.createId(this.getCurrentPageId())}updateCurrentPageState(e,t){return this._setInstancePageState(e,t),this}_setInstancePageState=this.history.createCommand("setInstancePageState",((e,t)=>({data:{prev:this.store.get(e.id??this.getCurrentPageState().id),partial:e},...t})),{do:({prev:e,partial:t})=>{this.store.update(e.id,(e=>({...e,...t})))},undo:({prev:e})=>{this.store.update(e.id,(()=>e))}});getSelectedShapeIds(){return this.getCurrentPageState().selectedShapeIds}getSelectedShapes(){const{selectedShapeIds:e}=this.getCurrentPageState();return u(e.map((e=>this.store.get(e))))}setSelectedShapes(e,t){const n=e.map((e=>"string"==typeof e?e:e.id));return this._setSelectedShapes(n,t),this}_setSelectedShapes=this.history.createCommand("setSelectedShapes",((e,t)=>{const{selectedShapeIds:n}=this.getCurrentPageState(),r=new Set(n);return e.length===r.size&&e.every((e=>r.has(e)))?null:{data:{selectedShapeIds:e,prevSelectedShapeIds:n},preservesRedoStack:!0,...t}}),{do:({selectedShapeIds:e})=>{this.store.put([{...this.getCurrentPageState(),selectedShapeIds:e}])},undo:({prevSelectedShapeIds:e})=>{this.store.put([{...this.getCurrentPageState(),selectedShapeIds:e}])},squash:({prevSelectedShapeIds:e},{selectedShapeIds:t})=>({selectedShapeIds:t,prevSelectedShapeIds:e})});isAncestorSelected(e){const t="string"==typeof e?e:e?.id??null,n=this.getShape(t);if(!n)return!1;const r=this.getSelectedShapeIds();return!!this.findShapeAncestor(n,(e=>r.includes(e.id)))}select(...e){const t="string"==typeof e[0]?e:e.map((e=>e.id));return this.setSelectedShapes(t),this}deselect(...e){const t="string"==typeof e[0]?e:e.map((e=>e.id)),n=this.getSelectedShapeIds();return n.length>0&&t.length>0&&this.setSelectedShapes(n.filter((e=>!t.includes(e)))),this}selectAll(){const e=this.getSortedChildIdsForParent(this.getCurrentPageId());return e.length<=0||this.setSelectedShapes(this._getUnlockedShapeIds(e)),this}selectNone(){return this.getSelectedShapeIds().length>0&&this.setSelectedShapes([]),this}getOnlySelectedShape(){const e=this.getSelectedShapes();return 1===e.length?e[0]:null}getSelectionPageBounds(){const e=this.getCurrentPageState().selectedShapeIds;return 0===e.length?null:jo.Common(u(e.map((e=>this.getShapePageBounds(e)))))}getSelectionRotation(){const e=this.getSelectedShapeIds();if(0===e.length)return 0;if(1===e.length)return this.getShapePageTransform(this.getSelectedShapeIds()[0]).rotation();const t=e.map((e=>this.getShapePageTransform(e).rotation()));return t.every((e=>Math.abs(e-t[0])<Math.PI/180))?this.getShapePageTransform(e[0]).rotation():0}getSelectionRotatedPageBounds(){const e=this.getSelectedShapeIds();if(0===e.length)return;const t=this.getSelectionRotation();if(0===t)return this.getSelectionPageBounds();if(1===e.length){const t=this.getShapeGeometry(e[0]).bounds.clone(),n=this.getShapePageTransform(e[0]);return t.point=n.applyToPoint(t.point),t}const n=jo.FromPoints(this.getSelectedShapeIds().flatMap((e=>{const t=this.getShapePageTransform(e);return t?t.applyToPoints(this.getShapeGeometry(e).vertices):[]})).map((e=>ti.Rot(e,-t))));return n.point=n.point.rot(t),n}getFocusedGroupId(){return this.getCurrentPageState().focusedGroupId??this.getCurrentPageId()}getFocusedGroup(){const e=this.getFocusedGroupId();return e?this.getShape(e):void 0}setFocusedGroup(e){const t="string"==typeof e?e:e?.id??null;if(null!==t){const e=this.getShape(t);if(!e)throw Error(`Editor.setFocusedGroup: Shape with id ${t} does not exist`);if(!this.isShapeOfType(e,"group"))throw Error(`Editor.setFocusedGroup: Cannot set focused group to shape of type ${e.type}`)}return t===this.getFocusedGroupId()||this._setFocusedGroupId(t),this}_setFocusedGroupId=this.history.createCommand("setFocusedGroupId",(e=>{const t=this.getCurrentPageState().focusedGroupId;if(t!==e)return{data:{prev:t,next:e},preservesRedoStack:!0,squashing:!0}}),{do:({next:e})=>{this.store.update(this.getCurrentPageState().id,(t=>({...t,focusedGroupId:e})))},undo:({prev:e})=>{this.store.update(this.getCurrentPageState().id,(t=>({...t,focusedGroupId:e})))},squash:({prev:e},{next:t})=>({prev:e,next:t})});popFocusedGroupId(){const e=this.getFocusedGroup();if(e){const t=this.findShapeAncestor(e,(e=>this.isShapeOfType(e,"group")));this.setFocusedGroup(t?.id??null),this.select(e.id)}else this.setFocusedGroup(null),this.selectNone();return this}getEditingShapeId(){return this.getCurrentPageState().editingShapeId}getEditingShape(){const e=this.getEditingShapeId();return e?this.getShape(e):void 0}setEditingShape(e){const t="string"==typeof e?e:e?.id??null;if(t!==this.getEditingShapeId()){if(t){const e=this.getShape(t);if(e&&this.getShapeUtil(e).canEdit(e))return this._setInstancePageState({editingShapeId:t}),this}this._setInstancePageState({editingShapeId:null})}return this}getHoveredShapeId(){return this.getCurrentPageState().hoveredShapeId}getHoveredShape(){const e=this.getHoveredShapeId();return e?this.getShape(e):void 0}setHoveredShape(e){const t="string"==typeof e?e:e?.id??null;return t===this.getHoveredShapeId()||this.updateCurrentPageState({hoveredShapeId:t},{ephemeral:!0}),this}getHintingShapeIds(){return this.getCurrentPageState().hintingShapeIds}getHintingShape(){return u(this.getHintingShapeIds().map((e=>this.getShape(e))))}setHintingShapes(e){const t="string"==typeof e[0]?e:e.map((e=>e.id));return this.updateCurrentPageState({hintingShapeIds:l(t)},{ephemeral:!0}),this}getErasingShapeIds(){return this.getCurrentPageState().erasingShapeIds}getErasingShapes(){return u(this.getErasingShapeIds().map((e=>this.getShape(e))))}setErasingShapes(e){const t="string"==typeof e[0]?e:e.map((e=>e.id));t.sort();const n=this.getErasingShapeIds();if(t.length===n.length){for(let e=0;e<t.length;e++)if(t[e]!==n[e]){this._setInstancePageState({erasingShapeIds:t},{ephemeral:!0});break}}else this._setInstancePageState({erasingShapeIds:t},{ephemeral:!0});return this}getCroppingShapeId(){return this.getCurrentPageState().croppingShapeId}setCroppingShape(e){const t="string"==typeof e?e:e?.id??null;if(t!==this.getCroppingShapeId())if(t){const e=this.getShape(t),n=this.getShapeUtil(e);e&&n.canCrop(e)&&this.updateCurrentPageState({croppingShapeId:t})}else this.updateCurrentPageState({croppingShapeId:null});return this}getCameraId(){return Wt.createId(this.getCurrentPageId())}getCamera(){return this.store.get(this.getCameraId())}getZoomLevel(){return this.getCamera().z}_setCamera(e){const t=this.getCamera();return t.x===e.x&&t.y===e.y&&t.z===e.z||this.batch((()=>{this.store.put([{...t,...e}]);const{currentScreenPoint:n}=this.inputs,{screenBounds:r}=this.store.unsafeGetWithoutCapture(sn);this.dispatch({type:"pointer",target:"canvas",name:"pointer_move",point:ti.AddXY(n,r.x,r.y),pointerId:-10,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,shiftKey:this.inputs.shiftKey,button:0,isPen:this.getInstanceState().isPenMode??!1}),this._tickCameraState()})),this}setCamera(e,t){const n=Number.isFinite(e.x)?e.x:0,r=Number.isFinite(e.y)?e.y:0,i=Number.isFinite(e.z)?e.z:this.getZoomLevel();if(this.stopCameraAnimation(),this.getInstanceState().followingUserId&&this.stopFollowingUser(),t){const{width:e,height:o}=this.getViewportScreenBounds();return this._animateToViewport(new jo(-n,-r,e/i,o/i),t)}return this._setCamera({x:n,y:r,z:i}),this}centerOnPoint(e,t){if(!this.getInstanceState().canMoveCamera)return this;const{width:n,height:r}=this.getViewportPageBounds();return this.setCamera({x:-(e.x-n/2),y:-(e.y-r/2),z:this.getCamera().z},t),this}zoomToContent(){const e=this.getSelectionPageBounds()??this.getCurrentPageBounds();return e&&this.zoomToBounds(e,{targetZoom:Math.min(1,this.getZoomLevel()),duration:220}),this}zoomToFit(e){if(!this.getInstanceState().canMoveCamera)return this;const t=[...this.getCurrentPageShapeIds()];if(t.length<=0)return this;const n=jo.Common(u(t.map((e=>this.getShapePageBounds(e)))));return this.zoomToBounds(n,e),this}resetZoom(e=this.getViewportScreenCenter(),t){if(!this.getInstanceState().canMoveCamera)return this;const{x:n,y:r,z:i}=this.getCamera(),{x:o,y:s}=e;return this.setCamera({x:n+(o/1-o)-(o/i-o),y:r+(s/1-s)-(s/i-s),z:1},t),this}zoomIn(e=this.getViewportScreenCenter(),t){if(!this.getInstanceState().canMoveCamera)return this;const{x:n,y:r,z:i}=this.getCamera();let o=Fi;for(let e=1;e<Qi.length;e++){const t=Qi[e-1],n=Qi[e];if(!(n-i<=(n-t)/2)){o=n;break}}const{x:s,y:a}=e;return this.setCamera({x:n+(s/o-s)-(s/i-s),y:r+(a/o-a)-(a/i-a),z:o},t),this}zoomOut(e=this.getViewportScreenCenter(),t){if(!this.getInstanceState().canMoveCamera)return this;const{x:n,y:r,z:i}=this.getCamera();let o=zi;for(let e=Qi.length-1;e>0;e--){const t=Qi[e-1],n=Qi[e];if(!(n-i>=(n-t)/2)){o=t;break}}const{x:s,y:a}=e;return this.setCamera({x:n+(s/o-s)-(s/i-s),y:r+(a/o-a)-(a/i-a),z:o},t),this}zoomToSelection(e){if(!this.getInstanceState().canMoveCamera)return this;const t=this.getSelectionPageBounds();return t?(this.zoomToBounds(t,{targetZoom:Math.max(1,this.getZoomLevel()),...e}),this):this}panZoomIntoView(e,t){if(!this.getInstanceState().canMoveCamera)return this;if(e.length<=0)return this;const n=jo.Common(u(e.map((e=>this.getShapePageBounds(e))))),r=this.getViewportPageBounds();if(r.h<n.h||r.w<n.w)return this.zoomToBounds(n,{targetZoom:this.getCamera().z,...t}),this;{const e=this.getViewportPageBounds().clone().expandBy(-32/this.getZoomLevel());let r=0,i=0;e.maxY<n.maxY?i=e.maxY-n.maxY:e.minY>n.minY&&(i=e.minY-n.minY),e.maxX<n.maxX?r=e.maxX-n.maxX:e.minX>n.minX&&(r=e.minX-n.minX);const o=this.getCamera();this.setCamera({x:o.x+r,y:o.y+i,z:o.z},t)}return this}zoomToBounds(e,t){if(!this.getInstanceState().canMoveCamera)return this;const n=this.getViewportScreenBounds(),r=t?.inset??Math.min(256,.28*n.width);let i=li(Math.min((n.width-r)/e.width,(n.height-r)/e.height),zi,Fi);return void 0!==t?.targetZoom&&(i=Math.min(t.targetZoom,i)),this.setCamera({x:-e.minX+(n.width-e.width*i)/2/i,y:-e.minY+(n.height-e.height*i)/2/i,z:i},t),this}pan(e,t){if(!this.getInstanceState().canMoveCamera)return this;const{x:n,y:r,z:i}=this.getCamera();return this.setCamera({x:n+e.x/i,y:r+e.y/i,z:i},t),this}stopCameraAnimation(){return this.emit("stop-camera-animation"),this}_viewportAnimation=null;_animateViewport(e){if(!this._viewportAnimation)return;const t=()=>{this.removeListener("tick",this._animateViewport),this.removeListener("stop-camera-animation",t),this._viewportAnimation=null};this.once("stop-camera-animation",t),this._viewportAnimation.elapsed+=e;const{elapsed:n,easing:r,duration:i,start:o,end:s}=this._viewportAnimation;if(n>i)return this._setCamera({x:-s.x,y:-s.y,z:this.getViewportScreenBounds().width/s.width}),void t();const a=r(1-(i-n)/i),c=o.minX+(s.minX-o.minX)*a,l=o.minY+(s.minY-o.minY)*a,u=o.maxX+(s.maxX-o.maxX)*a;this._setCamera({x:-c,y:-l,z:this.getViewportScreenBounds().width/(u-c)})}_animateToViewport(e,t={}){const{duration:n=0,easing:r=ei.easeInOutCubic}=t,i=this.user.getAnimationSpeed(),o=this.getViewportPageBounds();return this.stopCameraAnimation(),this.getInstanceState().followingUserId&&this.stopFollowingUser(),0===n||0===i?this._setCamera({x:-e.x,y:-e.y,z:this.getViewportScreenBounds().width/e.width}):(this._viewportAnimation={elapsed:0,duration:n/i,easing:r,start:o.clone(),end:e.clone()},this.addListener("tick",this._animateViewport),this)}slideCamera(e={}){if(!this.getInstanceState().canMoveCamera)return this;if(this.stopCameraAnimation(),0===this.user.getAnimationSpeed())return this;const{speed:t,friction:n,direction:r,speedThreshold:i=.01}=e;let o=Math.min(t,1);const s=()=>{this.removeListener("tick",a),this.removeListener("stop-camera-animation",s)};this.once("stop-camera-animation",s);const a=e=>{const{x:t,y:a,z:c}=this.getCamera(),l=ti.Mul(r,o*e/c);o*=1-n,o<i?s():this._setCamera({x:t+l.x,y:a+l.y,z:c})};return this.addListener("tick",a),this}animateToUser(e){const t=[...this.store.query.records("instance_presence",(()=>({userId:{eq:e}}))).get()].sort(((e,t)=>e.lastActivityTimestamp-t.lastActivityTimestamp)).pop();return t?(this.batch((()=>{null!==this.getInstanceState().followingUserId&&this.stopFollowingUser();const n=t.currentPageId===this.getCurrentPageId();n||this.setCurrentPage(t.currentPageId);const r=n?{duration:500}:void 0;this.centerOnPoint(t.cursor,r);const{highlightedUserIds:i}=this.getInstanceState();this.updateInstanceState({highlightedUserIds:[...i,e]}),setTimeout((()=>{const t=[...this.getInstanceState().highlightedUserIds],n=t.indexOf(e);n<0||(t.splice(n,1),this.updateInstanceState({highlightedUserIds:t}))}),3e3)})),this):this}animateToShape(e,t=qi){if(!this.getInstanceState().canMoveCamera)return this;const n=this.getViewportScreenBounds().clone().expandBy(-32),r=n.width/n.height,i=this.getShapePageBounds(e);if(!i)return this;const o=i.width/i.height,s=i.clone(),a=i.width/n.width;return s.width+=(n.minX+n.maxX)*a,s.height+=(n.minY+n.maxY)*a,s.x-=n.minX*a,s.y-=n.minY*a,o>r?(s.height=i.width/r,s.y-=(s.height-i.height)/2):(s.width=i.height*r,s.x-=(s.width-i.width)/2),this._animateToViewport(s,t)}_willSetInitialBounds=!0;_wasInset=!1;updateViewportScreenBounds(e,t=!1){e.width=Math.max(e.width,1),e.height=Math.max(e.height,1);const n=[0!==e.minY,document.body.scrollWidth!==e.maxX,document.body.scrollHeight!==e.maxY,0!==e.minX],r=e.equals(this.getViewportScreenBounds()),{_willSetInitialBounds:i}=this;if(r)this._willSetInitialBounds=!1;else if(i)this._willSetInitialBounds=!1,this.updateInstanceState({screenBounds:e.toJson(),insets:n},{squashing:!0,ephemeral:!0});else if(t&&!this.getInstanceState().followingUserId){const t=this.getViewportPageCenter();this.updateInstanceState({screenBounds:e.toJson(),insets:n},{squashing:!0,ephemeral:!0}),this.centerOnPoint(t)}else this.updateInstanceState({screenBounds:e.toJson(),insets:n},{squashing:!0,ephemeral:!0});return this._tickCameraState(),this.updateRenderingBounds(),this}getViewportScreenBounds(){const{x:e,y:t,w:n,h:r}=this.getInstanceState().screenBounds;return new jo(e,t,n,r)}getViewportScreenCenter(){const e=this.getViewportScreenBounds();return new ti(e.midX-e.minX,e.midY-e.minY)}getViewportPageBounds(){const{w:e,h:t}=this.getViewportScreenBounds(),{x:n,y:r,z:i}=this.getCamera();return new jo(-n,-r,e/i,t/i)}getViewportPageCenter(){return this.getViewportPageBounds().center}screenToPage(e){const{screenBounds:t}=this.store.unsafeGetWithoutCapture(sn),{x:n,y:r,z:i=1}=this.getCamera();return{x:(e.x-t.x)/i-n,y:(e.y-t.y)/i-r,z:e.z??.5}}pageToScreen(e){const{screenBounds:t}=this.store.unsafeGetWithoutCapture(sn),{x:n,y:r,z:i=1}=this.getCamera();return{x:(e.x+n)*i+t.x,y:(e.y+r)*i+t.y,z:e.z??.5}}startFollowingUser(e){const t=this.store.query.records("instance_presence",(()=>({userId:{eq:e}}))),n=this.user.getId();if(n||console.warn("You should set the userId for the current instance before following a user"),t.get().some((e=>e.followingUserId===n)))return this;(0,o.hL)((()=>{this.stopFollowingUser(),this.updateInstanceState({followingUserId:e},{ephemeral:!0})}));const r=()=>{this.removeListener("frame",s),this.removeListener("stop-following",r)};let i=!1;const s=()=>{const r=[...t.get()].sort(((e,t)=>e.lastActivityTimestamp-t.lastActivityTimestamp)).pop();if(!r)return void this.stopFollowingUser();const o=r.currentPageId===this.getCurrentPageId(),s=o?.5:1;if(!o)return this.stopFollowingUser(),this.setCurrentPage(r.currentPageId),void this.startFollowingUser(e);const{center:a,width:c,height:l}=this.getViewportPageBounds(),u=jo.From(r.screenBounds),d=u.width/r.camera.z,h=u.height/r.camera.z,p=new ti(d/2-r.camera.x,h/2-r.camera.y),f=c+(d-c)*s,m=l+(h-l)*s,g=r.followingUserId===n?l/m:Math.min(c/f,l/m),y=li(this.getCamera().z*g,zi,Fi),v=this.getViewportScreenBounds().w/y,b=this.getViewportScreenBounds().h/y,x=p.sub(a),O=ti.Add(a,ti.Mul(x,s)),w=ti.Sub(O,a).len(),S=Math.abs(y-this.getCamera().z);w<.1&&S<.005?i=!0:i&&w<.2&&S<.05||(i=!1,this.stopCameraAnimation(),this._setCamera({x:-(O.x-v/2),y:-(O.y-b/2),z:y}))};return this.once("stop-following",r),this.addListener("frame",s),this}stopFollowingUser(){return this.updateInstanceState({followingUserId:null},{ephemeral:!0}),this.emit("stop-following"),this}_cameraState=(0,o.eU)("camera state","idle");getCameraState(){return this._cameraState.get()}_cameraStateTimeoutRemaining=0;_lastUpdateRenderingBoundsTimestamp=Date.now();_decayCameraStateTimeout=e=>{this._cameraStateTimeoutRemaining-=e,this._cameraStateTimeoutRemaining<=0&&(this.off("tick",this._decayCameraStateTimeout),this._cameraState.set("idle"),this.updateRenderingBounds())};_tickCameraState=()=>{this._cameraStateTimeoutRemaining=64;const e=Date.now();"idle"===this._cameraState.__unsafe__getWithoutCapture()?(this._lastUpdateRenderingBoundsTimestamp=e,this._cameraState.set("moving"),this.on("tick",this._decayCameraStateTimeout)):e-this._lastUpdateRenderingBoundsTimestamp>620&&this.updateRenderingBounds()};getUnorderedRenderingShapes(e){const t=[];let n=2*$i,r=$i;const i=this.getEditingShapeId(),o=this.getSelectedShapeIds(),s=this.getErasingShapeIds(),a=this.getRenderingBoundsExpanded(),c=Number.isFinite(this.renderingBoundsMargin),l=(u,d,h)=>{const p=this.getShape(u);if(!p)return;d*=p.opacity;let f=!1,m=!1;const g=this.getShapeUtil(p),y=this.getShapeMaskedPageBounds(u);e&&(m=!h&&s.includes(u),m&&(d*=.32),f=c&&g.canUnmount(p)&&i!==u&&(void 0===y||!a.includes(y)&&!o.includes(u))),t.push({id:u,shape:p,util:g,index:n,backgroundIndex:r,opacity:d,isCulled:f,maskedPageBounds:y}),n+=1,r+=1;const v=this.getSortedChildIdsForParent(u);if(!v.length)return;let b=null;g.providesBackgroundForChildren(p)&&(b=r,r=n,n+=$i);for(const e of v)l(e,d,h||m);null!==b&&(r=b)},u=e?[this.getCurrentPage()]:this.getPages();for(const e of u)for(const t of this.getSortedChildIdsForParent(e.id))l(t,1,!1);return t}getRenderingShapes(){return this.getUnorderedRenderingShapes(!0).sort(_e)}getRenderingBounds(){return this._renderingBounds.get()}_renderingBounds=(0,o.eU)("rendering viewport",new jo);getRenderingBoundsExpanded(){return this._renderingBoundsExpanded.get()}_renderingBoundsExpanded=(0,o.eU)("rendering viewport expanded",new jo);updateRenderingBounds(){const e=this.getViewportPageBounds();return e.equals(this._renderingBounds.__unsafe__getWithoutCapture())||(this._renderingBounds.set(e.clone()),Number.isFinite(this.renderingBoundsMargin)?this._renderingBoundsExpanded.set(e.clone().expandBy(this.renderingBoundsMargin/this.getZoomLevel())):this._renderingBoundsExpanded.set(e)),this}renderingBoundsMargin=100;_getAllPagesQuery(){return this.store.query.records("page")}getPages(){return this._getAllPagesQuery().get().sort(ke)}getCurrentPage(){return this.getPage(this.getCurrentPageId())}getCurrentPageId(){return this.getInstanceState().currentPageId}getPage(e){return this.store.get("string"==typeof e?e:e.id)}_currentPageShapeIds;getCurrentPageShapeIds(){return this._currentPageShapeIds.get()}getPageShapeIds(e){const t="string"==typeof e?e:e.id,n=this.store.query.exec("shape",{parentId:{eq:t}});return this.getShapeAndDescendantIds(n.map((e=>e.id)))}setCurrentPage(e,t){const n="string"==typeof e?e:e.id;return this._setCurrentPageId(n,t),this}_setCurrentPageId=this.history.createCommand("setCurrentPage",((e,t)=>{if(this.store.has(e))return this.stopFollowingUser(),{data:{toId:e,fromId:this.getCurrentPageId()},squashing:!0,preservesRedoStack:!0,...t};console.error("Tried to set the current page id to a page that doesn't exist.")}),{do:({toId:e})=>{if(this.store.has(e)){if(!this.getPageStates().find((t=>t.pageId===e))){const t=Wt.create({id:Wt.createId(e)});this.store.put([t,dn.create({id:dn.createId(e),pageId:e})])}this.store.put([{...this.getInstanceState(),currentPageId:e}]),this.updateRenderingBounds()}},undo:({fromId:e})=>{this.store.has(e)&&(this.store.put([{...this.getInstanceState(),currentPageId:e}]),this.updateRenderingBounds())},squash:({fromId:e},{toId:t})=>({toId:t,fromId:e})});updatePage(e,t){return this._updatePage(e,t),this}_updatePage=this.history.createCommand("updatePage",((e,t)=>{if(this.getInstanceState().isReadonly)return null;const n=this.getPage(e.id);return n?{data:{prev:n,partial:e},...t}:null}),{do:({partial:e})=>{this.store.update(e.id,(t=>({...t,...e})))},undo:({prev:e,partial:t})=>{this.store.update(t.id,(()=>e))},squash:(e,t)=>({prev:{...e.prev,...t.prev},partial:t.partial})});createPage(e){return this._createPage(e),this}_createPage=this.history.createCommand("createPage",(e=>{if(this.getInstanceState().isReadonly)return null;if(this.getPages().length>=Ri)return null;const t=this.getPages(),n=Ya(e.name??"Page 1",t.map((e=>e.name)));let r=e.index;r&&!t.some((e=>e.index===r))||(r=Oe(t[t.length-1].index));const i=nn.create({meta:{},...e,name:n,index:r}),o=Wt.create({id:Wt.createId(i.id)});return{data:{newPage:i,newTabPageState:dn.create({id:dn.createId(i.id),pageId:i.id}),newCamera:o}}}),{do:({newPage:e,newTabPageState:t,newCamera:n})=>{this.store.put([e,n,t])},undo:({newPage:e,newTabPageState:t,newCamera:n})=>{1!==this.getPages().length&&this.store.remove([t.id,e.id,n.id])}});deletePage(e){const t="string"==typeof e?e:e.id;return this._deletePage(t),this}_deletePage=this.history.createCommand("delete_page",(e=>{if(this.getInstanceState().isReadonly)return null;const t=this.getPages();if(1===t.length)return null;const n=this.getPage(e),r=this.getPageStates().filter((t=>t.pageId===e));if(!n)return null;if(e===this.getCurrentPageId()){const n=t.findIndex((t=>t.id===e)),r=t[n-1]??t[n+1];this.setCurrentPage(r.id)}return{data:{id:e,deletedPage:n,deletedPageStates:r}}}),{do:({deletedPage:e,deletedPageStates:t})=>{const n=this.getPages();if(1!==n.length){if(e.id===this.getCurrentPageId()){const t=n.findIndex((t=>t.id===e.id)),r=n[t-1]??n[t+1];this.setCurrentPage(r.id)}this.store.remove(t.map((e=>e.id))),this.store.remove([e.id]),this.updateRenderingBounds()}},undo:({deletedPage:e,deletedPageStates:t})=>{this.store.put([e]),this.store.put(t),this.updateRenderingBounds()}});duplicatePage(e,t=nn.createId()){if(this.getPages().length>=Ri)return this;const n="string"==typeof e?e:e.id,r=this.getPage(n);if(!r)return this;const i={...this.getCamera()},o=this.getContentFromCurrentPage(this.getSortedChildIdsForParent(r.id));return this.batch((()=>{const e=this.getPages(),n=xe(r.index,e[e.indexOf(r)+1]?.index);if(this.createPage({name:r.name+" Copy",id:t,index:n}),this.setCurrentPage(t),this.setCamera(i),o)return this.putContentOntoCurrentPage(o)})),this}renamePage(e,t,n){const r="string"==typeof e?e:e.id;return this.getInstanceState().isReadonly||this.updatePage({id:r,name:t},n),this}_getAllAssetsQuery(){return this.store.query.records("asset")}getAssets(){return this._getAllAssetsQuery().get()}createAssets(e){return this._createAssets(e),this}_createAssets=this.history.createCommand("createAssets",(e=>this.getInstanceState().isReadonly||e.length<=0?null:{data:{assets:e}}),{do:({assets:e})=>{this.store.put(e)},undo:({assets:e})=>{this.store.remove(e.map((e=>e.id)))}});updateAssets(e){return this._updateAssets(e),this}_updateAssets=this.history.createCommand("updateAssets",(e=>{if(!(this.getInstanceState().isReadonly||e.length<=0))return{data:{snapshots:{},assets:e}}}),{do:({assets:e,snapshots:t})=>{this.store.put(e.map((e=>{const n=this.store.get(e.id);return t[e.id]=n,{...n,...e}})))},undo:({snapshots:e})=>{this.store.put(Object.values(e))}});deleteAssets(e){const t="string"==typeof e[0]?e:e.map((e=>e.id));return this._deleteAssets(t),this}_deleteAssets=this.history.createCommand("deleteAssets",(e=>{if(this.getInstanceState().isReadonly)return;if(e.length<=0)return;const t=u(e.map((e=>this.store.get(e))));return{data:{ids:e,prev:t}}}),{do:({ids:e})=>{this.store.remove(e)},undo:({prev:e})=>{this.store.put(e)}});getAsset(e){return this.store.get("string"==typeof e?e:e.id)}_getShapeGeometryCache(){return this.store.createComputedCache("bounds",(e=>this.getShapeUtil(e).getGeometry(e)),((e,t)=>e.props===t.props))}getShapeGeometry(e){return this._getShapeGeometryCache().get("string"==typeof e?e:e.id)}_getShapeHandlesCache(){return this.store.createComputedCache("handles",(e=>this.getShapeUtil(e).getHandles?.(e)))}getShapeHandles(e){return this._getShapeHandlesCache().get("string"==typeof e?e:e.id)}getShapeLocalTransform(e){const t="string"==typeof e?e:e.id,n=this.getShape(t);if(!n)throw Error("Editor.getTransform: shape not found");return $o.Identity().translate(n.x,n.y).rotate(n.rotation)}_getShapePageTransformCache(){return this.store.createComputedCache("pageTransformCache",(e=>{if(rn(e.parentId))return this.getShapeLocalTransform(e);const t=this._getShapePageTransformCache().get(e.parentId)??$o.Identity();return $o.Compose(t,this.getShapeLocalTransform(e))}))}getShapeParentTransform(e){const t="string"==typeof e?e:e.id,n=this.getShape(t);return!n||rn(n.parentId)?$o.Identity():this._getShapePageTransformCache().get(n.parentId)??$o.Identity()}getShapePageTransform(e){const t="string"==typeof e?e:this.getShape(e).id;return this._getShapePageTransformCache().get(t)??$o.Identity()}_getShapePageBoundsCache(){return this.store.createComputedCache("pageBoundsCache",(e=>{const t=this._getShapePageTransformCache().get(e.id);return t?jo.FromPoints($o.applyToPoints(t,this.getShapeGeometry(e).vertices)):new jo}))}getShapePageBounds(e){return this._getShapePageBoundsCache().get("string"==typeof e?e:e.id)}_getShapeClipPathCache(){return this.store.createComputedCache("clipPathCache",(e=>{const t=this._getShapeMaskCache().get(e.id);if(!t)return;if(0===t.length)return"polygon(0px 0px, 0px 0px, 0px 0px)";const n=this._getShapePageTransformCache().get(e.id);return n?`polygon(${$o.applyToPoints($o.Inverse(n),t).map((e=>`${e.x}px ${e.y}px`)).join(",")})`:void 0}))}getShapeClipPath(e){return this._getShapeClipPathCache().get("string"==typeof e?e:e.id)}_getShapeMaskCache(){return this.store.createComputedCache("pageMaskCache",(e=>{if(rn(e.parentId))return;const t=this.getShapeAncestors(e.id).filter((e=>this.isShapeOfType(e,"frame")));return 0!==t.length?t.map((e=>this._getShapePageTransformCache().get(e.id).applyToPoints(this.getShapeGeometry(e).vertices))).reduce(((e,t)=>{if(!t||!e)return;const n=ja(e,t);return n?n.map(ti.Cast):[]})):void 0}))}getShapeMask(e){return this._getShapeMaskCache().get("string"==typeof e?e:e.id)}getShapeMaskedPageBounds(e){"string"!=typeof e&&(e=e.id);const t=this._getShapePageBoundsCache().get(e);if(!t)return;const n=this._getShapeMaskCache().get(e);if(n){if(0===n.length)return;const{corners:e}=t;if(e.every(((e,t)=>e&&ti.Equals(e,n[t]))))return t.clone();const r=ja(n,e);if(!r)return;return jo.FromPoints(r)}return t}getShapeAncestors(e,t=[]){const n="string"==typeof e?e:e.id,r=this.getShape(n);if(!r)return t;const i=r.parentId;if(rn(i))return t.reverse(),t;const o=this.store.get(i);return o?(t.push(o),this.getShapeAncestors(o,t)):t}findShapeAncestor(e,t){const n="string"==typeof e?e:e.id,r=this.getShape(n);if(!r)return;const i=r.parentId;if(rn(i))return;const o=this.getShape(i);return o?t(o)?o:this.findShapeAncestor(o,t):void 0}hasAncestor(e,t){const n="string"==typeof e?e:e?.id,r=n&&this.getShape(n);return!!r&&(r.parentId===t||this.hasAncestor(this.getShapeParent(r),t))}findCommonAncestor(e,t){if(0===e.length)return;const n=u(("string"==typeof e[0]?e:e.map((e=>e.id))).map((e=>this.getShape(e))));if(1===n.length){const e=n[0].parentId;if(rn(e))return;return t?this.findShapeAncestor(n[0],t)?.id:e}const[r,...i]=n;let o=this.getShapeParent(r);for(;o;)if(!t||t(o)){if(i.every((e=>this.hasAncestor(e,o.id))))return o.id;o=this.getShapeParent(o)}else o=this.getShapeParent(o)}isShapeOrAncestorLocked(e){const t="string"==typeof e?this.getShape(e):e;return void 0!==t&&(!!t.isLocked||this.isShapeOrAncestorLocked(this.getShapeParent(t)))}getCurrentPageBounds(){let e;return this.getCurrentPageShapeIds().forEach((t=>{const n=this.getShapeMaskedPageBounds(t);n&&(e=e?e.expand(n):n.clone())})),e}getSelectedShapeAtPoint(e){const t=this.getSelectedShapeIds();return this.getCurrentPageShapesSorted().filter((e=>"group"!==e.type&&t.includes(e.id))).reverse().find((t=>this.isPointInShape(t,e,{hitInside:!0,margin:0})))}getShapeAtPoint(e,t={}){const n=this.getZoomLevel(),r=this.getViewportPageBounds(),{filter:i,margin:o=0,hitLabels:s=!1,hitInside:a=!1,hitFrameInside:c=!1}=t;let l=1/0,u=null,d=1/0,h=null;const p=(t.renderingOnly?this.getCurrentPageRenderingShapesSorted():this.getCurrentPageShapesSorted()).filter((t=>{if(this.isShapeOfType(t,"group"))return!1;const n=this.getShapeMask(t);return!(n&&!Ei(e,n))&&(!i||i(t))}));for(let t=p.length-1;t>=0;t--){const i=p[t],f=this.getShapeGeometry(i),m=f instanceof No,g=this.getPointInShapeSpace(i,e);if((this.isShapeOfType(i,"arrow")||this.isShapeOfType(i,"geo")&&"none"===i.props.fill)&&i.props.text.trim())for(const e of f.children)if(e.isLabel&&e.isPointInBounds(g))return i;if(this.isShapeOfType(i,"frame")){const e=f.distanceToPoint(g,a);if(Math.abs(e)<=o)return h||i;if(f.hitTestPoint(g,0,!0))return h||u||(c?i:void 0);continue}let y;if(m){let e=1/0;for(const t of f.children){if(t.isLabel&&!s)continue;const n=t.distanceToPoint(g,a);n<e&&(e=n)}y=e}else y=0===o&&(f.bounds.w<1||f.bounds.h<1)||f.bounds.containsPoint(g,o)?f.distanceToPoint(g,a):1/0;if(f.isClosed){if(y<=o){if(f.isFilled||m&&f.children[0].isFilled)return h||i;if(this.getShapePageBounds(i).contains(r))continue;if(Math.abs(y)<o)Math.abs(y)<d&&(d=Math.abs(y),h=i);else if(!h){const{area:e}=f;e<l&&(l=e,u=i)}}}else if(y<Hi/n)return i}return h||u||void 0}getShapesAtPoint(e,t={}){return this.getCurrentPageShapes().filter((n=>this.isPointInShape(n,e,t)))}isPointInShape(e,t,n={}){const{hitInside:r=!1,margin:i=0}=n,o="string"==typeof e?e:e.id,s=this.getShapeMask(o);return!(s&&!Ei(t,s))&&this.getShapeGeometry(o).hitTestPoint(this.getPointInShapeSpace(e,t),i,r)}getPointInShapeSpace(e,t){const n="string"==typeof e?e:e.id;return this._getShapePageTransformCache().get(n).clone().invert().applyToPoint(t)}getPointInParentSpace(e,t){const n="string"==typeof e?e:e.id,r=this.getShape(n);if(!r)return new ti(0,0);if(rn(r.parentId))return ti.From(t);const i=this.getShapePageTransform(r.parentId);return i?i.clone().invert().applyToPoint(t):ti.From(t)}getCurrentPageShapes(){return Array.from(this.getCurrentPageShapeIds(),(e=>this.store.get(e)))}getCurrentPageShapesSorted(){const e=new Set(this.getCurrentPageShapes().sort(ke)),t=[];function n(r){t.push(r),e.delete(r),e.forEach((e=>{e.parentId===r.id&&n(e)}))}return e.forEach((e=>{Rn(this.getShape(e.parentId))||n(e)})),t}getCurrentPageRenderingShapesSorted(){return this.getRenderingShapes().filter((({isCulled:e})=>!e)).sort(((e,t)=>e.index-t.index)).map((({shape:e})=>e))}isShapeOfType(e,t){return("string"==typeof e?this.getShape(e):e).type===t}getShape(e){const t="string"==typeof e?e:e.id;if(Nn(t))return this.store.get(t)}getShapeParent(e){const t="string"==typeof e?e:e?.id;if(!t)return;const n=this.getShape(t);return void 0!==n&&Nn(n.parentId)?this.store.get(n.parentId):void 0}getShapeNearestSibling(e,t){if(t)return t.parentId===e.parentId?t:this.findShapeAncestor(t,(t=>t.parentId===e.parentId))}isShapeInPage(e,t=this.getCurrentPageId()){const n="string"==typeof e?e:e.id,r=this.getShape(n);if(!r)return!1;let i=!1;if(r.parentId===t)i=!0;else{let e=this.getShape(r.parentId);e:for(;e;){if(e.parentId===t){i=!0;break e}e=this.getShape(e.parentId)}}return i}getAncestorPageId(e){const t="string"==typeof e?e:e?.id,n=t&&this.getShape(t);if(n)return rn(n.parentId)?n.parentId:this.getAncestorPageId(this.getShape(n.parentId))}_parentIdsToChildIds;reparentShapes(e,t,n){const r="string"==typeof e[0]?e:e.map((e=>e.id));if(0===r.length)return this;const i=[],o=rn(t)?$o.Identity():this.getShapePageTransform(t),s=o.rotation();let a=[];const c=u(this.getSortedChildIdsForParent(t).map((e=>this.getShape(e))));if(n){const e=c.find((e=>e.index===n));if(e){const t=c[c.indexOf(e)+1];a=t?ye(n,t.index,r.length):ve(n,r.length)}else{const e=c.sort(ke).find((e=>e.index>n));a=e?ye(n,e.index,r.length):ve(n,r.length)}}else{const e=c.length&&c[c.length-1];a=e?ve(e.index,r.length):Se(r.length)}const l=o.clone().invert(),d=u(r.map((e=>this.getShape(e)))),h=d.filter((e=>e.isLocked));h.length&&this.updateShapes(h.map((({id:e,type:t})=>({id:e,type:t,isLocked:!1}))));for(let e=0;e<d.length;e++){const n=d[e],r=this.getShapePageTransform(n);if(!r)continue;const o=r.point();if(!o)continue;const c=l.applyToPoint(o),u=r.rotation()-s;i.push({id:n.id,type:n.type,parentId:t,x:c.x,y:c.y,rotation:u,index:a[e],isLocked:n.isLocked})}return this.updateShapes(i),this}getHighestIndexForParent(e){const t="string"==typeof e?e:e.id,n=this._parentIdsToChildIds.get()[t];return n&&0!==n.length?Oe(this.getShape(n[n.length-1]).index):"a1"}_childIdsCache=new Ua;getSortedChildIdsForParent(e){const t="string"==typeof e?e:e.id,n=this._parentIdsToChildIds.get()[t];return n?this._childIdsCache.get(n,(()=>n)):o.Ml}visitDescendants(e,t){const n="string"==typeof e?e:e.id,r=this.getSortedChildIdsForParent(n);for(const e of r)!1!==t(e)&&this.visitDescendants(e,t);return this}getShapeAndDescendantIds(e){const t=new Set,n=[...e];for(;n.length>0;){const e=n.pop();if(!e)break;if(!t.has(e)){t.add(e);for(const t of this.getSortedChildIdsForParent(e))n.push(t)}}return t}getDroppingOverShape(e,t=[]){const n=this.getCurrentPageShapesSorted();for(let r=n.length-1;r>=0;r--){const i=n[r];if(!this.getShapeUtil(i).canDropShapes(i,t)||t.find((e=>e.id===i.id||this.hasAncestor(i,e.id))))continue;const o=this.getShapeMaskedPageBounds(i.id);if(o&&o.containsPoint(e)&&this.getShapeGeometry(i).hitTestPoint(this.getPointInShapeSpace(i,e),0,!0))return i}}getOutermostSelectableShape(e,t){const n="string"==typeof e?e:e.id,r=this.getShape(n);let i=r,o=r;const s=this.getFocusedGroup();for(;o;){if(this.isShapeOfType(o,"group")&&s?.id!==o.id&&!this.hasAncestor(s,o.id)&&(t?.(o)??1))i=o;else if(s?.id===o.id)break;o=this.getShapeParent(o)}return i}rotateShapesBy(e,t){if(("string"==typeof e[0]?e:e.map((e=>e.id))).length<=0)return this;const n=Ha({editor:this});return n?(Ga({delta:t,snapshot:n,editor:this,stage:"one-off"}),this):this}getChangesToTranslateShape(e,t){let n=e;const r=this.getShapeUtil(e);return n=tl(n,r.onTranslateStart?.(n)??void 0),n=tl(n,{id:e.id,type:e.type,x:t.x,y:t.y}),n=tl(n,r.onTranslate?.(e,n)??void 0),n=tl(n,r.onTranslateEnd?.(e,n)??void 0),n}nudgeShapes(e,t,n){const r="string"==typeof e[0]?e:e.map((e=>e.id));if(r.length<=0)return this;const i=[];for(const e of r){const n=this.getShape(e),r=ti.From(t),o=this.getShapeParentTransform(n);o&&r.rot(-o.rotation()),i.push(this.getChangesToTranslateShape(n,r.add(n)))}return this.updateShapes(i,{squashing:!0,...n}),this}duplicateShapes(e,t){const n="string"==typeof e[0]?e:e.map((e=>e.id));if(n.length<=0)return this;const r=new Set(n),i=[],o=[...n];for(;o.length>0;){const e=o.pop();if(!e)break;i.push(e),this.getSortedChildIdsForParent(e).forEach((e=>o.push(e)))}i.reverse();const s=new Map(i.map((e=>[e,Ln()]))),a=u(i.map((e=>{const n=this.getShape(e);if(!n)return null;const i=s.get(e);let o=0,a=0;if(t&&r.has(e)){const e=this.getShapeParentTransform(n),r=new ti(t.x,t.y).rot(-e.rotation());o=r.x,a=r.y}const c=n.parentId??this.getCurrentPageId(),l=this.getSortedChildIdsForParent(c),u=l.indexOf(n.id),d=l[u+1],h=d?this.getShape(d):null,p=h?xe(n.index,h.index):Oe(n.index);let f=B(n);if(this.isShapeOfType(n,"arrow")&&this.isShapeOfType(f,"arrow")){const e=this.getArrowInfo(n);let t,r;if("binding"===n.props.start.type&&(t=s.get(n.props.start.boundShapeId),!t))if(e?.isValid){const{x:t,y:n}=e.start.point;f.props.start={type:"point",x:t,y:n}}else{const{start:e}=Lc(this,n);f.props.start={type:"point",x:e.x,y:e.y}}if("binding"===n.props.end.type&&(r=s.get(n.props.end.boundShapeId),!r))if(e?.isValid){const{x:t,y:n}=e.end.point;f.props.end={type:"point",x:t,y:n}}else{const{end:e}=Lc(this,n);f.props.start={type:"point",x:e.x,y:e.y}}const i=$c(f)?Zc(this,f):Wc(this,f);if(e?.isValid&&i?.isValid&&!$c(n)){const t=ti.Med(e.start.handle,e.end.handle),n=ti.Dist(e.middle,t),r=ti.Dist(i.middle,t);f.props.bend<0?f.props.bend+=r-n:f.props.bend-=r-n}"binding"===f.props.start.type&&t&&(f.props.start.boundShapeId=t),"binding"===f.props.end.type&&r&&(f.props.end.boundShapeId=r)}return f={...f,id:i,x:n.x+o,y:n.y+a,index:p},f})));return a.forEach((e=>{Nn(e.parentId)&&s.has(e.parentId)&&(e.parentId=s.get(e.parentId))})),this.history.batch((()=>{const e=a.length+this.getCurrentPageShapeIds().size>$i;e&&el(this);const n=e?a.slice(0,$i-this.getCurrentPageShapeIds().size):a,r=n.map((e=>e.id));if(this.createShapes(n),this.setSelectedShapes(r),void 0!==t){const e=this.getSelectionPageBounds(),t=this.getViewportPageBounds();e&&!t.contains(e)&&this.centerOnPoint(e.center,{duration:Li})}})),this}moveShapesToPage(e,t){const n="string"==typeof e[0]?e:e.map((e=>e.id));if(0===n.length)return this;if(this.getInstanceState().isReadonly)return this;const r=this.getCurrentPageId();if(t===r)return this;if(!this.store.has(t))return this;const i=this.getContentFromCurrentPage(n);if(!i)return this;if(this.getPageShapeIds(t).size+i.shapes.length>$i)return el(this,t),this;const o=this.getCamera().z;return this.history.batch((()=>{this.deleteShapes(n),this.setCurrentPage(t),this.setFocusedGroup(null),this.selectNone(),this.putContentOntoCurrentPage(i,{select:!0,preserveIds:!0,preservePosition:!0}),this.setCamera({...this.getCamera(),z:o}),this.centerOnPoint(this.getSelectionRotatedPageBounds().center)})),this}toggleLock(e){const t="string"==typeof e[0]?e:e.map((e=>e.id));if(this.getInstanceState().isReadonly||0===t.length)return this;let n=!0,r=!0;const i=[];for(const e of t){const t=this.getShape(e);t&&(i.push(t),t.isLocked?r=!1:n=!1)}return this.batch((()=>{r?(this.updateShapes(i.map((e=>({id:e.id,type:e.type,isLocked:!0})))),this.setSelectedShapes([])):n?this.updateShapes(i.map((e=>({id:e.id,type:e.type,isLocked:!1})))):this.updateShapes(i.map((e=>({id:e.id,type:e.type,isLocked:!0}))))})),this}sendToBack(e){const t=Xa(this,"toBack","string"==typeof e[0]?e:e.map((e=>e.id)));return t&&this.updateShapes(t),this}sendBackward(e){const t=Xa(this,"backward","string"==typeof e[0]?e:e.map((e=>e.id)));return t&&this.updateShapes(t),this}bringForward(e){const t=Xa(this,"forward","string"==typeof e[0]?e:e.map((e=>e.id)));return t&&this.updateShapes(t),this}bringToFront(e){const t=Xa(this,"toFront","string"==typeof e[0]?e:e.map((e=>e.id)));return t&&this.updateShapes(t),this}flipShapes(e,t){const n="string"==typeof e[0]?e:e.map((e=>e.id));if(this.getInstanceState().isReadonly)return this;let r=u(n.map((e=>this.getShape(e))));if(!r.length)return this;r=u(r.map((e=>this.isShapeOfType(e,"group")?this.getSortedChildIdsForParent(e.id).map((e=>this.getShape(e))):e)).flat());const i=jo.Common(u(r.map((e=>this.getShapePageBounds(e))))).center;return this.batch((()=>{for(const e of r){const n=this.getShapeGeometry(e).bounds,r=this.getShapePageTransform(e.id);r&&this.resizeShape(e.id,{x:"horizontal"===t?-1:1,y:"vertical"===t?-1:1},{initialBounds:n,initialPageTransform:r,initialShape:e,mode:"scale_shape",scaleOrigin:i,scaleAxisRotation:0})}})),this}stackShapes(e,t,n){const r="string"==typeof e[0]?e:e.map((e=>e.id));if(this.getInstanceState().isReadonly)return this;const i=u(r.map((e=>this.getShape(e))).filter((e=>!!e&&(!this.isShapeOfType(e,"arrow")||"binding"!==e.props.start.type&&"binding"!==e.props.end.type)))),o=i.length;if(0===n&&o<3||o<2)return this;const s=Object.fromEntries(i.map((e=>[e.id,this.getShapePageBounds(e)])));let a,c,l,d,h;if("horizontal"===t?(a="x",c="minX",l="maxX",d="width"):(a="y",c="minY",l="maxY",d="height"),0===n){const e=[];i.sort(((e,t)=>s[e.id][c]-s[t.id][c]));for(let t=0;t<o-1;t++){const n=i[t],r=i[t+1],o=s[n.id],a=s[r.id][c]-o[l],u=e.find((e=>e.gap===a));u?u.count++:e.push({gap:a,count:1})}let t=0;e.forEach((e=>{e.count>t&&(t=e.count,h=e.gap)})),1===t&&(h=Math.max(0,e.reduce(((e,t)=>e+t.gap*t.count),0)/(o-1)))}else h=n;const p=[];let f=s[i[0].id][l];return i.forEach(((e,t)=>{if(0===t)return;const n={x:0,y:0};n[a]=f+h-s[e.id][a];const r=this.getShapeParent(e),i=r?ti.Rot(n,-this.getShapePageTransform(r).decompose().rotation):n,o=this.getShapeUtil(e).onTranslateStart?.(e);p.push(o?{...o,[a]:e[a]+i[a]}:{id:e.id,type:e.type,[a]:e[a]+i[a]}),f+=s[e.id][d]+h})),this.updateShapes(p),this}packShapes(e,t){const n="string"==typeof e[0]?e:e.map((e=>e.id));if(this.getInstanceState().isReadonly)return this;if(n.length<2)return this;const r=u(n.map((e=>this.getShape(e))).filter((e=>!!e&&(!this.isShapeOfType(e,"arrow")||"binding"!==e.props.start.type&&"binding"!==e.props.end.type)))),i={},o={};let s,a,c=0;for(let e=0;e<r.length;e++)s=r[e],a=this.getShapePageBounds(s),i[s.id]=a,o[s.id]=a.clone(),c+=a.width*a.height;const l=jo.Common(u(Object.values(i))),d=l.width;r.sort(((e,t)=>i[t.id].height-i[e.id].height));const h=Math.max(Math.ceil(Math.sqrt(c/.95)),d),p=[new jo(l.x,l.y,h,1/0)];let f,m,g=0,y=0;for(let e=0;e<r.length;e++){s=r[e],a=o[s.id];for(let e=p.length-1;e>=0;e--)if(f=p[e],!(a.width>f.width||a.height>f.height)){a.x=f.x,a.y=f.y,y=Math.max(y,a.maxY),g=Math.max(g,a.maxX),a.width===f.width&&a.height===f.height?(m=p.pop(),e<p.length&&(p[e]=m)):a.height===f.height?(f.x+=a.width+t,f.width-=a.width+t):a.width===f.width?(f.y+=a.height+t,f.height-=a.height+t):(p.push(new jo(f.x+(a.width+t),f.y,f.width-(a.width+t),a.height)),f.y+=a.height+t,f.height-=a.height+t);break}}const v=jo.Common(Object.values(o)),b=ti.Sub(l.center,v.center);let x;const O=[];for(let e=0;e<r.length;e++){s=r[e],a=i[s.id],x=o[s.id];const t=ti.Sub(x.point,a.point).add(b),n=this.getShapeParentTransform(s);n&&t.rot(-n.rotation());const c={id:s.id,type:s.type,x:s.x+t.x,y:s.y+t.y},l=this.getShapeUtil(s).onTranslateStart?.({...s,...c});l?O.push({...c,...l}):O.push(c)}return O.length&&this.updateShapes(O),this}alignShapes(e,t){const n="string"==typeof e[0]?e:e.map((e=>e.id));if(this.getInstanceState().isReadonly)return this;if(n.length<2)return this;const r=u(n.map((e=>this.getShape(e)))),i=Object.fromEntries(r.map((e=>[e.id,this.getShapePageBounds(e)]))),o=jo.Common(u(Object.values(i))),s=[];return r.forEach((e=>{const n=i[e.id];if(!n)return;const r={x:0,y:0};switch(t){case"top":r.y=o.minY-n.minY;break;case"center-vertical":r.y=o.midY-n.minY-n.height/2;break;case"bottom":r.y=o.maxY-n.minY-n.height;break;case"left":r.x=o.minX-n.minX;break;case"center-horizontal":r.x=o.midX-n.minX-n.width/2;break;case"right":r.x=o.maxX-n.minX-n.width}const a=this.getShapeParent(e),c=a?ti.Rot(r,-this.getShapePageTransform(a).decompose().rotation):r;s.push(this.getChangesToTranslateShape(e,ti.Add(e,c)))})),this.updateShapes(s),this}distributeShapes(e,t){const n="string"==typeof e[0]?e:e.map((e=>e.id));if(this.getInstanceState().isReadonly)return this;if(n.length<3)return this;const r=n.length,i=u(n.map((e=>this.getShape(e)))),o=Object.fromEntries(i.map((e=>[e.id,this.getShapePageBounds(e)])));let s,a,c,l,d;"horizontal"===t?(s="x",a="minX",c="maxX",l="midX",d="width"):(s="y",a="minY",c="maxY",l="midY",d="height");const h=[],p=i.sort(((e,t)=>o[e.id][a]-o[t.id][a]))[0],f=i.sort(((e,t)=>o[t.id][c]-o[e.id][c]))[0],m=o[p.id][l],g=(o[f.id][l]-m)/(r-1),y=m+g;return i.filter((e=>e!==p&&e!==f)).sort(((e,t)=>o[e.id][l]-o[t.id][l])).forEach(((e,t)=>{const n={x:0,y:0};n[s]=y+g*t-o[e.id][d]/2-o[e.id][s];const r=this.getShapeParent(e),i=r?ti.Rot(n,-this.getShapePageTransform(r).rotation()):n;h.push(this.getChangesToTranslateShape(e,ti.Add(e,i)))})),this.updateShapes(h),this}stretchShapes(e,t){const n="string"==typeof e[0]?e:e.map((e=>e.id));if(this.getInstanceState().isReadonly)return this;if(n.length<2)return this;const r=u(n.map((e=>this.getShape(e)))),i=Object.fromEntries(n.map((e=>[e,this.getShapeGeometry(e).bounds]))),o=Object.fromEntries(n.map((e=>[e,this.getShapePageBounds(e)]))),s=jo.Common(u(Object.values(o)));switch(t){case"vertical":this.batch((()=>{for(const e of r){if(this.getShapePageTransform(e).rotation()%ai)continue;const t=i[e.id],n=o[e.id],r=new ti(0,s.minY-n.minY),a=this.getShapeParentTransform(e);a&&r.rot(-a.rotation());const{x:c,y:l}=ti.Add(r,e);this.updateShapes([{id:e.id,type:e.type,x:c,y:l}],{squashing:!0});const u=new ti(1,s.height/n.height);this.resizeShape(e.id,u,{initialBounds:t,scaleOrigin:new ti(n.center.x,s.minY),scaleAxisRotation:0})}}));break;case"horizontal":this.batch((()=>{for(const e of r){const t=i[e.id],n=o[e.id];if(this.getShapePageTransform(e).rotation()%ai)continue;const r=new ti(s.minX-n.minX,0),a=this.getShapeParentTransform(e);a&&r.rot(-a.rotation());const{x:c,y:l}=ti.Add(r,e);this.updateShapes([{id:e.id,type:e.type,x:c,y:l}],{squashing:!0});const u=new ti(s.width/n.width,1);this.resizeShape(e.id,u,{initialBounds:t,scaleOrigin:new ti(s.minX,n.center.y),scaleAxisRotation:0})}}))}return this}resizeShape(e,t,n={}){const r="string"==typeof e?e:e.id;if(this.getInstanceState().isReadonly)return this;Number.isFinite(t.x)||(t=new ti(1,t.y)),Number.isFinite(t.y)||(t=new ti(t.x,1));const i=n.initialShape??this.getShape(r);if(!i)return this;const o=n.scaleOrigin??this.getShapePageBounds(r)?.center;if(!o)return this;const s=n.initialPageTransform?$o.Cast(n.initialPageTransform):this.getShapePageTransform(r);if(!s)return this;const a=s.rotation();if(null==a)return this;const c=n.scaleAxisRotation??a,l=n.initialBounds??this.getShapeGeometry(r).bounds;if(!l)return this;if(!bi(a,c))return this._resizeUnalignedShape(r,t,{...n,initialBounds:l,scaleOrigin:o,scaleAxisRotation:c,initialPageTransform:s,initialShape:i});const u=this.getShapeUtil(i);if(u.isAspectRatioLocked(i)&&(t=Math.abs(t.x)>Math.abs(t.y)?new ti(t.x,Math.sign(t.y)*Math.abs(t.x)):new ti(Math.sign(t.x)*Math.abs(t.y),t.y)),u.onResize&&u.canResize(i)){const e=this._scalePagePoint($o.applyToPoint(s,new ti(0,0)),o,t,c),d=this.getPointInParentSpace(i.id,e),h=new ti(t.x,t.y),p=di((a-c)%Math.PI,0);h.x=p?t.x:t.y,h.y=p?t.y:t.x;const f=$o.applyToPoint(s,new ti),{x:m,y:g}=this.getPointInParentSpace(i.id,f);this.updateShapes([{id:r,type:i.type,x:d.x,y:d.y,...u.onResize({...i,x:m,y:g},{newPoint:d,handle:n.dragHandle??"bottom_right",mode:n.mode??"scale_shape",scaleX:h.x,scaleY:h.y,initialBounds:l,initialShape:i})}],{squashing:!0})}else{const e=$o.applyToPoint(s,l.center),n=this._scalePagePoint(e,o,t,c),a=this.getPointInParentSpace(i.id,e),u=this.getPointInParentSpace(i.id,n),d=ti.Sub(u,a);this.updateShapes([{id:r,type:i.type,x:i.x+d.x,y:i.y+d.y}],{squashing:!0})}return this}_scalePagePoint(e,t,n,r){const i=ti.RotWith(e,t,-r).sub(t),o=ti.MulV(i,n);return ti.Add(o,t).rotWith(t,r)}_resizeUnalignedShape(e,t,n){const{type:r}=n.initialShape,i=new ti(t.x,t.y);if(Math.abs(t.x)>Math.abs(t.y)?i.x=Math.sign(t.x)*Math.abs(t.y):i.y=Math.sign(t.y)*Math.abs(t.x),this.resizeShape(e,i,{initialShape:n.initialShape,initialBounds:n.initialBounds}),Math.sign(t.x)*Math.sign(t.y)<0){let{rotation:t}=$o.Decompose(n.initialPageTransform);t-=2*t,this.updateShapes([{id:e,type:r,rotation:t}],{squashing:!0})}const o=$o.applyToPoint(n.initialPageTransform,n.initialBounds.center),s=this._scalePagePoint(o,n.scaleOrigin,t,n.scaleAxisRotation),a=this.getShapePageBounds(e),c=this.getShapePageTransform(e),l=a.center,u=c.point();if(!l||!u)return this;const d=ti.Sub(s,l),h=ti.Add(u,d),{x:p,y:f}=this.getPointInParentSpace(e,h);return this.updateShapes([{id:e,type:r,x:p,y:f}],{squashing:!0}),this}getInitialMetaForShape(e){return{}}createShape(e){return this._createShapes([e]),this}createShapes(e){if(!Array.isArray(e))throw Error("Editor.createShapes: must provide an array of shapes or shape partials");return this._createShapes(e),this}_createShapes=this.history.createCommand("createShapes",(e=>{if(this.getInstanceState().isReadonly)return null;if(e.length<=0)return null;const t=this.getCurrentPageShapeIds();if(!(e.length+t.size>$i))return 0===e.length?null:{data:{currentPageId:this.getCurrentPageId(),partials:e.map((e=>e.id?e:{...e,id:Ln()}))}};el(this)}),{do:({partials:e})=>{const t=this.getFocusedGroupId(),n=this.getCurrentPageShapesSorted();e=e.map((r=>{if(!r.parentId||!this.store.has(r.parentId)&&!e.some((e=>e.id===r.parentId))){let e=this.getFocusedGroupId();for(let t=n.length-1;t>=0;t--){const i=n[t];if(this.getShapeUtil(i).canReceiveNewChildrenOfType(i,r.type)&&this.isPointInShape(i,{x:r.x??0,y:r.y??0},{margin:0,hitInside:!0})){e=i.id;break}}const i=r.parentId;if(e===r.id&&(e=t),e!==i&&((r={...r}).parentId=e,Nn(e))){const t=this.getPointInShapeSpace(this.getShape(e),{x:r.x??0,y:r.y??0});r.x=t.x,r.y=t.y,r.rotation=-this.getShapePageTransform(e).rotation()+(r.rotation??0)}}return r}));const r=new Map,i=[];for(const n of e){const e=this.getShapeUtil(n);let o=n.index;if(!o){const e=n.parentId??t;r.has(e)||r.set(e,this.getHighestIndexForParent(e)),o=r.get(e),r.set(e,Oe(o))}const s=e.getDefaultProps();for(const[e,t]of this.styleProps[n.type])s[t]=this.getStyleForNextShape(e);let a=this.store.schema.types.shape.create({...n,index:o,opacity:n.opacity??this.getInstanceState().opacityForNextShape,parentId:n.parentId??t,props:"props"in n?{...s,...n.props}:s});if(void 0===a.index)throw Error("no index!");const c=this.getShapeUtil(a).onBeforeCreate?.(a);c&&(a=c),i.push(a)}i.forEach((e=>{e.meta={...this.getInitialMetaForShape(e),...e.meta}})),this.store.put(i)},undo:({partials:e})=>{this.store.remove(e.map((e=>e.id)))}});animatingShapes=new Map;animateShape(e,t){return this.animateShapes([e],t)}animateShapes(e,t={}){const{duration:n=500,easing:r=ei.linear}=t,i=ta();let o,s=n;const a=[];let c,l,u;for(let t=0,n=e.length;t<n;t++){if(c=e[t],!c)continue;l={partial:c,values:[]};const n=this.getShape(c.id);if(n){for(const e of["x","y","rotation"])void 0!==c[e]&&n[e]!==c[e]&&l.values.push({prop:e,from:n[e],to:c[e]});a.push(l),this.animatingShapes.set(n.id,i)}}const d=t=>{if(s-=t,s<0){const{animatingShapes:t}=this,n=e.filter((e=>e&&t.get(e.id)===i));return n.length&&this.updateShapes(n,{squashing:!1}),void this.removeListener("tick",d)}o=r(1-s/n);const{animatingShapes:c}=this,l=[];let h;for(let e=0,t=a.length;e<t;e++)u=a[e],h=c.get(u.partial.id),h===i&&l.push({id:u.partial.id,type:u.partial.type,...u.values.reduce(((e,{prop:t,from:n,to:r})=>(e[t]=n+(r-n)*o,e)),{})});this._updateShapes(l,{squashing:!0})};return this.addListener("tick",d),this}groupShapes(e,t=Ln()){if(!Array.isArray(e))throw Error("Editor.groupShapes: must provide an array of shapes or shape ids");if(this.getInstanceState().isReadonly)return this;const n="string"==typeof e[0]?e:e.map((e=>e.id));if(n.length<=1)return this;const r=u(this._getUnlockedShapeIds(n).map((e=>this.getShape(e)))),i=r.sort(ke).map((e=>e.id)),o=jo.Common(u(r.map((e=>this.getShapePageBounds(e))))),{x:s,y:a}=o.point,c=this.findCommonAncestor(r)??this.getCurrentPageId();if("select"!==this.getCurrentToolId())return this;this.isIn("select.idle")||this.cancel();const l=r.filter((e=>e.parentId===c)).sort(ke),d=l[l.length-1]?.index;return this.batch((()=>{this.createShapes([{id:t,type:"group",parentId:c,index:d,x:s,y:a,opacity:1,props:{}}]),this.reparentShapes(i,t),this.select(t)})),this}ungroupShapes(e){const t="string"==typeof e[0]?e:e.map((e=>e.id));if(this.getInstanceState().isReadonly)return this;if(0===t.length)return this;if("select"!==this.getCurrentToolId())return this;this.isIn("select.idle")||this.cancel();const n=new Set,r=u(t.map((e=>this.getShape(e)))),i=[];return r.forEach((e=>{this.isShapeOfType(e,"group")?i.push(e):n.add(e.id)})),0===i.length||this.batch((()=>{let e;for(let t=0,r=i.length;t<r;t++){e=i[t];const r=this.getSortedChildIdsForParent(e.id);for(let e=0,t=r.length;e<t;e++)n.add(r[e]);this.reparentShapes(r,e.parentId,e.index)}this.deleteShapes(i.map((e=>e.id))),this.select(...n)})),this}updateShape(e,t){return this.updateShapes([e],t),this}updateShapes(e,t){const n=Array(e.length);for(let t=0,r=e.length;t<r;t++){const r=e[t];if(!r)continue;const i=this.getShape(r.id);i&&(this.isShapeOrAncestorLocked(i)&&!Object.hasOwn(r,"isLocked")||(this.animatingShapes.delete(r.id),n.push(r)))}return this._updateShapes(n,t),this}_updateShapes=this.history.createCommand("updateShapes",((e,t)=>{if(this.getInstanceState().isReadonly)return null;const n={},r={};let i,o;for(let t=0,s=e.length;t<s;t++){const s=e[t];s&&(i=this.getShape(s.id),i&&(o=tl(i,s),o!==i&&(n[i.id]=i,r[i.id]=o)))}return{data:{snapshots:n,updates:r},...t}}),{do:({updates:e})=>{this.store.put(V(e).map((e=>{const t=this.store.get(e.id);if(t){const n=this.getShapeUtil(e).onBeforeUpdate?.(t,e);if(n)return n}return e})))},undo:({snapshots:e})=>{this.store.put(Object.values(e))},squash:(e,t)=>({snapshots:{...t.snapshots,...e.snapshots},updates:{...e.updates,...t.updates}})});_getUnlockedShapeIds(e){return e.filter((e=>!this.getShape(e)?.isLocked))}deleteShapes(e){if(!Array.isArray(e))throw Error("Editor.deleteShapes: must provide an array of shapes or shapeIds");return this._deleteShapes(this._getUnlockedShapeIds("string"==typeof e[0]?e:e.map((e=>e.id)))),this}deleteShape(e){return this.deleteShapes(["string"==typeof e?e:e.id]),this}_deleteShapes=this.history.createCommand("delete_shapes",(e=>{if(this.getInstanceState().isReadonly)return null;if(0===e.length)return null;const t=[...this.getCurrentPageState().selectedShapeIds],n=new Set(e);for(const t of e)this.visitDescendants(t,(e=>{n.add(e)}));const r=[...n],i=this._getArrowBindingsIndex().get(),o=u(r.flatMap((e=>{const t=this.getShape(e),n=i[e];return n&&n.length>0?n.map((({arrowId:e})=>this.getShape(e))).concat(t):t}))),s=t.filter((e=>!n.has(e)));return{data:{deletedIds:r,snapshots:o,prevSelectedShapeIds:t,postSelectedShapeIds:s}}}),{do:({deletedIds:e,postSelectedShapeIds:t})=>{this.store.remove(e),this.store.update(this.getCurrentPageState().id,(e=>({...e,selectedShapeIds:t})))},undo:({snapshots:e,prevSelectedShapeIds:t})=>{this.store.put(e),this.store.update(this.getCurrentPageState().id,(e=>({...e,selectedShapeIds:t})))}});_extractSharedStyles(e,t){if(this.isShapeOfType(e,"group")){const n=this._parentIdsToChildIds.get()[e.id];if(!n)return;for(let e=0,r=n.length;e<r;e++)this._extractSharedStyles(this.getShape(n[e]),t)}else for(const[n,r]of this.styleProps[e.type])t.applyValue(n,F(e.props,r))}_getSelectionSharedStyles(){const e=this.getSelectedShapes(),t=new Wa;for(const n of e)this._extractSharedStyles(n,t);return t}getStyleForNextShape(e){const t=this.getInstanceState().stylesForNextShape[e.id];return void 0===t?e.defaultValue:t}getShapeStyleIfExists(e,t){const n=this.styleProps[e.type].get(t);if(void 0!==n)return F(e.props,n)}getSharedStyles(){if(this.isIn("select")&&this.getSelectedShapeIds().length>0)return this._getSelectionSharedStyles();const e=this.root.getCurrent(),t=new Wa;if(!e)return t;if(e.shapeType)for(const n of this.styleProps[e.shapeType].keys())t.applyValue(n,this.getStyleForNextShape(n));return t}getSharedOpacity(){if(this.isIn("select")&&this.getSelectedShapeIds().length>0){const e=[],t=n=>{const r=this.getShape(n);if(r)if(this.isShapeOfType(r,"group"))for(const e of this.getSortedChildIdsForParent(r.id))t(e);else e.push(r)};for(const e of this.getSelectedShapeIds())t(e);let n=null;for(const t of e)if(null===n)n=t.opacity;else if(n!==t.opacity)return{type:"mixed"};if(null!==n)return{type:"shared",value:n}}return{type:"shared",value:this.getInstanceState().opacityForNextShape}}setOpacityForNextShapes(e,t){return this.updateInstanceState({opacityForNextShape:e},t),this}setOpacityForSelectedShapes(e,t){const n=this.getSelectedShapes();if(n.length>0){const r=[],i=e=>{if(this.isShapeOfType(e,"group")){const t=this.getSortedChildIdsForParent(e);for(const e of t)i(this.getShape(e))}else r.push(e)};for(const e of n)i(e);this.updateShapes(r.map((t=>({id:t.id,type:t.type,opacity:e}))),t)}return this}setStyleForNextShapes(e,t,n){const r=this.getInstanceState().stylesForNextShape;return this.updateInstanceState({stylesForNextShape:{...r,[e.id]:t}},n),this}setStyleForSelectedShapes(e,t,n){const r=this.getSelectedShapes();if(r.length>0){const i=[],o=n=>{if(this.isShapeOfType(n,"group")){const e=this.getSortedChildIdsForParent(n.id);for(const t of e)o(this.getShape(t))}else{const r=this.getShapeUtil(n),o=this.styleProps[n.type].get(e);if(o){const e={id:n.id,type:n.type,props:{[o]:t}};i.push({util:r,originalShape:n,updatePartial:e})}}};for(const e of r)o(e);this.updateShapes(i.map((({updatePartial:e})=>e)),n)}return this}externalAssetContentHandlers={file:null,url:null};registerExternalAssetHandler(e,t){return this.externalAssetContentHandlers[e]=t,this}async getAssetForExternalContent(e){return await(this.externalAssetContentHandlers[e.type]?.(e))}externalContentHandlers={text:null,files:null,embed:null,"svg-text":null,url:null};registerExternalContentHandler(e,t){return this.externalContentHandlers[e]=t,this}async putExternalContent(e){return this.externalContentHandlers[e.type]?.(e)}getContentFromCurrentPage(e){const t="string"==typeof e[0]?e:e.map((e=>e.id));if(!t)return;if(0===t.length)return;const n={};let r=l(t.map((e=>this.getShape(e))).sort(ke).flatMap((e=>{const t=[e];return this.visitDescendants(e.id,(e=>{t.push(this.getShape(e))})),t})));r=r.map((e=>{if(n[e.id]=this.getShapePageTransform(e.id),e=Te(e),this.isShapeOfType(e,"arrow")){const t="binding"===e.props.start.type?e.props.start.boundShapeId:void 0,n="binding"===e.props.end.type?e.props.end.boundShapeId:void 0,i=this.getArrowInfo(e);if("binding"===e.props.start.type&&!r.some((e=>e.id===t)))if(i?.isValid){const{x:t,y:n}=i.start.point;e.props.start={type:"point",x:t,y:n}}else{const{start:t}=Lc(this,e);e.props.start={type:"point",x:t.x,y:t.y}}if("binding"===e.props.end.type&&!r.some((e=>e.id===n)))if(i?.isValid){const{x:t,y:n}=i.end.point;e.props.end={type:"point",x:t,y:n}}else{const{end:t}=Lc(this,e);e.props.end={type:"point",x:t.x,y:t.y}}const o=$c(e)?Zc(this,e):Wc(this,e);if(i?.isValid&&o?.isValid&&!$c(e)){const t=ti.Med(i.start.handle,i.end.handle),n=ti.Dist(i.middle,t),r=ti.Dist(o.middle,t);e.props.bend<0?e.props.bend+=r-n:e.props.bend-=r-n}return e}return e}));const i=[];r.forEach((e=>{if(void 0===r.find((t=>t.id===e.parentId))){const t=this.getShapePageTransform(e.id),n=t.point(),r=t.rotation();e.x=n.x,e.y=n.y,e.rotation=r,e.parentId=this.getCurrentPageId(),i.push(e.id)}}));const o=new Set;return r.forEach((e=>{"assetId"in e.props&&null!==e.props.assetId&&o.add(e.props.assetId)})),{shapes:r,rootShapeIds:i,schema:this.store.schema.serialize(),assets:u(Array.from(o).map((e=>this.getAsset(e))))}}putContentOntoCurrentPage(e,t={}){if(this.getInstanceState().isReadonly)return this;if(!e.schema)throw Error("Could not put content:\ncontent is missing a schema.");const{select:n=!1,preserveIds:r=!1,preservePosition:i=!1}=t;let{point:o}=t;const s=this.getCurrentPageId(),{rootShapeIds:a}=e,c=[],l=[],d={store:{...Object.fromEntries(e.assets.map((e=>[e.id,e]))),...Object.fromEntries(e.shapes.map((e=>[e.id,e])))},schema:e.schema},h=this.store.schema.migrateStoreSnapshot(d);if("error"===h.type)throw Error("Could not put content: could not migrate content");for(const e of Object.values(h.value))switch(e.typeName){case"asset":c.push(e);break;case"shape":l.push(e)}const p=new Map(l.map((e=>[e.id,Ln()])));let f=this.getCurrentPageId(),m=1/0,g=[];for(const e of this.getSelectedShapes()){if(0===m)break;const t=this.isShapeOfType(e,"frame"),n=this.getShapeAncestors(e);t&&n.push(e);const r=t?n.length+1:n.length;if(r<m)m=r,g=n,f=t?e.id:e.parentId;else if(r===m){if(g.length!==n.length)throw Error(`Ancestors: ${g.length} !== ${n.length}`);if(0===g.length){f=s;break}f=s;for(let e=0;e<g.length&&n[e]===g[e];e++)f=n[e].id}}let y=!1;if(!rn(f)){const e=this.getShape(f);if(e)if(this.getViewportPageBounds().includes(this.getShapePageBounds(e))){if(1===a.length){const t=l.find((e=>e.id===a[0]));this.isShapeOfType(e,"frame")&&this.isShapeOfType(t,"frame")&&t.props.w===e?.props.w&&t.props.h===e?.props.h&&(y=!0)}}else f=s;else f=s}y||(y=p.has(f)),y&&(f=this.getShape(f).parentId);let v=this.getHighestIndexForParent(f);const b=[],x=l.map((e=>{let t;if(r)t=B(e),p.set(e.id,e.id);else{const n=p.get(e.id);t=B({...e,id:n})}if(a.includes(e.id)&&(t.parentId=s,b.push(t)),p.has(t.parentId)?t.parentId=p.get(e.parentId):(a.push(t.id),t.index=v,v=Oe(v)),this.isShapeOfType(t,"arrow")){if("binding"===t.props.start.type){const e=p.get(t.props.start.boundShapeId);t.props.start=e?{...t.props.start,boundShapeId:e}:{type:"point",x:0,y:0}}if("binding"===t.props.end.type){const e=p.get(t.props.end.boundShapeId);t.props.end=e?{...t.props.end,boundShapeId:e}:{type:"point",x:0,y:0}}}return t}));if(x.length+this.getCurrentPageShapeIds().size>$i)return el(this),this;let O=[];const w=[];return O=c.filter((e=>!this.store.has(e.id))).map((e=>("image"!==e.type&&"video"!==e.type||(e.props.src&&e.props.src?.startsWith("data:image")?(w.push(Te(e)),e.props.src=null):w.push(Te(e))),e))),Promise.allSettled(w.map((async e=>{const t=await qa(e.props.src,e.props.name,e.props.mimeType??"image/png"),n=await this.getAssetForExternalContent({type:"file",file:t});return n?[e,n]:null}))).then((e=>{this.updateAssets(u(e.map((e=>"fulfilled"===e.status&&e.value?{...e.value[1],id:e.value[0].id}:void 0))))})),this.batch((()=>{O.length>0&&this.createAssets(O),this.createShapes(x),n&&this.select(...b.map((e=>e.id))),f!==s&&this.reparentShapes(b.map((e=>e.id)),f);const e=x.map((e=>this.getShape(e.id))),t=jo.Common(e.map((e=>this.getShapePageBounds(e))));if(void 0===o)if(rn(f)){const e=this.getViewportPageBounds();o=i||e.includes(jo.From(t))?t.center:e.center}else{const e=this.getShape(f);o=$o.applyToPoint(this.getShapePageTransform(e),this.getShapeGeometry(e).bounds.center)}if(1===b.length){const e=b[0];if(this.isShapeOfType(e,"frame"))for(;this.getShapesAtPoint(o).some((t=>this.isShapeOfType(t,"frame")&&t.props.w===e.props.w&&t.props.h===e.props.h));)o.x+=t.w+16}const r=jo.Common(u(b.map((({id:e})=>this.getShapePageBounds(e))))).center,a=ti.Sub(o,r);this.updateShapes(b.map((({id:e})=>{const t=this.getShape(e),n=this.getShapeParentTransform(e).decompose().rotation,r=ti.Rot(a,-n);return{id:t.id,type:t.type,x:t.x+r.x,y:t.y+r.y}})))})),this}async getSvg(e,t={}){const n="string"==typeof e[0]?e:e.map((e=>e.id));if(0===n.length)return;if(!window.document)throw Error("No document");const{scale:r=1,background:i=!1,padding:o=Wi,preserveAspectRatio:s=!1}=t,a=t.darkMode??this.user.getIsDarkMode(),c=Bn({isDarkMode:a}),l=this.getShapeAndDescendantIds(n),u=this.getUnorderedRenderingShapes(!1).filter((({id:e})=>l.has(e)));let d=null;if(t.bounds)d=t.bounds;else for(const{maskedPageBounds:e}of u)e&&(d?d.union(e):d=e.clone());if(!d)return;const h=1===n.length&&this.isShapeOfType(this.getShape(n[0]),"frame")?n[0]:null;h||d.expandBy(o);const p=d.width*r,f=d.height*r,m=window.document.createElementNS("http://www.w3.org/2000/svg","svg");s&&m.setAttribute("preserveAspectRatio",s),m.setAttribute("direction","ltr"),m.setAttribute("width",p+""),m.setAttribute("height",f+""),m.setAttribute("viewBox",`${d.minX} ${d.minY} ${d.width} ${d.height}`),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-linejoin","round"),i?h?m.style.setProperty("background",c.solid):m.style.setProperty("background-color",c.background):m.style.setProperty("background-color","transparent");try{document.body.focus?.()}catch(e){}const g=window.document.createElementNS("http://www.w3.org/2000/svg","defs");m.append(g);const y=new Map,v={isDarkMode:a,addExportDef:e=>{if(y.has(e.key))return;const t=(async()=>{const t=await e.getElement();if(!t)return;const n=document.createComment(`def: ${e.key}`);g.appendChild(n);for(const e of Array.isArray(t)?t:[t])g.appendChild(e)})();y.set(e.key,t)}},b=(await Promise.all(u.map((async({id:e,opacity:t,index:n,backgroundIndex:r})=>{if(e===h)return[];const i=this.getShape(e);if(this.isShapeOfType(i,"group"))return[];const o=this.getShapeUtil(i);let s=await(o.toSvg?.(i,v)),a=await(o.toBackgroundSvg?.(i,v));if(s){const e=document.createElementNS("http://www.w3.org/2000/svg","g");e.appendChild(s),s=e}if(a){const e=document.createElementNS("http://www.w3.org/2000/svg","g");e.appendChild(a),a=e}if(!s&&!a){const e=this.getShapePageBounds(i),t=window.document.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("width",e.width+""),t.setAttribute("height",e.height+""),t.setAttribute("fill",c.solid),t.setAttribute("stroke",c.grey.pattern),t.setAttribute("stroke-width","1"),s=t}let l=this.getShapePageTransform(i).toCssString();"scale"in i.props&&1!==i.props.scale&&(l=`${l} scale(${i.props.scale}, ${i.props.scale})`),s?.setAttribute("transform",l),a?.setAttribute("transform",l),s?.setAttribute("opacity",t+""),a?.setAttribute("opacity",t+"");const u=this.getShapeMask(i.id);if(u){const e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");g.appendChild(e);const t=ta();e.id=t;const n=document.createElementNS("http://www.w3.org/2000/svg","path");if(n.setAttribute("d",`M${u.map((({x:e,y:t})=>`${e},${t}`)).join("L")}Z`),e.appendChild(n),s){const e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("clip-path",`url(#${t})`),e.appendChild(s),s=e}if(a){const e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("clip-path",`url(#${t})`),e.appendChild(a),a=e}}const d=[];return s&&d.push({zIndex:n,element:s}),a&&d.push({zIndex:r,element:a}),d})))).flat();await Promise.all(y.values());for(const{element:e}of b.sort(((e,t)=>e.zIndex-t.zIndex)))m.appendChild(e);return m}inputs={originPagePoint:new ti,originScreenPoint:new ti,previousPagePoint:new ti,previousScreenPoint:new ti,currentPagePoint:new ti,currentScreenPoint:new ti,keys:new Set,buttons:new Set,isPen:!1,shiftKey:!1,ctrlKey:!1,altKey:!1,isDragging:!1,isPointing:!1,isPinching:!1,isEditing:!1,isPanning:!1,pointerVelocity:new ti};_updateInputsFromEvent(e){const{previousScreenPoint:t,previousPagePoint:n,currentScreenPoint:r,currentPagePoint:i}=this.inputs,{screenBounds:o}=this.store.unsafeGetWithoutCapture(sn),{x:s,y:a,z:c}=this.getCamera(),l=e.point.x-o.x,u=e.point.y-o.y,d=e.point.z;t.setTo(r),n.setTo(i),r.set(l,u),i.set(l/c-s,u/c-a,d??.5),this.inputs.isPen="pointer"===e.type&&e.isPen,"pointer_down"===e.name&&this.inputs.pointerVelocity.set(0,0),this.store.put([{id:pn,typeName:"pointer",x:i.x,y:i.y,lastActivityTimestamp:"pointer"===e.type&&-10===e.pointerId?this.store.get(pn)?.lastActivityTimestamp??Date.now():Date.now(),meta:{}}])}cancel(){return this.dispatch({type:"misc",name:"cancel"}),this}interrupt(){return this.dispatch({type:"misc",name:"interrupt"}),this}complete(){return this.dispatch({type:"misc",name:"complete"}),this}_clickManager=new Ja(this);cancelDoubleClick(){this._clickManager.cancelDoubleClickTimeout()}_prevCursor="default";_shiftKeyTimeout=-1;_setShiftKeyTimeout=()=>{this.inputs.shiftKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Shift",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"ShiftLeft"})};_altKeyTimeout=-1;_setAltKeyTimeout=()=>{this.inputs.altKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Alt",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"AltLeft"})};_ctrlKeyTimeout=-1;_setCtrlKeyTimeout=()=>{this.inputs.ctrlKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Ctrl",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"ControlLeft"})};_restoreToolId="select";_pinchStart=1;_didPinch=!1;_selectedShapeIdsAtPointerDown=[];capturedPointerId=null;dispatch=e=>{if(this.getCrashingError())return this;const{inputs:t}=this,{type:n}=e;return this.batch((()=>{if("misc"===e.type)return"cancel"!==e.name&&"complete"!==e.name||(this.inputs.isDragging=!1,this.inputs.isPanning&&(this.inputs.isPanning=!1,this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}}))),void this.root.handleEvent(e);e.shiftKey?(clearInterval(this._shiftKeyTimeout),this._shiftKeyTimeout=-1,t.shiftKey=!0):!e.shiftKey&&t.shiftKey&&-1===this._shiftKeyTimeout&&(this._shiftKeyTimeout=setTimeout(this._setShiftKeyTimeout,150)),e.altKey?(clearInterval(this._altKeyTimeout),this._altKeyTimeout=-1,t.altKey=!0):!e.altKey&&t.altKey&&-1===this._altKeyTimeout&&(this._altKeyTimeout=setTimeout(this._setAltKeyTimeout,150)),e.ctrlKey?(clearInterval(this._ctrlKeyTimeout),this._ctrlKeyTimeout=-1,t.ctrlKey=!0):!e.ctrlKey&&t.ctrlKey&&-1===this._ctrlKeyTimeout&&(this._ctrlKeyTimeout=setTimeout(this._setCtrlKeyTimeout,150));const{originPagePoint:r,originScreenPoint:i,currentPagePoint:o,currentScreenPoint:s}=t;switch(t.isPointing||(t.isDragging=!1),n){case"pinch":if(!this.getInstanceState().canMoveCamera)return;switch(this._updateInputsFromEvent(e),e.name){case"pinch_start":if(t.isPinching)return;return void(t.isEditing||(this._pinchStart=this.getCamera().z,this._selectedShapeIdsAtPointerDown.length||(this._selectedShapeIdsAtPointerDown=this.getSelectedShapeIds()),this._didPinch=!0,t.isPinching=!0,this.interrupt()));case"pinch":{if(!t.isPinching)return;const{point:{z:n=1},delta:{x:r,y:i}}=e,{screenBounds:o}=this.store.unsafeGetWithoutCapture(sn),{x:s,y:a}=ti.SubXY(e.point,o.x,o.y),{x:c,y:l,z:u}=this.getCamera(),d=Math.min(Fi,Math.max(zi,n));return void this.setCamera({x:c+r/u-s/u+s/d,y:l+i/u-a/u+a/d,z:d})}case"pinch_end":{if(!t.isPinching)return this;t.isPinching=!1;const{_selectedShapeIdsAtPointerDown:e}=this;return this.setSelectedShapes(this._selectedShapeIdsAtPointerDown,{squashing:!0}),this._selectedShapeIdsAtPointerDown=[],void(this._didPinch&&(this._didPinch=!1,requestAnimationFrame((()=>{this._didPinch||this.setSelectedShapes(e,{squashing:!0})}))))}}case"wheel":if(!this.getInstanceState().canMoveCamera)return;if(this._updateInputsFromEvent(e),this.getIsMenuOpen());else{if(t.ctrlKey){const{x:t,y:n}=this.inputs.currentScreenPoint,{x:r,y:i,z:o}=this.getCamera(),s=Math.min(Fi,Math.max(zi,o+(e.delta.z??0)*o));return void this.setCamera({x:r+(t/s-t)-(t/o-t),y:i+(n/s-n)-(n/o-n),z:s})}this.pan(e.delta),!t.isDragging&&t.isPointing&&r.dist(o)>(this.getInstanceState().isCoarsePointer?6:Vi)/this.getZoomLevel()&&(t.isDragging=!0)}break;case"pointer":{if(t.isPinching)return;this._updateInputsFromEvent(e);const{isPen:n}=e;switch(e.name){case"pointer_down":if(this.clearOpenMenus(),this._selectedShapeIdsAtPointerDown=this.getSelectedShapeIds(),0===e.button&&(this.capturedPointerId=e.pointerId),t.buttons.add(e.button),t.isPointing=!0,t.isDragging=!1,this.getInstanceState().isPenMode){if(!n)return}else n&&this.updateInstanceState({isPenMode:!0});if(5===e.button?(this._restoreToolId=this.getCurrentToolId(),this.complete(),this.setCurrentTool("eraser")):1===e.button&&(this.inputs.isPanning||(this._prevCursor=this.getInstanceState().cursor.type),this.inputs.isPanning=!0),this.inputs.isPanning)return this.stopCameraAnimation(),this.updateInstanceState({cursor:{type:"grabbing",rotation:0}}),this;i.setTo(s),r.setTo(o);break;case"pointer_move":if(!n&&this.getInstanceState().isPenMode)return;if(this.inputs.isPanning&&this.inputs.isPointing){const{currentScreenPoint:e,previousScreenPoint:t}=this.inputs;return void this.pan(ti.Sub(e,t))}!t.isDragging&&t.isPointing&&r.dist(o)>(this.getInstanceState().isCoarsePointer?6:Vi)/this.getZoomLevel()&&(t.isDragging=!0);break;case"pointer_up":if(t.buttons.delete(e.button),t.isPointing=!1,t.isDragging=!1,this.getIsMenuOpen())return;if(!n&&this.getInstanceState().isPenMode)return;this.capturedPointerId===e.pointerId&&(this.capturedPointerId=null,e.button=0),t.isPanning?1===e.button?this.inputs.keys.has(" ")?(this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:Yi}),this.updateInstanceState({cursor:{type:"grab",rotation:0}})):(t.isPanning=!1,this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:Yi}),this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}})):0===e.button&&(this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:Yi}),this.updateInstanceState({cursor:{type:"grab",rotation:0}})):5===e.button&&(this.complete(),this.setCurrentTool(this._restoreToolId))}break}case"keyboard":switch("ShiftRight"===e.key&&(e.key="ShiftLeft"),"AltRight"===e.key&&(e.key="AltLeft"),"ControlRight"===e.code&&(e.code="ControlLeft"),e.name){case"key_down":t.keys.add(e.code),e.ctrlKey||"Space"!==e.code||(this.inputs.isPanning||(this._prevCursor=this.getInstanceState().cursor.type),this.inputs.isPanning=!0,this.updateInstanceState({cursor:{type:this.inputs.isPointing?"grabbing":"grab",rotation:0}}));break;case"key_up":t.keys.delete(e.code),"Space"!==e.code||this.inputs.buttons.has(1)||(this.inputs.isPanning=!1,this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}}))}}if("pointer"===e.type&&(1===e.button?e.name="middle_click":2===e.button&&(e.name="right_click"),e.isPen===this.getInstanceState().isPenMode))switch(e.name){case"pointer_down":{const t=this._clickManager.transformPointerDownEvent(e);if(e.name!==t.name)return this.root.handleEvent(e),this.emit("event",e),this.root.handleEvent(t),void this.emit("event",t);break}case"pointer_up":{const t=this._clickManager.transformPointerUpEvent(e);if(e.name!==t.name)return this.root.handleEvent(e),this.emit("event",e),this.root.handleEvent(t),void this.emit("event",t);break}case"pointer_move":this._clickManager.handleMove()}this.root.handleEvent(e),this.emit("event",e)})),this}}function el(e,t=e.getCurrentPageId()){const n=e.getPage(t).name;e.emit("max-shapes",{name:n,pageId:t,count:$i})}function tl(e,t){if(!t)return e;let n=null;const r=Object.entries(t);for(let t=0,i=r.length;t<i;t++){const[i,o]=r[t];if(void 0!==o&&"id"!==i&&"type"!==i&&"typeName"!==i&&o!==e[i])if(n||(n={...e}),"props"!==i&&"meta"!==i)n[i]=o;else{n[i]={...e[i]};for(const[e,t]of Object.entries(o))void 0!==t&&(n[i][e]=t)}}return n||e}function nl(){const e=Gr();return(0,s.h)("isDarkMode",(()=>e.user.getIsDarkMode()),[e])}Kc([o.EW],Jc.prototype,"getCanUndo",1),Kc([o.EW],Jc.prototype,"getCanRedo",1),Kc([o.EW],Jc.prototype,"_getArrowBindingsIndex",1),Kc([o.EW],Jc.prototype,"getArrowInfoCache",1),Kc([o.EW],Jc.prototype,"getPath",1),Kc([o.EW],Jc.prototype,"getCurrentTool",1),Kc([o.EW],Jc.prototype,"getCurrentToolId",1),Kc([o.EW],Jc.prototype,"getDocumentSettings",1),Kc([o.EW],Jc.prototype,"getInstanceState",1),Kc([o.EW],Jc.prototype,"getOpenMenus",1),Kc([o.EW],Jc.prototype,"getIsMenuOpen",1),Kc([o.EW],Jc.prototype,"getPageStates",1),Kc([o.EW],Jc.prototype,"_getPageStatesQuery",1),Kc([o.EW],Jc.prototype,"getCurrentPageState",1),Kc([o.EW],Jc.prototype,"_getCurrentPageStateId",1),Kc([o.EW],Jc.prototype,"getSelectedShapeIds",1),Kc([o.EW],Jc.prototype,"getSelectedShapes",1),Kc([o.EW],Jc.prototype,"getOnlySelectedShape",1),Kc([o.EW],Jc.prototype,"getSelectionPageBounds",1),Kc([o.EW],Jc.prototype,"getSelectionRotation",1),Kc([o.EW],Jc.prototype,"getSelectionRotatedPageBounds",1),Kc([o.EW],Jc.prototype,"getFocusedGroupId",1),Kc([o.EW],Jc.prototype,"getFocusedGroup",1),Kc([o.EW],Jc.prototype,"getEditingShapeId",1),Kc([o.EW],Jc.prototype,"getEditingShape",1),Kc([o.EW],Jc.prototype,"getHoveredShapeId",1),Kc([o.EW],Jc.prototype,"getHoveredShape",1),Kc([o.EW],Jc.prototype,"getHintingShapeIds",1),Kc([o.EW],Jc.prototype,"getHintingShape",1),Kc([o.EW],Jc.prototype,"getErasingShapeIds",1),Kc([o.EW],Jc.prototype,"getErasingShapes",1),Kc([o.EW],Jc.prototype,"getCameraId",1),Kc([o.EW],Jc.prototype,"getCamera",1),Kc([o.EW],Jc.prototype,"getZoomLevel",1),Kc([o.EW],Jc.prototype,"getViewportScreenBounds",1),Kc([o.EW],Jc.prototype,"getViewportScreenCenter",1),Kc([o.EW],Jc.prototype,"getViewportPageBounds",1),Kc([o.EW],Jc.prototype,"getViewportPageCenter",1),Kc([o.EW],Jc.prototype,"getRenderingShapes",1),Kc([o.EW],Jc.prototype,"_getAllPagesQuery",1),Kc([o.EW],Jc.prototype,"getPages",1),Kc([o.EW],Jc.prototype,"_getAllAssetsQuery",1),Kc([o.EW],Jc.prototype,"_getShapeGeometryCache",1),Kc([o.EW],Jc.prototype,"_getShapeHandlesCache",1),Kc([o.EW],Jc.prototype,"_getShapePageTransformCache",1),Kc([o.EW],Jc.prototype,"_getShapePageBoundsCache",1),Kc([o.EW],Jc.prototype,"_getShapeClipPathCache",1),Kc([o.EW],Jc.prototype,"_getShapeMaskCache",1),Kc([o.EW],Jc.prototype,"getCurrentPageBounds",1),Kc([o.EW],Jc.prototype,"getCurrentPageShapes",1),Kc([o.EW],Jc.prototype,"getCurrentPageShapesSorted",1),Kc([o.EW],Jc.prototype,"getCurrentPageRenderingShapesSorted",1),Kc([o.EW],Jc.prototype,"_getSelectionSharedStyles",1),Kc([(0,o.EW)({isEqual:(e,t)=>e.equals(t)})],Jc.prototype,"getSharedStyles",1),Kc([o.EW],Jc.prototype,"getSharedOpacity",1);const rl="<path d='m19.7432 17.0869-4.072 4.068 2.829 2.828-8.473-.013-.013-8.47 2.841 2.842 4.075-4.068 1.414-1.415-2.844-2.842h8.486v8.484l-2.83-2.827z' fill='%23fff'/><path d='m18.6826 16.7334-4.427 4.424 1.828 1.828-5.056-.016-.014-5.054 1.842 1.841 4.428-4.422 2.474-2.475-1.844-1.843h5.073v5.071l-1.83-1.828z' fill='%23000'/>",il="<path d='m9 17.9907v.005l5.997 5.996.001-3.999h1.999 2.02v4l5.98-6.001-5.98-5.999.001 4.019-2.021.002h-2l.001-4.022zm1.411.003 3.587-3.588-.001 2.587h3.5 2.521v-2.585l3.565 3.586-3.564 3.585-.001-2.585h-2.521l-3.499-.001-.001 2.586z' fill='%23fff'/><path d='m17.4971 18.9932h2.521v2.586l3.565-3.586-3.565-3.585v2.605h-2.521-3.5v-2.607l-3.586 3.587 3.586 3.586v-2.587z' fill='%23000'/>",ol='<path d="M22.4789 9.45728L25.9935 12.9942L22.4789 16.5283V14.1032C18.126 14.1502 14.6071 17.6737 14.5675 22.0283H17.05L13.513 25.543L9.97889 22.0283H12.5674C12.6071 16.5691 17.0214 12.1503 22.4789 12.1031L22.4789 9.45728Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21.4789 7.03223L27.4035 12.9945L21.4789 18.9521V15.1868C18.4798 15.6549 16.1113 18.0273 15.649 21.0284H19.475L13.5128 26.953L7.55519 21.0284H11.6189C12.1243 15.8155 16.2679 11.6677 21.4789 11.1559L21.4789 7.03223ZM22.4789 12.1031C17.0214 12.1503 12.6071 16.5691 12.5674 22.0284H9.97889L13.513 25.543L17.05 22.0284H14.5675C14.5705 21.6896 14.5947 21.3558 14.6386 21.0284C15.1157 17.4741 17.9266 14.6592 21.4789 14.1761C21.8063 14.1316 22.1401 14.1069 22.4789 14.1032V16.5284L25.9935 12.9942L22.4789 9.45729L22.4789 12.1031Z" fill="white"/>';function sl(e,t,n,r,i,o=16,s=16){const a=oi/180*(-n-t),c=Math.sin(a),l=Math.cos(a);return`url("data:image/svg+xml,<svg height='32' width='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg' style='color: ${i};'><defs><filter id='shadow' y='-40%' x='-40%' width='180px' height='180%' color-interpolation-filters='sRGB'><feDropShadow dx='${1*l-1*c}' dy='${1*c+1*l}' stdDeviation='1.2' flood-opacity='.5'/></filter></defs><g fill='none' transform='rotate(${t+n} 16 16)${r?" scale(-1,-1) translate(0, -32)":""}' filter='url(%23shadow)'>`+e.replaceAll('"',"'")+`</g></svg>") ${o} ${s}, pointer`}const al=["default","pointer","cross","move","grab","grabbing","text","zoom-in","zoom-out"],cl={none:()=>"none","ew-resize":(e,t,n)=>sl(il,e,0,t,n),"ns-resize":(e,t,n)=>sl(il,e,90,t,n),"nesw-resize":(e,t,n)=>sl(rl,e,0,t,n),"nwse-resize":(e,t,n)=>sl(rl,e,90,t,n),"nwse-rotate":(e,t,n)=>sl(ol,e,0,t,n),"nesw-rotate":(e,t,n)=>sl(ol,e,90,t,n),"senw-rotate":(e,t,n)=>sl(ol,e,180,t,n),"swne-rotate":(e,t,n)=>sl(ol,e,270,t,n)};function ll(e,t=0,n="black"){return cl[e](Oi(t),!1,n)}const ul="TLDRAW_TAB_ID_v2",dl=globalThis.window,hl=dl?dl[ul]??dl.sessionStorage[ul]??"TLDRAW_INSTANCE_STATE_V1_"+ta():"<error>";dl&&(dl[ul]=hl,dl&&(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(dl.navigator.platform)||dl.navigator.userAgent.includes("Mac")&&"ontouchend"in document)?dl.sessionStorage[ul]=hl:delete dl.sessionStorage[ul]),dl?.addEventListener("beforeunload",(()=>{dl.sessionStorage[ul]=hl}));const pl=0,fl=kt({version:ht,currentPageId:tn,isFocusMode:vt,exportBackground:vt,isDebugMode:vt,isToolLocked:vt,isGridMode:vt,pageStates:wt(kt({pageId:tn,camera:kt({x:ht,y:ht,z:ht}),selectedShapeIds:wt(cn),focusedGroupId:cn.nullable()}))}),ml=Ue({currentVersion:pl});function gl(e){const t=e.query.ids("page");return(0,o.EW)("sessionStateSnapshot",(()=>{const n=e.get(sn);if(!n)return null;const r=[...t.get()];return{version:pl,currentPageId:n.currentPageId,exportBackground:n.exportBackground,isFocusMode:n.isFocusMode,isDebugMode:n.isDebugMode,isToolLocked:n.isToolLocked,isGridMode:n.isGridMode,pageStates:r.map((t=>{const n=e.get(dn.createId(t)),r=e.get(Wt.createId(t));return{pageId:t,camera:{x:r?.x??0,y:r?.y??0,z:r?.z??1},selectedShapeIds:n?.selectedShapeIds??[],focusedGroupId:n?.focusedGroupId??null}}))}}))}function yl(e,t){const n=function(e){if(!e||"object"!=typeof e)return console.warn("Invalid instance state"),null;if(!("version"in e)||"number"!=typeof e.version)return console.warn("No version in instance state"),null;const t=Ge({value:e,fromVersion:e.version,toVersion:pl,migrations:ml});if("error"===t.type)return console.warn(t.reason),null;const n={...t.value,version:pl};try{fl.validate(n)}catch(e){return console.warn(e),null}return n}(t);if(!n)return;const r={added:{},updated:{},removed:{...U(e.allRecords().filter((e=>"instance_page_state"===e.typeName||"camera"===e.typeName)).map((e=>[e.id,e])))}};e.has(sn)&&(r.removed[sn]=e.get(sn));const i={removed:{},updated:{},added:{[sn]:e.schema.types.instance.create({id:sn,currentPageId:n.currentPageId,isDebugMode:n.isDebugMode,isFocusMode:n.isFocusMode,isToolLocked:n.isToolLocked,isGridMode:n.isGridMode,exportBackground:n.exportBackground})}};for(const e of n.pageStates){const t=Wt.createId(e.pageId),n=dn.createId(e.pageId);i.added[t]=Wt.create({id:Wt.createId(e.pageId),x:e.camera.x,y:e.camera.y,z:e.camera.z}),i.added[n]=dn.create({id:dn.createId(e.pageId),pageId:e.pageId,selectedShapeIds:e.selectedShapeIds,focusedGroupId:e.focusedGroupId})}(0,o.hL)((()=>{e.applyDiff(Ze([r,i])),e.ensureStoreIsUsable()}))}function vl(e){const t=[];for(const n of Object.values(e))n.typeName?.match(/^(instance.*|pointer|camera)$/)&&t.push(n);const n=t.filter((e=>"instance"===e.typeName&&e.id!==sn))[0];if(!n)return null;const r={version:pl,currentPageId:n.currentPageId,exportBackground:!!n.exportBackground,isFocusMode:!!n.isFocusMode,isDebugMode:!!n.isDebugMode,isToolLocked:!!n.isToolLocked,isGridMode:!1,pageStates:t.filter((e=>"instance_page_state"===e.typeName&&e.instanceId===n.id)).map((t=>{const n=e[t.cameraId]??{x:0,y:0,z:1};return{pageId:t.pageId,camera:{x:n.x,y:n.y,z:n.z},selectedShapeIds:t.selectedShapeIds,focusedGroupId:t.focusedGroupId}}))};try{return fl.validate(r),r}catch(e){return null}}const bl=(e,t)=>t.some((t=>e instanceof t));let xl,Ol;const wl=new WeakMap,Sl=new WeakMap,kl=new WeakMap,_l=new WeakMap,Pl=new WeakMap;let El={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Sl.get(e);if("objectStoreNames"===t)return e.objectStoreNames||kl.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tl(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Cl(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ol||(Ol=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(jl(this),e),Tl(wl.get(this))}:function(...e){return Tl(t.apply(jl(this),e))}:function(e,...n){const r=t.call(jl(this),e,...n);return kl.set(r,e.sort?e.sort():[e]),Tl(r)}:(e instanceof IDBTransaction&&function(e){if(Sl.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Sl.set(e,t)}(e),bl(e,xl||(xl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,El):e);var t}function Tl(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Tl(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&wl.set(t,e)})).catch((()=>{})),Pl.set(t,e),t}(e);if(_l.has(e))return _l.get(e);const t=Cl(e);return t!==e&&(_l.set(e,t),Pl.set(t,e)),t}const jl=e=>Pl.get(e),Il=["get","getKey","getAll","getAllKeys","count"],Ml=["put","add","delete","clear"],Al=new Map;function Dl(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Al.get(t))return Al.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ml.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Il.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return Al.set(t,o),o}var $l;$l=El,El={...$l,get:(e,t,n)=>Dl(e,t)||$l.get(e,t,n),has:(e,t)=>!!Dl(e,t)||$l.has(e,t)};const Rl="TLDRAW_DOCUMENT_v2",Nl="TLDRAW_DB_NAME_INDEX_v2",Ll={Records:"records",Schema:"schema",SessionState:"session_state"};async function Ql(e,t){!function(e){const t=new Set(zl());t.add(e),window?.localStorage.setItem(Nl,JSON.stringify([...t]))}(e);const n=await function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Tl(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Tl(s.result),e.oldVersion,e.newVersion,Tl(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(e,3,{upgrade(e){e.objectStoreNames.contains(Ll.Records)||e.createObjectStore(Ll.Records),e.objectStoreNames.contains(Ll.Schema)||e.createObjectStore(Ll.Schema),e.objectStoreNames.contains(Ll.SessionState)||e.createObjectStore(Ll.SessionState)}});try{return await t(n)}finally{n.close()}}function zl(){const e=JSON.parse(window?.localStorage.getItem(Nl)||"[]")??[];return Array.isArray(e)?e:[]}const Fl=Symbol("UPDATE_INSTANCE_STATE"),Bl="undefined"==typeof BroadcastChannel?class{onmessage;constructor(e){}postMessage(e){}close(){}}:BroadcastChannel;class Zl{constructor(e,{persistenceKey:t,sessionId:n=hl,onLoad:r,onLoadError:i},o=new Bl(`tldraw-tab-sync-${t}`)){this.store=e,this.channel=o,"undefined"!=typeof window&&(window.tlsync=this),this.persistenceKey=t,this.sessionId=n,this.serializedSchema=this.store.schema.serialize(),this.$sessionStateSnapshot=gl(this.store),this.disposables.add(e.listen((({changes:e})=>{this.diffQueue.push(e),this.channel.postMessage({type:"diff",storeId:this.store.id,changes:e,schema:this.serializedSchema}),this.schedulePersist()}),{source:"user",scope:"document"})),this.disposables.add(e.listen((()=>{this.diffQueue.push(Fl),this.schedulePersist()}),{scope:"session"})),this.connect(r,i),this.documentTypes=new Set(Object.values(this.store.schema.types).filter((e=>"document"===e.scope)).map((e=>e.typeName)))}disposables=new Set;diffQueue=[];didDispose=!1;shouldDoFullDBWrite=!0;isReloading=!1;persistenceKey;sessionId;serializedSchema;isDebugging=!1;documentTypes;$sessionStateSnapshot;initTime=Date.now();debug(...e){this.isDebugging&&console.debug(...e)}async connect(e,t){let n;this.debug("connecting");try{n=await async function({persistenceKey:e,sessionId:t,didCancel:n}){const r=Rl+e;if(zl().includes(r))return await async function({persistenceKey:e,didCancel:t}){await Ql(Rl+e,(async e=>{const n=e.transaction([Ll.SessionState],"readwrite"),r=n.objectStore(Ll.SessionState),i=(await r.getAll()).sort(((e,t)=>e.updatedAt-t.updatedAt));if(i.length<10)return void await n.done;const o=i.slice(0,i.length-10);for(const{id:e}of o)await r.delete(e);if(t?.())return n.abort();await n.done}))}({persistenceKey:e,didCancel:n}),await Ql(r,(async e=>{if(n?.())return;const r=e.transaction([Ll.Records,Ll.Schema,Ll.SessionState],"readonly"),i=r.objectStore(Ll.Records),o=r.objectStore(Ll.Schema),s=r.objectStore(Ll.SessionState);let a=t?(await s.get(t))?.snapshot:null;if(!a){const e=await s.getAll();a=e.sort(((e,t)=>e.updatedAt-t.updatedAt)).pop()?.snapshot}const c={records:await i.getAll(),schema:await o.get(Ll.Schema),sessionStateSnapshot:a};if(!n?.())return await r.done,c;r.abort()}))}({persistenceKey:this.persistenceKey,sessionId:this.sessionId,didCancel:()=>this.didDispose})}catch(e){return t(e),window.alert("Oops! We could not access your browser's storageand the app won't work correctly without that. We now need to reload the page and try again.\n\nKeep seeing this message?\n If you're using tldraw in a private or \"incognito\" window, try loading tldraw in a regular window or in a different browser."),void("undefined"!=typeof window&&window.location.reload())}if(this.debug("loaded data from store",n,"didDispose",this.didDispose),!this.didDispose)try{if(n){const e=Object.fromEntries(n.records.map((e=>[e.id,e]))),r=n.sessionStateSnapshot??vl(e),i=this.store.schema.migrateStoreSnapshot({store:e,schema:n.schema??this.store.schema.serializeEarliestVersion()});if("error"===i.type)return console.error("failed to migrate store",i),void t(new Error(`Failed to migrate store: ${i.reason}`));this.store.mergeRemoteChanges((()=>{this.store.put(Object.values(i.value).filter((e=>this.documentTypes.has(e.typeName))),"initialize")})),r&&yl(this.store,r)}this.channel.onmessage=({data:e})=>{this.debug("got message",e);const n=e,r=Je(this.serializedSchema,n.schema??this.store.schema.serializeEarliestVersion());return-1===r?Date.now()-this.initTime<5e3?void t(new Error("Schema mismatch, please close other tabs and reload the page")):(this.debug("reloading"),this.isReloading=!0,void window?.location?.reload?.()):1===r?(this.debug("telling them to reload"),this.channel.postMessage({type:"announce",schema:this.serializedSchema}),this.shouldDoFullDBWrite=!0,void this.persistIfNeeded()):void("diff"===n.type&&(this.debug("applying diff"),(0,o.hL)((()=>{this.store.mergeRemoteChanges((()=>{this.store.applyDiff(n.changes),this.store.ensureStoreIsUsable()}))}))))},this.channel.postMessage({type:"announce",schema:this.serializedSchema}),this.disposables.add((()=>{this.channel.close()})),e(this)}catch(e){if(this.debug("error loading data from store",e),this.didDispose)return;return void t(e)}}close(){this.debug("closing"),this.didDispose=!0,this.disposables.forEach((e=>e()))}isPersisting=!1;didLastWriteError=!1;scheduledPersistTimeout=null;schedulePersist(){this.debug("schedulePersist",this.scheduledPersistTimeout),this.scheduledPersistTimeout||(this.scheduledPersistTimeout=setTimeout((()=>{this.scheduledPersistTimeout=null,this.persistIfNeeded()}),this.didLastWriteError?1e4:350))}persistIfNeeded(){this.debug("persistIfNeeded",{isPersisting:this.isPersisting,isReloading:this.isReloading,shouldDoFullDBWrite:this.shouldDoFullDBWrite,diffQueueLength:this.diffQueue.length,storeIsPossiblyCorrupt:this.store.isPossiblyCorrupted()}),this.scheduledPersistTimeout&&(clearTimeout(this.scheduledPersistTimeout),this.scheduledPersistTimeout=null),this.isPersisting||this.isReloading||this.store.isPossiblyCorrupted()||(this.shouldDoFullDBWrite||this.diffQueue.length>0)&&this.doPersist()}async doPersist(){x(!this.isPersisting,"persist already in progress"),this.isPersisting=!0,this.debug("doPersist start");const e=this.diffQueue;this.diffQueue=[];try{if(this.shouldDoFullDBWrite)this.shouldDoFullDBWrite=!1,await async function({persistenceKey:e,schema:t,snapshot:n,sessionId:r,sessionStateSnapshot:i,didCancel:o}){const s=Rl+e;await Ql(s,(async e=>{const s=e.transaction([Ll.Records,Ll.Schema,Ll.SessionState],"readwrite"),a=s.objectStore(Ll.Records),c=s.objectStore(Ll.Schema),l=s.objectStore(Ll.SessionState);await a.clear();for(const[e,t]of Object.entries(n))await a.put(t,e);if(c.put(t.serialize(),Ll.Schema),i&&r?l.put({snapshot:i,updatedAt:Date.now(),id:r},r):(i||r)&&console.error("sessionStateSnapshot and instanceId must be provided together"),o?.())return s.abort();await s.done}))}({persistenceKey:this.persistenceKey,schema:this.store.schema,snapshot:this.store.serialize(),didCancel:()=>this.didDispose,sessionId:this.sessionId,sessionStateSnapshot:this.$sessionStateSnapshot.get()});else{const t=Ze(e.filter((e=>e!==Fl)));await async function({persistenceKey:e,schema:t,changes:n,sessionId:r,sessionStateSnapshot:i,didCancel:o}){const s=Rl+e;await Ql(s,(async e=>{const s=e.transaction([Ll.Records,Ll.Schema,Ll.SessionState],"readwrite"),a=s.objectStore(Ll.Records),c=s.objectStore(Ll.Schema),l=s.objectStore(Ll.SessionState);for(const[e,t]of Object.entries(n.added))await a.put(t,e);for(const[e,t]of Object.values(n.updated))await a.put(t,t.id);for(const e of Object.keys(n.removed))await a.delete(e);if(c.put(t.serialize(),Ll.Schema),i&&r?l.put({snapshot:i,updatedAt:Date.now(),id:r},r):(i||r)&&console.error("sessionStateSnapshot and instanceId must be provided together"),o?.())return s.abort();await s.done}))}({persistenceKey:this.persistenceKey,changes:t,schema:this.store.schema,didCancel:()=>this.didDispose,sessionId:this.sessionId,sessionStateSnapshot:this.$sessionStateSnapshot.get()})}this.didLastWriteError=!1}catch(e){this.shouldDoFullDBWrite=!0,this.didLastWriteError=!0,console.error("failed to store changes in indexed db",e),window.alert("Oops! We could not save changes to your browser's storage. We now need to reload the page and try again.\n\nKeep seeing this message?\n If you're using tldraw in a private or \"incognito\" window, try loading tldraw in a regular window or in a different browser.\n If your hard disk is full, try clearing up some space and then reload the page."),"undefined"!=typeof window&&window.location.reload()}this.isPersisting=!1,this.debug("doPersist end"),this.schedulePersist()}}function Vl({initialData:e,defaultName:t="",...n}){const r="schema"in n&&n.schema?n.schema:Qr({shapes:(i=Ba("shapeUtils"in n&&n.shapeUtils?n.shapeUtils:[]),Object.fromEntries(i.map((e=>[e.type,{props:e.props,migrations:e.migrations}]))))});var i;return new Be({schema:r,initialData:e,props:{defaultName:t}})}function Wl(e){const t=Vl(e);return e.snapshot&&t.loadSnapshot(e.snapshot),{store:t,opts:e}}function Ul(e){const[t,n]=(0,Wr.useState)((()=>Wl(e)));if(!X(t.opts,e)){const t=Wl(e);return n(t),t.store}return t.store}function ql({persistenceKey:e,sessionId:t,...n}){const[r,i]=(0,Wr.useState)(null),o=Ul(n);return(0,Wr.useEffect)((()=>{const n=ta();if(!e)return void i({id:n,storeWithStatus:{status:"not-synced",store:o}});i({id:n,storeWithStatus:{status:"loading"}});const r=e=>{i((t=>t?.id===n?{id:n,storeWithStatus:e}:t))},s=new Zl(o,{sessionId:t,persistenceKey:e,onLoad(){r({store:o,status:"synced-local"})},onLoadError(e){r({status:"error",error:e})}});return()=>{i((e=>e?.id===n?null:e)),s.close()}}),[e,o,t]),r?.storeWithStatus??{status:"loading"}}let Yl=!1;if("undefined"!=typeof window){const e=window.navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);Yl=t&&n&&!e.match(/CriOS/i)}const Xl=[],Hl=[],Gl=(0,Wr.memo)((function({store:e,components:t,className:n,user:r,...i}){const[o,s]=Wr.useState(null),a=(0,Wr.useMemo)((()=>r??ya()),[r]),c=void 0===t?.ErrorFallback?ea:t?.ErrorFallback,l={...i,shapeUtils:i.shapeUtils??Xl,tools:i.tools??Hl,components:t};return(0,Vr.jsx)("div",{ref:s,draggable:!1,className:Ur("tl-container tl-theme__light",n),onPointerDown:ho,tabIndex:-1,children:(0,Vr.jsx)(Xr,{fallback:c,onError:e=>_(e,{tags:{origin:"react.tldraw-before-app"}}),children:o&&(0,Vr.jsx)(mo,{container:o,children:(0,Vr.jsx)(qs,{overrides:t,children:e?e instanceof Be?(0,Vr.jsx)(eu,{...l,store:e,user:a}):(0,Vr.jsx)(Jl,{...l,store:e,user:a}):(0,Vr.jsx)(Kl,{...l,store:e,user:a})})})})})}));function Kl(e){const{defaultName:t,snapshot:n,initialData:r,shapeUtils:i,persistenceKey:o,sessionId:s,user:a}=e,c=ql({shapeUtils:i,initialData:r,persistenceKey:o,sessionId:s,defaultName:t,snapshot:n});return(0,Vr.jsx)(Jl,{...e,store:c,user:a})}const Jl=(0,Wr.memo)((function({store:e,user:t,...n}){const r=go();(0,Wr.useLayoutEffect)((()=>{t.userPreferences.get().isDarkMode&&(r.classList.remove("tl-theme__light"),r.classList.add("tl-theme__dark"))}),[r,t]);const{LoadingScreen:i}=Ys();switch(e.status){case"error":throw e.error;case"loading":return i?(0,Vr.jsx)(i,{}):null}return(0,Vr.jsx)(eu,{...n,store:e.store,user:t})}));function eu({onMount:e,children:t,store:n,tools:r,shapeUtils:i,user:o,initialState:s,autoFocus:a=!0,inferDarkMode:c}){const{ErrorFallback:l}=Ys(),u=go(),[d,h]=(0,Wr.useState)(null);(0,Wr.useLayoutEffect)((()=>{const e=new Jc({store:n,shapeUtils:i,tools:r,getContainer:()=>u,user:o,initialState:s,inferDarkMode:c});return h(e),()=>{e.dispose()}}),[u,i,r,n,o,s,c]);const p=(0,Wr.useSyncExternalStore)((0,Wr.useCallback)((e=>d?(d.on("crash",e),()=>d.off("crash",e)):()=>{}),[d]),(()=>d?.getCrashingError()??null)),{Canvas:f}=Ys();return d?(0,Vr.jsx)(Xr,{fallback:l,onError:e=>d.annotateError(e,{origin:"react.tldraw",willCrashApp:!0}),children:p?(0,Vr.jsx)(nu,{crashingError:p}):(0,Vr.jsx)(Hr.Provider,{value:d,children:(0,Vr.jsx)(tu,{autoFocus:a,onMount:e,children:t??(f?(0,Vr.jsx)(f,{}):null)})})}):null}function tu({children:e,onMount:t,autoFocus:n}){return function(){const e=Gr(),t=go();Wr.useEffect((()=>{const n=e=>t.style.setProperty("--tl-zoom",e.toString()),r=S(n,100),i=new o.VM("useZoomCss",(()=>{e.getCurrentPageShapeIds().size<300?n(e.getZoomLevel()):r(e.getZoomLevel())}));return i.attach(),i.execute(),()=>{i.detach()}}),[e,t])}(),function(){const e=Gr(),t=go(),n=nl();(0,s.lX)("useCursor",(()=>{const{type:r,rotation:i}=e.getInstanceState().cursor;al.includes(r)?t.style.setProperty("--tl-cursor",`var(--tl-cursor-${r})`):t.style.setProperty("--tl-cursor",ll(r,i,n?"white":"black"))}),[e,t,n])}(),function(){const e=Gr(),t=go(),n=nl(),r=(0,s.h)(io.forceSrgb);Wr.useEffect((()=>{n?(t.setAttribute("data-color-mode","dark"),t.classList.remove("tl-theme__light"),t.classList.add("tl-theme__dark")):(t.setAttribute("data-color-mode","light"),t.classList.remove("tl-theme__dark"),t.classList.add("tl-theme__light")),r?t.classList.add("tl-theme__force-sRGB"):t.classList.remove("tl-theme__force-sRGB")}),[e,t,r,n])}(),function(){const e=Gr();Wr.useEffect((()=>{if(Yl)return document.addEventListener("focusout",t),()=>document.removeEventListener("focusout",t);function t(t){(t.target instanceof HTMLInputElement&&"text"===t.target.type||t.target instanceof HTMLTextAreaElement)&&e.complete()}}),[e])}(),function(){const[e,t]=(0,Wr.useState)(0);(0,Wr.useEffect)((()=>t((e=>e+1))),[])}(),function(e){const t=Gr(),n=go();(0,Wr.useLayoutEffect)((()=>{e?(t.getInstanceState().isFocused||t.updateInstanceState({isFocused:!0}),t.getContainer().focus()):t.getInstanceState().isFocused&&t.updateInstanceState({isFocused:!1})}),[t,n,e])}(n),function(e){const t=Gr(),n=function(e){const t=(0,Wr.useRef)();return(0,Wr.useLayoutEffect)((()=>{t.current=e})),(0,Wr.useDebugValue)(e),(0,Wr.useCallback)(((...e)=>{const n=t.current;return x(n,"fn does not exist"),n(...e)}),[])}((t=>{const n=e?.(t);return t.emit("mount"),window.tldrawReady=!0,n}));Wr.useLayoutEffect((()=>{if(t)return n?.(t)}),[t,n])}(t),(0,Vr.jsx)(Vr.Fragment,{children:e})}function nu({crashingError:e}){throw e}function ru({children:e}){return(0,Vr.jsx)("div",{className:"tl-loading",children:e})}function iu({children:e}){return(0,Vr.jsx)("div",{className:"tl-loading",children:e})}function ou({children:e,className:t="",...n}){return(0,Vr.jsx)("div",{...n,className:`tl-html-container ${t}`,children:e})}function su(e,t,n={}){const{newPoint:r,handle:i,scaleX:o,scaleY:s}=t,{minWidth:a=1,maxWidth:c=1/0,minHeight:l=1,maxHeight:u=1/0}=n;let d=e.props.w*o,h=e.props.h*s;const p=new ti(0,0);if(d>0){if(d<a){switch(i){case"top_left":case"left":case"bottom_left":p.x=d-a;break;case"top":case"bottom":p.x=(d-a)/2;break;default:p.x=0}d=a}}else if(p.x=d,d=-d,d<a){switch(i){case"top_left":case"left":case"bottom_left":p.x=-d;break;default:p.x=-a}d=a}if(h>0){if(h<l){switch(i){case"top_left":case"top":case"top_right":p.y=h-l;break;case"right":case"left":p.y=(h-l)/2;break;default:p.y=0}h=l}}else if(p.y=h,h=-h,h<l){switch(i){case"top_left":case"top":case"top_right":p.y=-h;break;default:p.y=-l}h=l}const{x:f,y:m}=p.rot(e.rotation).add(r);return{x:f,y:m,props:{w:Math.min(c,d),h:Math.min(u,h)}}}class au extends Na{getGeometry(e){return new Ra({width:e.props.w,height:e.props.h,isFilled:!0})}onResize=(e,t)=>su(e,t);getHandleSnapGeometry(e){return{points:this.getGeometry(e).bounds.cornersAndCenter}}}class cu extends Yc{static id="idle";onPointerDown=e=>{this.parent.transition("pointing",e)};onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})};onCancel=()=>{this.editor.setCurrentTool("select")}}class lu extends Yc{static id="pointing";markId="";wasFocusedOnEnter=!1;onEnter=()=>{this.wasFocusedOnEnter=!this.editor.getIsMenuOpen()};onPointerMove=e=>{if(this.editor.inputs.isDragging){const{originPagePoint:t}=this.editor.inputs,n=this.parent.shapeType,r=Ln();this.markId=`creating:${r}`,this.editor.mark(this.markId),this.editor.createShapes([{id:r,type:n,x:t.x,y:t.y,props:{w:1,h:1}}]).select(r),this.editor.setCurrentTool("select.resizing",{...e,target:"selection",handle:"bottom_right",isCreating:!0,creationCursorOffset:{x:1,y:1},onInteractionEnd:this.parent.id,onCreate:this.parent.onCreate})}};onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};onInterrupt=()=>{this.cancel()};complete(){const{originPagePoint:e}=this.editor.inputs;if(!this.wasFocusedOnEnter)return;this.editor.mark(this.markId);const t=this.parent.shapeType,n=Ln();this.editor.mark(this.markId),this.editor.createShapes([{id:n,type:t,x:e.x,y:e.y}]);const r=this.editor.getShape(n),{w:i,h:o}=this.editor.getShapeUtil(r).getDefaultProps(),s=new ti(i/2,o/2),a=this.editor.getShapeParentTransform(r);a&&s.rot(-a.rotation()),this.editor.updateShapes([{id:n,type:t,x:r.x-s.x,y:r.y-s.y}]),this.editor.setSelectedShapes([n]),this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):this.editor.setCurrentTool("select.idle")}cancel(){this.parent.transition("idle")}}class uu extends Yc{static id="box";static initial="idle";static children=()=>[cu,lu];onCreate}function du(e){const t=Gr();return(0,s.h)("isCropping",(()=>t.getCroppingShapeId()===e),[t,e])}function hu(e){const t=Gr();return(0,s.h)("isEditing",(()=>t.getEditingShapeId()===e),[t,e])}function pu(e){const t=Gr();return(0,Wr.useMemo)((function(){let n,r;return{onPointerDown:n=>{if(n.isKilled)return;if(2===n.button)return void t.dispatch({type:"pointer",target:"selection",handle:e,name:"right_click",...po(n)});if(0!==n.button)return;const r=ao(n.currentTarget);lo(r,n),r.addEventListener("pointerup",(function e(){r.removeEventListener("pointerup",e),uo(r,n)})),t.dispatch({name:"pointer_down",type:"pointer",target:"selection",handle:e,...po(n)}),ho(n)},onPointerMove:function(i){i.isKilled||0===i.button&&(i.clientX===n&&i.clientY===r||(n=i.clientX,r=i.clientY,t.dispatch({name:"pointer_move",type:"pointer",target:"selection",handle:e,...po(i)})))},onPointerUp:n=>{n.isKilled||0===n.button&&t.dispatch({name:"pointer_up",type:"pointer",target:"selection",handle:e,...po(n)})}}}),[t,e])}function fu(e,t=20){return Math.max(8,Math.ceil(e/t))}class mu extends Ro{_center;radius;start;end;measure;length;angleStart;angleEnd;constructor(e){super({...e,isFilled:!1,isClosed:!1});const{center:t,radius:n,sweepFlag:r,largeArcFlag:i,start:o,end:s}=e;if(o.equals(s))throw Error("Arc must have different start and end points.");this.angleStart=ti.Angle(t,o),this.angleEnd=ti.Angle(t,s),this.measure=Ai(this.angleStart,this.angleEnd,r,i),this.length=this.measure*n,this.start=o,this.end=s,this._center=t,this.radius=n}nearestPoint(e){const{_center:t,measure:n,radius:r,angleEnd:i,angleStart:o,start:s,end:a}=this,c=Mi(n,o,i,t.angle(e));if(c<=0)return s;if(c>=1)return a;const l=t.clone().add(e.clone().sub(t).uni().mul(r));let u,d=1/0;for(const t of[s,a,l])e.dist(t)<d&&(u=t,d=e.dist(t));if(!u)throw Error("nearest point not found");return u}hitTestLineSegment(e,t,n){const{_center:r,radius:i,measure:o,angleStart:s,angleEnd:a}=this,c=Oa(e,t,r,i);return null!==c&&c.some((e=>{const t=Mi(o,s,a,r.angle(e));return t>=0&&t<=1}))}getVertices(){const{_center:e,measure:t,length:n,radius:r,angleStart:i}=this,o=[];for(let s=0,a=fu(Math.abs(n));s<a+1;s++){const n=i+s/a*t;o.push(wi(e,r,n))}return o}}class gu extends Ro{constructor(e){super({isClosed:!0,...e}),this.config=e;const{x:t=0,y:n=0,radius:r}=e;this.x=t,this.y=n,this._center=new ti(r+t,r+n),this.radius=r}_center;radius;x;y;getBounds(){return new jo(this.x,this.y,2*this.radius,2*this.radius)}getVertices(){const{_center:e,radius:t}=this,n=[];for(let r=0,i=fu(ai*t);r<i;r++){const o=r/i*ai;n.push(wi(e,t,o))}return n}nearestPoint(e){const{_center:t,radius:n}=this;return t.equals(e)?ti.AddXY(t,n,0):t.clone().add(e.clone().sub(t).uni().mul(n))}hitTestLineSegment(e,t,n){const{_center:r,radius:i}=this;return null!==Oa(e,t,r,i)}}class yu extends Da{a;b;c;d;constructor(e){const{start:t,cp1:n,cp2:r,end:i}=e;super({...e,points:[t,i]}),this.a=t,this.b=n,this.c=r,this.d=i}getVertices(){const e=[],{a:t,b:n,c:r,d:i}=this;for(let o=0,s=10;o<=s;o++){const a=o/s;e.push(new ti((1-a)*(1-a)*(1-a)*t.x+(1-a)*(1-a)*3*a*n.x+3*(1-a)*(a*a)*r.x+a*a*a*i.x,(1-a)*(1-a)*(1-a)*t.y+(1-a)*(1-a)*3*a*n.y+3*(1-a)*(a*a)*r.y+a*a*a*i.y))}return e}midPoint(){return function(e,t){const{a:n,b:r,c:i,d:o}=e;return new ti(.125*n.x+.375*r.x+.375*i.x+.125*o.x,.125*n.y+.375*r.y+.375*i.y+.125*o.y)}(this)}nearestPoint(e){let t,n=1/0;for(const r of this.segments){const i=r.nearestPoint(e),o=i.dist(e);o<n&&(t=i,n=o)}if(!t)throw Error("nearest point not found");return t}}class vu extends Ro{points;constructor(e){super({...e,isClosed:!1,isFilled:!1});const{points:t}=e;this.points=t}_segments;get segments(){if(!this._segments){this._segments=[];const{points:e}=this,t=e.length,n=t-2,r=1.25;for(let i=0;i<t-1;i++){const t=0===i?e[0]:e[i-1],o=e[i],s=e[i+1],a=i===n?s:e[i+2],c=o,l=0===i?t:new ti(o.x+(s.x-t.x)/6*r,o.y+(s.y-t.y)/6*r),u=i===n?s:new ti(s.x-(a.x-o.x)/6*r,s.y-(a.y-o.y)/6*r),d=s;this._segments.push(new yu({start:c,cp1:l,cp2:u,end:d}))}}return this._segments}_length;get length(){return this._length||(this._length=this.segments.reduce(((e,t)=>e+t.length),0)),this._length}getVertices(){const e=this.segments.reduce(((e,t)=>e.concat(t.vertices)),[]);return e.push(this.points[this.points.length-1]),e}nearestPoint(e){let t,n=1/0;for(const r of this.segments){const i=r.nearestPoint(e),o=i.dist(e);o<n&&(t=i,n=o)}if(!t)throw Error("nearest point not found");return t}hitTestLineSegment(e,t,n){return this.segments.some((r=>r.hitTestLineSegment(e,t,n)))}}class bu extends Ro{constructor(e){super({...e,isClosed:!0}),this.config=e;const{width:t,height:n}=e;this.w=t,this.h=n}w;h;_edges;get edges(){if(!this._edges){const{vertices:e}=this;this._edges=[];for(let t=0,n=e.length;t<n;t++){const r=e[t],i=e[(t+1)%n];this._edges.push(new Aa({start:r,end:i}))}}return this._edges}getVertices(){const e=Math.max(1,this.w)/2,t=Math.max(1,this.h)/2,n=Math.pow(e-t,2)/Math.pow(e+t,2),r=fu(oi*(e+t)*(1+3*n/(10+Math.sqrt(4-3*n)))),i=ai/r,o=Math.cos(i),s=Math.sin(i);let a=0,c=1,l=0,u=1;const d=Array(r);for(let n=0;n<r;n++)d[n]=new ti(e+e*c,t+t*a),l=s*c+o*a,u=o*c-s*a,a=l,c=u;return d}nearestPoint(e){let t,n=1/0;for(const r of this.edges){const i=r.nearestPoint(e),o=i.dist(e);o<n&&(t=i,n=o)}if(!t)throw Error("nearest point not found");return t}hitTestLineSegment(e,t,n){return this.edges.some((r=>r.hitTestLineSegment(e,t,n)))}getBounds(){return new jo(0,0,this.w,this.h)}}class xu extends Ro{point;constructor(e){super({...e,isClosed:!0,isFilled:!0});const{point:t}=e;this.point=t}getVertices(){return[this.point]}nearestPoint(){return this.point}hitTestLineSegment(e,t,n){return ti.DistanceToLineSegment(e,t,this.point)<n}}class Ou extends bu{constructor(e){super({...e}),this.config=e}getVertices(){const e=Math.max(1,this.w),t=Math.max(1,this.h),n=e/2,r=t/2,i=Array(18);if(t>e)for(let e=0;e<9;e++){const r=oi*e/8-oi,o=oi*e/8;i[e]=new ti(n+n*Math.cos(r),n+n*Math.sin(r)),i[e+9]=new ti(n+n*Math.cos(o),t-n+n*Math.sin(o))}else for(let n=0;n<9;n++){const o=oi*n/8-si,s=si+oi*-n/8;i[n]=new ti(e-r+r*Math.cos(o),t-r+r*Math.sin(o)),i[n+9]=new ti(r-r*Math.cos(s),t-r+r*Math.sin(s))}return i}}function wu(e,t,n,r,i){const o=Ki,s=n?Ji:0,a=e-s,c=e+s,l=r?0:o,u=i?t:t-o;return a<l?Math.min(1,(l-a)/o):c>u?-Math.min(1,(c-u)/o):0}function Su(e){if(!e.inputs.isDragging||e.inputs.isPanning||!e.getInstanceState().canMoveCamera)return;const{inputs:{currentScreenPoint:{x:t,y:n}}}=e,r=e.getZoomLevel(),i=e.getViewportScreenBounds(),o=i.w<1e3?.612:1,s=i.h<1e3?.612:1,{isCoarsePointer:a,insets:[c,l,u,d]}=e.getInstanceState(),h=wu(t,i.w,a,d,l),p=wu(n,i.h,a,c,u);if(0===h&&0===p)return;const f=e.user.getEdgeScrollSpeed()*Gi,m=f*h*o/r,g=f*p*s/r,y=e.getCamera();e.setCamera({x:y.x+m,y:y.y+g})}async function ku({shouldReload:e=!0}={}){sessionStorage.clear(),await Promise.all(zl().map((e=>function(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),Tl(n).then((()=>{}))}(e)))),localStorage.clear(),e&&window.location.reload()}function _u(e,t="_blank"){Xs.openWindow(e,t)}"undefined"!=typeof window&&(window.__tldraw__hardReset=ku),n(52526),n(36551),n(48676),n(62182),n(39485);const Pu=()=>{const e=Gr();return(0,s.h)("threeStackableItems",(()=>function(e){return e.getSelectedShapeIds().map((t=>e.getShape(t))).filter((t=>!(!t||e.isShapeOfType(t,"arrow")&&"binding"===t.props.start.type||e.isShapeOfType(t,"arrow")&&"binding"===t.props.end.type)))}(e).length>2),[e])},Eu=()=>{const e=Gr();return(0,s.h)("allow group",(()=>{const t=e.getSelectedShapes();if(t.length<2)return!1;for(const n of t)if(e.isShapeOfType(n,"arrow")){const{start:e,end:r}=n.props;if("binding"===e.type&&!t.some((t=>t.id===e.boundShapeId)))return!1;if("binding"===r.type&&!t.some((e=>e.id===r.boundShapeId)))return!1}return!0}),[e])},Cu=()=>{const e=Gr();return(0,s.h)("allowUngroup",(()=>e.getSelectedShapeIds().some((t=>"group"===e.getShape(t)?.type))),[e])},Tu="undefined"!=typeof window&&"navigator"in window&&Boolean(navigator.clipboard)&&Boolean(navigator.clipboard.read);function ju(e,t){const n=Gr();return(0,s.h)("selectedShapes",(()=>{const r=n.getSelectedShapes().filter((e=>!n.isShapeOrAncestorLocked(e))).length;return void 0===e?void 0===t?r:r<=t:void 0===t?r>=e:r>=e&&r<=t}),[n])}function Iu(){const e=Gr();return(0,s.h)("hasLinkShapeSelected",(()=>{const t=e.getOnlySelectedShape();return!(!t||"embed"===t.type||!("url"in t.props))}),[e])}function Mu(){const e=Gr();return(0,s.h)("useCanRedo",(()=>e.getCanRedo()),[e])}function Au(){const e=Gr();return(0,s.h)("useCanUndo",(()=>e.getCanUndo()),[e])}function Du({children:e}){const t=Gr();return(0,s.h)("shouldDisplayHandles",(()=>t.isInAny("select.idle","select.pointing_handle")),[t])?(0,Vr.jsx)("svg",{className:"tl-user-handles tl-overlays__item",children:e}):null}function $u({shapeId:e}){const t=Gr(),{ShapeIndicator:n}=Ys(),r=(0,s.h)("show hovered",(()=>t.isIn("select.editing_shape")?t.getHoveredShapeId()!==t.getEditingShapeId():t.isInAny("select.idle")),[t]);return n&&r?(0,Vr.jsx)(n,{className:"tl-user-indicator__hovered",shapeId:e}):null}const{PI:Ru}=Math,Nu=Ru+1e-4;function Lu(e,t={}){const{size:n=16,smoothing:r=.5}=t;if(0===e.length||n<=0)return{left:[],right:[]};const i=e[0],o=e[e.length-1],s=o.runningLength,a=Math.pow(n*r,2),c=[],l=[];let u,d=e[0].vector,h=e[0].point,p=h,f=h,m=p,g=!1;for(let t=0;t<e.length;t++){u=e[t];const{point:n,vector:r}=e[t],y=u.vector.dpr(d),v=(t<e.length-1?e[t+1]:e[t]).vector,b=t<e.length-1?v.dpr(u.vector):1,x=null!==b&&b<.2;if(y<0&&!g||x){if(b>-.62&&s-u.runningLength>u.radius){const e=d.clone().mul(u.radius);d.clone().cpr(v)<0?(f=ti.Add(n,e),m=ti.Sub(n,e)):(f=ti.Sub(n,e),m=ti.Add(n,e)),c.push(f),l.push(m)}else{const e=d.clone().mul(u.radius).per(),t=ti.Sub(u.input,e);for(let e=1/13,n=0;n<1;n+=e)f=ti.RotWith(t,u.input,Nu*n),c.push(f),m=ti.RotWith(t,u.input,Nu+Nu*-n),l.push(m)}h=f,p=m,x&&(g=!0);continue}if(g=!1,u===i||u===o){const e=ti.Per(r).mul(u.radius);c.push(ti.Sub(n,e)),l.push(ti.Add(n,e));continue}const O=ti.Lrp(v,r,b).per().mul(u.radius);f=ti.Sub(n,O),(t<=1||ti.Dist2(h,f)>a)&&(c.push(f),h=f),m=ti.Add(n,O),(t<=1||ti.Dist2(p,m)>a)&&(l.push(m),p=m),d=r}return{left:c,right:l}}function Qu(e,t={}){const{size:n=16,start:r={},end:i={},last:o=!1}=t,{cap:s=!0}=r,{cap:a=!0}=i;if(0===e.length||n<=0)return[];const c=e[0],l=e[e.length-1],u=l.runningLength,d=!1===r.taper?0:!0===r.taper?Math.max(n,u):r.taper,h=!1===i.taper?0:!0===i.taper?Math.max(n,u):i.taper,{left:p,right:f}=Lu(e,t),m=c.point,g=e.length>1?e[e.length-1].point:ti.AddXY(c.point,1,1);if(1===e.length&&(!d&&!h||o)){const e=ti.Add(m,ti.Sub(m,g).uni().per().mul(-c.radius)),t=[];for(let n=1/13,r=n;r<=1;r+=n)t.push(ti.RotWith(e,m,2*Nu*r));return t}const y=[];if(d||h&&1===e.length);else if(s)for(let e=1/8,t=e;t<=1;t+=e){const e=ti.RotWith(f[0],m,Nu*t);y.push(e)}else{const e=ti.Sub(p[0],f[0]),t=ti.Mul(e,.5),n=ti.Mul(e,.51);y.push(ti.Sub(m,t),ti.Sub(m,n),ti.Add(m,n),ti.Add(m,t))}const v=[],b=l.vector.clone().per().neg();if(h||d&&1===e.length)v.push(g);else if(a){const e=ti.Add(g,ti.Mul(b,l.radius));for(let t=1/29,n=t;n<1;n+=t)v.push(ti.RotWith(e,g,3*Nu*n))}else v.push(ti.Add(g,ti.Mul(b,l.radius)),ti.Add(g,ti.Mul(b,.99*l.radius)),ti.Sub(g,ti.Mul(b,.99*l.radius)),ti.Sub(g,ti.Mul(b,l.radius)));return p.concat(v,f.reverse(),y)}const zu=.025,Fu=.01;function Bu(e,t={}){const{streamline:n=.5,size:r=16,simulatePressure:i=!1}=t;if(0===e.length)return[];const o=.15+.85*(1-n);let s=e.map(ti.From),a=0;if(!i){let e=s[0];for(;e&&!(e.z>=zu);)s.shift(),e=s[0]}if(!i){let e=s[s.length-1];for(;e&&!(e.z>=Fu);)s.pop(),e=s[s.length-1]}if(0===s.length)return[{point:ti.From(e[0]),input:ti.From(e[0]),pressure:i?.5:.15,vector:new ti(1,1),distance:0,runningLength:0,radius:1}];let c=s[1];for(;c&&!(ti.Dist(c,s[0])>r/3);)s[0].z=Math.max(s[0].z,c.z),s.splice(1,1),c=s[1];const l=s.pop();for(c=s[s.length-1];c&&!(ti.Dist(c,l)>r/3);)s.pop(),c=s[s.length-1],a++;s.push(l);const u=t.last||!t.simulatePressure||s.length>1&&ti.Dist(s[s.length-1],s[s.length-2])<r||a>0;if(2===s.length&&t.simulatePressure){const e=s[1];s=s.slice(0,-1);for(let t=1;t<5;t++){const n=ti.Lrp(s[0],e,t/4);n.z=(s[0].z+(e.z-s[0].z))*t/4,s.push(n)}}const d=[{point:s[0],input:s[0],pressure:i?.5:s[0].z,vector:new ti(1,1),distance:0,runningLength:0,radius:1}];let h,p,f=0,m=d[0];u&&n>0&&s.push(s[s.length-1].clone());for(let e=1,n=s.length;e<n;e++)h=!o||t.last&&e===n-1?s[e].clone():s[e].clone().lrp(m.point,1-o),m.point.equals(h)||(p=ti.Dist(h,m.point),f+=p,e<4&&f<r||(m={input:s[e],point:h,pressure:i?.5:s[e].z,vector:ti.Sub(m.point,h).uni(),distance:p,runningLength:f,radius:1},d.push(m)));if(d[1]?.vector&&(d[0].vector=d[1].vector.clone()),f<1){const e=Math.max(.5,...d.map((e=>e.pressure)));d.forEach((t=>t.pressure=e))}return d}const{min:Zu}=Math,Vu=.275;function Wu(e,t){const{size:n=16,thinning:r=.5,simulatePressure:i=!0,easing:o=(e=>e),start:s={},end:a={}}=t,{easing:c=ei.easeOutQuad}=s,{easing:l=ei.easeOutCubic}=a,u=e[e.length-1].runningLength;let d,h,p=e[0].pressure;if(!i&&u<n){const t=e.reduce(((e,t)=>Math.max(e,t.pressure)),.5);return e.forEach((e=>{e.pressure=t,e.radius=n*o(.5-r*(.5-e.pressure))})),e}{let t;for(let r=0,o=e.length;r<o&&(h=e[r],!(h.runningLength>5*n));r++){const e=Zu(1,h.distance/n);if(i){const n=Zu(1,1-e);t=Zu(1,p+e*Vu*(n-p))}else t=Zu(1,p+.5*(h.pressure-p));p+=.5*(t-p)}for(let t=0;t<e.length;t++){if(h=e[t],r){let{pressure:e}=h;const t=Zu(1,h.distance/n);if(i){const n=Zu(1,1-t);e=Zu(1,p+t*Vu*(n-p))}else e=Zu(1,p+t*Vu*(e-p));h.radius=n*o(.5-r*(.5-e)),p=e}else h.radius=n/2;void 0===d&&(d=h.radius)}}const f=!1===s.taper?0:!0===s.taper?Math.max(n,u):s.taper,m=!1===a.taper?0:!0===a.taper?Math.max(n,u):a.taper;if(f||m)for(let t=0;t<e.length;t++){h=e[t];const{runningLength:n}=h,r=n<f?c(n/f):1,i=u-n<m?l((u-n)/m):1;h.radius=Math.max(.01,h.radius*Math.min(r,i))}return e}function Uu({scribble:e,zoom:t,color:n,opacity:r,className:i}){if(!e.points.length)return null;const o=function(e,t={}){return Qu(Wu(Bu(e,t),t),t)}(e.points,{size:e.size/t,start:{taper:e.taper,easing:ei.linear},last:"stopping"===e.state,simulatePressure:!1,streamline:.32});let s;if(o.length<4){const n=e.size/t/2,{x:r,y:i}=e.points[e.points.length-1];s=`M ${r-n},${i} a ${n},${n} 0 1,0 ${2*n},0 a ${n},${n} 0 1,0 ${2*-n},0`}else s=Cs(o);return(0,Vr.jsx)("svg",{className:i?Ur("tl-overlays__item",i):i,children:(0,Vr.jsx)("path",{className:"tl-scribble",d:s,fill:n??`var(--color-${e.color})`,opacity:r??e.opacity})})}const qu=({bounds:e,rotation:t})=>{const n=Gr();return(0,s.h)("should display",(()=>n.isInAny("select.idle","select.brushing","select.scribble_brushing","select.pointing_shape","select.pointing_selection","text.resizing")),[n])?(0,Vr.jsx)(js,{bounds:e,rotation:t}):null};function Yu(){const e=Gr();return(0,s.h)("isReadonlyMode",(()=>e.getInstanceState().isReadonly),[e])}function Xu({size:e,width:t,height:n,hideAlternateHandles:r}){const i=Ci(e/3),o=i/2;return(0,Vr.jsxs)("svg",{className:"tl-overlays__item",children:[(0,Vr.jsx)("polyline",{className:"tl-corner-crop-handle",points:`\n\t\t\t\t\t\t${Ci(0-o)},${Ci(e)} \n\t\t\t\t\t\t${Ci(0-o)},${Ci(0-o)} \n\t\t\t\t\t\t${Ci(e)},${Ci(0-o)}`,strokeWidth:i,"data-testid":"selection.crop.top_left","aria-label":"top_left handle"}),(0,Vr.jsx)("line",{className:Ur("tl-corner-crop-edge-handle",{"tl-hidden":r}),x1:Ci(t/2-e),y1:Ci(0-o),x2:Ci(t/2+e),y2:Ci(0-o),strokeWidth:i,"data-testid":"selection.crop.top","aria-label":"top handle"}),(0,Vr.jsx)("polyline",{className:Ur("tl-corner-crop-handle",{"tl-hidden":r}),points:`\n\t\t\t\t\t\t${Ci(t-e)},${Ci(0-o)} \n\t\t\t\t\t\t${Ci(t+o)},${Ci(0-o)} \n\t\t\t\t\t\t${Ci(t+o)},${Ci(e)}`,strokeWidth:i,"data-testid":"selection.crop.top_right","aria-label":"top_right handle"}),(0,Vr.jsx)("line",{className:Ur("tl-corner-crop-edge-handle",{"tl-hidden":r}),x1:Ci(t+o),y1:Ci(n/2-e),x2:Ci(t+o),y2:Ci(n/2+e),strokeWidth:i,"data-testid":"selection.crop.right","aria-label":"right handle"}),(0,Vr.jsx)("polyline",{className:"tl-corner-crop-handle",points:`\n\t\t\t\t\t\t${Ci(t+o)},${Ci(n-e)} \n\t\t\t\t\t\t${Ci(t+o)},${Ci(n+o)}\n\t\t\t\t\t\t${Ci(t-e)},${Ci(n+o)}`,strokeWidth:i,"data-testid":"selection.crop.bottom_right","aria-label":"bottom_right handle"}),(0,Vr.jsx)("line",{className:Ur("tl-corner-crop-edge-handle",{"tl-hidden":r}),x1:Ci(t/2-e),y1:Ci(n+o),x2:Ci(t/2+e),y2:Ci(n+o),strokeWidth:i,"data-testid":"selection.crop.bottom","aria-label":"bottom handle"}),(0,Vr.jsx)("polyline",{className:Ur("tl-corner-crop-handle",{"tl-hidden":r}),points:`\n\t\t\t\t\t\t${Ci(0+e)},${Ci(n+o)} \n\t\t\t\t\t\t${Ci(0-o)},${Ci(n+o)}\n\t\t\t\t\t\t${Ci(0-o)},${Ci(n-e)}`,strokeWidth:i,"data-testid":"selection.crop.bottom_left","aria-label":"bottom_left handle"}),(0,Vr.jsx)("line",{className:Ur("tl-corner-crop-edge-handle",{"tl-hidden":r}),x1:Ci(0-o),y1:Ci(n/2-e),x2:Ci(0-o),y2:Ci(n/2+e),strokeWidth:i,"data-testid":"selection.crop.left","aria-label":"left handle"})]})}const Hu=(0,s.u4)((function({bounds:e,rotation:t}){const n=Gr(),r=(0,Wr.useRef)(null),i=Yu(),o=pu("top"),s=pu("right"),a=pu("bottom"),c=pu("left"),l=pu("top_left"),u=pu("top_right"),d=pu("bottom_right"),h=pu("bottom_left"),p=!n.getIsMenuOpen()&&"default"===n.getInstanceState().cursor.type,f=n.getInstanceState().isCoarsePointer,m=n.getOnlySelectedShape(),g=m&&n.isShapeOrAncestorLocked(m),y=m?n.getShapeUtil(m).expandSelectionOutlinePx(m):0;if(Jr(r,e?.x,e?.y,1,n.getSelectionRotation(),{x:-y,y:-y}),!e)return null;e=e.clone().expandBy(y).zeroFix();const v=n.getZoomLevel(),b=n.getInstanceState().isChangingStyle,x=e.width,O=e.height,w=8/v,S=x<2*w,k=O<2*w,_=x<4*w,P=O<4*w,E=x<5*w,C=O<5*w,T=f?1.75:1,j=6/v*T,I=(_?j/2:j)*(.75*T),M=(P?j/2:j)*(.75*T),A=!(m&&n.getShapeUtil(m).hideSelectionBoundsFg(m)||b);let D=A&&n.isInAny("select.idle","select.brushing","select.scribble_brushing","select.pointing_canvas","select.pointing_selection","select.pointing_shape","select.crop.idle","select.crop.pointing_crop","select.pointing_resize_handle","select.pointing_crop_handle")||A&&n.isIn("select.resizing")&&m&&n.isShapeOfType(m,"text");m&&D&&n.environment.isFirefox&&n.isShapeOfType(m,"embed")&&(D=!1);const $=n.isInAny("select.pointing_crop_handle","select.crop.idle","select.crop.pointing_crop")&&!b&&!i,R=n.isInAny("select.idle","select.pointing_selection","select.pointing_shape","select.crop.idle")&&!b&&!i,N=!f&&!(S||k)&&(R||$)&&(!m||!n.getShapeUtil(m).hideRotateHandle(m))&&!g,L=f&&(!_||!P)&&(R||$)&&(!m||!n.getShapeUtil(m).hideRotateHandle(m))&&!g,Q=R&&(!m||n.getShapeUtil(m).canResize(m)&&!n.getShapeUtil(m).hideResizeHandles(m))&&!$&&!g,z=S||k,F=S&&k,B=E||C,Z=Q||$,V=!N,W=!R||!L,U=!R||!Z,q=!R||!Z||z,Y=!R||!Z||z,X=!R||!Z||F&&!$;let H=!0,G=!0;if($)H=B,G=B;else if(Q){H=z||F||f;const e=f&&m&&"text"===m.type;G=H&&!e}const K=Math.min(24/v,O-3*M),J=R&&f&&m&&n.isShapeOfType(m,"text")&&K*v>=4;return(0,Vr.jsx)("svg",{className:"tl-overlays__item tl-selection__fg","data-testid":"selection-foreground",children:(0,Vr.jsxs)("g",{ref:r,children:[D&&(0,Vr.jsx)("rect",{className:"tl-selection__fg__outline",width:Ci(x),height:Ci(O)}),(0,Vr.jsx)(Gu,{"data-testid":"selection.rotate.top-left",cx:0,cy:0,targetSize:j,corner:"top_left_rotate",cursor:p?ll("nwse-rotate",t):void 0,isHidden:V}),(0,Vr.jsx)(Gu,{"data-testid":"selection.rotate.top-right",cx:x+3*j,cy:0,targetSize:j,corner:"top_right_rotate",cursor:p?ll("nesw-rotate",t):void 0,isHidden:V}),(0,Vr.jsx)(Gu,{"data-testid":"selection.rotate.bottom-left",cx:0,cy:O+3*j,targetSize:j,corner:"bottom_left_rotate",cursor:p?ll("swne-rotate",t):void 0,isHidden:V}),(0,Vr.jsx)(Gu,{"data-testid":"selection.rotate.bottom-right",cx:x+3*j,cy:O+3*j,targetSize:j,corner:"bottom_right_rotate",cursor:p?ll("senw-rotate",t):void 0,isHidden:V}),(0,Vr.jsx)(Ju,{"data-testid":"selection.rotate.mobile",cx:_?1.5*-j:x/2,cy:_?O/2:1.5*-j,size:w,isHidden:W}),(0,Vr.jsx)("rect",{className:Ur("tl-transparent",{"tl-hidden":H}),"data-testid":"selection.resize.top","aria-label":"top target",pointerEvents:"all",x:0,y:Ci(0-(P?2*M:M)),width:Ci(x),height:Ci(Math.max(1,2*M)),style:p?{cursor:ll("ns-resize",t)}:void 0,...o}),(0,Vr.jsx)("rect",{className:Ur("tl-transparent",{"tl-hidden":G}),"data-testid":"selection.resize.right","aria-label":"right target",pointerEvents:"all",x:Ci(x-(_?0:I)),y:0,height:Ci(O),width:Ci(Math.max(1,2*I)),style:p?{cursor:ll("ew-resize",t)}:void 0,...s}),(0,Vr.jsx)("rect",{className:Ur("tl-transparent",{"tl-hidden":H}),"data-testid":"selection.resize.bottom","aria-label":"bottom target",pointerEvents:"all",x:0,y:Ci(O-(P?0:M)),width:Ci(x),height:Ci(Math.max(1,2*M)),style:p?{cursor:ll("ns-resize",t)}:void 0,...a}),(0,Vr.jsx)("rect",{className:Ur("tl-transparent",{"tl-hidden":G}),"data-testid":"selection.resize.left","aria-label":"left target",pointerEvents:"all",x:Ci(0-(_?2*I:I)),y:0,height:Ci(O),width:Ci(Math.max(1,2*I)),style:p?{cursor:ll("ew-resize",t)}:void 0,...c}),(0,Vr.jsx)("rect",{className:Ur("tl-transparent",{"tl-hidden":U}),"data-testid":"selection.target.top-left","aria-label":"top-left target",pointerEvents:"all",x:Ci(0-(_?2*I:1.5*I)),y:Ci(0-(P?2*M:1.5*M)),width:Ci(3*I),height:Ci(3*M),style:p?{cursor:ll("nwse-resize",t)}:void 0,...l}),(0,Vr.jsx)("rect",{className:Ur("tl-transparent",{"tl-hidden":q}),"data-testid":"selection.target.top-right","aria-label":"top-right target",pointerEvents:"all",x:Ci(x-(_?0:1.5*I)),y:Ci(0-(P?2*M:1.5*M)),width:Ci(3*I),height:Ci(3*M),style:p?{cursor:ll("nesw-resize",t)}:void 0,...u}),(0,Vr.jsx)("rect",{className:Ur("tl-transparent",{"tl-hidden":X}),"data-testid":"selection.target.bottom-right","aria-label":"bottom-right target",pointerEvents:"all",x:Ci(x-(_?I:1.5*I)),y:Ci(O-(P?M:1.5*M)),width:Ci(3*I),height:Ci(3*M),style:p?{cursor:ll("nwse-resize",t)}:void 0,...d}),(0,Vr.jsx)("rect",{className:Ur("tl-transparent",{"tl-hidden":Y}),"data-testid":"selection.target.bottom-left","aria-label":"bottom-left target",pointerEvents:"all",x:Ci(0-(_?3*I:1.5*I)),y:Ci(O-(P?0:1.5*M)),width:Ci(3*I),height:Ci(3*M),style:p?{cursor:ll("nesw-resize",t)}:void 0,...h}),Q&&(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("rect",{"data-testid":"selection.resize.top-left",className:Ur("tl-corner-handle",{"tl-hidden":U}),"aria-label":"top_left handle",x:Ci(0-w/2),y:Ci(0-w/2),width:Ci(w),height:Ci(w)}),(0,Vr.jsx)("rect",{"data-testid":"selection.resize.top-right",className:Ur("tl-corner-handle",{"tl-hidden":q}),"aria-label":"top_right handle",x:Ci(x-w/2),y:Ci(0-w/2),width:Ci(w),height:Ci(w)}),(0,Vr.jsx)("rect",{"data-testid":"selection.resize.bottom-right",className:Ur("tl-corner-handle",{"tl-hidden":X}),"aria-label":"bottom_right handle",x:Ci(x-w/2),y:Ci(O-w/2),width:Ci(w),height:Ci(w)}),(0,Vr.jsx)("rect",{"data-testid":"selection.resize.bottom-left",className:Ur("tl-corner-handle",{"tl-hidden":Y}),"aria-label":"bottom_left handle",x:Ci(0-w/2),y:Ci(O-w/2),width:Ci(w),height:Ci(w)})]}),J&&(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("rect",{"data-testid":"selection.text-resize.left.handle",className:"tl-text-handle","aria-label":"bottom_left handle",x:Ci(0-w/4),y:Ci(O/2-K/2),rx:w/4,width:Ci(w/2),height:Ci(K)}),(0,Vr.jsx)("rect",{"data-testid":"selection.text-resize.right.handle",className:"tl-text-handle","aria-label":"bottom_left handle",rx:w/4,x:Ci(x-w/4),y:Ci(O/2-K/2),width:Ci(w/2),height:Ci(K)})]}),$&&(0,Vr.jsx)(Xu,{size:w,width:x,height:O,hideAlternateHandles:B})]})})})),Gu=function({cx:e,cy:t,targetSize:n,corner:r,cursor:i,isHidden:o,"data-testid":s}){const a=pu(r);return(0,Vr.jsx)("rect",{className:Ur("tl-transparent","tl-rotate-corner",{"tl-hidden":o}),"data-testid":s,"aria-label":`${r} target`,pointerEvents:"all",x:Ci(e-3*n),y:Ci(t-3*n),width:Ci(Math.max(1,3*n)),height:Ci(Math.max(1,3*n)),cursor:i,...a})},Ku=Math.sqrt(Math.PI),Ju=function({cx:e,cy:t,size:n,isHidden:r,"data-testid":i}){const o=pu("mobile_rotate"),a=Gr(),c=(0,s.h)("zoom level",(()=>a.getZoomLevel()),[a]),l=Math.max(1/c*14,20/Math.max(1,c));return(0,Vr.jsxs)("g",{children:[(0,Vr.jsx)("circle",{"data-testid":i,pointerEvents:"all",className:Ur("tl-transparent","tl-mobile-rotate__bg",{"tl-hidden":r}),cx:e,cy:t,r:l,...o}),(0,Vr.jsx)("circle",{className:Ur("tl-mobile-rotate__fg",{"tl-hidden":r}),cx:e,cy:t,r:n/Ku})]})},ed={lineHeight:1.35,fontWeight:"normal",fontVariant:"normal",fontStyle:"normal",padding:"0px"},td={s:2,m:3.5,l:5,xl:10},nd={s:18,m:24,l:36,xl:44},rd={s:18,m:22,l:26,xl:32},id={s:18,m:20,l:24,xl:28},od={draw:"var(--tl-font-draw)",sans:"var(--tl-font-sans)",serif:"var(--tl-font-serif)",mono:"var(--tl-font-mono)"},sd=20,ad=4.25;function cd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ld(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cd(Object(n),!0).forEach((function(t){ud(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ud(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||pd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hd(e){return function(e){if(Array.isArray(e))return fd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pd(e,t){if(e){if("string"==typeof e)return fd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fd(e,t):void 0}}function fd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function md(e){var t,n,r=e.sizes.shift(),i=Math.max(Math.ceil(r[0]),1),o=Math.max(Math.ceil(r[1]),1),s=[i-1,o-1,1,1],a=Date.now(),c="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;c?(t=new OffscreenCanvas(1,1),n=new OffscreenCanvas(i,o)):((t=document.createElement("canvas")).width=1,t.height=1,(n=document.createElement("canvas")).width=i,n.height=o);var l=t.getContext("2d"),u=n.getContext("2d");u&&(u.fillRect.apply(u,s),l.drawImage(n,i-1,o-1,1,1,0,0,1,1));var d=l&&0!==l.getImageData(0,0,1,1).data[3],h=Date.now()-a;return[t,n].forEach((function(e){e.height=0,e.width=0})),c?(postMessage({width:i,height:o,benchmark:h,isTestPass:d}),!d&&e.sizes.length&&md(e)):d?e.onSuccess(i,o,h):(e.onError(i,o,h),e.sizes.length&&md(e)),d}var gd=[16384,14188,11402,11180,10836,8192,4096,1],yd=[8388607,65535,32767,16384,8192,4096,1],vd=[4194303,65535,32767,16384,8192,4096,1],bd=["onError","onSuccess"],xd={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},Od={};function wd(e){var t=e.width===e.height,n=1===e.height,r=1===e.width,i=[];if(e.width&&e.height)for(var o=e.min||xd.min,s=e.step||xd.step,a=Math.max(e.width,e.height);a>=o;){var c=t||n?a:1,l=t||r?a:1;i.push([c,l]),a-=s}else e.sizes.forEach((function(e){var o=t||n?e:1,s=t||r?e:1;i.push([o,s])}));return i}function Sd(e){var t=window&&"HTMLCanvasElement"in window,n=window&&"OffscreenCanvas"in window,r=Date.now(),i=e.onError,o=e.onSuccess,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,bd),a=null;if(!t)return!1;if(e.useWorker&&n){var c="\n            var canvasTest = ".concat(md.toString(),";\n            onmessage = function(e) {\n                canvasTest(e.data);\n            };\n        "),l=new Blob([c],{type:"application/javascript"}),u=URL.createObjectURL(l);a=new Worker(u),URL.revokeObjectURL(u),a.onmessage=function(e){var t=e.data,n=t.width,i=t.height,o=t.benchmark;t.isTestPass?(Od[r].onSuccess(n,i,o),delete Od[r]):Od[r].onError(n,i,o)}}return e.usePromise?new Promise((function(t,n){var c=ld(ld({},e),{},{onError:function(t,r,o){var s;if(0===e.sizes.length)s=!0;else{var a=dd(e.sizes.slice(-1),1),c=dd(a[0],2),l=c[0],u=c[1];s=t===l&&r===u}i(t,r,o),s&&n({width:t,height:r,benchmark:o})},onSuccess:function(e,n,r){o(e,n,r),t({width:e,height:n,benchmark:r})}});if(a){var l=c.onError,u=c.onSuccess;Od[r]={onError:l,onSuccess:u},a.postMessage(s)}else md(c)})):a?(Od[r]={onError:i,onSuccess:o},void a.postMessage(s)):md(e)}var kd={maxArea:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=wd({width:e.max,height:e.max,min:e.min,step:e.step,sizes:hd(gd)});return Sd(ld(ld(ld({},xd),e),{},{sizes:t}))},maxHeight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=wd({width:1,height:e.max,min:e.min,step:e.step,sizes:hd(yd)});return Sd(ld(ld(ld({},xd),e),{},{sizes:t}))},maxWidth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=wd({width:e.max,height:1,min:e.min,step:e.step,sizes:hd(vd)});return Sd(ld(ld(ld({},xd),e),{},{sizes:t}))},test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ld(ld({},xd),e);return t.sizes=hd(t.sizes),t.width&&t.height&&(t.sizes=[[t.width,t.height]]),Sd(t)}};let _d=null;const Pd=8192,Ed=16777216;async function Cd(e,t){if(e<=Pd&&t<=Pd&&e*t<=Ed)return[e,t];const{maxWidth:n,maxHeight:r,maxArea:i}=await(_d||(_d=async function(){const e=await kd.maxWidth({usePromise:!0}),t=await kd.maxHeight({usePromise:!0}),n=await kd.maxArea({usePromise:!0});return{maxWidth:e.width,maxHeight:t.height,maxArea:n.width*n.height}}()),_d),o=e/t;if(e>n&&(t=(e=n)/o),t>r&&(e=(t=r)*o),e*t>i){const n=Math.sqrt(i/(e*t));e*=n,t*=n}return[e,t]}function Td(e,t){let n=0;for(;e[t+n];)n+=e[t+n]+1;return n+1}function jd(e,t){const n=e.w/t.w,r=e.h/t.h;return n<=1&&r<=1?e:n>r?{w:e.w/n,h:e.h/n}:{w:e.w/r,h:e.h/r}}async function Id(e,t,n,r={}){const i=await $.usingObjectURL(e,$.loadImage),{type:o=e.type,quality:s=.92}=r,[a,c]=await Cd(Math.min(2*t,i.naturalWidth),Math.min(2*n,i.naturalHeight)),l=document.createElement("canvas");l.width=a,l.height=c;const u=O(l.getContext("2d",{willReadFrequently:!0}),"Could not get canvas context");return u.imageSmoothingEnabled=!0,u.imageSmoothingQuality="high",u.drawImage(i,0,0,a,c),new Promise(((e,t)=>{l.toBlob((n=>{n?e(n):t(new Error("Could not resize image"))}),o,s)}))}const Md=["image/jpeg","image/png","image/gif","image/svg+xml"],Ad=["video/mp4","video/quicktime"];async function Dd(e){return function(e){const t=new Uint8Array(e);let n,r,i=0,o=0;if(!function(e){return"GIF"===new TextDecoder("ascii").decode(e.slice(0,3))}(e))return!1;for(n=128&t[10],r=7&t[10],i+=6,i+=7,i+=n?3*Math.pow(2,r+1):0;o<2&&i<t.length;)switch(t[i]){case 44:o+=1,n=128&t[i+9],r=7&t[i+9],i+=10,i+=n?3*Math.pow(2,r+1):0,i+=Td(t,i+1)+1;break;case 33:i+=2,i+=Td(t,i);break;default:i=t.length}return o>1}(await e.arrayBuffer())}const $d=(e,t)=>!!e.find((e=>{const n=new RegExp(e.split("*").map((e=>function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e))).join(".+"));return t.match(n)}));function Rd(e){return function(e){const t=new URL(e).host.replace("www.","");for(const n of lr)if($d(n.hostnames,t)){const t=n.toEmbedUrl(e);if(t)return{definition:n,embedUrl:t,url:e}}}(e)??function(e){const t=new URL(e).host.replace("www.","");for(const n of lr)if($d(n.hostnames,t)){const t=n.fromEmbedUrl(e);if(t)return{definition:n,url:t,embedUrl:e}}}(e)}function Nd(e){try{return Rd(e)}catch(e){console.error(e)}}const Ld="  ";class Qd{static insertTextFirefox(e,t){e.setRangeText(t,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:t,inputType:"insertText",isComposing:!1}))}static insert(e,t){const n=e.ownerDocument,r=n.activeElement;r!==e&&e.focus(),n.execCommand("insertText",!1,t)||Qd.insertTextFirefox(e,t),r===n.body?e.blur():r instanceof HTMLElement&&r!==e&&r.focus()}static set(e,t){e.select(),Qd.insert(e,t)}static getSelection(e){const{selectionStart:t,selectionEnd:n}=e;return e.value.slice(t||void 0,n||void 0)}static wrapSelection(e,t,n){const{selectionStart:r,selectionEnd:i}=e,o=Qd.getSelection(e);Qd.insert(e,t+o+(n??t)),e.selectionStart=(r||0)+t.length,e.selectionEnd=(i||0)+t.length}static replace(e,t,n){let r=0;e.value.replace(t,((...t)=>{const i=r+t[t.length-2],o=t[0].length;e.selectionStart=i,e.selectionEnd=i+o;const s="string"==typeof n?n:n(...t);return Qd.insert(e,s),e.selectionStart=i,r+=s.length-o,s}))}static findLineEnd(e,t){const n=e.lastIndexOf("\n",t-1)+1;return"\t"!==e.charAt(n)?t:n+1}static indent(e){const{selectionStart:t,selectionEnd:n,value:r}=e,i=r.slice(t,n),o=/\n/g.exec(i)?.length;if(o&&o>0){const i=r.lastIndexOf("\n",t-1)+1,o=e.value.slice(i,n-1),s=o.replace(/^|\n/g,`$&${Ld}`),a=s.length-o.length;e.setSelectionRange(i,n-1),Qd.insert(e,s),e.setSelectionRange(t+1,n+a)}else Qd.insert(e,Ld)}static unindent(e){const{selectionStart:t,selectionEnd:n,value:r}=e,i=r.lastIndexOf("\n",t-1)+1,o=Qd.findLineEnd(r,n),s=e.value.slice(i,o),a=s.replace(/(^|\n)(\t| {1,2})/g,"$1"),c=s.length-a.length;e.setSelectionRange(i,o),Qd.insert(e,a);const l=/\t| {1,2}/.exec(r.slice(i,t)),u=l?l[0].length:0,d=t-u;e.setSelectionRange(t-u,Math.max(d,n-c))}static indentCE(e){const t=window.getSelection(),n=e.innerText,r=zd(e)??0,i=zd(e)??0,o=n.slice(r,i),s=/\n/g.exec(o)?.length;if(s&&s>0){const o=n.lastIndexOf("\n",r-1)+1,s=n.slice(o,i-1),a=s.replace(/^|\n/g,`$&${Ld}`).length-s.length;t&&t.setBaseAndExtent(e,r+1,e,i+a)}else{const t=window.getSelection();e.innerText=n.slice(0,r)+Ld+n.slice(r),t?.setBaseAndExtent(e,r+1,e,r+2)}}static unindentCE(e){const t=window.getSelection(),n=e.innerText,r=zd(e)??0,i=zd(e)??0,o=n.lastIndexOf("\n",r-1)+1,s=Qd.findLineEnd(n,i),a=n.slice(o,s),c=a.replace(/(^|\n)(\t| {1,2})/g,"$1"),l=a.length-c.length;if(t){t.setBaseAndExtent(e,o,e,s);const a=/\t| {1,2}/.exec(n.slice(o,r)),c=a?a[0].length:0,u=r-c;t.setBaseAndExtent(e,r-c,e,Math.max(u,i-l))}}static fixNewLines=/\r?\n|\r/g;static normalizeText(e){return e.replace(Qd.fixNewLines,"\n")}static normalizeTextForDom(e){return e.replace(Qd.fixNewLines,"\n").split("\n").map((e=>e||" ")).join("\n")}}function zd(e){if(void 0===window.getSelection)return;const t=window.getSelection();if(!t)return;let n=0;if(0!==t.rangeCount){const r=t.getRangeAt(0),i=r.cloneRange();i.selectNodeContents(e),i.setEnd(r.endContainer,r.endOffset),n=i.toString().length}return n}const Fd=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/;const Bd=(e,t)=>e.length<=t?e:e.substring(0,t-3)+"...";function Zd(e,{maxImageDimension:t,maxAssetSize:n,acceptedImageMimeTypes:r,acceptedVideoMimeTypes:i},{toasts:o,msg:s}){e.registerExternalAssetHandler("file",(async({file:e})=>{const o=e.name;let s=e;const a=r.includes(s.type),c=i.includes(s.type);x(a||c,`File type not allowed: ${s.type}`),x(s.size<=n,`File size too big: ${(s.size/1024).toFixed()}kb > ${(n/1024).toFixed()}kb`),"video/quicktime"===s.type&&(s=new Blob([s],{type:"video/mp4"}));let l=a?await $.getImageSize(s):await $.getVideoSize(s);const u="image/gif"===s.type?await Dd(s):c,d=await j(await s.arrayBuffer());if(isFinite(t)){const e=jd(l,{w:t,h:t});l===e||"image/jpeg"!==s.type&&"image/png"!==s.type||(l=e)}"image/jpeg"!==s.type&&"image/png"!==s.type||(s=await Id(s,l.w,l.h,{type:s.type,quality:.92}));const h=Mn.createId(d);return Mn.create({id:h,type:a?"image":"video",typeName:"asset",props:{name:o,src:await $.blobToDataUrl(s),w:l.w,h:l.h,mimeType:s.type,isAnimated:u}})})),e.registerExternalAssetHandler("url",(async({url:e})=>{let t;try{const n=await fetch(e,{method:"GET",mode:"no-cors"}),r=await n.text(),i=(new DOMParser).parseFromString(r,"text/html");t={image:i.head.querySelector('meta[property="og:image"]')?.getAttribute("content")??"",title:i.head.querySelector('meta[property="og:title"]')?.getAttribute("content")??Bd(e,32),description:i.head.querySelector('meta[property="og:description"]')?.getAttribute("content")??""}}catch(n){console.error(n),o.addToast({title:s("assets.url.failed")}),t={image:"",title:Bd(e,32),description:""}}return{id:Mn.createId(C(e)),typeName:"asset",type:"bookmark",props:{src:e,description:t.description,image:t.image,title:t.title},meta:{}}})),e.registerExternalContentHandler("svg-text",(async({point:t,text:n})=>{const r=t??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageCenter()),i=(new DOMParser).parseFromString(n,"image/svg+xml").querySelector("svg");if(!i)throw new Error("No <svg/> element present");let o=parseFloat(i.getAttribute("width")||"0"),s=parseFloat(i.getAttribute("height")||"0");if(!o||!s){document.body.appendChild(i);const e=i.getBoundingClientRect();document.body.removeChild(i),o=e.width,s=e.height}const a=await e.getAssetForExternalContent({type:"file",file:new File([n],"asset.svg",{type:"image/svg+xml"})});if(!a)throw Error("Could not create an asset");Vd(e,[a],r)})),e.registerExternalContentHandler("embed",(({point:t,url:n,embed:r})=>{const i=t??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageCenter()),{width:o,height:s}=r,a=Ln(),c={id:a,type:"embed",x:i.x-(o||450)/2,y:i.y-(s||450)/2,props:{w:o,h:s,url:n}};e.createShapes([c]).select(a)})),e.registerExternalContentHandler("files",(async({point:t,files:a})=>{const c=t??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageCenter()),l=new ti(c.x,c.y),d=[];await Promise.all(a.map((async(t,a)=>{if(t.size>n)return console.warn(`File size too big: ${(t.size/1024).toFixed()}kb > ${(n/1024).toFixed()}kb`),null;if(!t.type)throw new Error("No mime type");if(!r.concat(i).includes(t.type))return console.warn(`${t.name} not loaded - Extension not allowed.`),null;try{const n=await e.getAssetForExternalContent({type:"file",file:t});if(!n)throw Error("Could not create an asset");d[a]=n}catch(e){return o.addToast({title:s("assets.files.upload-failed")}),console.error(e),null}}))),Vd(e,u(d),l)})),e.registerExternalContentHandler("text",(async({point:t,text:n})=>{const r=t??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageCenter()),i=e.getShapeUtil("text").getDefaultProps(),o=function(e){return function(e){return e.replace(/[ \t]+$/gm,"").replace(/\n+$/,"")}(function(e){const t=e.split("\n");for(;t[0]&&0===t[0].trim().length;)t.shift();let n=1/0;for(const e of t)if(e.trim().length>0){const t=e.length-e.trimStart().length;n=Math.min(n,t)}return t.map((e=>e.slice(n))).join("\n")}(function(e){return e.replace(/\t/g,Ld)}(e)))}(n);let s,a,c,l="middle";const u=o.split("\n").length>1,d=function(e){return Fd.test(e)}(o);u&&(l=u?d?"end":"start":"middle");const h=e.textMeasure.measureText(o,{...ed,fontFamily:od[i.font],fontSize:nd[i.size],maxWidth:null}),p=Math.min(u?.9*e.getViewportPageBounds().width:920,Math.max(200,.9*e.getViewportPageBounds().width));if(h.w>p){const t=e.textMeasure.measureText(o,{...ed,fontFamily:od[i.font],fontSize:nd[i.size],maxWidth:p});s=t.w,a=t.h,c=!1,l=d?"end":"start"}else s=h.w,a=h.h,c=!0;r.y-a/2<e.getViewportPageBounds().minY+40&&(r.y=e.getViewportPageBounds().minY+40+a/2),e.createShapes([{id:Ln(),type:"text",x:r.x-s/2,y:r.y-a/2,props:{text:o,align:l,autoSize:c,w:s}}])})),e.registerExternalContentHandler("url",(async({point:t,url:n})=>{const r=Nd(n);if(r)return e.putExternalContent({type:"embed",url:r.url,point:t,embed:r.definition});const i=t??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageCenter()),a=Mn.createId(C(n)),c=function(e,t,n){const r={id:Ln(),type:"bookmark",x:n.x-150,y:n.y-160,opacity:1,props:{assetId:null,url:t}};return e.batch((()=>{e.createShapes([r]).select(r.id),Wd(e,n)})),e.getShape(r.id)}(e,n,i);let l=e.getAsset(a),u=!1;if(!l){u=!0;try{const t=await e.getAssetForExternalContent({type:"url",url:n});if(!t)throw Error("Could not create an asset");l=t}catch(e){return void o.addToast({title:s("assets.url.failed")})}}e.batch((()=>{u&&e.createAssets([l]),e.updateShapes([{id:c.id,type:c.type,props:{assetId:l.id}}])}))}))}async function Vd(e,t,n){if(!t.length)return[];const r=ti.From(n),i=[];for(const e of t)switch(e.type){case"bookmark":i.push({id:Ln(),type:"bookmark",x:r.x-150,y:r.y-160,opacity:1,props:{assetId:e.id,url:e.props.src}}),r.x+=300;break;case"image":i.push({id:Ln(),type:"image",x:r.x-e.props.w/2,y:r.y-e.props.h/2,opacity:1,props:{assetId:e.id,w:e.props.w,h:e.props.h}}),r.x+=e.props.w;break;case"video":i.push({id:Ln(),type:"video",x:r.x-e.props.w/2,y:r.y-e.props.h/2,opacity:1,props:{assetId:e.id,w:e.props.w,h:e.props.h}}),r.x+=e.props.w}return e.batch((()=>{const r=t.filter((t=>!e.getAsset(t.id)));r.length&&e.createAssets(r),e.createShapes(i).select(...i.map((e=>e.id))),Wd(e,n)})),i.map((e=>e.id))}function Wd(e,t){const n=e.getViewportPageBounds();let r=e.getSelectionPageBounds();if(r){const n=r.center.sub(t);e.updateShapes(e.getSelectedShapes().map((t=>{const r=e.getShapeParentTransform(t).decompose().rotation,i=ti.Rot(n,-r);return{id:t.id,type:t.type,x:t.x-i.x,y:t.y-i.y}})))}r=e.getSelectionPageBounds(),r&&!n.contains(r)&&e.zoomToSelection()}class Ud extends Yc{static id="idle";onPointerDown=e=>{this.parent.transition("pointing",e)};onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})};onCancel=()=>{this.editor.setCurrentTool("select")};onKeyUp=e=>{if("Enter"===e.key){if(this.editor.getInstanceState().isReadonly)return null;const t=this.editor.getOnlySelectedShape();t&&this.editor.getShapeUtil(t).canEdit(t)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(t.id),this.editor.root.getCurrent()?.transition("editing_shape",{...e,target:"shape",shape:t}))}}}class qd extends Yc{static id="pointing";shape;markId="";onEnter=()=>{this.didTimeout=!1;const e=this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{filter:e=>!e.isLocked&&this.editor.getShapeUtil(e).canBind(e),margin:0,hitInside:!0,renderingOnly:!0});e?this.editor.setHintingShapes([e.id]):this.createArrowShape(),this.startPreciseTimeout()};onExit=()=>{this.shape=void 0,this.editor.setHintingShapes([]),this.clearPreciseTimeout()};onPointerMove=()=>{if(this.editor.inputs.isDragging){if(this.shape||this.createArrowShape(),!this.shape)throw Error("expected shape");this.updateArrowShapeEndHandle(),this.editor.setCurrentTool("select.dragging_handle",{shape:this.shape,handle:this.editor.getShapeHandles(this.shape).find((e=>"end"===e.id)),isCreating:!0,onInteractionEnd:"arrow"})}};onPointerUp=()=>{this.cancel()};onCancel=()=>{this.cancel()};onComplete=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};cancel(){this.shape&&this.editor.bailToMark(this.markId),this.editor.setHintingShapes([]),this.parent.transition("idle")}createArrowShape(){const{originPagePoint:e}=this.editor.inputs,t=Ln();this.markId=`creating:${t}`,this.editor.mark(this.markId),this.editor.createShapes([{id:t,type:"arrow",x:e.x,y:e.y}]);const n=this.editor.getShape(t);if(!n)throw Error("expected shape");const r=this.editor.getShapeHandles(n);if(!r)throw Error("expected handles for arrow");const i=this.editor.getShapeUtil("arrow"),o=this.shape,s=r.find((e=>"start"===e.id)),a=i.onHandleDrag?.(n,{handle:{...s,x:0,y:0},isPrecise:!0,initial:o});if(a){const e=a.props?.start;"binding"===e?.type&&this.editor.setHintingShapes([e.boundShapeId]),this.editor.updateShapes([a],{squashing:!0})}this.shape=this.editor.getShape(t),this.editor.select(t)}updateArrowShapeEndHandle(){const e=this.shape;if(!e)throw Error("expected shape");const t=this.editor.getShapeHandles(e);if(!t)throw Error("expected handles for arrow");const n={...e,props:{...e.props,end:{...e.props.end,x:0,y:0}}};{const r=this.editor.getShapeUtil("arrow"),i=this.shape,o=this.editor.getPointInShapeSpace(e,this.editor.inputs.currentPagePoint),s=t.find((e=>"end"===e.id)),a=r.onHandleDrag?.(n,{handle:{...s,x:o.x,y:o.y},isPrecise:!1,initial:i});if(a){const e=a.props?.end;"binding"===e?.type&&this.editor.setHintingShapes([e.boundShapeId]),this.editor.updateShapes([a],{squashing:!0})}}{const e=this.editor.getShapeUtil("arrow"),r=this.shape,i=t.find((e=>"start"===e.id)),o=e.onHandleDrag?.(n,{handle:{...i,x:0,y:0},isPrecise:this.didTimeout,initial:r});o&&this.editor.updateShapes([o],{squashing:!0})}this.shape=this.editor.getShape(e.id)}preciseTimeout=-1;didTimeout=!1;startPreciseTimeout(){this.preciseTimeout=window.setTimeout((()=>{this.getIsActive()&&(this.didTimeout=!0)}),320)}clearPreciseTimeout(){clearTimeout(this.preciseTimeout)}}class Yd extends Yc{static id="arrow";static initial="idle";static children=()=>[Ud,qd];shapeType="arrow"}class Xd extends Yc{static id="drawing";info={};initialShape;shapeType="highlight"===this.parent.id?"highlight":"draw";util=this.editor.getShapeUtil(this.shapeType);isPen=!1;segmentMode="free";didJustShiftClickToExtendPreviousShapeLine=!1;pagePointWhereCurrentSegmentChanged={};pagePointWhereNextSegmentChanged=null;lastRecordedPoint={};mergeNextPoint=!1;currentLineLength=0;canDraw=!1;markId=null;onEnter=e=>{this.markId=null,this.info=e,this.canDraw=!this.editor.getIsMenuOpen(),this.lastRecordedPoint=this.editor.inputs.currentPagePoint.clone(),this.canDraw&&this.startShape()};onPointerMove=()=>{const{editor:{inputs:e}}=this;if(this.isPen!==e.isPen){if(this.markId)return this.editor.bailToMark(this.markId),void this.startShape()}else!this.canDraw&&e.isDragging&&(this.startShape(),this.canDraw=!0);this.canDraw&&(e.isPen?ti.Dist(e.currentPagePoint,this.lastRecordedPoint)>=1/this.editor.getZoomLevel()?(this.lastRecordedPoint=e.currentPagePoint.clone(),this.mergeNextPoint=!1):this.mergeNextPoint=!0:this.mergeNextPoint=!1,this.updateShapes())};onKeyDown=e=>{if("Shift"===e.key)switch(this.segmentMode){case"free":this.segmentMode="starting_straight",this.pagePointWhereNextSegmentChanged=this.editor.inputs.currentPagePoint.clone();break;case"starting_free":this.segmentMode="starting_straight"}this.updateShapes()};onKeyUp=e=>{if("Shift"===e.key)switch(this.editor.snaps.clearIndicators(),this.segmentMode){case"straight":this.segmentMode="starting_free",this.pagePointWhereNextSegmentChanged=this.editor.inputs.currentPagePoint.clone();break;case"starting_straight":this.pagePointWhereNextSegmentChanged=null,this.segmentMode="free"}this.updateShapes()};onExit=()=>{this.editor.snaps.clearIndicators(),this.pagePointWhereCurrentSegmentChanged=this.editor.inputs.currentPagePoint.clone()};canClose(){return"highlight"!==this.shapeType}getIsClosed(e,t){if(!this.canClose())return!1;const n=td[t],r=e[0].points[0],i=e[e.length-1],o=i.points[i.points.length-1];return r!==o&&this.currentLineLength>4*n&&ti.Dist(r,o)<2*n}startShape(){const{inputs:{originPagePoint:e,isPen:t}}=this.editor;this.markId="draw start "+ta(),this.editor.mark(this.markId),this.isPen=t;const n=this.isPen?1.25*this.info.point.z:.5;if(this.segmentMode=this.editor.inputs.shiftKey?"straight":"free",this.didJustShiftClickToExtendPreviousShapeLine=!1,this.lastRecordedPoint=e.clone(),this.initialShape){const t=this.editor.getShape(this.initialShape.id);if(t&&"straight"===this.segmentMode){this.didJustShiftClickToExtendPreviousShapeLine=!0;const n=d(t.props.segments);if(!n)throw Error("Expected a previous segment!");const r=d(n.points);if(!r)throw Error("Expected a previous point!");const{x:i,y:o}=this.editor.getPointInShapeSpace(t,e).toFixed(),s=this.isPen?1.25*this.info.point.z:.5,a={type:this.segmentMode,points:[{x:r.x,y:r.y,z:+s.toFixed(2)},{x:i,y:o,z:+s.toFixed(2)}]},c=$o.applyToPoint(this.editor.getShapePageTransform(t.id),r);this.pagePointWhereCurrentSegmentChanged=c,this.pagePointWhereNextSegmentChanged=null;const l=[...t.props.segments,a];this.currentLineLength=this.getLineLength(l);const u={id:t.id,type:this.shapeType,props:{segments:l}};return this.canClose()&&(u.props.isClosed=this.getIsClosed(l,t.props.size)),void this.editor.updateShapes([u])}}this.pagePointWhereCurrentSegmentChanged=e.clone();const r=Ln();this.editor.createShapes([{id:r,type:this.shapeType,x:e.x,y:e.y,props:{isPen:this.isPen,segments:[{type:this.segmentMode,points:[{x:0,y:0,z:+n.toFixed(2)}]}]}}]),this.currentLineLength=0,this.initialShape=this.editor.getShape(r)}updateShapes(){const{inputs:e}=this.editor,{initialShape:t}=this;if(!t)return;const{id:n,props:{size:r}}=t,i=this.editor.getShape(n);if(!i)return;const{segments:o}=i.props,{x:s,y:a,z:c}=this.editor.getPointInShapeSpace(i,e.currentPagePoint).toFixed(),l={x:s,y:a,z:this.isPen?+(1.25*c).toFixed(2):.5};switch(this.segmentMode){case"starting_straight":{const{pagePointWhereNextSegmentChanged:t}=this;if(null===t)throw Error("We should have a point where the segment changed");if(ti.Dist(t,e.currentPagePoint)>Vi){this.pagePointWhereCurrentSegmentChanged=this.pagePointWhereNextSegmentChanged.clone(),this.pagePointWhereNextSegmentChanged=null,this.segmentMode="straight";const e=d(o);if(!e)throw Error("Expected a previous segment!");const t=d(e.points);if(!t)throw Error("Expected a previous last point!");let s;const a=this.editor.getPointInShapeSpace(i,this.pagePointWhereCurrentSegmentChanged).toFixed().toJson();if("straight"===e.type){this.currentLineLength+=ti.Dist(t,a),s={type:"straight",points:[{...t},a]};const e=this.editor.getShapePageTransform(i);this.pagePointWhereCurrentSegmentChanged=$o.applyToPoint(e,t)}else s={type:"straight",points:[a,l]};const c={id:n,type:this.shapeType,props:{segments:[...o,s]}};this.canClose()&&(c.props.isClosed=this.getIsClosed(o,r)),this.editor.updateShapes([c],{squashing:!0})}break}case"starting_free":{const{pagePointWhereNextSegmentChanged:t}=this;if(null===t)throw Error("We should have a point where the segment changed");if(ti.Dist(t,e.currentPagePoint)>Vi){this.pagePointWhereCurrentSegmentChanged=this.pagePointWhereNextSegmentChanged.clone(),this.pagePointWhereNextSegmentChanged=null,this.segmentMode="free";const e=o.slice(),t=d(e[e.length-1].points);if(!t)throw Error("No previous point!");const i={type:"free",points:[...ti.PointsBetween(t,l,6).map((e=>e.toFixed().toJson()))]},s=[...e,i];this.currentLineLength=this.getLineLength(s);const a={id:n,type:this.shapeType,props:{segments:s}};this.canClose()&&(a.props.isClosed=this.getIsClosed(s,r)),this.editor.updateShapes([a],{squashing:!0})}break}case"straight":{const e=o.slice(),t=e[e.length-1],{pagePointWhereCurrentSegmentChanged:s}=this,{currentPagePoint:a,ctrlKey:c}=this.editor.inputs;if(!s)throw Error("We should have a point where the segment changed");let l,u=!1;this.didJustShiftClickToExtendPreviousShapeLine?this.editor.inputs.isDragging&&(u=!c,this.didJustShiftClickToExtendPreviousShapeLine=!1):u=!c;let h,p=this.editor.getPointInShapeSpace(i,a).toFixed().toJson(),f=!1;if((this.editor.user.getIsSnapMode()?!c:c)&&e.length>2){let e,t=8/this.editor.getZoomLevel();for(let n=0,r=o.length-2;n<r;n++){const r=o[n];if(!r)break;if("free"===r.type)continue;const i=r.points[0],s=d(r.points);if(!i||!s)continue;const a=ti.NearestPointOnLineSegment(i,s,p),c=ti.Dist(a,p);if(c<t){e=a.toFixed().toJson(),t=c,h=r;break}}e&&(f=!0,p=e)}if(f&&h){const e=this.editor.getShapePageTransform(i),t=h.points[0],n=d(h.points);if(!n)throw Error("Expected a last point!");const r=$o.applyToPoint(e,t),o=$o.applyToPoint(e,n),s=$o.applyToPoint(e,p);this.editor.snaps.setIndicators([{id:ta(),type:"points",points:[r,s,o]}])}else{if(this.editor.snaps.clearIndicators(),u){const e=ti.Angle(s,a),t=vi(e,24)-e;l=ti.RotWith(a,s,t)}else l=a;p=this.editor.getPointInShapeSpace(i,l).toFixed().toJson()}this.currentLineLength+=ti.Dist(t.points[0],p),e[e.length-1]={...t,type:"straight",points:[t.points[0],p]};const m={id:n,type:this.shapeType,props:{segments:e}};this.canClose()&&(m.props.isClosed=this.getIsClosed(o,r)),this.editor.updateShapes([m],{squashing:!0});break}case"free":{const e=o.slice(),t=e[e.length-1],i=[...t.points];if(i.length&&this.mergeNextPoint){const{z:e}=i[i.length-1];i[i.length-1]={x:l.x,y:l.y,z:e?Math.max(e,l.z):l.z}}else this.currentLineLength+=ti.Dist(i[i.length-1],l),i.push(l);e[e.length-1]={...t,points:i},this.currentLineLength=this.getLineLength(e);const s={id:n,type:this.shapeType,props:{segments:e}};if(this.canClose()&&(s.props.isClosed=this.getIsClosed(e,r)),this.editor.updateShapes([s],{squashing:!0}),i.length>500){this.editor.updateShapes([{id:n,type:this.shapeType,props:{isComplete:!0}}]);const{currentPagePoint:e}=this.editor.inputs,t=Ln();this.editor.createShapes([{id:t,type:this.shapeType,x:Ti(e.x),y:Ti(e.y),props:{isPen:this.isPen,segments:[{type:"free",points:[{x:0,y:0,z:this.isPen?+(1.25*c).toFixed():.5}]}]}}]),this.initialShape=Te(this.editor.getShape(t)),this.mergeNextPoint=!1,this.lastRecordedPoint=this.editor.inputs.currentPagePoint.clone(),this.currentLineLength=0}break}}}getLineLength(e){let t=0;for(const n of e)for(let e=0;e<n.points.length-1;e++){const r=n.points[e],i=n.points[e+1];t+=ti.Sub(i,r).len2()}return Math.sqrt(t)}onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};onInterrupt=()=>{this.editor.inputs.isDragging||(this.markId&&this.editor.bailToMark(this.markId),this.cancel())};complete(){if(!this.canDraw)return void this.cancel();const{initialShape:e}=this;e&&(this.editor.updateShapes([{id:e.id,type:e.type,props:{isComplete:!0}}]),this.parent.transition("idle"))}cancel(){this.parent.transition("idle",this.info)}}class Hd extends Yc{static id="idle";onPointerDown=e=>{this.parent.transition("drawing",e)};onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})};onCancel=()=>{this.editor.setCurrentTool("select")}}class Gd extends Yc{static id="draw";static initial="idle";static children=()=>[Hd,Xd];shapeType="draw";onExit=()=>{this.children.drawing.initialShape=void 0}}class Kd extends uu{static id="frame";static initial="idle";shapeType="frame";onCreate=e=>{if(!e)return;const t=this.editor.getShapePageBounds(e),n=[],r=this.editor.getShapeAncestors(e).map((e=>e.id));this.editor.getSortedChildIdsForParent(e.parentId).map((i=>{const o=this.editor.getShape(i);if(!o)return;if(o.id===e.id)return;if(o.isLocked)return;const s=this.editor.getShapePageBounds(o);s&&t.contains(s)&&function(e,t,n){return!t.includes(e.id)&&e.parentId===n.parentId}(o,r,e)&&n.push(o.id)})),this.editor.reparentShapes(n,e.id),this.editor.getInstanceState().isToolLocked?this.editor.setCurrentTool("frame"):this.editor.setCurrentTool("select.idle")}}class Jd extends Yc{static id="idle";onPointerDown=e=>{this.parent.transition("pointing",e)};onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})};onKeyUp=e=>{if("Enter"===e.key){if(this.editor.getInstanceState().isReadonly)return null;const t=this.editor.getOnlySelectedShape();t&&this.editor.getShapeUtil(t).canEdit(t)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(t.id),this.editor.root.getCurrent()?.transition("editing_shape",{...e,target:"shape",shape:t}))}};onCancel=()=>{this.editor.setCurrentTool("select")}}class eh extends Yc{static id="pointing";markId="";onPointerUp=()=>{this.complete()};onPointerMove=e=>{if(this.editor.inputs.isDragging){const{originPagePoint:t}=this.editor.inputs,n=Ln();this.markId=`creating:${n}`,this.editor.mark(this.markId),this.editor.createShapes([{id:n,type:"geo",x:t.x,y:t.y,props:{w:1,h:1,geo:this.editor.getStyleForNextShape(yr)}}]).select(n).setCurrentTool("select.resizing",{...e,target:"selection",handle:"bottom_right",isCreating:!0,creationCursorOffset:{x:1,y:1},onInteractionEnd:"geo"})}};onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};onInterrupt=()=>{this.cancel()};complete(){const{originPagePoint:e}=this.editor.inputs,t=Ln();this.markId=`creating:${t}`,this.editor.mark(this.markId),this.editor.createShapes([{id:t,type:"geo",x:e.x,y:e.y,props:{geo:this.editor.getStyleForNextShape(yr),w:1,h:1}}]);const n=this.editor.getShape(t);if(!n)return;const r="star"===n.props.geo?new jo(0,0,200,190):"cloud"===n.props.geo?new jo(0,0,300,180):new jo(0,0,200,200),i=r.center,o=this.editor.getShapeParentTransform(n);o&&i.rot(-o.rotation()),this.editor.select(t),this.editor.updateShapes([{id:n.id,type:"geo",x:n.x-i.x,y:n.y-i.y,props:{geo:this.editor.getStyleForNextShape(yr),w:r.width,h:r.height}}]),this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):this.editor.setCurrentTool("select",{})}cancel(){this.parent.transition("idle")}}class th extends Yc{static id="geo";static initial="idle";static children=()=>[Jd,eh];shapeType="geo"}class nh extends Yc{static id="highlight";static initial="idle";static children=()=>[Hd,Xd];shapeType="highlight";onExit=()=>{this.children.drawing.initialShape=void 0}}class rh extends Yc{static id="idle";shapeId="";onEnter=e=>{this.shapeId=e.shapeId,this.editor.setCursor({type:"cross",rotation:0})};onPointerDown=()=>{this.parent.transition("pointing",{shapeId:this.shapeId})};onCancel=()=>{this.editor.setCurrentTool("select")}}class ih extends Yc{static id="pointing";shape={};markId;onEnter=e=>{const{inputs:t}=this.editor,{currentPagePoint:n}=t;this.markId=void 0;const r=e.shapeId&&this.editor.getShape(e.shapeId);if(r&&t.shiftKey){this.markId=`creating:${r.id}`,this.editor.mark(this.markId),this.shape=r;const e=this.editor.getShapeHandles(this.shape);if(!e)return;const t=e.filter((e=>"vertex"===e.type)).sort(ke),i=t[t.length-1],o=t[t.length-2],s=$o.applyToPoint(this.editor.getShapeParentTransform(this.shape),new ti(this.shape.x,this.shape.y)),a=ti.Sub(n,s).addXY(.1,.1),c=Te(this.shape.props.points);if(ti.Dist(i,o)<2||ti.Dist(a,i)<2)c[i.id]={id:i.id,index:i.index,x:a.x,y:a.y};else{const e=Oe(i.index);c[e]={id:e,index:e,x:a.x,y:a.y}}this.editor.updateShapes([{id:this.shape.id,type:this.shape.type,props:{points:c}}])}else{const e=Ln();this.markId=`creating:${e}`,this.editor.mark(this.markId),this.editor.createShapes([{id:e,type:"line",x:n.x,y:n.y}]),this.editor.select(e),this.shape=this.editor.getShape(e)}};onPointerMove=()=>{if(this.shape&&this.editor.inputs.isDragging){const e=this.editor.getShapeHandles(this.shape);if(!e)throw this.markId&&this.editor.bailToMark(this.markId),Error("No handles found");const t=d(e);this.editor.setCurrentTool("select.dragging_handle",{shape:this.shape,isCreating:!0,handle:{...t,x:t.x-.1,y:t.y-.1},onInteractionEnd:"line"})}};onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};onInterrupt=()=>{this.parent.transition("idle"),this.markId&&this.editor.bailToMark(this.markId),this.editor.snaps.clearIndicators()};complete(){this.parent.transition("idle",{shapeId:this.shape.id}),this.editor.snaps.clearIndicators()}cancel(){this.markId&&this.editor.bailToMark(this.markId),this.parent.transition("idle",{shapeId:this.shape.id}),this.editor.snaps.clearIndicators()}}class oh extends Yc{static id="line";static initial="idle";static children=()=>[rh,ih];shapeType="line"}class sh extends Yc{static id="idle";onPointerDown=e=>{this.parent.transition("pointing",e)};onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})};onCancel=()=>{this.editor.setCurrentTool("select")}}class ah extends Yc{static id="pointing";dragged=!1;info={};wasFocusedOnEnter=!1;markId="";shape={};onEnter=()=>{this.wasFocusedOnEnter=!this.editor.getIsMenuOpen(),this.wasFocusedOnEnter&&(this.shape=this.createShape())};onPointerMove=e=>{this.editor.inputs.isDragging&&(this.wasFocusedOnEnter||(this.shape=this.createShape()),this.editor.setCurrentTool("select.translating",{...e,target:"shape",shape:this.shape,onInteractionEnd:"note",isCreating:!0,onCreate:()=>{this.editor.setEditingShape(this.shape.id),this.editor.setCurrentTool("select.editing_shape")}}))};onPointerUp=()=>{this.complete()};onInterrupt=()=>{this.cancel()};onComplete=()=>{this.complete()};onCancel=()=>{this.cancel()};complete(){this.wasFocusedOnEnter&&(this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):(this.editor.setEditingShape(this.shape.id),this.editor.setCurrentTool("select.editing_shape",{...this.info,target:"shape",shape:this.shape})))}cancel(){this.editor.bailToMark(this.markId),this.parent.transition("idle",this.info)}createShape(){const{inputs:{originPagePoint:e}}=this.editor,t=Ln();this.markId=`creating:${t}`,this.editor.mark(this.markId),this.editor.createShapes([{id:t,type:"note",x:e.x,y:e.y}]).select(t);const n=this.editor.getShape(t),r=this.editor.getShapeGeometry(n).bounds;return this.editor.updateShapes([{id:t,type:"note",x:n.x-r.width/2,y:n.y-r.height/2}]),this.editor.getShape(t)}}class ch extends Yc{static id="note";static initial="idle";static children=()=>[sh,ah];shapeType="note"}function lh(e){const t=e.getShapeAtPoint(e.inputs.currentPagePoint,{hitInside:!1,hitLabels:!1,margin:Hi/e.getZoomLevel(),renderingOnly:!0});if(!t)return e.setHoveredShape(null);let n;const r=e.getOutermostSelectableShape(t);return n=r===t||r.id===e.getFocusedGroupId()||e.getSelectedShapeIds().includes(r.id)?t:r,e.setHoveredShape(n.id)}class uh extends Yc{static id="idle";onPointerMove=e=>{switch(e.target){case"shape":case"canvas":lh(this.editor)}};onPointerDown=e=>{this.parent.transition("pointing",e)};onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})};onKeyDown=e=>{if("Enter"===e.key){if(this.editor.getInstanceState().isReadonly)return null;const t=this.editor.getOnlySelectedShape();t&&this.editor.getShapeUtil(t).canEdit(t)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(t.id),this.editor.root.getCurrent()?.transition("editing_shape",{...e,target:"shape",shape:t}))}};onCancel=()=>{this.editor.setCurrentTool("select")}}class dh extends Yc{static id="pointing";shape;markId="";onExit=()=>{this.editor.setHintingShapes([])};onPointerMove=e=>{if(this.editor.inputs.isDragging){const{inputs:{originPagePoint:t}}=this.editor,n=Ln();if(this.markId=`creating:${n}`,this.editor.mark(this.markId),this.editor.createShapes([{id:n,type:"text",x:t.x,y:t.y,props:{text:"",autoSize:!1,w:20}}]),this.editor.select(n),this.shape=this.editor.getShape(n),!this.shape)return;const{shape:r}=this;this.editor.setCurrentTool("select.resizing",{...e,target:"selection",handle:"right",isCreating:!0,creationCursorOffset:{x:1,y:1},onInteractionEnd:"text",onCreate:()=>{this.editor.setEditingShape(r.id),this.editor.setCurrentTool("select.editing_shape")}})}};onPointerUp=()=>{this.complete()};onComplete=()=>{this.cancel()};onCancel=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};complete(){this.editor.mark("creating text shape");const e=Ln(),{x:t,y:n}=this.editor.inputs.currentPagePoint;this.editor.createShapes([{id:e,type:"text",x:t,y:n,props:{text:"",autoSize:!0}}]).select(e),this.editor.setEditingShape(e),this.editor.setCurrentTool("select"),this.editor.root.getCurrent()?.transition("editing_shape")}cancel(){this.parent.transition("idle"),this.editor.bailToMark(this.markId)}}class hh extends Yc{static id="text";static initial="idle";static children=()=>[uh,dh];shapeType="text"}const ph=[hh,Gd,th,ch,oh,Kd,Yd,nh];function fh(){return Bn({isDarkMode:nl()})}const mh=Wr.memo((function({theme:e,d:t,color:n,fill:r}){switch(r){case"none":return null;case"solid":return(0,Vr.jsx)("path",{fill:e[n].semi,d:t});case"semi":return(0,Vr.jsx)("path",{fill:e.solid,d:t});case"pattern":return(0,Vr.jsx)(gh,{theme:e,color:n,fill:r,d:t})}})),gh=function({d:e,color:t,theme:n}){const r=Gr(),i=(0,s.h)("zoomLevel",(()=>r.getZoomLevel()),[r]),o=Math.ceil(i),a=r.getZoomLevel()<=.18;return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("path",{fill:n[t].pattern,d:e}),(0,Vr.jsx)("path",{fill:a?n[t].semi:`url(#${Ui[`${o}_${n.id}`]})`,d:e})]})};function yh({d:e,color:t,fill:n,theme:r}){if("none"===n)return;if("pattern"===n){const n=document.createElementNS("http://www.w3.org/2000/svg","g"),i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",e),i.setAttribute("fill",r[t].pattern);const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d",e),o.setAttribute("fill","url(#hash_pattern)"),n.appendChild(i),n.appendChild(o),n}const i=document.createElementNS("http://www.w3.org/2000/svg","path");switch(i.setAttribute("d",e),n){case"semi":i.setAttribute("fill",r.solid);break;case"solid":i.setAttribute("fill",r[t].semi)}return i}function vh(e,t){if(t){const n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.appendChild(t),n.appendChild(e),n}return e}function bh(e,t,n){const{padding:r=0}=n,i=document.createElementNS("http://www.w3.org/2000/svg","text");if(i.setAttribute("font-size",n.fontSize+"px"),i.setAttribute("font-family",n.fontFamily),i.setAttribute("font-style",n.fontStyle),i.setAttribute("font-weight",n.fontWeight),i.setAttribute("line-height",n.lineHeight*n.fontSize+"px"),i.setAttribute("dominant-baseline","mathematical"),i.setAttribute("alignment-baseline","mathematical"),0===t.length)return i;const o=jo.From(t[0].box);for(const{box:e}of t)o.union(e);const s=r+(n.offsetX??0),a=(n.offsetY??0)+n.fontSize/2+("start"===n.verticalTextAlign?r:"end"===n.verticalTextAlign?n.height-r-o.height:(Math.ceil(n.height)-o.height)/2);let c=null;for(const{text:e,box:n}of t){if(null!==c&&n.y>c){const e=document.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttribute("alignment-baseline","mathematical"),e.setAttribute("x",s+"px"),e.setAttribute("y",n.y+a+"px"),e.textContent="\n",i.appendChild(e)}const t=document.createElementNS("http://www.w3.org/2000/svg","tspan");t.setAttribute("alignment-baseline","mathematical"),t.setAttribute("x",n.x+s+"px"),t.setAttribute("y",n.y+a+"px");const r=e.replace(/\s/g,"");t.textContent=r,i.appendChild(t),c=n.y}return n.stroke&&n.strokeWidth&&(i.setAttribute("stroke",n.stroke),i.setAttribute("stroke-width",n.strokeWidth+"px")),n.fill&&i.setAttribute("fill",n.fill),i}function xh(e){return{key:`${qn.id}:${e}`,getElement:async()=>{const t=function(e){const t=Yn[e];for(const e of document.fonts)if(t.includes(e.family))return e;return null}(e);if(!t)return null;const n=t.$$_url,r=t.$$_fontface;if(!n||!r)return null;const i=await(await fetch(n)).blob(),o=await new Promise(((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=t,n.readAsDataURL(i)})),s=r.replace(n,o),a=document.createElementNS("http://www.w3.org/2000/svg","style");return a.textContent=s,a}}}function Oh(e,t){return{key:`${qn.id}:${e}`,getElement:async()=>{if("pattern"!==e)return null;const n=8/12,r=document.createElement("div");return r.innerHTML=`\n\t\t\t\t<svg>\n\t\t\t\t\t<defs>\n\t\t\t\t\t\t<mask id="hash_pattern_mask">\n\t\t\t\t\t\t\t<rect x="0" y="0" width="8" height="8" fill="white" />\n\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\tstrokeLinecap="round"\n\t\t\t\t\t\t\t\tstroke="black"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<line x1="${1*n}" y1="2" x2="2" y2="${1*n}" />\n\t\t\t\t\t\t\t\t<line x1="${5*n}" y1="${7*n}" x2="${7*n}" y2="${5*n}" />\n\t\t\t\t\t\t\t\t<line x1="6" y1="${11*n}" x2="${11*n}" y2="6" />\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</mask>\n\t\t\t\t\t\t<pattern\n\t\t\t\t\t\t\tid="hash_pattern"\n\t\t\t\t\t\t\twidth="8"\n\t\t\t\t\t\t\theight="8"\n\t\t\t\t\t\t\tpatternUnits="userSpaceOnUse"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<rect x="0" y="0" width="8" height="8" fill="${t.solid}" mask="url(#hash_pattern_mask)" />\n\t\t\t\t\t\t</pattern>\n\t\t\t\t\t</defs>\n\t\t\t\t</svg>\n\t\t\t`,Array.from(r.querySelectorAll("defs > *"))}}}function wh(){return{key:`${qn.id}:pattern`,component:Eh}}const Sh=8,kh=(e,t,n)=>new Promise(((r,i)=>{const o=Sh*t*e,s=document.createElement("canvas");s.width=o,s.height=o;const a=s.getContext("2d");if(!a)return;a.fillStyle=n?"#212529":"#f8f9fa",a.fillRect(0,0,o,o),a.globalCompositeOperation="destination-out",a.lineCap="round",a.lineWidth=1.25*t*e;const c=8/12,l=n=>n*t*e;a.beginPath(),a.moveTo(l(1*c),l(2)),a.lineTo(l(2),l(1*c)),a.moveTo(l(5*c),l(7*c)),a.lineTo(l(7*c),l(5*c)),a.moveTo(l(6),l(11*c)),a.lineTo(l(11*c),l(6)),a.stroke(),s.toBlob((e=>{!e||io.throwToBlob.get()?i():r(e)}))})),_h=(e,t)=>{const n=document.createElement("canvas");n.width=e[0],n.height=e[1];const r=n.getContext("2d");return r?(t(r),n.toDataURL()):""},Ph=()=>{const e=[];for(let t=1;t<=Math.ceil(Fi);t++){const n=_h([1,1],(e=>{e.fillStyle=Fn.lightMode.black.semi,e.fillRect(0,0,1,1)})),r=_h([1,1],(e=>{e.fillStyle=Fn.darkMode.black.semi,e.fillRect(0,0,1,1)}));e.push({zoom:t,url:n,darkMode:!1}),e.push({zoom:t,url:r,darkMode:!0})}return e};function Eh(){const e=Gr(),t=(0,Wr.useRef)(null),{defs:n,isReady:r}=function(){const e=Gr().getInstanceState().devicePixelRatio,[t,n]=(0,Wr.useState)(!1),r=(0,Wr.useMemo)((()=>Ph()),[]),[i,o]=(0,Wr.useState)(r);return(0,Wr.useEffect)((()=>{const t=[];for(let n=1;n<=Math.ceil(Fi);n++)t.push(kh(e,n,!1).then((e=>({zoom:n,url:URL.createObjectURL(e),darkMode:!1})))),t.push(kh(e,n,!0).then((e=>({zoom:n,url:URL.createObjectURL(e),darkMode:!0}))));let r=!1;return Promise.all(t).then((e=>{r||(o(e),n(!0))})),()=>{r=!0,n(!1)}}),[e]),{defs:(0,Vr.jsx)(Vr.Fragment,{children:i.map((e=>{const t=e.zoom+(e.darkMode?"_dark":"_light");return(0,Vr.jsx)("pattern",{id:Ui[t],width:Sh,height:Sh,patternUnits:"userSpaceOnUse",children:(0,Vr.jsx)("image",{href:e.url,width:Sh,height:Sh})},t)}))}),isReady:t}}();return(0,Wr.useEffect)((()=>{if(r&&e.environment.isSafari){const e=Ch(t.current);e&&requestAnimationFrame((()=>{e.style.display="none",requestAnimationFrame((()=>{e.style.display=""}))}))}}),[e,r]),(0,Vr.jsx)("g",{ref:t,"data-testid":r?"ready-pattern-fill-defs":void 0,children:n})}function Ch(e){return e.classList.contains("tl-html-layer")?e:e.parentElement?Ch(e.parentElement):null}function Th(e,t,n={}){const{closed:r=!1,snap:i=1,start:o="outset",end:s="outset",lengthRatio:a=2,style:c="dashed"}=n;let l=0,u=0,d=1,h=0,p=0;switch(c){case"dashed":d=1,l=Math.min(t*a,e/4);break;case"dotted":d=100,l=t/d;break;default:return{strokeDasharray:"none",strokeDashoffset:"none"}}return r||("outset"===o?(e+=l/2,p+=l/2):"skip"===o&&(e-=l,p-=l),"outset"===s?e+=l/2:"skip"===s&&(e-=l)),u=Math.floor(e/l/(2*d)),u-=u%i,u<3&&"dashed"===c?e/t<5?(l=e,u=1,h=0):(l=.333*e,h=.333*e):(u=Math.max(u,3),l=e/u/(2*d),r?(p=l/2,h=(e-u*l)/u):h=(e-u*l)/Math.max(1,u-1)),{strokeDasharray:[l,h].join(" "),strokeDashoffset:p.toString()}}const jh=new WeakMap;function Ih(e,t){const n=jh.get(t);if(n)return n;const r=e.getArrowInfo(t);let i=0,o=0;const s=r.isStraight?new Aa({start:ti.From(r.start.point),end:ti.From(r.end.point)}):new mu({center:ti.Cast(r.handleArc.center),radius:r.handleArc.radius,start:ti.Cast(r.start.point),end:ti.Cast(r.end.point),sweepFlag:r.bodyArc.sweepFlag,largeArcFlag:r.bodyArc.largeArcFlag});if(t.props.text.trim()){const n=s.bounds,{w:r,h:a}=e.textMeasure.measureText(t.props.text,{...ed,fontFamily:od[t.props.font],fontSize:id[t.props.size],maxWidth:null});if(i=r,o=a,n.width>n.height){i=Math.max(Math.min(r,64),Math.min(n.width-64,r));const{w:s,h:a}=e.textMeasure.measureText(t.props.text,{...ed,fontFamily:od[t.props.font],fontSize:id[t.props.size],maxWidth:i});i=s,o=a}if(i>16*id[t.props.size]){i=16*id[t.props.size];const{w:n,h:r}=e.textMeasure.measureText(t.props.text,{...ed,fontFamily:od[t.props.font],fontSize:id[t.props.size],maxWidth:i});i=n,o=r}}const a=new ti(i,o).addScalar(2*ad);return jh.set(t,a),a}function Mh(e,t){const n=td[t.props.size];return sd+2*(n-td.s)+(n===td.xl?20:0)}function Ah(e,t){let n;const r=[],i=e.getArrowInfo(t),o="none"!==i.start.arrowhead,s="none"!==i.end.arrowhead;if(i.isStraight){const r=function(e,t,n){const r=Ih(e,t),i=Mh(0,t),o=ti.Nudge(n.start.point,n.end.point,i),s=ti.Nudge(n.end.point,n.start.point,i),a=Sa(o,s,jo.FromCenter(n.middle,r).corners);if(!a||2!==a.length)return{start:.5,end:.5};let[c,l]=a;ti.Dist2(c,o)>ti.Dist2(l,o)&&([l,c]=a);const u=o.add(ti.Sub(n.middle,c)),d=s.add(ti.Sub(n.middle,l));return{start:ti.Dist(n.start.point,u)/n.length,end:ti.Dist(n.start.point,d)/n.length}}(e,t,i);let a=li(t.props.labelPosition,o?r.start:0,s?r.end:1);a=a>=.48&&a<=.52?.5:a,n=ti.Lrp(i.start.point,i.end.point,a)}else{const a=function(e,t,n){const r=Ih(e,t),i=Mh(0,t),o=Math.sign(t.props.bend),s=i/n.handleArc.radius*o,a=ti.Angle(n.bodyArc.center,n.start.point)-s,c=ti.Angle(n.bodyArc.center,n.end.point)+s,l=wi(n.bodyArc.center,n.bodyArc.radius,a),u=wi(n.bodyArc.center,n.bodyArc.radius,c),d=[],h=Dh(n.bodyArc.center,n.bodyArc.radius,a,c,o,jo.FromCenter(l,r).corners);d.push(new $a({points:jo.FromCenter(l,r).corners,debugColor:"lime",isFilled:!1,ignore:!0}));const p=Dh(n.bodyArc.center,n.bodyArc.radius,a,c,o,jo.FromCenter(u,r).corners);d.push(new $a({points:jo.FromCenter(u,r).corners,debugColor:"lime",isFilled:!1,ignore:!0}));for(const e of[...h??[],...p??[],l,u])d.push(new gu({x:e.x-3,y:e.y-3,radius:3,isFilled:!1,debugColor:"magenta",ignore:!0}));const f=(h&&$h(n.start.point,h))??n.middle,m=(p&&$h(n.end.point,p))??n.middle,g=ti.Angle(n.bodyArc.center,n.start.point),y=ti.Angle(n.bodyArc.center,n.end.point),v=ti.Angle(n.bodyArc.center,f),b=ti.Angle(n.bodyArc.center,m);if(Ii(g,v,o)>Ii(g,b,o))return{start:.5,end:.5,dbg:d};const x=Ii(g,y,o);return{start:Ii(g,v,o)/x,end:Ii(g,b,o)/x,dbg:d}}(e,t,i);a.dbg&&r.push(...a.dbg);let c=li(t.props.labelPosition,o?a.start:0,s?a.end:1);c=c>=.48&&c<=.52?.5:c;const l=function(e,t,n,r){return e+Ii(e,t,n)*r*n*-1}(ti.Angle(i.bodyArc.center,i.start.point),ti.Angle(i.bodyArc.center,i.end.point),Math.sign(t.props.bend),c);n=wi(i.bodyArc.center,i.bodyArc.radius,l)}const a=Ih(e,t);return{box:jo.FromCenter(n,a),debugGeom:r}}function Dh(e,t,n,r,i,o){const s=_a(e,t,o),a=Ii(n,r,i);return s?.filter((t=>{const r=Ii(n,ti.Angle(e,t),i);return r>=0&&r<=a}))}function $h(e,t){let n=null,r=-1/0;for(const i of t){const t=ti.Dist2(e,i);t>r&&(n=i,r=t)}return n}function Rh(e,t,n){const r="end"===t?e.end.arrowhead:e.start.arrowhead;if("none"===r)return;const i=function(e,t,n){const r="end"===t?e.end.point:e.start.point,i="end"===t?e.start.point:e.end.point,o=e.isStraight?ti.Dist(i,r):Math.abs(e.bodyArc.length),s=Math.max(Math.min(o/5,3*n),n);let a;if(e.isStraight)a=ti.Nudge(r,i,s);else{const n=ka(r,s,e.handleArc.center,e.handleArc.radius);a="end"===t?e.handleArc.sweepFlag?n[0]:n[1]:e.handleArc.sweepFlag?n[1]:n[0]}return ti.IsNaN(a)&&(a=e.start.point),{point:r,int:a}}(e,t,n);if(i){switch(r){case"bar":return function({int:e,point:t}){const n=ti.Sub(e,t).div(2),r=ti.Add(t,ti.Rot(n,si)),i=ti.Sub(t,ti.Rot(n,si));return`M ${r.x} ${r.y} L ${i.x} ${i.y}`}(i);case"square":return function({int:e,point:t}){const n=ti.Lrp(t,e,.85),r=ti.Sub(n,t).div(2),i=ti.Add(t,ti.Rot(r,si)),o=ti.Sub(t,ti.Rot(r,si)),s=ti.Add(n,ti.Rot(r,si)),a=ti.Sub(n,ti.Rot(r,si));return`M ${i.x} ${i.y} L ${s.x} ${s.y} L ${a.x} ${a.y} L ${o.x} ${o.y} Z`}(i);case"diamond":return function({point:e,int:t}){const n=ti.Lrp(e,t,.75),r=ti.RotWith(n,e,oi/4),i=ti.RotWith(n,e,-oi/4),o=ti.Lrp(r,i,.5);return o.add(ti.Sub(o,e)),`M ${o.x} ${o.y} L ${r.x} ${r.y} ${e.x} ${e.y} L ${i.x} ${i.y} Z`}(i);case"dot":return function({point:e,int:t}){const n=ti.Lrp(e,t,.45),r=ti.Dist(n,e);return`M ${n.x-r},${n.y}\n  a ${r},${r} 0 1,0 ${2*r},0\n  a ${r},${r} 0 1,0 -${2*r},0 `}(i);case"inverted":return function({point:e,int:t}){const n=ti.Sub(t,e).div(2),r=ti.Add(e,ti.Rot(n,si)),i=ti.Sub(e,ti.Rot(n,si));return`M ${r.x} ${r.y} L ${t.x} ${t.y} L ${i.x} ${i.y} Z`}(i);case"arrow":return function({point:e,int:t}){const n=ti.RotWith(t,e,oi/6),r=ti.RotWith(t,e,-oi/6);return`M ${n.x} ${n.y} L ${e.x} ${e.y} L ${r.x} ${r.y}`}(i);case"triangle":return function({point:e,int:t}){const n=ti.RotWith(t,e,oi/6),r=ti.RotWith(t,e,-oi/6);return`M ${n.x} ${n.y} L ${e.x} ${e.y} L ${r.x} ${r.y} Z`}(i)}return""}}function Nh(e){const{start:t,end:n,handleArc:{radius:r,largeArcFlag:i,sweepFlag:o}}=e;return`M${t.handle.x},${t.handle.y} A${r} ${r} 0 ${i} ${o} ${n.handle.x},${n.handle.y}`}function Lh(e){const{start:t,end:n,bodyArc:{radius:r,largeArcFlag:i,sweepFlag:o}}=e;return`M${t.point.x},${t.point.y} A${r} ${r} 0 ${i} ${o} ${n.point.x},${n.point.y}`}function Qh(e,t){return`M${e.x},${e.y}L${t.x},${t.y}`}function zh(e){return Qh(e.start.handle,e.end.handle)}function Fh(e){return Qh(e.start.point,e.end.point)}function Bh(e,t,n){const r=Gr(),i=(0,Wr.useRef)(null),o=(0,Wr.useRef)(!1),a=(0,Wr.useRef)(),c=(0,s.h)("isEditing",(()=>r.getEditingShapeId()===e),[r,e]);(0,Wr.useEffect)((()=>{const e=i.current;e&&c&&document.activeElement!==e&&e.focus()}),[c]);const l=(0,Wr.useCallback)((()=>{const t=o.current;o.current=!1,requestAnimationFrame((()=>{const n=i.current;if(!n)return;const o=r.getShape(e);o&&(n.value=o.props.text,n.value.length&&!t&&n.select())}))}),[r,e]),u=(0,Wr.useCallback)((()=>{const t=a.current;requestAnimationFrame((()=>{const n=i.current,s=r.getEditingShapeId();if(n&&s){if(s===e)if(t)if(t.length){o.current=!0,n.focus();const e=window.getSelection();e&&t.forEach((t=>e.addRange(t)))}else n.focus();else n.focus()}else window.getSelection()?.removeAllRanges(),r.complete()}))}),[r,e]),d=(0,Wr.useCallback)((e=>{if(c)switch(e.key){case"Enter":(e.ctrlKey||e.metaKey)&&r.complete();break;case"Tab":co(e),e.shiftKey?Qd.unindent(e.currentTarget):Qd.indent(e.currentTarget)}}),[r,c]),h=(0,Wr.useCallback)((n=>{if(!c)return;let i=Qd.normalizeText(n.currentTarget.value);const o=i.replace(/\t/g,Ld);if(o!==i){const e=n.currentTarget.selectionStart;n.currentTarget.value=o,n.currentTarget.selectionStart=e+(o.length-i.length),n.currentTarget.selectionEnd=e+(o.length-i.length),i=o}r.updateShapes([{id:e,type:t,props:{text:i}}])}),[r,e,t,c]),p=0===n.trim().length;(0,Wr.useEffect)((()=>{if(c&&i.current){let e=function(){const e=window.getSelection?.();if(e&&"None"!==e.type){const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt?.(n));a.current=t}};return document.addEventListener("selectionchange",e),()=>{document.removeEventListener("selectionchange",e)}}}),[c]);const f=(0,Wr.useCallback)((t=>{r.dispatch({...po(t),type:"pointer",name:"pointer_down",target:"shape",shape:r.getShape(e)}),ho(t)}),[r,e]);return{rInput:i,isEditing:c,handleFocus:l,handleBlur:u,handleKeyDown:d,handleChange:h,handleInputPointerDown:f,handleDoubleClick:ho,isEmpty:p}}const Zh=Wr.memo((function({id:e,text:t,size:n,font:r,position:i,width:o,labelColor:s}){const{rInput:a,isEditing:c,handleFocus:l,handleBlur:u,handleKeyDown:d,handleChange:h,isEmpty:p,handleInputPointerDown:f,handleDoubleClick:m}=Bh(e,"arrow",t),g=Qd.normalizeTextForDom(t).trim().length>0;return c||g?(0,Vr.jsx)("div",{className:"tl-arrow-label","data-font":r,"data-align":"center","data-hastext":!p,"data-isediting":c,style:{textAlign:"center",fontSize:id[n],lineHeight:id[n]*ed.lineHeight+"px",transform:`translate(${i.x}px, ${i.y}px)`,color:s},children:(0,Vr.jsxs)("div",{className:"tl-arrow-label__inner",children:[(0,Vr.jsx)("p",{style:{width:o||"9px"},children:t?Qd.normalizeTextForDom(t):" "}),c&&(0,Vr.jsx)("textarea",{ref:a,className:"tl-text tl-text-input",name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:t,onFocus:l,onChange:h,onKeyDown:d,onBlur:u,onTouchEnd:ho,onContextMenu:ho,onPointerDown:f,onDoubleClick:m})]})}):null}));let Vh=0;class Wh extends Na{static type="arrow";static props=er;static migrations=tr;canEdit=()=>!0;canBind=()=>!1;canSnap=()=>!1;hideResizeHandles=()=>!0;hideRotateHandle=()=>!0;hideSelectionBoundsBg=()=>!0;hideSelectionBoundsFg=()=>!0;getDefaultProps(){return{dash:"draw",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:2,y:0},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw"}}getGeometry(e){const t=this.editor.getArrowInfo(e),n=[],r=t.isStraight?new Aa({start:ti.From(t.start.point),end:ti.From(t.end.point)}):new mu({center:ti.Cast(t.handleArc.center),radius:t.handleArc.radius,start:ti.Cast(t.start.point),end:ti.Cast(t.end.point),sweepFlag:t.bodyArc.sweepFlag,largeArcFlag:t.bodyArc.largeArcFlag});let i;if(e.props.text.trim()){const t=Ah(this.editor,e);n.push(...t.debugGeom),i=new Ra({x:t.box.x,y:t.box.y,width:t.box.w,height:t.box.h,isFilled:!0,isLabel:!0})}return new No({children:[...i?[r,i]:[r],...n]})}getLength(e){const t=this.editor.getArrowInfo(e);return t.isStraight?ti.Dist(t.start.handle,t.end.handle):Math.abs(t.handleArc.length)}getHandles(e){const t=this.editor.getArrowInfo(e);return[{id:"start",type:"vertex",index:"a0",x:t.start.handle.x,y:t.start.handle.y,canBind:!0},{id:"middle",type:"virtual",index:"a2",x:t.middle.x,y:t.middle.y,canBind:!1},{id:"end",type:"vertex",index:"a3",x:t.end.handle.x,y:t.end.handle.y,canBind:!0}].filter(Boolean)}onHandleDrag=(e,{handle:t,isPrecise:n})=>{const r=t.id;if("middle"===r){const{start:n,end:r}=Lc(this.editor,e),i=ti.Sub(r,n),o=ti.Per(i),s=ti.Med(r,n),a=ti.Sub(s,o),c=ti.Add(s,o),l=ti.NearestPointOnLineSegment(a,c,t,!1);let u=ti.Dist(l,s);return ti.Clockwise(l,r,s)&&(u*=-1),{id:e.id,type:e.type,props:{bend:u}}}const i=B(e);if(this.editor.inputs.ctrlKey)return i.props[r]={type:"point",x:t.x,y:t.y},i;const o=this.editor.getShapePageTransform(e.id).applyToPoint(t),s=this.editor.getShapeAtPoint(o,{hitInside:!0,hitFrameInside:!0,margin:0,filter:e=>!e.isLocked&&this.editor.getShapeUtil(e).canBind(e)});if(!s)return i.props[r]={type:"point",x:t.x,y:t.y},i;const a=this.editor.getShapeGeometry(s),c=jo.ZeroFix(a.bounds),l=this.editor.getShapePageTransform(i.id).applyToPoint(t),u=this.editor.getPointInShapeSpace(s,l);let d=n;if(!d){const e=i.props[r];("point"===e.type||"binding"===e.type&&s.id!==e.boundShapeId)&&(d=this.editor.inputs.pointerVelocity.len()<.5)}if(!n){a.isClosed||(d=!0);const e=i.props["start"===r?"end":"start"];"binding"===e.type&&s.id===e.boundShapeId&&e.isPrecise&&(d=!0)}const h={x:(u.x-c.minX)/c.width,y:(u.y-c.minY)/c.height};return d&&ti.Dist(u,c.center)<Math.max(4,Math.min(.15*Math.min(c.width,c.height),16))/this.editor.getZoomLevel()&&(h.x=.5,h.y=.5),i.props[r]={type:"binding",boundShapeId:s.id,normalizedAnchor:h,isPrecise:d,isExact:this.editor.inputs.altKey},"binding"===i.props.start.type&&"binding"===i.props.end.type&&i.props.start.boundShapeId===i.props.end.boundShapeId&&ti.Equals(i.props.start.normalizedAnchor,i.props.end.normalizedAnchor)&&(i.props.end.normalizedAnchor.x+=.05),i};onTranslateStart=e=>{const t="binding"===e.props.start.type?e.props.start.boundShapeId:null,n="binding"===e.props.end.type?e.props.end.boundShapeId:null,r=Lc(this.editor,e),i=this.editor.getShapePageTransform(e.id),o=this.editor.getSelectedShapeIds();if(t&&(o.includes(t)||this.editor.isAncestorSelected(t))||n&&(o.includes(n)||this.editor.isAncestorSelected(n)))return;let s=e;Yh.set(e,{pagePosition:i.applyToPoint(e),terminalBindings:Y(r,((t,n)=>{const r=e.props[t];return"binding"!==r.type?null:{binding:r,shapePosition:n,pagePosition:i.applyToPoint(n)}}))});for(const t of["start","end"]){const n=e.props[t];"binding"===n.type&&(s={...e,props:{...e.props,[t]:{...n,isPrecise:!0}}})}return s};onTranslate=(e,t)=>{const n=Yh.get(e);if(!n)return;const r=this.editor.getShapePageTransform(t.id),i=ti.Sub(r.applyToPoint(t),n.pagePosition);let o=t;for(const[e,t]of W(n.terminalBindings)){if(!t)continue;const n=ti.Add(t.pagePosition,ti.Mul(i,.5)),r=this.editor.getShapeAtPoint(n,{hitInside:!0,hitFrameInside:!0,margin:0,filter:e=>!e.isLocked&&this.editor.getShapeUtil(e).canBind(e)});if(r?.id===t.binding.boundShapeId){const i=jo.ZeroFix(this.editor.getShapeGeometry(r).bounds),s=this.editor.getPointInShapeSpace(r,n),a={x:(s.x-i.minX)/i.width,y:(s.y-i.minY)/i.height};o={...o,props:{...o.props,[e]:{...t.binding,isPrecise:!0,normalizedAnchor:a}}}}else o={...o,props:{...o.props,[e]:{type:"point",x:t.shapePosition.x,y:t.shapePosition.y}}}}return o};onResize=(e,t)=>{const{scaleX:n,scaleY:r}=t,i=Lc(this.editor,e),{start:o,end:s}=B(e.props);let{bend:a}=e.props;"point"===o.type&&(o.x=i.start.x*n,o.y=i.start.y*r),"point"===s.type&&(s.x=i.end.x*n,s.y=i.end.y*r);const c=Math.abs(n),l=Math.abs(r);return n<0&&r>=0?(0!==a&&(a*=-1,a*=Math.max(c,l)),"binding"===o.type&&(o.normalizedAnchor.x=1-o.normalizedAnchor.x),"binding"===s.type&&(s.normalizedAnchor.x=1-s.normalizedAnchor.x)):n>=0&&r<0?(0!==a&&(a*=-1,a*=Math.max(c,l)),"binding"===o.type&&(o.normalizedAnchor.y=1-o.normalizedAnchor.y),"binding"===s.type&&(s.normalizedAnchor.y=1-s.normalizedAnchor.y)):n>=0&&r>=0?0!==a&&(a*=Math.max(c,l)):n<0&&r<0&&(0!==a&&(a*=Math.max(c,l)),"binding"===o.type&&(o.normalizedAnchor.x=1-o.normalizedAnchor.x,o.normalizedAnchor.y=1-o.normalizedAnchor.y),"binding"===s.type&&(s.normalizedAnchor.x=1-s.normalizedAnchor.x,s.normalizedAnchor.y=1-s.normalizedAnchor.y)),{props:{start:o,end:s,bend:a}}};onDoubleClickHandle=(e,t)=>{switch(t.id){case"start":return{id:e.id,type:e.type,props:{...e.props,arrowheadStart:"none"===e.props.arrowheadStart?"arrow":"none"}};case"end":return{id:e.id,type:e.type,props:{...e.props,arrowheadEnd:"none"===e.props.arrowheadEnd?"arrow":"none"}}}};component(e){const t=fh(),n=this.editor.getOnlySelectedShape(),r=this.editor.isInAny("select.idle","select.pointing_handle","select.dragging_handle","select.translating","arrow.dragging")&&!this.editor.getInstanceState().isReadonly,i=this.editor.getArrowInfo(e),o=jo.ZeroFix(this.editor.getShapeGeometry(e).bounds),s=Wr.useMemo((()=>this.editor.environment.isSafari?Vh+=1:0),[e]);if(!i?.isValid)return null;const a=td[e.props.size],c=i.start.arrowhead&&Rh(i,"start",a),l=i.end.arrowhead&&Rh(i,"end",a),u=i.isStraight?Fh(i):Lh(i);let d=null;if(n===e&&r){const t=2,{strokeDasharray:n,strokeDashoffset:r}=Th(this.getLength(e),t,{end:"skip",start:"skip",lengthRatio:2.5});d="binding"===e.props.start.type||"binding"===e.props.end.type?(0,Vr.jsx)("path",{className:"tl-arrow-hint",d:i.isStraight?zh(i):Nh(i),strokeDasharray:n,strokeDashoffset:r,strokeWidth:t,markerStart:"binding"===e.props.start.type?e.props.start.isExact?"":e.props.start.isPrecise?"url(#arrowhead-cross)":"url(#arrowhead-dot)":"",markerEnd:"binding"===e.props.end.type?e.props.end.isExact?"":e.props.end.isPrecise?"url(#arrowhead-cross)":"url(#arrowhead-dot)":"",opacity:.16}):null}const{strokeDasharray:h,strokeDashoffset:p}=Th(i.isStraight?i.length:Math.abs(i.bodyArc.length),a,{style:e.props.dash}),f=Ah(this.editor,e),m=!("none"===i.start.arrowhead||"arrow"===i.start.arrowhead),g=!("none"===i.end.arrowhead||"arrow"===i.end.arrowhead),y=(e.id+"_clip_"+s).replace(":","_");return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)(ba,{id:e.id,style:{minWidth:50,minHeight:50},children:[(0,Vr.jsx)("defs",{children:(0,Vr.jsxs)("mask",{id:y,children:[(0,Vr.jsx)("rect",{x:Ci(-100+o.minX),y:Ci(-100+o.minY),width:Ci(o.width+200),height:Ci(o.height+200),fill:"white"}),e.props.text.trim()&&(0,Vr.jsx)("rect",{x:f.box.x,y:f.box.y,width:f.box.w,height:f.box.h,fill:"black",rx:4,ry:4}),c&&m&&(0,Vr.jsx)("path",{d:c,fill:"arrow"===i.start.arrowhead?"none":"black",stroke:"none"}),l&&g&&(0,Vr.jsx)("path",{d:l,fill:"arrow"===i.end.arrowhead?"none":"black",stroke:"none"})]})}),(0,Vr.jsxs)("g",{fill:"none",stroke:t[e.props.color].solid,strokeWidth:a,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none",children:[d,(0,Vr.jsxs)("g",{mask:`url(#${y})`,children:[(0,Vr.jsx)("rect",{x:Ci(o.minX-100),y:Ci(o.minY-100),width:Ci(o.width+200),height:Ci(o.height+200),opacity:0}),(0,Vr.jsx)("path",{d:u,strokeDasharray:h,strokeDashoffset:p})]}),c&&m&&"none"!==e.props.fill&&(0,Vr.jsx)(mh,{theme:t,d:c,color:e.props.color,fill:e.props.fill}),l&&g&&"none"!==e.props.fill&&(0,Vr.jsx)(mh,{theme:t,d:l,color:e.props.color,fill:e.props.fill}),c&&(0,Vr.jsx)("path",{d:c}),l&&(0,Vr.jsx)("path",{d:l})]})]}),(0,Vr.jsx)(Zh,{id:e.id,text:e.props.text,font:e.props.font,size:e.props.size,position:f.box.center,width:f.box.w,labelColor:t[e.props.labelColor].solid})]})}indicator(e){const{start:t,end:n}=Lc(this.editor,e),r=this.editor.getArrowInfo(e),i=this.editor.getShapeGeometry(e),o=i.bounds,s=e.props.text.trim()?i.children[1]:null,a=hu(e.id);if(!r)return null;if(ti.Equals(t,n))return null;const c=td[e.props.size],l=r.start.arrowhead&&Rh(r,"start",c),u=r.end.arrowhead&&Rh(r,"end",c),d=r.isStraight?Fh(r):Lh(r),h=l&&"arrow"!==r.start.arrowhead||u&&"arrow"!==r.end.arrowhead||!!s,p=(e.id+"_clip").replace(":","_");return a&&s?(0,Vr.jsx)("rect",{x:Ci(s.x),y:Ci(s.y),width:s.w,height:s.h,rx:3.5,ry:3.5}):(0,Vr.jsxs)("g",{children:[h&&(0,Vr.jsx)("defs",{children:(0,Vr.jsxs)("mask",{id:p,children:[(0,Vr.jsx)("rect",{x:o.minX-100,y:o.minY-100,width:o.w+200,height:o.h+200,fill:"white"}),s&&(0,Vr.jsx)("rect",{x:Ci(s.x),y:Ci(s.y),width:s.w,height:s.h,fill:"black",rx:3.5,ry:3.5}),l&&(0,Vr.jsx)("path",{d:l,fill:"arrow"===r.start.arrowhead?"none":"black",stroke:"none"}),u&&(0,Vr.jsx)("path",{d:u,fill:"arrow"===r.end.arrowhead?"none":"black",stroke:"none"})]})}),(0,Vr.jsxs)("g",{...h?{mask:`url(#${p})`}:void 0,children:[h&&(0,Vr.jsx)("rect",{x:o.minX-100,y:o.minY-100,width:o.width+200,height:o.height+200,opacity:0}),(0,Vr.jsx)("path",{d})]}),l&&(0,Vr.jsx)("path",{d:l}),u&&(0,Vr.jsx)("path",{d:u}),s&&(0,Vr.jsx)("rect",{x:Ci(s.x),y:Ci(s.y),width:s.w,height:s.h,rx:3.5,ry:3.5})]})}onEditEnd=e=>{const{id:t,type:n,props:{text:r}}=e;r.trimEnd()!==e.props.text&&this.editor.updateShapes([{id:t,type:n,props:{text:r.trimEnd()}}])};toSvg(e,t){const n=Bn({isDarkMode:t.isDarkMode});t.addExportDef(Oh(e.props.fill,n));const r=n[e.props.color].solid,i=this.editor.getArrowInfo(e),o=td[e.props.size],s=document.createElementNS("http://www.w3.org/2000/svg","g");if(!i)return s;const a=i.start.arrowhead&&Rh(i,"start",o),c=i.end.arrowhead&&Rh(i,"end",o),l=this.editor.getShapeGeometry(e),u=l.bounds,d=e.props.text.trim()?l.children[1]:null,h=(e.id+"_clip").replace(":","_");if(a||c||d){const e=document.createElementNS("http://www.w3.org/2000/svg","defs"),t=document.createElementNS("http://www.w3.org/2000/svg","mask");t.id=h;const n=document.createElementNS("http://www.w3.org/2000/svg","rect");if(n.setAttribute("x",u.minX-100+""),n.setAttribute("y",u.minY-100+""),n.setAttribute("width",u.width+200+""),n.setAttribute("height",u.height+200+""),n.setAttribute("fill","white"),t.appendChild(n),a&&t.appendChild(Uh(a,i.start.arrowhead)),c&&t.appendChild(Uh(c,i.end.arrowhead)),d){const e=document.createElementNS("http://www.w3.org/2000/svg","rect");e.setAttribute("x",d.x+""),e.setAttribute("y",d.y+""),e.setAttribute("width",d.w+""),e.setAttribute("height",d.h+""),e.setAttribute("fill","black"),t.appendChild(e)}e.appendChild(t),s.appendChild(e)}const p=document.createElementNS("http://www.w3.org/2000/svg","g");p.setAttribute("mask",`url(#${h})`),s.appendChild(p);const f=document.createElementNS("http://www.w3.org/2000/svg","rect");f.setAttribute("x","-100"),f.setAttribute("y","-100"),f.setAttribute("width",u.width+200+""),f.setAttribute("height",u.height+200+""),f.setAttribute("fill","transparent"),f.setAttribute("stroke","none"),p.appendChild(f);const m=function(e,t,n){const r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",e),r.setAttribute("fill","none"),r.setAttribute("stroke",t),r.setAttribute("stroke-width",n+""),r}(i.isStraight?Fh(i):Lh(i),r,o),{strokeDasharray:g,strokeDashoffset:y}=Th(i.isStraight?i.length:Math.abs(i.bodyArc.length),o,{style:e.props.dash});if(m.setAttribute("stroke-dasharray",g),m.setAttribute("stroke-dashoffset",y),p.appendChild(m),a&&s.appendChild(qh(a,e.props.color,o,"arrow"===e.props.arrowheadStart?"none":e.props.fill,n)),c&&s.appendChild(qh(c,e.props.color,o,"arrow"===e.props.arrowheadEnd?"none":e.props.fill,n)),d){t.addExportDef(xh(e.props.font));const r={fontSize:id[e.props.size],lineHeight:ed.lineHeight,fontFamily:Yn[e.props.font],padding:0,textAlign:"middle",width:d.w-8,verticalTextAlign:"middle",height:d.h,fontStyle:"normal",fontWeight:"normal",overflow:"wrap"},i=bh(this.editor,this.editor.textMeasure.measureTextSpans(e.props.text,r),r);i.setAttribute("fill",n[e.props.labelColor].solid),Array.from(i.children).forEach((e=>{const t=parseFloat(e.getAttribute("x")||"0"),n=parseFloat(e.getAttribute("y")||"0");e.setAttribute("x",t+4+d.x+"px"),e.setAttribute("y",n+d.y+"px")}));const o=i.cloneNode(!0);o.setAttribute("stroke-width","2"),o.setAttribute("fill",n.background),o.setAttribute("stroke",n.background),s.appendChild(o),s.appendChild(i)}return s}getCanvasSvgDefs(){return[wh()]}}function Uh(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n.setAttribute("fill","arrow"===t?"none":"black"),n.setAttribute("stroke","none"),n}function qh(e,t,n,r,i){const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",e),o.setAttribute("fill","none"),o.setAttribute("stroke",i[t].solid),o.setAttribute("stroke-width",n+"");const s=yh({d:e,fill:r,color:t,theme:i});if(s){const e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.appendChild(s),e.appendChild(o),e}return o}const Yh=new WeakMap,Xh="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' fill='none'%3E%3Cpath stroke='%23000' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M13 5H7a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6M19 5h6m0 0v6m0-6L13 17'/%3E%3C/svg%3E";function Hh({url:e,zoomLevel:t}){return(0,Vr.jsx)("a",{className:Ur("tl-hyperlink-button",{"tl-hyperlink-button__hidden":t<.32}),href:e,target:"_blank",rel:"noopener noreferrer",onPointerDown:ho,onPointerUp:ho,title:e,draggable:!1,children:(0,Vr.jsx)("div",{className:"tl-hyperlink-button__icon",style:{mask:`url("${Xh}") center 100% / 100% no-repeat`,WebkitMask:`url("${Xh}") center 100% / 100% no-repeat`}})})}const Gh=[{offsetX:0,offsetY:2,blur:4,spread:0,color:"#00000029"},{offsetX:0,offsetY:3,blur:6,spread:0,color:"#0000001f"}];function Kh(e){return Gh.map((t=>{const{offsetX:n,offsetY:r,blur:i,spread:o,color:s}=t,a=new ti(n,r),{x:c,y:l}=a.rot(-e);return`${c}px ${l}px ${i}px ${o}px ${s}`})).join(", ")}class Jh extends au{static type="bookmark";static props=nr;static migrations=rr;canResize=()=>!1;hideSelectionBoundsFg=()=>!0;getDefaultProps(){return{url:"",w:300,h:320,assetId:null}}component(e){const t=e.props.assetId?this.editor.getAsset(e.props.assetId):null,n=this.editor.getShapePageTransform(e).rotation(),r=ep(e);return(0,Vr.jsx)(ou,{children:(0,Vr.jsxs)("div",{className:"tl-bookmark__container",style:{boxShadow:Kh(n)},children:[(0,Vr.jsxs)("div",{className:"tl-bookmark__image_container",children:[t?.props.image?(0,Vr.jsx)("img",{className:"tl-bookmark__image",draggable:!1,src:t?.props.image,alt:t?.props.title||""}):(0,Vr.jsx)("div",{className:"tl-bookmark__placeholder"}),(0,Vr.jsx)(Hh,{url:e.props.url,zoomLevel:this.editor.getZoomLevel()})]}),(0,Vr.jsxs)("div",{className:"tl-bookmark__copy_container",children:[t?.props.title&&(0,Vr.jsx)("h2",{className:"tl-bookmark__heading",children:Bd(t?.props.title||"",54)}),t?.props.description&&(0,Vr.jsx)("p",{className:"tl-bookmark__description",children:Bd(t?.props.description||"",128)}),(0,Vr.jsx)("a",{className:"tl-bookmark__link",href:e.props.url||"",target:"_blank",rel:"noopener noreferrer",onPointerDown:ho,onPointerUp:ho,onClick:ho,children:Bd(r,45)})]})]})})}indicator(e){return(0,Vr.jsx)("rect",{width:Ci(e.props.w),height:Ci(e.props.h),rx:"6",ry:"6"})}onBeforeCreate=e=>{tp(this.editor,e)};onBeforeUpdate=(e,t)=>{if(e.props.url!==t.props.url){if(!Lt.isValid(t.props.url))return{...t,props:{...t.props,url:e.props.url}};tp(this.editor,t)}}}const ep=e=>{try{const t=new URL(e.props.url),n=t.pathname.replace(/\/*$/,"");return`${t.hostname}${n}`}catch(t){return e.props.url}};function tp(e,t){const{url:n}=t.props,r=Mn.createId(C(n));e.getAsset(r)?t.props.assetId!==r&&e.updateShapes([{id:t.id,type:t.type,props:{assetId:r}}]):(e.updateShapes([{id:t.id,type:t.type,props:{assetId:null}}]),np(e,t))}const np=S((async(e,t)=>{const{url:n}=t.props,r=await e.getAssetForExternalContent({type:"url",url:n});r&&e.batch((()=>{e.createAssets([r]),e.updateShapes([{id:t.id,type:t.type,props:{assetId:r.id}}])}))}),500);function rp(e,t=!1){const n=e.length;if(n<2)return"";let r=e[0].point,i=e[1].point;if(2===n)return`M${ri(r)}L${ri(i)}`;let o="";for(let t=2,s=n-1;t<s;t++)r=e[t].point,i=e[t+1].point,o+=ii(r,i);return t?`M${ii(e[0].point,e[1].point)}Q${ri(e[1].point)}${ii(e[1].point,e[2].point)}T${o}${ii(e[n-1].point,e[0].point)}${ii(e[0].point,e[1].point)}Z`:`M${ri(e[0].point)}Q${ri(e[1].point)}${ii(e[1].point,e[2].point)}${e.length>3?"T":""}${o}L${ri(e[n-1].point)}`}function ip(e,t={}){const{start:n={},end:r={}}=t,{cap:i=!0}=n,{cap:o=!0}=r;x(!n.taper&&!r.taper,"cap taper not supported here"),x(!n.easing&&!r.easing,"cap easing not supported here"),x(i&&o,"cap must be true");const s=Bu(e,t);Wu(s,t);const a=function(e){if(e.length<=2)return[e];const t=[];let n=[e[0]];for(let r=1;r<e.length-1;r++){const i=e[r-1],o=e[r],s=e[r+1],a=ti.Angle(i.point,o.point),c=ti.Angle(o.point,s.point),l=Math.abs(gi(a,c))/Math.PI;if(l>.8){const e={...o,point:o.input};n.push(e),t.push(op(n)),n=[e];continue}if(n.push(o),l<.25)continue;const u=(i.radius+o.radius+s.radius)/3;ti.Dist(i.point,o.point)/u+ti.Dist(o.point,s.point)/u<1.5&&(n.push(o),t.push(op(n)),n=[o])}return n.push(e[e.length-1]),t.push(op(n)),t}(s);let c="";for(const e of a)c+=sp(e,t);return c}function op(e){const t=e[0];for(;e.length>2;){const n=e[1];if(!(ti.Dist(t.point,n.point)<(t.radius+n.radius)/2*.5))break;e.splice(1,1)}const n=e[e.length-1];for(;e.length>2;){const t=e[e.length-2];if(!(ti.Dist(n.point,t.point)<(n.radius+t.radius)/2*.5))break;e.splice(e.length-2,1)}return e.length>1&&(e[0]={...e[0],vector:ti.FromAngle(ti.Angle(e[1].point,e[0].point))},e[e.length-1]={...e[e.length-1],vector:ti.FromAngle(ti.Angle(e[e.length-1].point,e[e.length-2].point))}),e}function sp(e,t={}){if(0===e.length)return"";if(1===e.length)return"M "+e[0].point.x+" "+e[0].point.y+" m -"+(n=e[0].radius)+", 0 a "+n+","+n+" 0 1,1 "+2*n+",0 a "+n+","+n+" 0 1,1 -"+2*n+",0";var n;const{left:r,right:i}=Lu(e,t);i.reverse();let o=`M${ri(r[0])}T`;for(let e=1;e<r.length;e++)o+=ii(r[e-1],r[e]);{const t=e[e.length-1],n=t.radius,r=t.vector.clone().per().neg(),i=ti.Add(t.point,ti.Mul(r,n)),s=ti.Add(t.point,ti.Mul(r,-n));o+=`${ri(i)}A${Ci(n)},${Ci(n)} 0 0 1 ${ri(s)}T`}for(let e=1;e<i.length;e++)o+=ii(i[e-1],i[e]);{const t=e[0],n=t.radius,r=t.vector.clone().per(),i=ti.Add(t.point,ti.Mul(r,n)),s=ti.Add(t.point,ti.Mul(r,-n));o+=`${ri(i)}A${Ci(n)},${Ci(n)} 0 0 1 ${ri(s)}Z`}return o}function ap(){const e=Gr();return(0,s.h)("zoom",(()=>e.getZoomLevel()<.35),[e])}const cp=e=>.65*e+.35*ci(e*oi/2),lp=e=>({size:1+e,thinning:.5,streamline:.62+(1+e)/8*.06,smoothing:.62,easing:ei.easeOutSine,simulatePressure:!0}),up=e=>({size:1+1.2*e,thinning:.62,streamline:.62,smoothing:.62,simulatePressure:!1,easing:cp}),dp=e=>({size:1+e,thinning:0,streamline:.62+(1+e)/8*.06,smoothing:.62,simulatePressure:!1,easing:ei.linear});function hp({strokeWidth:e,showAsComplete:t}){return{size:1+e,thinning:0,streamline:.5,smoothing:.5,simulatePressure:!1,easing:ei.easeOutSine,last:t}}function pp(e,t,n,r){return{...r?dp(t):"draw"===e.dash?e.isPen?up(t):lp(t):dp(t),last:e.isComplete||n}}function fp(e){const t=[];for(const n of e)if("free"===n.type||n.points.length<2)t.push(...n.points.map(ti.Cast));else{const e=Math.max(4,Math.floor(ti.Dist(n.points[0],n.points[1])/16));t.push(...ti.PointsBetween(n.points[0],n.points[1],e))}return t}function mp(e,t){return{draw:"none",solid:"none",dotted:"0.1 "+2*t,dashed:`${2*t} ${2*t}`}[e.props.dash]}class gp extends Na{static type="draw";static props=or;static migrations=sr;hideResizeHandles=e=>vp(e);hideRotateHandle=e=>vp(e);hideSelectionBoundsFg=e=>vp(e);getDefaultProps(){return{segments:[],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!1,isClosed:!1,isPen:!1}}getGeometry(e){const t=fp(e.props.segments),n=td[e.props.size];if(1===e.props.segments.length){const e=jo.FromPoints(t);if(e.width<2*n&&e.height<2*n)return new gu({x:-n,y:-n,radius:n,isFilled:!0})}const r=Bu(t,pp(e.props,n,!0,!0)).map((e=>e.point));return e.props.isClosed?new $a({points:r,isFilled:"none"!==e.props.fill}):new Da({points:r})}component(e){const t=fh(),n=ap(),r=td[e.props.size],i=fp(e.props.segments),o=e.props.isComplete||"straight"===d(e.props.segments)?.type;let s=r;n||e.props.isPen||"draw"!==e.props.dash||1!==i.length||(s+=L(e.id)()*(r/6));const a=pp(e.props,s,o,n);if(!n&&"draw"===e.props.dash)return(0,Vr.jsxs)(ba,{id:e.id,children:[e.props.isClosed&&e.props.fill&&i.length>1?(0,Vr.jsx)(mh,{theme:t,fill:e.props.isClosed?e.props.fill:"none",color:e.props.color,d:rp(Bu(i,a),e.props.isClosed)}):null,(0,Vr.jsx)("path",{d:ip(i,a),strokeLinecap:"round",fill:t[e.props.color].solid})]});const c=Bu(i,a),l=c.length<2,u=l?yp(i[0],0):rp(c,e.props.isClosed);return(0,Vr.jsxs)(ba,{id:e.id,children:[(0,Vr.jsx)(mh,{theme:t,color:e.props.color,fill:l||e.props.isClosed?e.props.fill:"none",d:u}),(0,Vr.jsx)("path",{d:u,strokeLinecap:"round",fill:l?t[e.props.color].solid:"none",stroke:t[e.props.color].solid,strokeWidth:r,strokeDasharray:l?"none":mp(e,r),strokeDashoffset:"0"})]})}indicator(e){const t=ap(),n=td[e.props.size],r=fp(e.props.segments);let i=n;t||e.props.isPen||"draw"!==e.props.dash||1!==r.length||(i+=L(e.id)()*(n/6));const o=e.props.isComplete||"straight"===d(e.props.segments)?.type,s=Bu(r,pp(e.props,i,o,!0)),a=s.length>1?rp(s,e.props.isClosed):yp(r[0],i);return(0,Vr.jsx)("path",{d:a})}toSvg(e,t){const n=Bn({isDarkMode:t.isDarkMode});t.addExportDef(Oh(e.props.fill,n));const{color:r}=e.props,i=td[e.props.size],o=fp(e.props.segments),s=e.props.isComplete||"straight"===d(e.props.segments)?.type;let a=i;e.props.isPen||"draw"!==e.props.dash||1!==o.length||(a+=L(e.id)()*(i/6));const c=pp(e.props,a,s,!1),l=Bu(o,c),u=l.length>1?rp(l,e.props.isClosed):yp(o[0],a);let h;if("draw"===e.props.dash||l.length<2){Wu(l,c);const e=Qu(l,c),t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",Cs(e,!0)),t.setAttribute("fill",n[r].solid),t.setAttribute("stroke-linecap","round"),h=t}else{const t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",u),t.setAttribute("stroke",n[r].solid),t.setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-width",i.toString()),t.setAttribute("stroke-dasharray",mp(e,i)),t.setAttribute("stroke-dashoffset","0"),h=t}const p=yh({fill:e.props.isClosed?e.props.fill:"none",d:u,color:e.props.color,theme:n});if(p){const e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.appendChild(p),e.appendChild(h),e}return h}getCanvasSvgDefs(){return[wh()]}onResize=(e,t)=>{const{scaleX:n,scaleY:r}=t,i=[];for(const t of e.props.segments)i.push({...t,points:t.points.map((({x:e,y:t,z:i})=>({x:Ti(n*e),y:Ti(r*t),z:i})))});return{props:{segments:i}}};expandSelectionOutlinePx(e){const t="draw"===e.props.dash?1.6:1;return td[e.props.size]*t/2}}function yp(e,t){const n=.5*(t+1);return`M ${e.x} ${e.y} m -${n}, 0 a ${n},${n} 0 1,0 ${2*n},0 a ${n},${n} 0 1,0 -${2*n},0`}function vp(e){return 1===e.props.segments.length&&e.props.segments[0].points.length<2}class bp extends au{static type="embed";static props=dr;static migrations=hr;hideSelectionBoundsFg=e=>!this.canResize(e);canEdit=()=>!0;canUnmount=e=>!!Nd(e.props.url)?.definition?.canUnmount;canResize=e=>!!Nd(e.props.url)?.definition?.doesResize;canEditInReadOnly=()=>!0;getDefaultProps(){return{w:300,h:300,url:""}}isAspectRatioLocked=e=>{const t=Nd(e.props.url);return t?.definition.isAspectRatioLocked??!1};onResize=(e,t)=>{const n=this.isAspectRatioLocked(e),r=Nd(e.props.url);let i=r?.definition.minWidth??200,o=r?.definition.minHeight??200;if(n){const t=e.props.w/e.props.h;t>1?i*=t:o/=t}return function(e,t,n={}){const{newPoint:r,handle:i,scaleX:o,scaleY:s}=t,{minWidth:a=1,maxWidth:c=1/0,minHeight:l=1,maxHeight:u=1/0}=n;let d=e.props.w*o,h=e.props.h*s;const p=new ti(0,0);if(d>0){if(d<a){switch(i){case"top_left":case"left":case"bottom_left":p.x=d-a;break;case"top":case"bottom":p.x=(d-a)/2;break;default:p.x=0}d=a}}else if(p.x=d,d=-d,d<a){switch(i){case"top_left":case"left":case"bottom_left":p.x=-d;break;default:p.x=-a}d=a}if(h>0){if(h<l){switch(i){case"top_left":case"top":case"top_right":p.y=h-l;break;case"right":case"left":p.y=(h-l)/2;break;default:p.y=0}h=l}}else if(p.y=h,h=-h,h<l){switch(i){case"top_left":case"top":case"top_right":p.y=-h;break;default:p.y=-l}h=l}const{x:f,y:m}=p.rot(e.rotation).add(r);return{x:f,y:m,props:{w:Math.min(c,d),h:Math.min(u,h)}}}(e,t,{minWidth:i,minHeight:o})};component(e){const{w:t,h:n,url:r}=e.props,i=hu(e.id),o=(0,Wr.useMemo)((()=>Rd(r)),[r]),a=(0,s.h)("is hovering",(()=>{const{editingShapeId:e,hoveredShapeId:t}=this.editor.getCurrentPageState();if(e&&t!==e){const t=this.editor.getShape(e);if(t&&this.editor.isShapeOfType(t,"embed"))return!0}return!1}),[]),c=this.editor.getShapePageTransform(e).rotation(),l=i||a;if("github_gist"===o?.definition.type){const r=o.url.split("/").pop();if(!r)throw Error("No gist id!");return(0,Vr.jsx)(ou,{className:"tl-embed-container",id:e.id,children:(0,Vr.jsx)(xp,{id:r,width:Ci(t),height:Ci(n),isInteractive:l,pageRotation:c})})}const u=(d={...ur,...o?.definition.overridePermissions??{}},Object.entries(d).filter((([e,t])=>t)).map((([e])=>e)).join(" "));var d;return(0,Vr.jsx)(ou,{className:"tl-embed-container",id:e.id,children:o?.definition?(0,Vr.jsx)("iframe",{className:"tl-embed",sandbox:u,src:o.embedUrl,width:Ci(t),height:Ci(n),draggable:!1,frameBorder:"0",referrerPolicy:"no-referrer-when-downgrade",style:{border:0,pointerEvents:l?"auto":"none",zIndex:l?"":"-1",boxShadow:Kh(c),borderRadius:o?.definition.overrideOutlineRadius??8,background:o?.definition.backgroundColor}}):null})}indicator(e){const t=(0,Wr.useMemo)((()=>Nd(e.props.url)),[e.props.url]);return(0,Vr.jsx)("rect",{width:Ci(e.props.w),height:Ci(e.props.h),rx:t?.definition.overrideOutlineRadius??8,ry:t?.definition.overrideOutlineRadius??8})}}function xp({id:e,file:t,isInteractive:n,width:r,height:i,style:o,pageRotation:s}){return(0,Vr.jsx)("iframe",{className:"tl-embed",draggable:!1,width:Ci(r),height:Ci(i),frameBorder:"0",scrolling:"no",seamless:!0,referrerPolicy:"no-referrer-when-downgrade",style:{...o,pointerEvents:n?"all":"none",zIndex:n?"":"-1",boxShadow:Kh(s)},srcDoc:`\n\t\t\t<html>\n\t\t\t\t<head>\n\t\t\t\t\t<base target="_blank">\n\t\t\t\t</head>\n\t\t\t\t<body>\n\t\t\t\t\t<script src=https://gist.github.com/${e}.js${t?`?file=${t}`:""}><\/script>\n\t\t\t\t\t<style type="text/css">\n\t\t\t\t\t\t* { margin: 0px; }\n\t\t\t\t\t\ttable { height: 100%; background-color: red; }\n\t\t\t\t\t\t.gist { background-color: none; height: 100%;  }\n\t\t\t\t\t\t.gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }\n\t\t\t\t\t</style>\n\t\t\t\t</body>\n\t\t\t</html>`})}const Op=(0,Wr.forwardRef)((({id:e,name:t,isEditing:n},r)=>{const i=Gr(),o=(0,Wr.useCallback)((e=>{"Enter"!==e.key||e.nativeEvent.isComposing||(ho(e),e.currentTarget.blur(),i.setEditingShape(null))}),[i]),s=(0,Wr.useCallback)((t=>{const n=i.getShape(e);if(!n)return;const r=n.props.name,o=t.currentTarget.value.trim();r!==o&&i.updateShapes([{id:e,type:"frame",props:{name:o}}],{squashing:!0})}),[e,i]),a=(0,Wr.useCallback)((t=>{const n=i.getShape(e);if(!n)return;const r=n.props.name,o=t.currentTarget.value;r!==o&&i.updateShapes([{id:e,type:"frame",props:{name:o}}],{squashing:!0})}),[e,i]);return(0,Vr.jsxs)("div",{className:"tl-frame-label "+(n?"tl-frame-label__editing":""),children:[(0,Vr.jsx)("input",{className:"tl-frame-name-input",ref:r,style:{display:n?void 0:"none"},value:t,autoFocus:!0,onKeyDown:o,onBlur:s,onChange:a}),Sp(t,"Frame")+String.fromCharCode(8203)]})})),wp=function({id:e,name:t,width:n,height:r}){const i=Gr(),o=(0,s.h)("shape rotation",(()=>pi(i.getShapePageTransform(e).rotation())),[i,e]),a=hu(e),c=(0,Wr.useRef)(null),l=(0,Wr.useCallback)((t=>{const n=po(t);i.getEditingShapeId()!==e&&(i.dispatch({type:"pointer",name:"pointer_down",target:"shape",shape:i.getShape(e),...n}),t.preventDefault())}),[i,e]);(0,Wr.useEffect)((()=>{const e=c.current;e&&a&&(e.focus(),e.select(),requestAnimationFrame((()=>{document.activeElement!==e&&(e.focus(),e.select())})))}),[c,a]);const u=((o+Math.PI/4)*(2/Math.PI)+4)%4,d=["top","left","bottom","right"][Math.floor(u)];let h;switch(d){case"top":h="";break;case"right":h=`translate(${Ci(n)}px, 0px) rotate(90deg)`;break;case"bottom":h=`translate(${Ci(n)}px, ${Ci(r)}px) rotate(180deg)`;break;case"left":h=`translate(0px, ${Ci(r)}px) rotate(270deg)`}return(0,Vr.jsx)("div",{className:"tl-frame-heading",style:{overflow:a?"visible":"hidden",maxWidth:`calc(var(--tl-zoom) * ${"top"===d||"bottom"===d?Math.ceil(n):Math.ceil(r)}px + var(--space-5))`,bottom:"100%",transform:`${h} scale(var(--tl-scale)) translateX(calc(-1 * var(--space-3))`},onPointerDown:l,children:(0,Vr.jsx)("div",{className:"tl-frame-heading-hit-area",children:(0,Vr.jsx)(Op,{ref:c,id:e,name:t,isEditing:a})})})};function Sp(e,t){return e.match(/^\s*$/)?t:e}class kp extends au{static type="frame";static props=pr;static migrations=fr;canBind=()=>!0;canEdit=()=>!0;getDefaultProps(){return{w:320,h:180,name:""}}getGeometry(e){return new Ra({width:e.props.w,height:e.props.h,isFilled:!1})}component(e){const t=this.editor.getShapeGeometry(e).bounds,n=fh(),r=(0,s.h)("is creating this shape",(()=>{const t=this.editor.getStateDescendant("select.resizing");if(!t)return!1;if(!t.getIsActive())return!1;const n=t?.info;return!!n&&n.isCreating&&this.editor.getOnlySelectedShape()?.id===e.id}),[e.id]);return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(ba,{children:(0,Vr.jsx)("rect",{className:Ur("tl-frame__body",{"tl-frame__creating":r}),width:t.width,height:t.height,fill:n.solid,stroke:n.text})}),r?null:(0,Vr.jsx)(wp,{id:e.id,name:e.props.name,width:t.width,height:t.height})]})}toSvg(e,t){const n=Bn({isDarkMode:t.isDarkMode}),r=document.createElementNS("http://www.w3.org/2000/svg","g"),i=document.createElementNS("http://www.w3.org/2000/svg","rect");i.setAttribute("width",e.props.w.toString()),i.setAttribute("height",e.props.h.toString()),i.setAttribute("fill",n.solid),i.setAttribute("stroke",n.black.solid),i.setAttribute("stroke-width","1"),i.setAttribute("rx","1"),i.setAttribute("ry","1"),r.appendChild(i);const o=((pi(this.editor.getShapePageTransform(e.id).rotation())+Math.PI/4)*(2/Math.PI)+4)%4;let s;switch(["top","left","bottom","right"][Math.floor(o)]){case"top":default:s="";break;case"right":s=`translate(${Ci(e.props.w)}px, 0px) rotate(90deg)`;break;case"bottom":s=`translate(${Ci(e.props.w)}px, ${Ci(e.props.h)}px) rotate(180deg)`;break;case"left":s=`translate(0px, ${Ci(e.props.h)}px) rotate(270deg)`}const a={fontSize:12,fontFamily:"Inter, sans-serif",textAlign:"start",width:e.props.w,height:32,padding:0,lineHeight:1,fontStyle:"normal",fontWeight:"normal",overflow:"truncate-ellipsis",verticalTextAlign:"middle"},c=this.editor.textMeasure.measureTextSpans(Sp(e.props.name,"Frame")+String.fromCharCode(8203),a),l=c[0],u=d(c),h=u.box.w+u.box.x-l.box.x,p=bh(this.editor,c,{offsetY:-a.height-2,...a});p.style.setProperty("transform",s);const f=document.createElementNS("http://www.w3.org/2000/svg","rect");return f.setAttribute("x","-8px"),f.setAttribute("y",-a.height-4+"px"),f.setAttribute("width",h+16+"px"),f.setAttribute("height",`${a.height}px`),f.setAttribute("rx","4px"),f.setAttribute("ry","4px"),f.setAttribute("fill",n.background),r.appendChild(f),r.appendChild(p),r}indicator(e){const t=this.editor.getShapeGeometry(e).bounds;return(0,Vr.jsx)("rect",{width:Ci(t.width),height:Ci(t.height),className:"tl-frame-indicator"})}canReceiveNewChildrenOfType=(e,t)=>!e.isLocked;providesBackgroundForChildren(){return!0}canDropShapes=(e,t)=>!e.isLocked;onDragShapesOver=(e,t)=>t.every((t=>t.parentId===e.id))?{shouldHint:!1}:(this.editor.reparentShapes(t.map((e=>e.id)),e.id),{shouldHint:!0});onDragShapesOut=(e,t)=>{const n=this.editor.getShape(e.parentId);n&&this.editor.isShapeOfType(n,"group")?this.editor.reparentShapes(t,n.id):this.editor.reparentShapes(t,this.editor.getCurrentPageId())};onResizeEnd=e=>{const t=this.editor.getShapePageBounds(e),n=this.editor.getSortedChildIdsForParent(e.id),r=[];for(const e of n){const n=this.editor.getShapePageBounds(e);t.includes(n)||r.push(e)}r.length>0&&this.editor.reparentShapes(r,this.editor.getCurrentPageId())};onResize=(e,t)=>su(e,t)}const _p=Wr.memo((function({id:e,type:t,text:n,size:r,labelColor:i,font:o,align:s,verticalAlign:a,wrap:c,bounds:l}){const{rInput:u,isEmpty:d,isEditing:h,handleFocus:p,handleChange:f,handleKeyDown:m,handleBlur:g,handleInputPointerDown:y,handleDoubleClick:v}=Bh(e,t,n),b=Qd.normalizeTextForDom(n),x=b.length>0,O=function(e){return"start-legacy"===e||"middle-legacy"===e||"end-legacy"===e}(s),w=fh();return h||x?(0,Vr.jsx)("div",{className:"tl-text-label","data-font":o,"data-align":s,"data-hastext":!d,"data-isediting":h,"data-textwrap":!!c,style:{justifyContent:"middle"===s||O?"center":s,alignItems:"middle"===a?"center":a,...l?{top:l.minY,left:l.minX,width:l.width,height:l.height,position:"absolute"}:{}},children:(0,Vr.jsxs)("div",{className:"tl-text-label__inner",style:{fontSize:rd[r],lineHeight:rd[r]*ed.lineHeight+"px",minHeight:ed.lineHeight+32,minWidth:0,color:w[i].solid},children:[(0,Vr.jsx)("div",{className:"tl-text tl-text-content",dir:"ltr",children:b}),h&&(0,Vr.jsx)("textarea",{ref:u,className:"tl-text tl-text-input",name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:n,onFocus:p,onChange:f,onKeyDown:m,onBlur:g,onTouchEnd:ho,onContextMenu:ho,onPointerDown:y,onDoubleClick:v})]})}):null}));function Pp({bounds:e,editor:t,font:n,shape:r}){const i={fontSize:rd[r.props.size],fontFamily:n,textAlign:r.props.align,verticalTextAlign:r.props.verticalAlign,width:Math.ceil(e.width),height:Math.ceil(e.height),padding:16,lineHeight:ed.lineHeight,fontStyle:"normal",fontWeight:"normal",overflow:"wrap",offsetX:0},o=t.textMeasure.measureTextSpans(r.props.text,i),s=function(e,t,n,r){if(("start-legacy"===e||"end-legacy"===e)&&0!==n.length){const t=jo.From(n[0].box);for(const{box:e}of n)t.union(e);if("start-legacy"===e)return(r-32-t.width)/2;if("end-legacy"===e)return-(r-32-t.width)/2}}(r.props.align,0,o,e.width);return s&&(i.offsetX=s),bh(0,o,i)}function Ep(e){return`${Ci(e.x)},${Ci(e.y)} `}function Cp(e=""){let t=0,n=0,r=0,i=0;function o(){const e=t^t<<11;return t=n,n=r,r=i,i^=(i>>>19^e^e>>>8)>>>0,i/4294967296*2}for(let n=0;n<e.length+64;n++)t^=0|e.charCodeAt(n),o();return o}function Tp(e){let t,n,r,i="M";for(let o=0,s=e.length;o<s;o+=3)t=e[o],n=e[o+1],r=e[o+2],i+=`${Ep(t)}L${Ep(n)}Q${Ep(r)}`;return i+=`${Ep(e[0])}`,i}function jp(e,t,n,r,i){const o=[],s=Cp(e);let a,c=t[0];const l=t.length;for(let e=0,u=l*i;e<u;e++){a=ti.AddXY(t[(e+1)%l],s()*n,s()*n);const i=ti.Sub(a,c),u=ti.Len(i),d=ti.Div(i,u).mul(Math.min(u/4,r));o.push(ti.Add(c,d),ti.Add(a,d.neg()),a),c=a}return o}function Ip(e,t,n){let r=`M ${Ep(t[0])}L`,i=`M ${Ep(t[0])}L`;const o=n/3,s=2*n,a=Cp(e);let c,l,u=t[0],d=t[0];for(let e=0,n=t.length-1;e<n;e++){c=t[e+1],l=ti.AddXY(t[e+1],a()*o,a()*o);const h=ti.Sub(c,u),p=ti.Len(h),f=ti.Div(h,p).mul(Math.min(p/4,s)),m=ti.Add(u,f),g=ti.Add(c,f.neg()),y=ti.Sub(l,d),v=ti.Len(y),b=ti.Div(y,v).mul(Math.min(v/4,s)),x=ti.Add(d,b),O=ti.Add(l,b.neg());e===n-1?(r+=`${Ep(m)}L ${Ep(c)}`,i+=`${Ep(x)}L ${Ep(l)}`):(r+=`${Ep(m)}L ${Ep(g)}Q ${Ep(c)}`,i+=`${Ep(x)}L ${Ep(O)}Q ${Ep(l)}`,u=c,d=l)}return[r,r+i]}function Mp(e,t){const n=Math.min(e,t)/2,r=Math.max(e,t)-2*n;return Math.PI*(2*n)+2*r}const Ap=(e,t,n,r,i)=>{switch(e){case"s":return t;case"m":return n;case"l":return r;case"xl":return i}};function Dp(e,t,n,r){const i=L(n),o=Mp(e,t),s=Math.max(Math.ceil(o/Ap(r,50,70,100,130)),6,Math.ceil(o/Math.min(e,t))),a=o/s*.2,c=Math.max(e-2*a,1),l=Math.max(t-2*a,1),u=(e-c)/2,d=(t-l)/2,h=Mp(c,l)/s,p=function(e,t,n){const r=Math.min(e,t)/2,i=Math.max(e,t)-2*r,o=(Math.PI*(2*r)+2*i)/n,s=e>t?[{type:"straight",start:new ti(r,0),delta:new ti(1,0)},{type:"arc",center:new ti(e-r,r),startAngle:-oi/2},{type:"straight",start:new ti(e-r,t),delta:new ti(-1,0)},{type:"arc",center:new ti(r,r),startAngle:oi/2}]:[{type:"straight",start:new ti(e,r),delta:new ti(0,1)},{type:"arc",center:new ti(r,t-r),startAngle:0},{type:"straight",start:new ti(0,t-r),delta:new ti(0,-1)},{type:"arc",center:new ti(r,r),startAngle:oi}];let a=0;const c=[];for(let e=0;e<n;e++){const e=s[0];"straight"===e.type?c.push(ti.Add(e.start,ti.Mul(e.delta,a))):c.push(wi(e.center,r,e.startAngle+a/r)),a+=o;let t="straight"===e.type?i:oi*r;for(;a>t;)a-=t,s.push(s.shift()),t="straight"===s[0].type?i:oi*r}return c}(c,l,s).map((e=>e.addXY(u,d))),f=e<20?0:.3*a,m=t<20?0:.3*a,g=p.slice(0);for(let e=0;e<Math.floor(s/2);e++)g[e]=ti.AddXY(g[e],i()*f,i()*m),g[s-e-1]=ti.AddXY(g[s-e-1],i()*f,i()*m);const y=[];for(let n=0;n<g.length;n++){const r=n===g.length-1?0:n+1,i=g[n],o=g[r],s=p[n],a=p[r],c=ti.Average([s,a]),l=ti.Angle(s,a)-Math.PI/2,f=ti.Dist(s,a),m=h-f,v=ti.Dist(i,o)/f,b=(Math.max(u,d)+m)*v,x=ti.Add(c,ti.FromAngle(l,b));x.x<0?x.x=0:x.x>e&&(x.x=e),x.y<0?x.y=0:x.y>t&&(x.y=t);const O=$p(i,o,x),w=ti.Dist(O||ti.Average([i,o]),i);y.push({leftPoint:i,rightPoint:o,arcPoint:x,center:O,radius:w})}return y}function $p(e,t,n){const r=e.x*(t.y-n.y)-e.y*(t.x-n.x)+t.x*n.y-n.x*t.y,i=-((e.x*e.x+e.y*e.y)*(n.y-t.y)+(t.x*t.x+t.y*t.y)*(e.y-n.y)+(n.x*n.x+n.y*n.y)*(t.y-e.y))/(2*r),o=-((e.x*e.x+e.y*e.y)*(t.x-n.x)+(t.x*t.x+t.y*t.y)*(n.x-e.x)+(n.x*n.x+n.y*n.y)*(e.x-t.x))/(2*r);return Number.isFinite(i)&&Number.isFinite(o)?new ti(i,o):null}function Rp(e,t,n,r){const i=[],o=Dp(e,t,n,r);for(const{center:e,radius:t,leftPoint:n,rightPoint:r}of o)i.push(...Qp(n,r,e,t,10));return i}function Np(e,t,n,r){const i=Dp(e,t,n,r);let o=`M${Ci(i[0].leftPoint.x)},${Ci(i[0].leftPoint.y)}`;for(const{leftPoint:e,rightPoint:t,radius:n,center:r}of i){if(null===r){o+=` L${Ci(t.x)},${Ci(t.y)}`;continue}const i=zp(e,t,r)?"0":"1";o+=` A${Ci(n)},${Ci(n)} 0 ${i},1 ${Ci(t.x)},${Ci(t.y)}`}return o+=" Z",o}function Lp(e,t,n,r){const i=L(n),o="s"===r?.5:"m"===r?.7:"l"===r?.9:1.6,s=e=>e+i()*o*2,a=Dp(e,t,n,r),c=a.reduce(((e,t)=>e+ti.Dist(t.leftPoint,t.rightPoint)),0)/a.length>15*o?e=>new ti(s(e.x),s(e.y)):e=>e;let l=`M${Ci(a[0].leftPoint.x)},${Ci(a[0].leftPoint.y)}`,u=c(a[0].leftPoint),d=`M${Ci(u.x)},${Ci(u.y)}`;for(const{leftPoint:e,center:t,rightPoint:n,radius:r,arcPoint:i}of a){if(null===t){l+=` L${Ci(n.x)},${Ci(n.y)}`;const e=c(n);d+=` L${Ci(e.x)},${Ci(e.y)}`,u=e;continue}const o=zp(e,n,t)?"0":"1";l+=` A${Ci(r)},${Ci(r)} 0 ${o},1 ${Ci(n.x)},${Ci(n.y)}`;const s=c(n),a=$p(u,s,c(i));if(!a){d+=` L${Ci(s.x)},${Ci(s.y)}`,u=s;continue}const h=Math.abs(ti.Dist(a,u));d+=` A${Ci(h)},${Ci(h)} 0 ${o},1 ${Ci(s.x)},${Ci(s.y)}`,u=s}return l+d+" Z"}function Qp(e,t,n,r,i){if(null===n)return[ti.From(e),ti.From(t)];const o=[],s=ti.Angle(n,e),a=fi(s,ti.Angle(n,t));for(let e=0;e<i;e++){const t=wi(n,r,s+a*(e/(i-1)));o.push(t)}return o}function zp(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)>0}const Fp=Wr.memo((function({dash:e,fill:t,color:n,strokeWidth:r,w:i,h:o,id:s,size:a}){const c=fh(),l=Np(i,o,s,a),u=Dp(i,o,s,a);return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(mh,{theme:c,d:l,fill:t,color:n}),(0,Vr.jsx)("g",{strokeWidth:r,stroke:c[n].solid,fill:"none",pointerEvents:"all",children:u.map((({leftPoint:t,rightPoint:n,center:i,radius:o},s)=>{const a=i?o*pi(pi(ti.Angle(i,n))-pi(ti.Angle(i,t))):ti.Dist(t,n),{strokeDasharray:c,strokeDashoffset:l}=Th(a,r,{style:e,start:"outset",end:"outset"});return(0,Vr.jsx)("path",{d:i?`M${t.x},${t.y}A${o},${o},0,0,1,${n.x},${n.y}`:`M${t.x},${t.y}L${n.x},${n.y}`,strokeDasharray:c,strokeDashoffset:l},s)}))})]})})),Bp=Wr.memo((function({w:e,h:t,strokeWidth:n,dash:r,color:i,fill:o}){const s=fh(),a=e/2,c=t/2,l=Math.max(0,a),u=Math.max(0,c),d=hi(l,u),{strokeDasharray:h,strokeDashoffset:p}=Th(d<64?2*d:d,n,{style:r,snap:4,closed:!0}),f=`M${a-l},${c}a${l},${u},0,1,1,${2*l},0a${l},${u},0,1,1,-${2*l},0`;return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(mh,{theme:s,d:f,color:i,fill:o}),(0,Vr.jsx)("path",{d:f,strokeWidth:n,width:Ci(e),height:Ci(t),fill:"none",stroke:s[i].solid,strokeDasharray:h,strokeDashoffset:p,pointerEvents:"all"})]})}));function Zp(e,t){if(t>e){const n=e/2;return`\n    M0,${n}\n    a${n},${n},0,1,1,${2*n},0\n    L${e},${t-n}\n    a${n},${n},0,1,1,-${2*n},0\n    Z`}const n=t/2;return`\n    M${n},0\n    L${e-n},0\n    a${n},${n},0,1,1,0,${2*n}\n    L${n},${t}\n    a${n},${n},0,1,1,0,${2*-n}\n    Z`}function Vp(e,t){if(e>t){const n=t/2;return hi(n,n)+2*(e-2*n)}const n=e/2;return hi(n,n)+2*(t-2*n)}const Wp=Wr.memo((function({w:e,h:t,strokeWidth:n,dash:r,color:i,fill:o}){const s=fh(),a=Zp(e,t),c=Vp(e,t),{strokeDasharray:l,strokeDashoffset:u}=Th(c<64?2*c:c,n,{style:r,snap:4,start:"outset",end:"outset",closed:!0});return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(mh,{theme:s,d:a,color:i,fill:o}),(0,Vr.jsx)("path",{d:a,strokeWidth:n,width:Ci(e),height:Ci(t),fill:"none",stroke:s[i].solid,strokeDasharray:l,strokeDashoffset:u,pointerEvents:"all"})]})}));const Up=Wr.memo((function({dash:e,fill:t,color:n,strokeWidth:r,outline:i,lines:o}){const s=fh(),a="M"+i[0]+"L"+i.slice(1)+"Z";return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(mh,{theme:s,d:a,fill:t,color:n}),(0,Vr.jsxs)("g",{strokeWidth:r,stroke:s[n].solid,fill:"none",pointerEvents:"all",children:[Array.from(Array(i.length)).map(((t,n)=>{const o=i[n],s=i[(n+1)%i.length],a=ti.Dist(o,s),{strokeDasharray:c,strokeDashoffset:l}=Th(a,r,{style:e,start:"outset",end:"outset"});return(0,Vr.jsx)("line",{x1:o.x,y1:o.y,x2:s.x,y2:s.y,strokeDasharray:c,strokeDashoffset:l},n)})),o&&o.map((([t,i],o)=>{const a=ti.Dist(t,i),{strokeDasharray:c,strokeDashoffset:l}=Th(a,r,{style:e,start:"skip",end:"outset",snap:"dotted"===e?4:void 0});return(0,Vr.jsx)("path",{d:`M${t.x},${t.y}L${i.x},${i.y}`,stroke:s[n].solid,strokeWidth:r,fill:"none",strokeDasharray:c,strokeDashoffset:l},`line_fg_${o}`)}))]})]})})),qp=Wr.memo((function({fill:e,color:t,strokeWidth:n,w:r,h:i,id:o,size:s}){const a=fh(),c=Lp(r,i,o,s);return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(mh,{theme:a,d:c,fill:e,color:t}),(0,Vr.jsx)("path",{d:c,stroke:a[t].solid,strokeWidth:n,fill:"none"})]})}));function Yp(e){return{size:1+e,thinning:.25,end:{taper:e},start:{taper:e},streamline:0,smoothing:1,simulatePressure:!1}}function Xp(e,t,n,r){const i=L(e),o=t/2,s=n/2,a=hi(o,s),c=[],l=ai*i(),u=ai+si/2+Math.abs(i())*si,d=Math.max(16,a/10);for(let e=0;e<d;e++){const r=e/(d-1),a=l+r*u,h=Math.cos(a),p=Math.sin(a);c.push(new ti(o*h+.5*t+.05*i(),s*p+n/2+.05*i(),Math.min(1,.5+Math.abs(.5-(i()>0?ei.easeInOutSine(r):ei.easeInExpo(r)))/2)))}return Bu(c,Yp(r))}function Hp(e,t,n,r){const i=Yp(r);return Cs(Qu(Wu(Xp(e,t,n,r),i),i))}function Gp(e,t,n,r){return rp(Xp(e,t,n,r))}Wr.memo((function({id:e,w:t,h:n,strokeWidth:r,fill:i,color:o}){const s=fh(),a=Gp(e,t,n,r),c=Hp(e,t,n,r);return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(mh,{theme:s,d:a,color:o,fill:i}),(0,Vr.jsx)("path",{d:c,fill:s[o].solid,strokeWidth:0,pointerEvents:"all"})]})}));const Kp=Wr.memo((function({id:e,outline:t,lines:n,fill:r,color:i,strokeWidth:o}){const s=fh();let a=Tp(jp(e,t,o/3,2*o,2));if(n)for(const[e,t]of n)a+=`M${e.x},${e.y}L${t.x},${t.y}`;const c=Tp(jp(e,t,0,2*o,1));return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(mh,{d:c,fill:r,color:i,theme:s}),(0,Vr.jsx)("path",{d:a,stroke:s[i].solid,strokeWidth:o,fill:"none"})]})})),Jp=Wr.memo((function({fill:e,color:t,strokeWidth:n,w:r,h:i,id:o,size:s}){const a=fh(),c=Np(r,i,o,s);return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(mh,{theme:a,d:c,fill:e,color:t}),(0,Vr.jsx)("path",{d:c,stroke:a[t].solid,strokeWidth:n,fill:"none"})]})})),ef=Wr.memo((function({w:e,h:t,strokeWidth:n,fill:r,color:i}){const o=fh(),s=e/2,a=t/2,c=Math.max(0,s),l=Math.max(0,a),u=`M${s-c},${a}a${c},${l},0,1,1,${2*c},0a${c},${l},0,1,1,-${2*c},0`;return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(mh,{d:u,color:i,fill:r,theme:o}),(0,Vr.jsx)("path",{d:u,stroke:o[i].solid,strokeWidth:n,fill:"none"})]})})),tf=Wr.memo((function({w:e,h:t,strokeWidth:n,fill:r,color:i}){const o=fh(),s=nf(e,t);return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(mh,{d:s,color:i,fill:r,theme:o}),(0,Vr.jsx)("path",{d:s,stroke:o[i].solid,strokeWidth:n,fill:"none"})]})}));function nf(e,t){let n;if(t>e){const r=e/2;n=`\n    M0,${r}\n    a${r},${r},0,1,1,${2*r},0\n    L${e},${t-r}\n    a${r},${r},0,1,1,-${2*r},0\n    Z`}else{const r=t/2;n=`\n    M${r},0\n    L${e-r},0\n    a${r},${r},0,1,1,0,${2*r}\n    L${r},${t}\n    a${r},${r},0,1,1,0,${2*-r}\n    Z`}return n}const rf=Wr.memo((function({outline:e,lines:t,fill:n,color:r,strokeWidth:i}){const o=fh();let s="M"+e[0]+"L"+e.slice(1)+"Z";if(t)for(const[e,n]of t)s+=`M${e.x},${e.y}L${n.x},${n.y}`;return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(mh,{d:s,fill:n,color:r,theme:o}),(0,Vr.jsx)("path",{d:s,stroke:o[r].solid,strokeWidth:i,fill:"none"})]})})),of=51;class sf extends au{static type="geo";static props=vr;static migrations=br;canEdit=()=>!0;getDefaultProps(){return{w:100,h:100,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:""}}getGeometry(e){const t=Math.max(1,e.props.w),n=Math.max(1,e.props.h+e.props.growY),r=t/2,i=n/2,o=td[e.props.size],s="none"!==e.props.fill;let a;switch(e.props.geo){case"cloud":a=new $a({points:Rp(t,n,e.id,e.props.size),isFilled:s});break;case"triangle":a=new $a({points:[new ti(r,0),new ti(t,n),new ti(0,n)],isFilled:s});break;case"diamond":a=new $a({points:[new ti(r,0),new ti(t,i),new ti(r,n),new ti(0,i)],isFilled:s});break;case"pentagon":a=new $a({points:Si(t,n,5),isFilled:s});break;case"hexagon":a=new $a({points:Si(t,n,6),isFilled:s});break;case"octagon":a=new $a({points:Si(t,n,8),isFilled:s});break;case"ellipse":a=new bu({width:t,height:n,isFilled:s});break;case"oval":a=new Ou({width:t,height:n,isFilled:s});break;case"star":{const e=5,r=ai/e/2,i=2*Math.floor(e/4),o=2*e-i,c=0,l=2*Math.floor(e/2),u=Math.cos(i*r-si)*t/2,d=Math.cos(o*r-si)*t/2,h=Math.sin(c*r-si)*n/2,p=Math.sin(l*r-si)*n/2,f=t-Math.abs(u-d),m=n-Math.abs(p-h),g=1,y=(t-(t/2+d-(t/2-u)))/2,v=(n-(n/2+h-(n/2-p)))/2,b=(t+f)/2,x=(n+m)/2,O=b*g/2,w=x*g/2;a=new $a({points:Array.from(Array(2*e)).map(((e,t)=>{const n=t*r-si;return new ti(y+(t%2?O:b)*Math.cos(n),v+(t%2?w:x)*Math.sin(n))})),isFilled:s});break}case"rhombus":{const e=Math.min(.38*t,.38*n);a=new $a({points:[new ti(e,0),new ti(t,0),new ti(t-e,n),new ti(0,n)],isFilled:s});break}case"rhombus-2":{const e=Math.min(.38*t,.38*n);a=new $a({points:[new ti(0,0),new ti(t-e,0),new ti(t,n),new ti(e,n)],isFilled:s});break}case"trapezoid":{const e=Math.min(.38*t,.38*n);a=new $a({points:[new ti(e,0),new ti(t-e,0),new ti(t,n),new ti(0,n)],isFilled:s});break}case"arrow-right":{const e=.38*Math.min(t,n),r=.16*n;a=new $a({points:[new ti(0,r),new ti(t-e,r),new ti(t-e,0),new ti(t,n/2),new ti(t-e,n),new ti(t-e,n-r),new ti(0,n-r)],isFilled:s});break}case"arrow-left":{const e=.38*Math.min(t,n),r=.16*n;a=new $a({points:[new ti(e,0),new ti(e,r),new ti(t,r),new ti(t,n-r),new ti(e,n-r),new ti(e,n),new ti(0,n/2)],isFilled:s});break}case"arrow-up":{const e=.16*t,r=.38*Math.min(t,n);a=new $a({points:[new ti(t/2,0),new ti(t,r),new ti(t-e,r),new ti(t-e,n),new ti(e,n),new ti(e,r),new ti(0,r)],isFilled:s});break}case"arrow-down":{const e=.16*t,r=.38*Math.min(t,n);a=new $a({points:[new ti(e,0),new ti(t-e,0),new ti(t-e,n-r),new ti(t,n-r),new ti(t/2,n),new ti(0,n-r),new ti(e,n-r)],isFilled:s});break}case"check-box":case"x-box":case"rectangle":a=new Ra({width:t,height:n,isFilled:s})}const c=af(this.editor,e),l=Math.min(t,Math.max(c.w,Math.min(32,Math.max(1,t-8)))),u=Math.min(n,Math.max(c.h,Math.min(32,Math.max(1,t-8)))),d=cf(e.props,o),h=d?d.map((e=>new Da({points:e}))):[];return new No({children:[a,new Ra({x:"start"===e.props.align?0:"end"===e.props.align?t-l:(t-l)/2,y:"start"===e.props.verticalAlign?0:"end"===e.props.verticalAlign?n-u:(n-u)/2,width:l,height:u,isFilled:!0,isLabel:!0}),...h]})}getHandleSnapGeometry(e){const t=this.getGeometry(e),n=t.children[0];switch(e.props.geo){case"arrow-down":case"arrow-left":case"arrow-right":case"arrow-up":case"check-box":case"diamond":case"hexagon":case"octagon":case"pentagon":case"rectangle":case"rhombus":case"rhombus-2":case"star":case"trapezoid":case"triangle":case"x-box":return{outline:n,points:[...n.getVertices(),t.bounds.center]};case"cloud":case"ellipse":case"oval":return{outline:n,points:[t.bounds.center]};default:b(e.props.geo)}}onEditEnd=e=>{const{id:t,type:n,props:{text:r}}=e;r.trimEnd()!==e.props.text&&this.editor.updateShapes([{id:t,type:n,props:{text:r.trimEnd()}}])};component(e){const{id:t,type:n,props:r}=e,i=td[r.size],{w:o,color:s,labelColor:a,fill:c,dash:l,growY:u,font:d,align:h,verticalAlign:p,size:f,text:m}=r;return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(ba,{id:t,children:(()=>{const n=r.h+u;switch(r.geo){case"cloud":if("solid"===l)return(0,Vr.jsx)(Jp,{color:s,fill:c,strokeWidth:i,w:o,h:n,id:t,size:f});if("dashed"===l||"dotted"===l)return(0,Vr.jsx)(Fp,{color:s,fill:c,strokeWidth:i,w:o,h:n,id:t,size:f,dash:l});if("draw"===l)return(0,Vr.jsx)(qp,{color:s,fill:c,strokeWidth:i,w:o,h:n,id:t,size:f});break;case"ellipse":if("solid"===l)return(0,Vr.jsx)(ef,{strokeWidth:i,w:o,h:n,color:s,fill:c});if("dashed"===l||"dotted"===l)return(0,Vr.jsx)(Bp,{id:t,strokeWidth:i,w:o,h:n,dash:l,color:s,fill:c});if("draw"===l)return(0,Vr.jsx)(ef,{strokeWidth:i,w:o,h:n,color:s,fill:c});break;case"oval":if("solid"===l)return(0,Vr.jsx)(tf,{strokeWidth:i,w:o,h:n,color:s,fill:c});if("dashed"===l||"dotted"===l)return(0,Vr.jsx)(Wp,{id:t,strokeWidth:i,w:o,h:n,dash:l,color:s,fill:c});if("draw"===l)return(0,Vr.jsx)(tf,{strokeWidth:i,w:o,h:n,color:s,fill:c});break;default:{const n=this.editor.getShapeGeometry(e),r=n instanceof No?n.children[0].vertices:n.vertices,o=cf(e.props,i);if("solid"===l)return(0,Vr.jsx)(rf,{fill:c,color:s,strokeWidth:i,outline:r,lines:o});if("dashed"===l||"dotted"===l)return(0,Vr.jsx)(Up,{dash:l,fill:c,color:s,strokeWidth:i,outline:r,lines:o});if("draw"===l)return(0,Vr.jsx)(Kp,{id:t,fill:c,color:s,strokeWidth:i,outline:r,lines:o})}}})()}),(0,Vr.jsxs)(ou,{id:e.id,style:{overflow:"hidden",width:e.props.w,height:e.props.h+r.growY},children:[(0,Vr.jsx)(_p,{id:t,type:n,font:d,fill:c,size:f,align:h,verticalAlign:p,text:m,labelColor:a,wrap:!0,bounds:"cloud"===r.geo?this.getGeometry(e).bounds:void 0}),e.props.url&&(0,Vr.jsx)(Hh,{url:e.props.url,zoomLevel:this.editor.getZoomLevel()})]})]})}indicator(e){const{id:t,props:n}=e,{w:r,size:i}=n,o=n.h+n.growY,s=td[i];switch(n.geo){case"ellipse":return"draw"===n.dash?(0,Vr.jsx)("path",{d:Gp(t,r,o,s)}):(0,Vr.jsx)("ellipse",{cx:r/2,cy:o/2,rx:r/2,ry:o/2});case"oval":return(0,Vr.jsx)("path",{d:nf(r,o)});case"cloud":return(0,Vr.jsx)("path",{d:Np(r,o,t,i)});default:{const r=this.editor.getShapeGeometry(e),i=r instanceof No?r.children[0].vertices:r.vertices;let o;o="draw"===n.dash?Tp(jp(t,i,0,2*s,1)):"M"+i[0]+"L"+i.slice(1)+"Z";const a=cf(e.props,s);if(a)for(const[e,t]of a)o+=`M${e.x},${e.y}L${t.x},${t.y}`;return(0,Vr.jsx)("path",{d:o})}}}toSvg(e,t){const{id:n,props:r}=e,i=td[r.size],o=Bn({isDarkMode:t.isDarkMode});let s;switch(t.addExportDef(Oh(e.props.fill,o)),r.geo){case"ellipse":switch(r.dash){case"draw":s=function({id:e,w:t,h:n,strokeWidth:r,fill:i,color:o,theme:s}){const a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",Hp(e,t,n,r)),a.setAttribute("fill",s[o].solid),vh(a,yh({d:Gp(e,t,n,r),fill:i,color:o,theme:s}))}({id:n,w:r.w,h:r.h,color:r.color,fill:r.fill,strokeWidth:i,theme:o});break;case"solid":s=function({w:e,h:t,strokeWidth:n,fill:r,color:i,theme:o}){const s=e/2,a=t/2,c=Math.max(0,s),l=Math.max(0,a),u=`M${s-c},${a}a${c},${l},0,1,1,${2*c},0a${c},${l},0,1,1,-${2*c},0`,d=document.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",u),d.setAttribute("stroke-width",n.toString()),d.setAttribute("width",e.toString()),d.setAttribute("height",t.toString()),d.setAttribute("fill","none"),d.setAttribute("stroke",o[i].solid),vh(d,yh({d:u,fill:r,color:i,theme:o}))}({strokeWidth:i,w:r.w,h:r.h,color:r.color,fill:r.fill,theme:o});break;default:s=function({w:e,h:t,strokeWidth:n,dash:r,color:i,theme:o,fill:s}){const a=e/2,c=t/2,l=Math.max(0,a-n/2),u=Math.max(0,c-n/2),d=hi(l,u),{strokeDasharray:h,strokeDashoffset:p}=Th(d<64?2*d:d,n,{style:r,snap:4,closed:!0}),f=`M${a-l},${c}a${l},${u},0,1,1,${2*l},0a${l},${u},0,1,1,-${2*l},0`,m=document.createElementNS("http://www.w3.org/2000/svg","path");return m.setAttribute("d",f),m.setAttribute("stroke-width",n.toString()),m.setAttribute("width",e.toString()),m.setAttribute("height",t.toString()),m.setAttribute("fill","none"),m.setAttribute("stroke",o[i].solid),m.setAttribute("stroke-dasharray",h),m.setAttribute("stroke-dashoffset",p),vh(m,yh({d:f,fill:s,color:i,theme:o}))}({id:n,strokeWidth:i,w:r.w,h:r.h,dash:r.dash,color:r.color,fill:r.fill,theme:o})}break;case"oval":switch(r.dash){case"draw":default:s=function({w:e,h:t,strokeWidth:n,dash:r,color:i,theme:o,fill:s}){const a=Zp(e,t),c=Vp(e,t),{strokeDasharray:l,strokeDashoffset:u}=Th(c<64?2*c:c,n,{style:r,snap:4,closed:!0}),d=document.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",a),d.setAttribute("stroke-width",n.toString()),d.setAttribute("width",e.toString()),d.setAttribute("height",t.toString()),d.setAttribute("fill","none"),d.setAttribute("stroke",o[i].solid),d.setAttribute("stroke-dasharray",l),d.setAttribute("stroke-dashoffset",u),vh(d,yh({d:a,fill:s,color:i,theme:o}))}({id:n,strokeWidth:i,w:r.w,h:r.h,dash:r.dash,color:r.color,fill:r.fill,theme:o});break;case"solid":s=function({w:e,h:t,strokeWidth:n,fill:r,color:i,theme:o}){const s=nf(e,t),a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",s),a.setAttribute("stroke-width",n.toString()),a.setAttribute("width",e.toString()),a.setAttribute("height",t.toString()),a.setAttribute("fill","none"),a.setAttribute("stroke",o[i].solid),vh(a,yh({d:s,fill:r,color:i,theme:o}))}({strokeWidth:i,w:r.w,h:r.h,color:r.color,fill:r.fill,theme:o})}break;case"cloud":switch(r.dash){case"draw":s=function({fill:e,color:t,strokeWidth:n,theme:r,w:i,h:o,id:s,size:a}){const c=Lp(i,o,s,a),l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("d",c),l.setAttribute("stroke-width",n.toString()),l.setAttribute("stroke",r[t].solid),l.setAttribute("fill","none"),vh(l,yh({d:c,fill:e,color:t,theme:r}))}({id:n,strokeWidth:i,w:r.w,h:r.h,color:r.color,fill:r.fill,size:r.size,theme:o});break;case"solid":s=function({fill:e,color:t,strokeWidth:n,theme:r,w:i,h:o,id:s,size:a}){const c=Np(i,o,s,a),l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("d",c),l.setAttribute("stroke-width",n.toString()),l.setAttribute("stroke",r[t].solid),l.setAttribute("fill","none"),vh(l,yh({d:c,fill:e,color:t,theme:r}))}({strokeWidth:i,w:r.w,h:r.h,color:r.color,fill:r.fill,size:r.size,id:n,theme:o});break;default:s=function({dash:e,fill:t,color:n,theme:r,strokeWidth:i,w:o,h:s,id:a,size:c}){const l=Np(o,s,a,c),u=Dp(o,s,a,c),d=document.createElementNS("http://www.w3.org/2000/svg","g");d.setAttribute("stroke-width",i.toString()),d.setAttribute("stroke",r[n].solid),d.setAttribute("fill","none");for(const{leftPoint:t,rightPoint:n,center:r,radius:o}of u){const s=r?o*pi(pi(ti.Angle(r,n))-pi(ti.Angle(r,t))):ti.Dist(t,n),{strokeDasharray:a,strokeDashoffset:c}=Th(s,i,{style:e,start:"outset",end:"outset"}),l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d",r?`M${t.x},${t.y}A${o},${o},0,0,1,${n.x},${n.y}`:`M${t.x},${t.y}L${n.x},${n.y}`),l.setAttribute("stroke-dasharray",a.toString()),l.setAttribute("stroke-dashoffset",c.toString()),d.appendChild(l)}return vh(d,yh({d:l,fill:t,color:n,theme:r}))}({id:n,strokeWidth:i,w:r.w,h:r.h,dash:r.dash,color:r.color,fill:r.fill,theme:o,size:r.size})}break;default:{const t=this.editor.getShapeGeometry(e),a=t instanceof No?t.children[0].vertices:t.vertices,c=cf(e.props,i);switch(r.dash){case"draw":s=function({id:e,outline:t,lines:n,fill:r,color:i,theme:o,strokeWidth:s}){let a=Tp(jp(e,t,s/3,2*s,2));if(n)for(const[e,t]of n)a+=`M${e.x},${e.y}L${t.x},${t.y}`;const c=Tp(jp(e,t,0,2*s,1)),l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("d",a),l.setAttribute("fill","none"),l.setAttribute("stroke",o[i].solid),l.setAttribute("stroke-width",s.toString()),vh(l,yh({d:c,fill:r,color:i,theme:o}))}({id:n,fill:r.fill,color:r.color,strokeWidth:i,outline:a,lines:c,theme:o});break;case"solid":s=function({outline:e,lines:t,fill:n,color:r,strokeWidth:i,theme:o}){const s="M"+e[0]+"L"+e.slice(1)+"Z",a=s;let c=s;if(t)for(const[e,n]of t)c+=`M${e.x},${e.y}L${n.x},${n.y}`;const l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("d",c),l.setAttribute("stroke-width",i.toString()),l.setAttribute("stroke",o[r].solid),l.setAttribute("fill","none"),vh(l,yh({d:a,fill:n,color:r,theme:o}))}({fill:r.fill,color:r.color,strokeWidth:i,outline:a,lines:c,theme:o});break;default:s=function({dash:e,fill:t,color:n,theme:r,strokeWidth:i,outline:o,lines:s}){const a=document.createElementNS("http://www.w3.org/2000/svg","g");if(a.setAttribute("stroke-width",i.toString()),a.setAttribute("stroke",r[n].solid),a.setAttribute("fill","none"),Array.from(Array(o.length)).forEach(((t,n)=>{const r=o[n],s=o[(n+1)%o.length],c=ti.Dist(r,s),{strokeDasharray:l,strokeDashoffset:u}=Th(c,i,{style:e}),d=document.createElementNS("http://www.w3.org/2000/svg","line");d.setAttribute("x1",r.x.toString()),d.setAttribute("y1",r.y.toString()),d.setAttribute("x2",s.x.toString()),d.setAttribute("y2",s.y.toString()),d.setAttribute("stroke-dasharray",l.toString()),d.setAttribute("stroke-dashoffset",u.toString()),a.appendChild(d)})),s)for(const[t,n]of s){const r=ti.Dist(t,n),{strokeDasharray:o,strokeDashoffset:s}=Th(r,i,{style:e,start:"skip",end:"skip",snap:"dotted"===e?4:2}),c=document.createElementNS("http://www.w3.org/2000/svg","line");c.setAttribute("x1",t.x.toString()),c.setAttribute("y1",t.y.toString()),c.setAttribute("x2",n.x.toString()),c.setAttribute("y2",n.y.toString()),c.setAttribute("stroke-dasharray",o.toString()),c.setAttribute("stroke-dashoffset",s.toString()),a.appendChild(c)}const c=yh({d:"M"+o[0]+"L"+o.slice(1)+"Z",fill:t,color:n,theme:r});return vh(a,c)}({dash:r.dash,fill:r.fill,color:r.color,strokeWidth:i,outline:a,lines:c,theme:o})}break}}if(r.text){const n=this.editor.getShapeGeometry(e).bounds;t.addExportDef(xh(e.props.font));const r=Pp({editor:this.editor,shape:e,font:Yn[e.props.font],bounds:n}),i=r.cloneNode(!0);i.setAttribute("fill",o[e.props.labelColor].solid),i.setAttribute("stroke","none");const a=r.cloneNode(!0);a.setAttribute("stroke-width","2"),a.setAttribute("fill",o.background),a.setAttribute("stroke",o.background);const c=document.createElementNS("http://www.w3.org/2000/svg","g");if(c.append(a),c.append(i),"g"===s.nodeName)return s.appendChild(c),s;{const e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.appendChild(s),e.appendChild(c),e}}return s}getCanvasSvgDefs(){return[wh()]}onResize=(e,{handle:t,newPoint:n,scaleX:r,scaleY:i,initialShape:o})=>{let s=o.props.w*r,a=(o.props.h+o.props.growY)*i,c=0,l=0;if(e.props.text.trim()){let t=Math.max(Math.abs(s),of),n=Math.max(Math.abs(a),of);t<of&&n===of&&(t=of),t===of&&n<of&&(n=of);const r=af(this.editor,{...e,props:{...e.props,w:t,h:n}}),i=Math.max(Math.abs(s),r.w)*Math.sign(s),o=Math.max(Math.abs(a),r.h)*Math.sign(a);c=Math.abs(i)-Math.abs(s),l=Math.abs(o)-Math.abs(a),s=i,a=o}const u=new ti(0,0);r<0&&(u.x+=s),"left"!==t&&"top_left"!==t&&"bottom_left"!==t||(u.x+=r<0?c:-c),i<0&&(u.y+=a),"top"!==t&&"top_left"!==t&&"top_right"!==t||(u.y+=i<0?l:-l);const{x:d,y:h}=u.rot(e.rotation).add(n);return{x:d,y:h,props:{w:Math.max(Math.abs(s),1),h:Math.max(Math.abs(a),1),growY:0}}};onBeforeCreate=e=>{if(!e.props.text)return e.props.growY?{...e,props:{...e.props,growY:0}}:void 0;const t=e.props.h,n=af(this.editor,e).h;let r=null;return n>t?r=n-t:e.props.growY&&(r=0),null!==r?{...e,props:{...e.props,growY:r}}:void 0};onBeforeUpdate=(e,t)=>{const n=e.props.text,r=t.props.text;if(n===r&&e.props.font===t.props.font&&e.props.size===t.props.size)return;if(n&&!r)return{...t,props:{...t.props,growY:0}};const i=e.props.w,o=e.props.h,s=af(this.editor,t),a=s.w,c=s.h;if(!n&&r&&1===r.length){let n=Math.max(i,a),r=Math.max(o,c);return e.props.w<of&&e.props.h<of&&(n=Math.max(n,of),r=Math.max(r,of),n=Math.max(n,r),r=Math.max(n,r)),{...t,props:{...t.props,w:n,h:r,growY:0}}}let l=null;return c>o?l=c-o:e.props.growY&&(l=0),null!==l?{...t,props:{...t.props,growY:l,w:Math.max(t.props.w,a)}}:a>e.props.w?{...t,props:{...t.props,w:a}}:void 0};onDoubleClick=e=>{if(this.editor.inputs.altKey)switch(e.props.geo){case"rectangle":return{...e,props:{geo:"check-box"}};case"check-box":return{...e,props:{geo:"rectangle"}}}}}function af(e,t){const n=t.props.text;if(!n)return{w:0,h:0};const r=e.textMeasure.measureText("w",{...ed,fontFamily:od[t.props.font],fontSize:rd[t.props.size],maxWidth:100}),i=e.textMeasure.measureText(n,{...ed,fontFamily:od[t.props.font],fontSize:rd[t.props.size],minWidth:r.w+"px",maxWidth:Math.max(0,Math.ceil(r.w+{s:2,m:3.5,l:5,xl:10}[t.props.size]),Math.ceil(t.props.w-32))});return{w:i.w+32,h:i.h+32}}function cf(e,t){switch(e.geo){case"x-box":return function(e,t,n,r){const i="draw"===r?.62:0;if("dashed"===r)return[[new ti(0,0),new ti(e/2,t/2)],[new ti(e,t),new ti(e/2,t/2)],[new ti(0,t),new ti(e/2,t/2)],[new ti(e,0),new ti(e/2,t/2)]];const o=t=>Math.max(0,Math.min(e,t)),s=e=>Math.max(0,Math.min(t,e));return[[new ti(o(n*i),s(n*i)),new ti(o(e-n*i),s(t-n*i))],[new ti(o(n*i),s(t-n*i)),new ti(o(e-n*i),s(n*i))]]}(e.w,e.h,t,e.dash);case"check-box":return function(e,t){const n=.82*Math.min(e,t),r=(e-n)/2,i=(t-n)/2,o=t=>Math.max(0,Math.min(e,t)),s=e=>Math.max(0,Math.min(t,e));return[[new ti(o(r+.25*n),s(i+.52*n)),new ti(o(r+.45*n),s(i+.82*n))],[new ti(o(r+.45*n),s(i+.82*n)),new ti(o(r+.82*n),s(i+.22*n))]]}(e.w,e.h);default:return}}class lf extends Na{static type="highlight";static props=wr;static migrations=Sr;hideResizeHandles=e=>mf(e);hideRotateHandle=e=>mf(e);hideSelectionBoundsFg=e=>mf(e);getDefaultProps(){return{segments:[],color:"black",size:"m",isComplete:!1,isPen:!1}}getGeometry(e){const t=ff(e);if(mf(e))return new gu({x:-t/2,y:-t/2,radius:t/2,isFilled:!0});const{strokePoints:n,sw:r}=uf(e,t,!0),i=hp({strokeWidth:r,showAsComplete:!0});return Wu(n,i),new $a({points:Qu(n,i),isFilled:!0})}component(e){return(0,Vr.jsx)(hf,{strokeWidth:ff(e),shape:e,opacity:.35})}backgroundComponent(e){return(0,Vr.jsx)(hf,{strokeWidth:ff(e),shape:e,opacity:.82})}indicator(e){const t=ap(),n=ff(e),r=fp(e.props.segments);let i=n;t||e.props.isPen||1!==r.length||(i+=L(e.id)()*(n/6));const o=Bu(r,hp({strokeWidth:n,showAsComplete:e.props.isComplete||"straight"===d(e.props.segments)?.type}));let s;return s=o.length<2?function(e,t){const n=t/2;return`M ${e.x} ${e.y} m -${n}, 0 a ${n},${n} 0 1,0 ${2*n},0 a ${n},${n} 0 1,0 -${2*n},0`}(r[0],i):rp(o,!1),(0,Vr.jsx)("path",{d:s})}toSvg(e,t){const n=Bn({isDarkMode:t.isDarkMode});return pf(ff(e),e,.35,n)}toBackgroundSvg(e){const t=Bn({isDarkMode:this.editor.user.getIsDarkMode()});return pf(ff(e),e,.82,t)}onResize=(e,t)=>{const{scaleX:n,scaleY:r}=t,i=[];for(const t of e.props.segments)i.push({...t,points:t.points.map((({x:e,y:t,z:i})=>({x:n*e,y:r*t,z:i})))});return{props:{segments:i}}}}function uf(e,t,n){const r=fp(e.props.segments),i=e.props.isComplete||"straight"===d(e.props.segments)?.type;let o=t;return n||e.props.isPen||1!==r.length||(o+=L(e.id)()*(t/6)),{strokePoints:Bu(r,hp({strokeWidth:o,showAsComplete:i})),sw:o}}function df(e,t,n){const{strokePoints:r,sw:i}=uf(e,t,n);var o;return{solidStrokePath:r.length>1?rp(r,!1):`M ${(o=e.props.segments[0].points[0]).x} ${o.y} m -0.1, 0 a 0.1,0.1 0 1,0 0.2,0 a 0.1,0.1 0 1,0 -0.2,0`,sw:i}}function hf({strokeWidth:e,shape:t,opacity:n}){const r=fh(),i=ap(),{solidStrokePath:o,sw:a}=df(t,e,i),c=function(){const[e,t]=(0,Wr.useState)(!1);return(0,Wr.useEffect)((()=>{const e=CSS.supports("color","color(display-p3 1 1 1)"),n=matchMedia("(color-gamut: p3)");t(e&&n.matches);const r=()=>t(e&&n.matches);return n.addEventListener("change",r),()=>n.removeEventListener("change",r)}),[]),(0,s.h)(io.forceSrgb)||!e?"srgb":"p3"}(),l=r[t.props.color].highlight[c];return(0,Vr.jsx)(ba,{id:t.id,style:{opacity:n},children:(0,Vr.jsx)("path",{d:o,strokeLinecap:"round",fill:"none",pointerEvents:"all",stroke:l,strokeWidth:a})})}function pf(e,t,n,r){const{solidStrokePath:i,sw:o}=df(t,e,!1),s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d",i),s.setAttribute("fill","none"),s.setAttribute("stroke",r[t.props.color].highlight.srgb),s.setAttribute("stroke-width",`${o}`),s.setAttribute("opacity",`${n}`),s}function ff(e){return 1.12*nd[e.props.size]}function mf(e){return 1===e.props.segments.length&&e.props.segments[0].points.length<2}function gf(){const[e,t]=(0,Wr.useState)(!1);return(0,Wr.useEffect)((()=>{const e=window.matchMedia("(prefers-reduced-motion: reduce)"),n=()=>{t(e.matches)};return n(),e.addEventListener("change",n),()=>e.removeEventListener("change",n)}),[]),e}class yf extends au{static type="image";static props=_r;static migrations=Pr;isAspectRatioLocked=()=>!0;canCrop=()=>!0;getDefaultProps(){return{w:100,h:100,assetId:null,playing:!0,url:"",crop:null}}component(e){const t=vf(e),n=du(e.id),r=gf(),[i,o]=(0,Wr.useState)(""),a=e.props.assetId?this.editor.getAsset(e.props.assetId):void 0;if("bookmark"===a?.type)throw Error("Bookmark assets can't be rendered as images");const c=(0,s.h)("onlySelectedShape",(()=>e.id===this.editor.getOnlySelectedShape()?.id),[this.editor])&&n&&this.editor.isInAny("select.crop","select.cropping","select.pointing_crop_handle"),l=r&&(a?.props.mimeType?.includes("video")||a?.props.mimeType?.includes("gif"));return(0,Wr.useEffect)((()=>{if(a?.props.src&&"mimeType"in a.props&&"image/gif"===a?.props.mimeType){let e=!1;return(async()=>{const t=await(async e=>{const t=await(async e=>new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(new Error("Failed to load image")),r.crossOrigin="anonymous",r.src=e})))(e),n=document.createElement("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");if(r)return r.drawImage(t,0,0),n.toDataURL()})(a.props.src);e||t&&o(t)})(),()=>{e=!0}}}),[r,a?.props]),(0,Vr.jsxs)(Vr.Fragment,{children:[a?.props.src&&c&&(0,Vr.jsx)("div",{style:t,children:(0,Vr.jsx)("div",{className:"tl-image",style:{opacity:.1,backgroundImage:`url(${!e.props.playing||l?i:a.props.src})`},draggable:!1})}),(0,Vr.jsxs)(ou,{id:e.id,style:{overflow:"hidden",width:e.props.w,height:e.props.h},children:[(0,Vr.jsxs)("div",{className:"tl-image-container",style:t,children:[a?.props.src?(0,Vr.jsx)("div",{className:"tl-image",style:{backgroundImage:`url(${!e.props.playing||l?i:a.props.src})`},draggable:!1}):null,a?.props.isAnimated&&!e.props.playing&&(0,Vr.jsx)("div",{className:"tl-image__tg",children:"GIF"})]}),"url"in e.props&&e.props.url&&(0,Vr.jsx)(Hh,{url:e.props.url,zoomLevel:this.editor.getZoomLevel()})]})]})}indicator(e){return du(e.id)?null:(0,Vr.jsx)("rect",{width:Ci(e.props.w),height:Ci(e.props.h)})}shouldGetDataURI(e){return e&&(e.startsWith("http")||e.startsWith("/")||e.startsWith("./"))}async toSvg(e){const t=document.createElementNS("http://www.w3.org/2000/svg","g"),n=e.props.assetId?this.editor.getAsset(e.props.assetId):null;let r=n?.props.src||"";this.shouldGetDataURI(r)&&(r=await async function(e){const t=await fetch(e),n=await t.blob();return new Promise(((e,t)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=t,r.readAsDataURL(n)}))}(r)||"");const i=document.createElementNS("http://www.w3.org/2000/svg","image");i.setAttributeNS("http://www.w3.org/1999/xlink","href",r);const o=vf(e),s=e.props.crop;if(o.transform&&s){const{transform:e,width:n,height:r}=o,a=(s.bottomRight.x-s.topLeft.x)*n,c=(s.bottomRight.y-s.topLeft.y)*r,l=[new ti(0,0),new ti(a,0),new ti(a,c),new ti(0,c)],u=document.createElementNS("http://www.w3.org/2000/svg","polygon");u.setAttribute("points",l.map((e=>`${e.x},${e.y}`)).join(" "));const d=document.createElementNS("http://www.w3.org/2000/svg","clipPath");d.setAttribute("id","cropClipPath"),d.appendChild(u);const h=document.createElementNS("http://www.w3.org/2000/svg","defs");h.appendChild(d),t.appendChild(h);const p=document.createElementNS("http://www.w3.org/2000/svg","g");p.setAttribute("clip-path","url(#cropClipPath)"),i.setAttribute("width",n.toString()),i.setAttribute("height",r.toString()),i.style.transform=e,p.appendChild(i),t.appendChild(p)}else i.setAttribute("width",e.props.w.toString()),i.setAttribute("height",e.props.h.toString()),t.appendChild(i);return t}onDoubleClick=e=>{const t=e.props.assetId?this.editor.getAsset(e.props.assetId):void 0;t&&t.props.src&&"mimeType"in t.props&&"image/gif"===t.props.mimeType&&this.editor.updateShapes([{type:"image",id:e.id,props:{playing:!e.props.playing}}])};onDoubleClickEdge=e=>{const t=e.props;if(!t)return;if(this.editor.getCroppingShapeId()!==e.id)return;const n=B(t.crop)||{topLeft:{x:0,y:0},bottomRight:{x:1,y:1}},r=1/(n.bottomRight.x-n.topLeft.x)*e.props.w,i=1/(n.bottomRight.y-n.topLeft.y)*e.props.h,o=new ti(n.topLeft.x*r,n.topLeft.y*i).rot(e.rotation),s={id:e.id,type:e.type,x:e.x-o.x,y:e.y-o.y,props:{crop:{topLeft:{x:0,y:0},bottomRight:{x:1,y:1}},w:r,h:i}};this.editor.updateShapes([s])}}function vf(e){const t=e.props.crop,n=t?.topLeft;if(!n)return{width:e.props.w,height:e.props.h};const r=1/(t.bottomRight.x-t.topLeft.x)*e.props.w,i=1/(t.bottomRight.y-t.topLeft.y)*e.props.h;return{transform:`translate(${-n.x*r}px, ${-n.y*i}px)`,width:r,height:i}}function bf(e,t){const{start:n,end:r}=e;return t?`M${Ci(n.x)},${Ci(n.y)} L${Ci(r.x)},${Ci(r.y)} `:`${Ci(r.x)},${Ci(r.y)} `}function xf(e,t){const{a:n,b:r,c:i,d:o}=e;return ti.Equals(n,o)?"":`${t?`M${Ci(n.x)},${Ci(n.y)}`:""}C${Ci(r.x)},${Ci(r.y)} ${Ci(i.x)},${Ci(i.y)} ${Ci(o.x)},${Ci(o.y)}`}function Of(e,t){let n=e.segments.reduce(((e,t,n)=>e+xf(t,0===n)),"");return t&&(n+="Z"),n}function wf(e,t=!1){return e instanceof Da?function(e,t){let n=e.segments.reduce(((e,t,n)=>e+bf(t,0===n)),"");return t&&(n+="Z"),n}(e,t):Of(e,t)}function Sf(e){return{size:e,thinning:.4,streamline:0,smoothing:.5,simulatePressure:!0,last:!0}}function kf(e,t,n){return Bu(t.vertices,Sf(n))}function _f(e,t,n){const r=function(e,t,n){const r=Sf(n);return Qu(Wu(kf(0,t,n),r),r)}(0,t,n);return Cs(r)}const Pf=new Ua;class Ef extends Na{static type="line";static props=Tr;static migrations=jr;hideResizeHandles=()=>!0;hideRotateHandle=()=>!0;hideSelectionBoundsFg=()=>!0;hideSelectionBoundsBg=()=>!0;getDefaultProps(){const[e,t]=Se(2);return{dash:"draw",size:"m",color:"black",spline:"line",points:{[e]:{id:e,index:e,x:0,y:0},[t]:{id:t,index:t,x:.1,y:.1}}}}getGeometry(e){return Tf(e)}getHandles(e){return Pf.get(e.props,(()=>{const t=Tf(e),n=Cf(e),r=n.map((e=>({...e,id:e.index,type:"vertex",canSnap:!0})));for(let e=0;e<n.length-1;e++){const i=xe(n[e].index,n[e+1].index),o=t.segments[e].midPoint();r.push({id:i,type:"create",index:i,x:o.x,y:o.y,canSnap:!0})}return r.sort(ke)}))}onResize=(e,t)=>{const{scaleX:n,scaleY:r}=t;return{props:{points:Y(e.props.points,((e,{id:t,index:i,x:o,y:s})=>({id:t,index:i,x:o*n,y:s*r})))}}};onHandleDrag=(e,{handle:t})=>{if("vertex"===t.type)return{...e,props:{...e.props,points:{...e.props.points,[t.id]:{id:t.id,index:t.index,x:t.x,y:t.y}}}}};component(e){const t=fh(),n=Tf(e),r=td[e.props.size],{dash:i,color:o}=e.props;if("line"===e.props.spline){if("solid"===i){const i=n.points,s="M"+i[0]+"L"+i.slice(1);return(0,Vr.jsxs)(ba,{id:e.id,children:[(0,Vr.jsx)(mh,{d:s,fill:"none",color:o,theme:t}),(0,Vr.jsx)("path",{d:s,stroke:t[o].solid,strokeWidth:r,fill:"none"})]})}if("dashed"===i||"dotted"===i){const s=n.points,a="M"+s[0]+"L"+s.slice(1);return(0,Vr.jsxs)(ba,{id:e.id,children:[(0,Vr.jsx)(mh,{d:a,fill:"none",color:o,theme:t}),(0,Vr.jsx)("g",{stroke:t[o].solid,strokeWidth:r,children:n.segments.map(((e,t)=>{const{strokeDasharray:o,strokeDashoffset:s}=Th(e.length,r,{style:i,start:t>0?"outset":"none",end:t<n.segments.length-1?"outset":"none"});return(0,Vr.jsx)("path",{strokeDasharray:o,strokeDashoffset:s,d:bf(e,!0),fill:"none"},t)}))})]})}if("draw"===i){const i=n.points,[s,a]=Ip(e.id,i,r);return(0,Vr.jsxs)(ba,{id:e.id,children:[(0,Vr.jsx)(mh,{d:s,fill:"none",color:o,theme:t}),(0,Vr.jsx)("path",{d:a,stroke:t[o].solid,strokeWidth:r,fill:"none"})]})}}if("cubic"===e.props.spline){const s=wf(n);if("solid"===i)return(0,Vr.jsxs)(ba,{id:e.id,children:[(0,Vr.jsx)(mh,{d:s,fill:"none",color:o,theme:t}),(0,Vr.jsx)("path",{strokeWidth:r,stroke:t[o].solid,fill:"none",d:s})]});if("dashed"===i||"dotted"===i)return(0,Vr.jsxs)(ba,{id:e.id,children:[(0,Vr.jsx)(mh,{d:s,fill:"none",color:o,theme:t}),(0,Vr.jsx)("g",{stroke:t[o].solid,strokeWidth:r,children:n.segments.map(((e,t)=>{const{strokeDasharray:o,strokeDashoffset:s}=Th(e.length,r,{style:i,start:t>0?"outset":"none",end:t<n.segments.length-1?"outset":"none"});return(0,Vr.jsx)("path",{strokeDasharray:o,strokeDashoffset:s,d:xf(e,!0),fill:"none"},t)}))})]});if("draw"===i)return(0,Vr.jsxs)(ba,{id:e.id,children:[(0,Vr.jsx)(mh,{d:s,fill:"none",color:o,theme:t}),(0,Vr.jsx)("path",{d:_f(0,n,r),strokeWidth:1,stroke:t[o].solid,fill:t[o].solid})]})}}indicator(e){const t=td[e.props.size],n=Tf(e),{dash:r}=e.props;let i;if("line"===e.props.spline){const o=n.points;if("solid"===r||"dotted"===r||"dashed"===r)i="M"+o[0]+"L"+o.slice(1);else{const[n]=Ip(e.id,o,t);i=n}}else i=function(e,t,n){return"draw"===e.props.dash?rp(kf(0,t,n)):wf(t)}(e,n,t);return(0,Vr.jsx)("path",{d:i})}toSvg(e,t){const n=Bn({isDarkMode:t.isDarkMode})[e.props.color].solid,r=Tf(e),i=td[e.props.size];switch(e.props.dash){case"draw":{let t;if(r instanceof vu)t=_f(0,r,i);else{const[n,o]=Ip(e.id,r.points,i);t=o}const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("stroke-width",i+"px"),o.setAttribute("stroke",n),o.setAttribute("fill","none"),o.setAttribute("d",t),o}case"solid":{let e;if(r instanceof vu)e=Of(r,!1);else{const t=r.points;e="M"+t[0]+"L"+t.slice(1)}const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("stroke-width",i+"px"),t.setAttribute("stroke",n),t.setAttribute("fill","none"),t.setAttribute("d",e),t}default:{const{segments:t}=r,o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("stroke",n),o.setAttribute("stroke-width",i.toString());const s=r instanceof vu?xf:bf;return t.forEach(((n,r)=>{const a=document.createElementNS("http://www.w3.org/2000/svg","path"),{strokeDasharray:c,strokeDashoffset:l}=Th(n.length,i,{style:e.props.dash,start:r>0?"outset":"none",end:r<t.length-1?"outset":"none"});a.setAttribute("stroke-dasharray",c.toString()),a.setAttribute("stroke-dashoffset",l.toString()),a.setAttribute("d",s(n,!0)),a.setAttribute("fill","none"),o.appendChild(a)})),o}}}getHandleSnapGeometry(e){const t=Cf(e);return{points:t,getSelfSnapPoints:n=>{const r=this.getHandles(e).filter((e=>"vertex"===e.type)).findIndex((e=>e.id===n.id));return t.filter(((e,t)=>Math.abs(t-r)>1)).map(ti.From)},getSelfSnapOutline:t=>{const n=this.getHandles(e).filter((e=>"vertex"===e.type)).findIndex((e=>e.id===t.id)),r=Tf(e).segments.filter(((e,t)=>t!==n-1&&t!==n));return r.length?new No({children:r}):null}}}}function Cf(e){return Object.values(e.props.points).sort(ke)}function Tf(e){const t=Cf(e).map(ti.From);switch(e.props.spline){case"cubic":return new vu({points:t});case"line":return new Da({points:t})}}const jf=200;class If extends Na{static type="note";static props=Ir;static migrations=Mr;canEdit=()=>!0;hideResizeHandles=()=>!0;hideSelectionBoundsFg=()=>!0;getDefaultProps(){return{color:"black",size:"m",text:"",font:"draw",align:"middle",verticalAlign:"middle",growY:0,url:""}}getHeight(e){return jf+e.props.growY}getGeometry(e){const t=this.getHeight(e);return new Ra({width:jf,height:t,isFilled:!0})}component(e){const{id:t,type:n,props:{color:r,font:i,size:o,align:s,text:a,verticalAlign:c}}=e,l=fh(),u="black"===r?"yellow":r;return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)("div",{style:{position:"absolute",width:jf,height:this.getHeight(e)},children:(0,Vr.jsxs)("div",{className:"tl-note__container",style:{color:l[u].solid,backgroundColor:l[u].solid},children:[(0,Vr.jsx)("div",{className:"tl-note__scrim"}),(0,Vr.jsx)(_p,{id:t,type:n,font:i,size:o,align:s,verticalAlign:c,text:a,labelColor:"black",wrap:!0})]})}),"url"in e.props&&e.props.url&&(0,Vr.jsx)(Hh,{url:e.props.url,zoomLevel:this.editor.getZoomLevel()})]})}indicator(e){return(0,Vr.jsx)("rect",{rx:"6",width:Ci(jf),height:Ci(this.getHeight(e))})}toSvg(e,t){t.addExportDef(xh(e.props.font));const n=Bn({isDarkMode:t.isDarkMode}),r=this.editor.getShapeGeometry(e).bounds,i=document.createElementNS("http://www.w3.org/2000/svg","g"),o="black"===e.props.color?"yellow":e.props.color,s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("rx","10"),s.setAttribute("width",jf.toString()),s.setAttribute("height",r.height.toString()),s.setAttribute("fill",n[o].solid),s.setAttribute("stroke",n[o].solid),s.setAttribute("stroke-width","1"),i.appendChild(s);const a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("rx","10"),a.setAttribute("width",jf.toString()),a.setAttribute("height",r.height.toString()),a.setAttribute("fill",n.background),a.setAttribute("opacity",".28"),i.appendChild(a);const c=Pp({editor:this.editor,shape:e,font:Yn[e.props.font],bounds:r});return c.setAttribute("fill",n.text),c.setAttribute("stroke","none"),i.appendChild(c),i}onBeforeCreate=e=>Mf(this.editor,e,e.props.growY);onBeforeUpdate=(e,t)=>{if(e.props.text!==t.props.text||e.props.font!==t.props.font||e.props.size!==t.props.size)return Mf(this.editor,t,e.props.growY)};onEditEnd=e=>{const{id:t,type:n,props:{text:r}}=e;r.trimEnd()!==e.props.text&&this.editor.updateShapes([{id:t,type:n,props:{text:r.trimEnd()}}])}}function Mf(e,t,n=0){const r=e.textMeasure.measureText(t.props.text,{...ed,fontFamily:od[t.props.font],fontSize:rd[t.props.size],maxWidth:166}).h+34;let i=null;if(r>jf?i=r-jf:n&&(i=0),null!==i)return{...t,props:{...t.props,growY:i}}}function Af(e,{initialBounds:t,scaleX:n,scaleY:r,newPoint:i}){const o=Math.max(.01,Math.min(Math.abs(n),Math.abs(r))),s=new ti(0,0);n<0&&(s.x=-t.width*o),r<0&&(s.y=-t.height*o);const{x:a,y:c}=ti.Add(i,s.rot(e.rotation));return{x:a,y:c,props:{scale:o*e.props.scale}}}const Df=new Ua;class $f extends Na{static type="text";static props=Ar;static migrations=Dr;getDefaultProps(){return{color:"black",size:"m",w:8,text:"",font:"draw",align:"middle",autoSize:!0,scale:1}}getMinDimensions(e){return Df.get(e.props,(e=>Rf(this.editor,e)))}getGeometry(e){const{scale:t}=e.props,{width:n,height:r}=this.getMinDimensions(e);return new Ra({width:n*t,height:r*t,isFilled:!0})}canEdit=()=>!0;isAspectRatioLocked=()=>!0;component(e){const{id:t,type:n,props:{text:r,color:i}}=e,o=Bn({isDarkMode:this.editor.user.getIsDarkMode()}),{width:s,height:a}=this.getMinDimensions(e),{rInput:c,isEmpty:l,isEditing:u,handleFocus:d,handleChange:h,handleKeyDown:p,handleBlur:f,handleInputPointerDown:m,handleDoubleClick:g}=Bh(t,n,r);return(0,Vr.jsx)(ou,{id:e.id,children:(0,Vr.jsxs)("div",{className:"tl-text-shape__wrapper tl-text-shadow","data-font":e.props.font,"data-align":e.props.align,"data-hastext":!l,"data-isediting":u,"data-textwrap":!0,style:{fontSize:nd[e.props.size],lineHeight:nd[e.props.size]*ed.lineHeight+"px",transform:`scale(${e.props.scale})`,transformOrigin:"top left",width:Math.max(1,s),height:Math.max(nd[e.props.size]*ed.lineHeight,a),color:o[i].solid},children:[(0,Vr.jsx)("div",{className:"tl-text tl-text-content",dir:"ltr",children:r}),u?(0,Vr.jsx)("textarea",{ref:c,className:"tl-text tl-text-input",name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:r,onFocus:d,onChange:h,onKeyDown:p,onBlur:f,onTouchEnd:ho,onContextMenu:ho,onPointerDown:m,onDoubleClick:g}):null]})})}indicator(e){const t=this.editor.getShapeGeometry(e).bounds,n=Gr();return e.props.autoSize&&n.getEditingShapeId()===e.id?null:(0,Vr.jsx)("rect",{width:Ci(t.width),height:Ci(t.height)})}toSvg(e,t){t.addExportDef(xh(e.props.font));const n=Bn({isDarkMode:t.isDarkMode}),r=this.editor.getShapeGeometry(e).bounds,i=e.props.text,o=r.width/(e.props.scale??1),s=r.height/(e.props.scale??1),a={fontSize:nd[e.props.size],fontFamily:Yn[e.props.font],textAlign:e.props.align,verticalTextAlign:"middle",width:o,height:s,padding:0,lineHeight:ed.lineHeight,fontStyle:"normal",fontWeight:"normal",overflow:"wrap"},c=n[e.props.color].solid,l=document.createElementNS("http://www.w3.org/2000/svg","g"),u=bh(this.editor,this.editor.textMeasure.measureTextSpans(i,a),{...a,stroke:n.background,strokeWidth:2,fill:n.background,padding:0}),d=u.cloneNode(!0);return d.setAttribute("fill",c),d.setAttribute("stroke","none"),l.append(u),l.append(d),l}onResize=(e,t)=>{const{initialBounds:n,initialShape:r,scaleX:i,handle:o}=t;if("scale_shape"===t.mode||"right"!==o&&"left"!==o)return{id:e.id,type:e.type,...Af(e,t)};{const t=n.width;let s=t*i;const a=new ti(0,0);s=Math.max(1,Math.abs(s)),"left"===o?(a.x=t-s,i<0&&(a.x+=s)):i<0&&(a.x-=s);const{x:c,y:l}=a.rot(e.rotation).add(r);return{id:e.id,type:e.type,x:c,y:l,props:{w:s/r.props.scale,autoSize:!1}}}};onBeforeCreate=e=>{if(!e.props.autoSize)return;if(e.props.text.trim())return;const t=this.getMinDimensions(e);return{...e,x:e.x-t.width/2,y:e.y-t.height/2}};onEditEnd=e=>{const{id:t,type:n,props:{text:r}}=e,i=e.props.text.trimEnd();0===i.length?this.editor.deleteShapes([e.id]):i!==e.props.text&&this.editor.updateShapes([{id:t,type:n,props:{text:r.trimEnd()}}])};onBeforeUpdate=(e,t)=>{if(!t.props.autoSize)return;const n=e.props.size!==t.props.size||e.props.align!==t.props.align||e.props.font!==t.props.font||1!==e.props.scale&&1===t.props.scale,r=e.props.text!==t.props.text;if(!n&&!r)return;const i=this.getMinDimensions(e),o=Rf(this.editor,t.props),s=i.width*e.props.scale,a=i.height*e.props.scale,c=o.width*t.props.scale,l=o.height*t.props.scale;let u;switch(t.props.align){case"middle":u=new ti((c-s)/2,r?0:(l-a)/2);break;case"end":u=new ti(c-s,r?0:(l-a)/2);break;default:if(r)break;u=new ti(0,(l-a)/2)}if(u){u.rot(t.rotation);const{x:e,y:n}=t;return{...t,x:e-u.x,y:n-u.y,props:{...t.props,w:c}}}return{...t,props:{...t.props,w:c}}};onDoubleClickEdge=e=>e.props.autoSize?1!==e.props.scale?{id:e.id,type:e.type,props:{scale:1}}:void 0:{id:e.id,type:e.type,props:{autoSize:!0}}}function Rf(e,t){const{font:n,text:r,autoSize:i,size:o,w:s}=t,a=i?16:Math.max(16,s),c=nd[o],l=i?null:Math.floor(Math.max(a,s)),u=e.textMeasure.measureText(r,{...ed,fontFamily:od[n],fontSize:c,maxWidth:l});return i&&(u.w+=1),{width:Math.max(a,u.w),height:Math.max(c,u.h)}}class Nf extends au{static type="video";static props=$r;static migrations=Rr;canEdit=()=>!0;isAspectRatioLocked=()=>!0;getDefaultProps(){return{w:100,h:100,assetId:null,time:0,playing:!0,url:""}}component(e){return(0,Vr.jsx)(Lf,{shape:e,videoUtil:this})}indicator(e){return(0,Vr.jsx)("rect",{width:Ci(e.props.w),height:Ci(e.props.h)})}toSvg(e){const t=document.createElementNS("http://www.w3.org/2000/svg","g"),n=document.createElementNS("http://www.w3.org/2000/svg","image");return n.setAttributeNS("http://www.w3.org/1999/xlink","href",function(e){const t=e.split(":")[1],n=document.querySelector(`.tl-video-shape-${t}`);if(n){const e=document.createElement("canvas");return e.width=n.videoWidth,e.height=n.videoHeight,e.getContext("2d").drawImage(n,0,0),e.toDataURL("image/png")}throw new Error("Video with not found when attempting serialization.")}(e.id)),n.setAttribute("width",e.props.w.toString()),n.setAttribute("height",e.props.h.toString()),t.appendChild(n),t}}const Lf=(0,s.u4)((function(e){const{shape:t,videoUtil:n}=e,r=n.editor.getShapeGeometry(t).bounds.w*n.editor.getZoomLevel()>=110,i=t.props.assetId?n.editor.getAsset(t.props.assetId):null,{time:o,playing:s}=t.props,a=hu(t.id),c=gf(),l=Wr.useRef(null),u=Wr.useCallback((e=>{const r=e.currentTarget;n.editor.updateShapes([{type:"video",id:t.id,props:{playing:!0,time:r.currentTime}}])}),[t.id,n.editor]),d=Wr.useCallback((e=>{const r=e.currentTarget;n.editor.updateShapes([{type:"video",id:t.id,props:{playing:!1,time:r.currentTime}}])}),[t.id,n.editor]),h=Wr.useCallback((e=>{const r=e.currentTarget;a&&n.editor.updateShapes([{type:"video",id:t.id,props:{time:r.currentTime}}])}),[a,t.id,n.editor]),[p,f]=Wr.useState(!1),m=Wr.useCallback((e=>{const t=e.currentTarget;o!==t.currentTime&&(t.currentTime=o),s||t.pause(),f(!0)}),[s,o]);return Wr.useEffect((()=>{const e=l.current;e&&(p&&!a&&o!==e.currentTime&&(e.currentTime=o),a&&document.activeElement!==e&&e.focus())}),[a,p,o]),Wr.useEffect((()=>{if(c){const e=l.current;e.pause(),e.currentTime=0}}),[l,c]),(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(ou,{id:t.id,children:(0,Vr.jsx)("div",{className:"tl-counter-scaled",children:i?.props.src?(0,Vr.jsx)("video",{ref:l,style:a?{pointerEvents:"all"}:void 0,className:`tl-video tl-video-shape-${t.id.split(":")[1]}`,width:"100%",height:"100%",draggable:!1,playsInline:!0,autoPlay:!0,muted:!0,loop:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:a&&r,onPlay:u,onPause:d,onTimeUpdate:h,onLoadedData:m,hidden:!p,children:(0,Vr.jsx)("source",{src:i.props.src})}):null})}),"url"in t.props&&t.props.url&&(0,Vr.jsx)(Hh,{url:t.props.url,zoomLevel:n.editor.getZoomLevel()})]})})),Qf=[$f,Jh,gp,sf,If,Ef,kp,Wh,lf,bp,yf,Nf];class zf extends Yc{static id="erasing";info={};scribbleId="id";markId="";excludedShapeIds=new Set;onEnter=e=>{this.markId="erase scribble begin",this.editor.mark(this.markId),this.info=e;const{originPagePoint:t}=this.editor.inputs;this.excludedShapeIds=new Set(this.editor.getCurrentPageShapes().filter((e=>{if(this.editor.isShapeOrAncestorLocked(e))return!0;if(this.editor.isShapeOfType(e,"group")||this.editor.isShapeOfType(e,"frame")){const n=this.editor.getPointInShapeSpace(e,t);return this.editor.getShapeGeometry(e).bounds.containsPoint(n)}return!1})).map((e=>e.id)));const n=this.editor.scribbles.addScribble({color:"muted-1",size:12});this.scribbleId=n.id,this.update()};pushPointToScribble=()=>{const{x:e,y:t}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,e,t)};onExit=()=>{this.editor.scribbles.stop(this.scribbleId)};onPointerMove=()=>{this.update()};onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};update(){const e=this.editor.getErasingShapeIds(),t=this.editor.getZoomLevel(),n=this.editor.getCurrentPageShapes(),{inputs:{currentPagePoint:r,previousPagePoint:i}}=this.editor,{excludedShapeIds:o}=this;this.pushPointToScribble();const s=new Set(e);for(const e of n){if(this.editor.isShapeOfType(e,"group"))continue;const n=this.editor.getShapeMask(e.id);if(n&&!Ei(r,n))continue;const o=this.editor.getShapeGeometry(e),a=this.editor.getPointInShapeSpace(e,i),c=this.editor.getPointInShapeSpace(e,r);o.hitTestLineSegment(a,c,Hi/t)&&s.add(this.editor.getOutermostSelectableShape(e).id)}this.editor.setErasingShapes([...s].filter((e=>!o.has(e))))}complete(){this.editor.deleteShapes(this.editor.getCurrentPageState().erasingShapeIds),this.editor.setErasingShapes([]),this.parent.transition("idle")}cancel(){this.editor.setErasingShapes([]),this.editor.bailToMark(this.markId),this.parent.transition("idle",this.info)}}class Ff extends Yc{static id="idle";onPointerDown=e=>{this.parent.transition("pointing",e)};onCancel=()=>{this.editor.setCurrentTool("select")}}class Bf extends Yc{static id="pointing";onEnter=()=>{const e=this.editor.getZoomLevel(),t=this.editor.getCurrentPageShapesSorted(),{inputs:{currentPagePoint:n}}=this.editor,r=new Set,i=r.size;for(let o=t.length-1;o>=0;o--){const s=t[o];if(!this.editor.isShapeOrAncestorLocked(s)&&!this.editor.isShapeOfType(s,"group")&&this.editor.isPointInShape(s,n,{hitInside:!1,margin:Hi/e})){const e=this.editor.getOutermostSelectableShape(s);if(this.editor.isShapeOfType(e,"frame")&&r.size>i)break;r.add(e.id)}}this.editor.setErasingShapes([...r])};onPointerMove=e=>{this.editor.inputs.isDragging&&this.parent.transition("erasing",e)};onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};onInterrupt=()=>{this.cancel()};complete(){const e=this.editor.getErasingShapeIds();e.length&&(this.editor.mark("erase end"),this.editor.deleteShapes(e)),this.editor.setErasingShapes([]),this.parent.transition("idle")}cancel(){this.editor.setErasingShapes([]),this.parent.transition("idle")}}class Zf extends Yc{static id="eraser";static initial="idle";static children=()=>[Ff,Bf,zf];onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})}}class Vf extends Yc{static id="dragging";onEnter=()=>{this.update()};onPointerMove=()=>{this.update()};onPointerUp=()=>{this.complete()};onCancel=()=>{this.complete()};onComplete=()=>{this.complete()};update(){const{currentScreenPoint:e,previousScreenPoint:t}=this.editor.inputs,n=ti.Sub(e,t);(Math.abs(n.x)>0||Math.abs(n.y)>0)&&this.editor.pan(n)}complete(){this.editor.slideCamera({speed:Math.min(2,this.editor.inputs.pointerVelocity.len()),direction:this.editor.inputs.pointerVelocity,friction:Yi}),this.parent.transition("idle")}}class Wf extends Yc{static id="idle";onEnter=()=>{this.editor.setCursor({type:"grab",rotation:0})};onPointerDown=e=>{this.parent.transition("pointing",e)};onCancel=()=>{this.editor.setCurrentTool("select")}}class Uf extends Yc{static id="pointing";onEnter=()=>{this.editor.stopCameraAnimation(),this.editor.updateInstanceState({cursor:{type:"grabbing",rotation:0}},{ephemeral:!0})};onPointerMove=e=>{this.editor.inputs.isDragging&&this.parent.transition("dragging",e)};onPointerUp=()=>{this.complete()};onCancel=()=>{this.complete()};onComplete=()=>{this.complete()};onInterrupt=()=>{this.complete()};complete(){this.parent.transition("idle")}}class qf extends Yc{static id="hand";static initial="idle";static children=()=>[Wf,Uf,Vf];onDoubleClick=e=>{if("settle"===e.phase){const{currentScreenPoint:e}=this.editor.inputs;this.editor.zoomIn(e,{duration:220,easing:ei.easeOutQuint})}};onTripleClick=e=>{if("settle"===e.phase){const{currentScreenPoint:e}=this.editor.inputs;this.editor.zoomOut(e,{duration:320,easing:ei.easeOutQuint})}};onQuadrupleClick=e=>{if("settle"===e.phase){const e=this.editor.getZoomLevel(),{inputs:{currentScreenPoint:t}}=this.editor;1===e?this.editor.zoomToFit({duration:400,easing:ei.easeOutQuint}):this.editor.resetZoom(t,{duration:320,easing:ei.easeOutQuint})}}}class Yf extends Yc{static id="idle";onPointerDown=e=>{this.parent.transition("lasering",e)}}class Xf extends Yc{static id="lasering";scribbleId="id";onEnter=()=>{const e=this.editor.scribbles.addScribble({color:"laser",opacity:.7,size:4,delay:1200,shrink:.05,taper:!0});this.scribbleId=e.id,this.pushPointToScribble()};onExit=()=>{this.editor.scribbles.stop(this.scribbleId)};onPointerMove=()=>{this.pushPointToScribble()};onPointerUp=()=>{this.complete()};pushPointToScribble=()=>{const{x:e,y:t}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,e,t)};onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};complete(){this.parent.transition("idle")}cancel(){this.parent.transition("idle")}}class Hf extends Yc{static id="laser";static initial="idle";static children=()=>[Yf,Xf];onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})}}class Gf extends Yc{static id="brushing";info={};brush=new jo;initialSelectedShapeIds=[];excludedShapeIds=new Set;isWrapMode=!1;initialStartShape=null;onEnter=e=>{const{altKey:t,currentPagePoint:n}=this.editor.inputs;this.isWrapMode=this.editor.user.getIsWrapMode(),t?this.parent.transition("scribble_brushing",e):(this.excludedShapeIds=new Set(this.editor.getCurrentPageShapes().filter((e=>this.editor.isShapeOfType(e,"group")||this.editor.isShapeOrAncestorLocked(e))).map((e=>e.id))),this.info=e,this.initialSelectedShapeIds=this.editor.getSelectedShapeIds().slice(),this.initialStartShape=this.editor.getShapesAtPoint(n)[0],this.onPointerMove())};onExit=()=>{this.initialSelectedShapeIds=[],this.editor.updateInstanceState({brush:null})};onTick=()=>{Su(this.editor)};onPointerMove=()=>{this.hitTestShapes()};onPointerUp=()=>{this.complete()};onComplete=()=>{this.complete()};onCancel=e=>{this.editor.setSelectedShapes(this.initialSelectedShapeIds,{squashing:!0}),this.parent.transition("idle",e)};onKeyDown=e=>{this.editor.inputs.altKey?this.parent.transition("scribble_brushing",e):this.hitTestShapes()};onKeyUp=()=>{this.hitTestShapes()};complete(){this.parent.transition("idle")}hitTestShapes(){const e=this.editor.getZoomLevel(),t=this.editor.getCurrentPageShapes(),n=this.editor.getCurrentPageId(),{inputs:{originPagePoint:r,currentPagePoint:i,shiftKey:o,ctrlKey:s}}=this.editor;this.brush.setTo(jo.FromPoints([r,i]));const a=new Set(o?this.initialSelectedShapeIds:[]);let c,l,u,d,h,p;const{corners:f}=this.brush,{excludedShapeIds:m,isWrapMode:g}=this,y=g?!s:s;e:for(let r=0,o=t.length;r<o;r++)if(u=t[r],!m.has(u.id)&&!a.has(u.id)&&(d=this.editor.getShapePageBounds(u),d))if(this.brush.contains(d))this.handleHit(u,i,n,a,f);else if(!y&&!this.editor.isShapeOfType(u,"frame")&&this.brush.collides(d)){const t=this.editor.getShapeGeometry(u);if(h=this.editor.getShapePageTransform(u),!h)continue e;p=h.clone().invert().applyToPoints(f);t:for(let r=0;r<p.length;r++)if(c=p[r],l=p[(r+1)%p.length],t.hitTestLineSegment(c,l,Hi/e)){this.handleHit(u,i,n,a,f);break t}}this.editor.updateInstanceState({brush:{...this.brush.toJson()}}),this.editor.setSelectedShapes(Array.from(a),{squashing:!0})}onInterrupt=()=>{this.editor.updateInstanceState({brush:null})};handleHit(e,t,n,r,i){if(e.parentId===n)return void r.add(e.id);const o=this.editor.getOutermostSelectableShape(e),s=this.editor.getShapeMask(o.id);(!s||Ma(s,i)||Ei(t,s))&&r.add(o.id)}}function Kf(e){const t=e.getZoomLevel(),{inputs:{currentPagePoint:n}}=e;return e.getShapeAtPoint(n,{hitInside:!1,hitLabels:!1,margin:Hi/t,renderingOnly:!0})??e.getSelectedShapeAtPoint(n)}function Jf(e,t,n){if(!t)throw Error("Needs to translate a cropped shape!");const{crop:r}=t.props;if(!r)return;const i=e.inputs.shiftKey?Math.abs(n.x)<Math.abs(n.y)?"x":"y":null;"x"===i?n.x=0:"y"===i&&(n.y=0),n.rot(-t.rotation);const o=1/(r.bottomRight.x-r.topLeft.x)*t.props.w,s=1/(r.bottomRight.y-r.topLeft.y)*t.props.h,a=r.bottomRight.y-r.topLeft.y,c=r.bottomRight.x-r.topLeft.x,l=B(r);return l.topLeft.x=Math.min(1-c,Math.max(0,l.topLeft.x-n.x/o)),l.topLeft.y=Math.min(1-a,Math.max(0,l.topLeft.y-n.y/s)),l.bottomRight.x=l.topLeft.x+c,l.bottomRight.y=l.topLeft.y+a,{id:t.id,type:t.type,props:{crop:l}}}class em extends Yc{static id="idle";onEnter=()=>{this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0});const e=this.editor.getOnlySelectedShape();this.editor.on("change-history",this.cleanupCroppingState),e&&(this.editor.mark("crop"),this.editor.setCroppingShape(e.id))};onExit=()=>{this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.editor.off("change-history",this.cleanupCroppingState)};onCancel=()=>{this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{})};onPointerDown=e=>{if(!this.editor.getIsMenuOpen()){if(e.ctrlKey)return this.cancel(),void this.editor.root.handleEvent(e);switch(e.target){case"canvas":{const t=Kf(this.editor);if(t&&!this.editor.isShapeOfType(t,"group"))return void this.onPointerDown({...e,shape:t,target:"shape"});this.cancel(),this.editor.root.handleEvent(e);break}case"shape":if(e.shape.id===this.editor.getCroppingShapeId())return void this.editor.setCurrentTool("select.crop.pointing_crop",e);this.editor.getShapeUtil(e.shape)?.canCrop(e.shape)?(this.editor.setCroppingShape(e.shape.id),this.editor.setSelectedShapes([e.shape.id]),this.editor.setCurrentTool("select.crop.pointing_crop",e)):(this.cancel(),this.editor.root.handleEvent(e));break;case"selection":switch(e.handle){case"mobile_rotate":case"top_left_rotate":case"top_right_rotate":case"bottom_left_rotate":case"bottom_right_rotate":this.editor.setCurrentTool("select.pointing_rotate_handle",{...e,onInteractionEnd:"select.crop"});break;case"top":case"right":case"bottom":case"left":case"top_left":case"top_right":case"bottom_left":case"bottom_right":this.editor.setCurrentTool("select.pointing_crop_handle",{...e,onInteractionEnd:"select.crop"});break;default:this.cancel()}}}};onDoubleClick=e=>{if(this.editor.inputs.shiftKey||"up"!==e.phase)return;const t=this.editor.getCroppingShapeId();if(!t)return;const n=this.editor.getShape(t);if(!n)return;const r=this.editor.getShapeUtil(n);r&&"selection"===e.target&&r.onDoubleClickEdge?.(n)};onKeyDown=()=>{this.nudgeCroppingImage(!1)};onKeyRepeat=()=>{this.nudgeCroppingImage(!0)};onKeyUp=e=>{"Enter"===e.code&&(this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{}))};cancel(){this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{})}cleanupCroppingState=()=>{this.editor.getCroppingShapeId()||this.editor.setCurrentTool("select.idle",{})};nudgeCroppingImage(e=!1){const{editor:{inputs:{keys:t}}}=this,n=t.has("ShiftLeft"),r=new ti(0,0);if(t.has("ArrowLeft")&&(r.x+=1),t.has("ArrowRight")&&(r.x-=1),t.has("ArrowUp")&&(r.y+=1),t.has("ArrowDown")&&(r.y-=1),r.equals(new ti(0,0)))return;n&&r.mul(10);const i=this.editor.getShape(this.editor.getCroppingShapeId());if(!i)return;const o=Jf(this.editor,i,r);o&&(e||this.editor.mark("translate crop"),this.editor.updateShapes([o]))}}class tm extends Yc{static id="pointing_crop";onCancel=()=>{this.editor.setCurrentTool("select.crop.idle",{})};onPointerMove=e=>{this.editor.inputs.isDragging&&this.editor.setCurrentTool("select.crop.translating_crop",e)};onPointerUp=e=>{this.editor.setCurrentTool("select.crop.idle",e)}}class nm extends Yc{static id="translating_crop";info={};markId="translating crop";snapshot={};onEnter=e=>{this.info=e,this.snapshot=this.createSnapshot(),this.editor.mark(this.markId),this.editor.setCursor({type:"move",rotation:0}),this.updateShapes()};onExit=()=>{this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})};onPointerMove=()=>{this.updateShapes()};onPointerUp=()=>{this.complete()};onComplete=()=>{this.complete()};onCancel=()=>{this.cancel()};onKeyDown=e=>{switch(e.key){case"Alt":case"Shift":return void this.updateShapes()}};onKeyUp=e=>{switch(e.key){case"Enter":return void this.complete();case"Alt":case"Shift":this.updateShapes()}};complete(){this.updateShapes(),this.editor.setCurrentTool("select.crop.idle",this.info)}cancel(){this.editor.bailToMark(this.markId),this.editor.setCurrentTool("select.crop.idle",this.info)}createSnapshot(){return{shape:this.editor.getOnlySelectedShape()}}updateShapes(){const e=this.snapshot.shape;if(!e)return;const{originPagePoint:t,currentPagePoint:n}=this.editor.inputs,r=n.clone().sub(t),i=Jf(this.editor,e,r);i&&this.editor.updateShapes([i],{squashing:!0})}}class rm extends Yc{static id="crop";static initial="idle";static children=()=>[em,nm,tm]}const im={bottom:"ns-resize",top:"ns-resize",left:"ew-resize",right:"ew-resize",bottom_left:"nesw-resize",bottom_right:"nwse-resize",top_left:"nwse-resize",top_right:"nesw-resize",bottom_left_rotate:"swne-rotate",bottom_right_rotate:"senw-rotate",top_left_rotate:"nwse-rotate",top_right_rotate:"nesw-rotate",mobile_rotate:"grabbing"};class om extends Yc{static id="pointing_resize_handle";info={};updateCursor(){const e=this.editor.getSelectedShapes(),t=im[this.info.handle];this.editor.updateInstanceState({cursor:{type:t,rotation:1===e.length?e[0].rotation:0}})}onEnter=e=>{this.info=e,this.updateCursor()};onPointerMove=()=>{this.editor.inputs.isDragging&&this.parent.transition("resizing",this.info)};onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};onComplete=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}}class sm extends Yc{static id="cropping";info={};markId="";snapshot={};onEnter=e=>{this.info=e,this.markId="cropping",this.editor.mark(this.markId),this.snapshot=this.createSnapshot(),this.updateShapes()};onPointerMove=()=>{this.updateShapes()};onPointerUp=()=>{this.complete()};onComplete=()=>{this.complete()};onCancel=()=>{this.cancel()};updateCursor(){const e=this.editor.getSelectedShapes()[0];if(!e)return;const t=im[this.info.handle];this.editor.updateInstanceState({cursor:{type:t,rotation:e.rotation}})}getDefaultCrop=()=>({topLeft:{x:0,y:0},bottomRight:{x:1,y:1}});updateShapes(){const{shape:e,cursorHandleOffset:t}=this.snapshot;if(!e)return;if(!this.editor.getShapeUtil("image"))return;const n=e.props,r=this.editor.inputs.currentPagePoint.clone().sub(t),i=this.editor.inputs.originPagePoint.clone().sub(t),o=r.clone().sub(i).rot(-e.rotation),s=n.crop??this.getDefaultCrop(),a=B(s),c=new ti(e.x,e.y),l=new ti(0,0),u=1/(s.bottomRight.x-s.topLeft.x)*n.w,d=1/(s.bottomRight.y-s.topLeft.y)*n.h;let h=!1;switch(this.info.handle){case"top":case"top_left":case"top_right":if(d<8)break;h=!0,a.topLeft.y=a.topLeft.y+o.y/d,d*(a.bottomRight.y-a.topLeft.y)<8?(a.topLeft.y=a.bottomRight.y-8/d,l.y=(a.topLeft.y-s.topLeft.y)*d):a.topLeft.y<=0?(a.topLeft.y=0,l.y=(a.topLeft.y-s.topLeft.y)*d):l.y=o.y;break;case"bottom":case"bottom_left":case"bottom_right":if(d<8)break;h=!0,a.bottomRight.y=Math.min(1,a.bottomRight.y+o.y/d),d*(a.bottomRight.y-a.topLeft.y)<8&&(a.bottomRight.y=a.topLeft.y+8/d)}switch(this.info.handle){case"left":case"top_left":case"bottom_left":if(u<8)break;h=!0,a.topLeft.x=a.topLeft.x+o.x/u,u*(a.bottomRight.x-a.topLeft.x)<8?(a.topLeft.x=a.bottomRight.x-8/u,l.x=(a.topLeft.x-s.topLeft.x)*u):a.topLeft.x<=0?(a.topLeft.x=0,l.x=(a.topLeft.x-s.topLeft.x)*u):l.x=o.x;break;case"right":case"top_right":case"bottom_right":if(u<8)break;h=!0,a.bottomRight.x=Math.min(1,a.bottomRight.x+o.x/u),u*(a.bottomRight.x-a.topLeft.x)<8&&(a.bottomRight.x=a.topLeft.x+8/u)}if(!h)return;c.add(l.rot(e.rotation));const p={id:e.id,type:e.type,x:c.x,y:c.y,props:{crop:a,w:(a.bottomRight.x-a.topLeft.x)*u,h:(a.bottomRight.y-a.topLeft.y)*d}};this.editor.updateShapes([p],{squashing:!0}),this.updateCursor()}complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.parent.transition("idle"))}cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.parent.transition("idle"))}createSnapshot(){const e=this.editor.getSelectionRotation(),{inputs:{originPagePoint:t}}=this.editor,n=this.editor.getOnlySelectedShape(),r=this.editor.getSelectionRotatedPageBounds(),i=ti.RotWith(r.getHandlePoint(this.info.handle),r.point,e);return{shape:n,cursorHandleOffset:ti.Sub(t,i)}}}class am extends Yc{static id="dragging_handle";shapeId="";initialHandle={};initialAdjacentHandle=null;initialPagePoint={};markId="";initialPageTransform;initialPageRotation;info={};isPrecise=!1;isPreciseId=null;pointingId=null;onEnter=e=>{const{shape:t,isCreating:n,handle:r}=e;if(this.info=e,this.parent.setCurrentToolIdMask(e.onInteractionEnd),this.shapeId=t.id,this.markId=n?`creating:${t.id}`:"dragging handle",n||this.editor.mark(this.markId),this.initialHandle=Te(r),this.editor.isShapeOfType(t,"line")&&"create"===this.initialHandle.type){this.editor.updateShape({...t,props:{points:{...t.props.points,[r.index]:{id:r.index,index:r.index,x:r.x,y:r.y}}}});const e=this.editor.getShapeHandles(t).find((e=>e.index===r.index));this.initialHandle=Te(e)}this.initialPageTransform=this.editor.getShapePageTransform(t),this.initialPageRotation=this.initialPageTransform.rotation(),this.initialPagePoint=this.editor.inputs.originPagePoint.clone(),this.editor.updateInstanceState({cursor:{type:n?"cross":"grabbing",rotation:0}},{ephemeral:!0});const i=this.editor.getShapeHandles(t).sort(ke),o=i.findIndex((t=>t.id===e.handle.id));this.initialAdjacentHandle=null;for(let t=o+1;t<i.length;t++){const n=i[t];if("vertex"===n.type&&"middle"!==n.id&&n.id!==e.handle.id){this.initialAdjacentHandle=n;break}}if(!this.initialAdjacentHandle)for(let t=i.length-1;t>=0;t--){const n=i[t];if("vertex"===n.type&&"middle"!==n.id&&n.id!==e.handle.id){this.initialAdjacentHandle=n;break}}if(this.editor.isShapeOfType(t,"arrow")){const n=t.props[e.handle.id];this.isPrecise=!1,"binding"===n?.type?(this.editor.setHintingShapes([n.boundShapeId]),this.isPrecise=n.isPrecise,this.isPrecise?this.isPreciseId=n.boundShapeId:this.resetExactTimeout()):this.editor.setHintingShapes([])}this.update(),this.editor.select(this.shapeId)};exactTimeout=-1;resetExactTimeout(){-1!==this.exactTimeout&&this.clearExactTimeout(),this.exactTimeout=setTimeout((()=>{this.getIsActive()&&!this.isPrecise&&(this.isPrecise=!0,this.isPreciseId=this.pointingId,this.update()),this.exactTimeout=-1}),750)}clearExactTimeout(){-1!==this.exactTimeout&&(clearTimeout(this.exactTimeout),this.exactTimeout=-1)}onPointerMove=()=>{this.update()};onKeyDown=()=>{this.update()};onKeyUp=()=>{this.update()};onPointerUp=()=>{this.complete()};onComplete=()=>{this.complete()};onCancel=()=>{this.cancel()};onExit=()=>{this.parent.setCurrentToolIdMask(void 0),this.editor.setHintingShapes([]),this.editor.snaps.clearIndicators(),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})};complete(){this.editor.snaps.clearIndicators();const{onInteractionEnd:e}=this.info;this.editor.getInstanceState().isToolLocked&&e?this.editor.setCurrentTool(e,{shapeId:this.shapeId}):this.parent.transition("idle")}cancel(){this.editor.bailToMark(this.markId),this.editor.snaps.clearIndicators();const{onInteractionEnd:e}=this.info;e?this.editor.setCurrentTool(e,{shapeId:this.shapeId}):this.parent.transition("idle")}update(){const{editor:e,shapeId:t,initialPagePoint:n}=this,{initialHandle:r,initialPageRotation:i,initialAdjacentHandle:o}=this,s=this.editor.getHintingShapeIds(),a=this.editor.user.getIsSnapMode(),{snaps:c,inputs:{currentPagePoint:l,shiftKey:u,ctrlKey:d,altKey:h,pointerVelocity:p}}=e,f=this.info.shape,m=e.getShape(t);if(!m)return;const g=e.getShapeUtil(m);let y=l.clone().sub(n).rot(-i).add(r);if(u&&o&&"middle"!==r.id){const e=ti.Angle(o,y),t=vi(e,24)-e;y=ti.RotWith(y,o,t)}e.snaps.clearIndicators();let v={...r,x:y.x,y:y.y};if(r.canSnap&&(a?!d:d)){if(!e.getShapePageTransform(m.id))throw Error("Expected a page transform");const n=c.handles.snapHandle({currentShapeId:t,handle:v});n&&(n.nudge.rot(-e.getShapeParentTransform(m).rotation()),y.add(n.nudge),v={...r,x:y.x,y:y.y})}const b=g.onHandleDrag?.(m,{handle:v,isPrecise:this.isPrecise||h,initial:f}),x={...m,...b};if(r.canBind){const t=x.props[r.id];"binding"===t?.type?s[0]!==t.boundShapeId&&(e.setHintingShapes([t.boundShapeId]),this.pointingId=t.boundShapeId,this.isPrecise=p.len()<.5||h,this.isPreciseId=this.isPrecise?t.boundShapeId:null,this.resetExactTimeout()):s.length>0&&(e.setHintingShapes([]),this.pointingId=null,this.isPrecise=!1,this.isPreciseId=null,this.resetExactTimeout())}b&&e.updateShapes([x],{squashing:!0})}}class cm extends Yc{static id="editing_shape";onEnter=()=>{const e=this.editor.getEditingShape();if(!e)throw Error("Entered editing state without an editing shape");lh(this.editor),this.editor.select(e)};onExit=()=>{const{editingShapeId:e}=this.editor.getCurrentPageState();if(!e)return;this.editor.setEditingShape(null);const t=this.editor.getShape(e),n=this.editor.getShapeUtil(t);n.onEditEnd?.(t)};onPointerMove=e=>{switch(e.target){case"shape":case"canvas":return void lh(this.editor)}};onPointerDown=e=>{switch(e.target){case"canvas":{const t=Kf(this.editor);if(t)return void this.onPointerDown({...e,shape:t,target:"shape"});break}case"shape":{const{shape:t}=e,n=this.editor.getEditingShape();if(!n)throw Error("Expected an editing shape!");if(t.type===n.type){if(!this.editor.isShapeOfType(t,"geo")&&!this.editor.isShapeOfType(t,"arrow"))return t.id!==n.id?void this.parent.transition("pointing_shape",e):void(this.editor.isShapeOfType(t,"frame")&&this.editor.setEditingShape(null));{const r=this.editor.getShapeUtil(t).getGeometry(t).children[1];if(r){const i=this.editor.getPointInShapeSpace(t,this.editor.inputs.currentPagePoint);if(r.bounds.containsPoint(i))return t.id===n.id?void 0:void this.parent.transition("pointing_shape",e)}}}break}}this.parent.transition("idle",e),this.editor.root.handleEvent(e)};onComplete=e=>{this.parent.transition("idle",e)};onCancel=e=>{this.parent.transition("idle",e)}}function lm(e){const t=e.getOnlySelectedShape();return!(!t||e.isShapeOrAncestorLocked(t)||!e.getShapeUtil(t).canCrop(t))}function um(e){const t=e.getSelectedShapeIds(),{shiftKey:n,altKey:r,currentPagePoint:i}=e.inputs,o=e.getShapeAtPoint(i,{hitInside:!1,margin:Hi/e.getZoomLevel(),hitLabels:!0,renderingOnly:!0,filter:e=>!e.isLocked});if(o){const i=e.getOutermostSelectableShape(o);if(n&&!r)e.cancelDoubleClick(),t.includes(i.id)?(e.mark("deselecting shape"),e.deselect(i)):(e.mark("shift selecting shape"),e.setSelectedShapes([...t,i.id]));else{let n;n=i===o||i.id===e.getFocusedGroupId()||t.includes(i.id)?o:i,n&&!t.includes(n.id)&&(e.mark("selecting shape"),e.select(n.id))}}else{if(n)return;{t.length>0&&(e.mark("selecting none"),e.selectNone());const n=e.getFocusedGroupId();if(Nn(n)){const t=e.getShape(n);e.isPointInShape(t,i,{margin:0,hitInside:!0})||e.setFocusedGroup(null)}}}}class dm extends Yc{static id="idle";onEnter=()=>{this.parent.setCurrentToolIdMask(void 0),lh(this.editor),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})};onPointerMove=()=>{lh(this.editor)};onPointerDown=e=>{if(this.editor.getIsMenuOpen())return;const t=e.ctrlKey&&lm(this.editor);if(e.ctrlKey&&!t)return"shape"===e.target&&this.isDarwin&&this.editor.inputs.keys.has("ControlLeft")&&!this.editor.isShapeOrAncestorLocked(e.shape)?void this.parent.transition("pointing_shape",e):void this.parent.transition("brushing",e);switch(e.target){case"canvas":{const t=Kf(this.editor);if(t&&!t.isLocked)return void this.onPointerDown({...e,shape:t,target:"shape"});const n=this.editor.getSelectedShapeIds(),r=this.editor.getOnlySelectedShape(),{inputs:{currentPagePoint:i}}=this.editor;if((n.length>1||r&&!this.editor.getShapeUtil(r).hideSelectionBoundsBg(r))&&mm(this.editor,i))return void this.onPointerDown({...e,target:"selection"});this.parent.transition("pointing_canvas",e);break}case"shape":{const{shape:t}=e;if(this.isOverArrowLabelTest(t)){this.parent.transition("pointing_arrow_label",e);break}if(this.editor.isShapeOrAncestorLocked(t)){this.parent.transition("pointing_canvas",e);break}this.parent.transition("pointing_shape",e);break}case"handle":if(this.editor.getInstanceState().isReadonly)break;this.editor.inputs.altKey?this.parent.transition("pointing_shape",e):this.parent.transition("pointing_handle",e);break;case"selection":switch(e.handle){case"mobile_rotate":case"top_left_rotate":case"top_right_rotate":case"bottom_left_rotate":case"bottom_right_rotate":this.parent.transition("pointing_rotate_handle",e);break;case"top":case"right":case"bottom":case"left":case"top_left":case"top_right":case"bottom_left":case"bottom_right":t?this.parent.transition("pointing_crop_handle",e):this.parent.transition("pointing_resize_handle",e);break;default:{const t=this.editor.getHoveredShape();if(t&&!this.editor.getSelectedShapeIds().includes(t.id)&&!t.isLocked)return void this.onPointerDown({...e,shape:t,target:"shape"});this.parent.transition("pointing_selection",e)}}}};onDoubleClick=e=>{if(!this.editor.inputs.shiftKey&&"up"===e.phase)switch(e.target){case"canvas":{const t=this.editor.getHoveredShape(),n=t&&!this.editor.isShapeOfType(t,"group")?t:this.editor.getSelectedShapeAtPoint(this.editor.inputs.currentPagePoint)??this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{margin:Hi/this.editor.getZoomLevel(),hitInside:!1}),r=this.editor.getFocusedGroupId();if(n){if(this.editor.isShapeOfType(n,"group"))return void um(this.editor);{const e=this.editor.getShape(n.parentId);if(e&&this.editor.isShapeOfType(e,"group")&&(!r||e.id!==r))return void um(this.editor)}return void this.onDoubleClick({...e,shape:n,target:"shape"})}this.editor.inputs.shiftKey||this.handleDoubleClickOnCanvas(e);break}case"selection":{if(this.editor.getInstanceState().isReadonly)break;const t=this.editor.getOnlySelectedShape();if(t){const n=this.editor.getShapeUtil(t);if(!this.canInteractWithShapeInReadOnly(t))return;if("right"===e.handle||"left"===e.handle||"top"===e.handle||"bottom"===e.handle){const e=n.onDoubleClickEdge?.(t);if(e)return this.editor.mark("double click edge"),void this.editor.updateShapes([e])}if(n.canCrop(t)&&!this.editor.isShapeOrAncestorLocked(t))return void this.parent.transition("crop",e);this.shouldStartEditingShape(t)&&this.startEditingShape(t,e)}break}case"shape":{const{shape:t}=e,n=this.editor.getShapeUtil(t);if("video"!==t.type&&"embed"!==t.type&&this.editor.getInstanceState().isReadonly)break;if(n.onDoubleClick){const r=n.onDoubleClick?.(t);if(r)return void this.editor.updateShapes([r]);if(n.canCrop(t)&&!this.editor.isShapeOrAncestorLocked(t))return this.editor.mark("select and crop"),this.editor.select(e.shape?.id),void this.parent.transition("crop",e)}this.shouldStartEditingShape(t)?this.startEditingShape(t,e):this.handleDoubleClickOnCanvas(e);break}case"handle":{if(this.editor.getInstanceState().isReadonly)break;const{shape:t,handle:n}=e,r=this.editor.getShapeUtil(t),i=r.onDoubleClickHandle?.(t,n);i?this.editor.updateShapes([i]):this.shouldStartEditingShape(t)&&this.startEditingShape(t,e)}}};onRightClick=e=>{switch(e.target){case"canvas":{const t=this.editor.getHoveredShape(),n=t&&!this.editor.isShapeOfType(t,"group")?t:this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{margin:Hi/this.editor.getZoomLevel(),hitInside:!1,hitLabels:!0,hitFrameInside:!1,renderingOnly:!0});if(n)return void this.onRightClick({...e,shape:n,target:"shape"});const r=this.editor.getSelectedShapeIds(),i=this.editor.getOnlySelectedShape(),{inputs:{currentPagePoint:o}}=this.editor;if((r.length>1||i&&!this.editor.getShapeUtil(i).hideSelectionBoundsBg(i))&&mm(this.editor,o))return void this.onRightClick({...e,target:"selection"});this.editor.selectNone();break}case"shape":{const{selectedShapeIds:t}=this.editor.getCurrentPageState(),{shape:n}=e,r=this.editor.getOutermostSelectableShape(n,(e=>!t.includes(e.id)));t.includes(r.id)||(this.editor.mark("selecting shape"),this.editor.setSelectedShapes([r.id]));break}}};onCancel=()=>{this.editor.getFocusedGroupId()!==this.editor.getCurrentPageId()&&this.editor.getSelectedShapeIds().length>0?this.editor.popFocusedGroupId():(this.editor.mark("clearing selection"),this.editor.selectNone())};onKeyDown=e=>{switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":this.nudgeSelectedShapes(!1)}};onKeyRepeat=e=>{switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":this.nudgeSelectedShapes(!0)}};onKeyUp=e=>{switch(e.code){case"Enter":{const t=this.editor.getSelectedShapes();if(t.every((e=>this.editor.isShapeOfType(e,"group"))))return void this.editor.setSelectedShapes(t.flatMap((e=>this.editor.getSortedChildIdsForParent(e.id))));const n=this.editor.getOnlySelectedShape();if(n&&this.shouldStartEditingShape(n))return void this.startEditingShape(n,{...e,target:"shape",shape:n});lm(this.editor)&&this.parent.transition("crop",e);break}}};shouldStartEditingShape(e=this.editor.getOnlySelectedShape()){return!!e&&(!this.editor.isShapeOrAncestorLocked(e)||"embed"===e.type)&&!!this.canInteractWithShapeInReadOnly(e)&&this.editor.getShapeUtil(e).canEdit(e)}startEditingShape(e,t){this.editor.isShapeOrAncestorLocked(e)&&"embed"!==e.type||(this.editor.mark("editing shape"),this.editor.setEditingShape(e.id),this.parent.transition("editing_shape",t))}isDarwin=window.navigator.userAgent.toLowerCase().indexOf("mac")>-1;isOverArrowLabelTest(e){if(!e)return!1;const t=this.editor.getPointInShapeSpace(e,this.editor.inputs.currentPagePoint);if(this.editor.isShapeOfType(e,"arrow")){const n=this.editor.getShapeGeometry(e).children[1];if(n&&Ei(t,n.vertices))return!0}return!1}handleDoubleClickOnCanvas(e){if(this.editor.getInstanceState().isReadonly)return;this.editor.mark("creating text shape");const t=Ln(),{x:n,y:r}=this.editor.inputs.currentPagePoint;this.editor.createShapes([{id:t,type:"text",x:n,y:r,props:{text:"",autoSize:!0}}]);const i=this.editor.getShape(t);if(!i)return;const o=this.editor.getShapeUtil(i);this.editor.getInstanceState().isReadonly&&!o.canEditInReadOnly(i)||(this.editor.setEditingShape(t),this.editor.select(t),this.parent.transition("editing_shape",e))}nudgeSelectedShapes(e=!1){const{editor:{inputs:{keys:t}}}=this,n=t.has("ShiftLeft"),r=new ti(0,0);if(t.has("ArrowLeft")&&(r.x-=1),t.has("ArrowRight")&&(r.x+=1),t.has("ArrowUp")&&(r.y-=1),t.has("ArrowDown")&&(r.y+=1),r.equals(new ti(0,0)))return;e||this.editor.mark("nudge shapes");const{gridSize:i}=this.editor.getDocumentSettings(),o=this.editor.getInstanceState().isGridMode?n?i*fm:i:n?hm:pm;this.editor.nudgeShapes(this.editor.getSelectedShapeIds(),r.mul(o))}canInteractWithShapeInReadOnly(e){return!this.editor.getInstanceState().isReadonly||!!this.editor.getShapeUtil(e).canEditInReadOnly(e)}}const hm=10,pm=1,fm=5;function mm(e,t){const n=e.getSelectionRotatedPageBounds();if(!n)return!1;const r=e.getSelectionRotation();return r?Ei(t,n.corners.map((e=>ti.RotWith(e,n.point,r)))):n.containsPoint(t)}class gm extends Yc{static id="pointing_arrow_label";shapeId="";markId="";info={};updateCursor(){this.editor.setCursor({type:"grabbing",rotation:0})}onEnter=e=>{const{shape:t}=e;this.parent.setCurrentToolIdMask(e.onInteractionEnd),this.info=e,this.shapeId=t.id,this.updateCursor();const n=this.editor.getShapeGeometry(t).children[1];if(!n)throw Error(`Expected to find an arrow label geometry for shape: ${t.id}`);const{currentPagePoint:r}=this.editor.inputs,i=this.editor.getPointInShapeSpace(t,r);this._labelDragOffset=ti.Sub(n.center,i),this.markId="label-drag start",this.editor.mark(this.markId),this.editor.setSelectedShapes([this.shapeId])};onExit=()=>{this.parent.setCurrentToolIdMask(void 0),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})};_labelDragOffset=new ti(0,0);onPointerMove=()=>{const{isDragging:e}=this.editor.inputs;if(!e)return;const t=this.editor.getShape(this.shapeId);if(!t)return;const n=this.editor.getArrowInfo(t),r=this.editor.getShapeGeometry(t),i=r.children[0],o=this.editor.getPointInShapeSpace(t,this.editor.inputs.currentPagePoint),s=i.nearestPoint(ti.Add(o,this._labelDragOffset));let a;if(n.isStraight){const e=ti.Dist(n.start.point,n.end.point);a=1-ti.Dist(n.end.point,s)/e}else{const{_center:e,measure:t,angleEnd:n,angleStart:i}=r.children[0];a=Mi(t,i,n,e.angle(s))}isNaN(a)&&(a=.5),this.editor.updateShape({id:t.id,type:t.type,props:{labelPosition:a}},{squashing:!0})};onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};onComplete=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}}class ym extends Yc{static id="pointing_canvas";onEnter=()=>{const{inputs:e}=this.editor;e.shiftKey||this.editor.getSelectedShapeIds().length>0&&(this.editor.mark("selecting none"),this.editor.selectNone())};onPointerMove=e=>{this.editor.inputs.isDragging&&this.parent.transition("brushing",e)};onPointerUp=()=>{um(this.editor),this.complete()};onComplete=()=>{this.complete()};onInterrupt=()=>{this.parent.transition("idle")};complete(){this.parent.transition("idle")}}class vm extends Yc{static id="pointing_crop_handle";info={};updateCursor(e){const t=im[this.info.handle];this.editor.updateInstanceState({cursor:{type:t,rotation:e.rotation}})}onEnter=e=>{this.info=e,this.parent.setCurrentToolIdMask(e.onInteractionEnd);const t=this.editor.getSelectedShapes()[0];t&&(this.updateCursor(t),this.editor.setCroppingShape(t.id))};onExit=()=>{this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.parent.setCurrentToolIdMask(void 0)};onPointerMove=()=>{this.editor.inputs.isDragging&&this.parent.transition("cropping",{...this.info,onInteractionEnd:this.info.onInteractionEnd})};onPointerUp=()=>{this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.parent.transition("idle"))};onCancel=()=>{this.cancel()};onComplete=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.parent.transition("idle"))}}class bm extends Yc{static id="pointing_handle";info={};onEnter=e=>{this.info=e;const{shape:t}=e;if(this.editor.isShapeOfType(t,"arrow")){const n=t.props[e.handle.id];"binding"===n?.type&&this.editor.setHintingShapes([n.boundShapeId])}this.editor.updateInstanceState({cursor:{type:"grabbing",rotation:0}},{ephemeral:!0})};onExit=()=>{this.editor.setHintingShapes([]),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})};onPointerUp=()=>{this.parent.transition("idle",this.info)};onPointerMove=()=>{this.editor.inputs.isDragging&&this.parent.transition("dragging_handle",this.info)};onCancel=()=>{this.cancel()};onComplete=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};cancel(){this.parent.transition("idle")}}class xm extends Yc{static id="pointing_rotate_handle";info={};updateCursor(){const e=this.editor.getSelectionRotation();this.editor.updateInstanceState({cursor:{type:im[this.info.handle],rotation:e}})}onEnter=e=>{this.parent.setCurrentToolIdMask(e.onInteractionEnd),this.info=e,this.updateCursor()};onExit=()=>{this.parent.setCurrentToolIdMask(void 0),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})};onPointerMove=()=>{const{isDragging:e}=this.editor.inputs;e&&this.parent.transition("rotating",this.info)};onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};onComplete=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}}class Om extends Yc{static id="pointing_selection";info={};onEnter=e=>{this.info=e};onPointerUp=e=>{um(this.editor),this.parent.transition("idle",e)};onPointerMove=e=>{if(this.editor.inputs.isDragging){if(this.editor.getInstanceState().isReadonly)return;this.parent.transition("translating",e)}};onDoubleClick=e=>{const t=this.editor.getHoveredShape(),n=t&&!this.editor.isShapeOfType(t,"group")?t:this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{hitInside:!0,margin:0,renderingOnly:!0});if(n)return this.parent.transition("idle"),void this.parent.onDoubleClick?.({...e,target:"shape",shape:this.editor.getShape(n)})};onCancel=()=>{this.cancel()};onComplete=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};cancel(){this.parent.transition("idle")}}class wm extends Yc{static id="pointing_shape";hitShape={};hitShapeForPointerUp={};didSelectOnEnter=!1;onEnter=e=>{const t=this.editor.getSelectedShapeIds(),n=this.editor.getSelectionRotatedPageBounds(),r=this.editor.getFocusedGroupId(),{inputs:{currentPagePoint:i,shiftKey:o,altKey:s}}=this.editor;this.hitShape=e.shape;const a=this.editor.getOutermostSelectableShape(e.shape);if(this.editor.getShapeUtil(e.shape).onClick||a.id===r||t.includes(a.id)||this.editor.isAncestorSelected(a.id)||t.length>1&&n?.containsPoint(i))return this.didSelectOnEnter=!1,void(this.hitShapeForPointerUp=a);this.didSelectOnEnter=!0,o&&!s?(this.editor.cancelDoubleClick(),t.includes(a.id)||(this.editor.mark("shift selecting shape"),this.editor.setSelectedShapes([...t,a.id]))):(this.editor.mark("selecting shape"),this.editor.setSelectedShapes([a.id]))};onPointerUp=e=>{const t=this.editor.getSelectedShapeIds(),n=this.editor.getFocusedGroupId(),r=this.editor.getZoomLevel(),{inputs:{currentPagePoint:i,shiftKey:o}}=this.editor,s=this.editor.getShapeAtPoint(i,{margin:Hi/r,hitInside:!0,renderingOnly:!0})??this.hitShape,a=s?this.editor.getOutermostSelectableShape(s):this.hitShapeForPointerUp;if(a){const r=this.editor.getShapeUtil(a);if(r.onClick){const t=r.onClick?.(a);if(t)return this.editor.mark("shape on click"),this.editor.updateShapes([t]),void this.parent.transition("idle",e)}if(a.id===n)return t.length>0?(this.editor.mark("clearing shape ids"),this.editor.setSelectedShapes([])):this.editor.popFocusedGroupId(),void this.parent.transition("idle",e)}if(!this.didSelectOnEnter){const e=this.editor.getOutermostSelectableShape(s,(e=>!t.includes(e.id)));if(t.includes(e.id))if(o)this.editor.mark("deselecting on pointer up"),this.editor.deselect(a);else if(t.includes(a.id)){if(1===t.length&&(this.editor.isShapeOfType(a,"geo")||this.editor.isShapeOfType(a,"arrow"))){const e=this.editor.getShapeGeometry(a).children[1];if(e){const t=this.editor.getPointInShapeSpace(a,i);if(e.bounds.containsPoint(t,0)&&e.hitTestPoint(t))return void this.editor.batch((()=>{this.editor.mark("editing on pointer up"),this.editor.select(a.id);const e=this.editor.getShapeUtil(a);this.editor.getInstanceState().isReadonly&&!e.canEditInReadOnly(a)||(this.editor.setEditingShape(a.id),this.editor.setCurrentTool("select.editing_shape"))}))}}this.editor.mark("selecting on pointer up"),this.editor.select(a.id)}else this.editor.mark("selecting on pointer up"),this.editor.select(a);else if(o){const t=this.editor.getShapeAncestors(e);this.editor.mark("shift deselecting on pointer up"),this.editor.setSelectedShapes([...this.editor.getSelectedShapeIds().filter((e=>!t.find((t=>t.id===e)))),e.id])}else this.editor.mark("selecting on pointer up"),this.editor.setSelectedShapes([e.id])}this.parent.transition("idle",e)};onPointerMove=e=>{if(this.editor.inputs.isDragging){if(this.editor.getInstanceState().isReadonly)return;this.parent.transition("translating",e)}};onCancel=()=>{this.cancel()};onComplete=()=>{this.cancel()};onInterrupt=()=>{this.cancel()};cancel(){this.parent.transition("idle")}}class Sm extends Yc{static id="resizing";info={};markId="";didHoldCommand=!1;creationCursorOffset={x:0,y:0};snapshot={};onEnter=e=>{const{isCreating:t=!1,creationCursorOffset:n={x:0,y:0}}=e;this.info=e,this.didHoldCommand=!1,this.parent.setCurrentToolIdMask(e.onInteractionEnd),this.creationCursorOffset=n,this.snapshot=this._createSnapshot(),t?(this.markId=`creating:${this.editor.getOnlySelectedShape().id}`,this.editor.updateInstanceState({cursor:{type:"cross",rotation:0}},{ephemeral:!0})):(this.markId="starting resizing",this.editor.mark(this.markId)),this.handleResizeStart(),this.updateShapes()};onTick=()=>{Su(this.editor)};onPointerMove=()=>{this.updateShapes()};onKeyDown=()=>{this.updateShapes()};onKeyUp=()=>{this.updateShapes()};onPointerUp=()=>{this.complete()};onComplete=()=>{this.complete()};onCancel=()=>{this.cancel()};cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}complete(){this.handleResizeEnd(),this.info.isCreating&&this.info.onCreate?this.info.onCreate?.(this.editor.getOnlySelectedShape()):this.editor.getInstanceState().isToolLocked&&this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}handleResizeStart(){const{shapeSnapshots:e}=this.snapshot,t=[];e.forEach((({shape:e})=>{const n=this.editor.getShapeUtil(e),r=n.onResizeStart?.(e);r&&t.push(r)})),t.length>0&&this.editor.updateShapes(t)}handleResizeEnd(){const{shapeSnapshots:e}=this.snapshot,t=[];e.forEach((({shape:e})=>{const n=this.editor.getShape(e.id),r=this.editor.getShapeUtil(e),i=r.onResizeEnd?.(e,n);i&&t.push(i)})),t.length>0&&this.editor.updateShapes(t)}updateShapes(){const{altKey:e,shiftKey:t}=this.editor.inputs,{frames:n,shapeSnapshots:r,selectionBounds:i,cursorHandleOffset:o,selectedShapeIds:s,selectionRotation:a,canShapesDeform:c}=this.snapshot,l=t||!c,{ctrlKey:u}=this.editor.inputs,d=this.editor.inputs.currentPagePoint.clone().sub(o).sub(this.creationCursorOffset),h=this.editor.inputs.originPagePoint.clone().sub(o);if(this.editor.getInstanceState().isGridMode&&!u){const{gridSize:e}=this.editor.getDocumentSettings();d.snapToGrid(e)}const p=this.info.handle,f=_m(p,Math.PI);if(this.editor.snaps.clearIndicators(),(this.editor.user.getIsSnapMode()?!u:u)&&a%si==0){const{nudge:t}=this.editor.snaps.shapeBounds.snapResizeShapes({dragDelta:ti.Sub(d,h),initialSelectionPageBounds:this.snapshot.initialSelectionPageBounds,handle:_m(p,a),isAspectRatioLocked:l,isResizingFromCenter:e});d.add(t)}const m=ti.RotWith(e?i.center:i.getHandlePoint(f),i.point,a),g=ti.Sub(d,m).rot(-a),y=ti.Sub(h,m).rot(-a),v=ti.DivV(g,y);Number.isFinite(v.x)||(v.x=1),Number.isFinite(v.y)||(v.y=1);const b="top"===p||"bottom"===p,x="left"===p||"right"===p;l?x?v.y=Math.abs(v.x):b?v.x=Math.abs(v.y):Math.abs(v.x)>Math.abs(v.y)?v.y=Math.abs(v.x)*(v.y<0?-1:1):v.x=Math.abs(v.y)*(v.x<0?-1:1):(b&&(v.x=1),x&&(v.y=1)),this.info.isCreating||this.updateCursor({dragHandle:p,isFlippedX:v.x<0,isFlippedY:v.y<0,rotation:a});for(const e of r.keys()){const t=r.get(e);this.editor.resizeShape(e,v,{initialShape:t.shape,initialBounds:t.bounds,initialPageTransform:t.pageTransform,dragHandle:p,mode:1===s.length&&e===s[0]?"resize_bounds":"scale_shape",scaleOrigin:m,scaleAxisRotation:a})}if(this.editor.inputs.ctrlKey){this.didHoldCommand=!0;for(const{id:e,children:t}of n){if(!t.length)continue;const n=r.get(e).shape,i=this.editor.getShape(e);if(!n||!i)continue;const o=i.x-n.x,s=i.y-n.y,a=new ti(o,s).rot(-n.rotation);if(0!==a.x||0!==a.y)for(const e of t)this.editor.updateShape({id:e.id,type:e.type,x:e.x-a.x,y:e.y-a.y})}}else if(this.didHoldCommand){this.didHoldCommand=!1;for(const{children:e}of n)if(e.length)for(const t of e)this.editor.updateShape({id:t.id,type:t.type,x:t.x,y:t.y})}}updateCursor({dragHandle:e,isFlippedX:t,isFlippedY:n,rotation:r}){const i={...this.editor.getInstanceState().cursor};switch(e){case"top_left":case"bottom_right":i.type="nwse-resize",t!==n&&(i.type="nesw-resize");break;case"top_right":case"bottom_left":i.type="nesw-resize",t!==n&&(i.type="nwse-resize")}i.rotation=r,this.editor.setCursor(i)}onExit=()=>{this.parent.setCurrentToolIdMask(void 0),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.editor.snaps.clearIndicators()};_createSnapshot=()=>{const e=this.editor.getSelectedShapeIds(),t=this.editor.getSelectionRotation(),{inputs:{originPagePoint:n}}=this.editor,r=this.editor.getSelectionRotatedPageBounds(),i=ti.RotWith(r.getHandlePoint(this.info.handle),r.point,t),o=ti.Sub(n,i),s=new Map,a=[];e.forEach((t=>{const n=this.editor.getShape(t);if(n){if("frame"===n.type&&a.push({id:t,children:u(this.editor.getSortedChildIdsForParent(n).map((e=>this.editor.getShape(e))))}),s.set(n.id,this._createShapeSnapshot(n)),this.editor.isShapeOfType(n,"frame")&&1===e.length)return;this.editor.visitDescendants(n.id,(e=>{const t=this.editor.getShape(e);if(t&&(s.set(t.id,this._createShapeSnapshot(t)),this.editor.isShapeOfType(t,"frame")))return!1}))}}));const c=![...s.values()].some((e=>!bi(e.pageRotation,t)||e.isAspectRatioLocked));return{shapeSnapshots:s,selectionBounds:r,cursorHandleOffset:o,selectionRotation:t,selectedShapeIds:e,canShapesDeform:c,initialSelectionPageBounds:this.editor.getSelectionPageBounds(),frames:a}};_createShapeSnapshot=e=>{const t=this.editor.getShapePageTransform(e),n=this.editor.getShapeUtil(e);return{shape:e,bounds:this.editor.getShapeGeometry(e).bounds,pageTransform:t,pageRotation:$o.Decompose(t).rotation,isAspectRatioLocked:n.isAspectRatioLocked(e)}}}const km=["top","top_right","right","bottom_right","bottom","bottom_left","left","top_left"];function _m(e,t){t%=ai;const n=Math.round(t/(oi/4)),r=km.indexOf(e);return km[(r+n)%km.length]}const Pm=Math.PI/180;class Em extends Yc{static id="rotating";snapshot={};info={};markId="";onEnter=e=>{this.info=e,this.parent.setCurrentToolIdMask(e.onInteractionEnd),this.markId="rotate start",this.editor.mark(this.markId);const t=Ha({editor:this.editor});if(!t)return this.parent.transition("idle",this.info);this.snapshot=t,this.handleStart()};onExit=()=>{this.editor.setCursor({type:"default",rotation:0}),this.parent.setCurrentToolIdMask(void 0),this.snapshot={}};onPointerMove=()=>{this.update()};onKeyDown=()=>{this.update()};onKeyUp=()=>{this.update()};onPointerUp=()=>{this.complete()};onComplete=()=>{this.complete()};onCancel=()=>{this.cancel()};update=()=>{const e=this._getRotationFromPointerPosition({snapToNearestDegree:!1});Ga({editor:this.editor,delta:e,snapshot:this.snapshot,stage:"update"}),this.editor.updateInstanceState({cursor:{type:im[this.info.handle],rotation:e+this.snapshot.initialSelectionRotation}})};cancel=()=>{this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("idle",this.info)};complete=()=>{Ga({editor:this.editor,delta:this._getRotationFromPointerPosition({snapToNearestDegree:!0}),snapshot:this.snapshot,stage:"end"}),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("idle",this.info)};handleStart(){const e=this._getRotationFromPointerPosition({snapToNearestDegree:!1});Ga({editor:this.editor,delta:this._getRotationFromPointerPosition({snapToNearestDegree:!1}),snapshot:this.snapshot,stage:"start"}),this.editor.updateInstanceState({cursor:{type:im[this.info.handle],rotation:e+this.snapshot.initialSelectionRotation}})}_getRotationFromPointerPosition({snapToNearestDegree:e}){const t=this.editor.getSelectionRotation(),n=this.editor.getSelectionRotatedPageBounds(),{inputs:{shiftKey:r,currentPagePoint:i}}=this.editor,{initialCursorAngle:o,initialSelectionRotation:s}=this.snapshot;if(!n)return s;let a=s+(n.center.clone().rotWith(n.point,t).angle(i)-o);if(r)a=vi(a,24);else if(e&&(a=Math.round(a/Pm)*Pm,this.editor.getInstanceState().isCoarsePointer)){const e=vi(a,4),t=gi(a,e);Math.abs(t)<xi(5)&&(a=e)}return a-s}}class Cm extends Yc{static id="scribble_brushing";hits=new Set;size=0;scribbleId="id";initialSelectedShapeIds=new Set;newlySelectedShapeIds=new Set;onEnter=()=>{this.initialSelectedShapeIds=new Set(this.editor.inputs.shiftKey?this.editor.getSelectedShapeIds():[]),this.newlySelectedShapeIds=new Set,this.size=0,this.hits.clear();const e=this.editor.scribbles.addScribble({color:"selection-stroke",opacity:.32,size:12});this.scribbleId=e.id,this.updateScribbleSelection(!0),requestAnimationFrame((()=>{this.editor.updateInstanceState({brush:null})}))};onExit=()=>{this.editor.scribbles.stop(this.scribbleId)};onPointerMove=()=>{this.updateScribbleSelection(!0)};onPointerUp=()=>{this.complete()};onKeyDown=()=>{this.updateScribbleSelection(!1)};onKeyUp=()=>{this.editor.inputs.altKey?this.updateScribbleSelection(!1):this.parent.transition("brushing")};onCancel=()=>{this.cancel()};onComplete=()=>{this.complete()};pushPointToScribble=()=>{const{x:e,y:t}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,e,t)};updateScribbleSelection(e){const t=this.editor.getZoomLevel(),n=this.editor.getCurrentPageShapes(),{inputs:{shiftKey:r,originPagePoint:i,previousPagePoint:o,currentPagePoint:s}}=this.editor,{newlySelectedShapeIds:a,initialSelectedShapeIds:c}=this;e&&this.pushPointToScribble();const l=n;let u,d,h,p;for(let e=0,n=l.length;e<n;e++)if(u=l[e],d=this.editor.getShapeGeometry(u),!(this.editor.isShapeOfType(u,"group")||a.has(u.id)||this.editor.isShapeOrAncestorLocked(u))){if(this.editor.isShapeOfType(u,"frame")){const e=this.editor.getPointInShapeSpace(u,i);if(d.bounds.containsPoint(e))continue}if(h=this.editor.getPointInShapeSpace(u,o),p=this.editor.getPointInShapeSpace(u,s),d.hitTestLineSegment(h,p,Hi/t)){const e=this.editor.getOutermostSelectableShape(u),t=this.editor.getShapeMask(e.id);if(t&&null!==wa(o,s,t)&&!Ei(s,t))continue;a.add(e.id)}}this.editor.setSelectedShapes([...new Set(r?[...a,...c]:[...a])],{squashing:!0})}complete(){this.parent.transition("idle")}cancel(){this.editor.setSelectedShapes([...this.initialSelectedShapeIds],{squashing:!0}),this.parent.transition("idle")}}class Tm{constructor(e){this.editor=e,e.disposables.add(this.dispose)}prevDroppingShapeId=null;droppingNodeTimer=null;first=!0;updateDroppingNode(e,t){this.first&&(this.prevDroppingShapeId=this.editor.getDroppingOverShape(this.editor.inputs.originPagePoint,e)?.id??null,this.first=!1),null===this.droppingNodeTimer?this.setDragTimer(e,1e3,t):this.editor.inputs.pointerVelocity.len()>.5&&(clearInterval(this.droppingNodeTimer),this.setDragTimer(e,100,t))}setDragTimer(e,t,n){this.droppingNodeTimer=setTimeout((()=>{this.editor.batch((()=>{this.handleDrag(this.editor.inputs.currentPagePoint,e,n)})),this.droppingNodeTimer=null}),t)}handleDrag(e,t,n){t=u(t.map((e=>this.editor.getShape(e.id))));const r=this.editor.getDroppingOverShape(e,t)?.id??null;if(r===this.prevDroppingShapeId)return;const{prevDroppingShapeId:i}=this,o=i&&this.editor.getShape(i),s=r&&this.editor.getShape(r);if(o&&this.editor.getShapeUtil(o).onDragShapesOut?.(o,t),s){const e=this.editor.getShapeUtil(s).onDragShapesOver?.(s,t);e&&e.shouldHint&&this.editor.setHintingShapes([s.id])}else this.editor.setHintingShapes([]);n?.(),this.prevDroppingShapeId=r}dropShapes(e){const{prevDroppingShapeId:t}=this;if(this.handleDrag(this.editor.inputs.currentPagePoint,e),t){const n=this.editor.getShape(t);if(!n)return;this.editor.getShapeUtil(n).onDropShapesOver?.(n,e)}}clear(){this.prevDroppingShapeId=null,null!==this.droppingNodeTimer&&clearInterval(this.droppingNodeTimer),this.droppingNodeTimer=null,this.editor.setHintingShapes([]),this.first=!0}dispose=()=>{this.clear()}}class jm extends Yc{static id="translating";info={};selectionSnapshot={};snapshot={};markId="";isCloning=!1;isCreating=!1;onCreate=()=>{};dragAndDropManager=new Tm(this.editor);onEnter=e=>{const{isCreating:t=!1,onCreate:n=(()=>{})}=e;this.info=e,this.parent.setCurrentToolIdMask(e.onInteractionEnd),this.isCreating=t,this.onCreate=n,t?this.markId=`creating:${this.editor.getOnlySelectedShape().id}`:(this.markId="translating",this.editor.mark(this.markId)),this.isCloning=!1,this.info=e,this.editor.setCursor({type:"move",rotation:0}),this.selectionSnapshot=Im(this.editor),this.isCreating||!this.editor.inputs.altKey?(this.snapshot=this.selectionSnapshot,this.handleStart(),this.updateShapes()):this.startCloning()};onExit=()=>{this.parent.setCurrentToolIdMask(void 0),this.selectionSnapshot={},this.snapshot={},this.editor.snaps.clearIndicators(),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.dragAndDropManager.clear()};onTick=()=>{this.dragAndDropManager.updateDroppingNode(this.snapshot.movingShapes,this.updateParentTransforms),Su(this.editor)};onPointerMove=()=>{this.updateShapes()};onKeyDown=()=>{!this.editor.inputs.altKey||this.isCloning?this.updateShapes():this.startCloning()};onKeyUp=()=>{this.editor.inputs.altKey||!this.isCloning?this.updateShapes():this.stopCloning()};onPointerUp=()=>{this.complete()};onComplete=()=>{this.complete()};onCancel=()=>{this.cancel()};startCloning(){this.isCreating||(this.isCloning=!0,this.reset(),this.markId="translating",this.editor.mark(this.markId),this.editor.duplicateShapes(Array.from(this.editor.getSelectedShapeIds())),this.snapshot=Im(this.editor),this.handleStart(),this.updateShapes())}stopCloning(){this.isCloning=!1,this.snapshot=this.selectionSnapshot,this.reset(),this.markId="translating",this.editor.mark(this.markId),this.updateShapes()}reset(){this.editor.bailToMark(this.markId)}complete(){this.updateShapes(),this.dragAndDropManager.dropShapes(this.snapshot.movingShapes),this.handleEnd(),this.editor.getInstanceState().isToolLocked&&this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd):this.isCreating?this.onCreate?.(this.editor.getOnlySelectedShape()):this.parent.transition("idle")}cancel(){this.reset(),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd):this.parent.transition("idle",this.info)}handleStart(){const{movingShapes:e}=this.snapshot,t=[];e.forEach((e=>{const n=this.editor.getShapeUtil(e),r=n.onTranslateStart?.(e);r&&t.push(r)})),t.length>0&&this.editor.updateShapes(t),this.editor.setHoveredShape(null)}handleEnd(){const{movingShapes:e}=this.snapshot;if(this.isCloning){const t=ti.Average(e.map((e=>this.editor.getShapePageTransform(e.id).point()))),n=ti.Sub(t,this.selectionSnapshot.averagePagePoint);this.editor.updateInstanceState({duplicateProps:{shapeIds:e.map((e=>e.id)),offset:{x:n.x,y:n.y}}})}const t=[];e.forEach((e=>{const n=this.editor.getShape(e.id),r=this.editor.getShapeUtil(e),i=r.onTranslateEnd?.(e,n);i&&t.push(i)})),t.length>0&&this.editor.updateShapes(t)}handleChange(){const{movingShapes:e}=this.snapshot,t=[];e.forEach((e=>{const n=this.editor.getShape(e.id),r=this.editor.getShapeUtil(e),i=r.onTranslate?.(e,n);i&&t.push(i)})),t.length>0&&this.editor.updateShapes(t)}updateShapes(){const{snapshot:e}=this;this.dragAndDropManager.updateDroppingNode(e.movingShapes,this.updateParentTransforms),function({editor:e,shapeSnapshots:t,averagePagePoint:n,initialSelectionPageBounds:r,initialSelectionSnapPoints:i}){const{inputs:o}=e,s=e.getInstanceState().isGridMode,a=e.getDocumentSettings().gridSize,c=ti.Sub(o.currentPagePoint,o.originPagePoint),l=e.inputs.shiftKey?Math.abs(c.x)<Math.abs(c.y)?"x":"y":null;if("x"===l?c.x=0:"y"===l&&(c.y=0),e.snaps.clearIndicators(),(e.user.getIsSnapMode()?!o.ctrlKey:o.ctrlKey)&&e.inputs.pointerVelocity.len()<.5){const{nudge:t}=e.snaps.shapeBounds.snapTranslateShapes({dragDelta:c,initialSelectionPageBounds:r,lockedAxis:l,initialSelectionSnapPoints:i});c.add(t)}const d=ti.Add(n,c);s&&!o.ctrlKey&&d.snapToGrid(a);const h=ti.Sub(d,n);e.updateShapes(u(t.map((({shape:e,pagePoint:t,parentTransform:n})=>{const r=ti.Add(t,h),i=n?$o.applyToPoint(n,r):r;return{id:e.id,type:e.type,x:i.x,y:i.y}}))),{squashing:!0})}({editor:this.editor,shapeSnapshots:e.shapeSnapshots,averagePagePoint:e.averagePagePoint,initialSelectionPageBounds:e.initialPageBounds,initialSelectionSnapPoints:e.initialSnapPoints}),this.handleChange()}updateParentTransforms=()=>{const{editor:e,snapshot:{shapeSnapshots:t}}=this,n=[];t.forEach((t=>{const r=e.getShape(t.shape.id);if(!r)return null;n.push(r);const i=rn(r.parentId)?null:$o.Inverse(e.getShapePageTransform(r.parentId));t.parentTransform=i}))}}function Im(e){const t=[],n=[],r=u(e.getSelectedShapeIds().map((r=>{const i=e.getShape(r);if(!i)return null;t.push(i);const o=e.getShapePageTransform(r).point();return o?(n.push(o),{shape:i,pagePoint:o,parentTransform:nn.isId(i.parentId)?null:$o.Inverse(e.getShapePageTransform(i.parentId))}):null})));let i=[];if(1===e.getSelectedShapeIds().length)i=e.snaps.shapeBounds.getSnapPoints(e.getSelectedShapeIds()[0]);else{const t=e.getSelectionPageBounds();t&&(i=t.cornersAndCenter.map(((e,t)=>({id:"selection:"+t,x:e.x,y:e.y}))))}return{averagePagePoint:ti.Average(n),movingShapes:t,shapeSnapshots:r,initialPageBounds:e.getSelectionPageBounds(),initialSnapPoints:i}}class Mm extends Yc{static id="select";static initial="idle";reactor=void 0;static children=()=>[rm,sm,dm,ym,wm,jm,Gf,Cm,vm,Om,om,cm,Sm,Em,xm,gm,bm,am];cleanUpDuplicateProps=()=>{const e=this.editor.getSelectedShapeIds(),t=this.editor.getInstanceState();if(!t.duplicateProps)return;const n=new Set(t.duplicateProps.shapeIds);e.length===n.size&&e.every((e=>n.has(e)))||this.editor.updateInstanceState({duplicateProps:null})};onEnter=()=>{this.reactor=(0,o.wv)("clean duplicate props",(()=>{try{this.cleanUpDuplicateProps()}catch(e){console.error(e)}}))};onExit=()=>{this.reactor?.(),this.editor.getCurrentPageState().editingShapeId&&this.editor.setEditingShape(null)}}class Am extends Yc{static id="idle";info={};onEnter=e=>{this.info=e};onPointerDown=()=>{this.parent.transition("pointing",this.info)}}class Dm extends Yc{static id="pointing";info={};onEnter=e=>{this.info=e};onPointerUp=()=>{this.complete()};onPointerMove=()=>{this.editor.inputs.isDragging&&this.parent.transition("zoom_brushing",this.info)};onCancel=()=>{this.cancel()};complete(){const{currentScreenPoint:e}=this.editor.inputs;this.editor.inputs.altKey?this.editor.zoomOut(e,{duration:220}):this.editor.zoomIn(e,{duration:220}),this.parent.transition("idle",this.info)}cancel(){this.parent.transition("idle",this.info)}}class $m extends Yc{static id="zoom_brushing";info={};zoomBrush=new jo;onEnter=e=>{this.info=e,this.update()};onExit=()=>{this.editor.updateInstanceState({zoomBrush:null})};onPointerMove=()=>{this.update()};onPointerUp=()=>{this.complete()};onCancel=()=>{this.cancel()};update(){const{inputs:{originPagePoint:e,currentPagePoint:t}}=this.editor;this.zoomBrush.setTo(jo.FromPoints([e,t])),this.editor.updateInstanceState({zoomBrush:this.zoomBrush.toJson()})}cancel(){this.parent.transition("idle",this.info)}complete(){const{zoomBrush:e}=this,t=8/this.editor.getZoomLevel();if(e.width<t&&e.height<t){const e=this.editor.inputs.currentScreenPoint;this.editor.inputs.altKey?this.editor.zoomOut(e,{duration:220}):this.editor.zoomIn(e,{duration:220})}else{const t=this.editor.inputs.altKey?this.editor.getZoomLevel()/2:void 0;this.editor.zoomToBounds(e,{targetZoom:t,duration:220})}this.parent.transition("idle",this.info)}}class Rm extends Yc{static id="zoom";static initial="idle";static children=()=>[Am,$m,Dm];info={};onEnter=e=>{this.info=e,this.parent.setCurrentToolIdMask(e.onInteractionEnd),this.updateCursor()};onExit=()=>{this.parent.setCurrentToolIdMask(void 0),this.editor.updateInstanceState({zoomBrush:null,cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.parent.setCurrentToolIdMask(void 0)};onKeyDown=()=>{this.updateCursor()};onKeyUp=e=>{this.updateCursor(),"KeyZ"===e.code&&this.complete()};onInterrupt=()=>{this.complete()};complete(){this.info.onInteractionEnd&&"select"!==this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("select")}updateCursor(){this.editor.inputs.altKey?this.editor.updateInstanceState({cursor:{type:"zoom-out",rotation:0}},{ephemeral:!0}):this.editor.updateInstanceState({cursor:{type:"zoom-in",rotation:0}},{ephemeral:!0})}}const Nm=[Zf,qf,Hf,Rm,Mm];var Lm=n(33263);const Qm=[0,390,428,468,580,640,840,1023];var zm=(e=>(e[e.ZERO=0]="ZERO",e[e.MOBILE_XXS=1]="MOBILE_XXS",e[e.MOBILE_XS=2]="MOBILE_XS",e[e.MOBILE_SM=3]="MOBILE_SM",e[e.MOBILE=4]="MOBILE",e[e.TABLET_SM=5]="TABLET_SM",e[e.TABLET=6]="TABLET",e[e.DESKTOP=7]="DESKTOP",e))(zm||{});const Fm=Wr.createContext(0);function Bm({forceMobile:e=!1,children:t}){const n=Gr(),r=(0,s.h)("breakpoint",(()=>{const{width:t}=n.getViewportScreenBounds(),r=e?zm.MOBILE_SM:Qm.length-1;for(let e=0;e<r;e++)if(t>Qm[e]&&t<=Qm[e+1])return e;return r}),[n]);return(0,Vr.jsx)(Fm.Provider,{value:r,children:t})}function Zm(){return(0,Wr.useContext)(Fm)}const Vm=(0,Wr.createContext)(null);function Wm({assetUrls:e,children:t}){return(0,Vr.jsx)(Vm.Provider,{value:e,children:t})}function Um(){const e=(0,Wr.useContext)(Vm);if(!e)throw new Error("useAssetUrls must be used within an AssetUrlsProvider");return e}const qm={"action.convert-to-bookmark":"Convert to Bookmark","action.convert-to-embed":"Convert to Embed","action.open-embed-link":"Open link","action.align-bottom":"Align bottom","action.align-center-horizontal":"Align horizontally","action.align-center-vertical":"Align vertically","action.align-center-horizontal.short":"Align H","action.align-center-vertical.short":"Align V","action.align-left":"Align left","action.align-right":"Align right","action.align-top":"Align top","action.back-to-content":"Back to content","action.bring-forward":"Bring forward","action.bring-to-front":"Bring to front","action.copy-as-json.short":"JSON","action.copy-as-json":"Copy as JSON","action.copy-as-png.short":"PNG","action.copy-as-png":"Copy as PNG","action.copy-as-svg.short":"SVG","action.copy-as-svg":"Copy as SVG","action.copy":"Copy","action.cut":"Cut","action.delete":"Delete","action.unlock-all":"Unlock all","action.distribute-horizontal":"Distribute horizontally","action.distribute-vertical":"Distribute vertically","action.distribute-horizontal.short":"Distribute H","action.distribute-vertical.short":"Distribute V","action.duplicate":"Duplicate","action.edit-link":"Edit link","action.exit-pen-mode":"Exit pen mode","action.export-as-json.short":"JSON","action.export-as-json":"Export as JSON","action.export-as-png.short":"PNG","action.export-as-png":"Export as PNG","action.export-as-svg.short":"SVG","action.export-as-svg":"Export as SVG","action.export-all-as-json.short":"JSON","action.export-all-as-json":"Export all as JSON","action.export-all-as-png.short":"PNG","action.export-all-as-png":"Export all as PNG","action.export-all-as-svg.short":"SVG","action.export-all-as-svg":"Export all as SVG","action.fit-frame-to-content":"Fit to content","action.flip-horizontal":"Flip horizontally","action.flip-vertical":"Flip vertically","action.flip-horizontal.short":"Flip H","action.flip-vertical.short":"Flip V","action.fork-project":"Fork this project","action.group":"Group","action.insert-embed":"Insert embed","action.insert-media":"Upload media","action.leave-shared-project":"Leave shared project","action.new-project":"New project","action.new-shared-project":"New shared project","action.open-cursor-chat":"Cursor chat","action.open-file":"Open file","action.pack":"Pack","action.paste":"Paste","action.print":"Print","action.redo":"Redo","action.remove-frame":"Remove frame","action.rename":"Rename","action.rotate-ccw":"Rotate counterclockwise","action.rotate-cw":"Rotate clockwise","action.save-copy":"Save a copy","action.select-all":"Select all","action.select-none":"Select none","action.send-backward":"Send backward","action.send-to-back":"Send to back","action.share-project":"Share this project","action.stack-horizontal":"Stack horizontally","action.stack-vertical":"Stack vertically","action.stack-horizontal.short":"Stack H","action.stack-vertical.short":"Stack V","action.stop-following":"Stop following","action.stretch-horizontal":"Stretch horizontally","action.stretch-vertical":"Stretch vertically","action.stretch-horizontal.short":"Stretch H","action.stretch-vertical.short":"Stretch V","action.toggle-auto-size":"Toggle auto size","action.toggle-dark-mode.menu":"Dark mode","action.toggle-dark-mode":"Toggle dark mode","action.toggle-wrap-mode.menu":"Select on wrap","action.toggle-wrap-mode":"Toggle Select on wrap","action.toggle-reduce-motion.menu":"Reduce motion","action.toggle-reduce-motion":"Toggle reduce motion","action.toggle-edge-scrolling.menu":"Edge scrolling","action.toggle-edge-scrolling":"Toggle edge scrolling","action.toggle-debug-mode.menu":"Debug mode","action.toggle-debug-mode":"Toggle debug mode","action.toggle-focus-mode.menu":"Focus mode","action.toggle-focus-mode":"Toggle focus mode","action.toggle-grid.menu":"Show grid","action.toggle-grid":"Toggle grid","action.toggle-lock":"Toggle locked","action.toggle-snap-mode.menu":"Always snap","action.toggle-snap-mode":"Toggle always snap","action.toggle-tool-lock.menu":"Tool lock","action.toggle-tool-lock":"Toggle tool lock","action.toggle-transparent.context-menu":"Transparent","action.toggle-transparent.menu":"Transparent","action.toggle-transparent":"Toggle transparent background","action.undo":"Undo","action.ungroup":"Ungroup","action.zoom-in":"Zoom in","action.zoom-out":"Zoom out","action.zoom-to-100":"Zoom to 100%","action.zoom-to-fit":"Zoom to fit","action.zoom-to-selection":"Zoom to selection","assets.files.upload-failed":"Upload failed","assets.url.failed":"Couldn't load URL preview","color-style.black":"Black","color-style.blue":"Blue","color-style.green":"Green","color-style.grey":"Grey","color-style.light-blue":"Light blue","color-style.light-green":"Light green","color-style.light-red":"Light red","color-style.light-violet":"Light violet","color-style.orange":"Orange","color-style.red":"Red","color-style.violet":"Violet","color-style.yellow":"Yellow","fill-style.none":"None","document.default-name":"Untitled","fill-style.semi":"Semi","fill-style.solid":"Solid","fill-style.pattern":"Pattern","dash-style.dashed":"Dashed","dash-style.dotted":"Dotted","dash-style.draw":"Draw","dash-style.solid":"Solid","size-style.s":"Small","size-style.m":"Medium","size-style.l":"Large","size-style.xl":"Extra large","opacity-style.0.1":"10%","opacity-style.0.25":"25%","opacity-style.0.5":"50%","opacity-style.0.75":"75%","opacity-style.1":"100%","font-style.draw":"Draw","font-style.sans":"Sans","font-style.serif":"Serif","font-style.mono":"Mono","align-style.start":"Start","align-style.middle":"Middle","align-style.end":"End","align-style.justify":"Justify","verticalAlign-style.start":"Top","verticalAlign-style.middle":"Middle","verticalAlign-style.end":"Bottom","geo-style.arrow-down":"Arrow down","geo-style.arrow-left":"Arrow left","geo-style.arrow-right":"Arrow right","geo-style.arrow-up":"Arrow up","geo-style.diamond":"Diamond","geo-style.ellipse":"Ellipse","geo-style.hexagon":"Hexagon","geo-style.octagon":"Octagon","geo-style.oval":"Oval","geo-style.cloud":"Cloud","geo-style.pentagon":"Pentagon","geo-style.rectangle":"Rectangle","geo-style.rhombus-2":"Rhombus 2","geo-style.rhombus":"Rhombus","geo-style.star":"Star","geo-style.trapezoid":"Trapezoid","geo-style.triangle":"Triangle","geo-style.x-box":"X box","geo-style.check-box":"Check box","arrowheadStart-style.none":"None","arrowheadStart-style.arrow":"Arrow","arrowheadStart-style.bar":"Bar","arrowheadStart-style.diamond":"Diamond","arrowheadStart-style.dot":"Dot","arrowheadStart-style.inverted":"Inverted","arrowheadStart-style.pipe":"Pipe","arrowheadStart-style.square":"Square","arrowheadStart-style.triangle":"Triangle","arrowheadEnd-style.none":"None","arrowheadEnd-style.arrow":"Arrow","arrowheadEnd-style.bar":"Bar","arrowheadEnd-style.diamond":"Diamond","arrowheadEnd-style.dot":"Dot","arrowheadEnd-style.inverted":"Inverted","arrowheadEnd-style.pipe":"Pipe","arrowheadEnd-style.square":"Square","arrowheadEnd-style.triangle":"Triangle","spline-style.line":"Line","spline-style.cubic":"Cubic","tool.select":"Select","tool.hand":"Hand","tool.draw":"Draw","tool.eraser":"Eraser","tool.arrow-down":"Arrow down","tool.arrow-left":"Arrow left","tool.arrow-right":"Arrow right","tool.arrow-up":"Arrow up","tool.arrow":"Arrow","tool.cloud":"Cloud","tool.diamond":"Diamond","tool.ellipse":"Ellipse","tool.hexagon":"Hexagon","tool.highlight":"Highlight","tool.line":"Line","tool.octagon":"Octagon","tool.oval":"Oval","tool.pentagon":"Pentagon","tool.rectangle":"Rectangle","tool.rhombus":"Rhombus","tool.star":"Star","tool.trapezoid":"Trapezoid","tool.triangle":"Triangle","tool.x-box":"X box","tool.check-box":"Check box","tool.asset":"Asset","tool.frame":"Frame","tool.note":"Note","tool.laser":"Laser","tool.embed":"Embed","tool.text":"Text","menu.title":"Menu","menu.copy-as":"Copy as","menu.edit":"Edit","menu.shape":"Shape","menu.export-as":"Export as","menu.file":"File","menu.language":"Language","menu.preferences":"Preferences","menu.view":"View","context-menu.arrange":"Arrange","context-menu.copy-as":"Copy as","context-menu.export-as":"Export as","context-menu.export-all-as":"Export all as","context-menu.move-to-page":"Move to page","context-menu.reorder":"Reorder","page-menu.title":"Pages","page-menu.create-new-page":"Create new page","page-menu.max-page-count-reached":"Max pages reached","page-menu.new-page-initial-name":"Page 1","page-menu.edit-start":"Edit","page-menu.edit-done":"Done","page-menu.go-to-page":"Go to page","page-menu.submenu.rename":"Rename","page-menu.submenu.duplicate-page":"Duplicate","page-menu.submenu.title":"Menu","page-menu.submenu.move-down":"Move down","page-menu.submenu.move-up":"Move up","page-menu.submenu.delete":"Delete","share-menu.title":"Share","share-menu.save-note":"Download this project to your computer as a .tldr file.","share-menu.fork-note":"Create a new shared project based on this snapshot.","share-menu.share-project":"Share this project","share-menu.default-project-name":"Shared Project","share-menu.copy-link":"Copy share link","share-menu.readonly-link":"Read-only","share-menu.create-snapshot-link":"Copy snapshot link","share-menu.snapshot-link-note":"Capture and share this project as a read-only snapshot link.","share-menu.copy-readonly-link":"Copy read-only link","share-menu.offline-note":"Create a new shared project based on your current project.","share-menu.copy-link-note":"Anyone with the link will be able to view and edit this project.","share-menu.copy-readonly-link-note":"Anyone with the link will be able to view (but not edit) this project.","share-menu.project-too-large":"Sorry, this project can't be shared because it's too large. We're working on it!","share-menu.upload-failed":"Sorry, we couldn't upload your project at the moment. Please try again or let us know if the problem persists.","status.offline":"Offline","status.online":"Online","people-menu.title":"People","people-menu.change-name":"Change name","people-menu.change-color":"Change color","people-menu.follow":"Following","people-menu.following":"Following","people-menu.leading":"Following You","people-menu.user":"(You)","people-menu.invite":"Invite others","help-menu.title":"Help and resources","help-menu.about":"About","help-menu.discord":"Discord","help-menu.github":"GitHub","help-menu.keyboard-shortcuts":"Keyboard shortcuts","help-menu.twitter":"Twitter","actions-menu.title":"Actions","edit-link-dialog.title":"Edit link","edit-link-dialog.invalid-url":"A link must be a valid URL.","edit-link-dialog.detail":"Links will open in a new tab.","edit-link-dialog.url":"URL","edit-link-dialog.clear":"Clear","edit-link-dialog.save":"Continue","edit-link-dialog.cancel":"Cancel","embed-dialog.title":"Insert embed","embed-dialog.back":"Back","embed-dialog.create":"Create","embed-dialog.cancel":"Cancel","embed-dialog.url":"URL","embed-dialog.instruction":"Paste in the site's URL to create the embed.","embed-dialog.invalid-url":"We could not create an embed from that URL.","edit-pages-dialog.move-down":"Move down","edit-pages-dialog.move-up":"Move up","shortcuts-dialog.title":"Keyboard shortcuts","shortcuts-dialog.edit":"Edit","shortcuts-dialog.file":"File","shortcuts-dialog.preferences":"Preferences","shortcuts-dialog.tools":"Tools","shortcuts-dialog.transform":"Transform","shortcuts-dialog.view":"View","shortcuts-dialog.collaboration":"Collaboration","home-project-dialog.title":"Home project","home-project-dialog.description":"This is your local home project. It's just for you!","rename-project-dialog.title":"Rename project","rename-project-dialog.cancel":"Cancel","rename-project-dialog.rename":"Rename","home-project-dialog.ok":"Ok","style-panel.title":"Styles","style-panel.align":"Align","style-panel.vertical-align":"Vertical align","style-panel.position":"Position","style-panel.arrowheads":"Arrows","style-panel.arrowhead-start":"Start","style-panel.arrowhead-end":"End","style-panel.color":"Color","style-panel.dash":"Dash","style-panel.fill":"Fill","style-panel.font":"Font","style-panel.geo":"Shape","style-panel.mixed":"Mixed","style-panel.opacity":"Opacity","style-panel.size":"Size","style-panel.spline":"Spline","tool-panel.drawing":"Drawing","tool-panel.shapes":"Shapes","tool-panel.more":"More","debug-panel.more":"More","navigation-zone.toggle-minimap":"Toggle minimap","navigation-zone.zoom":"Zoom","focus-mode.toggle-focus-mode":"Toggle focus mode","toast.close":"Close","file-system.file-open-error.title":"Could not open file","file-system.file-open-error.not-a-tldraw-file":"The file you tried to open doesn't look like a tldraw file.","file-system.file-open-error.file-format-version-too-new":"The file you tried to open is from a newer version of tldraw. Please reload the page and try again.","file-system.file-open-error.generic-corrupted-file":"The file you tried to open is corrupted.","file-system.confirm-open.title":"Overwrite current project?","file-system.confirm-open.description":"Opening a file will replace your current project and any unsaved changes will be lost. Are you sure you want to continue?","file-system.confirm-open.cancel":"Cancel","file-system.confirm-open.open":"Open file","file-system.confirm-open.dont-show-again":"Don't ask again","file-system.confirm-clear.title":"Clear current project?","file-system.confirm-clear.description":"Creating a new project will clear your current project and any unsaved changes will be lost. Are you sure you want to continue?","file-system.confirm-clear.cancel":"Cancel","file-system.confirm-clear.continue":"Continue","file-system.confirm-clear.dont-show-again":"Don't ask again","file-system.shared-document-file-open-error.title":"Could not open file","file-system.shared-document-file-open-error.description":"Opening files from shared projects is not supported.","sharing.confirm-leave.title":"Leave current project?","sharing.confirm-leave.description":"Are you sure you want to leave this shared project? You can return to it by navigating to its URL.","sharing.confirm-leave.cancel":"Cancel","sharing.confirm-leave.leave":"Leave","sharing.confirm-leave.dont-show-again":"Don't ask again","toast.error.export-fail.title":"Failed export","toast.error.export-fail.desc":"Failed to export image","toast.error.copy-fail.title":"Failed copy","toast.error.copy-fail.desc":"Failed to copy image","context.pages.new-page":"New page","vscode.file-open.desc":"We've updated this document to work with the current version of tldraw. If you'd like to keep the original version (which will work on old.tldraw.com), click below to create a backup.","vscode.file-open.open":"Continue","vscode.file-open.backup":"Backup","vscode.file-open.backup-saved":"Backup saved","vscode.file-open.backup-failed":"Backup failed: this is not a .tldr file.","vscode.file-open.dont-show-again":"Don't ask again","cursor-chat.type-to-chat":"Type to chat..."},Ym={locale:"en",label:"English",messages:qm},Xm=Wr.createContext({}),Hm=()=>Wr.useContext(Xm),Gm=(0,s.u4)((function({overrides:e,children:t}){const n=Gr().user.getLocale(),r=Um(),[i,o]=Wr.useState((()=>e&&e.en?{locale:"en",label:"English",messages:{...qm,...e.en}}:{locale:"en",label:"English",messages:qm}));return Wr.useEffect((()=>{let t=!1;return async function(){const i=await async function(e,t){if(!(await fetch(t.translations.en)).ok)return console.warn("No main translations found."),Ym;if("en"===e)return Ym;const n=zr.find((t=>t.locale===e));if(!n)return console.warn(`No translation found for locale ${e}`),Ym;const r=await fetch(t.translations[n.locale]),i=await r.json();if(!i)return console.warn(`No messages found for locale ${e}`),Ym;const o=[];for(const e in Ym.messages)i[e]||o.push(e);return o.length,{locale:e,label:n.label,messages:{...Ym.messages,...i}}}(n,r);i&&!t&&(e&&e[n]?o({...i,messages:{...i.messages,...e[n]}}):o(i))}(),()=>{t=!0}}),[r,n,e]),(0,Vr.jsx)(Xm.Provider,{value:i,children:t})}));function Km(){const e=Hm();return Wr.useCallback((function(t){return e.messages[t]??t}),[e])}const Jm=Wr.forwardRef((function({children:e,disabled:t,type:n,...r},i){const o=Gr(),s=i?.current;return t&&s===document.activeElement&&o.getContainer().focus(),(0,Vr.jsx)("button",{ref:i,type:"button",draggable:!1,disabled:t,...r,className:Ur("tlui-button",`tlui-button__${n}`,r.className),children:e})})),eg=(0,Wr.memo)((function({small:e,invertIcon:t,icon:n,color:r,className:i,...o}){const s=Um(),a=s.icons[n]??s.icons["question-mark-circle"],c=(0,Wr.useRef)(null);return(0,Wr.useLayoutEffect)((()=>{a||console.error(`Icon not found: ${n}. Add it to the assetUrls.icons object.`),c?.current&&(c.current.style.webkitMask=`url(${a}) center 100% / 100% no-repeat`)}),[c,a,n]),(0,Vr.jsx)("div",{...o,ref:c,className:Ur("tlui-icon",{"tlui-icon__small":e},i),style:{color:r,mask:`url(${a}) center 100% / 100% no-repeat`,transform:t?"scale(-1, 1)":void 0}})}));function tg({icon:e,small:t,invertIcon:n}){return(0,Vr.jsx)(eg,{className:"tlui-button__icon",icon:e,small:t,invertIcon:n})}var ng=n(90324);const rg=()=>{},ig=Wr.createContext({});function og({onEvent:e,children:t}){return(0,Vr.jsx)(ig.Provider,{value:e??rg,children:t})}function sg(){return Wr.useContext(ig)??rg}function ag(e,t){const n=Gr(),r=(0,Wr.useRef)(!1),i=sg(),o=(0,Wr.useCallback)((i=>{r.current=i,n.batch((()=>{i?(n.complete(),n.addOpenMenu(e)):n.updateInstanceState({openMenus:n.getOpenMenus().filter((t=>!t.startsWith(e)))}),t?.(i)}))}),[n,e,t]),a=(0,s.h)("is menu open",(()=>n.getOpenMenus().includes(e)),[n,e]);return(0,Wr.useEffect)((()=>(r.current&&(i("open-menu",{source:"unknown",id:e}),n.addOpenMenu(e)),()=>{r.current&&(n.deleteOpenMenu(e),n.getOpenMenus().forEach((t=>{t.startsWith(e)&&(i("close-menu",{source:"unknown",id:e}),n.deleteOpenMenu(t))})),r.current=!1)})),[n,e,i]),[a,o]}function cg({id:e,children:t,onOpenChange:n,open:r}){const[i,o]=ag(e,n);return(0,Vr.jsx)(ng.bL,{onOpenChange:o,open:r||i,children:(0,Vr.jsx)("div",{className:"tlui-popover",children:t})})}function lg({children:e}){return(0,Vr.jsx)(ng.l9,{asChild:!0,dir:"ltr",children:e})}function ug({side:e,children:t,align:n="center",sideOffset:r=8,alignOffset:i=0}){const o=go();return(0,Vr.jsx)(ng.ZL,{container:o,children:(0,Vr.jsx)(ng.UC,{className:"tlui-popover__content",side:e,sideOffset:r,align:n,alignOffset:i,dir:"ltr",children:t})})}const dg=(0,Wr.createContext)({type:"menu",sourceId:"main-menu"});function hg(){return(0,Wr.useContext)(dg)}function pg({type:e,sourceId:t,children:n}){return(0,Vr.jsx)(dg.Provider,{value:{type:e,sourceId:t},children:n})}function fg(e,t){const n=u(t.map((t=>e.getShape(t))).filter((t=>t&&e.isShapeOfType(t,"frame"))));if(!n.length)return;const r=[];e.batch((()=>{n.map((t=>{const n=e.getSortedChildIdsForParent(t.id);n.length&&(e.reparentShapes(n,t.parentId,t.index),r.push(...n))})),e.setSelectedShapes(r),e.deleteShapes(t)}))}const mg=50;function gg(e,t,n={}){const r=e.getShape(t);if(!r)return;const i=e.getSortedChildIdsForParent(r.id),o=u(i.map((t=>e.getShape(t))));if(!o.length)return;const s=jo.FromPoints(o.flatMap((t=>{const n=e.getShapeGeometry(t.id);return e.getShapeLocalTransform(t).applyToPoints(n.vertices)}))),{padding:a=mg}=n,c=s.w+2*a,l=s.h+2*a,d=a-s.minX,h=a-s.minY;if(0===d&&0===h&&r.props.w===c&&r.props.h===l)return;const p=new ti(d,h).rot(r.rotation);e.batch((()=>{const t=i.map((t=>{const n=e.getShape(t);return{id:n.id,type:n.type,x:n.x+d,y:n.y+h}}));t.push({id:r.id,type:r.type,x:r.x-p.x,y:r.y-p.y,props:{w:c,h:l}}),e.updateShapes(t)}))}function yg({children:e}){return(0,Vr.jsx)("span",{className:"tlui-button__label",children:e})}var vg=n(4242);function bg({className:e,children:t}){return(0,Vr.jsx)("div",{className:Ur("tlui-dialog__header",e),children:t})}function xg({className:e,children:t}){return(0,Vr.jsx)(vg.L3,{dir:"ltr",className:Ur("tlui-dialog__header__title",e),children:t})}function Og(){return(0,Vr.jsx)("div",{className:"tlui-dialog__header__close",children:(0,Vr.jsx)(vg.HM,{"data-testid":"dialog.close",dir:"ltr",asChild:!0,children:(0,Vr.jsx)(Jm,{type:"icon","aria-label":"Close",onTouchEnd:e=>e.target.click(),children:(0,Vr.jsx)(tg,{small:!0,icon:"cross-2"})})})})}function wg({className:e,children:t,style:n}){return(0,Vr.jsx)("div",{className:Ur("tlui-dialog__body",e),style:n,children:t})}function Sg({className:e,children:t}){return(0,Vr.jsx)("div",{className:Ur("tlui-dialog__footer",e),children:t})}const kg=Wr.forwardRef((function({className:e,label:t,icon:n,iconLeft:r,autoselect:i=!1,autofocus:o=!1,defaultValue:s,placeholder:a,onComplete:c,onValueChange:l,onCancel:u,onBlur:d,shouldManuallyMaintainScrollPositionWhenFocused:h=!1,children:p,value:f},m){const g=Gr(),y=Wr.useRef(null);Wr.useImperativeHandle(m,(()=>y.current));const v=Km(),b=Wr.useRef(s??""),x=Wr.useRef(s??""),[O,w]=Wr.useState(!1),S=Wr.useCallback((e=>{w(!0);const t=e.currentTarget;x.current=t.value,requestAnimationFrame((()=>{i&&t.select()}))}),[i]),k=Wr.useCallback((e=>{const t=e.currentTarget.value;x.current=t,l?.(t)}),[l]),_=Wr.useCallback((e=>{switch(e.key){case"Enter":e.currentTarget.blur(),ho(e),c?.(e.currentTarget.value);break;case"Escape":e.currentTarget.value=b.current,e.currentTarget.blur(),ho(e),u?.(e.currentTarget.value)}}),[c,u]),P=Wr.useCallback((e=>{w(!1);const t=e.currentTarget.value;d?.(t)}),[d]);return Wr.useEffect((()=>{if(!g.environment.isIos)return;const e=window.visualViewport;if(O&&h&&e){const t=()=>{y.current?.scrollIntoView({block:"center"})};return e.addEventListener("resize",t),e.addEventListener("scroll",t),requestAnimationFrame((()=>{y.current?.scrollIntoView({block:"center"})})),()=>{e.removeEventListener("resize",t),e.removeEventListener("scroll",t)}}}),[g,O,h]),(0,Vr.jsxs)("div",{draggable:!1,className:"tlui-input__wrapper",children:[p,t&&(0,Vr.jsx)("label",{children:v(t)}),r&&(0,Vr.jsx)(eg,{icon:r,className:"tlui-icon-left",small:!0}),(0,Vr.jsx)("input",{ref:y,className:Ur("tlui-input",e),type:"text",defaultValue:s,onKeyUp:_,onChange:k,onFocus:S,onBlur:P,autoFocus:o,placeholder:a,value:f}),n&&(0,Vr.jsx)(eg,{icon:n,small:!!t})]})}));function _g(e){return Lt.isValid(e)?{isValid:!0,hasProtocol:!0}:Lt.isValid("https://"+e)?{isValid:!0,hasProtocol:!1}:{isValid:!1,hasProtocol:!1}}const Pg=(0,s.u4)((function({onClose:e}){const t=Gr().getOnlySelectedShape();return t&&"url"in t.props&&"string"==typeof t.props.url?(0,Vr.jsx)(Eg,{onClose:e,selectedShape:t}):null})),Eg=(0,s.u4)((function({onClose:e,selectedShape:t}){const n=Gr(),r=Km(),i=(0,Wr.useRef)(null);(0,Wr.useEffect)((()=>{requestAnimationFrame((()=>i.current?.focus()))}),[]);const o=(0,Wr.useRef)(t.props.url),[s,a]=(0,Wr.useState)((()=>{const e=_g(t.props.url),n=!0===e.isValid?e.hasProtocol?t.props.url:"https://"+t.props.url:"https://";return{actual:n,safe:n,valid:!0}})),c=(0,Wr.useCallback)((e=>{const t=e.replace(/https?:\/\/(https?:\/\/)/,((e,t)=>t)),n=_g(t),r=!0===n.isValid?n.hasProtocol?t:"https://"+t:"https://";a({actual:t,safe:r,valid:n.isValid})}),[]),l=(0,Wr.useCallback)((()=>{const t=n.getOnlySelectedShape();t&&(n.updateShapes([{id:t.id,type:t.type,props:{url:""}}]),e())}),[n,e]),u=(0,Wr.useCallback)((()=>{const t=n.getOnlySelectedShape();t&&(t&&"url"in t.props&&t.props.url!==s.safe&&n.updateShapes([{id:t.id,type:t.type,props:{url:s.safe}}]),e())}),[n,e,s]),d=(0,Wr.useCallback)((()=>{e()}),[e]);if(!t)return e(),null;const h=o.current&&!s.valid;return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)(bg,{children:[(0,Vr.jsx)(xg,{children:r("edit-link-dialog.title")}),(0,Vr.jsx)(Og,{})]}),(0,Vr.jsx)(wg,{children:(0,Vr.jsxs)("div",{className:"tlui-edit-link-dialog",children:[(0,Vr.jsx)(kg,{ref:i,className:"tlui-edit-link-dialog__input",label:"edit-link-dialog.url",autofocus:!0,value:s.actual,onValueChange:c,onComplete:u,onCancel:d}),(0,Vr.jsx)("div",{children:s.valid?r("edit-link-dialog.detail"):r("edit-link-dialog.invalid-url")})]})}),(0,Vr.jsxs)(Sg,{className:"tlui-dialog__footer__actions",children:[(0,Vr.jsx)(Jm,{type:"normal",onClick:d,onTouchEnd:d,children:(0,Vr.jsx)(yg,{children:r("edit-link-dialog.cancel")})}),h?(0,Vr.jsx)(Jm,{type:"danger",onTouchEnd:l,onClick:l,children:(0,Vr.jsx)(yg,{children:r("edit-link-dialog.clear")})}):(0,Vr.jsx)(Jm,{type:"primary",disabled:!s.valid,onTouchEnd:u,onClick:u,children:(0,Vr.jsx)(yg,{children:r("edit-link-dialog.save")})})]})]})})),Cg=(0,s.u4)((function({onClose:e}){const t=Gr(),n=Km(),r=Um(),[i,o]=(0,Wr.useState)(null),[s,a]=(0,Wr.useState)(""),[c,l]=(0,Wr.useState)(null),[u,d]=(0,Wr.useState)(!1),h=(0,Wr.useRef)(-1);return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)(bg,{children:[(0,Vr.jsx)(xg,{children:i?`${n("embed-dialog.title")}  ${i.title}`:n("embed-dialog.title")}),(0,Vr.jsx)(Og,{})]}),i?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)(wg,{className:"tlui-embed-dialog__enter",children:[(0,Vr.jsx)(kg,{className:"tlui-embed-dialog__input",label:"embed-url",placeholder:"http://example.com",autofocus:!0,onValueChange:e=>{a(e);const t=Nd(e);l(t&&t.definition.type===i.type?t:null),d(!1),clearTimeout(h.current),h.current=setTimeout((()=>d(!t)),320)}}),""===s?(0,Vr.jsxs)("div",{className:"tlui-embed-dialog__instruction",children:[(0,Vr.jsx)("span",{children:n("embed-dialog.instruction")})," ",i.instructionLink&&(0,Vr.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",href:i.instructionLink,className:"tlui-embed-dialog__instruction__link",children:["Learn more.",(0,Vr.jsx)(eg,{icon:"external-link",small:!0})]})]}):(0,Vr.jsx)("div",{className:"tlui-embed-dialog__warning",children:u?n("embed-dialog.invalid-url"):""})]}),(0,Vr.jsxs)(Sg,{className:"tlui-dialog__footer__actions",children:[(0,Vr.jsx)(Jm,{type:"normal",onClick:()=>{o(null),l(null),a("")},children:(0,Vr.jsx)(yg,{children:n("embed-dialog.back")})}),(0,Vr.jsx)("div",{className:"tlui-embed__spacer"}),(0,Vr.jsx)(Jm,{type:"normal",onClick:e,children:(0,Vr.jsx)(yg,{children:n("embed-dialog.cancel")})}),(0,Vr.jsx)(Jm,{type:"primary",disabled:!c,onClick:()=>{c&&(t.putExternalContent({type:"embed",url:s,point:t.getViewportPageCenter(),embed:c.definition}),e())},children:(0,Vr.jsx)(yg,{children:n("embed-dialog.create")})})]})]}):(0,Vr.jsx)(Vr.Fragment,{children:(0,Vr.jsx)(wg,{className:"tlui-embed-dialog__list",children:lr.map((e=>(0,Vr.jsxs)(Jm,{type:"menu",onClick:()=>o(e),children:[(0,Vr.jsx)(yg,{children:e.title}),(0,Vr.jsx)("div",{className:"tlui-embed-dialog__item__image",style:{backgroundImage:`url(${r.embedIcons[e.type]})`}})]},e.type)))})})]})}));var Tg=n(52159);async function jg(e,t,n){const{elements:r,files:i}=t,o={shapes:[],rootShapeIds:[],assets:[],schema:e.store.schema.serialize()},s=new Map,a=new Map,c=e.getCurrentPageId(),l=new Map,d=[],h=new Set;r.forEach((e=>{if(l.set(e.id,Ln()),null!==e.boundElements)for(const t of e.boundElements)"text"===t.type&&h.add(t.id)}));let p=me;for(const e of r){if(h.has(e.id))continue;const t=l.get(e.id),n={id:t,typeName:"shape",parentId:c,index:p,x:e.x,y:e.y,rotation:0,isLocked:e.locked,opacity:Ig(e.opacity),meta:{}};switch(0!==e.angle&&a.set(t,e.angle),e.groupIds&&e.groupIds.length>0?s.has(e.groupIds[0])?s.get(e.groupIds[0])?.push(t):s.set(e.groupIds[0],[t]):d.push(t),e.type){case"rectangle":case"ellipse":case"diamond":{let t="",i="middle";if(null!==e.boundElements)for(const n of e.boundElements)if("text"===n.type){const e=r.find((e=>e.id===n.id));e&&(t=e.text,i=Qg[e.textAlign])}const s="transparent"===e.backgroundColor?e.strokeColor:e.backgroundColor;o.shapes.push({...n,type:"geo",props:{geo:e.type,url:e.link??"",w:e.width,h:e.height,size:Mg[e.strokeWidth]??"draw",color:Rg[s]??"black",text:t,align:i,dash:Bg(e),fill:Zg(e)}});break}case"freedraw":o.shapes.push({...n,type:"draw",props:{dash:Bg(e),size:Mg[e.strokeWidth],color:Rg[e.strokeColor]??"black",segments:[{type:"free",points:e.points.map((([e,t,n=.5])=>({x:e,y:t,z:n})))}]}});break;case"line":{const t=e.points[0],r=e.points[e.points.length-1],i=Se(e.points.length);o.shapes.push({...n,type:"line",props:{dash:Bg(e),size:Mg[e.strokeWidth],color:Rg[e.strokeColor]??"black",spline:e.roundness?"cubic":"line",handles:{start:{id:"start",type:"vertex",index:i[0],x:t[0],y:t[1]},end:{id:"end",type:"vertex",index:i[i.length-1],x:r[0],y:r[1]},...Object.fromEntries(e.points.slice(1,-1).map((([e,t],n)=>{const r=ta();return[r,{id:r,type:"vertex",index:i[n+1],x:e,y:t}]})))}}});break}case"arrow":{let t="";if(null!==e.boundElements)for(const n of e.boundElements)if("text"===n.type){const e=r.find((e=>e.id===n.id));e&&(t=e.text)}const i=e.points[0],s=e.points[e.points.length-1],a=l.get(e.startBinding?.elementId),c=l.get(e.endBinding?.elementId);o.shapes.push({...n,type:"arrow",props:{text:t,bend:Fg(e,i,s),dash:Bg(e),size:Mg[e.strokeWidth]??"m",color:Rg[e.strokeColor]??"black",start:a?{type:"binding",boundShapeId:a,normalizedAnchor:{x:.5,y:.5},isPrecise:!1,isExact:!1}:{type:"point",x:i[0],y:i[1]},end:c?{type:"binding",boundShapeId:c,normalizedAnchor:{x:.5,y:.5},isPrecise:!1,isExact:!1}:{type:"point",x:s[0],y:s[1]},arrowheadEnd:zg[e.endArrowhead]??"none",arrowheadStart:zg[e.startArrowhead]??"none"}});break}case"text":{const{size:t,scale:r}=Dg(e.fontSize);o.shapes.push({...n,type:"text",props:{size:t,scale:r,font:$g[e.fontFamily]??"draw",color:Rg[e.strokeColor]??"black",text:e.text,align:Qg[e.textAlign]}});break}case"image":{const t=i[e.fileId];if(!t)break;const r=Mn.createId();o.assets.push({id:r,typeName:"asset",type:"image",props:{w:e.width,h:e.height,name:e.id??"Untitled",isAnimated:!1,mimeType:t.mimeType,src:t.dataURL},meta:{}}),o.shapes.push({...n,type:"image",props:{w:e.width,h:e.height,assetId:r}})}}p=Oe(p)}const f=n??(e.inputs.shiftKey?e.inputs.currentPagePoint:void 0);e.mark("paste"),e.putContentOntoCurrentPage(o,{point:f,select:!1,preserveIds:!0});for(const t of s.values())if(t.length>1){e.groupShapes(t);const n=e.getShape(t[0]);n?.parentId&&Nn(n.parentId)&&d.push(n.parentId)}for(const[t,n]of a)e.select(t),e.rotateShapesBy([t],n);const m=u(d.map((t=>e.getShape(t)))),g=jo.Common(m.map((t=>e.getShapePageBounds(t)))),y=e.getViewportPageBounds().center;e.updateShapes(m.map((e=>{const t=(e.x??0)-(g.x+g.w/2),n=(e.y??0)-(g.y+g.h/2);return{id:e.id,type:e.type,x:y.x+t,y:y.y+n}}))),e.setSelectedShapes(d)}const Ig=e=>{const t=e/100;return t<.2?.1:t<.4?.25:t<.6?.5:t<.8?.75:1},Mg={1:"s",2:"m",3:"l",4:"xl"},Ag={16:"s",20:"m",28:"l",36:"xl"};function Dg(e){const t=Ag[e];return t?{size:t,scale:1}:e<16?{size:"s",scale:e/16}:e>36?{size:"xl",scale:e/36}:{size:"m",scale:1}}const $g={1:"draw",2:"sans",3:"mono"},Rg={"#ffffff":"grey","#000000":"black","#343a40":"black","#495057":"grey","#c92a2a":"red","#a61e4d":"light-red","#862e9c":"violet","#5f3dc4":"light-violet","#364fc7":"blue","#1864ab":"light-blue","#0b7285":"light-green","#087f5b":"light-green","#2b8a3e":"green","#5c940d":"light-green","#e67700":"yellow","#d9480f":"orange","#ced4da":"grey","#868e96":"grey","#fa5252":"light-red","#e64980":"red","#be4bdb":"light-violet","#7950f2":"violet","#4c6ef5":"blue","#228be6":"light-blue","#15aabf":"light-green","#12b886":"green","#40c057":"green","#82c91e":"light-green","#fab005":"yellow","#fd7e14":"orange","#212529":"grey"},Ng={solid:"draw",dashed:"dashed",dotted:"dotted"},Lg={"cross-hatch":"pattern",hachure:"pattern",solid:"solid"},Qg={left:"start",center:"middle",right:"end"},zg={arrow:"arrow",dot:"dot",triangle:"triangle",bar:"pipe"};function Fg(e,t,n){let r=0;if(e.points.length>2){const i=new ti(t[0],t[1]),o=new ti(n[0],n[1]),s=new ti(e.points[1][0],e.points[1][1]),a=ti.Sub(o,i),c=ti.Per(a),l=ti.Med(o,i),u=ti.Sub(l,c),d=ti.Add(l,c),h=ti.NearestPointOnLineSegment(u,d,s,!1);r=ti.Dist(h,l),ti.Clockwise(h,o,l)&&(r*=-1)}return r}const Bg=e=>{let t=Ng[e.strokeStyle]??"draw";return"draw"===t&&0===e.roughness&&(t="solid"),t},Zg=e=>"transparent"===e.backgroundColor?"none":Lg[e.fillStyle]??"solid";async function Vg(e,t,n,r){const i=(await Promise.all(t.map((async e=>await(await fetch(e)).blob())))).map((e=>new File([e],"tldrawFile",{type:e.type})));e.mark("paste"),await e.putExternalContent({type:"files",files:i,point:n,ignoreParent:!1,sources:r}),t.forEach((e=>URL.revokeObjectURL(e)))}function Wg(e,t,n){const r=n??(e.inputs.shiftKey?e.inputs.currentPagePoint:void 0),i=e.getSelectionPageBounds();e.mark("paste"),e.putContentOntoCurrentPage(t,{point:r,select:!0});const o=e.getSelectionPageBounds();i&&o&&i?.collides(o)&&(e.updateInstanceState({isChangingStyle:!0},{ephemeral:!0}),setTimeout((()=>{e.updateInstanceState({isChangingStyle:!1},{ephemeral:!0})}),150))}async function Ug(e,t,n,r){try{if(new URL(t).pathname.match(/\.(png|jpe?g|gif|svg|webp)$/i)){const n=await fetch(t,{method:"HEAD"});if(n.headers.get("content-type")?.match(/^image\//))return e.mark("paste"),void Vg(e,[t])}}catch(e){"Failed to fetch"!==e.message&&console.error(e)}return e.mark("paste"),await e.putExternalContent({type:"url",point:n,url:t,sources:r})}function qg(e){const t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=e.trim(),t.body.textContent||t.body.innerText||""}const Yg=["input","select","textarea"];function Xg(e){const{activeElement:t}=document;return e.getIsMenuOpen()||t&&(t.getAttribute("contenteditable")||Yg.indexOf(t.tagName.toLowerCase())>-1)}async function Hg(e){return new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("loadend",(()=>{const e=r.result;t(e)})),r.addEventListener("error",(()=>{n(r.error)})),r.readAsText(e)}))}const Gg=e=>e.types.find((e=>e.match(/^image\//))),Kg=(e,t,n,r)=>{const i=(e=>{const t=e.split(/[\n\s]/);for(const e of t)try{const t=new URL(e);if("http:"!==t.protocol&&"https:"!==t.protocol)return}catch(e){return}return Fo(t)})(t);if(i)for(const t of i)Ug(e,t,n);else(e=>{try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(e){return!1}})(t)?Ug(e,t,n):/^<svg/.test(t)?(e.mark("paste"),e.putExternalContent({type:"svg-text",text:t,point:n,sources:r})):(e.mark("paste"),e.putExternalContent({type:"text",text:t,point:n,sources:r}))},Jg=async(e,t,n)=>{if(null!==e.getEditingShapeId())return;if(!t)throw Error("No clipboard data");const r=[];for(const e of Object.values(t.items))switch(e.kind){case"file":r.push({type:"file",source:new Promise((t=>t(e.getAsFile())))});break;case"string":"text/html"===e.type?r.push({type:"html",source:new Promise((t=>e.getAsString(t)))}):"text/plain"===e.type?r.push({type:"text",source:new Promise((t=>e.getAsString(t)))}):r.push({type:e.type,source:new Promise((t=>e.getAsString(t)))})}ty(e,r,n)},ey=async(e,t,n)=>{const r=[];for(const e of t){if(Gg(e))for(const t of e.types)t.match(/^image\//)&&r.push({type:"blob",source:e.getType(t)});e.types.includes("text/html")&&r.push({type:"html",source:new Promise((t=>e.getType("text/html").then((e=>Hg(e).then(t)))))}),e.types.includes("text/uri-list")&&r.push({type:"url",source:new Promise((t=>e.getType("text/uri-list").then((e=>Hg(e).then(t)))))}),e.types.includes("text/plain")&&r.push({type:"text",source:new Promise((t=>e.getType("text/plain").then((e=>Hg(e).then(t)))))})}return await ty(e,r,n)};async function ty(e,t,n){const r=t.filter((e=>("file"===e.type||"blob"===e.type)&&null!==e.source));if(r.length){const t=await Promise.all(r.map((e=>e.source))),i=t.filter(Boolean).map((e=>URL.createObjectURL(e)));return await Vg(e,i,n)}const i=await Promise.all(t.filter((e=>"file"!==e.type)).map((e=>new Promise((t=>{const n=e;"file"!==n.type?n.source.then((e=>{const r=e.match(/<tldraw[^>]*>(.*)<\/tldraw>/)?.[1];if(r)try{const e=(0,Tg.decompressFromBase64)(r);if(null===e)return void t({type:"error",data:e,reason:"found tldraw data comment but could not parse base64"});{const n=JSON.parse(e);return"application/tldraw"!==n.type&&t({type:"error",data:n,reason:`found tldraw data comment but JSON was of a different type: ${n.type}`}),"string"==typeof n.data?void t({type:"error",data:n,reason:"found tldraw json but data was a string instead of a TLClipboardModel object"}):void t({type:"tldraw",data:n.data})}}catch(e){return void t({type:"error",data:r,reason:"found tldraw json but data was a string instead of a TLClipboardModel object"})}else{if("html"===n.type)return void t({type:"text",data:e,subtype:"html"});if("url"===n.type)return void t({type:"text",data:e,subtype:"url"});try{const n=JSON.parse(e);return"excalidraw/clipboard"===n.type?void t({type:"excalidraw",data:n}):void t({type:"text",data:e,subtype:"json"})}catch(n){return void t({type:"text",data:e,subtype:"text"})}}t({type:"error",data:e,reason:"unhandled case"})})):t({type:"error",data:null,reason:"unexpected file"})})))));for(const t of i)if("tldraw"===t.type)return void Wg(e,t.data,n);for(const t of i)if("excalidraw"===t.type)return void jg(e,t.data,n);for(const t of i)if("text"===t.type&&"html"===t.subtype){const r=(new DOMParser).parseFromString(t.data,"text/html").querySelector("body");if(r&&1===Array.from(r.children).filter((e=>1===e.nodeType)).length&&r.firstElementChild&&"A"===r.firstElementChild.tagName&&r.firstElementChild.hasAttribute("href")&&""!==r.firstElementChild.getAttribute("href")){const t=r.firstElementChild.getAttribute("href");return void Kg(e,t,n,i)}if(!i.some((e=>"text"===e.type&&"html"!==e.subtype))&&t.data.trim())return void Kg(e,qg(t.data),n,i)}for(const t of i)if("text"===t.type&&"url"===t.subtype)return void Ug(e,t.data,n,i);for(const t of i)if("text"===t.type&&"text"===t.subtype&&t.data.trim())return void Kg(e,t.data,n,i)}const ny=e=>{const t=e.getContentFromCurrentPage(e.getSelectedShapeIds());if(!t)return void(navigator&&navigator.clipboard&&navigator.clipboard.writeText(""));const n=(0,Tg.compressToBase64)(JSON.stringify({type:"application/tldraw",kind:"content",data:t}));if("undefined"!=typeof navigator){const r=t.shapes.map((t=>e.isShapeOfType(t,"text")||e.isShapeOfType(t,"geo")||e.isShapeOfType(t,"arrow")?t.props.text:e.isShapeOfType(t,"bookmark")||e.isShapeOfType(t,"embed")?t.props.url:null)).filter(Ee);if(navigator.clipboard?.write){const e=new Blob([`<tldraw>${n}</tldraw>`],{type:"text/html"});let t=r.join(" ");""===t&&(t=" "),navigator.clipboard.write([new ClipboardItem({"text/html":e,"text/plain":new Blob([t],{type:"text/plain"})})])}else navigator.clipboard.writeText&&navigator.clipboard.writeText(`<tldraw>${n}</tldraw>`)}};function ry(){const e=Gr(),t=sg(),n=(0,Wr.useCallback)((function(n){0!==e.getSelectedShapeIds().length&&(ny(e),t("copy",{source:n}))}),[e,t]),r=(0,Wr.useCallback)((function(n){0!==e.getSelectedShapeIds().length&&(ny(e),e.deleteShapes(e.getSelectedShapeIds()),t("cut",{source:n}))}),[e,t]),i=(0,Wr.useCallback)((async function(n,r,o){null!==e.getEditingShapeId()||Xg(e)||(Array.isArray(n)&&n[0]instanceof ClipboardItem?(ey(e,n,o),t("paste",{source:"menu"})):navigator.clipboard.read().then((e=>{i(e,r,o)})))}),[e,t]);return{copy:n,cut:r,paste:i}}function iy(){const e=Gr(),t=sg(),n=(0,s.h)("editor.isFocused",(()=>e.getInstanceState().isFocused),[e]);(0,Wr.useEffect)((()=>{if(!n)return;const r=()=>{0===e.getSelectedShapeIds().length||null!==e.getEditingShapeId()||Xg(e)||(ny(e),t("copy",{source:"kbd"}))};function i(){0===e.getSelectedShapeIds().length||null!==e.getEditingShapeId()||Xg(e)||(ny(e),e.deleteShapes(e.getSelectedShapeIds()),t("cut",{source:"kbd"}))}let o=!1;const s=e=>{1===e.button&&(o=!0,requestAnimationFrame((()=>{o=!1})))},a=n=>{o?n.stopPropagation():null!==e.getEditingShapeId()||Xg(e)||(n.clipboardData&&!e.inputs.shiftKey?Jg(e,n.clipboardData):navigator.clipboard.read().then((t=>{Array.isArray(t)&&t[0]instanceof ClipboardItem&&ey(e,t,e.inputs.currentPagePoint)})),t("paste",{source:"kbd"}))};return document.addEventListener("copy",r),document.addEventListener("cut",i),document.addEventListener("paste",a),document.addEventListener("pointerup",s),()=>{document.removeEventListener("copy",r),document.removeEventListener("cut",i),document.removeEventListener("paste",a),document.removeEventListener("pointerup",s)}}),[e,t,n])}async function oy(e,t,n){const{type:r,quality:i,scale:o}=n,s=+e.getAttribute("width"),a=+e.getAttribute("height");let[c,l]=await Cd(s*o,a*o);c=Math.floor(c),l=Math.floor(l);const u=c/s,d=await sy(e),h=URL.createObjectURL(new Blob([d],{type:"image/svg+xml"})),p=await new Promise((e=>{const n=new Image;n.crossOrigin="anonymous",n.onload=async()=>{t&&await new Promise((e=>setTimeout(e,250)));const r=document.createElement("canvas"),i=r.getContext("2d");r.width=c,r.height=l,i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(n,0,0,c,l),URL.revokeObjectURL(h),e(r)},n.onerror=()=>{e(null)},n.src=h}));if(!p)return null;const f=await new Promise((e=>p.toBlob((t=>{t&&!io.throwToBlob.get()||e(null),e(t)}),"image/"+r,i)));if(!f)return null;if("png"===r){const e=new DataView(await f.arrayBuffer());return D.setPhysChunk(e,u,{type:"image/"+r})}return f}async function sy(e){const t=e.cloneNode(!0);e.setAttribute("width",+e.getAttribute("width")+""),e.setAttribute("height",+e.getAttribute("height")+"");const n=new FileReader,r=Array.from(t.querySelectorAll("image"));for(const e of r){const t=e.getAttribute("xlink:href");if(t&&!t.startsWith("data:")){const r=await(await fetch(t)).blob(),i=await new Promise(((e,t)=>{n.onload=()=>e(n.result),n.onerror=()=>t(n.error),n.readAsDataURL(r)}));e.setAttribute("xlink:href",i)}}return(new XMLSerializer).serializeToString(t).replaceAll("&#10;      ","").replaceAll(/((\s|")[0-9]*\.[0-9]{2})([0-9]*)(\b|"|\))/g,"$1")}async function ay(e,t,n){const r=await e.getSvg(t?.length?t:[...e.getCurrentPageShapeIds()],{scale:1,background:e.getInstanceState().exportBackground,...n});if(!r)throw new Error("Could not construct SVG.");return r}async function cy(e,t,n,r={}){switch(n){case"svg":return sy(await ay(e,t,r));case"json":{const n=e.getContentFromCurrentPage(t);return JSON.stringify(n)}default:b(n)}}async function ly({editor:e,ids:t,format:n,opts:r={}}){switch(n){case"svg":return new Blob([await cy(e,t,"svg",r)],{type:"text/plain"});case"json":return new Blob([await cy(e,t,"json",r)],{type:"text/plain"});case"jpeg":case"png":case"webp":{const i=await oy(await ay(e,t,r),e.environment.isSafari,{type:n,quality:1,scale:2});if(!i)throw new Error("Could not construct image.");return i}default:b(n)}}const uy={jpeg:"image/jpeg",png:"image/png",webp:"image/webp",json:"text/plain",svg:"text/plain"};function dy(e,t,n="svg",r={}){if(!window.navigator.clipboard)return Promise.reject(new Error("Copy not supported"));if(window.navigator.clipboard.write){const{blobPromise:i,mimeType:o}=function(e,t,n,r={}){return{blobPromise:ly({editor:e,ids:t,format:n,opts:r}),mimeType:uy[n]}}(e,t,n,r);return window.navigator.clipboard.write([new ClipboardItem({[o]:i})]).catch((e=>(console.error(e),i.then((e=>window.navigator.clipboard.write([new ClipboardItem({[o]:e})]))))))}switch(n){case"json":case"svg":return async function(i){await(navigator.clipboard?.writeText?.(await(async()=>cy(e,t,n,r))()))}();case"jpeg":case"png":throw new Error("Copy not supported");default:b(n)}}const hy=(0,Wr.createContext)({});function py({children:e}){const[t,n]=(0,Wr.useState)([]),r=(0,Wr.useCallback)((e=>{const t=e.id??ta();return n((n=>[...n.filter((t=>t.id!==e.id)),{...e,id:t}])),t}),[]),i=(0,Wr.useCallback)((e=>(n((t=>t.filter((t=>t.id!==e)))),e)),[]),o=(0,Wr.useCallback)((()=>{n((()=>[]))}),[]);return(0,Vr.jsx)(hy.Provider,{value:{toasts:t,addToast:r,removeToast:i,clearToasts:o},children:e})}function fy(){const e=(0,Wr.useContext)(hy);if(!e)throw new Error("useToasts must be used within a ToastsProvider");return e}function my(){const e=Gr(),{addToast:t}=fy(),n=Km();return(0,Wr.useCallback)(((r,i="svg")=>{dy(e,r,i).catch((()=>{t({id:"copy-fail",icon:"warning-triangle",title:n("toast.error.copy-fail.title"),description:n("toast.error.copy-fail.desc")})}))}),[e,t,n])}async function gy(e,t,n="png",r,i={}){if(!r&&(r=`shapes at ${yy()}`,1===t.length)){const n=e.getShape(t[0]);r=e.isShapeOfType(n,"frame")?n.props.name??"frame":`${n.id.replace(/:/,"_")} at ${yy()}`}r+=`.${n}`;const o=await ly({editor:e,ids:t,format:n,opts:i});!function(e){const t=document.createElement("a"),n=URL.createObjectURL(e);t.href=n,t.download=e.name,t.click(),URL.revokeObjectURL(n)}(new File([o],r,{type:o.type}))}function yy(){const e=new Date;return`${String(e.getFullYear()).slice(2)}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}.${String(e.getMinutes()).padStart(2,"0")}.${String(e.getSeconds()).padStart(2,"0")}`}function vy(){const e=Gr(),{addToast:t}=fy(),n=Km();return(0,Wr.useCallback)(((r,i="png",o)=>{gy(e,r,i,o,{scale:1,background:e.getInstanceState().exportBackground}).catch((e=>{console.error(e.message),t({id:"export-fail",title:n("toast.error.export-fail.title"),description:n("toast.error.export-fail.desc")})}))}),[e,t,n])}function by(){const e=Gr(),t=(0,Wr.useRef)();return(0,Wr.useEffect)((()=>{const n=window.document.createElement("input");async function r(t){const r=t.target.files;r&&0!==r.length&&(await e.putExternalContent({type:"files",files:Array.from(r),point:e.getViewportPageBounds().center,ignoreParent:!1}),n.value="")}return n.type="file",n.accept="image/jpeg,image/png,image/gif,image/svg+xml,video/mp4,video/quicktime",n.multiple=!0,t.current=n,n.addEventListener("change",r),()=>{t.current=void 0,n.removeEventListener("change",r)}}),[e]),(0,Wr.useCallback)((()=>{t.current?.click()}),[t])}const xy=(0,Wr.createContext)({});function Oy({children:e}){const t=Gr(),n=sg(),[r,i]=(0,Wr.useState)([]),o=(0,Wr.useCallback)((e=>{const r=e.id??ta();return i((t=>[...t.filter((t=>t.id!==e.id)),{...e,id:r}])),n("open-menu",{source:"dialog",id:r}),t.addOpenMenu(r),r}),[t,n]),s=(0,Wr.useCallback)(((e,r)=>(i((t=>t.map((t=>t.id===e?{...t,...r}:t)))),n("open-menu",{source:"dialog",id:e}),t.addOpenMenu(e),e)),[t,n]),a=(0,Wr.useCallback)((e=>(i((t=>t.filter((t=>t.id!==e||(t.onClose?.(),!1))))),n("close-menu",{source:"dialog",id:e}),t.deleteOpenMenu(e),e)),[t,n]),c=(0,Wr.useCallback)((()=>{i((e=>(e.forEach((e=>{e.onClose?.(),n("close-menu",{source:"dialog",id:e.id}),t.deleteOpenMenu(e.id)})),[])))}),[t,n]);return(0,Vr.jsx)(xy.Provider,{value:{dialogs:r,addDialog:o,removeDialog:a,clearDialogs:c,updateDialog:s},children:e})}function wy(){const e=(0,Wr.useContext)(xy);if(!e)throw new Error("useDialogs must be used within a DialogsProvider");return e}const Sy=Wr.createContext({});function ky(e,t){if(0===e.getSelectedShapes().length)return e.getDocumentSettings().name||t}function _y({overrides:e,children:t}){const n=Gr(),{addDialog:r,clearDialogs:i}=wy(),{clearToasts:o}=fy(),s=Km(),a=by(),c=function(){const e=Gr(),t=(0,Wr.useRef)(null),n=(0,Wr.useRef)(null);return(0,Wr.useCallback)((async function(){const r=document.createElement("div"),i=document.createElement("style"),o=(e,t)=>{e&&(e.innerHTML=""),t&&document.head.contains(t)&&document.head.removeChild(t),e&&document.body.contains(e)&&document.body.removeChild(e)};o(t.current,n.current),t.current=r,n.current=i;const s=`tl-print-surface-${ta()}`;r.className=s,i.innerHTML=`\n\t\t\t.${s} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t.${s} svg {\n\t\t\t\tmax-width: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\n\t\t\t@media print {\t\t\t\t  \n\t\t\t\thtml, body {\n\t\t\t\t\tmin-height: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tmargin: 0;\n\t\t\t\t}\n\n\t\t\t\tbody {\n\t\t\t\t\tposition: relative;\n\t\t\t\t}\n\n\t\t\t\tbody > * {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t.tldraw__editor {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t.${s} {\n\t\t\t\t\tdisplay: block !important;\n\t\t\t\t\tbackground: white;\n\t\t\t\t\tmin-height: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tmax-width: 100%;\n\t\t\t\t}\n\n\t\t\t\t.${s}__item {\n\t\t\t\t\tpadding: 10mm;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tmin-height: 100%;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tpage-break-after: always;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\theight: 100%;\n\t\t\t\t}\n\n\t\t\t\t.${s}__item__main {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tmax-height: 100%;\n\t\t\t\t}\n\n\t\t\t\t.${s}__item__header {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t.${s}__item__footer {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t\ttext-align: right;\n\t\t\t\t}\n\n\t\t\t\t.${s}__item__footer__hide {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t\n\t\t\t}\n\n\t\t`;const a=()=>{document.head.appendChild(i),document.body.appendChild(r)},c=()=>{e.once("change-history",(()=>{o(r,i)}))};function l(e,t,n){try{r.innerHTML+=`<div class="${s}__item">\n        <div class="${s}__item__header">\n          ${e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}\n        </div>\n        <div class="${s}__item__main">\n          ${n.outerHTML}\n        </div>\n        <div class="${s}__item__footer ${s}__item__footer__${t?"":"hide"}">\n          ${t??""}\n        </div>\n      </div>`}catch(e){console.error(e)}}function u(){e.environment.isChromeForIos?(a(),window.print()):e.environment.isSafari?(a(),document.execCommand("print",!1)):window.print()}window.addEventListener("beforeprint",a),window.addEventListener("afterprint",c);const d=e.getSelectedShapeIds(),h=e.getCurrentPageId(),p=e.getPages(),f={scale:1,background:!1,darkMode:!1,preserveAspectRatio:"xMidYMid meet"};if(e.getSelectedShapeIds().length>0){const t=await e.getSvg(d,f);if(t){const e=p.find((e=>e.id===h));l(`tldraw  ${e?.name}`,null,t),u()}}else{const t=e.getCurrentPage(),n=await e.getSvg(e.getSortedChildIdsForParent(t.id),f);n&&(l(`tldraw  ${t.name}`,null,n),u())}window.removeEventListener("beforeprint",a),window.removeEventListener("afterprint",c)}),[e])}(),{cut:l,copy:d,paste:h}=ry(),p=my(),f=vy(),m=s("document.default-name"),g=sg(),y=Wr.useMemo((()=>{function t(){return n.isIn("select")||(n.complete(),n.setCurrentTool("select")),!1}function y(){return n.isIn("select")&&n.getSelectedShapeIds().length>0}const v=function(e){return Object.fromEntries(e.map((e=>[e.id,e])))}([{id:"edit-link",label:"action.edit-link",icon:"link",onSelect(e){y()&&(t()||(g("edit-link",{source:e}),n.mark("edit-link"),r({component:Pg})))}},{id:"insert-embed",label:"action.insert-embed",kbd:"$i",onSelect(e){g("insert-embed",{source:e}),r({component:Cg})}},{id:"insert-media",label:"action.insert-media",kbd:"$u",onSelect(e){g("insert-media",{source:e}),a()}},{id:"undo",label:"action.undo",icon:"undo",kbd:"$z",onSelect(e){g("undo",{source:e}),n.undo()}},{id:"redo",label:"action.redo",icon:"redo",kbd:"$!z",onSelect(e){g("redo",{source:e}),n.redo()}},{id:"export-as-svg",label:{default:"action.export-as-svg",menu:"action.export-as-svg.short","context-menu":"action.export-as-svg.short"},readonlyOk:!0,onSelect(e){g("export-as",{format:"svg",source:e}),f(n.getSelectedShapeIds(),"svg",ky(n,m))}},{id:"export-as-png",label:{default:"action.export-as-png",menu:"action.export-as-png.short","context-menu":"action.export-as-png.short"},readonlyOk:!0,onSelect(e){g("export-as",{format:"png",source:e}),f(n.getSelectedShapeIds(),"png",ky(n,m))}},{id:"export-as-json",label:{default:"action.export-as-json",menu:"action.export-as-json.short","context-menu":"action.export-as-json.short"},readonlyOk:!0,onSelect(e){g("export-as",{format:"json",source:e}),f(n.getSelectedShapeIds(),"json",ky(n,m))}},{id:"export-all-as-svg",label:{default:"action.export-all-as-svg",menu:"action.export-all-as-svg.short","context-menu":"action.export-all-as-svg.short"},readonlyOk:!0,onSelect(e){g("export-all-as",{format:"svg",source:e}),f(Array.from(n.getCurrentPageShapeIds()),"svg",ky(n,m))}},{id:"export-all-as-png",label:{default:"action.export-all-as-png",menu:"action.export-all-as-png.short","context-menu":"action.export-all-as-png.short"},readonlyOk:!0,onSelect(e){g("export-all-as",{format:"png",source:e}),f(Array.from(n.getCurrentPageShapeIds()),"png",ky(n,m))}},{id:"export-all-as-json",label:{default:"action.export-all-as-json",menu:"action.export-all-as-json.short","context-menu":"action.export-all-as-json.short"},readonlyOk:!0,onSelect(e){g("export-all-as",{format:"json",source:e}),f(Array.from(n.getCurrentPageShapeIds()),"json",ky(n,m))}},{id:"copy-as-svg",label:{default:"action.copy-as-svg",menu:"action.copy-as-svg.short","context-menu":"action.copy-as-svg.short"},kbd:"$!c",readonlyOk:!0,onSelect(e){g("copy-as",{format:"svg",source:e}),p(n.getSelectedShapeIds(),"svg")}},{id:"copy-as-png",label:{default:"action.copy-as-png",menu:"action.copy-as-png.short","context-menu":"action.copy-as-png.short"},readonlyOk:!0,onSelect(e){g("copy-as",{format:"png",source:e}),p(n.getSelectedShapeIds(),"png")}},{id:"copy-as-json",label:{default:"action.copy-as-json",menu:"action.copy-as-json.short","context-menu":"action.copy-as-json.short"},readonlyOk:!0,onSelect(e){g("copy-as",{format:"json",source:e}),p(n.getSelectedShapeIds(),"json")}},{id:"toggle-auto-size",label:"action.toggle-auto-size",onSelect(e){y()&&(t()||(g("toggle-auto-size",{source:e}),n.mark("toggling auto size"),n.updateShapes(n.getSelectedShapes().filter((e=>n.isShapeOfType(e,"text")&&!1===e.props.autoSize)).map((e=>({id:e.id,type:e.type,props:{...e.props,w:8,autoSize:!0}}))))))}},{id:"open-embed-link",label:"action.open-embed-link",readonlyOk:!0,onSelect(e){g("open-embed-link",{source:e});const t=n.getSelectedShapeIds(),r="No embed shapes selected";if(1!==t.length)return void console.error(r);const i=n.getShape(t[0]);i&&n.isShapeOfType(i,"embed")?_u(i.props.url,"_blank"):console.error(r)}},{id:"select-zoom-tool",readonlyOk:!0,kbd:"z",onSelect(e){if("zoom"!==n.root.getCurrent()?.id&&(g("zoom-tool",{source:e}),!n.inputs.shiftKey&&!n.inputs.ctrlKey)){const e=n.root.getCurrent();e&&"idle"===e.getCurrent()?.id&&n.setCurrentTool("zoom",{onInteractionEnd:e.id,maskAs:"zoom"})}}},{id:"convert-to-bookmark",label:"action.convert-to-bookmark",onSelect(e){y()&&(t()||n.batch((()=>{g("convert-to-bookmark",{source:e});const t=n.getSelectedShapes(),r=[],i=[];for(const e of t){if(!e||!n.isShapeOfType(e,"embed")||!e.props.url)continue;const t=new ti(e.x,e.y);t.rot(-e.rotation),t.add(new ti(e.props.w/2-150,e.props.h/2-160)),t.rot(e.rotation);const o={id:Ln(),type:"bookmark",rotation:e.rotation,x:t.x,y:t.y,opacity:1,props:{url:e.props.url}};r.push(o),i.push(e.id)}n.mark("convert shapes to bookmark"),n.deleteShapes(i),n.createShapes(r)})))}},{id:"convert-to-embed",label:"action.convert-to-embed",onSelect(e){y()&&(t()||(g("convert-to-embed",{source:e}),n.batch((()=>{const e=u(n.getSelectedShapeIds().map((e=>n.getShape(e)))),t=[],r=[];for(const i of e){if(!n.isShapeOfType(i,"bookmark"))continue;const{url:e}=i.props,o=Nd(i.props.url);if(!o)continue;if(!o.definition)continue;const{width:s,height:a}=o.definition,c=new ti(i.x,i.y);c.rot(-i.rotation),c.add(new ti(i.props.w/2-s/2,i.props.h/2-a/2)),c.rot(i.rotation);const l={id:Ln(),type:"embed",x:c.x,y:c.y,rotation:i.rotation,props:{url:e,w:s,h:a}};t.push(l),r.push(i.id)}n.mark("convert shapes to embed"),n.deleteShapes(r),n.createShapes(t)}))))}},{id:"duplicate",kbd:"$d",label:"action.duplicate",icon:"duplicate",onSelect(e){if(!y())return;if(t())return;g("duplicate-shapes",{source:e});const r=n.getInstanceState();let i,o;if(r.duplicateProps)i=r.duplicateProps.shapeIds,o=r.duplicateProps.offset;else{i=n.getSelectedShapeIds();const e=jo.Common(u(i.map((e=>n.getShapePageBounds(e)))));o=r.canMoveCamera?{x:e.width+10,y:0}:{x:16/n.getZoomLevel(),y:16/n.getZoomLevel()}}n.mark("duplicate shapes"),n.duplicateShapes(i,o),r.duplicateProps&&n.updateInstanceState({duplicateProps:{...r.duplicateProps,shapeIds:n.getSelectedShapeIds()}})}},{id:"ungroup",label:"action.ungroup",kbd:"$!g",icon:"ungroup",onSelect(e){y()&&(t()||(g("ungroup-shapes",{source:e}),n.mark("ungroup"),n.ungroupShapes(n.getSelectedShapeIds())))}},{id:"group",label:"action.group",kbd:"$g",icon:"group",onSelect(e){if(!y())return;if(t())return;g("group-shapes",{source:e});const r=n.getOnlySelectedShape();r&&n.isShapeOfType(r,"group")?(n.mark("ungroup"),n.ungroupShapes(n.getSelectedShapeIds())):(n.mark("group"),n.groupShapes(n.getSelectedShapeIds()))}},{id:"remove-frame",label:"action.remove-frame",kbd:"$!f",onSelect(e){if(!y())return;g("remove-frame",{source:e});const t=n.getSelectedShapes();t.length>0&&t.every((e=>n.isShapeOfType(e,"frame")))&&(n.mark("remove-frame"),fg(n,t.map((e=>e.id))))}},{id:"fit-frame-to-content",label:"action.fit-frame-to-content",onSelect(e){if(!y())return;g("fit-frame-to-content",{source:e});const t=n.getOnlySelectedShape();t&&n.isShapeOfType(t,"frame")&&(n.mark("fit-frame-to-content"),gg(n,t.id))}},{id:"align-left",label:"action.align-left",kbd:"?A",icon:"align-left",onSelect(e){y()&&(t()||(g("align-shapes",{operation:"left",source:e}),n.mark("align left"),n.alignShapes(n.getSelectedShapeIds(),"left")))}},{id:"align-center-horizontal",label:{default:"action.align-center-horizontal","context-menu":"action.align-center-horizontal.short"},kbd:"?H",icon:"align-center-horizontal",onSelect(e){y()&&(t()||(g("align-shapes",{operation:"center-horizontal",source:e}),n.mark("align center horizontal"),n.alignShapes(n.getSelectedShapeIds(),"center-horizontal")))}},{id:"align-right",label:"action.align-right",kbd:"?D",icon:"align-right",onSelect(e){y()&&(t()||(g("align-shapes",{operation:"right",source:e}),n.mark("align right"),n.alignShapes(n.getSelectedShapeIds(),"right")))}},{id:"align-center-vertical",label:{default:"action.align-center-vertical","context-menu":"action.align-center-vertical.short"},kbd:"?V",icon:"align-center-vertical",onSelect(e){y()&&(t()||(g("align-shapes",{operation:"center-vertical",source:e}),n.mark("align center vertical"),n.alignShapes(n.getSelectedShapeIds(),"center-vertical")))}},{id:"align-top",label:"action.align-top",icon:"align-top",kbd:"?W",onSelect(e){y()&&(t()||(g("align-shapes",{operation:"top",source:e}),n.mark("align top"),n.alignShapes(n.getSelectedShapeIds(),"top")))}},{id:"align-bottom",label:"action.align-bottom",icon:"align-bottom",kbd:"?S",onSelect(e){y()&&(t()||(g("align-shapes",{operation:"bottom",source:e}),n.mark("align bottom"),n.alignShapes(n.getSelectedShapeIds(),"bottom")))}},{id:"distribute-horizontal",label:{default:"action.distribute-horizontal","context-menu":"action.distribute-horizontal.short"},icon:"distribute-horizontal",kbd:"?!h",onSelect(e){y()&&(t()||(g("distribute-shapes",{operation:"horizontal",source:e}),n.mark("distribute horizontal"),n.distributeShapes(n.getSelectedShapeIds(),"horizontal")))}},{id:"distribute-vertical",label:{default:"action.distribute-vertical","context-menu":"action.distribute-vertical.short"},icon:"distribute-vertical",kbd:"?!V",onSelect(e){y()&&(t()||(g("distribute-shapes",{operation:"vertical",source:e}),n.mark("distribute vertical"),n.distributeShapes(n.getSelectedShapeIds(),"vertical")))}},{id:"stretch-horizontal",label:{default:"action.stretch-horizontal","context-menu":"action.stretch-horizontal.short"},icon:"stretch-horizontal",onSelect(e){y()&&(t()||(g("stretch-shapes",{operation:"horizontal",source:e}),n.mark("stretch horizontal"),n.stretchShapes(n.getSelectedShapeIds(),"horizontal")))}},{id:"stretch-vertical",label:{default:"action.stretch-vertical","context-menu":"action.stretch-vertical.short"},icon:"stretch-vertical",onSelect(e){y()&&(t()||(g("stretch-shapes",{operation:"vertical",source:e}),n.mark("stretch vertical"),n.stretchShapes(n.getSelectedShapeIds(),"vertical")))}},{id:"flip-horizontal",label:{default:"action.flip-horizontal","context-menu":"action.flip-horizontal.short"},kbd:"!h",onSelect(e){y()&&(t()||(g("flip-shapes",{operation:"horizontal",source:e}),n.mark("flip horizontal"),n.flipShapes(n.getSelectedShapeIds(),"horizontal")))}},{id:"flip-vertical",label:{default:"action.flip-vertical","context-menu":"action.flip-vertical.short"},kbd:"!v",onSelect(e){y()&&(t()||(g("flip-shapes",{operation:"vertical",source:e}),n.mark("flip vertical"),n.flipShapes(n.getSelectedShapeIds(),"vertical")))}},{id:"pack",label:"action.pack",icon:"pack",onSelect(e){y()&&(t()||(g("pack-shapes",{source:e}),n.mark("pack"),n.packShapes(n.getSelectedShapeIds(),16)))}},{id:"stack-vertical",label:{default:"action.stack-vertical","context-menu":"action.stack-vertical.short"},icon:"stack-vertical",onSelect(e){y()&&(t()||(g("stack-shapes",{operation:"vertical",source:e}),n.mark("stack-vertical"),n.stackShapes(n.getSelectedShapeIds(),"vertical",16)))}},{id:"stack-horizontal",label:{default:"action.stack-horizontal","context-menu":"action.stack-horizontal.short"},icon:"stack-horizontal",onSelect(e){y()&&(t()||(g("stack-shapes",{operation:"horizontal",source:e}),n.mark("stack-horizontal"),n.stackShapes(n.getSelectedShapeIds(),"horizontal",16)))}},{id:"bring-to-front",label:"action.bring-to-front",kbd:"]",icon:"bring-to-front",onSelect(e){y()&&(t()||(g("reorder-shapes",{operation:"toFront",source:e}),n.mark("bring to front"),n.bringToFront(n.getSelectedShapeIds())))}},{id:"bring-forward",label:"action.bring-forward",icon:"bring-forward",kbd:"?]",onSelect(e){y()&&(t()||(g("reorder-shapes",{operation:"forward",source:e}),n.mark("bring forward"),n.bringForward(n.getSelectedShapeIds())))}},{id:"send-backward",label:"action.send-backward",icon:"send-backward",kbd:"?[",onSelect(e){y()&&(t()||(g("reorder-shapes",{operation:"backward",source:e}),n.mark("send backward"),n.sendBackward(n.getSelectedShapeIds())))}},{id:"send-to-back",label:"action.send-to-back",icon:"send-to-back",kbd:"[",onSelect(e){y()&&(t()||(g("reorder-shapes",{operation:"toBack",source:e}),n.mark("send to back"),n.sendToBack(n.getSelectedShapeIds())))}},{id:"cut",label:"action.cut",kbd:"$x",onSelect(e){y()&&(t()||(n.mark("cut"),l(e)))}},{id:"copy",label:"action.copy",kbd:"$c",readonlyOk:!0,onSelect(e){y()&&(t()||d(e))}},{id:"paste",label:"action.paste",kbd:"$v",onSelect(e){navigator.clipboard?.read().then((t=>{h(t,e,"context-menu"===e?n.inputs.currentPagePoint:void 0)}))}},{id:"select-all",label:"action.select-all",kbd:"$a",readonlyOk:!0,onSelect(e){n.batch((()=>{t()||(g("select-all-shapes",{source:e}),n.mark("select all kbd"),n.selectAll())}))}},{id:"select-none",label:"action.select-none",readonlyOk:!0,onSelect(e){y()&&(t()||(g("select-none-shapes",{source:e}),n.mark("select none"),n.selectNone()))}},{id:"delete",label:"action.delete",kbd:",del,backspace",icon:"trash",onSelect(e){y()&&(t()||(g("delete-shapes",{source:e}),n.mark("delete"),n.deleteShapes(n.getSelectedShapeIds())))}},{id:"rotate-cw",label:"action.rotate-cw",icon:"rotate-cw",onSelect(e){if(!y())return;if(t())return;g("rotate-cw",{source:e}),n.mark("rotate-cw");const r=n.getSelectionRotation()%(si/2),i=di(r,0)||di(r,si/2);n.rotateShapesBy(n.getSelectedShapeIds(),si/2-(i?0:r))}},{id:"rotate-ccw",label:"action.rotate-ccw",icon:"rotate-ccw",onSelect(e){if(!y())return;if(t())return;g("rotate-ccw",{source:e}),n.mark("rotate-ccw");const r=n.getSelectionRotation()%(si/2),i=di(r,0);n.rotateShapesBy(n.getSelectedShapeIds(),i?-si/2:-r)}},{id:"zoom-in",label:"action.zoom-in",kbd:"$=,=",readonlyOk:!0,onSelect(e){g("zoom-in",{source:e}),n.zoomIn(n.getViewportScreenCenter(),{duration:Li})}},{id:"zoom-out",label:"action.zoom-out",kbd:"$-,-",readonlyOk:!0,onSelect(e){g("zoom-out",{source:e}),n.zoomOut(n.getViewportScreenCenter(),{duration:Li})}},{id:"zoom-to-100",label:"action.zoom-to-100",icon:"reset-zoom",kbd:"!0",readonlyOk:!0,onSelect(e){g("reset-zoom",{source:e}),n.resetZoom(n.getViewportScreenCenter(),{duration:Li})}},{id:"zoom-to-fit",label:"action.zoom-to-fit",kbd:"!1",readonlyOk:!0,onSelect(e){g("zoom-to-fit",{source:e}),n.zoomToFit({duration:Li})}},{id:"zoom-to-selection",label:"action.zoom-to-selection",kbd:"!2",readonlyOk:!0,onSelect(e){y()&&(t()||(g("zoom-to-selection",{source:e}),n.zoomToSelection({duration:Li})))}},{id:"toggle-snap-mode",label:{default:"action.toggle-snap-mode",menu:"action.toggle-snap-mode.menu"},onSelect(e){g("toggle-snap-mode",{source:e}),n.user.updateUserPreferences({isSnapMode:!n.user.getIsSnapMode()})},checkbox:!0},{id:"toggle-dark-mode",label:{default:"action.toggle-dark-mode",menu:"action.toggle-dark-mode.menu"},kbd:"$/",readonlyOk:!0,onSelect(e){g("toggle-dark-mode",{source:e}),n.user.updateUserPreferences({isDarkMode:!n.user.getIsDarkMode()})},checkbox:!0},{id:"toggle-wrap-mode",label:{default:"action.toggle-wrap-mode",menu:"action.toggle-wrap-mode.menu"},readonlyOk:!0,onSelect(e){g("toggle-wrap-mode",{source:e}),n.user.updateUserPreferences({isWrapMode:!n.user.getIsWrapMode()})},checkbox:!0},{id:"toggle-reduce-motion",label:{default:"action.toggle-reduce-motion",menu:"action.toggle-reduce-motion.menu"},readonlyOk:!0,onSelect(e){g("toggle-reduce-motion",{source:e}),n.user.updateUserPreferences({animationSpeed:0===n.user.getAnimationSpeed()?1:0})},checkbox:!0},{id:"toggle-edge-scrolling",label:{default:"action.toggle-edge-scrolling",menu:"action.toggle-edge-scrolling.menu"},readonlyOk:!0,onSelect(e){g("toggle-edge-scrolling",{source:e}),n.user.updateUserPreferences({edgeScrollSpeed:0===n.user.getEdgeScrollSpeed()?1:0})},checkbox:!0},{id:"toggle-transparent",label:{default:"action.toggle-transparent",menu:"action.toggle-transparent.menu","context-menu":"action.toggle-transparent.context-menu"},readonlyOk:!0,onSelect(e){g("toggle-transparent",{source:e}),n.updateInstanceState({exportBackground:!n.getInstanceState().exportBackground},{ephemeral:!0})},checkbox:!0},{id:"toggle-tool-lock",label:{default:"action.toggle-tool-lock",menu:"action.toggle-tool-lock.menu"},kbd:"q",onSelect(e){g("toggle-tool-lock",{source:e}),n.updateInstanceState({isToolLocked:!n.getInstanceState().isToolLocked})},checkbox:!0},{id:"unlock-all",label:"action.unlock-all",onSelect(e){g("unlock-all",{source:e});const t=[];for(const e of n.getCurrentPageShapes())e.isLocked&&t.push({id:e.id,type:e.type,isLocked:!1});t.length>0&&n.updateShapes(t)}},{id:"toggle-focus-mode",label:{default:"action.toggle-focus-mode",menu:"action.toggle-focus-mode.menu"},readonlyOk:!0,kbd:"$.",checkbox:!0,onSelect(e){requestAnimationFrame((()=>{n.batch((()=>{g("toggle-focus-mode",{source:e}),i(),o(),n.updateInstanceState({isFocusMode:!n.getInstanceState().isFocusMode})}))}))}},{id:"toggle-grid",label:{default:"action.toggle-grid",menu:"action.toggle-grid.menu"},readonlyOk:!0,kbd:"$'",onSelect(e){g("toggle-grid-mode",{source:e}),n.updateInstanceState({isGridMode:!n.getInstanceState().isGridMode})},checkbox:!0},{id:"toggle-debug-mode",label:{default:"action.toggle-debug-mode",menu:"action.toggle-debug-mode.menu"},readonlyOk:!0,onSelect(e){g("toggle-debug-mode",{source:e}),n.updateInstanceState({isDebugMode:!n.getInstanceState().isDebugMode})},checkbox:!0},{id:"print",label:"action.print",kbd:"$p",readonlyOk:!0,onSelect(e){g("print",{source:e}),c()}},{id:"exit-pen-mode",label:"action.exit-pen-mode",icon:"cross-2",readonlyOk:!0,onSelect(e){g("exit-pen-mode",{source:e}),n.updateInstanceState({isPenMode:!1})}},{id:"stop-following",label:"action.stop-following",icon:"cross-2",readonlyOk:!0,onSelect(e){g("stop-following",{source:e}),n.stopFollowingUser()}},{id:"back-to-content",label:"action.back-to-content",icon:"arrow-left",readonlyOk:!0,onSelect(e){g("zoom-to-content",{source:e}),n.zoomToContent()}},{id:"toggle-lock",label:"action.toggle-lock",kbd:"!l",onSelect(e){n.mark("locking"),g("toggle-lock",{source:e}),n.toggleLock(n.getSelectedShapeIds())}},{id:"new-page",label:"context.pages.new-page",onSelect(e){const t=nn.createId(),r=n.getSelectedShapeIds();n.batch((()=>{n.mark("move_shapes_to_page"),n.createPage({name:s("page-menu.new-page-initial-name"),id:t}),n.moveShapesToPage(r,t)})),g("new-page",{source:e})}}]);return e?e(n,v,void 0):v}),[n,g,e,r,a,f,p,l,d,h,i,o,c,s,m]);return(0,Vr.jsx)(Sy.Provider,{value:y,children:t})}function Py(){const e=Wr.useContext(Sy);if(!e)throw new Error("useTools must be used within a ToolProvider");return e}function Ey(e,t){return e?"string"==typeof e?e:t?e[t]??e.default:void 0:void 0}var Cy=n(39872);const Ty="undefined"!=typeof window&&window.navigator.userAgent.toLowerCase().indexOf("mac")>-1,jy=Ty?"":"Ctrl",Iy=Ty?"":"Alt";function My(e){return e.split(",")[0].split("").map((e=>{const t=e.replace(/\$/g,jy).replace(/\?/g,Iy).replace(/!/g,"");return t[0].toUpperCase()+t.slice(1)}))}function Ay(e){return" "+My(e).join("")}function Dy(e){return(0,Vr.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",...e,children:(0,Vr.jsxs)("g",{strokeWidth:2,fill:"none",fillRule:"evenodd",children:[(0,Vr.jsx)("circle",{strokeOpacity:.25,cx:8,cy:8,r:7,stroke:"currentColor"}),(0,Vr.jsx)("path",{strokeLinecap:"round",d:"M15 8c0-4.5-4.5-7-7-7",stroke:"currentColor",children:(0,Vr.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"})})]})})}var $y=n(35890);function Ry({id:e,children:t,modal:n=!1,debugOpen:r=!1}){const[i,o]=ag(e);return(0,Vr.jsx)($y.bL,{open:r||i,dir:"ltr",modal:n,onOpenChange:o,children:t})}function Ny({children:e,...t}){return(0,Vr.jsx)($y.l9,{dir:"ltr",asChild:!0,onTouchEnd:e=>co(e),...t,children:e})}function Ly({side:e="bottom",align:t="start",sideOffset:n=8,alignOffset:r=8,children:i}){const o=go();return(0,Vr.jsx)($y.ZL,{container:o,children:(0,Vr.jsx)($y.UC,{className:"tlui-menu",side:e,sideOffset:n,align:t,alignOffset:r,collisionPadding:4,children:i})})}function Qy({id:e,children:t}){const[n,r]=ag(e);return(0,Vr.jsx)($y.Pb,{open:n,onOpenChange:r,children:t})}function zy({id:e,label:t,title:n,disabled:r}){return(0,Vr.jsx)($y.ZP,{dir:"ltr",asChild:!0,disabled:r,children:(0,Vr.jsxs)(Jm,{"data-testid":e,type:"menu",className:"tlui-menu__submenu__trigger",disabled:r,title:n,children:[(0,Vr.jsx)(yg,{children:t}),(0,Vr.jsx)(tg,{icon:"chevron-right",small:!0})]})})}function Fy({id:e,alignOffset:t=-1,sideOffset:n=-4,size:r="small",children:i}){const o=go();return(0,Vr.jsx)($y.ZL,{container:o,children:(0,Vr.jsx)($y.G5,{"data-testid":e,className:"tlui-menu tlui-menu__submenu__content",alignOffset:t,sideOffset:n,collisionPadding:4,"data-size":r,children:i})})}function By({children:e}){return(0,Vr.jsx)($y.YJ,{dir:"ltr",className:"tlui-menu__group",children:e})}function Zy(){return(0,Vr.jsx)($y.VF,{dir:"ltr",asChild:!0,children:(0,Vr.jsx)(eg,{icon:"check"})})}function Vy({noClose:e,children:t}){return(0,Vr.jsx)($y.q7,{dir:"ltr",asChild:!0,onClick:e?co:void 0,children:t})}function Wy({children:e,onSelect:t,...n}){return(0,Vr.jsxs)($y.H_,{dir:"ltr",className:"tlui-button tlui-button__menu tlui-button__checkbox",onSelect:e=>{t?.(e),co(e)},...n,children:[(0,Vr.jsx)("div",{className:"tlui-button__checkbox__indicator",children:(0,Vr.jsx)($y.VF,{dir:"ltr",children:(0,Vr.jsx)(eg,{icon:"check",small:!0})})}),e]})}function Uy({children:e,visibleOnMobileLayout:t=!1}){const n=Zm();return!t&&n<zm.MOBILE?null:(0,Vr.jsx)("kbd",{className:"tlui-kbd",children:My(e).map(((e,t)=>(0,Vr.jsx)("span",{children:e},t)))})}function qy({disabled:e=!1,spinner:t=!1,readonlyOk:n=!1,id:r,kbd:i,label:o,icon:s,onSelect:a,noClose:c}){const{type:l,sourceId:u}=hg(),d=Km(),[h,p]=(0,Wr.useState)(!1);if(Yu()&&!n)return null;const f=Ey(o,l),m=i?Ay(i):void 0,g=f?d(f):void 0,y=g&&m?`${g} ${m}`:g;switch(l){case"menu":return(0,Vr.jsx)(Vy,{children:(0,Vr.jsxs)(Jm,{type:"menu","data-testid":`${u}.${r}`,disabled:e,title:y,onClick:e=>{c&&co(e),h?p(!1):a(u)},children:[(0,Vr.jsx)(yg,{children:g}),i&&(0,Vr.jsx)(Uy,{children:i})]})});case"context-menu":return e?null:(0,Vr.jsxs)(Cy.kt,{dir:"ltr",title:y,draggable:!1,className:"tlui-button tlui-button__menu","data-testid":`${u}.${r}`,onSelect:e=>{c&&co(e),h?p(!1):a(u)},children:[(0,Vr.jsx)("span",{className:"tlui-button__label",draggable:!1,children:g}),i&&(0,Vr.jsx)(Uy,{children:i}),t&&(0,Vr.jsx)(Dy,{})]});case"panel":return(0,Vr.jsxs)(Jm,{"data-testid":`${u}.${r}`,type:"menu",title:y,disabled:e,onClick:()=>a(u),children:[(0,Vr.jsx)(yg,{children:g}),s&&(0,Vr.jsx)(tg,{icon:s})]});case"small-icons":case"icons":return(0,Vr.jsx)(Jm,{"data-testid":`${u}.${r}`,type:"icon",title:y,disabled:e,onClick:()=>a(u),children:(0,Vr.jsx)(tg,{icon:s,small:"small-icons"===l})});case"keyboard-shortcuts":return i?(0,Vr.jsxs)("div",{className:"tlui-shortcuts-dialog__key-pair","data-testid":`${u}.${r}`,children:[(0,Vr.jsx)("div",{className:"tlui-shortcuts-dialog__key-pair__key",children:g}),(0,Vr.jsx)("div",{className:"tlui-shortcuts-dialog__key-pair__value",children:(0,Vr.jsx)(Uy,{visibleOnMobileLayout:!0,children:i})})]}):(console.warn(`Menu item '${o}' isn't shown in the keyboard shortcuts dialog because it doesn't have a keyboard shortcut.`),null);case"helper-buttons":return(0,Vr.jsxs)(Jm,{type:"low",onClick:()=>a(u),children:[(0,Vr.jsx)(tg,{icon:s}),(0,Vr.jsx)(yg,{children:g})]});default:return null}}function Yy(){return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(Xy,{}),(0,Vr.jsx)(Hy,{}),(0,Vr.jsx)(Gy,{}),(0,Vr.jsx)(Ky,{}),(0,Vr.jsx)(Jy,{}),(0,Vr.jsx)(nv,{}),(0,Vr.jsx)(rv,{}),(0,Vr.jsx)(iv,{})]})}function Xy(){const e=Py(),t=ju(2);return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(qy,{...e["align-left"],disabled:!t}),(0,Vr.jsx)(qy,{...e["align-center-horizontal"],disabled:!t}),(0,Vr.jsx)(qy,{...e["align-right"],disabled:!t}),(0,Vr.jsx)(qy,{...e["stretch-horizontal"],disabled:!t}),(0,Vr.jsx)(qy,{...e["align-top"],disabled:!t}),(0,Vr.jsx)(qy,{...e["align-center-vertical"],disabled:!t}),(0,Vr.jsx)(qy,{...e["align-bottom"],disabled:!t}),(0,Vr.jsx)(qy,{...e["stretch-vertical"],disabled:!t})]})}function Hy(){const e=Py(),t=ju(3);return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(qy,{...e["distribute-horizontal"],disabled:!t}),(0,Vr.jsx)(qy,{...e["distribute-vertical"],disabled:!t})]})}function Gy(){const e=Py(),t=Pu();return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(qy,{...e["stack-horizontal"],disabled:!t}),(0,Vr.jsx)(qy,{...e["stack-vertical"],disabled:!t})]})}function Ky(){const e=Py(),t=ju(1);return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(qy,{...e["send-to-back"],disabled:!t}),(0,Vr.jsx)(qy,{...e["send-backward"],disabled:!t}),(0,Vr.jsx)(qy,{...e["bring-forward"],disabled:!t}),(0,Vr.jsx)(qy,{...e["bring-to-front"],disabled:!t})]})}function Jy(){return Zm()<zm.TABLET_SM?(0,Vr.jsx)(ev,{}):(0,Vr.jsx)(tv,{})}function ev(){const e=Py(),t=Gr(),n=(0,s.h)("zoom is 1",(()=>1===t.getZoomLevel()),[t]);return(0,Vr.jsx)(qy,{...e["zoom-to-100"],disabled:n})}function tv(){const e=Py(),t=ju(1);return(0,Vr.jsx)(qy,{...e["rotate-ccw"],disabled:!t})}function nv(){const e=Py(),t=ju(1);return(0,Vr.jsx)(qy,{...e["rotate-cw"],disabled:!t})}function rv(){const e=Py(),t=Iu();return(0,Vr.jsx)(qy,{...e["edit-link"],disabled:!t})}function iv(){const e=Eu(),t=Cu();return e?(0,Vr.jsx)(ov,{}):t?(0,Vr.jsx)(sv,{}):(0,Vr.jsx)(ov,{})}function ov(){const e=Py(),t=ju(2);return(0,Vr.jsx)(qy,{...e.group,disabled:!t})}function sv(){const e=Py();return(0,Vr.jsx)(qy,{...e.ungroup})}const av=(0,Wr.memo)((function({children:e}){const t=Km(),n=Zm(),r=Yu(),i=Gr(),o=(0,s.h)("should display quick actions when in readonly",(()=>i.isInAny("hand","zoom")),[i]),a=e??(0,Vr.jsx)(Yy,{});if(!r||o)return(0,Vr.jsxs)(cg,{id:"actions-menu",children:[(0,Vr.jsx)(lg,{children:(0,Vr.jsx)(Jm,{type:"icon","data-testid":"actions-menu.button",title:t("actions-menu.title"),children:(0,Vr.jsx)(tg,{icon:"dots-vertical",small:!0})})}),(0,Vr.jsx)(ug,{side:n>=zm.TABLET?"bottom":"top",sideOffset:6,children:(0,Vr.jsx)("div",{className:"tlui-actions-menu tlui-buttons__grid","data-testid":"actions-menu.content",children:(0,Vr.jsx)(pg,{type:"icons",sourceId:"actions-menu",children:a})})})]})}));function cv({id:e,kbd:t,label:n,readonlyOk:r,onSelect:i,disabled:o=!1,checked:s=!1}){const{type:a,sourceId:c}=hg(),l=Yu(),u=Km();if(l&&!r)return null;const d=Ey(n,a),h=d?u(d):void 0;switch(a){case"menu":return(0,Vr.jsxs)($y.H_,{dir:"ltr",className:"tlui-button tlui-button__menu tlui-button__checkbox",title:h,onSelect:e=>{i?.(c),co(e)},disabled:o,checked:s,children:[(0,Vr.jsx)(eg,{small:!0,icon:s?"check":"checkbox-empty"}),h&&(0,Vr.jsx)("span",{className:"tlui-button__label",draggable:!1,children:h}),t&&(0,Vr.jsx)(Uy,{children:t})]});case"context-menu":return(0,Vr.jsxs)(Cy.H_,{className:"tlui-button tlui-button__menu tlui-button__checkbox",dir:"ltr",title:h,onSelect:e=>{i(c),co(e)},disabled:o,checked:s,children:[(0,Vr.jsx)(eg,{small:!0,icon:s?"check":"checkbox-empty"}),h&&(0,Vr.jsx)("span",{className:"tlui-button__label",draggable:!1,children:h}),t&&(0,Vr.jsx)(Uy,{children:t})]},e);default:return null}}function lv({id:e,label:t,children:n}){const{type:r,sourceId:i}=hg(),o=Km(),s=Ey(t,r),a=s?o(s):void 0;switch(r){case"panel":return(0,Vr.jsx)("div",{className:"tlui-menu__group","data-testid":`${i}-group.${e}`,children:n});case"menu":return(0,Vr.jsx)(By,{"data-testid":`${i}-group.${e}`,children:n});case"context-menu":return(0,Vr.jsx)(Cy.Q2,{dir:"ltr",className:"tlui-menu__group","data-testid":`${i}-group.${e}`,children:n});case"keyboard-shortcuts":return(0,Vr.jsxs)("div",{className:"tlui-shortcuts-dialog__group","data-testid":`${i}-group.${e}`,children:[(0,Vr.jsx)("h2",{className:"tlui-shortcuts-dialog__group__title",children:a}),(0,Vr.jsx)("div",{className:"tlui-shortcuts-dialog__group__content",children:n})]});default:return n}}function uv({id:e,disabled:t=!1,label:n,size:r="small",children:i}){const{type:o,sourceId:s}=hg(),a=go(),c=Km(),l=n?"string"==typeof n?n:n[o]??n.default:void 0,u=l?c(l):void 0;switch(o){case"menu":return(0,Vr.jsxs)(Qy,{id:`${s}-sub.${e}`,children:[(0,Vr.jsx)(zy,{id:`${s}-sub.${u?u.toLowerCase()+"-button":""}`,disabled:t,label:u,title:u}),(0,Vr.jsx)(Fy,{id:`${s}-sub.${u?u.toLowerCase()+"-content":""}`,size:r,children:i})]});case"context-menu":return t?null:(0,Vr.jsxs)(dv,{id:`${s}-sub.${e}`,children:[(0,Vr.jsx)(Cy.Pd,{dir:"ltr",disabled:t,asChild:!0,children:(0,Vr.jsxs)(Jm,{"data-testid":`${s}-sub-trigger.${e}`,type:"menu",className:"tlui-menu__submenu__trigger",children:[(0,Vr.jsx)(yg,{children:u}),(0,Vr.jsx)(tg,{icon:"chevron-right",small:!0})]})}),(0,Vr.jsx)(Cy.JW,{container:a,children:(0,Vr.jsx)(Cy.es,{"data-testid":`${s}-sub-content.${e}`,className:"tlui-menu tlui-menu__submenu__content",alignOffset:-1,sideOffset:-4,collisionPadding:4,"data-size":r,children:i})})]});default:return i}}function dv({id:e,children:t}){const[n,r]=ag(e);return(0,Vr.jsx)(Cy.Fj,{open:n,onOpenChange:r,children:t})}function hv(){const e=Py(),t=function(){const e=Gr();return(0,s.h)("showAutoSizeToggle",(()=>{const t=e.getSelectedShapes();return 1===t.length&&e.isShapeOfType(t[0],"text")&&!1===t[0].props.autoSize}),[e])}();return(0,Vr.jsx)(qy,{...e["toggle-auto-size"],disabled:!t})}function pv(){const e=Py(),t=Iu();return(0,Vr.jsx)(qy,{...e["edit-link"],disabled:!t})}function fv(){const e=Py(),t=ju(1);return(0,Vr.jsx)(qy,{...e.duplicate,disabled:!t})}function mv(){const e=Py(),t=Eu();return(0,Vr.jsx)(qy,{...e.group,disabled:!t})}function gv(){const e=Py(),t=Cu();return(0,Vr.jsx)(qy,{...e.ungroup,disabled:!t})}function yv(){const e=Gr(),t=Py(),n=(0,s.h)("allow unframe",(()=>{const t=e.getSelectedShapes();return 0!==t.length&&t.every((t=>e.isShapeOfType(t,"frame")))}),[e]);return(0,Vr.jsx)(qy,{...t["remove-frame"],disabled:!n})}function vv(){const e=Gr(),t=Py(),n=(0,s.h)("allow fit frame to content",(()=>{const t=e.getOnlySelectedShape();return!!t&&e.isShapeOfType(t,"frame")&&e.getSortedChildIdsForParent(t).length>0}),[e]);return(0,Vr.jsx)(qy,{...t["fit-frame-to-content"],disabled:!n})}function bv(){const e=Gr(),t=Py(),n=(0,s.h)("selected shapes",(()=>e.getSelectedShapes().length>0),[e]);return(0,Vr.jsx)(qy,{...t["toggle-lock"],disabled:!n})}function xv(){const e=Py(),t=Gr(),n=(0,s.h)("isTransparentBg",(()=>!t.getInstanceState().exportBackground),[t]);return(0,Vr.jsx)(cv,{...e["toggle-transparent"],checked:n})}function Ov(){const e=Gr(),t=Py(),n=(0,s.h)("any shapes",(()=>e.getCurrentPageShapeIds().size>0),[e]);return(0,Vr.jsx)(qy,{...t["unlock-all"],disabled:!n})}function wv(){const e=Gr(),t=(0,s.h)("zoomed to 100",(()=>1===e.getZoomLevel()),[e]),n=Py();return(0,Vr.jsx)(qy,{...n["zoom-to-100"],noClose:!0,disabled:t})}function Sv(){const e=Gr(),t=(0,s.h)("has shapes",(()=>e.getCurrentPageShapeIds().size>0),[e]),n=Py();return(0,Vr.jsx)(qy,{...n["zoom-to-fit"],disabled:!t,"data-testid":"minimap.zoom-menu.zoom-to-fit",noClose:!0})}function kv(){const e=Gr(),t=(0,s.h)("has shapes",(()=>e.getSelectedShapeIds().length>0),[e]),n=Py();return(0,Vr.jsx)(qy,{...n["zoom-to-selection"],disabled:!t,"data-testid":"minimap.zoom-menu.zoom-to-selection",noClose:!0})}function _v(){const e=Gr(),t=Py(),n=(0,s.h)("atLeastOneShapeOnPage",(()=>e.getCurrentPageShapeIds().size>0),[]);return(0,Vr.jsxs)(lv,{id:"clipboard",children:[(0,Vr.jsx)(Pv,{}),(0,Vr.jsx)(Ev,{}),(0,Vr.jsxs)(uv,{id:"copy-as",label:"context-menu.copy-as",size:"small",disabled:!n,children:[(0,Vr.jsxs)(lv,{id:"copy-as-group",children:[(0,Vr.jsx)(qy,{...t["copy-as-svg"]}),Boolean(window.navigator.clipboard?.write)&&(0,Vr.jsx)(qy,{...t["copy-as-png"]}),(0,Vr.jsx)(qy,{...t["copy-as-json"]})]}),(0,Vr.jsx)(lv,{id:"copy-as-bg",children:(0,Vr.jsx)(xv,{})})]}),(0,Vr.jsx)(fv,{}),(0,Vr.jsx)(Cv,{}),(0,Vr.jsx)(Iv,{})]})}function Pv(){const e=Py(),t=ju(1);return(0,Vr.jsx)(qy,{...e.cut,disabled:!t})}function Ev(){const e=Py(),t=function(e,t){const n=Gr();return(0,s.h)("selectedShapes",(()=>{const e=n.getSelectedShapes().length;return e>=1}),[n,1,t])}();return(0,Vr.jsx)(qy,{...e.copy,disabled:!t})}function Cv(){const e=Py(),t=Tu;return(0,Vr.jsx)(qy,{...e.paste,disabled:!t})}function Tv(){const e=Py(),t=ju(1);return(0,Vr.jsx)(lv,{id:"conversions",children:(0,Vr.jsxs)(uv,{id:"export-as",label:"context-menu.export-as",size:"small",disabled:!t,children:[(0,Vr.jsxs)(lv,{id:"export-as-group",children:[(0,Vr.jsx)(qy,{...e["export-as-svg"]}),(0,Vr.jsx)(qy,{...e["export-as-png"]}),(0,Vr.jsx)(qy,{...e["export-as-json"]})]}),(0,Vr.jsx)(lv,{id:"export-as-bg",children:(0,Vr.jsx)(xv,{})})]})})}function jv(){const e=Py(),t=Gr(),n=(0,s.h)("atLeastOneShapeOnPage",(()=>t.getCurrentPageShapeIds().size>0),[t]);return(0,Vr.jsx)(lv,{id:"set-selection-group",children:(0,Vr.jsx)(qy,{...e["select-all"],disabled:!n})})}function Iv(){const e=Py(),t=ju(1);return(0,Vr.jsx)(qy,{...e.delete,disabled:!t})}function Mv(){const e=ju(2),t=function(){const e=Gr();return(0,s.h)("onlyFlippableShape",(()=>{const t=e.getSelectedShapes();return 1===t.length&&t.every((t=>e.isShapeOfType(t,"group")||e.isShapeOfType(t,"arrow")||e.isShapeOfType(t,"line")||e.isShapeOfType(t,"draw")))}),[e])}(),n=Py();return e||t?(0,Vr.jsxs)(uv,{id:"arrange",label:"context-menu.arrange",size:"small",children:[e&&(0,Vr.jsxs)(lv,{id:"align",children:[(0,Vr.jsx)(qy,{...n["align-left"]}),(0,Vr.jsx)(qy,{...n["align-center-horizontal"]}),(0,Vr.jsx)(qy,{...n["align-right"]}),(0,Vr.jsx)(qy,{...n["align-top"]}),(0,Vr.jsx)(qy,{...n["align-center-vertical"]}),(0,Vr.jsx)(qy,{...n["align-bottom"]})]}),(0,Vr.jsx)(Av,{}),e&&(0,Vr.jsxs)(lv,{id:"stretch",children:[(0,Vr.jsx)(qy,{...n["stretch-horizontal"]}),(0,Vr.jsx)(qy,{...n["stretch-vertical"]})]}),t&&(0,Vr.jsxs)(lv,{id:"flip",children:[(0,Vr.jsx)(qy,{...n["flip-horizontal"]}),(0,Vr.jsx)(qy,{...n["flip-vertical"]})]}),(0,Vr.jsx)(Dv,{})]}):null}function Av(){const e=Py();return ju(3)?(0,Vr.jsxs)(lv,{id:"distribute",children:[(0,Vr.jsx)(qy,{...e["distribute-horizontal"]}),(0,Vr.jsx)(qy,{...e["distribute-vertical"]})]}):null}function Dv(){const e=Py(),t=ju(2),n=Pu();return t?(0,Vr.jsxs)(lv,{id:"order",children:[(0,Vr.jsx)(qy,{...e.pack}),n&&(0,Vr.jsx)(qy,{...e["stack-horizontal"]}),n&&(0,Vr.jsx)(qy,{...e["stack-vertical"]})]}):null}function $v(){const e=Py();return ju(1)?(0,Vr.jsx)(uv,{id:"reorder",label:"context-menu.reorder",size:"small",children:(0,Vr.jsxs)(lv,{id:"reorder",children:[(0,Vr.jsx)(qy,{...e["bring-to-front"]}),(0,Vr.jsx)(qy,{...e["bring-forward"]}),(0,Vr.jsx)(qy,{...e["send-backward"]}),(0,Vr.jsx)(qy,{...e["send-to-back"]})]})}):null}function Rv(){const e=Gr(),t=(0,s.h)("pages",(()=>e.getPages()),[e]),n=(0,s.h)("current page id",(()=>e.getCurrentPageId()),[e]),{addToast:r}=fy(),i=Py(),o=sg();return ju(1)?(0,Vr.jsxs)(uv,{id:"move-to-page",label:"context-menu.move-to-page",size:"small",children:[(0,Vr.jsx)(lv,{id:"pages",children:t.map((t=>(0,Vr.jsx)(qy,{id:t.id,disabled:n===t.id,label:t.name,onSelect:()=>{e.mark("move_shapes_to_page"),e.moveShapesToPage(e.getSelectedShapeIds(),t.id);const i=e.getPage(t.id);i&&r({title:"Changed Page",description:`Moved to ${i.name}.`,actions:[{label:"Go Back",type:"primary",onClick:()=>{e.mark("change-page"),e.setCurrentPage(n)}}]}),o("move-to-page",{source:"context-menu"})},title:t.name},t.id)))}),(0,Vr.jsx)(lv,{id:"new-page",children:(0,Vr.jsx)(qy,{...i["new-page"]})})]}):null}function Nv(){const e=Gr(),t=Py(),n=(0,s.h)("oneEmbedSelected",(()=>{const t=e.getOnlySelectedShape();return!!t&&!(!e.isShapeOfType(t,"embed")||!t.props.url||e.isShapeOrAncestorLocked(t))}),[e]),r=(0,s.h)("oneEmbeddableBookmarkSelected",(()=>{const t=e.getOnlySelectedShape();return!!t&&!(!(e.isShapeOfType(t,"bookmark")&&t.props.url&&Nd(t.props.url))||e.isShapeOrAncestorLocked(t))}),[e]);return(0,Vr.jsxs)(lv,{id:"embeds",children:[(0,Vr.jsx)(qy,{...t["convert-to-bookmark"],disabled:!n}),(0,Vr.jsx)(qy,{...t["convert-to-embed"],disabled:!r})]})}function Lv(){const e=Py(),t=Gr(),n=(0,s.h)("isSnapMode",(()=>t.user.getIsSnapMode()),[t]);return(0,Vr.jsx)(cv,{...e["toggle-snap-mode"],checked:n})}function Qv(){const e=Py(),t=Gr(),n=(0,s.h)("isToolLock",(()=>t.getInstanceState().isToolLocked),[t]);return(0,Vr.jsx)(cv,{...e["toggle-tool-lock"],checked:n})}function zv(){const e=Py(),t=Gr(),n=(0,s.h)("isGridMode",(()=>t.getInstanceState().isGridMode),[t]);return(0,Vr.jsx)(cv,{...e["toggle-grid"],checked:n})}function Fv(){const e=Py(),t=Gr(),n=(0,s.h)("isWrapMode",(()=>t.user.getIsWrapMode()),[t]);return(0,Vr.jsx)(cv,{...e["toggle-wrap-mode"],checked:n})}function Bv(){const e=Py(),t=Gr(),n=(0,s.h)("isDarkMode",(()=>t.user.getIsDarkMode()),[t]);return(0,Vr.jsx)(cv,{...e["toggle-dark-mode"],checked:n})}function Zv(){const e=Py(),t=Gr(),n=(0,s.h)("isFocusMode",(()=>t.getInstanceState().isFocusMode),[t]);return(0,Vr.jsx)(cv,{...e["toggle-focus-mode"],checked:n})}function Vv(){const e=Py(),t=Gr(),n=(0,s.h)("edgeScrollSpeed",(()=>t.user.getEdgeScrollSpeed()),[t]);return(0,Vr.jsx)(cv,{...e["toggle-edge-scrolling"],checked:1===n})}function Wv(){const e=Py(),t=Gr(),n=(0,s.h)("animationSpeed",(()=>t.user.getAnimationSpeed()),[t]);return(0,Vr.jsx)(cv,{...e["toggle-reduce-motion"],checked:0===n})}function Uv(){const e=Py(),t=Gr(),n=(0,s.h)("isDebugMode",(()=>t.getInstanceState().isDebugMode),[t]);return(0,Vr.jsx)(cv,{...e["toggle-debug-mode"],checked:n})}function qv(){const e=Gr(),t=Py(),n=(0,s.h)("emptyPage",(()=>0===e.getCurrentPageShapeIds().size),[e]);return(0,Vr.jsx)(qy,{...t.print,disabled:n})}function Yv(){const e=Gr();return(0,s.h)("isSelectToolActive",(()=>"select"===e.getCurrentToolId()),[e])?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)(lv,{id:"selection",children:[(0,Vr.jsx)(hv,{}),(0,Vr.jsx)(pv,{}),(0,Vr.jsx)(mv,{}),(0,Vr.jsx)(gv,{}),(0,Vr.jsx)(yv,{}),(0,Vr.jsx)(vv,{}),(0,Vr.jsx)(bv,{})]}),(0,Vr.jsx)(Nv,{}),(0,Vr.jsxs)(lv,{id:"modify",children:[(0,Vr.jsx)(Mv,{}),(0,Vr.jsx)($v,{}),(0,Vr.jsx)(Rv,{})]}),(0,Vr.jsx)(_v,{}),(0,Vr.jsx)(Tv,{}),(0,Vr.jsx)(jv,{})]}):null}const Xv=(0,Wr.memo)((function({children:e}){const t=Gr(),{Canvas:n}=Ys(),r=(0,Wr.useCallback)((e=>{if(e){if(t.getInstanceState().isCoarsePointer){const e=t.getSelectedShapes(),{inputs:{currentPagePoint:n}}=t,r=t.getShapesAtPoint(n);if(!t.getSelectedShapes().length||!r.some((t=>e.includes(t)))){const e=r.filter((e=>t.isShapeOrAncestorLocked(e)));e.length&&t.select(...e.map((e=>e.id)))}}}else{const e=t.getOnlySelectedShape();e&&t.isShapeOrAncestorLocked(e)&&t.setSelectedShapes([])}}),[t]),i=go(),[o,s]=ag("context menu",r),a=e??(0,Vr.jsx)(Yv,{});return(0,Vr.jsxs)(Cy.bL,{dir:"ltr",onOpenChange:s,modal:!1,children:[(0,Vr.jsx)(Cy.l9,{onContextMenu:void 0,dir:"ltr",children:n?(0,Vr.jsx)(n,{}):null}),o&&(0,Vr.jsx)(Cy.ZL,{container:i,children:(0,Vr.jsx)(Cy.UC,{className:"tlui-menu scrollable","data-testid":"context-menu",alignOffset:-4,collisionPadding:4,onContextMenu:co,children:(0,Vr.jsx)(pg,{type:"context-menu",sourceId:"context-menu",children:a})})})]})}));function Hv({checked:e}){return(0,Vr.jsx)(eg,{icon:e?"check":"checkbox-empty",className:"tlui-button__icon",small:!0})}function Gv(){const e=Gr(),{addToast:t}=fy(),{addDialog:n}=wy(),[r,i]=Wr.useState(!1);return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)(lv,{id:"items",children:[(0,Vr.jsx)(qy,{id:"add-toast",onSelect:()=>{t({id:ta(),title:"Something happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0}),t({id:ta(),title:"Something happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0,actions:[{label:"Primary",type:"primary",onClick:()=>{}},{label:"Normal",type:"normal",onClick:()=>{}},{label:"Danger",type:"danger",onClick:()=>{}}]}),t({id:ta(),title:"Something happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0,icon:"twitter",actions:[{label:"Primary",type:"primary",onClick:()=>{}},{label:"Normal",type:"normal",onClick:()=>{}},{label:"Danger",type:"danger",onClick:()=>{}}]})},label:"Show toast"}),(0,Vr.jsx)(qy,{id:"show-dialog",label:"Show dialog",onSelect:()=>{n({component:({onClose:e})=>(0,Vr.jsx)(eb,{displayDontShowAgain:!0,onCancel:()=>e(),onContinue:()=>e()}),onClose:()=>{}})}}),(0,Vr.jsx)(qy,{id:"create-shapes",label:"Create 100 shapes",onSelect:()=>function(e,t){const n=Array(100),r=Math.floor(Math.sqrt(100));for(let e=0;e<100;e++)nb++,n[e]={id:Ln("box"+nb),type:"geo",x:e%r*132,y:132*Math.floor(e/r)};e.batch((()=>{e.createShapes(n).setSelectedShapes(n.map((e=>e.id)))}))}(e)}),(0,Vr.jsx)(qy,{id:"count-nodes",label:"Count shapes / nodes",onSelect:()=>{function t({children:e}){let n=0;if(!e.length)return 0;for(const r of[...e])n++,n+=t(r);return n}const n=e.getSelectedShapes(),r=0===n.length?e.getRenderingShapes():n,i=r.map((e=>document.getElementById(e.id).parentElement));let o=i.length;for(const e of i)o+=t(e);window.alert(`Shapes ${r.length}, DOM nodes:${o}`)}}),(()=>{if(r)throw Error("oh no!")})(),(0,Vr.jsx)(qy,{id:"throw-error",onSelect:()=>i(!0),label:"Throw error"}),(0,Vr.jsx)(qy,{id:"hard-reset",onSelect:Gs,label:"Hard reset"})]}),(0,Vr.jsxs)(lv,{id:"flags",children:[(0,Vr.jsx)(Kv,{}),(0,Vr.jsx)(Jv,{})]})]})}function Kv(){const e=Object.values(io);return e.length?(0,Vr.jsx)(uv,{id:"debug flags",label:"Debug Flags",children:(0,Vr.jsx)(lv,{id:"debug flags",children:e.map((e=>(0,Vr.jsx)(tb,{flag:e},e.name)))})}):null}function Jv(){const e=Object.values(no);return e.length?(0,Vr.jsx)(uv,{id:"feature flags",label:"Feature Flags",children:(0,Vr.jsx)(lv,{id:"feature flags",children:e.map((e=>(0,Vr.jsx)(tb,{flag:e},e.name)))})}):null}function eb({title:e="title",body:t="hello hello hello",cancel:n="Cancel",confirm:r="Continue",displayDontShowAgain:i=!1,onCancel:o,onContinue:s}){const[a,c]=Wr.useState(!1);return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)(bg,{children:[(0,Vr.jsx)(xg,{children:e}),(0,Vr.jsx)(Og,{})]}),(0,Vr.jsx)(wg,{style:{maxWidth:350},children:t}),(0,Vr.jsxs)(Sg,{className:"tlui-dialog__footer__actions",children:[i&&(0,Vr.jsxs)(Jm,{type:"normal",onClick:()=>c(!a),style:{marginRight:"auto"},children:[(0,Vr.jsx)(Hv,{checked:a}),(0,Vr.jsx)(yg,{children:"Don't show again"})]}),(0,Vr.jsx)(Jm,{type:"normal",onClick:o,children:(0,Vr.jsx)(yg,{children:n})}),(0,Vr.jsx)(Jm,{type:"primary",onClick:async()=>s(),children:(0,Vr.jsx)(yg,{children:r})})]})]})}const tb=(0,s.u4)((function({flag:e,onChange:t}){const n=e.get();return(0,Vr.jsx)(cv,{id:e.name,title:e.name,label:e.name.replace(/([a-z0-9])([A-Z])/g,(e=>`${e[0]} ${e[1].toLowerCase()}`)).replace(/^[a-z]/,(e=>e.toUpperCase())),checked:n,onSelect:()=>{e.set(!n),t?.(!n)}})}));let nb=0;function rb({children:e}){const t=e??(0,Vr.jsx)(Gv,{});return(0,Vr.jsxs)(Ry,{id:"debug",children:[(0,Vr.jsx)(Ny,{children:(0,Vr.jsx)(Jm,{type:"icon",title:"Debug menu",children:(0,Vr.jsx)(tg,{icon:"dots-horizontal"})})}),(0,Vr.jsx)(Ly,{side:"top",align:"end",alignOffset:0,children:(0,Vr.jsx)(pg,{type:"menu",sourceId:"debug-panel",children:t})})]})}const ib=(0,s.u4)((function(){const e=Gr(),t=sg(),{languages:n,currentLanguage:r}=function(){const e=Gr();return{languages:zr,currentLanguage:e.user.getLocale()}}();return(0,Vr.jsx)(uv,{id:"help menu language",label:"menu.language",children:(0,Vr.jsx)(lv,{id:"languages",children:n.map((({locale:n,label:i})=>(0,Vr.jsx)(cv,{id:`language-${n}`,title:n,label:i,checked:n===r,onSelect:()=>{e.user.updateUserPreferences({locale:n}),t("change-language",{source:"menu",locale:n})}},n)))})})}));function ob(){return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(ib,{}),(0,Vr.jsx)(sb,{})]})}function sb(){const{KeyboardShortcutsDialog:e}=Hx(),{addDialog:t}=wy();return e?(0,Vr.jsx)(qy,{id:"keyboard-shortcuts-button",label:"help-menu.keyboard-shortcuts",readonlyOk:!0,onSelect:()=>{t({component:e})}}):null}const ab=(0,Wr.memo)((function({children:e}){const t=Km(),n=Zm(),r=e??(0,Vr.jsx)(ob,{});return n<zm.MOBILE?null:(0,Vr.jsx)("div",{className:"tlui-help-menu",children:(0,Vr.jsxs)(Ry,{id:"help menu",children:[(0,Vr.jsx)(Ny,{children:(0,Vr.jsx)(Jm,{type:"help",title:t("help-menu.title"),"data-testid":"help-menu.button",children:(0,Vr.jsx)(tg,{icon:"question-mark",small:!0})})}),(0,Vr.jsx)(Ly,{side:"top",align:"end",alignOffset:0,sideOffset:8,children:(0,Vr.jsx)(pg,{type:"menu",sourceId:"help-menu",children:r})})]})})}));function cb(){const e=Gr(),t=Py(),[n,r]=(0,Wr.useState)(!1);return(0,Wr.useEffect)((()=>{let t=!1;const n=setInterval((()=>{const n=e.getRenderingShapes(),i=e.getRenderingBounds(),o=0===n.filter((e=>e.maskedPageBounds&&i.includes(e.maskedPageBounds))).length&&e.getCurrentPageShapes().length>0;t!==o&&(r(o),t=o)}),1e3);return()=>{clearInterval(n)}}),[e]),n?(0,Vr.jsx)(qy,{...t["back-to-content"],onSelect:()=>{t["back-to-content"].onSelect("helper-buttons"),r(!1)}}):null}function lb(){const e=Gr(),t=Py();return(0,s.h)("is pen mode",(()=>e.getInstanceState().isPenMode),[e])?(0,Vr.jsx)(qy,{...t["exit-pen-mode"]}):null}function ub(){const e=Gr(),t=Py();return(0,s.h)("is following user",(()=>!!e.getInstanceState().followingUserId),[e])?(0,Vr.jsx)(qy,{...t["stop-following"]}):null}function db(){return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(lb,{}),(0,Vr.jsx)(cb,{}),(0,Vr.jsx)(ub,{})]})}function hb({children:e}){const t=e??(0,Vr.jsx)(db,{});return(0,Vr.jsx)("div",{className:"tlui-helper-buttons",children:(0,Vr.jsx)(pg,{type:"helper-buttons",sourceId:"helper-buttons",children:t})})}const pb=Wr.createContext({});function fb({overrides:e,children:t}){const n=Gr(),r=sg(),{addDialog:i}=wy(),o=by(),s=Wr.useMemo((()=>{const t=[{id:"select",label:"tool.select",icon:"tool-pointer",kbd:"v",readonlyOk:!0,onSelect(e){n.setCurrentTool("select"),r("select-tool",{source:e,id:"select"})}},{id:"hand",label:"tool.hand",icon:"tool-hand",kbd:"h",readonlyOk:!0,onSelect(e){n.setCurrentTool("hand"),r("select-tool",{source:e,id:"hand"})}},{id:"eraser",label:"tool.eraser",icon:"tool-eraser",kbd:"e",onSelect(e){n.setCurrentTool("eraser"),r("select-tool",{source:e,id:"eraser"})}},{id:"draw",label:"tool.draw",icon:"tool-pencil",kbd:"d,b,x",onSelect(e){n.setCurrentTool("draw"),r("select-tool",{source:e,id:"draw"})}},...[...yr.values].map((e=>({id:e,label:`tool.${e}`,meta:{geo:e},kbd:"rectangle"===e?"r":"ellipse"===e?"o":void 0,icon:"geo-"+e,onSelect(t){n.batch((()=>{n.updateInstanceState({stylesForNextShape:{...n.getInstanceState().stylesForNextShape,[yr.id]:e}},{ephemeral:!0}),n.setCurrentTool("geo"),r("select-tool",{source:t,id:`geo-${e}`})}))}}))),{id:"arrow",label:"tool.arrow",icon:"tool-arrow",kbd:"a",onSelect(e){n.setCurrentTool("arrow"),r("select-tool",{source:e,id:"arrow"})}},{id:"line",label:"tool.line",icon:"tool-line",kbd:"l",onSelect(e){n.setCurrentTool("line"),r("select-tool",{source:e,id:"line"})}},{id:"frame",label:"tool.frame",icon:"tool-frame",kbd:"f",onSelect(e){n.setCurrentTool("frame"),r("select-tool",{source:e,id:"frame"})}},{id:"text",label:"tool.text",icon:"tool-text",kbd:"t",onSelect(e){n.setCurrentTool("text"),r("select-tool",{source:e,id:"text"})}},{id:"asset",label:"tool.asset",icon:"tool-media",kbd:"$u",onSelect(e){o(),r("select-tool",{source:e,id:"media"})}},{id:"note",label:"tool.note",icon:"tool-note",kbd:"n",onSelect(e){n.setCurrentTool("note"),r("select-tool",{source:e,id:"note"})}},{id:"laser",label:"tool.laser",readonlyOk:!0,icon:"tool-laser",kbd:"k",onSelect(e){n.setCurrentTool("laser"),r("select-tool",{source:e,id:"laser"})}},{id:"embed",label:"tool.embed",icon:"tool-embed",onSelect(e){i({component:Cg}),r("select-tool",{source:e,id:"embed"})}}];t.push({id:"highlight",label:"tool.highlight",icon:"tool-highlight",kbd:"!d",onSelect(e){n.setCurrentTool("highlight"),r("select-tool",{source:e,id:"highlight"})}});const s=Object.fromEntries(t.map((e=>[e.id,e])));return e?e(n,s,{insertMedia:o}):s}),[e,n,r,o,i]);return(0,Vr.jsx)(pb.Provider,{value:s,children:t})}function mb(){const e=Wr.useContext(pb);if(!e)throw new Error("useTools must be used within a ToolProvider");return e}function gb(){const e=Py(),t=mb();return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)(lv,{label:"shortcuts-dialog.tools",id:"tools",children:[(0,Vr.jsx)(qy,{...e["toggle-tool-lock"]}),(0,Vr.jsx)(qy,{...t.select}),(0,Vr.jsx)(qy,{...t.draw}),(0,Vr.jsx)(qy,{...t.eraser}),(0,Vr.jsx)(qy,{...t.hand}),(0,Vr.jsx)(qy,{...t.rectangle}),(0,Vr.jsx)(qy,{...t.ellipse}),(0,Vr.jsx)(qy,{...t.arrow}),(0,Vr.jsx)(qy,{...t.line}),(0,Vr.jsx)(qy,{...t.text}),(0,Vr.jsx)(qy,{...t.frame}),(0,Vr.jsx)(qy,{...t.note}),(0,Vr.jsx)(qy,{...t.laser})]}),(0,Vr.jsxs)(lv,{label:"shortcuts-dialog.file",id:"file",children:[(0,Vr.jsx)(qy,{...e["insert-media"]}),(0,Vr.jsx)(qy,{...e.print})]}),(0,Vr.jsxs)(lv,{label:"shortcuts-dialog.preferences",id:"preferences",children:[(0,Vr.jsx)(qy,{...e["toggle-dark-mode"]}),(0,Vr.jsx)(qy,{...e["toggle-focus-mode"]}),(0,Vr.jsx)(qy,{...e["toggle-grid"]})]}),(0,Vr.jsxs)(lv,{label:"shortcuts-dialog.edit",id:"edit",children:[(0,Vr.jsx)(qy,{...e.undo}),(0,Vr.jsx)(qy,{...e.redo}),(0,Vr.jsx)(qy,{...e.cut}),(0,Vr.jsx)(qy,{...e.copy}),(0,Vr.jsx)(qy,{...e.paste}),(0,Vr.jsx)(qy,{...e["select-all"]}),(0,Vr.jsx)(qy,{...e.delete}),(0,Vr.jsx)(qy,{...e.duplicate})]}),(0,Vr.jsxs)(lv,{label:"shortcuts-dialog.view",id:"view",children:[(0,Vr.jsx)(qy,{...e["zoom-in"]}),(0,Vr.jsx)(qy,{...e["zoom-out"]}),(0,Vr.jsx)(qy,{...e["zoom-to-100"]}),(0,Vr.jsx)(qy,{...e["zoom-to-fit"]}),(0,Vr.jsx)(qy,{...e["zoom-to-selection"]})]}),(0,Vr.jsxs)(lv,{label:"shortcuts-dialog.transform",id:"transform",children:[(0,Vr.jsx)(qy,{...e["bring-to-front"]}),(0,Vr.jsx)(qy,{...e["bring-forward"]}),(0,Vr.jsx)(qy,{...e["send-backward"]}),(0,Vr.jsx)(qy,{...e["send-to-back"]}),(0,Vr.jsx)(qy,{...e.group}),(0,Vr.jsx)(qy,{...e.ungroup}),(0,Vr.jsx)(qy,{...e["flip-horizontal"]}),(0,Vr.jsx)(qy,{...e["flip-vertical"]}),(0,Vr.jsx)(qy,{...e["align-top"]}),(0,Vr.jsx)(qy,{...e["align-center-vertical"]}),(0,Vr.jsx)(qy,{...e["align-bottom"]}),(0,Vr.jsx)(qy,{...e["align-left"]}),(0,Vr.jsx)(qy,{...e["align-center-horizontal"]}),(0,Vr.jsx)(qy,{...e["align-right"]})]})]})}const yb=(0,Wr.memo)((function({children:e}){const t=Km(),n=Zm(),r=e??(0,Vr.jsx)(gb,{});return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)(bg,{className:"tlui-shortcuts-dialog__header",children:[(0,Vr.jsx)(xg,{children:t("shortcuts-dialog.title")}),(0,Vr.jsx)(Og,{})]}),(0,Vr.jsx)(wg,{className:Ur("tlui-shortcuts-dialog__body",{"tlui-shortcuts-dialog__body__mobile":n<=zm.MOBILE_XS,"tlui-shortcuts-dialog__body__tablet":n<=zm.TABLET}),children:(0,Vr.jsx)(pg,{type:"keyboard-shortcuts",sourceId:"kbd",children:r})}),(0,Vr.jsx)("div",{className:"tlui-dialog__scrim"})]})}));function vb(){return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(xb,{}),(0,Vr.jsx)(Ob,{}),(0,Vr.jsx)(Pb,{}),(0,Vr.jsx)(Eb,{}),(0,Vr.jsx)(Cb,{})]})}function bb(){const e=Py();return(0,Vr.jsxs)(uv,{id:"export-all-as",label:"context-menu.export-all-as",size:"small",children:[(0,Vr.jsxs)(lv,{id:"export-all-as-group",children:[(0,Vr.jsx)(qy,{...e["export-all-as-svg"]}),(0,Vr.jsx)(qy,{...e["export-all-as-png"]}),(0,Vr.jsx)(qy,{...e["export-all-as-json"]})]}),(0,Vr.jsx)(lv,{id:"export-all-as-bg",children:(0,Vr.jsx)(xv,{})})]})}function xb(){const e=Gr(),t=(0,s.h)("isSelectToolActive",(()=>"select"===e.getCurrentToolId()),[e]);return(0,Vr.jsxs)(uv,{id:"edit",label:"menu.edit",disabled:!t,children:[(0,Vr.jsx)(_b,{}),(0,Vr.jsx)(_v,{}),(0,Vr.jsx)(jv,{})]})}function Ob(){const e=Gr(),t=(0,s.h)("isSelectToolActive",(()=>"select"===e.getCurrentToolId()),[e]);return(0,Vr.jsxs)(uv,{id:"shape",label:"menu.shape",disabled:!t,children:[(0,Vr.jsx)(Tv,{}),(0,Vr.jsx)(kb,{}),(0,Vr.jsx)(wb,{}),(0,Vr.jsx)(Nv,{}),(0,Vr.jsx)(Sb,{})]})}function wb(){return(0,Vr.jsxs)(lv,{id:"misc",children:[(0,Vr.jsx)(hv,{}),(0,Vr.jsx)(pv,{})]})}function Sb(){return(0,Vr.jsxs)(lv,{id:"lock",children:[(0,Vr.jsx)(bv,{}),(0,Vr.jsx)(Ov,{})]})}function kb(){return(0,Vr.jsxs)(lv,{id:"multi-shape",children:[(0,Vr.jsx)(mv,{}),(0,Vr.jsx)(gv,{}),(0,Vr.jsx)(yv,{}),(0,Vr.jsx)(vv,{})]})}function _b(){const e=Py(),t=Au(),n=Mu();return(0,Vr.jsxs)(lv,{id:"undo-redo",children:[(0,Vr.jsx)(qy,{...e.undo,disabled:!t}),(0,Vr.jsx)(qy,{...e.redo,disabled:!n})]})}function Pb(){const e=Py();return(0,Vr.jsx)(uv,{id:"view",label:"menu.view",children:(0,Vr.jsxs)(lv,{id:"view-actions",children:[(0,Vr.jsx)(qy,{...e["zoom-in"]}),(0,Vr.jsx)(qy,{...e["zoom-out"]}),(0,Vr.jsx)(wv,{}),(0,Vr.jsx)(Sv,{}),(0,Vr.jsx)(kv,{})]})})}function Eb(){const e=Py();return(0,Vr.jsxs)(lv,{id:"extras",children:[(0,Vr.jsx)(qy,{...e["insert-embed"]}),(0,Vr.jsx)(qy,{...e["insert-media"]})]})}function Cb(){return(0,Vr.jsx)(lv,{id:"preferences",children:(0,Vr.jsxs)(uv,{id:"preferences",label:"menu.preferences",children:[(0,Vr.jsxs)(lv,{id:"preferences-actions",children:[(0,Vr.jsx)(Lv,{}),(0,Vr.jsx)(Qv,{}),(0,Vr.jsx)(zv,{}),(0,Vr.jsx)(Fv,{}),(0,Vr.jsx)(Bv,{}),(0,Vr.jsx)(Zv,{}),(0,Vr.jsx)(Vv,{}),(0,Vr.jsx)(Wv,{}),(0,Vr.jsx)(Uv,{})]}),(0,Vr.jsx)(lv,{id:"language",children:(0,Vr.jsx)(ib,{})})]})})}const Tb=(0,Wr.memo)((function({children:e}){const t=go(),[n,r]=ag("main menu"),i=Km(),o=e??(0,Vr.jsx)(vb,{});return(0,Vr.jsxs)($y.bL,{dir:"ltr",open:n,onOpenChange:r,modal:!1,children:[(0,Vr.jsx)($y.l9,{asChild:!0,dir:"ltr",children:(0,Vr.jsx)(Jm,{type:"icon","data-testid":"main-menu.button",title:i("menu.title"),children:(0,Vr.jsx)(tg,{icon:"menu",small:!0})})}),(0,Vr.jsx)($y.ZL,{container:t,children:(0,Vr.jsx)($y.UC,{className:"tlui-menu",side:"bottom",align:"start",collisionPadding:4,alignOffset:0,sideOffset:6,children:(0,Vr.jsx)(pg,{type:"menu",sourceId:"main-menu",children:o})})})]})})),jb=(0,Wr.memo)((function(){const e=Zm(),{MainMenu:t,QuickActions:n,ActionsMenu:r,PageMenu:i}=Hx();return!t&&!i&&e<6?null:(0,Vr.jsx)("div",{className:"tlui-menu-zone",children:(0,Vr.jsxs)("div",{className:"tlui-buttons__horizontal",children:[t&&(0,Vr.jsx)(t,{}),i&&(0,Vr.jsx)(i,{}),e<6?null:(0,Vr.jsxs)(Vr.Fragment,{children:[n&&(0,Vr.jsx)(n,{}),r&&(0,Vr.jsx)(r,{})]})]})})}));class Ib{constructor(e){this.editor=e}dpr=1;colors={shapeFill:"rgba(144, 144, 144, .1)",selectFill:"#2f80ed",viewportFill:"rgba(144, 144, 144, .1)"};id=ta();cvs=null;pageBounds=[];collaborators=[];canvasScreenBounds=new jo;canvasPageBounds=new jo;contentPageBounds=new jo;contentScreenBounds=new jo;originPagePoint=new ti;originPageCenter=new ti;isInViewport=!1;debug=!1;setDpr(e){this.dpr=+e.toFixed(2)}updateContentScreenBounds=()=>{const{contentScreenBounds:e,contentPageBounds:t,canvasScreenBounds:n}=this;let{x:r,y:i,w:o,h:s}=e;if(t.w>t.h){const e=n.w/(t.w/t.h);e>n.h?(r=(n.w-n.w*(n.h/e))/2,i=0,o=n.w*(n.h/e),s=n.h):(r=0,i=(n.h-e)/2,o=n.w,s=e)}else if(t.w<t.h){const e=n.h/(t.h/t.w);r=(n.w-e)/2,i=0,o=e,s=n.h}else r=n.h/2,i=0,o=n.h,s=n.h;e.set(r,i,o,s)};updateCanvasPageBounds=()=>{const{canvasPageBounds:e,canvasScreenBounds:t,contentPageBounds:n,contentScreenBounds:r}=this;e.set(0,0,n.width/(r.width/t.width),n.height/(r.height/t.height)),e.center=n.center};getScreenPoint=(e,t)=>{const{canvasScreenBounds:n}=this;return{x:(e-n.minX)*this.dpr,y:(t-n.minY)*this.dpr}};getPagePoint=(e,t)=>{const{contentPageBounds:n,contentScreenBounds:r,canvasPageBounds:i}=this,{x:o,y:s}=this.getScreenPoint(e,t);return new ti(i.minX+o*n.width/r.width,i.minY+s*n.height/r.height,1)};minimapScreenPointToPagePoint=(e,t,n=!1,r=!1)=>{const{editor:i}=this,o=i.getViewportPageBounds();let{x:s,y:a}=this.getPagePoint(e,t);if(r){const e=this.editor.getCurrentPageBounds(),t=o,n=(e?.minX??0)-t.width/2,r=(e?.maxX??0)+t.width/2,i=(e?.minY??0)-t.height/2,c=(e?.maxY??0)+t.height/2,l=Math.max(0,n+t.width-s),u=Math.max(0,-(r-t.width-s)),d=Math.max(0,i+t.height-a),h=Math.max(0,-(c-t.height-a)),p=Math.max(0,l-u),f=Math.max(0,u-l),m=Math.max(0,d-h),g=Math.max(0,h-d);p&&p>f?s+=p/2:f&&(s-=f/2),m&&m>g?a+=m/2:g&&(a-=g/2),s=li(s,n,r),a=li(a,i,c)}if(n){const{originPagePoint:e}=this;Math.abs(s-e.x)>Math.abs(a-e.y)?a=e.y:s=e.x}return new ti(s,a)};updateColors=()=>{const e=getComputedStyle(this.editor.getContainer());this.colors={shapeFill:e.getPropertyValue("--color-text-3").trim(),selectFill:e.getPropertyValue("--color-selected").trim(),viewportFill:e.getPropertyValue("--color-muted-1").trim()}};render=()=>{const{cvs:e,pageBounds:t}=this;this.updateCanvasPageBounds();const{editor:n,canvasScreenBounds:r,canvasPageBounds:i,contentPageBounds:o,contentScreenBounds:s}=this,{width:a,height:c}=r,l=n.getSelectedShapeIds(),u=n.getViewportPageBounds();if(!e||!t)return;const d=e.getContext("2d");if(!d)throw new Error("Minimap (shapes): Could not get context");d.resetTransform(),d.globalAlpha=1,d.clearRect(0,0,a,c);const h=s.width/o.width,p=s.height/o.height;d.translate((a-s.width)/2,(c-s.height)/2),d.scale(h,p),d.translate(-o.minX,-o.minY);const f=8/h,m=8/h,g=1/h,y=1/h,v=f/4,b=m/4,x=new Path2D,O=new Path2D,{shapeFill:w,selectFill:S,viewportFill:k}=this.colors;let _;for(let e=0,n=t.length;e<n;e++)_=t[e],Ib.roundedRect(l.includes(_.id)?O:x,_.minX,_.minY,_.width,_.height,li(f,g,_.width/v),li(m,y,_.height/b));if(d.fillStyle=w,d.fill(x),d.fillStyle=S,d.fill(O),this.debug){const e=jo.Common(t),{minX:n,minY:r,width:i,height:o}=e;d.strokeStyle="green",d.lineWidth=2/h,d.strokeRect(n+1/h,r+1/p,i-2/h,o-2/p)}{const{brush:e}=n.getInstanceState();if(e){const{x:t,y:n,w:r,h:i}=e;d.beginPath(),Ib.sharpRect(d,t,n,r,i),d.closePath(),d.fillStyle=k,d.fill()}}{const{minX:e,minY:t,width:n,height:r}=u;d.beginPath();const i=12/h,o=12/h;Ib.roundedRect(d,e,t,n,r,Math.min(n/4,i),Math.min(r/4,o)),d.closePath(),d.fillStyle=k,d.fill(),this.debug&&(d.strokeStyle="orange",d.strokeRect(e+1/h,t+1/p,n-2/h,r-2/p))}const P=2.5/h,E=2.5/p,C=n.getCurrentPageId();let T;for(let e=0;e<this.collaborators.length;e++)T=this.collaborators[e],T.currentPageId===C&&(d.beginPath(),d.ellipse(li(T.cursor.x,i.minX+P,i.maxX-P),li(T.cursor.y,i.minY+E,i.maxY-E),5/h,5/p,0,0,ai),d.fillStyle=T.color,d.fill());if(this.debug){d.lineWidth=2/h;{const{minX:e,minY:t,width:n,height:r}=o;d.strokeStyle="red",d.strokeRect(e+1/h,t+1/p,n-2/h,r-2/p)}{const{minX:e,minY:t,width:n,height:r}=i;d.strokeStyle="blue",d.strokeRect(e+1/h,t+1/p,n-2/h,r-2/p)}}};static roundedRect(e,t,n,r,i,o,s){o<1&&s<1?e.rect(t,n,r,i):(e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+s),e.lineTo(t+r,n+i-s),e.quadraticCurveTo(t+r,n+i,t+r-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+o,n))}static sharpRect(e,t,n,r,i,o,s){e.rect(t,n,r,i)}}function Mb(){const e=Gr(),t=Wr.useRef(null),n=Wr.useRef(!1),r=nl(),i=(0,s.HO)("dpr",(()=>e.getInstanceState().devicePixelRatio),[e]),o=Wr.useMemo((()=>e.store.query.records("instance_presence")),[e]),a=Wr.useMemo((()=>new Ib(e)),[e]);Wr.useEffect((()=>{const e=requestAnimationFrame((()=>{a.updateColors(),a.render()}));return()=>{cancelAnimationFrame(e)}}),[e,a,r]);const c=Wr.useCallback((t=>{if(!e.getCurrentPageShapeIds().size)return;const n=a.minimapScreenPointToPagePoint(t.clientX,t.clientY,!1,!1),r=a.minimapScreenPointToPagePoint(t.clientX,t.clientY,!1,!0);a.originPagePoint.setTo(r),a.originPageCenter.setTo(e.getViewportPageBounds().center),e.centerOnPoint(n,{duration:Li})}),[e,a]),l=Wr.useCallback((t=>{const r=t.currentTarget;if(lo(r,t),!e.getCurrentPageShapeIds().size)return;n.current=!0,a.isInViewport=!1;const i=a.minimapScreenPointToPagePoint(t.clientX,t.clientY,!1,!1),o=a.minimapScreenPointToPagePoint(t.clientX,t.clientY,!1,!0),s=e.getViewportPageBounds();if(a.isInViewport=s.containsPoint(o),a.isInViewport)a.originPagePoint.setTo(o),a.originPageCenter.setTo(s.center);else{const t=ti.Sub(s.center,s.point),n=ti.Add(i,t);a.originPagePoint.setTo(n),a.originPageCenter.setTo(i),e.centerOnPoint(i,{duration:Li})}document.body.addEventListener("pointerup",(function e(t){r&&uo(r,t),n.current=!1,document.body.removeEventListener("pointerup",e)}))}),[e,a]),u=Wr.useCallback((t=>{const r=a.minimapScreenPointToPagePoint(t.clientX,t.clientY,t.shiftKey,!0);if(n.current){if(a.isInViewport){const t=a.originPagePoint.clone().sub(a.originPageCenter);return void e.centerOnPoint(ti.Sub(r,t))}e.centerOnPoint(r)}const i=a.getPagePoint(t.clientX,t.clientY),o=e.pageToScreen(i),s={type:"pointer",target:"canvas",name:"pointer_move",...po(t),point:o,isPen:e.getInstanceState().isPenMode};e.dispatch(s)}),[e,a]),d=Wr.useCallback((t=>{const n=ko(t);e.dispatch({type:"wheel",name:"wheel",delta:n,point:new ti(t.clientX,t.clientY),shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.metaKey||t.ctrlKey})}),[e]);return(0,s.lX)("update when dpr changes",(()=>{const e=i.get();a.setDpr(e);const n=t.current,r=n.getBoundingClientRect(),o=r.width*e,s=r.height*e;n.width=o,n.height=s,a.canvasScreenBounds.set(r.x,r.y,o,s),a.cvs=t.current}),[i,a]),(0,s.lX)("minimap render when pagebounds or collaborators changes",(()=>{const t=e.getCurrentPageShapeIds(),n=e.getCurrentPageBounds(),r=e.getViewportPageBounds();i.get(),a.contentPageBounds=n?jo.Expand(n,r):r,a.updateContentScreenBounds();const s=[];t.forEach((t=>{let n=e.getShapePageBounds(t);if(!n)return;const r=e.getShapeMask(t);if(r){const e=ja(r,n.corners);if(!e)return;n=jo.FromPoints(e)}n&&(n.id=t,s.push(n))})),a.pageBounds=s,a.collaborators=o.get(),a.render()}),[e,a]),(0,Vr.jsx)("div",{className:"tlui-minimap",children:(0,Vr.jsx)("canvas",{role:"img","aria-label":"minimap",ref:t,className:"tlui-minimap__canvas",onDoubleClick:c,onPointerMove:u,onPointerDown:l,onWheel:d})})}function Ab(e,t){const[n,r]=Wr.useState(t);return Wr.useLayoutEffect((()=>{const t=localStorage.getItem(e);if(t)try{r(JSON.parse(t))}catch(t){console.error(`Could not restore value ${e} from local storage.`)}}),[e]),[n,Wr.useCallback((t=>{r((n=>{const r="function"==typeof t?t(n):t;return localStorage.setItem(e,JSON.stringify(r)),r}))}),[e])]}const Db=(0,Wr.memo)((function(){const e=Py(),t=Km(),n=Zm(),[r,i]=Ab("minimap",!0),o=(0,Wr.useCallback)((()=>{i((e=>!e))}),[i]),{ZoomMenu:s,Minimap:a}=Hx();return n<zm.MOBILE?null:(0,Vr.jsxs)("div",{className:"tlui-navigation-panel",children:[(0,Vr.jsx)("div",{className:"tlui-buttons__horizontal",children:s&&n<zm.TABLET?(0,Vr.jsx)(s,{}):r?(0,Vr.jsxs)(Vr.Fragment,{children:[s&&(0,Vr.jsx)(s,{}),a&&(0,Vr.jsx)(Jm,{type:"icon","data-testid":"minimap.toggle-button",title:t("navigation-zone.toggle-minimap"),className:"tlui-navigation-panel__toggle",onClick:o,children:(0,Vr.jsx)(tg,{icon:r?"chevrons-ne":"chevrons-sw"})})]}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(Jm,{type:"icon","data-testid":"minimap.zoom-out",title:`${t(Ey(e["zoom-out"].label))} ${Ay(e["zoom-out"].kbd)}`,onClick:()=>e["zoom-out"].onSelect("navigation-zone"),children:(0,Vr.jsx)(tg,{icon:"minus"})}),s&&(0,Vr.jsx)(s,{}),(0,Vr.jsx)(Jm,{type:"icon","data-testid":"minimap.zoom-in",title:`${t(Ey(e["zoom-in"].label))} ${Ay(e["zoom-in"].kbd)}`,onClick:()=>e["zoom-in"].onSelect("navigation-zone"),children:(0,Vr.jsx)(tg,{icon:"plus"})}),a&&(0,Vr.jsx)(Jm,{type:"icon","data-testid":"minimap.toggle-button",title:t("navigation-zone.toggle-minimap"),className:"tlui-navigation-panel__toggle",onClick:o,children:(0,Vr.jsx)(tg,{icon:r?"chevrons-ne":"chevrons-sw"})})]})}),a&&n>=zm.TABLET&&!r&&(0,Vr.jsx)(a,{})]})})),$b=function({name:e,id:t,isCurrentPage:n}){const r=Gr(),i=(0,Wr.useRef)(null),o=(0,Wr.useCallback)((e=>{r.renamePage(t,e||"New Page",{ephemeral:!0})}),[r,t]),s=(0,Wr.useCallback)((e=>{r.mark("rename page"),r.renamePage(t,e||"New Page",{ephemeral:!1})}),[r,t]);return(0,Vr.jsx)(kg,{className:"tlui-page-menu__item__input",ref:e=>i.current=e,defaultValue:e,onValueChange:o,onComplete:s,onCancel:s,shouldManuallyMaintainScrollPositionWhenFocused:!0,autofocus:n,autoselect:!0})},Rb=(e,t,n,r)=>{let i;const o=e.getPages(),s=n>r?o[r-1]:o[r],a=n>r?o[r]:o[r+1];i=s&&!a?Oe(s.index):!s&&a?we(o[0].index):xe(s.index,a.index),i!==o[n].index&&(e.mark("moving page"),e.updatePage({id:t,index:i}))},Nb=(0,s.u4)((function({index:e,listSize:t,item:n,onRename:r}){const i=Gr(),o=Km(),s=i.getPages(),a=(0,Wr.useCallback)((()=>{i.mark("creating page");const e=nn.createId();i.duplicatePage(n.id,e)}),[i,n]),c=(0,Wr.useCallback)((()=>{Rb(i,n.id,e,e-1)}),[i,n,e]),l=(0,Wr.useCallback)((()=>{Rb(i,n.id,e,e+1)}),[i,n,e]),u=(0,Wr.useCallback)((()=>{i.mark("deleting page"),i.deletePage(n.id)}),[i,n]);return(0,Vr.jsxs)(Ry,{id:`page item submenu ${e}`,children:[(0,Vr.jsx)(Ny,{children:(0,Vr.jsx)(Jm,{type:"icon",title:o("page-menu.submenu.title"),children:(0,Vr.jsx)(tg,{icon:"dots-vertical"})})}),(0,Vr.jsx)(Ly,{alignOffset:0,side:"right",sideOffset:-4,children:(0,Vr.jsxs)(pg,{type:"menu",sourceId:"page-menu",children:[(0,Vr.jsxs)(lv,{id:"modify",children:[r&&(0,Vr.jsx)(qy,{id:"rename",label:"page-menu.submenu.rename",onSelect:r}),(0,Vr.jsx)(qy,{id:"duplicate",label:"page-menu.submenu.duplicate-page",onSelect:a,disabled:s.length>=Ri}),e>0&&(0,Vr.jsx)(qy,{id:"move-up",onSelect:c,label:"page-menu.submenu.move-up"}),e<t-1&&(0,Vr.jsx)(qy,{id:"move-down",label:"page-menu.submenu.move-down",onSelect:l})]}),t>1&&(0,Vr.jsx)(lv,{id:"delete",children:(0,Vr.jsx)(qy,{id:"delete",onSelect:u,label:"page-menu.submenu.delete"})})]})})]})})),Lb=(0,Wr.memo)((function(){const e=Gr(),t=Km(),n=Zm(),r=(0,Wr.useCallback)((()=>g(!1)),[]),[i,o]=ag("page-menu",r),a=36,c=(0,Wr.useRef)(null),l=(0,s.h)("pages",(()=>e.getPages()),[e]),u=(0,s.h)("currentPage",(()=>e.getCurrentPage()),[e]),d=(0,s.h)("currentPageId",(()=>e.getCurrentPageId()),[e]),h=Yu(),p=(0,s.h)("maxPageCountReached",(()=>e.getPages().length>=Ri),[e]),f=(0,s.h)("isCoarsePointer",(()=>e.getInstanceState().isCoarsePointer),[e]),[m,g]=(0,Wr.useState)(!1),y=(0,Wr.useCallback)((()=>{h||g((e=>!e))}),[h]),v=(0,Wr.useRef)({isPointing:!1,status:"idle",pointing:null,startY:0,startIndex:0,dragIndex:0}),[b,x]=(0,Wr.useState)(Object.fromEntries(l.map(((e,t)=>[e.id,{y:t*a,offsetY:0,isSelected:!1}]))));(0,Wr.useLayoutEffect)((()=>{x(Object.fromEntries(l.map(((e,t)=>[e.id,{y:t*a,offsetY:0,isSelected:!1}]))))}),[a,l]),(0,Wr.useEffect)((()=>{i&&requestAnimationFrame((()=>{const e=document.querySelector(`[data-testid="page-menu-item-${d}"]`);if(e){const t=c.current;if(!t)return;const n=e.offsetTop;n<t.scrollTop&&t.scrollTo({top:n});const r=n+a;r>t.scrollTop+t.offsetHeight&&t.scrollTo({top:r-t.offsetHeight})}}))}),[a,d,i]);const O=(0,Wr.useCallback)((e=>{const{clientY:t,currentTarget:n}=e,{dataset:{id:r,index:i}}=n;if(!r||!i)return;const o=v.current;lo(e.currentTarget,e),o.status="pointing",o.pointing={id:r,index:+i};const s=b[r].y;o.startY=t,o.startIndex=Math.max(0,Math.min(Math.round(s/a),l.length-1))}),[a,l.length,b]),w=(0,Wr.useCallback)((e=>{const t=v.current;if("pointing"===t.status){const{clientY:n}=e,r=n-t.startY;Math.abs(r)>5&&(t.status="dragging")}if("dragging"===t.status){const{clientY:n}=e,r=n-t.startY,i=b[t.pointing.id],{startIndex:o,pointing:s}=t,c=i.y+r,u=Math.max(0,Math.min(Math.round(c/a),l.length-1)),d={...b};if(d[s.id]={y:i.y,offsetY:r,isSelected:!0},u!==t.dragIndex){t.dragIndex=u;for(let e=0;e<l.length;e++){const n=l[e];if(n.id===t.pointing.id)continue;let{y:r}=d[n.id];u===o?r=e*a:u<o?r=u<=e&&e<o?(e+1)*a:e*a:u>o&&(r=u>=e&&e>o?(e-1)*a:e*a),r!==d[n.id].y&&(d[n.id]={y:r,offsetY:0,isSelected:!0})}}x(d)}}),[a,l,b]),S=(0,Wr.useCallback)((t=>{const n=v.current;if("dragging"===n.status){const{id:t,index:r}=n.pointing;Rb(e,t,r,n.dragIndex)}uo(t.currentTarget,t),n.status="idle"}),[e]),k=(0,Wr.useCallback)((e=>{const t=v.current;"Escape"===e.key&&("dragging"===t.status&&x(Object.fromEntries(l.map(((e,t)=>[e.id,{y:t*a,offsetY:0,isSelected:!1}])))),t.status="idle")}),[a,l]),_=(0,Wr.useCallback)((()=>{h||e.batch((()=>{e.mark("creating page");const n=nn.createId();e.createPage({name:t("page-menu.new-page-initial-name"),id:n}),e.setCurrentPage(n),g(!0)}))}),[e,t,h]);return(0,Vr.jsxs)(cg,{id:"pages",onOpenChange:o,open:i,children:[(0,Vr.jsx)(lg,{"data-testid":"main.page-menu",children:(0,Vr.jsxs)(Jm,{type:"menu",title:u.name,"data-testid":"page-menu.button",className:"tlui-page-menu__trigger",children:[(0,Vr.jsx)("div",{className:"tlui-page-menu__name",children:u.name}),(0,Vr.jsx)(tg,{icon:"chevron-down",small:!0})]})}),(0,Vr.jsx)(ug,{side:"bottom",align:"start",sideOffset:6,children:(0,Vr.jsxs)("div",{className:"tlui-page-menu__wrapper",children:[(0,Vr.jsxs)("div",{className:"tlui-page-menu__header",children:[(0,Vr.jsx)("div",{className:"tlui-page-menu__header__title",children:t("page-menu.title")}),!h&&(0,Vr.jsxs)("div",{className:"tlui-buttons__horizontal",children:[(0,Vr.jsx)(Jm,{type:"icon","data-testid":"page-menu.edit",title:t(m?"page-menu.edit-done":"page-menu.edit-start"),onClick:y,children:(0,Vr.jsx)(tg,{icon:m?"check":"edit"})}),(0,Vr.jsx)(Jm,{type:"icon","data-testid":"page-menu.create",title:t(p?"page-menu.max-page-count-reached":"page-menu.create-new-page"),disabled:p,onClick:_,children:(0,Vr.jsx)(tg,{icon:"plus"})})]})]}),(0,Vr.jsx)("div",{"data-testid":"page-menu.list",className:"tlui-page-menu__list tlui-menu__group",style:{height:a*l.length+4},ref:c,children:l.map(((r,i)=>{const o=b[r.id]??{position:40*i,offsetY:0};return m?(0,Vr.jsxs)("div",{"data-testid":"page-menu.item",className:"tlui-page_menu__item__sortable",style:{zIndex:r.id===u.id?888:i,transform:`translate(0px, ${o.y+o.offsetY}px)`},children:[(0,Vr.jsx)(Jm,{type:"icon",tabIndex:-1,className:"tlui-page_menu__item__sortable__handle",onPointerDown:O,onPointerUp:S,onPointerMove:w,onKeyDown:k,"data-id":r.id,"data-index":i,children:(0,Vr.jsx)(tg,{icon:"drag-handle-dots"})}),n<zm.TABLET_SM&&f?(0,Vr.jsxs)(Jm,{type:"normal",className:"tlui-page-menu__item__button",onClick:()=>{const t=window.prompt("Rename page",r.name);t&&t!==r.name&&e.renamePage(r.id,t)},onDoubleClick:y,children:[(0,Vr.jsx)(Hv,{checked:r.id===u.id}),(0,Vr.jsx)(yg,{children:r.name})]}):(0,Vr.jsx)("div",{className:"tlui-page_menu__item__sortable__title",style:{height:a},children:(0,Vr.jsx)($b,{id:r.id,name:r.name,isCurrentPage:r.id===u.id})}),!h&&(0,Vr.jsx)("div",{className:"tlui-page_menu__item__submenu","data-isediting":m,children:(0,Vr.jsx)(Nb,{index:i,item:r,listSize:l.length})})]},r.id+"_editing"):(0,Vr.jsxs)("div",{"data-testid":"page-menu.item",className:"tlui-page-menu__item",children:[(0,Vr.jsxs)(Jm,{type:"normal",className:"tlui-page-menu__item__button",onClick:()=>e.setCurrentPage(r.id),onDoubleClick:y,title:t("page-menu.go-to-page"),children:[(0,Vr.jsx)(Hv,{checked:r.id===u.id}),(0,Vr.jsx)(yg,{children:r.name})]}),!h&&(0,Vr.jsx)("div",{className:"tlui-page_menu__item__submenu",children:(0,Vr.jsx)(Nb,{index:i,item:r,listSize:l.length,onRename:()=>{if(e.environment.isIos){const t=window.prompt("Rename page",r.name);t&&t!==r.name&&e.renamePage(r.id,t)}else e.batch((()=>{g(!0),e.setCurrentPage(r.id)}))}})})]},r.id)}))})]})})]})}));function Qb(){const e=Py(),t=Gr(),n=Au(),r=Mu(),i=ju(1),o=Yu(),a=(0,s.h)("should display quick actions",(()=>t.isInAny("select","hand","zoom")),[t]);if(!o||a)return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(qy,{...e.undo,disabled:!n}),(0,Vr.jsx)(qy,{...e.redo,disabled:!r}),(0,Vr.jsx)(qy,{...e.delete,disabled:!i}),(0,Vr.jsx)(qy,{...e.duplicate,disabled:!i})]})}const zb=(0,Wr.memo)((function({children:e}){const t=e??(0,Vr.jsx)(Qb,{});return(0,Vr.jsx)(pg,{type:"small-icons",sourceId:"quick-actions",children:t})})),Fb=Object.freeze([Zn,Wn,Un,Xn]);function Bb(e=Fb){const t=Gr();return(0,s.h)("getRelevantStyles",(()=>{const n=new Wa(t.getSharedStyles()),r=!!t.root.getCurrent()?.shapeType,i=t.isIn("select")&&t.getSelectedShapeIds().length>0;if(0===n.size&&t.isIn("select")&&0===t.getSelectedShapeIds().length)for(const r of e)n.applyValue(r,t.getStyleForNextShape(r));return r||i||n.size>0?n:null}),[t])}const Zb={color:[{value:"black",icon:"color"},{value:"grey",icon:"color"},{value:"light-violet",icon:"color"},{value:"violet",icon:"color"},{value:"blue",icon:"color"},{value:"light-blue",icon:"color"},{value:"yellow",icon:"color"},{value:"orange",icon:"color"},{value:"green",icon:"color"},{value:"light-green",icon:"color"},{value:"light-red",icon:"color"},{value:"red",icon:"color"}],fill:[{value:"none",icon:"fill-none"},{value:"semi",icon:"fill-semi"},{value:"solid",icon:"fill-solid"},{value:"pattern",icon:"fill-pattern"}],dash:[{value:"draw",icon:"dash-draw"},{value:"dashed",icon:"dash-dashed"},{value:"dotted",icon:"dash-dotted"},{value:"solid",icon:"dash-solid"}],size:[{value:"s",icon:"size-small"},{value:"m",icon:"size-medium"},{value:"l",icon:"size-large"},{value:"xl",icon:"size-extra-large"}],font:[{value:"draw",icon:"font-draw"},{value:"sans",icon:"font-sans"},{value:"serif",icon:"font-serif"},{value:"mono",icon:"font-mono"}],horizontalAlign:[{value:"start",icon:"text-align-left"},{value:"middle",icon:"text-align-center"},{value:"end",icon:"text-align-right"}],verticalAlign:[{value:"start",icon:"vertical-align-start"},{value:"middle",icon:"vertical-align-center"},{value:"end",icon:"vertical-align-end"}],geo:[{value:"rectangle",icon:"geo-rectangle"},{value:"ellipse",icon:"geo-ellipse"},{value:"cloud",icon:"geo-cloud"},{value:"triangle",icon:"geo-triangle"},{value:"diamond",icon:"geo-diamond"},{value:"pentagon",icon:"geo-pentagon"},{value:"hexagon",icon:"geo-hexagon"},{value:"octagon",icon:"geo-octagon"},{value:"star",icon:"geo-star"},{value:"rhombus",icon:"geo-rhombus"},{value:"rhombus-2",icon:"geo-rhombus-2"},{value:"oval",icon:"geo-oval"},{value:"trapezoid",icon:"geo-trapezoid"},{value:"arrow-right",icon:"geo-arrow-right"},{value:"arrow-left",icon:"geo-arrow-left"},{value:"arrow-up",icon:"geo-arrow-up"},{value:"arrow-down",icon:"geo-arrow-down"},{value:"x-box",icon:"geo-x-box"},{value:"check-box",icon:"geo-check-box"}],arrowheadStart:[{value:"none",icon:"arrowhead-none"},{value:"arrow",icon:"arrowhead-arrow"},{value:"triangle",icon:"arrowhead-triangle"},{value:"square",icon:"arrowhead-square"},{value:"dot",icon:"arrowhead-dot"},{value:"diamond",icon:"arrowhead-diamond"},{value:"inverted",icon:"arrowhead-triangle-inverted"},{value:"bar",icon:"arrowhead-bar"}],arrowheadEnd:[{value:"none",icon:"arrowhead-none"},{value:"arrow",icon:"arrowhead-arrow"},{value:"triangle",icon:"arrowhead-triangle"},{value:"square",icon:"arrowhead-square"},{value:"dot",icon:"arrowhead-dot"},{value:"diamond",icon:"arrowhead-diamond"},{value:"inverted",icon:"arrowhead-triangle-inverted"},{value:"bar",icon:"arrowhead-bar"}],spline:[{value:"line",icon:"spline-line"},{value:"cubic",icon:"spline-cubic"}]},Vb=(0,Wr.memo)((function(e){const{uiType:t,items:n,title:r,style:i,value:o,onValueChange:a}=e,c=Gr(),l=Km(),u=(0,Wr.useRef)(!1),{handleButtonClick:d,handleButtonPointerDown:h,handleButtonPointerEnter:p,handleButtonPointerUp:f}=(0,Wr.useMemo)((()=>{const e=()=>{u.current=!1,window.removeEventListener("pointerup",e)};return{handleButtonClick:e=>{const{id:t}=e.currentTarget.dataset;"shared"===o.type&&o.value===t||(c.mark("point picker item"),a(i,t,!1))},handleButtonPointerDown:t=>{const{id:n}=t.currentTarget.dataset;c.mark("point picker item"),a(i,n,!0),u.current=!0,window.addEventListener("pointerup",e)},handleButtonPointerEnter:e=>{if(!u.current)return;const{id:t}=e.currentTarget.dataset;a(i,t,!0)},handleButtonPointerUp:e=>{const{id:t}=e.currentTarget.dataset;"shared"===o.type&&o.value===t||a(i,t,!1)}}}),[o,c,a,i]),m=(0,s.h)("theme",(()=>Bn({isDarkMode:c.user.getIsDarkMode()})),[c]);return(0,Vr.jsx)("div",{"data-testid":`style.${t}`,className:Ur("tlui-buttons__grid"),children:n.map((e=>(0,Vr.jsx)(Jm,{type:"icon","data-id":e.value,"data-testid":`style.${t}.${e.value}`,"aria-label":e.value,"data-state":"shared"===o.type&&o.value===e.value?"hinted":void 0,title:r+"  "+l(`${t}-style.${e.value}`),className:Ur("tlui-button-grid__button"),style:i===Zn?{color:m[e.value].solid}:void 0,onPointerEnter:p,onPointerDown:h,onPointerUp:f,onClick:d,children:(0,Vr.jsx)(tg,{icon:e.icon})},e.value)))})}));var Wb=n(21262);const Ub=(0,Wr.memo)((function(e){const{title:t,steps:n,value:r,label:i,onValueChange:o}=e,s=Gr(),a=Km(),c=(0,Wr.useCallback)((e=>{o(e[0],!0)}),[o]),l=(0,Wr.useCallback)((()=>{s.mark("click slider")}),[s]),u=(0,Wr.useCallback)((()=>{r&&o(r,!1)}),[r,o]);return(0,Vr.jsx)("div",{className:"tlui-slider__container",children:(0,Vr.jsxs)(Wb.bL,{"data-testid":e["data-testid"],className:"tlui-slider","area-label":"Opacity",dir:"ltr",min:0,max:n,step:1,value:r?[r]:void 0,onPointerDown:l,onValueChange:c,onPointerUp:u,title:t+"  "+a(i),children:[(0,Vr.jsx)(Wb.CC,{className:"tlui-slider__track",dir:"ltr",children:null!==r&&(0,Vr.jsx)(Wb.Q6,{className:"tlui-slider__range",dir:"ltr"})}),null!==r&&(0,Vr.jsx)(Wb.zi,{className:"tlui-slider__thumb",dir:"ltr"})]})})})),qb=Wr.memo((function({label:e,uiTypeA:t,uiTypeB:n,labelA:r,labelB:i,itemsA:o,itemsB:s,styleA:a,styleB:c,valueA:l,valueB:u,onValueChange:d}){const h=Km(),p=Wr.useMemo((()=>o.find((e=>"shared"===l.type&&l.value===e.value))?.icon??"mixed"),[o,l]),f=Wr.useMemo((()=>s.find((e=>"shared"===u.type&&u.value===e.value))?.icon??"mixed"),[s,u]);return void 0===l&&void 0===u?null:(0,Vr.jsxs)("div",{className:"tlui-style-panel__double-select-picker",children:[(0,Vr.jsx)("div",{title:h(e),className:"tlui-style-panel__double-select-picker-label",children:h(e)}),(0,Vr.jsxs)("div",{className:"tlui-buttons__horizontal",children:[(0,Vr.jsxs)(Ry,{id:`style panel ${t} A`,children:[(0,Vr.jsx)(Ny,{children:(0,Vr.jsx)(Jm,{type:"icon","data-testid":`style.${t}`,title:h(r)+"  "+(null===l||"mixed"===l.type?h("style-panel.mixed"):h(`${t}-style.${l.value}`)),children:(0,Vr.jsx)(tg,{icon:p,small:!0,invertIcon:!0})})}),(0,Vr.jsx)(Ly,{side:"bottom",align:"end",sideOffset:0,alignOffset:-2,children:(0,Vr.jsx)("div",{className:"tlui-buttons__grid",children:o.map(((e,n)=>(0,Vr.jsx)(Vy,{"data-testid":`style.${t}.${e.value}`,children:(0,Vr.jsx)(Jm,{type:"icon",onClick:()=>d(a,e.value,!1),title:`${h(r)}  ${h(`${t}-style.${e.value}`)}`,children:(0,Vr.jsx)(tg,{icon:e.icon,invertIcon:!0})},e.value)},n)))})})]}),(0,Vr.jsxs)(Ry,{id:`style panel ${n}`,children:[(0,Vr.jsx)(Ny,{children:(0,Vr.jsx)(Jm,{type:"icon","data-testid":`style.${n}`,title:h(i)+"  "+(null===u||"mixed"===u.type?h("style-panel.mixed"):h(`${n}-style.${u.value}`)),children:(0,Vr.jsx)(tg,{icon:f,small:!0})})}),(0,Vr.jsx)(Ly,{side:"bottom",align:"end",sideOffset:0,alignOffset:-2,children:(0,Vr.jsx)("div",{className:"tlui-buttons__grid",children:s.map((e=>(0,Vr.jsx)(Vy,{children:(0,Vr.jsx)(Jm,{type:"icon",title:`${h(i)}  ${h(`${n}-style.${e.value}`)}`,"data-testid":`style.${n}.${e.value}`,onClick:()=>d(c,e.value,!1),children:(0,Vr.jsx)(tg,{icon:e.icon})})},e.value)))})})]})]})]})})),Yb=Wr.memo((function({id:e,label:t,uiType:n,style:r,items:i,type:o,value:s,onValueChange:a}){const c=Km(),l=Gr(),u=Wr.useMemo((()=>i.find((e=>"shared"===s.type&&e.value===s.value))?.icon),[i,s]),d="mixed"===s.type?c("style-panel.mixed"):c(`${n}-style.${s.value}`),h=t?c(t):"";return(0,Vr.jsxs)(Ry,{id:`style panel ${e}`,children:[(0,Vr.jsx)(Ny,{children:(0,Vr.jsxs)(Jm,{type:o,"data-testid":`style.${n}`,title:d,children:[(0,Vr.jsx)(yg,{children:h}),(0,Vr.jsx)(tg,{icon:u??"mixed"})]})}),(0,Vr.jsx)(Ly,{side:"left",align:"center",alignOffset:0,children:(0,Vr.jsx)("div",{className:"tlui-buttons__grid",children:i.map((e=>(0,Vr.jsx)(Vy,{children:(0,Vr.jsx)(Jm,{type:"icon","data-testid":`style.${n}.${e.value}`,title:c(`${n}-style.${e.value}`),onClick:()=>{l.mark("select style dropdown item"),a(r,e.value,!1)},children:(0,Vr.jsx)(tg,{icon:e.icon})})},e.value)))})})]})}));function Xb({styles:e}){if(!e)return null;const t=e.get(yr),n=e.get(Kn),r=e.get(Gn),i=void 0===t,o=void 0===n&&void 0===r,s=void 0===e.get(Er),a=void 0===e.get(qn);return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(Gb,{styles:e}),!a&&(0,Vr.jsx)(Kb,{styles:e}),!(i&&o&&s)&&(0,Vr.jsxs)("div",{className:"tlui-style-panel__section","aria-label":"style panel styles",children:[(0,Vr.jsx)(Jb,{styles:e}),(0,Vr.jsx)(tx,{styles:e}),(0,Vr.jsx)(ex,{styles:e})]})]})}function Hb(){const e=Gr(),t=sg();return Wr.useMemo((()=>function(n,r,i){e.batch((()=>{e.isIn("select")&&e.setStyleForSelectedShapes(n,r,{squashing:i}),e.setStyleForNextShapes(n,r,{squashing:i}),e.updateInstanceState({isChangingStyle:!0},{ephemeral:!0})})),t("set-style",{source:"style-panel",id:n.id,value:r})}),[e,t])}function Gb({styles:e}){const t=Km(),n=Hb(),r=e.get(Zn),i=e.get(Un),o=e.get(Wn),s=e.get(Xn),a=void 0!==i||void 0!==o||void 0!==s;return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)("div",{tabIndex:-1,className:"tlui-style-panel__section__common","aria-label":"style panel styles","data-testid":"style.panel",children:[void 0===r?null:(0,Vr.jsx)(Vb,{title:t("style-panel.color"),uiType:"color",style:Zn,items:Zb.color,value:r,onValueChange:n}),(0,Vr.jsx)(rx,{})]}),a&&(0,Vr.jsxs)("div",{className:"tlui-style-panel__section","aria-label":"style panel styles",children:[void 0===i?null:(0,Vr.jsx)(Vb,{title:t("style-panel.fill"),uiType:"fill",style:Un,items:Zb.fill,value:i,onValueChange:n}),void 0===o?null:(0,Vr.jsx)(Vb,{title:t("style-panel.dash"),uiType:"dash",style:Wn,items:Zb.dash,value:o,onValueChange:n}),void 0===s?null:(0,Vr.jsx)(Vb,{title:t("style-panel.size"),uiType:"size",style:Xn,items:Zb.size,value:s,onValueChange:n})]})]})}function Kb({styles:e}){const t=Km(),n=Hb(),r=e.get(qn),i=e.get(mr),o=e.get(gr);return void 0===r&&void 0===i?null:(0,Vr.jsxs)("div",{className:"tlui-style-panel__section","aria-label":"style panel text",children:[void 0===r?null:(0,Vr.jsx)(Vb,{title:t("style-panel.font"),uiType:"font",style:qn,items:Zb.font,value:r,onValueChange:n}),void 0===i?null:(0,Vr.jsxs)("div",{className:"tlui-style-panel__row",children:[(0,Vr.jsx)(Vb,{title:t("style-panel.align"),uiType:"align",style:mr,items:Zb.horizontalAlign,value:i,onValueChange:n}),(0,Vr.jsx)("div",{className:"tlui-style-panel__row__extra-button",children:void 0===o?(0,Vr.jsx)(Jm,{type:"icon",title:t("style-panel.vertical-align"),"data-testid":"vertical-align",disabled:!0,children:(0,Vr.jsx)(tg,{icon:"vertical-align-center"})}):(0,Vr.jsx)(Yb,{type:"icon",id:"geo-vertical-alignment",uiType:"verticalAlign",style:gr,items:Zb.verticalAlign,value:o,onValueChange:n})})]})]})}function Jb({styles:e}){const t=Hb(),n=e.get(yr);return void 0===n?null:(0,Vr.jsx)(Yb,{id:"geo",type:"menu",label:"style-panel.geo",uiType:"geo",style:yr,items:Zb.geo,value:n,onValueChange:t})}function ex({styles:e}){const t=Hb(),n=e.get(Er);return void 0===n?null:(0,Vr.jsx)(Yb,{id:"spline",type:"menu",label:"style-panel.spline",uiType:"spline",style:Er,items:Zb.spline,value:n,onValueChange:t})}function tx({styles:e}){const t=Hb(),n=e.get(Kn),r=e.get(Gn);return n&&r?(0,Vr.jsx)(qb,{label:"style-panel.arrowheads",uiTypeA:"arrowheadStart",styleA:Gn,itemsA:Zb.arrowheadStart,valueA:r,uiTypeB:"arrowheadEnd",styleB:Kn,itemsB:Zb.arrowheadEnd,valueB:n,onValueChange:t,labelA:"style-panel.arrowhead-start",labelB:"style-panel.arrowhead-end"}):null}const nx=[.1,.25,.5,.75,1];function rx(){const e=Gr(),t=(0,s.h)("opacity",(()=>e.getSharedOpacity()),[e]),n=sg(),r=Km(),i=Wr.useCallback(((t,r)=>{const i=nx[t];e.batch((()=>{e.isIn("select")&&e.setOpacityForSelectedShapes(i,{squashing:r}),e.setOpacityForNextShapes(i,{squashing:r}),e.updateInstanceState({isChangingStyle:!0},{ephemeral:!0})})),n("set-style",{source:"style-panel",id:"opacity",value:t})}),[e,n]);if(void 0===t)return null;const o="mixed"===t.type?-1:nx.indexOf(h(nx,(e=>Math.abs(e-t.value))));return(0,Vr.jsx)(Ub,{"data-testid":"style.opacity",value:o>=0?o:nx.length-1,label:"mixed"===t.type?"style-panel.mixed":`opacity-style.${t.value}`,onValueChange:i,steps:nx.length-1,title:r("style-panel.opacity")})}const ix=(0,Wr.memo)((function({isMobile:e,children:t}){const n=Gr(),r=Bb(),i=(0,Wr.useCallback)((()=>{e||n.updateInstanceState({isChangingStyle:!1},{ephemeral:!0})}),[n,e]),o=t??(0,Vr.jsx)(Xb,{styles:r});return(0,Vr.jsx)("div",{className:Ur("tlui-style-panel",{"tlui-style-panel__wrapper":!e}),"data-ismobile":e,onPointerLeave:i,children:o})})),ox="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function sx(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),n)}function ax(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on".concat(t),n)}function cx(e,t){const n=t.slice(0,t.length-1);for(let t=0;t<n.length;t++)n[t]=e[n[t].toLowerCase()];return n}function lx(e){"string"!=typeof e&&(e="");const t=(e=e.replace(/\s/g,"")).split(",");let n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}const ux={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":ox?173:189,"=":ox?61:187,";":ox?59:186,"'":222,"[":219,"]":221,"\\":220},dx={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},hx={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},px={16:!1,18:!1,17:!1,91:!1},fx={};for(let e=1;e<20;e++)ux["f".concat(e)]=111+e;let mx=[],gx=null,yx="all";const vx=new Map,bx=e=>ux[e.toLowerCase()]||dx[e.toLowerCase()]||e.toUpperCase().charCodeAt(0);function xx(e){yx=e||"all"}function Ox(){return yx||"all"}function wx(e){if(void 0===e)Object.keys(fx).forEach((e=>{Array.isArray(fx[e])&&fx[e].forEach((e=>Sx(e))),delete fx[e]})),Ex(null);else if(Array.isArray(e))e.forEach((e=>{e.key&&Sx(e)}));else if("object"==typeof e)e.key&&Sx(e);else if("string"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let[i,o]=n;"function"==typeof i&&(o=i,i=""),Sx({key:e,scope:i,method:o,splitKey:"+"})}}const Sx=e=>{let{key:t,scope:n,method:r,splitKey:i="+"}=e;lx(t).forEach((e=>{const t=e.split(i),o=t.length,s=t[o-1],a="*"===s?"*":bx(s);if(!fx[a])return;n||(n=Ox());const c=o>1?cx(dx,t):[],l=[];fx[a]=fx[a].filter((e=>{const t=(!r||e.method===r)&&e.scope===n&&function(e,t){const n=e.length>=t.length?e:t,r=e.length>=t.length?t:e;let i=!0;for(let e=0;e<n.length;e++)-1===r.indexOf(n[e])&&(i=!1);return i}(e.mods,c);return t&&l.push(e.element),!t})),l.forEach((e=>Ex(e)))}))};function kx(e,t,n,r){if(t.element!==r)return;let i;if(t.scope===n||"all"===t.scope){i=t.mods.length>0;for(const e in px)Object.prototype.hasOwnProperty.call(px,e)&&(!px[e]&&t.mods.indexOf(+e)>-1||px[e]&&-1===t.mods.indexOf(+e))&&(i=!1);(0!==t.mods.length||px[16]||px[18]||px[17]||px[91])&&!i&&"*"!==t.shortcut||(t.keys=[],t.keys=t.keys.concat(mx),!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function _x(e,t){const n=fx["*"];let r=e.keyCode||e.which||e.charCode;if(!Px.filter.call(this,e))return;if(93!==r&&224!==r||(r=91),-1===mx.indexOf(r)&&229!==r&&mx.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach((t=>{const n=hx[t];e[t]&&-1===mx.indexOf(n)?mx.push(n):!e[t]&&mx.indexOf(n)>-1?mx.splice(mx.indexOf(n),1):"metaKey"===t&&e[t]&&3===mx.length&&(e.ctrlKey||e.shiftKey||e.altKey||(mx=mx.slice(mx.indexOf(n))))})),r in px){px[r]=!0;for(const e in dx)dx[e]===r&&(Px[e]=!0);if(!n)return}for(const t in px)Object.prototype.hasOwnProperty.call(px,t)&&(px[t]=e[hx[t]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===mx.indexOf(17)&&mx.push(17),-1===mx.indexOf(18)&&mx.push(18),px[17]=!0,px[18]=!0);const i=Ox();if(n)for(let r=0;r<n.length;r++)n[r].scope===i&&("keydown"===e.type&&n[r].keydown||"keyup"===e.type&&n[r].keyup)&&kx(e,n[r],i,t);if(!(r in fx))return;const o=fx[r],s=o.length;for(let n=0;n<s;n++)if(("keydown"===e.type&&o[n].keydown||"keyup"===e.type&&o[n].keyup)&&o[n].key){const r=o[n],{splitKey:s}=r,a=r.key.split(s),c=[];for(let e=0;e<a.length;e++)c.push(bx(a[e]));c.sort().join("")===mx.sort().join("")&&kx(e,r,i,t)}}function Px(e,t,n){mx=[];const r=lx(e);let i=[],o="all",s=document,a=0,c=!1,l=!0,u="+",d=!1,h=!1;for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(o=t.scope),t.element&&(s=t.element),t.keyup&&(c=t.keyup),void 0!==t.keydown&&(l=t.keydown),void 0!==t.capture&&(d=t.capture),"string"==typeof t.splitKey&&(u=t.splitKey),!0===t.single&&(h=!0)),"string"==typeof t&&(o=t),h&&wx(e,o);a<r.length;a++)i=[],(e=r[a].split(u)).length>1&&(i=cx(dx,e)),(e="*"===(e=e[e.length-1])?"*":bx(e))in fx||(fx[e]=[]),fx[e].push({keyup:c,keydown:l,scope:o,mods:i,shortcut:r[a],method:n,key:r[a],splitKey:u,element:s});if(void 0!==s&&window){if(!vx.has(s)){const e=function(){return _x(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event,s)},t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;_x(e,s),function(e){let t=e.keyCode||e.which||e.charCode;const n=mx.indexOf(t);if(n>=0&&mx.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&mx.splice(0,mx.length),93!==t&&224!==t||(t=91),t in px){px[t]=!1;for(const e in dx)dx[e]===t&&(Px[e]=!1)}}(e)};vx.set(s,{keydownListener:e,keyupListenr:t,capture:d}),sx(s,"keydown",e,d),sx(s,"keyup",t,d)}if(!gx){const e=()=>{mx=[]};gx={listener:e,capture:d},sx(window,"focus",e,d)}}}function Ex(e){const t=Object.values(fx).flat();if(t.findIndex((t=>{let{element:n}=t;return n===e}))<0){const{keydownListener:t,keyupListenr:n,capture:r}=vx.get(e)||{};t&&n&&(ax(e,"keyup",n,r),ax(e,"keydown",t,r),vx.delete(e))}if((t.length<=0||vx.size<=0)&&(Object.keys(vx).forEach((e=>{const{keydownListener:t,keyupListenr:n,capture:r}=vx.get(e)||{};t&&n&&(ax(e,"keyup",n,r),ax(e,"keydown",t,r),vx.delete(e))})),vx.clear(),Object.keys(fx).forEach((e=>delete fx[e])),gx)){const{listener:e,capture:t}=gx;ax(window,"focus",e,t),gx=null}}const Cx={getPressedKeyString:function(){return mx.map((e=>{return t=e,Object.keys(ux).find((e=>ux[e]===t))||(e=>Object.keys(dx).find((t=>dx[t]===e)))(e)||String.fromCharCode(e);var t}))},setScope:xx,getScope:Ox,deleteScope:function(e,t){let n,r;e||(e=Ox());for(const t in fx)if(Object.prototype.hasOwnProperty.call(fx,t))for(n=fx[t],r=0;r<n.length;)n[r].scope===e?n.splice(r,1).forEach((e=>{let{element:t}=e;return Ex(t)})):r++;Ox()===e&&xx(t||"all")},getPressedKeyCodes:function(){return mx.slice(0)},getAllKeyCodes:function(){const e=[];return Object.keys(fx).forEach((t=>{fx[t].forEach((t=>{let{key:n,scope:r,mods:i,shortcut:o}=t;e.push({scope:r,shortcut:o,mods:i,keys:n.split("+").map((e=>bx(e)))})}))})),e},isPressed:function(e){return"string"==typeof e&&(e=bx(e)),-1!==mx.indexOf(e)},filter:function(e){const t=e.target||e.srcElement,{tagName:n}=t;let r=!0;const i="INPUT"===n&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(i||"TEXTAREA"===n||"SELECT"===n)&&!t.readOnly)&&(r=!1),r},trigger:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(fx).forEach((n=>{fx[n].filter((n=>n.scope===t&&n.shortcut===e)).forEach((e=>{e&&e.method&&e.method()}))}))},unbind:wx,keyMap:ux,modifier:dx,modifierMap:hx};for(const e in Cx)Object.prototype.hasOwnProperty.call(Cx,e)&&(Px[e]=Cx[e]);if("undefined"!=typeof window){const e=window.hotkeys;Px.noConflict=t=>(t&&window.hotkeys===Px&&(window.hotkeys=e),Px),window.hotkeys=Px}const Tx=["copy","cut","paste","asset"];function jx(){const e=Gr(),t=Yu(),n=Py(),r=mb(),i=(0,s.h)("is focused",(()=>e.getInstanceState().isFocused),[e]),{itemsInPanel:o}=Vx();(0,Wr.useEffect)((()=>{if(!i)return;const o=e.getContainer();Px.setScope(e.store.id);const s=(t,n)=>{Px(t,{element:document.body,scope:e.store.id},n)};for(const r of Object.values(n))r.kbd&&(t&&!r.readonlyOk||Tx.includes(r.id)||s(Ix(r.kbd),(t=>{Mx(e)||(co(t),r.onSelect("kbd"))})));for(const t of Object.values(r))!t.kbd||!t.readonlyOk&&e.getInstanceState().isReadonly||Tx.includes(t.id)||s(Ix(t.kbd),(n=>{Mx(e)||(co(n),t.onSelect("kbd"))}));return s(",",(t=>{if(Mx(e))return;if(e.inputs.keys.has("Comma"))return;co(t),o.focus(),e.inputs.keys.add("Comma");const{x:n,y:r,z:i}=e.inputs.currentScreenPoint,s={type:"pointer",name:"pointer_down",point:{x:n,y:r,z:i},shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.metaKey||t.ctrlKey,pointerId:0,button:0,isPen:e.getInstanceState().isPenMode,target:"canvas"};e.dispatch(s)})),Px(",",{element:document.body,keyup:!0,keydown:!1,scope:e.store.id},(t=>{if(Mx(e))return;if(!e.inputs.keys.has("Comma"))return;e.inputs.keys.delete("Comma");const{x:n,y:r,z:i}=e.inputs.currentScreenPoint,o={type:"pointer",name:"pointer_up",point:{x:n,y:r,z:i},shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.metaKey||t.ctrlKey,pointerId:0,button:0,isPen:e.getInstanceState().isPenMode,target:"canvas"};e.dispatch(o)})),()=>{Px.deleteScope(e.store.id)}}),[n,r,t,e,i,o])}function Ix(e){return function(e){"string"!=typeof e&&(e="");const t=(e=e.replace(/\s/g,"")).split(",");let n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}(e).map((e=>{let t="";const n=e.split("");return t=1===n.length?n[0]:"!"===n[0]?`shift+${n[1]}`:"?"===n[0]?3===n.length&&"!"===n[1]?`alt+shift+${n[2]}`:`alt+${n[1]}`:"$"===n[0]?"!"===n[1]?`cmd+shift+${n[2]},ctrl+shift+${n[2]}`:"?"===n[1]?`cmd++${n[2]},ctrl+alt+${n[2]}`:`cmd+${n[1]},ctrl+${n[1]}`:e,t})).join(",")}function Mx(e){return e.getIsMenuOpen()||null!==e.getEditingShapeId()||e.getCrashingError()}function Ax(e){return{id:e.id,type:"item",readonlyOk:e.readonlyOk,toolItem:e}}const Dx=Wr.createContext([]);function $x({overrides:e,children:t}){const n=Gr(),r=mb(),i=Wr.useMemo((()=>{const t=u([Ax(r.select),Ax(r.hand),Ax(r.draw),Ax(r.eraser),Ax(r.arrow),Ax(r.text),Ax(r.note),Ax(r.asset),Ax(r.rectangle),Ax(r.ellipse),Ax(r.diamond),Ax(r.triangle),Ax(r.trapezoid),Ax(r.rhombus),Ax(r.hexagon),Ax(r.cloud),Ax(r.star),Ax(r.oval),Ax(r["x-box"]),Ax(r["check-box"]),Ax(r["arrow-left"]),Ax(r["arrow-up"]),Ax(r["arrow-down"]),Ax(r["arrow-right"]),Ax(r.line),Ax(r.highlight),Ax(r.frame),Ax(r.laser)]);return e?e(n,t,{tools:r}):t}),[n,e,r]);return(0,Vr.jsx)(Dx.Provider,{value:i,children:t})}function Rx(){const e=Wr.useContext(Dx);if(!e)throw new Error("useToolbarSchema must be used within a ToolbarSchemaProvider");return e}function Nx(){const e=Gr(),t=Km(),n=Bb(),r=n?.get(Zn),i=Bn({isDarkMode:e.user.getIsDarkMode()}),o=("shared"===r?.type?i[r.value]:i.black).solid,a=(0,s.h)("disable style panel",(()=>e.isInAny("hand","zoom","eraser","laser")),[e]),c=(0,Wr.useCallback)((t=>{t||e.updateInstanceState({isChangingStyle:!1},{ephemeral:!0})}),[e]),{StylePanel:l}=Hx();return l?(0,Vr.jsxs)(cg,{id:"mobile style menu",onOpenChange:c,children:[(0,Vr.jsx)(lg,{children:(0,Vr.jsx)(Jm,{type:"tool","data-testid":"mobile-styles.button",style:{color:a?"var(--color-muted-1)":o},title:t("style-panel.title"),disabled:a,children:(0,Vr.jsx)(tg,{icon:a?"blob":"mixed"===r?.type?"mixed":"blob"})})}),(0,Vr.jsx)(ug,{side:"top",align:"end",children:l&&(0,Vr.jsx)(l,{isMobile:!0})})]}):null}const Lx=["select","hand","draw","eraser","text","zoom","laser","highlight"];function Qx({activeToolId:e}){const t=Gr(),n=Zm(),r=Km(),i=(0,s.h)("is tool locked",(()=>t.getInstanceState().isToolLocked),[t]);return!e||Lx.includes(e)?null:(0,Vr.jsx)(Jm,{type:"normal",title:r("action.toggle-tool-lock"),"data-testid":"tool-lock",className:Ur("tlui-toolbar__lock-button",{"tlui-toolbar__lock-button__mobile":n<zm.TABLET_SM}),onClick:()=>t.updateInstanceState({isToolLocked:!i}),children:(0,Vr.jsx)(tg,{icon:i?"lock":"unlock",small:!0})})}const zx=(0,Wr.memo)((function(){const e=Gr(),t=Km(),n=Zm(),r=Wr.useRef(void 0),i=Yu(),o=Rx(),a=(0,s.h)("current tool id",(()=>e.getCurrentToolId()),[e]),c=(0,s.h)("geo",(()=>e.getSharedStyles().getAsKnownValue(yr)),[e]),l=e=>e.label?`${t(e.label)} ${e.kbd?Ay(e.kbd):""}`:"",u=o.find((e=>Zx(e.toolItem,a,c))),{itemsInPanel:d,itemsInDropdown:h}=Vx(),p=(0,Wr.useMemo)((()=>{let e=h.find((e=>e===u));return e||(r.current||(r.current=h[0]),e=r.current,h.includes(e)||(e=h[0])),r.current=e,e}),[u,h]);(0,Wr.useEffect)((()=>{const t=[...d,p];for(let n=0;n<Math.min(10,t.length);n++)Px(`${n+1}`.slice(-1),(r=>{Mx(e)||(co(r),t[n].toolItem.onSelect("kbd"))}));return()=>{Px.unbind("1,2,3,4,5,6,7,8,9,0")}}),[p,e,d]);const{ActionsMenu:f,QuickActions:m}=Hx();return(0,Vr.jsx)("div",{className:"tlui-toolbar",children:(0,Vr.jsxs)("div",{className:"tlui-toolbar__inner",children:[(0,Vr.jsxs)("div",{className:"tlui-toolbar__left",children:[!i&&(0,Vr.jsxs)("div",{className:"tlui-toolbar__extras",children:[n<zm.TABLET&&(0,Vr.jsxs)("div",{className:"tlui-toolbar__extras__controls tlui-buttons__horizontal",children:[m&&(0,Vr.jsx)(m,{}),f&&(0,Vr.jsx)(f,{})]}),(0,Vr.jsx)(Qx,{activeToolId:a})]}),(0,Vr.jsxs)("div",{className:Ur("tlui-toolbar__tools",{"tlui-toolbar__tools__mobile":n<zm.TABLET_SM}),children:[d.map((({toolItem:e})=>(0,Vr.jsx)(Bx,{item:e,title:l(e),isSelected:Zx(e,a,c)},e.id))),h.length?(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(Bx,{item:p.toolItem,title:l(p.toolItem),isSelected:Zx(p.toolItem,a,c)},p.toolItem.id),(0,Vr.jsxs)(Ry,{id:"toolbar overflow",modal:!1,children:[(0,Vr.jsx)(Ny,{children:(0,Vr.jsx)(Jm,{title:t("tool-panel.more"),type:"tool",className:"tlui-toolbar__overflow","data-testid":"tools.more-button",children:(0,Vr.jsx)(tg,{icon:"chevron-up"})})}),(0,Vr.jsx)(Ly,{side:"top",align:"center",children:(0,Vr.jsx)(Fx,{toolbarItems:h})})]})]}):null]})]}),n<zm.TABLET_SM&&!i&&(0,Vr.jsx)("div",{className:"tlui-toolbar__tools",children:(0,Vr.jsx)(Nx,{})})]})})})),Fx=(0,s.u4)((function({toolbarItems:e}){const t=Km();return(0,Vr.jsx)("div",{className:"tlui-buttons__grid","data-testid":"tools.more-content",children:e.map((({toolItem:{id:e,meta:n,kbd:r,label:i,onSelect:o,icon:s}})=>(0,Vr.jsx)(Vy,{"data-tool":e,"data-geo":n?.geo??"","aria-label":i,children:(0,Vr.jsx)(Jm,{type:"icon",className:"tlui-button-grid__button",onClick:()=>o("toolbar"),"data-testid":`tools.more.${e}`,title:i?`${t(i)} ${r?Ay(r):""}`:"",children:(0,Vr.jsx)(tg,{icon:s})})},e)))})}));function Bx({item:e,title:t,isSelected:n}){return(0,Vr.jsx)(Jm,{type:"tool","data-testid":`tools.${e.id}`,"data-tool":e.id,"data-geo":e.meta?.geo??"","aria-label":e.label,"data-state":n?"selected":void 0,onClick:()=>e.onSelect("toolbar"),title:t,onTouchStart:t=>{co(t),e.onSelect("toolbar")},children:(0,Vr.jsx)(tg,{icon:e.icon})})}const Zx=(e,t,n)=>e.meta?.geo?"geo"===t&&n===e.meta?.geo:t===e.id;function Vx(){const e=Zm(),t=Rx(),n=Yu();return(0,Wr.useMemo)((()=>{const r=t.filter((e=>!n||e.readonlyOk)),i=Math.min(8,5+e),o=r.slice(0,i),s=r.slice(i);return s.length<=2?{itemsInPanel:r,itemsInDropdown:[]}:{itemsInPanel:o,itemsInDropdown:s}}),[t,e,n])}function Wx(){const e=Py();return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsx)(qy,{...e["zoom-in"],noClose:!0}),(0,Vr.jsx)(qy,{...e["zoom-out"],noClose:!0}),(0,Vr.jsx)(wv,{}),(0,Vr.jsx)(Sv,{}),(0,Vr.jsx)(kv,{})]})}const Ux=(0,Wr.memo)((function({children:e}){const t=go(),[n,r]=ag("zoom menu"),i=e??(0,Vr.jsx)(Wx,{});return(0,Vr.jsxs)($y.bL,{dir:"ltr",open:n,onOpenChange:r,modal:!1,children:[(0,Vr.jsx)($y.l9,{asChild:!0,dir:"ltr",children:(0,Vr.jsx)(qx,{})}),(0,Vr.jsx)($y.ZL,{container:t,children:(0,Vr.jsx)($y.UC,{className:"tlui-menu",side:"top",align:"start",alignOffset:0,sideOffset:8,collisionPadding:4,children:(0,Vr.jsx)(pg,{type:"menu",sourceId:"zoom-menu",children:i})})})]})})),qx=(0,Wr.forwardRef)((function(e,t){const n=Gr(),r=Zm(),i=(0,s.h)("zoom",(()=>n.getZoomLevel()),[n]),o=Km(),a=(0,Wr.useCallback)((()=>{n.resetZoom(n.getViewportScreenCenter(),{duration:Li})}),[n]);return(0,Vr.jsx)(Jm,{ref:t,...e,type:"icon",title:`${o("navigation-zone.zoom")}`,"data-testid":"minimap.zoom-menu-button",className:r<zm.TABLET_SM?"tlui-zoom-menu__button":"tlui-zoom-menu__button__pct",onDoubleClick:a,icon:r<zm.MOBILE?"zoom-in":void 0,children:r<zm.MOBILE?null:(0,Vr.jsxs)("span",{style:{flexGrow:0,textAlign:"center"},children:[Math.floor(100*i),"%"]})})})),Yx=(0,Wr.createContext)({});function Xx({overrides:e={},children:t}){const n=Ws(e);return(0,Vr.jsx)(Yx.Provider,{value:(0,Wr.useMemo)((()=>({ContextMenu:Xv,ActionsMenu:av,HelpMenu:ab,ZoomMenu:Ux,MainMenu:Tb,Minimap:Mb,StylePanel:ix,PageMenu:Lb,NavigationPanel:Db,Toolbar:zx,KeyboardShortcutsDialog:yb,QuickActions:zb,HelperButtons:hb,DebugMenu:rb,MenuPanel:jb,...n})),[n]),children:t})}function Hx(){return(0,Wr.useContext)(Yx)}const Gx=(0,Wr.memo)((function(){const{DebugMenu:e}=Hx();return(0,Vr.jsxs)("div",{className:"tlui-debug-panel",children:[(0,Vr.jsx)(Kx,{}),(0,Vr.jsx)(Jx,{}),e&&(0,Vr.jsx)(e,{})]})})),Kx=(0,s.u4)((function(){!function(e=!0){const[t,n]=(0,Wr.useState)(0),r=Gr();(0,Wr.useEffect)((()=>{if(!e)return;const t=()=>n((e=>e+1));return r.on("tick",t),()=>{r.off("tick",t)}}),[r,e])}();const e=Gr(),t=e.getPath(),n=e.getHoveredShape(),r=e.getOnlySelectedShape(),i="select.idle"!==t&&t.includes("select.")?r:n,o=i&&t.includes("select.")?` / ${i.type||""}${"geo"in i.props?" / "+i.props.geo:""} / [${ti.ToFixed(e.getPointInShapeSpace(i,e.inputs.currentPagePoint),0)}]`:"",s=t.startsWith("select.")&&!t.includes(".idle")?` / [${ti.ToFixed(e.inputs.originPagePoint,0)}]  [${ti.ToFixed(e.inputs.currentPagePoint,0)}] = ${ti.Dist(e.inputs.originPagePoint,e.inputs.currentPagePoint).toFixed(0)}`:"";return(0,Vr.jsx)("div",{className:"tlui-debug-panel__current-state",children:`${t}${o}${s}`})}));function Jx(){const e=(0,s.h)("show_fps",(()=>io.showFps.get()),[io]),t=(0,Wr.useRef)(null);return(0,Wr.useEffect)((()=>{if(!e)return;let n=0,r=!1,i=performance.now(),o=0,s=0,a=!1;return function e(){if(!r){if(s++,o=performance.now()-i,o>250){const e=Math.round(s*(250/o)*4);e>n&&(n=e);const r=.75*n;(e<r&&!a||e>=r&&a)&&(a=!a),t.current.innerHTML=`FPS ${e.toString()}`,t.current.className="tlui-debug-panel__fps"+(a?" tlui-debug-panel__fps__slow":""),o-=250,s=0,i=performance.now()}requestAnimationFrame(e)}}(),()=>{r=!0}}),[e]),e?(0,Vr.jsx)("div",{ref:t}):null}const eO=({id:e,component:t,onClose:n})=>{const{removeDialog:r}=wy(),i=go(),o=(0,Wr.useCallback)((t=>{if(!t){if(n)try{n()}catch(e){console.warn(e)}r(e)}}),[e,n,r]);return(0,Vr.jsx)(vg.bL,{onOpenChange:o,defaultOpen:!0,children:(0,Vr.jsx)(vg.ZL,{container:i,children:(0,Vr.jsx)(vg.hJ,{dir:"ltr",className:"tlui-dialog__overlay",onClick:e=>{e.target===e.currentTarget&&o(!1)},children:(0,Vr.jsx)(vg.UC,{dir:"ltr",className:"tlui-dialog__content",children:(0,Vr.jsx)(t,{onClose:()=>o(!1)})})})})})},tO=Wr.memo((function(){const{dialogs:e}=wy();return(0,Vr.jsx)(Vr.Fragment,{children:e.map((e=>(0,Vr.jsx)(eO,{...e},e.id)))})}));function nO(){const e=Gr(),t=(0,s.h)("follow",(()=>e.getInstanceState().followingUserId),[e]);return t?(0,Vr.jsx)(rO,{userId:t}):null}function rO({userId:e}){const t=Zo(e);return t?(0,Vr.jsx)("div",{className:"tlui-following-indicator",style:{borderColor:t.color}}):null}function iO({toast:e}){const{removeToast:t}=fy(),n=Km(),r=e.actions&&e.actions.length>0;return(0,Vr.jsxs)(Lm.bL,{onOpenChange:n=>{n||t(e.id)},className:"tlui-toast__container",duration:e.keepOpen?1/0:5e3,children:[e.icon&&(0,Vr.jsx)("div",{className:"tlui-toast__icon",children:(0,Vr.jsx)(eg,{icon:e.icon})}),(0,Vr.jsxs)("div",{className:"tlui-toast__main",children:[(0,Vr.jsxs)("div",{className:"tlui-toast__content",children:[e.title&&(0,Vr.jsx)(Lm.hE,{className:"tlui-toast__title",children:e.title}),e.description&&(0,Vr.jsx)(Lm.VY,{className:"tlui-toast__description",children:e.description})]}),e.actions&&(0,Vr.jsxs)("div",{className:"tlui-toast__actions",children:[e.actions.map(((e,t)=>(0,Vr.jsx)(Lm.rc,{altText:e.label,asChild:!0,onClick:e.onClick,children:(0,Vr.jsx)(Jm,{type:e.type,children:(0,Vr.jsx)(yg,{children:e.label})})},t))),(0,Vr.jsx)(Lm.bm,{asChild:!0,children:(0,Vr.jsx)(Jm,{type:"normal",className:"tlui-toast__close",style:{marginLeft:"auto"},children:(0,Vr.jsx)(yg,{children:e.closeLabel??n("toast.close")})})})]})]}),!r&&(0,Vr.jsx)(Lm.bm,{asChild:!0,children:(0,Vr.jsx)(Jm,{type:"normal",className:"tlui-toast__close",children:(0,Vr.jsx)(yg,{children:e.closeLabel??n("toast.close")})})})]})}const oO=Wr.memo((function(){const{toasts:e}=fy();return(0,Vr.jsx)(Vr.Fragment,{children:e.map((e=>(0,Vr.jsx)(iO,{toast:e},e.id)))})}));function sO(){const{toasts:e}=fy(),[t,n]=Wr.useState(!1);return Wr.useEffect((()=>{let t=!1;return e.length?n(!0):setTimeout((()=>{t||n(!1)}),1e3),()=>{t=!0}}),[e.length,n]),t?(0,Vr.jsx)(Lm.US,{className:"tlui-toast__viewport"}):null}const aO="2.0.2";let cO={fonts:{draw:`https://unpkg.com/@tldraw/assets@${aO}/fonts/Shantell_Sans-Tldrawish.woff2`,serif:`https://unpkg.com/@tldraw/assets@${aO}/fonts/IBMPlexSerif-Medium.woff2`,sansSerif:`https://unpkg.com/@tldraw/assets@${aO}/fonts/IBMPlexSans-Medium.woff2`,monospace:`https://unpkg.com/@tldraw/assets@${aO}/fonts/IBMPlexMono-Medium.woff2`}};function lO(e){cO=e}function uO(e){return(0,Wr.useMemo)((()=>e?{fonts:{...cO.fonts,...e?.fonts}}:cO),[e])}let dO={...cO,icons:Object.fromEntries(["align-bottom-center","align-bottom-left","align-bottom-right","align-bottom","align-center-center","align-center-horizontal","align-center-left","align-center-right","align-center-vertical","align-left","align-right","align-top-center","align-top-left","align-top-right","align-top","arrow-left","arrowhead-arrow","arrowhead-bar","arrowhead-diamond","arrowhead-dot","arrowhead-none","arrowhead-square","arrowhead-triangle-inverted","arrowhead-triangle","aspect-ratio","avatar","blob","bring-forward","bring-to-front","check","checkbox-checked","checkbox-empty","chevron-down","chevron-left","chevron-right","chevron-up","chevrons-ne","chevrons-sw","clipboard-copied","clipboard-copy","code","collab","color","comment","cross-2","cross","dash-dashed","dash-dotted","dash-draw","dash-solid","discord","distribute-horizontal","distribute-vertical","dot","dots-horizontal","dots-vertical","drag-handle-dots","duplicate","edit","external-link","file","fill-none","fill-pattern","fill-semi","fill-solid","follow","following","font-draw","font-mono","font-sans","font-serif","geo-arrow-down","geo-arrow-left","geo-arrow-right","geo-arrow-up","geo-check-box","geo-cloud","geo-diamond","geo-ellipse","geo-hexagon","geo-octagon","geo-oval","geo-pentagon","geo-rectangle","geo-rhombus-2","geo-rhombus","geo-star","geo-trapezoid","geo-triangle","geo-x-box","github","group","hidden","image","info-circle","leading","link","lock-small","lock","menu","minus","mixed","pack","page","plus","question-mark-circle","question-mark","redo","reset-zoom","rotate-ccw","rotate-cw","ruler","search","send-backward","send-to-back","settings-horizontal","settings-vertical-1","settings-vertical","share-1","share-2","size-extra-large","size-large","size-medium","size-small","spline-cubic","spline-line","stack-horizontal","stack-vertical","status-offline","status-online","stretch-horizontal","stretch-vertical","text-align-center","text-align-justify","text-align-left","text-align-right","tool-arrow","tool-embed","tool-eraser","tool-frame","tool-hand","tool-highlight","tool-laser","tool-line","tool-media","tool-note","tool-pencil","tool-pointer","tool-text","trash","triangle-down","triangle-up","twitter","undo","ungroup","unlock-small","unlock","vertical-align-center","vertical-align-end","vertical-align-start","visible","warning-triangle","zoom-in","zoom-out"].map((e=>[e,`https://unpkg.com/@tldraw/assets@${aO}/icons/icon/${e}.svg`]))),translations:Object.fromEntries(zr.map((e=>[e.locale,`https://unpkg.com/@tldraw/assets@${aO}/translations/${e.locale}.json`]))),embedIcons:Object.fromEntries(lr.map((e=>[e.type,`https://unpkg.com/@tldraw/assets@${aO}/embed-icons/${e.type}.png`])))};function hO(e){dO=e}function pO(e){return e?{fonts:Object.assign({...dO.fonts},{...e?.fonts}),icons:Object.assign({...dO.icons},{...e?.icons}),embedIcons:Object.assign({...dO.embedIcons},{...e?.embedIcons}),translations:Object.assign({...dO.translations},{...e?.translations})}:dO}function fO(){const{addToast:e,removeToast:t,clearToasts:n}=fy(),{addDialog:r,clearDialogs:i,removeDialog:o,updateDialog:s}=wy(),a=Zm()<zm.TABLET_SM,c=Km();return(0,Wr.useMemo)((()=>({addToast:e,removeToast:t,clearToasts:n,addDialog:r,clearDialogs:i,removeDialog:o,updateDialog:s,msg:c,isMobile:a})),[r,e,i,n,c,o,t,s,a])}function mO(e){return(0,Wr.useMemo)((()=>e),e)}function gO(e){const t=mO(null==e?[]:Array.isArray(e)?e:[e]);return(0,Wr.useMemo)((()=>{const e={};for(const n of t)if(n.translations)for(const[t,r]of W(n.translations)){let n=e[t];n||(n=e[t]={}),Object.assign(n,r)}return e}),[t])}function yO({overrides:e,components:t,assetUrls:n,onUiEvent:r,forceMobile:i,children:o}){return(0,Vr.jsx)(Wm,{assetUrls:pO(n),children:(0,Vr.jsx)(Gm,{overrides:gO(e),children:(0,Vr.jsx)(og,{onEvent:r,children:(0,Vr.jsx)(py,{children:(0,Vr.jsx)(Oy,{children:(0,Vr.jsx)(Bm,{forceMobile:i,children:(0,Vr.jsx)(Xx,{overrides:t,children:(0,Vr.jsx)(vO,{overrides:e,children:o})})})})})})})})}function vO({overrides:e,children:t}){const n=function(e){const t=fO(),n=mO(null==e?[]:Array.isArray(e)?e:[e]);return(0,Wr.useMemo)((()=>function(e,t){const n={};for(const t of e)if(t.translations)for(const[e,r]of W(t.translations)){let t=n[e];t||(t=n[e]={}),Object.assign(t,r)}return{actions:(n,r)=>{for(const i of e)i.actions&&(r=i.actions(n,r,t));return r},toolbar:(n,r,i)=>{for(const o of e)o.toolbar&&(r=o.toolbar(n,r,{...t,...i}));return r},tools:(n,r,i)=>{for(const o of e)o.tools&&(r=o.tools(n,r,{...t,...i}));return r},translations:n}}(n,t)),[n,t])}(e);return(0,Vr.jsx)(_y,{overrides:n.actions,children:(0,Vr.jsx)(fb,{overrides:n.tools,children:(0,Vr.jsx)($x,{overrides:n.toolbar,children:t})})})}const bO=Wr.memo((function({renderDebugMenuItems:e,children:t,hideUi:n,components:r,...i}){return(0,Vr.jsx)(yO,{...i,components:r,children:(0,Vr.jsx)(xO,{hideUi:n,renderDebugMenuItems:e,children:t})})})),xO=Wr.memo((function({children:e,hideUi:t,...n}){return(0,Vr.jsxs)(Vr.Fragment,{children:[e,t?null:(0,Vr.jsx)(OO,{...n})]})})),OO=Wr.memo((function(){const e=Gr(),t=Km(),n=Zm(),r=Yu(),i=(0,s.h)("focus",(()=>e.getInstanceState().isFocusMode),[e]),o=(0,s.h)("debug",(()=>e.getInstanceState().isDebugMode),[e]),{SharePanel:a,TopPanel:c,MenuPanel:l,StylePanel:u,Toolbar:d,HelpMenu:h,NavigationPanel:p,HelperButtons:f}=Hx();jx(),iy(),function(){const e=Gr(),{addToast:t}=fy();(0,Wr.useEffect)((()=>{function n({name:e,count:n}){t({title:"Maximum Shapes Reached",description:`You've reached the maximum number of shapes allowed on ${e} (${n}). Please delete some shapes or move to a different page to continue.`})}return e.addListener("max-shapes",n),()=>{e.removeListener("max-shapes",n)}}),[e,t])}();const{"toggle-focus-mode":m}=Py();return(0,Vr.jsx)(Lm.tE,{children:(0,Vr.jsxs)("div",{className:Ur("tlui-layout",{"tlui-layout__mobile":n<zm.TABLET_SM}),"data-breakpoint":n,children:[i?(0,Vr.jsx)("div",{className:"tlui-layout__top",children:(0,Vr.jsx)(Jm,{type:"icon",className:"tlui-focus-button",title:t("focus-mode.toggle-focus-mode"),onClick:()=>m.onSelect("menu"),children:(0,Vr.jsx)(tg,{icon:"dot"})})}):(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)("div",{className:"tlui-layout__top",children:[(0,Vr.jsxs)("div",{className:"tlui-layout__top__left",children:[l&&(0,Vr.jsx)(l,{}),f&&(0,Vr.jsx)(f,{})]}),(0,Vr.jsx)("div",{className:"tlui-layout__top__center",children:c&&(0,Vr.jsx)(c,{})}),(0,Vr.jsxs)("div",{className:"tlui-layout__top__right",children:[a&&(0,Vr.jsx)(a,{}),u&&n>=zm.TABLET_SM&&!r&&(0,Vr.jsx)(u,{})]})]}),(0,Vr.jsxs)("div",{className:"tlui-layout__bottom",children:[(0,Vr.jsxs)("div",{className:"tlui-layout__bottom__main",children:[p&&(0,Vr.jsx)(p,{}),d&&(0,Vr.jsx)(d,{}),h&&(0,Vr.jsx)(h,{})]}),o&&(0,Vr.jsx)(Gx,{})]})]}),(0,Vr.jsx)(oO,{}),(0,Vr.jsx)(tO,{}),(0,Vr.jsx)(sO,{}),(0,Vr.jsx)(nO,{})]})})})),wO=(e,t)=>{const[n,r]=(0,Wr.useState)(2);return(0,Wr.useEffect)((()=>{let n=!1;return r(2),i(e,t).then((()=>{n||r(0)})).catch((e=>{n||(console.error(e),r(1))})),()=>{n=!0}}),[e,t]),n};function SO(e){const t=(0,Wr.useMemo)((()=>function(e){return{draw:{url:e.fonts.draw,format:e.fonts.draw.split(".").pop()},serif:{url:e.fonts.serif,format:e.fonts.serif.split(".").pop()},sansSerif:{url:e.fonts.sansSerif,format:e.fonts.sansSerif.split(".").pop()},monospace:{url:e.fonts.monospace,format:e.fonts.monospace.split(".").pop()}}}(e)),[e]),n=[wO("tldraw_draw",t.draw),wO("tldraw_serif",t.serif),wO("tldraw_sans",t.sansSerif),wO("tldraw_mono",t.monospace)];return{error:n.some((e=>1===e)),done:!n.some((e=>2===e))}}function kO(e){const{children:t,maxImageDimension:n,maxAssetSize:r,acceptedImageMimeTypes:i,acceptedVideoMimeTypes:o,onMount:s,components:a={},shapeUtils:c=[],tools:l=[],...u}=e,d=Ws(a),h=(0,Wr.useMemo)((()=>({Scribble:Uu,CollaboratorScribble:Uu,SelectionForeground:Hu,SelectionBackground:qu,Handles:Du,HoveredShapeIndicator:$u,...d})),[d]),p=Vs(c),f=(0,Wr.useMemo)((()=>[...Qf,...p]),[p]),m=Vs(l),g=(0,Wr.useMemo)((()=>[...Nm,...ph,...m]),[m]),y=uO(u.assetUrls),{done:v,error:b}=SO(y);return b?(0,Vr.jsx)(iu,{children:"Could not load assets. Please refresh the page."}):v?(0,Vr.jsx)(Gl,{initialState:"select",...u,components:h,shapeUtils:f,tools:g,children:(0,Vr.jsxs)(bO,{...u,components:h,children:[(0,Vr.jsx)(EO,{maxImageDimension:n,maxAssetSize:r,acceptedImageMimeTypes:i,acceptedVideoMimeTypes:o,onMount:s}),t]})}):(0,Vr.jsx)(ru,{children:"Loading assets..."})}const _O=Object.freeze(["image/jpeg","image/png","image/gif","image/svg+xml"]),PO=Object.freeze(["video/mp4","video/quicktime"]);function EO({maxImageDimension:e=1e3,maxAssetSize:t=10485760,acceptedImageMimeTypes:n=_O,acceptedVideoMimeTypes:r=PO,onMount:i}){const o=Gr(),s=fy(),a=Km(),c=function(e){const t=(0,Wr.useRef)();return(0,Wr.useLayoutEffect)((()=>{t.current=e})),(0,Wr.useDebugValue)(e),(0,Wr.useCallback)(((...e)=>{const n=t.current;return x(n,"fn does not exist"),n(...e)}),[])}((o=>{const c=[];return c.push(...function(e){return[e.sideEffects.registerAfterChangeHandler("instance",((t,n)=>{t.isFocused!==n.isFocused&&(n.isFocused?e.getContainer().focus():(e.complete(),e.getContainer().blur()))})),e.sideEffects.registerAfterChangeHandler("instance_page_state",((t,n)=>{if(t.croppingShapeId!==n.croppingShapeId){const r=e.isInAny("select.crop","select.pointing_crop_handle","select.cropping");!t.croppingShapeId&&n.croppingShapeId?r||e.setCurrentTool("select.crop.idle"):t.croppingShapeId&&!n.croppingShapeId&&r&&e.setCurrentTool("select.idle")}t.editingShapeId!==n.editingShapeId&&(!t.editingShapeId&&n.editingShapeId?e.isIn("select.editing_shape")||e.setCurrentTool("select.editing_shape"):t.editingShapeId&&!n.editingShapeId&&e.isIn("select.editing_shape")&&e.setCurrentTool("select.idle"))}))]}(o)),Zd(o,{maxImageDimension:e,maxAssetSize:t,acceptedImageMimeTypes:n,acceptedVideoMimeTypes:r},{toasts:s,msg:a}),c.push(i?.(o)),()=>{c.forEach((e=>e?.()))}}));(0,Wr.useLayoutEffect)((()=>{if(o)return c?.(o)}),[o,c]);const{Canvas:l}=Ys(),{ContextMenu:u}=Hx();return u?(0,Vr.jsx)(u,{}):l?(0,Vr.jsx)(l,{}):null}const CO=(0,Wr.memo)((function(e){const[t,n]=(0,Wr.useState)(null),[r,i]=(0,Wr.useState)(null),o=Vs(e.shapeUtils??[]),s=(0,Wr.useMemo)((()=>[...Qf,...o]),[o]),a=Ul({snapshot:e.snapshot,shapeUtils:s}),c=uO(),{done:l,error:u}=SO(c),{pageId:d,bounds:h,scale:p,background:f,padding:m,darkMode:g,preserveAspectRatio:y,format:v="svg"}=e;return(0,Wr.useLayoutEffect)((()=>{if(!r)return;if(!a)return;if(!l)return;let e=!1;const t=document.createElement("div");r.appendChild(t),r.classList.add("tl-container","tl-theme__light");const i=new Jc({store:a,shapeUtils:s??[],tools:[],getContainer:()=>t});d&&i.setCurrentPage(d);const o=i.getCurrentPageShapeIds();return async function(){const t=await i.getSvg([...o],{bounds:h,scale:p,background:f,padding:m,darkMode:g,preserveAspectRatio:y});if(t&&!e)if("svg"===v){const r=await sy(t);if(!e){const e=new Blob([r],{type:"image/svg+xml"}),t=URL.createObjectURL(e);n(t)}}else if("png"===v){const r=await oy(t,i.environment.isSafari,{type:v,quality:1,scale:2});if(r&&!e){const e=URL.createObjectURL(r);n(e)}}i.dispose()}(),()=>{e=!0}}),[v,r,a,s,d,h,p,f,m,g,y,l,u]),u?(0,Vr.jsx)(iu,{children:"Could not load assets."}):l?(0,Vr.jsx)("div",{ref:i,style:{position:"relative",width:"100%",height:"100%"},children:t&&(0,Vr.jsx)("img",{src:t,style:{width:"100%",height:"100%"}})}):(0,Vr.jsx)(ru,{children:"Loading assets..."})}));function TO(){const e=Km(),t=(0,Wr.useRef)(null);return(0,Vr.jsxs)("div",{className:Ur("tlui-offline-indicator"),ref:t,children:[e("status.offline"),(0,Vr.jsx)(eg,{"aria-label":"offline",icon:"status-offline",small:!0})]})}const jO=15.5;function IO(e,t){e.batch((()=>{t=function(e,t){const{version:n=0}=e;e.assets||(e.assets={});const r=new Set;return Object.values(e.pages).forEach((e=>Object.values(e.shapes).forEach((t=>{const{parentId:n,children:i,assetId:o}=t;o&&r.add(o),n===e.id||e.shapes[n]||(console.warn("Encountered a shape with a missing parent!"),t.parentId=e.id),"group"===t.type&&i&&i.forEach((n=>{e.shapes[n]||(console.warn("Encountered a parent with a missing child!",t.id,n),i?.splice(i.indexOf(n),1))}))})))),Object.keys(e.assets).forEach((t=>{r.has(t)||delete e.assets[t]})),n!==t&&(n<14&&Object.values(e.pages).forEach((e=>{Object.values(e.shapes).filter((e=>"text"===e.type)).forEach((e=>{void 0===e.style.font&&e.style.font}))})),n<=13&&Object.values(e.pages).forEach((e=>{Object.values(e.bindings).forEach((e=>{Object.assign(e,e.meta)})),Object.values(e.shapes).forEach((e=>{Object.entries(e.style).forEach((([t,n])=>{"string"==typeof n&&(e.style[t]=n.toLowerCase())})),"arrow"===e.type&&e.decorations&&Object.entries(e.decorations).forEach((([t,n])=>{"Arrow"===n&&(e.decorations={...e.decorations,[t]:"arrow"})}))}))})),n<=13.1&&null==e.name&&(e.name="New Document"),n<15&&null==e.assets&&(e.assets={}),Object.values(e.pages).forEach((e=>{Object.values(e.shapes).forEach((e=>{n<15.2&&("image"!==e.type&&"video"!==e.type||null!=e.style.isFilled||(e.style.isFilled=!0)),n<15.3&&("rectangle"!==e.type&&"triangle"!==e.type&&"ellipse"!==e.type&&"arrow"!==e.type||("text"in e&&"string"==typeof e.text&&(e.label=e.text),e.label||(e.label=""),e.labelPoint||(e.labelPoint=[.5,.5])))}))}))),Object.values(e.pageStates).forEach((t=>{t.selectedIds=t.selectedIds.filter((n=>void 0!==e.pages[t.id].shapes[n])),t.bindingId=void 0,t.editingId=void 0,t.hoveredId=void 0,t.pointedId=void 0})),e.version=t,e}(t,jO),e.cancel().cancel().cancel().cancel();const n=e.getPages()[0].id;e.setCurrentPage(n);for(const t of e.getPages().slice(1))e.deletePage(t.id);e.selectAll(),e.deleteShapes(e.getSelectedShapeIds());const r=new Map;Object.values(t.assets??{}).forEach((t=>{switch(t.type){case"image":{const n=Mn.createId();r.set(t.id,n);const i={id:n,typeName:"asset",type:"image",props:{w:AO(t.size[0]),h:AO(t.size[1]),name:t.fileName??"Untitled",isAnimated:!1,mimeType:null,src:t.src},meta:{}};e.createAssets([i]),async function(e,t){try{if("bookmark"===t.type||!t.props.src)return;const n=await fetch(t.props.src);if(!n.ok)return;const r=new File([await n.blob()],t.props.name,{type:n.headers.get("content-type")??t.props.mimeType??void 0}),i=await e.getAssetForExternalContent({type:"file",file:r});if(!i)throw new Error("Could not get asset for external content");if("bookmark"===i.type)return;e.updateAssets([{id:t.id,type:t.type,props:{...i.props,name:t.props.name}}])}catch(e){}}(e,i);break}case"video":{const n=Mn.createId();r.set(t.id,n),e.createAssets([{id:n,typeName:"asset",type:"video",props:{w:AO(t.size[0]),h:AO(t.size[1]),name:t.fileName??"Untitled",isAnimated:!0,mimeType:null,src:t.src},meta:{}}])}}}));const i=new Map;Object.values(t.pages??{}).sort(((e,t)=>(e.childIndex??1)<(t.childIndex??1)?-1:1)).forEach(((t,n)=>{if(0===n)i.set(t.id,e.getCurrentPageId());else{const n=nn.createId();i.set(t.id,n),e.createPage({name:t.name??"Page",id:n})}})),Object.values(t.pages??{}).sort(((e,t)=>(e.childIndex??1)<(t.childIndex??1)?-1:1)).forEach((t=>{e.setCurrentPage(i.get(t.id));const n=new Map,o=new Map,s=Object.values(t.shapes??{}).sort(((e,t)=>e.childIndex<t.childIndex?-1:1)).slice(0,$i);s.forEach((e=>{if("group"!==e.type)return;const t=Ln();n.set(e.id,t),o.set(e.id,[])})),s.forEach((s=>{if("group"===s.type)return;const a=Ln();n.set(s.id,a),s.parentId!==t.id&&(o.has(s.parentId)?o.get(s.parentId).push(s.id):console.warn("parent does not exist",s));const c={id:a,parentId:i.get(t.id),x:MO(s.point[0]),y:MO(s.point[1]),rotation:0,isLocked:!!s.isLocked};switch(s.type){case"sticky":e.createShapes([{...c,type:"note",props:{text:s.text??"",color:zO(s.style.color),size:ZO(s.style.size),font:FO(s.style.font),align:BO(s.style.textAlign)}}]);break;case"rectangle":{e.createShapes([{...c,type:"geo",props:{geo:"rectangle",w:AO(s.size[0]),h:AO(s.size[1]),text:s.label??"",fill:qO(s.style.isFilled,s.style.color),labelColor:zO(s.style.color),color:zO(s.style.color),size:ZO(s.style.size),font:FO(s.style.font),dash:VO(s.style.dash),align:"middle"}}]);const t=e.getShapePageBounds(c.id);if(e.updateShapes([{id:c.id,type:"geo",props:{text:s.label??""}}]),t.width===t.height){const t=e.getShape(c.id),{growY:n}=t.props,r=AO(t.props.w),i=AO(t.props.h),o=r+n/2,s=i+n/2;e.updateShapes([{id:c.id,type:"geo",x:MO(t.x)-(o-r)/2,y:MO(t.y)-(s-i)/2,props:{w:o,h:s}}])}break}case"triangle":{e.createShapes([{...c,type:"geo",props:{geo:"triangle",w:AO(s.size[0]),h:AO(s.size[1]),fill:qO(s.style.isFilled,s.style.color),labelColor:zO(s.style.color),color:zO(s.style.color),size:ZO(s.style.size),font:FO(s.style.font),dash:VO(s.style.dash),align:"middle"}}]);const t=e.getShapePageBounds(c.id);if(e.updateShapes([{id:c.id,type:"geo",props:{text:s.label??""}}]),t.width===t.height){const t=e.getShape(c.id),{growY:n}=t.props,r=AO(t.props.w),i=AO(t.props.h),o=r+n/2,s=i+n/2;e.updateShapes([{id:c.id,type:"geo",x:MO(t.x)-(o-r)/2,y:MO(t.y)-(s-i)/2,props:{w:o,h:s}}])}break}case"ellipse":{e.createShapes([{...c,type:"geo",props:{geo:"ellipse",w:2*AO(s.radius[0]),h:2*AO(s.radius[1]),fill:qO(s.style.isFilled,s.style.color),labelColor:zO(s.style.color),color:zO(s.style.color),size:ZO(s.style.size),font:FO(s.style.font),dash:VO(s.style.dash),align:"middle"}}]);const t=e.getShapePageBounds(c.id);if(e.updateShapes([{id:c.id,type:"geo",props:{text:s.label??""}}]),t.width===t.height){const t=e.getShape(c.id),{growY:n}=t.props,r=AO(t.props.w),i=AO(t.props.h),o=r+n/2,s=i+n/2;e.updateShapes([{id:c.id,type:"geo",x:MO(t.x)-(o-r)/2,y:MO(t.y)-(s-i)/2,props:{w:o,h:s}}])}break}case"draw":if(0===s.points.length){!function(e){if(n.delete(e.id),o.has(e.parentId)){const t=o.get(e.parentId).filter((t=>t!==e.id));o.set(e.parentId,t)}}(s);break}e.createShapes([{...c,type:"draw",props:{fill:qO(s.style.isFilled,s.style.color),color:zO(s.style.color),size:ZO(s.style.size),dash:VO(s.style.dash),isPen:!1,isComplete:s.isComplete,segments:[{type:"free",points:s.points.map(WO)}]}}]);break;case"arrow":{const t=MO(s.bend),n=WO(s.handles.start.point),r=WO(s.handles.end.point),i=ti.Dist(n,r)*-t/2;e.createShapes([{...c,type:"arrow",props:{text:s.label??"",color:zO(s.style.color),labelColor:zO(s.style.color),size:ZO(s.style.size),font:FO(s.style.font),dash:VO(s.style.dash),arrowheadStart:UO(s.decorations?.start),arrowheadEnd:UO(s.decorations?.end),start:{type:"point",x:MO(s.handles.start.point[0]),y:MO(s.handles.start.point[1])},end:{type:"point",x:MO(s.handles.end.point[0]),y:MO(s.handles.end.point[1])},bend:i}}]);break}case"text":e.createShapes([{...c,type:"text",props:{text:s.text??" ",color:zO(s.style.color),size:(l=s.style.size,l?NO[l]??"m":"m"),font:FO(s.style.font),align:BO(s.style.textAlign),scale:s.style.scale??1}}]);break;case"image":{const t=r.get(s.assetId);if(!t)return void console.warn("Could not find asset id",s.assetId);e.createShapes([{...c,type:"image",props:{w:AO(s.size[0]),h:AO(s.size[1]),assetId:t}}]);break}case"video":{const t=r.get(s.assetId);if(!t)return void console.warn("Could not find asset id",s.assetId);e.createShapes([{...c,type:"video",props:{w:AO(s.size[0]),h:AO(s.size[1]),assetId:t}}]);break}}var l;const u=MO(s.rotation);0!==u&&(e.select(a),e.rotateShapesBy([a],u))})),o.forEach(((r,i)=>{const o=r.map((e=>n.get(e))),s=n.get(i);e.groupShapes(o,s);const a=MO(t.shapes[i].rotation);0!==a&&(e.select(s),e.rotateShapesBy([s],a))})),s.forEach((r=>{if("arrow"!==r.type)return;const i=n.get(r.id),o=e.getShapeUtil("arrow");e.inputs.ctrlKey=!1;for(const s of["start","end"]){const a=r.handles[s].bindingId;if(a){const r=t.bindings[a];if(!r)continue;const c=n.get(r.toId);if(!e.getShape(c))continue;if(c){const t=e.getShapePageBounds(c),n=e.getShape(i),a=li((MO(r.point[0])+.5)/2,.2,.8),l=li((MO(r.point[1])+.5)/2,.2,.8),u=e.getPointInShapeSpace(n,{x:t.minX+t.width*a,y:t.minY+t.height*l}),d=e.getShapeHandles(n),h=o.onHandleDrag(n,{handle:{...d.find((e=>e.id===s)),x:u.x,y:u.y},isPrecise:.5!==u.x||.5!==u.y});if(h){if(h.props?.[s]){const e=h.props?.[s];"binding"===e.type&&(e.isExact=0===r.distance,e.boundShapeId!==c&&(console.warn("Hit the wrong shape!"),e.boundShapeId=c,e.normalizedAnchor={x:.5,y:.5}))}e.updateShapes([h])}}}}}))})),e.setCurrentPage(n),e.history.clear(),e.selectNone();const o=e.getCurrentPageBounds();o&&e.zoomToBounds(o,{targetZoom:1})}))}function MO(e){return"number"!=typeof e||Number.isNaN(e)?0:Number.isFinite(e)?e:0}function AO(e){const t=MO(e);return t<=0?1:t}const DO={white:"black",black:"black",lightGray:"grey",gray:"grey",green:"light-green",cyan:"green",blue:"light-blue",indigo:"blue",orange:"orange",yellow:"yellow",red:"red",violet:"light-violet"},$O={mono:"mono",sans:"sans",script:"draw",serif:"serif"},RO={start:"start",middle:"middle",end:"end",justify:"start"},NO={small:"s",medium:"l",large:"xl"},LO={small:"m",medium:"l",large:"xl"},QO={solid:"solid",dashed:"dashed",dotted:"dotted",draw:"draw"};function zO(e){return e?DO[e]??"black":"black"}function FO(e){return e?$O[e]??"draw":"draw"}function BO(e){return e?RO[e]??"middle":"middle"}function ZO(e){return e?LO[e]??"l":"l"}function VO(e){return e?QO[e]??"draw":"draw"}function WO(e){return{x:MO(e[0]),y:MO(e[1]),z:null==e[2]?.5:MO(e[2])}}function UO(e){return"arrow"===e?"arrow":"none"}function qO(e,t){return e?"black"===t||"white"===t?"semi":"solid":"none"}const YO="application/vnd.tldraw+json",XO=".tldr",HO=1,GO=kt({tldrawFileFormatVersion:yt,schema:kt({schemaVersion:gt,storeVersion:gt,recordVersions:Tt(dt,kt({version:gt,subTypeVersions:Tt(dt,gt).optional(),subTypeKey:dt.optional()}))}),records:wt(kt({id:dt,typeName:dt}).allowUnknownProperties())});function KO({json:e,schema:t}){let n,r;try{n=GO.validate(JSON.parse(e))}catch(t){try{if(n=JSON.parse(e),function(e){try{return!!e.document?.version}catch(e){return!1}}(n))return v.err({type:"v1File",data:n})}catch(e){}return v.err({type:"notATldrawFile",cause:t})}if(n.tldrawFileFormatVersion>HO)return v.err({type:"fileFormatVersionTooNew",version:n.tldrawFileFormatVersion});try{const e=Object.fromEntries(n.records.map((e=>[e.id,e])));r=t.migrateStoreSnapshot({store:e,schema:n.schema})}catch(e){return v.err({type:"invalidRecords",cause:e})}if("error"===r.type)return v.err({type:"migrationFailed",reason:r.reason});try{return v.ok(Vl({initialData:r.value,schema:t}))}catch(e){return v.err({type:"invalidRecords",cause:e})}}async function JO(e){const t=[],n=new Set,r=[];for(const i of e.allRecords())switch(i.typeName){case"asset":if("bookmark"!==i.type&&i.props.src&&!i.props.src.startsWith("data:")){let e;try{e=await E.fileToBase64(await(await fetch(i.props.src)).blob())}catch{e=i.props.src}r.push({...i,props:{...i.props,src:e}})}else r.push(i);break;case"shape":"assetId"in i.props&&n.add(i.props.assetId),t.push(i);break;default:t.push(i)}const i=t.concat(r.filter((e=>n.has(e.id))));return JSON.stringify({tldrawFileFormatVersion:HO,schema:e.schema.serialize(),records:i})}async function ew(e){return new Blob([await JO(e)],{type:YO})}async function tw(e,t,n,r,i,s){const a=KO({schema:e.store.schema,json:t});if(a.ok)(0,o.hL)((()=>{const t=e.getViewportScreenBounds().clone(),n=e.getInstanceState().isFocused;e.store.clear();const[r,i]=p(a.value.allRecords(),(e=>"shape"===e.typeName));e.store.put(i,"initialize"),e.store.ensureStoreIsUsable(),e.store.put(r,"initialize"),e.history.clear(),e.updateViewportScreenBounds(t),e.updateRenderingBounds();const o=e.getCurrentPageBounds();o&&e.zoomToBounds(o,{targetZoom:1}),e.updateInstanceState({isFocused:n})})),s&&e.user.updateUserPreferences({isDarkMode:!0});else{let t;switch(a.error.type){case"notATldrawFile":e.annotateError(a.error.cause,{origin:"file-system.open.parse",willCrashApp:!1,tags:{parseErrorType:a.error.type}}),reportError(a.error.cause),t=n("file-system.file-open-error.not-a-tldraw-file");break;case"fileFormatVersionTooNew":t=n("file-system.file-open-error.file-format-version-too-new");break;case"migrationFailed":t=a.error.reason===qe.TargetVersionTooNew?n("file-system.file-open-error.file-format-version-too-new"):n("file-system.file-open-error.generic-corrupted-file");break;case"invalidRecords":e.annotateError(a.error.cause,{origin:"file-system.open.parse",willCrashApp:!1,tags:{parseErrorType:a.error.type}}),reportError(a.error.cause),t=n("file-system.file-open-error.generic-corrupted-file");break;case"v1File":return IO(e,a.error.data.document),void i?.();default:b(a.error,"type")}r({title:n("file-system.file-open-error.title"),description:t})}}},23336:(e,t,n)=>{"use strict";function r(){}n.d(t,{C:()=>i});class i{constructor(e=1/0,t=r){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:n}=t;n&&(n.older=e),e&&(e.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)}}},78027:(e,t,n)=>{"use strict";function r(){}n.d(t,{l:()=>c});const i=r,o="undefined"!=typeof WeakRef?WeakRef:function(e){return{deref:()=>e}},s="undefined"!=typeof WeakMap?WeakMap:Map,a="undefined"!=typeof FinalizationRegistry?FinalizationRegistry:function(){return{register:r,unregister:r}};class c{constructor(e=1/0,t=i){this.max=e,this.dispose=t,this.map=new s,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const e=this.unfinalizedNodes.values();for(let t=0;t<10024;t++){const t=e.next().value;if(!t)break;this.unfinalizedNodes.delete(t);const n=t.key;delete t.key,t.keyRef=new o(n),this.registry.register(n,t,t)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new a(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:n}=t;n&&(n.older=e),e&&(e.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.scheduleFinalization(n),this.map.set(e,n),this.size++,n.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){const t=this.map.get(e);return!!t&&(this.deleteNode(t),!0)}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}},71190:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,L:()=>a});const{toString:r,hasOwnProperty:i}=Object.prototype,o=Function.prototype.toString,s=new Map;function a(e,t){try{return l(e,t)}finally{s.clear()}}const c=a;function l(e,t){if(e===t)return!0;const n=r.call(e);if(n!==r.call(t))return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(p(e,t))return!0;const n=u(e),r=u(t),o=n.length;if(o!==r.length)return!1;for(let e=0;e<o;++e)if(!i.call(t,n[e]))return!1;for(let r=0;r<o;++r){const i=n[r];if(!l(e[i],t[i]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(p(e,t))return!0;const r=e.entries(),i="[object Map]"===n;for(;;){const e=r.next();if(e.done)break;const[n,o]=e.value;if(!t.has(n))return!1;if(i&&!l(o,t.get(n)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let n=e.byteLength;if(n===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const n=o.call(e);return n===o.call(t)&&!function(e,t){const n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}(n,h)}}return!1}function u(e){return Object.keys(e).filter(d,e)}function d(e){return void 0!==this[e]}const h="{ [native code] }";function p(e,t){let n=s.get(e);if(n){if(n.has(t))return!0}else s.set(e,n=new Set);return n.add(t),!1}},69796:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});const r=()=>Object.create(null),{forEach:i,slice:o}=Array.prototype,{hasOwnProperty:s}=Object.prototype;class a{constructor(e=!0,t=r){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return i.call(e,(e=>t=t.getChildTrie(e))),s.call(t,"data")?t.data:t.data=this.makeData(o.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let n=0,r=e.length;t&&n<r;++n){const r=t.mapFor(e[n],!1);t=r&&r.get(e[n])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){const n=e[0],r=this.mapFor(n,!1),i=r&&r.get(n);i&&(t=i.removeArray(o.call(e,1)),i.data||i.weak||i.strong&&i.strong.size||r.delete(n))}else t=this.data,delete this.data;return t}getChildTrie(e){const t=this.mapFor(e,!0);let n=t.get(e);return n||t.set(e,n=new a(this.weakness,this.makeData)),n}mapFor(e,t){return this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}}},83299:(e,t,n)=>{"use strict";n.d(t,{Yy:()=>y});var r=()=>"undefined"!=typeof document,i=!1,o=null,s=!1,a=!1,c=new Set;function l(e,t){c.forEach((n=>n(e,t)))}var u="undefined"!=typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function d(e){var t;s=!0,(t=e).metaKey||!u&&t.altKey||t.ctrlKey||"Control"===t.key||"Shift"===t.key||"Meta"===t.key||(o="keyboard",l("keyboard",e))}function h(e){if(o="pointer","mousedown"===e.type||"pointerdown"===e.type){s=!0;const t=e.composedPath?e.composedPath()[0]:e.target;let n=!1;try{n=t.matches(":focus-visible")}catch{}if(n)return;l("pointer",e)}}function p(e){var t;(0===(t=e).mozInputSource&&t.isTrusted||0===t.detail&&!t.pointerType)&&(s=!0,o="virtual")}function f(e){e.target!==window&&e.target!==document&&(s||a||(o="virtual",l("virtual",e)),s=!1,a=!1)}function m(){s=!1,a=!0}function g(){return"pointer"!==o}function y(e){(function(){if(!r()||i)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...t){s=!0,e.apply(this,t)},document.addEventListener("keydown",d,!0),document.addEventListener("keyup",d,!0),document.addEventListener("click",p,!0),window.addEventListener("focus",f,!0),window.addEventListener("blur",m,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",h,!0),document.addEventListener("pointermove",h,!0),document.addEventListener("pointerup",h,!0)):(document.addEventListener("mousedown",h,!0),document.addEventListener("mousemove",h,!0),document.addEventListener("mouseup",h,!0)),i=!0})(),e(g());const t=()=>e(g());return c.add(t),()=>{c.delete(t)}}},48917:(e,t,n)=>{"use strict";function r(e,t,n){return Math.min(Math.max(e,n),t)}n.d(t,{Du:()=>s,No:()=>y,nj:()=>v});class i extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var o=i;function s(e){if("string"!=typeof e)throw new o(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];let t=e.trim();t=f.test(e)?function(e){const t=e.toLowerCase().trim(),n=c[function(e){let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return(t>>>0)%2341}(t)];if(!n)throw new o(e);return`#${n}`}(e):e;const n=u.exec(t);if(n){const e=Array.from(n).slice(1);return[...e.slice(0,3).map((e=>parseInt(l(e,2),16))),parseInt(l(e[3]||"f",2),16)/255]}const i=d.exec(t);if(i){const e=Array.from(i).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,16))),parseInt(e[3]||"ff",16)/255]}const s=h.exec(t);if(s){const e=Array.from(s).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,10))),parseFloat(e[3]||"1")]}const a=p.exec(t);if(a){const[t,n,i,s]=Array.from(a).slice(1).map(parseFloat);if(r(0,100,n)!==n)throw new o(e);if(r(0,100,i)!==i)throw new o(e);return[...g(t,n,i),Number.isNaN(s)?1:s]}throw new o(e)}const a=e=>parseInt(e.replace(/_/g,""),36),c="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce(((e,t)=>{const n=a(t.substring(0,3)),r=a(t.substring(3)).toString(16);let i="";for(let e=0;e<6-r.length;e++)i+="0";return e[n]=`${i}${r}`,e}),{}),l=(e,t)=>Array.from(Array(t)).map((()=>e)).join(""),u=new RegExp(`^#${l("([a-f0-9])",3)}([a-f0-9])?$`,"i"),d=new RegExp(`^#${l("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),h=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${l(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),p=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,f=/^[a-z]+$/i,m=e=>Math.round(255*e),g=(e,t,n)=>{let r=n/100;if(0===t)return[r,r,r].map(m);const i=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*(t/100),s=o*(1-Math.abs(i%2-1));let a=0,c=0,l=0;i>=0&&i<1?(a=o,c=s):i>=1&&i<2?(a=s,c=o):i>=2&&i<3?(c=o,l=s):i>=3&&i<4?(c=s,l=o):i>=4&&i<5?(a=s,l=o):i>=5&&i<6&&(a=o,l=s);const u=r-o/2;return[a+u,c+u,l+u].map(m)};function y(e,t){const[n,i,o,a]=s(e);return c=i,l=o,u=a-t,`rgba(${r(0,255,n).toFixed()}, ${r(0,255,c).toFixed()}, ${r(0,255,l).toFixed()}, ${parseFloat(r(0,1,u).toFixed(3))})`;var c,l,u}function v(e){const[t,n,i,o]=s(e);let a=e=>{const t=r(0,255,e).toString(16);return 1===t.length?`0${t}`:t};return`#${a(t)}${a(n)}${a(i)}${o<1?a(Math.round(255*o)):""}`}},9996:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var r=Object.prototype.hasOwnProperty;function i(e,t,n){for(n of e.keys())if(o(n,t))return n}function o(e,t){var n,s,a;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&o(e[s],t[s]););return-1===s}if(n===Set){if(e.size!==t.size)return!1;for(s of e){if((a=s)&&"object"==typeof a&&!(a=i(t,a)))return!1;if(!t.has(a))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(s of e){if((a=s[0])&&"object"==typeof a&&!(a=i(t,a)))return!1;if(!o(s[1],t.get(a)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((s=e.byteLength)===t.byteLength)for(;s--&&e.getInt8(s)===t.getInt8(s););return-1===s}if(ArrayBuffer.isView(e)){if((s=e.byteLength)===t.byteLength)for(;s--&&e[s]===t[s];);return-1===s}if(!n||"object"==typeof e){for(n in s=0,e){if(r.call(e,n)&&++s&&!r.call(t,n))return!1;if(!(n in t)||!o(e[n],t[n]))return!1}return Object.keys(t).length===s}}return e!=e&&t!=t}},98859:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var r=n(5219),i=n(43106),o=n(11681);function s(e,t,n){void 0===n&&(n={});var s=(0,i.S)(e)?e:(0,r.O)(e);return(0,o.bM)("",s,t,n),{stop:function(){return s.stop()},isAnimating:function(){return s.isAnimating()}}}},50586:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var r=function(e){return Array.isArray(e)}},11681:(e,t,n)=>{"use strict";n.d(t,{rU:()=>ne,bM:()=>re});var r=n(59661),i=n(58932),o=n(39942),s=n(1858);const a=.001,c=.01,l=10,u=.05,d=1;const h=12;function p(e,t){return e*Math.sqrt(1-t*t)}const f=["duration","bounce"],m=["stiffness","damping","mass"];function g(e,t){return t.some((t=>void 0!==e[t]))}function y(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:y}=e,b=(0,i.Tt)(e,["from","to","restSpeed","restDelta"]);const x={done:!1,value:t};let{stiffness:O,damping:w,mass:S,velocity:k,duration:_,isResolvedFromDuration:P}=function(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!g(e,m)&&g(e,f)){const n=function({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,f;(0,o.$)(e<=1e3*l,"Spring duration must be 10 seconds or less");let m=1-t;m=(0,s.q)(u,d,m),e=(0,s.q)(c,l,e/1e3),m<1?(i=t=>{const r=t*m,i=r*e,o=r-n,s=p(t,m),c=Math.exp(-i);return a-o/s*c},f=t=>{const r=t*m*e,o=r*n+n,s=Math.pow(m,2)*Math.pow(t,2)*e,c=Math.exp(-r),l=p(Math.pow(t,2),m);return(-i(t)+a>0?-1:1)*((o-s)*c)/l}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-a,f=t=>Math.exp(-t*e)*(e*e*(n-t)));const g=function(e,t,n){let r=n;for(let n=1;n<h;n++)r-=e(r)/t(r);return r}(i,f,5/e);if(e*=1e3,isNaN(g))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(g,2)*r;return{stiffness:t,damping:2*m*Math.sqrt(r*t),duration:e}}}(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}(b),E=v,C=v;function T(){const e=k?-k/1e3:0,r=n-t,i=w/(2*Math.sqrt(O*S)),o=Math.sqrt(O/S)/1e3;if(void 0===y&&(y=Math.min(Math.abs(n-t)/100,.4)),i<1){const t=p(o,i);E=s=>{const a=Math.exp(-i*o*s);return n-a*((e+i*o*r)/t*Math.sin(t*s)+r*Math.cos(t*s))},C=n=>{const s=Math.exp(-i*o*n);return i*o*s*(Math.sin(t*n)*(e+i*o*r)/t+r*Math.cos(t*n))-s*(Math.cos(t*n)*(e+i*o*r)-t*r*Math.sin(t*n))}}else if(1===i)E=t=>n-Math.exp(-o*t)*(r+(e+o*r)*t);else{const t=o*Math.sqrt(i*i-1);E=s=>{const a=Math.exp(-i*o*s),c=Math.min(t*s,300);return n-a*((e+i*o*r)*Math.sinh(c)+t*r*Math.cosh(c))/t}}}return T(),{next:e=>{const t=E(e);if(P)x.done=e>=_;else{const i=1e3*C(e),o=Math.abs(i)<=r,s=Math.abs(n-t)<=y;x.done=o&&s}return x.value=x.done?n:t,x},flipTarget:()=>{k=-k,[t,n]=[n,t],T()}}}y.needsInterpolation=(e,t)=>"string"==typeof e||"string"==typeof t;const v=e=>0;var b=n(4648),x=n(86091);function O(e,t){return e.map((()=>t||x.am)).splice(0,e.length-1)}function w({from:e=0,to:t=1,ease:n,offset:r,duration:i=300}){const o={done:!1,value:e},s=Array.isArray(t)?t:[e,t],a=function(e,t){return e.map((e=>e*t))}(r&&r.length===s.length?r:function(e){const t=e.length;return e.map(((e,n)=>0!==n?n/(t-1):0))}(s),i);function c(){return(0,b.G)(a,s,{ease:Array.isArray(n)?n:O(s,n)})}let l=c();return{next:e=>(o.value=l(e),o.done=e>=i,o),flipTarget:()=>{s.reverse(),l=c()}}}const S={keyframes:w,spring:y,decay:function({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){const s={done:!1,value:t};let a=n*e;const c=t+a,l=void 0===o?c:o(c);return l!==c&&(a=l-t),{next:e=>{const t=-a*Math.exp(-e/r);return s.done=!(t>i||t<-i),s.value=s.done?l:l+t,s},flipTarget:()=>{}}}};var k=n(7008);function _(e,t,n=0){return e-t-n}const P=e=>{const t=({delta:t})=>e(t);return{start:()=>k.Ay.update(t,!0),stop:()=>k.eO.update(t)}};function E(e){var t,n,{from:r,autoplay:o=!0,driver:s=P,elapsed:a=0,repeat:c=0,repeatType:l="loop",repeatDelay:u=0,onPlay:d,onStop:h,onComplete:p,onRepeat:f,onUpdate:m}=e,g=(0,i.Tt)(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let v,x,O,{to:k}=g,E=0,C=g.duration,T=!1,j=!0;const I=function(e){if(Array.isArray(e.to))return w;if(S[e.type])return S[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?w:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?y:w}(g);(null===(n=(t=I).needsInterpolation)||void 0===n?void 0:n.call(t,r,k))&&(O=(0,b.G)([0,100],[r,k],{clamp:!1}),r=0,k=100);const M=I(Object.assign(Object.assign({},g),{from:r,to:k}));return o&&(null==d||d(),v=s((function(e){if(j||(e=-e),a+=e,!T){const e=M.next(Math.max(0,a));x=e.value,O&&(x=O(x)),T=j?e.done:a<=0}null==m||m(x),T&&(0===E&&(null!=C||(C=a)),E<c?function(e,t,n,r){return r?e>=t+n:e<=-n}(a,C,u,j)&&(E++,"reverse"===l?(j=E%2==0,a=function(e,t,n=0,r=!0){return r?_(t+-e,t,n):t-(e-t)+n}(a,C,u,j)):(a=_(a,C,u),"mirror"===l&&M.flipTarget()),T=!1,f&&f()):(v.stop(),p&&p()))})),v.start()),{stop:()=>{null==h||h(),v.stop()}}}var C=n(62031),T=n(90191);const j=(e,t)=>1-3*t+3*e,I=(e,t)=>3*t-6*e,M=e=>3*e,A=(e,t,n)=>((j(t,n)*e+I(t,n))*e+M(t))*e,D=(e,t,n)=>3*j(t,n)*e*e+2*I(t,n)*e+M(t),$=.1;function R(e,t,n,r){if(e===t&&n===r)return x.sn;const i=new Float32Array(11);for(let t=0;t<11;++t)i[t]=A(t*$,e,n);return o=>0===o||1===o?o:A(function(t){let r=0,o=1;for(;10!==o&&i[o]<=t;++o)r+=$;--o;const s=r+(t-i[o])/(i[o+1]-i[o])*$,a=D(s,e,n);return a>=.001?function(e,t,n,r){for(let i=0;i<8;++i){const i=D(t,n,r);if(0===i)return t;t-=(A(t,n,r)-e)/i}return t}(t,s,e,n):0===a?s:function(e,t,n,r,i){let o,s,a=0;do{s=t+(n-t)/2,o=A(s,r,i)-e,o>0?n=s:t=s}while(Math.abs(o)>1e-7&&++a<10);return s}(t,r,r+$,e,n)}(o),t,r)}var N={linear:x.sn,easeIn:x.a6,easeInOut:x.am,easeOut:x.vT,circIn:x.po,circInOut:x.tn,circOut:x.yT,backIn:x.dg,backInOut:x.ZZ,backOut:x.Sz,anticipate:x.bt,bounceIn:x.ip,bounceInOut:x.wm,bounceOut:x.Te},L=function(e){if(Array.isArray(e)){(0,o.V)(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=(0,r.zs)(e,4);return R(t[0],t[1],t[2],t[3])}return"string"==typeof e?((0,o.V)(void 0!==N[e],"Invalid easing type '".concat(e,"'")),N[e]):e},Q=function(e){return Array.isArray(e)&&"number"!=typeof e[0]},z=n(88652),F=function(e,t){return!("zIndex"===e||"number"!=typeof t&&!Array.isArray(t)&&("string"!=typeof t||!z.f.test(t)||t.startsWith("url(")))},B=n(50586),Z=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},V=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},W=function(){return{type:"keyframes",ease:"linear",duration:.3}},U=function(e){return{type:"keyframes",duration:.8,values:e}},q={x:Z,y:Z,z:Z,rotate:Z,rotateX:Z,rotateY:Z,rotateZ:Z,scaleX:V,scaleY:V,scale:V,opacity:W,backgroundColor:W,color:W,default:V},Y=function(e,t){var n;return n=(0,B.p)(t)?U:q[e]||q.default,(0,r.Cl)({to:t},n(t))},X=n(61034),H={current:!1},G=n(51703),K=!1;function J(e,t,n,i,s){var a,c=ne(i,e),l=null!==(a=c.from)&&void 0!==a?a:t.get(),u=F(e,n);"none"===l&&u&&"string"==typeof n?l=(0,X.J)(e,n):ee(l)&&"string"==typeof n?l=te(n):!Array.isArray(n)&&ee(n)&&"string"==typeof l&&(n=te(l));var d=F(e,l);return(0,o.$)(d===u,"You are trying to animate ".concat(e,' from "').concat(l,'" to "').concat(n,'". ').concat(l," is not an animatable value - to enable this animation set ").concat(l," to a value animatable to ").concat(n," via the `style` property.")),d&&u&&!1!==c.type?function(){var i={from:l,to:n,velocity:t.getVelocity(),onComplete:s,onUpdate:function(e){return t.set(e)}};return"inertia"===c.type||"decay"===c.type?function({from:e=0,velocity:t=0,min:n,max:r,power:i=.8,timeConstant:o=750,bounceStiffness:s=500,bounceDamping:a=10,restDelta:c=1,modifyTarget:l,driver:u,onUpdate:d,onComplete:h,onStop:p}){let f;function m(e){return void 0!==n&&e<n||void 0!==r&&e>r}function g(e){return void 0===n?r:void 0===r||Math.abs(n-e)<Math.abs(r-e)?n:r}function y(e){null==f||f.stop(),f=E(Object.assign(Object.assign({},e),{driver:u,onUpdate:t=>{var n;null==d||d(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:h,onStop:p}))}function v(e){y(Object.assign({type:"spring",stiffness:s,damping:a,restDelta:c},e))}if(m(e))v({from:e,velocity:t,to:g(e)});else{let r=i*t+e;void 0!==l&&(r=l(r));const s=g(r),a=s===n?-1:1;let u,d;const h=e=>{u=d,d=e,t=(0,C.f)(e-u,(0,k.KK)().delta),(1===a&&e>s||-1===a&&e<s)&&v({from:e,to:s,velocity:t})};y({type:"decay",from:e,velocity:t,timeConstant:o,power:i,restDelta:c,modifyTarget:l,onUpdate:m(r)?h:void 0})}return{stop:()=>null==f?void 0:f.stop()}}((0,r.Cl)((0,r.Cl)({},i),c)):E((0,r.Cl)((0,r.Cl)({},function(e,t,n){var i;return Array.isArray(t.to)&&(null!==(i=e.duration)&&void 0!==i||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=(0,r.fX)([],(0,r.zs)(e.to),!1),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=(0,r.Tt)(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=(0,r.Cl)((0,r.Cl)({},e),Y(n,t.to))),(0,r.Cl)((0,r.Cl)({},t),function(e){var t=e.ease,n=e.times,i=e.yoyo,s=e.flip,a=e.loop,c=(0,r.Tt)(e,["ease","times","yoyo","flip","loop"]),l=(0,r.Cl)({},c);return n&&(l.offset=n),c.duration&&(l.duration=(0,T.f)(c.duration)),c.repeatDelay&&(l.repeatDelay=(0,T.f)(c.repeatDelay)),t&&(l.ease=Q(t)?t.map(L):L(t)),"tween"===c.type&&(l.type="keyframes"),(i||a||s)&&((0,o.$)(!K,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),K=!0,i?l.repeatType="reverse":a?l.repeatType="loop":s&&(l.repeatType="mirror"),l.repeat=a||i||s||c.repeat),"spring"!==c.type&&(l.type="keyframes"),l}(e))}(c,i,e)),{onUpdate:function(e){var t;i.onUpdate(e),null===(t=c.onUpdate)||void 0===t||t.call(c,e)},onComplete:function(){var e;i.onComplete(),null===(e=c.onComplete)||void 0===e||e.call(c)}}))}:function(){var e,r,i=(0,G.K)(n);return t.set(i),s(),null===(e=null==c?void 0:c.onUpdate)||void 0===e||e.call(c,i),null===(r=null==c?void 0:c.onComplete)||void 0===r||r.call(c),{stop:function(){}}}}function ee(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function te(e){return"number"==typeof e?0:(0,X.J)("",e)}function ne(e,t){return e[t]||e.default||e}function re(e,t,n,r){return void 0===r&&(r={}),H.current&&(r={type:!1}),t.start((function(i){var o,s,a=J(e,t,n,r,i),c=function(e,t){var n,r;return null!==(r=null!==(n=(ne(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}(r,e),l=function(){return s=a()};return c?o=window.setTimeout(l,(0,T.f)(c)):l(),function(){clearTimeout(o),null==s||s.stop()}}))}},54044:(e,t,n)=>{"use strict";n.d(t,{N:()=>y});var r=n(59661),i=n(66438),o=n(72680),s=n(7008),a=n(28138);function c(){var e=(0,i.useRef)(!1);return(0,a.E)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}var l=n(87185),u=n(60971),d=n(81804),h=function(e){var t=e.children,n=e.initial,o=e.isPresent,s=e.onExitComplete,a=e.custom,c=e.presenceAffectsLayout,h=(0,u.M)(p),f=(0,d.B)(),m=(0,i.useMemo)((function(){return{id:f,initial:n,isPresent:o,custom:a,onExitComplete:function(e){var t,n;h.set(e,!0);try{for(var i=(0,r.Ju)(h.values()),o=i.next();!o.done;o=i.next())if(!o.value)return}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}null==s||s()},register:function(e){return h.set(e,!1),function(){return h.delete(e)}}}}),c?void 0:[o]);return(0,i.useMemo)((function(){h.forEach((function(e,t){return h.set(t,!1)}))}),[o]),i.useEffect((function(){!o&&!h.size&&(null==s||s())}),[o]),i.createElement(l.t.Provider,{value:m},t)};function p(){return new Map}var f=n(76191),m=n(53713),g=function(e){return e.key||""},y=function(e){var t=e.children,n=e.custom,l=e.initial,u=void 0===l||l,d=e.onExitComplete,p=e.exitBeforeEnter,y=e.presenceAffectsLayout,v=void 0===y||y,b=(0,r.zs)(function(){var e=c(),t=(0,r.zs)((0,i.useState)(0),2),n=t[0],o=t[1],a=(0,i.useCallback)((function(){e.current&&o(n+1)}),[n]);return[(0,i.useCallback)((function(){return s.Ay.postRender(a)}),[a]),n]}(),1),x=b[0],O=(0,i.useContext)(f.L).forceRender;O&&(x=O);var w=c(),S=function(e){var t=[];return i.Children.forEach(e,(function(e){(0,i.isValidElement)(e)&&t.push(e)})),t}(t),k=S,_=new Set,P=(0,i.useRef)(k),E=(0,i.useRef)(new Map).current,C=(0,i.useRef)(!0);if((0,a.E)((function(){C.current=!1,function(e,t){e.forEach((function(e){var n=g(e);t.set(n,e)}))}(S,E),P.current=k})),(0,m.l)((function(){C.current=!0,E.clear(),_.clear()})),C.current)return i.createElement(i.Fragment,null,k.map((function(e){return i.createElement(h,{key:g(e),isPresent:!0,initial:!!u&&void 0,presenceAffectsLayout:v},e)})));k=(0,r.fX)([],(0,r.zs)(k),!1);for(var T=P.current.map(g),j=S.map(g),I=T.length,M=0;M<I;M++){var A=T[M];-1===j.indexOf(A)&&_.add(A)}return p&&_.size&&(k=[]),_.forEach((function(e){if(-1===j.indexOf(e)){var t=E.get(e);if(t){var r=T.indexOf(e);k.splice(r,0,i.createElement(h,{key:g(t),isPresent:!1,onExitComplete:function(){E.delete(e),_.delete(e);var t=P.current.findIndex((function(t){return t.key===e}));if(P.current.splice(t,1),!_.size){if(P.current=S,!1===w.current)return;x(),d&&d()}},custom:n,presenceAffectsLayout:v},t))}}})),k=k.map((function(e){var t=e.key;return _.has(t)?e:i.createElement(h,{key:g(e),isPresent:!0,presenceAffectsLayout:v},e)})),"production"!==o._&&p&&k.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),i.createElement(i.Fragment,null,_.size?k:k.map((function(e){return(0,i.cloneElement)(e)})))}},16542:(e,t,n)=>{"use strict";n.d(t,{tF:()=>a,xQ:()=>s});var r=n(66438),i=n(87185),o=n(81804);function s(){var e=(0,r.useContext)(i.t);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,s=e.register,a=(0,o.B)();return(0,r.useEffect)((function(){return s(a)}),[]),!t&&n?[!1,function(){return null==n?void 0:n(a)}]:[!0]}function a(){return null===(e=(0,r.useContext)(i.t))||e.isPresent;var e}},76191:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r=(0,n(66438).createContext)({})},97984:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var r=(0,n(66438).createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"})},87185:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});var r=(0,n(66438).createContext)(null)},53177:(e,t,n)=>{"use strict";n.d(t,{P:()=>ai});var r=n(59661),i=n(66438),o=n(72680),s=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},a={measureLayout:s(["layout","layoutId","drag"]),animation:s(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:s(["exit"]),drag:s(["drag","dragControls"]),focus:s(["whileFocus"]),hover:s(["whileHover","onHoverStart","onHoverEnd"]),tap:s(["whileTap","onTap","onTapStart","onTapCancel"]),pan:s(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:s(["whileInView","onViewportEnter","onViewportLeave"])},c=n(39942),l=(0,i.createContext)({strict:!1}),u=Object.keys(a),d=u.length,h=n(97984),p=(0,i.createContext)({}),f=n(87185),m=n(28138),g=n(35710),y={current:null},v=!1;function b(e,t,n,o){var s,a,c=(0,i.useContext)(l),u=(0,i.useContext)(p).visualElement,d=(0,i.useContext)(f.t),b=(!v&&function(){if(v=!0,g.B)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return y.current=e.matches};e.addListener(t),t()}else y.current=!1}(),s=(0,r.zs)((0,i.useState)(y.current),1)[0],"never"!==(a=(0,i.useContext)(h.Q).reducedMotion)&&("always"===a||s)),x=(0,i.useRef)(void 0);o||(o=c.renderer),!x.current&&o&&(x.current=o(e,{visualState:t,parent:u,props:n,presenceId:null==d?void 0:d.id,blockInitialAnimation:!1===(null==d?void 0:d.initial),shouldReduceMotion:b}));var O=x.current;return(0,m.E)((function(){null==O||O.syncRender()})),(0,i.useEffect)((function(){var e;null===(e=null==O?void 0:O.animationState)||void 0===e||e.animateChanges()})),(0,m.E)((function(){return function(){return null==O?void 0:O.notifyUnmount()}}),[]),O}function x(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function O(e){return Array.isArray(e)}function w(e){return"string"==typeof e||O(e)}function S(e,t,n,r,i){var o;return void 0===r&&(r={}),void 0===i&&(i={}),"function"==typeof t&&(t=t(null!=n?n:e.custom,r,i)),"string"==typeof t&&(t=null===(o=e.variants)||void 0===o?void 0:o[t]),"function"==typeof t&&(t=t(null!=n?n:e.custom,r,i)),t}function k(e,t,n){var r=e.getProps();return S(r,t,null!=n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function _(e){var t;return"function"==typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||w(e.initial)||w(e.animate)||w(e.whileHover)||w(e.whileDrag)||w(e.whileTap)||w(e.whileFocus)||w(e.exit)}function P(e){return Boolean(_(e)||e.variants)}function E(e){return Array.isArray(e)?e.join(" "):e}var C=n(60971),T={hasAnimatedSinceResize:!0,hasEverUpdated:!1},j=1,I=n(76191),M=(0,i.createContext)({}),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)},t.prototype.render=function(){return this.props.children},t}(i.Component);function D(e){var t=e.preloadedFeatures,n=e.createVisualElement,s=e.projectionNodeConstructor,f=e.useRender,m=e.useVisualState,y=e.Component;return t&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?a.projectionNodeConstructor=e[t]:a[t].Component=e[t])}(t),(0,i.forwardRef)((function(e,v){var O=function(e){var t,n=e.layoutId,r=null===(t=(0,i.useContext)(I.L))||void 0===t?void 0:t.id;return r&&void 0!==n?r+"-"+n:n}(e);e=(0,r.Cl)((0,r.Cl)({},e),{layoutId:O});var S=(0,i.useContext)(h.Q),k=null,P=function(e){var t=function(e,t){if(_(e)){var n=e.initial,r=e.animate;return{initial:!1===n||w(n)?n:void 0,animate:w(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(p)),n=t.initial,r=t.animate;return(0,i.useMemo)((function(){return{initial:n,animate:r}}),[E(n),E(r)])}(e),D=S.isStatic?void 0:(0,C.M)((function(){if(T.hasEverUpdated)return j++})),$=m(e,S.isStatic);return!S.isStatic&&g.B&&(P.visualElement=b(y,$,(0,r.Cl)((0,r.Cl)({},S),e),n),function(e,t,n,r){var o,s=t.layoutId,a=t.layout,c=t.drag,l=t.dragConstraints,u=t.layoutScroll,d=(0,i.useContext)(M);r&&n&&!(null==n?void 0:n.projection)&&(n.projection=new r(e,n.getLatestValues(),null===(o=n.parent)||void 0===o?void 0:o.projection),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:Boolean(c)||l&&x(l),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:"string"==typeof a?a:"both",initialPromotionConfig:d,layoutScroll:u}))}(D,e,P.visualElement,s||a.projectionNodeConstructor),k=function(e,t,n){var s=[],h=(0,i.useContext)(l);if(!t)return null;"production"!==o._&&n&&h.strict&&(0,c.V)(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(var p=0;p<d;p++){var f=u[p],m=a[f],g=m.isEnabled,y=m.Component;g(e)&&y&&s.push(i.createElement(y,(0,r.Cl)({key:f},e,{visualElement:t})))}return s}(e,P.visualElement,t)),i.createElement(A,{visualElement:P.visualElement,props:(0,r.Cl)((0,r.Cl)({},S),e)},k,i.createElement(p.Provider,{value:P},f(y,e,D,function(e,t,n){return(0,i.useCallback)((function(r){var i;r&&(null===(i=e.mount)||void 0===i||i.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):x(n)&&(n.current=r))}),[t])}($,P.visualElement,v),$,S.isStatic,P.visualElement)))}))}function $(e){function t(t,n){return void 0===n&&(n={}),D(e(t,n))}if("undefined"==typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var R=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function N(e){return"string"==typeof e&&!e.includes("-")&&!!(R.indexOf(e)>-1||/[A-Z]/.test(e))}var L={},Q=["","X","Y","Z"],z=["transformPerspective","x","y","z"];function F(e,t){return z.indexOf(e)-z.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return Q.forEach((function(t){return z.push(e+t)}))}));var B=new Set(z);function Z(e){return B.has(e)}var V=new Set(["originX","originY","originZ"]);function W(e){return V.has(e)}function U(e,t){var n=t.layout,r=t.layoutId;return Z(e)||W(e)||(n||void 0!==r)&&(!!L[e]||"opacity"===e)}var q=n(43106),Y={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function X(e){return e.startsWith("--")}var H=function(e,t){return t&&"number"==typeof e?t.transform(e):e},G=n(32410);function K(e,t,n,r){var i,o=e.style,s=e.vars,a=e.transform,c=e.transformKeys,l=e.transformOrigin;c.length=0;var u=!1,d=!1,h=!0;for(var p in t){var f=t[p];if(X(p))s[p]=f;else{var m=G.W[p],g=H(f,m);if(Z(p)){if(u=!0,a[p]=g,c.push(p),!h)continue;f!==(null!==(i=m.default)&&void 0!==i?i:0)&&(h=!1)}else W(p)?(l[p]=g,d=!0):o[p]=g}}u?o.transform=function(e,t,n,r){var i=e.transform,o=e.transformKeys,s=t.enableHardwareAcceleration,a=void 0===s||s,c=t.allowTransformNone,l=void 0===c||c,u="";o.sort(F);for(var d=!1,h=o.length,p=0;p<h;p++){var f=o[p];u+="".concat(Y[f]||f,"(").concat(i[f],") "),"z"===f&&(d=!0)}return!d&&a?u+="translateZ(0)":u=u.trim(),r?u=r(i,n?"":u):l&&n&&(u="none"),u}(e,n,h,r):r?o.transform=r({},""):!t.transform&&o.transform&&(o.transform="none"),d&&(o.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,i=void 0===r?"50%":r,o=e.originZ,s=void 0===o?0:o;return"".concat(n," ").concat(i," ").concat(s)}(l))}var J=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function ee(e,t,n){for(var r in t)(0,q.S)(t[r])||U(r,n)||(e[r]=t[r])}function te(e,t,n){var o={},s=function(e,t,n){var o={};return ee(o,e.style||{},e),Object.assign(o,function(e,t,n){var o=e.transformTemplate;return(0,i.useMemo)((function(){var e=J();K(e,t,{enableHardwareAcceleration:!n},o);var i=e.vars,s=e.style;return(0,r.Cl)((0,r.Cl)({},i),s)}),[t])}(e,t,n)),e.transformValues&&(o=e.transformValues(o)),o}(e,t,n);return Boolean(e.drag)&&!1!==e.dragListener&&(o.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),o.style=s,o}var ne=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function re(e){return ne.has(e)}var ie,oe=function(e){return!re(e)};try{(ie=require("@emotion/is-prop-valid").default)&&(oe=function(e){return e.startsWith("on")?!re(e):ie(e)})}catch(e){}var se=n(95639);function ae(e,t,n){return"string"==typeof e?e:se.px.transform(t+n*e)}var ce={offset:"stroke-dashoffset",array:"stroke-dasharray"},le={offset:"strokeDashoffset",array:"strokeDasharray"};function ue(e,t,n,i){var o=t.attrX,s=t.attrY,a=t.originX,c=t.originY,l=t.pathLength,u=t.pathSpacing,d=void 0===u?1:u,h=t.pathOffset,p=void 0===h?0:h;K(e,(0,r.Tt)(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,i),e.attrs=e.style,e.style={};var f=e.attrs,m=e.style,g=e.dimensions;f.transform&&(g&&(m.transform=f.transform),delete f.transform),g&&(void 0!==a||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){var r=ae(t,e.x,e.width),i=ae(n,e.y,e.height);return"".concat(r," ").concat(i)}(g,void 0!==a?a:.5,void 0!==c?c:.5)),void 0!==o&&(f.x=o),void 0!==s&&(f.y=s),void 0!==l&&function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=!0),e.pathLength=1;var o=i?ce:le;e[o.offset]=se.px.transform(-r);var s=se.px.transform(t),a=se.px.transform(n);e[o.array]="".concat(s," ").concat(a)}(f,l,d,p,!1)}var de=function(){return(0,r.Cl)((0,r.Cl)({},J()),{attrs:{}})};function he(e,t){var n=(0,i.useMemo)((function(){var n=de();return ue(n,t,{enableHardwareAcceleration:!1},e.transformTemplate),(0,r.Cl)((0,r.Cl)({},n.attrs),{style:(0,r.Cl)({},n.style)})}),[t]);if(e.style){var o={};ee(o,e.style,e),n.style=(0,r.Cl)((0,r.Cl)({},o),n.style)}return n}function pe(e){return void 0===e&&(e=!1),function(t,n,o,s,a,c){var l=a.latestValues,u=(N(t)?he:te)(n,l,c),d=function(e,t,n){var r={};for(var i in e)(oe(i)||!0===n&&re(i)||!t&&!re(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"==typeof t,e),h=(0,r.Cl)((0,r.Cl)((0,r.Cl)({},d),u),{ref:s});return o&&(h["data-projection-id"]=o),(0,i.createElement)(t,h)}}var fe=/([a-z])([A-Z])/g,me=function(e){return e.replace(fe,"$1-$2").toLowerCase()};function ge(e,t,n,r){var i=t.style,o=t.vars;for(var s in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),o)e.style.setProperty(s,o[s])}var ye=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function ve(e,t,n,r){for(var i in ge(e,t,void 0,r),t.attrs)e.setAttribute(ye.has(i)?i:me(i),t.attrs[i])}function be(e){var t=e.style,n={};for(var r in t)((0,q.S)(t[r])||U(r,e))&&(n[r]=t[r]);return n}function xe(e){var t=be(e);for(var n in e)(0,q.S)(e[n])&&(t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]);return t}function Oe(e){return"object"==typeof e&&"function"==typeof e.start}var we=n(51703);function Se(e){var t=(0,q.S)(e)?e.get():e;return(0,we.B)(t)?t.toValue():t}function ke(e,t,n,r){var i=e.scrapeMotionValuesFromProps,o=e.createRenderState,s=e.onMount,a={latestValues:Pe(t,n,r,i),renderState:o()};return s&&(a.mount=function(e){return s(t,e,a)}),a}var _e=function(e){return function(t,n){var r=(0,i.useContext)(p),o=(0,i.useContext)(f.t);return n?ke(e,t,r,o):(0,C.M)((function(){return ke(e,t,r,o)}))}};function Pe(e,t,n,i){var o={},s=!1===(null==n?void 0:n.initial),a=i(e);for(var c in a)o[c]=Se(a[c]);var l=e.initial,u=e.animate,d=_(e),h=P(e);t&&h&&!d&&!1!==e.inherit&&(null!=l||(l=t.initial),null!=u||(u=t.animate));var p=s||!1===l,f=p?u:l;return f&&"boolean"!=typeof f&&!Oe(f)&&(Array.isArray(f)?f:[f]).forEach((function(t){var n=S(e,t);if(n){var i=n.transitionEnd;n.transition;var s=(0,r.Tt)(n,["transitionEnd","transition"]);for(var a in s){var c=s[a];Array.isArray(c)&&(c=c[p?c.length-1:0]),null!==c&&(o[a]=c)}for(var a in i)o[a]=i[a]}})),o}var Ee,Ce={useVisualState:_e({scrapeMotionValuesFromProps:xe,createRenderState:de,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}ue(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),ve(t,r)}})},Te={useVisualState:_e({scrapeMotionValuesFromProps:be,createRenderState:J})};function je(e,t,n,r){return void 0===r&&(r={passive:!0}),e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function Ie(e,t,n,r){(0,i.useEffect)((function(){var i=e.current;if(n&&i)return je(i,t,n,r)}),[e,t,n,r])}function Me(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function Ae(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(Ee||(Ee={}));var De={pageX:0,pageY:0};function $e(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||De;return{x:n[t+"X"],y:n[t+"Y"]}}function Re(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function Ne(e,t){return void 0===t&&(t="page"),{point:Ae(e)?$e(e,t):Re(e,t)}}var Le=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,Ne(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},Qe=function(){return g.B&&null===window.onpointerdown},ze=function(){return g.B&&null===window.ontouchstart},Fe=function(){return g.B&&null===window.onmousedown},Be={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Ze={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Ve(e){return Qe()?e:ze()?Ze[e]:Fe()?Be[e]:e}function We(e,t,n,r){return je(e,Ve(t),Le(n,"pointerdown"===t),r)}function Ue(e,t,n,r){return Ie(e,Ve(t),n&&Le(n,"pointerdown"===t),r)}function qe(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var Ye=qe("dragHorizontal"),Xe=qe("dragVertical");function He(e){var t=!1;if("y"===e)t=Xe();else if("x"===e)t=Ye();else{var n=Ye(),r=Xe();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function Ge(){var e=He(!0);return!e||(e(),!1)}function Ke(e,t,n){return function(r,i){var o;Me(r)&&!Ge()&&(null===(o=e.animationState)||void 0===o||o.setActive(Ee.Hover,t),null==n||n(r,i))}}var Je=function(e,t){return!!t&&(e===t||Je(e,t.parentElement))},et=n(53713),tt=n(16173),nt=new Set,rt=new WeakMap,it=new WeakMap,ot=function(e){var t;null===(t=rt.get(e.target))||void 0===t||t(e)},st=function(e){e.forEach(ot)};var at={some:0,all:1};function ct(e,t,n,o){var s=o.root,a=o.margin,c=o.amount,l=void 0===c?"some":c,u=o.once;(0,i.useEffect)((function(){if(e){var i={root:null==s?void 0:s.current,rootMargin:a,threshold:"number"==typeof l?l:at[l]};return function(e,t,n){var i=function(e){var t=e.root,n=(0,r.Tt)(e,["root"]),i=t||document;it.has(i)||it.set(i,{});var o=it.get(i),s=JSON.stringify(n);return o[s]||(o[s]=new IntersectionObserver(st,(0,r.Cl)({root:t},n))),o[s]}(t);return rt.set(e,n),i.observe(e),function(){rt.delete(e),i.unobserve(e)}}(n.getInstance(),i,(function(e){var r,i=e.isIntersecting;if(t.isInView!==i&&(t.isInView=i,!u||i||!t.hasEnteredView)){i&&(t.hasEnteredView=!0),null===(r=n.animationState)||void 0===r||r.setActive(Ee.InView,i);var o=n.getProps(),s=i?o.onViewportEnter:o.onViewportLeave;null==s||s(e)}}))}}),[e,s,a,l])}function lt(e,t,n,r){var s=r.fallback,a=void 0===s||s;(0,i.useEffect)((function(){var r;e&&a&&("production"!==o._&&(r="IntersectionObserver not available on this device. whileInView animations will trigger on mount.",nt.has(r)||(console.warn(r),nt.add(r))),requestAnimationFrame((function(){var e;t.hasEnteredView=!0;var r=n.getProps().onViewportEnter;null==r||r(null),null===(e=n.animationState)||void 0===e||e.setActive(Ee.InView,!0)})))}),[e])}var ut=function(e){return function(t){return e(t),null}},dt={inView:ut((function(e){var t=e.visualElement,n=e.whileInView,r=e.onViewportEnter,o=e.onViewportLeave,s=e.viewport,a=void 0===s?{}:s,c=(0,i.useRef)({hasEnteredView:!1,isInView:!1}),l=Boolean(n||r||o);a.once&&c.current.hasEnteredView&&(l=!1),("undefined"==typeof IntersectionObserver?lt:ct)(l,c.current,t,a)})),tap:ut((function(e){var t=e.onTap,n=e.onTapStart,r=e.onTapCancel,o=e.whileTap,s=e.visualElement,a=t||n||r||o,c=(0,i.useRef)(!1),l=(0,i.useRef)(null),u={passive:!(n||t||r||m)};function d(){var e;null===(e=l.current)||void 0===e||e.call(l),l.current=null}function h(){var e;return d(),c.current=!1,null===(e=s.animationState)||void 0===e||e.setActive(Ee.Tap,!1),!Ge()}function p(e,n){h()&&(Je(s.getInstance(),e.target)?null==t||t(e,n):null==r||r(e,n))}function f(e,t){h()&&(null==r||r(e,t))}function m(e,t){var r;d(),c.current||(c.current=!0,l.current=(0,tt.F)(We(window,"pointerup",p,u),We(window,"pointercancel",f,u)),null===(r=s.animationState)||void 0===r||r.setActive(Ee.Tap,!0),null==n||n(e,t))}Ue(s,"pointerdown",a?m:void 0,u),(0,et.l)(d)})),focus:ut((function(e){var t=e.whileFocus,n=e.visualElement;Ie(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(Ee.Focus,!0)}:void 0),Ie(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(Ee.Focus,!1)}:void 0)})),hover:ut((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;Ue(i,"pointerenter",t||r?Ke(i,!0,t):void 0,{passive:!t}),Ue(i,"pointerleave",n||r?Ke(i,!1,n):void 0,{passive:!n})}))},ht=n(16542),pt=n(50586);function ft(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var mt=n(11681),gt=n(88652),yt=n(5219),vt=n(61034),bt=n(45297),xt=n(88886),Ot=function(e){return function(t){return t.test(e)}},wt=[xt.ai,se.px,se.KN,se.uj,se.vw,se.vh,{test:function(e){return"auto"===e},parse:function(e){return e}}],St=function(e){return wt.find(Ot(e))},kt=(0,r.fX)((0,r.fX)([],(0,r.zs)(wt),!1),[bt.y,gt.f],!1),_t=function(e){return kt.find(Ot(e))};function Pt(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,(0,yt.O)(n))}function Et(e,t){if(t)return(t[e]||t.default||t).from}function Ct(e,t,n){var i;void 0===n&&(n={});var o=k(e,t,n.custom),s=(o||{}).transition,a=void 0===s?e.getDefaultTransition()||{}:s;n.transitionOverride&&(a=n.transitionOverride);var c=o?function(){return Tt(e,o,n)}:function(){return Promise.resolve()},l=(null===(i=e.variantChildren)||void 0===i?void 0:i.size)?function(i){void 0===i&&(i=0);var o=a.delayChildren,s=void 0===o?0:o,c=a.staggerChildren,l=a.staggerDirection;return function(e,t,n,i,o,s){void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=1);var a=[],c=(e.variantChildren.size-1)*i,l=1===o?function(e){return void 0===e&&(e=0),e*i}:function(e){return void 0===e&&(e=0),c-e*i};return Array.from(e.variantChildren).sort(jt).forEach((function(e,i){a.push(Ct(e,t,(0,r.Cl)((0,r.Cl)({},s),{delay:n+l(i)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(a)}(e,t,s+i,c,l,n)}:function(){return Promise.resolve()},u=a.when;if(u){var d=(0,r.zs)("beforeChildren"===u?[c,l]:[l,c],2),h=d[0],p=d[1];return h().then(p)}return Promise.all([c(),l(n.delay)])}function Tt(e,t,n){var i,o=void 0===n?{}:n,s=o.delay,a=void 0===s?0:s,c=o.transitionOverride,l=o.type,u=e.makeTargetAnimatable(t),d=u.transition,h=void 0===d?e.getDefaultTransition():d,p=u.transitionEnd,f=(0,r.Tt)(u,["transition","transitionEnd"]);c&&(h=c);var m=[],g=l&&(null===(i=e.animationState)||void 0===i?void 0:i.getState()[l]);for(var y in f){var v=e.getValue(y),b=f[y];if(!(!v||void 0===b||g&&It(g,y))){var x=(0,r.Cl)({delay:a},h);e.shouldReduceMotion&&Z(y)&&(x=(0,r.Cl)((0,r.Cl)({},x),{type:!1,delay:0}));var O=(0,mt.bM)(y,v,b,x);m.push(O)}}return Promise.all(m).then((function(){p&&function(e,t){var n=k(e,t),i=n?e.makeTargetAnimatable(n,!1):{},o=i.transitionEnd,s=void 0===o?{}:o;i.transition;var a=(0,r.Tt)(i,["transitionEnd","transition"]);for(var c in a=(0,r.Cl)((0,r.Cl)({},a),s))Pt(e,c,(0,we.K)(a[c]))}(e,p)}))}function jt(e,t){return e.sortNodePosition(t)}function It(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var Mt=[Ee.Animate,Ee.InView,Ee.Focus,Ee.Hover,Ee.Tap,Ee.Drag,Ee.Exit],At=(0,r.fX)([],(0,r.zs)(Mt),!1).reverse(),Dt=Mt.length;function $t(e){var t,n=function(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(t),Array.isArray(t)){var i=t.map((function(t){return Ct(e,t,n)}));r=Promise.all(i)}else if("string"==typeof t)r=Ct(e,t,n);else{var o="function"==typeof t?k(e,t,n.custom):t;r=Tt(e,o,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}(e),i=((t={})[Ee.Animate]=Rt(!0),t[Ee.InView]=Rt(),t[Ee.Hover]=Rt(),t[Ee.Tap]=Rt(),t[Ee.Drag]=Rt(),t[Ee.Focus]=Rt(),t[Ee.Exit]=Rt(),t),o={},s=!0,a=function(t,n){var i=k(e,n);if(i){i.transition;var o=i.transitionEnd,s=(0,r.Tt)(i,["transition","transitionEnd"]);t=(0,r.Cl)((0,r.Cl)((0,r.Cl)({},t),s),o)}return t};function c(t,c){for(var l,u=e.getProps(),d=e.getVariantContext(!0)||{},h=[],p=new Set,f={},m=1/0,g=function(n){var o=At[n],g=i[o],y=null!==(l=u[o])&&void 0!==l?l:d[o],v=w(y),b=o===c?g.isActive:null;!1===b&&(m=n);var x=y===d[o]&&y!==u[o]&&v;if(x&&s&&e.manuallyAnimateOnMount&&(x=!1),g.protectedKeys=(0,r.Cl)({},f),!g.isActive&&null===b||!y&&!g.prevProp||Oe(y)||"boolean"==typeof y)return"continue";var S=function(e,t){return"string"==typeof t?t!==e:!!O(t)&&!ft(t,e)}(g.prevProp,y),k=S||o===c&&g.isActive&&!x&&v||n>m&&v,_=Array.isArray(y)?y:[y],P=_.reduce(a,{});!1===b&&(P={});var E=g.prevResolvedValues,C=void 0===E?{}:E,T=(0,r.Cl)((0,r.Cl)({},C),P),j=function(e){k=!0,p.delete(e),g.needsAnimating[e]=!0};for(var I in T){var M=P[I],A=C[I];f.hasOwnProperty(I)||(M!==A?(0,pt.p)(M)&&(0,pt.p)(A)?!ft(M,A)||S?j(I):g.protectedKeys[I]=!0:void 0!==M?j(I):p.add(I):void 0!==M&&p.has(I)?j(I):g.protectedKeys[I]=!0)}g.prevProp=y,g.prevResolvedValues=P,g.isActive&&(f=(0,r.Cl)((0,r.Cl)({},f),P)),s&&e.blockInitialAnimation&&(k=!1),k&&!x&&h.push.apply(h,(0,r.fX)([],(0,r.zs)(_.map((function(e){return{animation:e,options:(0,r.Cl)({type:o},t)}}))),!1))},y=0;y<Dt;y++)g(y);if(o=(0,r.Cl)({},f),p.size){var v={};p.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(v[t]=n)})),h.push({animation:v})}var b=Boolean(h.length);return s&&!1===u.initial&&!e.manuallyAnimateOnMount&&(b=!1),s=!1,b?n(h):Promise.resolve()}return{isAnimated:function(e){return void 0!==o[e]},animateChanges:c,setActive:function(t,n,r){var o;if(i[t].isActive===n)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)})),i[t].isActive=n;var s=c(r,t);for(var a in i)i[a].protectedKeys={};return s},setAnimateFunction:function(t){n=t(e)},getState:function(){return i}}}function Rt(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var Nt={animation:ut((function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=$t(t)),Oe(n)&&(0,i.useEffect)((function(){return n.subscribe(t)}),[n])})),exit:ut((function(e){var t=e.custom,n=e.visualElement,o=(0,r.zs)((0,ht.xQ)(),2),s=o[0],a=o[1],c=(0,i.useContext)(f.t);(0,i.useEffect)((function(){var e,r;n.isPresent=s;var i=null===(e=n.animationState)||void 0===e?void 0:e.setActive(Ee.Exit,!s,{custom:null!==(r=null==c?void 0:c.custom)&&void 0!==r?r:t});!s&&(null==i||i.then(a))}),[s])}))},Lt=n(7008),Qt=n(90191);const zt=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),Ft=e=>zt(e)&&e.hasOwnProperty("z");var Bt=n(49635);const Zt=(e,t)=>Math.abs(e-t);function Vt(e,t){if((0,Bt.T)(e)&&(0,Bt.T)(t))return Zt(e,t);if(zt(e)&&zt(t)){const n=Zt(e.x,t.x),r=Zt(e.y,t.y),i=Ft(e)&&Ft(t)?Zt(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}var Wt=function(){function e(e,t,n){var i=this,o=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(i.lastMoveEvent&&i.lastMoveEventInfo){var e=Yt(i.lastMoveEventInfo,i.history),t=null!==i.startEvent,n=Vt(e.offset,{x:0,y:0})>=3;if(t||n){var o=e.point,s=(0,Lt.KK)().timestamp;i.history.push((0,r.Cl)((0,r.Cl)({},o),{timestamp:s}));var a=i.handlers,c=a.onStart,l=a.onMove;t||(c&&c(i.lastMoveEvent,e),i.startEvent=i.lastMoveEvent),l&&l(i.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){i.lastMoveEvent=e,i.lastMoveEventInfo=Ut(t,i.transformPagePoint),Me(e)&&0===e.buttons?i.handlePointerUp(e,t):Lt.Ay.update(i.updatePoint,!0)},this.handlePointerUp=function(e,t){i.end();var n=i.handlers,r=n.onEnd,o=n.onSessionEnd,s=Yt(Ut(t,i.transformPagePoint),i.history);i.startEvent&&r&&r(e,s),o&&o(e,s)},!(Ae(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=o;var s=Ut(Ne(e),this.transformPagePoint),a=s.point,c=(0,Lt.KK)().timestamp;this.history=[(0,r.Cl)((0,r.Cl)({},a),{timestamp:c})];var l=t.onSessionStart;l&&l(e,Yt(s,this.history)),this.removeListeners=(0,tt.F)(We(window,"pointermove",this.handlePointerMove),We(window,"pointerup",this.handlePointerUp),We(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),Lt.eO.update(this.updatePoint)},e}();function Ut(e,t){return t?{point:t(e.point)}:e}function qt(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yt(e,t){var n=e.point;return{point:n,delta:qt(n,Ht(t)),offset:qt(n,Xt(t)),velocity:Gt(t,.1)}}function Xt(e){return e[0]}function Ht(e){return e[e.length-1]}function Gt(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=Ht(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>(0,Qt.f)(t)));)n--;if(!r)return{x:0,y:0};var o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};var s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}var Kt=n(96661),Jt=n(34300),en=n(1858);function tn(e){return e.max-e.min}function nn(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),Vt(e,t)<n}function rn(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=(0,Kt.j)(t.min,t.max,e.origin),e.scale=tn(n)/tn(t),(nn(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=(0,Kt.j)(n.min,n.max,e.origin)-e.originPoint,(nn(e.translate)||isNaN(e.translate))&&(e.translate=0)}function on(e,t,n,r){rn(e.x,t.x,n.x,null==r?void 0:r.originX),rn(e.y,t.y,n.y,null==r?void 0:r.originY)}function sn(e,t,n){e.min=n.min+t.min,e.max=e.min+tn(t)}function an(e,t,n){e.min=t.min-n.min,e.max=e.min+tn(t)}function cn(e,t,n){an(e.x,t.x,n.x),an(e.y,t.y,n.y)}function ln(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function un(e,t){var n,i=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&(i=(n=(0,r.zs)([o,i],2))[0],o=n[1]),{min:i,max:o}}var dn=.35;function hn(e,t,n){return{min:pn(e,t),max:pn(e,n)}}function pn(e,t){var n;return"number"==typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}var fn=function(){return{x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}},mn=function(){return{x:{min:0,max:0},y:{min:0,max:0}}};function gn(e){return[e("x"),e("y")]}function yn(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function vn(e){return void 0===e||1===e}function bn(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!vn(t)||!vn(n)||!vn(r)}function xn(e){return bn(e)||On(e.x)||On(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function On(e){return e&&"0%"!==e}function wn(e,t,n){return n+t*(e-n)}function Sn(e,t,n,r,i){return void 0!==i&&(e=wn(e,i,r)),wn(e,n,r)+t}function kn(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),e.min=Sn(e.min,t,n,r,i),e.max=Sn(e.max,t,n,r,i)}function _n(e,t){var n=t.x,r=t.y;kn(e.x,n.translate,n.scale,n.originPoint),kn(e.y,r.translate,r.scale,r.originPoint)}function Pn(e,t){e.min=e.min+t,e.max=e.max+t}function En(e,t,n){var i=(0,r.zs)(n,3),o=i[0],s=i[1],a=i[2],c=void 0!==t[a]?t[a]:.5,l=(0,Kt.j)(e.min,e.max,c);kn(e,t[o],t[s],l,t.scale)}var Cn=["x","scaleX","originX"],Tn=["y","scaleY","originY"];function jn(e,t){En(e.x,t,Cn),En(e.y,t,Tn)}function In(e,t){return yn(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var Mn=new WeakMap,An=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mn(),this.visualElement=e}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor,i=void 0!==r&&r;!1!==this.visualElement.isPresent&&(this.panSession=new Wt(e,{onSessionStart:function(e){n.stopAnimation(),i&&n.snapToCursor(Ne(e,"page").point)},onStart:function(e,t){var r,i=n.getProps(),o=i.drag,s=i.dragPropagation,a=i.onDragStart;(!o||s||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=He(o),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),gn((function(e){var t,r,i=n.getAxisMotionValue(e).get()||0;if(se.KN.test(i)){var o=null===(r=null===(t=n.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===r?void 0:r.actual[e];o&&(i=tn(o)*(parseFloat(i)/100))}n.originPoint[e]=i})),null==a||a(e,t),null===(r=n.visualElement.animationState)||void 0===r||r.setActive(Ee.Drag,!0))},onMove:function(e,t){var r=n.getProps(),i=r.dragPropagation,o=r.dragDirectionLock,s=r.onDirectionLock,a=r.onDrag;if(i||n.openGlobalLock){var c=t.offset;if(o&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(c),void(null!==n.currentDirection&&(null==s||s(n.currentDirection)));n.updateAxis("x",t.point,c),n.updateAxis("y",t.point,c),n.visualElement.syncRender(),null==a||a(e,t)}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()}))},e.prototype.stop=function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null==i||i(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(Ee.Drag,!1)},e.prototype.updateAxis=function(e,t,n){var r,i,o,s,a,c=this.getProps().drag;if(n&&Dn(e,c,this.currentDirection)){var l=this.getAxisMotionValue(e),u=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(r=u,i=this.constraints[e],o=this.elastic[e],s=i.min,a=i.max,void 0!==s&&r<s?r=o?(0,Kt.j)(s,r,o.min):Math.max(r,s):void 0!==a&&r>a&&(r=o?(0,Kt.j)(a,r,o.max):Math.min(r,a)),u=r),l.set(u)}},e.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,o=this.constraints;n&&x(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,o=t.right;return{x:ln(e.x,r,o),y:ln(e.y,n,i)}}(i.actual,n),this.elastic=function(e){return void 0===e&&(e=dn),!1===e?e=0:!0===e&&(e=dn),{x:hn(e,"left","right"),y:hn(e,"top","bottom")}}(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&gn((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.actual[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!x(t))return!1;var r=t.current;(0,c.V)(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var o=function(e,t,n){var r=In(e,n),i=t.scroll;return i&&(Pn(r.x,i.x),Pn(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),s=function(e,t){return{x:un(e.x,t.x),y:un(e.y,t.y)}}(i.layout.actual,o);if(n){var a=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!a,a&&(s=yn(a))}return s},e.prototype.startAnimation=function(e){var t=this,n=this.getProps(),i=n.drag,o=n.dragMomentum,s=n.dragElastic,a=n.dragTransition,c=n.dragSnapToOrigin,l=n.onDragTransitionEnd,u=this.constraints||{},d=gn((function(n){var l;if(Dn(n,i,t.currentDirection)){var d=null!==(l=null==u?void 0:u[n])&&void 0!==l?l:{};c&&(d={min:0,max:0});var h=s?200:1e6,p=s?40:1e7,f=(0,r.Cl)((0,r.Cl)({type:"inertia",velocity:o?e[n]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10},a),d);return t.startAxisValueAnimation(n,f)}}));return Promise.all(d).then(l)},e.prototype.startAxisValueAnimation=function(e,t){var n=this.getAxisMotionValue(e);return(0,mt.bM)(e,n,0,t)},e.prototype.stopAnimation=function(){var e=this;gn((function(t){return e.getAxisMotionValue(t).stop()}))},e.prototype.getAxisMotionValue=function(e){var t,n,r="_drag"+e.toUpperCase();return this.visualElement.getProps()[r]||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)},e.prototype.snapToCursor=function(e){var t=this;gn((function(n){if(Dn(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var o=r.layout.actual[n],s=o.min,a=o.max;i.set(e[n]-(0,Kt.j)(s,a,.5))}}}))},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,o=this.visualElement.projection;if(x(i)&&o&&this.constraints){this.stopAnimation();var s={x:0,y:0};gn((function(e){var n,r,i,o,a,c=t.getAxisMotionValue(e);if(c){var l=c.get();s[e]=(n={min:l,max:l},r=t.constraints[e],i=.5,o=tn(n),(a=tn(r))>o?i=(0,Jt.q)(r.min,r.max-o,n.min):o>a&&(i=(0,Jt.q)(n.min,n.max-a,r.min)),(0,en.q)(0,1,i))}}));var a=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=a?a({},""):"none",null===(e=o.root)||void 0===e||e.updateScroll(),o.updateLayout(),this.resolveConstraints(),gn((function(e){if(Dn(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],o=i.min,a=i.max;n.set((0,Kt.j)(o,a,s[e]))}}))}},e.prototype.addListeners=function(){var e,t=this;Mn.set(this.visualElement,this);var n=We(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){x(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,o=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var s=je(window,"resize",(function(){return t.scalePositionWithinConstraints()}));return i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(gn((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())})),function(){s(),n(),o()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,i=e.dragDirectionLock,o=void 0!==i&&i,s=e.dragPropagation,a=void 0!==s&&s,c=e.dragConstraints,l=void 0!==c&&c,u=e.dragElastic,d=void 0===u?dn:u,h=e.dragMomentum,p=void 0===h||h;return(0,r.Cl)((0,r.Cl)({},e),{drag:n,dragDirectionLock:o,dragPropagation:a,dragConstraints:l,dragElastic:d,dragMomentum:p})},e}();function Dn(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}var $n={pan:ut((function(e){var t=e.onPan,n=e.onPanStart,r=e.onPanEnd,o=e.onPanSessionStart,s=e.visualElement,a=t||n||r||o,c=(0,i.useRef)(null),l=(0,i.useContext)(h.Q).transformPagePoint,u={onSessionStart:o,onStart:n,onMove:t,onEnd:function(e,t){c.current=null,r&&r(e,t)}};(0,i.useEffect)((function(){null!==c.current&&c.current.updateHandlers(u)})),Ue(s,"pointerdown",a&&function(e){c.current=new Wt(e,u,{transformPagePoint:l})}),(0,et.l)((function(){return c.current&&c.current.end()}))})),drag:ut((function(e){var t=e.dragControls,n=e.visualElement,r=(0,C.M)((function(){return new An(n)}));(0,i.useEffect)((function(){return t&&t.subscribe(r)}),[r,t]),(0,i.useEffect)((function(){return r.addListeners()}),[r])}))},Rn=n(85512),Nn=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"],Ln=function(e){var t=e.treeType,n=void 0===t?"":t,i=e.build,o=e.getBaseTarget,s=e.makeTargetAnimatable,a=e.measureViewportBox,c=e.render,l=e.readValueFromInstance,u=e.removeValueFromRenderState,d=e.sortNodePosition,h=e.scrapeMotionValuesFromProps;return function(e,t){var p=e.parent,f=e.props,m=e.presenceId,g=e.blockInitialAnimation,y=e.visualState,v=e.shouldReduceMotion;void 0===t&&(t={});var b,x,O=!1,S=y.latestValues,k=y.renderState,E=function(){var e=Nn.map((function(){return new Rn.v})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){Nn.forEach((function(r){var i,o="on"+r,s=e[o];null===(i=t[r])||void 0===i||i.call(t),s&&(t[r]=n[o](s))}))}};return e.forEach((function(e,t){n["on"+Nn[t]]=function(t){return e.add(t)},n["notify"+Nn[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,(0,r.fX)([],(0,r.zs)(t),!1))}})),n}(),C=new Map,T=new Map,j={},I=(0,r.Cl)({},S);function M(){b&&O&&(A(),c(b,k,f.style,F.projection))}function A(){i(F,k,S,t,f)}function D(){E.notifyUpdate(S)}function $(e,t){var n=t.onChange((function(t){S[e]=t,f.onUpdate&&Lt.Ay.update(D,!1,!0)})),r=t.onRenderRequest(F.scheduleRender);T.set(e,(function(){n(),r()}))}var R=h(f);for(var N in R){var L=R[N];void 0!==S[N]&&(0,q.S)(L)&&L.set(S[N],!1)}var Q=_(f),z=P(f),F=(0,r.Cl)((0,r.Cl)({treeType:n,current:null,depth:p?p.depth+1:0,parent:p,children:new Set,presenceId:m,shouldReduceMotion:v,variantChildren:z?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==p?void 0:p.isMounted()),blockInitialAnimation:g,isMounted:function(){return Boolean(b)},mount:function(e){O=!0,b=F.current=e,F.projection&&F.projection.mount(e),z&&p&&!Q&&(x=null==p?void 0:p.addVariantChild(F)),C.forEach((function(e,t){return $(t,e)})),null==p||p.children.add(F),F.setProps(f)},unmount:function(){var e;null===(e=F.projection)||void 0===e||e.unmount(),Lt.eO.update(D),Lt.eO.render(M),T.forEach((function(e){return e()})),null==x||x(),null==p||p.children.delete(F),E.clearAllListeners(),b=void 0,O=!1},addVariantChild:function(e){var t,n=F.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return d&&n===e.treeType?d(F.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return z?F:null==p?void 0:p.getClosestVariantNode()},getLayoutId:function(){return f.layoutId},getInstance:function(){return b},getStaticValue:function(e){return S[e]},setStaticValue:function(e,t){return S[e]=t},getLatestValues:function(){return S},setVisibility:function(e){F.isVisible!==e&&(F.isVisible=e,F.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),s(F,e,f,t)},measureViewportBox:function(){return a(b,f)},addValue:function(e,t){F.hasValue(e)&&F.removeValue(e),C.set(e,t),S[e]=t.get(),$(e,t)},removeValue:function(e){var t;C.delete(e),null===(t=T.get(e))||void 0===t||t(),T.delete(e),delete S[e],u(e,k)},hasValue:function(e){return C.has(e)},getValue:function(e,t){var n=C.get(e);return void 0===n&&void 0!==t&&(n=(0,yt.O)(t),F.addValue(e,n)),n},forEachValue:function(e){return C.forEach(e)},readValue:function(e){var n;return null!==(n=S[e])&&void 0!==n?n:l(b,e,t)},setBaseTarget:function(e,t){I[e]=t},getBaseTarget:function(e){if(o){var t=o(f,e);if(void 0!==t&&!(0,q.S)(t))return t}return I[e]}},E),{build:function(){return A(),k},scheduleRender:function(){Lt.Ay.render(M,!1,!0)},syncRender:M,setProps:function(e){(e.transformTemplate||f.transformTemplate)&&F.scheduleRender(),f=e,E.updatePropListeners(e),j=function(e,t,n){var r;for(var i in t){var o=t[i],s=n[i];if((0,q.S)(o))e.addValue(i,o);else if((0,q.S)(s))e.addValue(i,(0,yt.O)(o));else if(s!==o)if(e.hasValue(i)){var a=e.getValue(i);!a.hasAnimated&&a.set(o)}else e.addValue(i,(0,yt.O)(null!==(r=e.getStaticValue(i))&&void 0!==r?r:o))}for(var i in n)void 0===t[i]&&e.removeValue(i);return t}(F,h(f),j)},getProps:function(){return f},getVariant:function(e){var t;return null===(t=f.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return f.transition},getTransformPagePoint:function(){return f.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null==p?void 0:p.getVariantContext();if(!Q){var t=(null==p?void 0:p.getVariantContext())||{};return void 0!==f.initial&&(t.initial=f.initial),t}for(var n={},r=0;r<zn;r++){var i=Qn[r],o=f[i];(w(o)||!1===o)&&(n[i]=o)}return n}});return F}},Qn=(0,r.fX)(["initial"],(0,r.zs)(Mt),!1),zn=Qn.length;function Fn(e){return"string"==typeof e&&e.startsWith("var(--")}var Bn=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Zn(e,t,n){void 0===n&&(n=1),(0,c.V)(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var i=(0,r.zs)(function(e){var t=Bn.exec(e);if(!t)return[,];var n=(0,r.zs)(t,3);return[n[1],n[2]]}(e),2),o=i[0],s=i[1];if(o){var a=window.getComputedStyle(t).getPropertyValue(o);return a?a.trim():Fn(s)?Zn(s,t,n+1):s}}var Vn,Wn=new Set(["width","height","top","left","right","bottom","x","y"]),Un=function(e){return Wn.has(e)},qn=function(e,t){e.set(t,!1),e.set(t)},Yn=function(e){return e===xt.ai||e===se.px};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Vn||(Vn={}));var Xn=function(e,t){return parseFloat(e.split(", ")[t])},Hn=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return Xn(o[1],t);var s=i.match(/^matrix\((.+)\)$/);return s?Xn(s[1],e):0}},Gn=new Set(["x","y","z"]),Kn=z.filter((function(e){return!Gn.has(e)})),Jn={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,o=t.paddingRight,s=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(s)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,o=t.paddingBottom,s=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(s)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:Hn(4,13),y:Hn(5,14)};function er(e,t,n,i){return function(e){return Object.keys(e).some(Un)}(t)?function(e,t,n,i){void 0===n&&(n={}),void 0===i&&(i={}),t=(0,r.Cl)({},t),i=(0,r.Cl)({},i);var o=Object.keys(t).filter(Un),s=[],a=!1,l=[];if(o.forEach((function(r){var o=e.getValue(r);if(e.hasValue(r)){var u,d=n[r],h=St(d),p=t[r];if((0,pt.p)(p)){var f=p.length,m=null===p[0]?1:0;d=p[m],h=St(d);for(var g=m;g<f;g++)u?(0,c.V)(St(p[g])===u,"All keyframes must be of the same type"):(u=St(p[g]),(0,c.V)(u===h||Yn(h)&&Yn(u),"Keyframes must be of the same dimension as the current value"))}else u=St(p);if(h!==u)if(Yn(h)&&Yn(u)){var y=o.get();"string"==typeof y&&o.set(parseFloat(y)),"string"==typeof p?t[r]=parseFloat(p):Array.isArray(p)&&u===se.px&&(t[r]=p.map(parseFloat))}else(null==h?void 0:h.transform)&&(null==u?void 0:u.transform)&&(0===d||0===p)?0===d?o.set(u.transform(d)):t[r]=h.transform(p):(a||(s=function(e){var t=[];return Kn.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),a=!0),l.push(r),i[r]=void 0!==i[r]?i[r]:t[r],qn(o,p))}})),l.length){var u=l.indexOf("height")>=0?window.pageYOffset:null,d=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),o=getComputedStyle(i),s=o.display,a={};"none"===s&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){a[e]=Jn[e](r,o)})),t.syncRender();var c=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);qn(r,a[n]),e[n]=Jn[n](c,o)})),e}(t,e,l);return s.length&&s.forEach((function(t){var n=(0,r.zs)(t,2),i=n[0],o=n[1];e.getValue(i).set(o)})),e.syncRender(),null!==u&&window.scrollTo({top:u}),{target:d,transitionEnd:i}}return{target:t,transitionEnd:i}}(e,t,n,i):{target:t,transitionEnd:i}}var tr=n(49821),nr={treeType:"dom",readValueFromInstance:function(e,t){if(Z(t)){var n=(0,tr.D)(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r));return(X(t)?i.getPropertyValue(t):i[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return In(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,i){var o=n.transformValues;void 0===i&&(i=!0);var s=t.transition,a=t.transitionEnd,c=(0,r.Tt)(t,["transition","transitionEnd"]),l=function(e,t,n){var r,i,o={};for(var s in e)o[s]=null!==(r=Et(s,t))&&void 0!==r?r:null===(i=n.getValue(s))||void 0===i?void 0:i.get();return o}(c,s||{},e);if(o&&(a&&(a=o(a)),c&&(c=o(c)),l&&(l=o(l))),i){!function(e,t,n){var r,i,o,s,a=Object.keys(t).filter((function(t){return!e.hasValue(t)})),c=a.length;if(c)for(var l=0;l<c;l++){var u=a[l],d=t[u],h=null;Array.isArray(d)&&(h=d[0]),null===h&&(h=null!==(i=null!==(r=n[u])&&void 0!==r?r:e.readValue(u))&&void 0!==i?i:t[u]),null!=h&&("string"==typeof h&&(/^\-?\d*\.?\d+$/.test(h)||/^0[^.\s]+$/.test(h))?h=parseFloat(h):!_t(h)&&gt.f.test(d)&&(h=(0,vt.J)(u,d)),e.addValue(u,(0,yt.O)(h)),null!==(o=(s=n)[u])&&void 0!==o||(s[u]=h),e.setBaseTarget(u,h))}}(e,c,l);var u=function(e,t,n,i){var o=function(e,t,n){var i,o=(0,r.Tt)(t,[]),s=e.getInstance();if(!(s instanceof Element))return{target:o,transitionEnd:n};for(var a in n&&(n=(0,r.Cl)({},n)),e.forEachValue((function(e){var t=e.get();if(Fn(t)){var n=Zn(t,s);n&&e.set(n)}})),o){var c=o[a];if(Fn(c)){var l=Zn(c,s);l&&(o[a]=l,n&&(null!==(i=n[a])&&void 0!==i||(n[a]=c)))}}return{target:o,transitionEnd:n}}(e,t,i);return er(e,t=o.target,n,i=o.transitionEnd)}(e,c,l,a);a=u.transitionEnd,c=u.target}return(0,r.Cl)({transition:s,transitionEnd:a},c)},scrapeMotionValuesFromProps:be,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),K(t,n,r,i.transformTemplate)},render:ge},rr=Ln(nr),ir=Ln((0,r.Cl)((0,r.Cl)({},nr),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return Z(t)?(null===(n=(0,tr.D)(t))||void 0===n?void 0:n.default)||0:(t=ye.has(t)?t:me(t),e.getAttribute(t))},scrapeMotionValuesFromProps:xe,build:function(e,t,n,r,i){ue(t,n,r,i.transformTemplate)},render:ve})),or=function(e,t){return N(e)?ir(t,{enableHardwareAcceleration:!1}):rr(t,{enableHardwareAcceleration:!0})};function sr(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var ar={correct:function(e,t){if(!t.target)return e;if("string"==typeof e){if(!se.px.test(e))return e;e=parseFloat(e)}var n=sr(e,t.target.x),r=sr(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},cr="_$css",lr={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,o=e.includes("var("),s=[];o&&(e=e.replace(Bn,(function(e){return s.push(e),cr})));var a=gt.f.parse(e);if(a.length>5)return i;var c=gt.f.createTransformer(e),l="number"!=typeof a[0]?1:0,u=r.x.scale*n.x,d=r.y.scale*n.y;a[0+l]/=u,a[1+l]/=d;var h=(0,Kt.j)(u,d,.5);"number"==typeof a[2+l]&&(a[2+l]/=h),"number"==typeof a[3+l]&&(a[3+l]/=h);var p=c(a);if(o){var f=0;p=p.replace(cr,(function(){var e=s[f];return f++,e}))}return p}},ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),t.prototype.componentDidMount=function(){var e,t=this,n=this.props,i=n.visualElement,o=n.layoutGroup,s=n.switchLayoutGroup,a=n.layoutId,c=i.projection;e=dr,Object.assign(L,e),c&&((null==o?void 0:o.group)&&o.group.add(c),(null==s?void 0:s.register)&&a&&s.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",(function(){t.safeToRemove()})),c.setOptions((0,r.Cl)((0,r.Cl)({},c.options),{onExitComplete:function(){return t.safeToRemove()}}))),T.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,o=n.drag,s=n.isPresent,a=i.projection;return a?(a.isPresent=s,o||e.layoutDependency!==r||void 0===r?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Lt.Ay.postRender((function(){var e;(null===(e=a.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null==n?void 0:n.group)&&n.group.remove(i),(null==r?void 0:r.deregister)&&r.deregister(i))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null==e||e()},t.prototype.render=function(){return null},t}(i.Component),dr={borderRadius:(0,r.Cl)((0,r.Cl)({},ar),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:ar,borderTopRightRadius:ar,borderBottomLeftRadius:ar,borderBottomRightRadius:ar,boxShadow:lr},hr={measureLayout:function(e){var t=(0,r.zs)((0,ht.xQ)(),2),n=t[0],o=t[1],s=(0,i.useContext)(I.L);return i.createElement(ur,(0,r.Cl)({},e,{layoutGroup:s,switchLayoutGroup:(0,i.useContext)(M),isPresent:n,safeToRemove:o}))}},pr=n(98859),fr=n(86091),mr=["TopLeft","TopRight","BottomLeft","BottomRight"],gr=mr.length,yr=function(e){return"string"==typeof e?parseFloat(e):e},vr=function(e){return"number"==typeof e||se.px.test(e)};function br(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var xr=wr(0,.5,fr.yT),Or=wr(.5,.95,fr.sn);function wr(e,t,n){return function(r){return r<e?0:r>t?1:n((0,Jt.q)(e,t,r))}}function Sr(e,t){e.min=t.min,e.max=t.max}function kr(e,t){Sr(e.x,t.x),Sr(e.y,t.y)}function _r(e,t,n,r,i){return e=wn(e-=t,1/n,r),void 0!==i&&(e=wn(e,1/i,r)),e}function Pr(e,t,n,i,o){var s=(0,r.zs)(n,3),a=s[0],c=s[1],l=s[2];!function(e,t,n,r,i,o,s){if(void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===o&&(o=e),void 0===s&&(s=e),se.KN.test(t)&&(t=parseFloat(t),t=(0,Kt.j)(s.min,s.max,t/100)-s.min),"number"==typeof t){var a=(0,Kt.j)(o.min,o.max,r);e===o&&(a-=t),e.min=_r(e.min,t,n,a,i),e.max=_r(e.max,t,n,a,i)}}(e,t[a],t[c],t[l],t.scale,i,o)}var Er=["x","scaleX","originX"],Cr=["y","scaleY","originY"];function Tr(e,t,n,r){Pr(e.x,t,Er,null==n?void 0:n.x,null==r?void 0:r.x),Pr(e.y,t,Cr,null==n?void 0:n.y,null==r?void 0:r.y)}function jr(e){return 0===e.translate&&1===e.scale}function Ir(e){return jr(e.x)&&jr(e.y)}function Mr(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var Ar=n(96828),Dr=function(){function e(){this.members=[]}return e.prototype.add=function(e){(0,Ar.Kq)(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if((0,Ar.Ai)(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach((function(e){var t,n,r,i,o;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(o=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===o||o.call(i)}))},e.prototype.scheduleRender=function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),$r="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function Rr(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,o="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(o+="scale(".concat(1/t.x,", ").concat(1/t.y,") "),n){var s=n.rotate,a=n.rotateX,c=n.rotateY;s&&(o+="rotate(".concat(s,"deg) ")),a&&(o+="rotateX(".concat(a,"deg) ")),c&&(o+="rotateY(".concat(c,"deg) "))}var l=e.x.scale*t.x,u=e.y.scale*t.y;return(o+="scale(".concat(l,", ").concat(u,")"))===$r?"none":o}var Nr=function(e,t){return e.depth-t.depth},Lr=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){(0,Ar.Kq)(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){(0,Ar.Ai)(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(Nr),this.isDirty=!1,this.children.forEach(e)},e}();function Qr(e){var t=e.attachResizeListener,n=e.defaultParent,i=e.measureScroll,o=e.checkIsScrollRoot,s=e.resetTransform;return function(){function e(e,t,i){var o=this;void 0===t&&(t={}),void 0===i&&(i=null==n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){o.isUpdating&&(o.isUpdating=!1,o.clearAllSnapshots())},this.updateProjection=function(){o.nodes.forEach(Ur),o.nodes.forEach(qr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=i?i.root||i:this,this.path=i?(0,r.fX)((0,r.fX)([],(0,r.zs)(i.path),!1),[i],!1):[],this.parent=i,this.depth=i?i.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lr)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Rn.v),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.eventHandlers.get(e);null==i||i.notify.apply(i,(0,r.fX)([],(0,r.zs)(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,n){var i,o=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var s=this.options,a=s.layoutId,c=s.layout,l=s.visualElement;if(l&&!l.getInstance()&&l.mount(e),this.root.nodes.add(this),null===(i=this.parent)||void 0===i||i.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(c||a)&&(this.isLayoutDirty=!0),t){var u,d=function(){return o.root.updateBlockedByResize=!1};t(e,(function(){o.root.updateBlockedByResize=!0,clearTimeout(u),u=window.setTimeout(d,250),T.hasAnimatedSinceResize&&(T.hasAnimatedSinceResize=!1,o.nodes.forEach(Wr))}))}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&l&&(a||c)&&this.addEventListener("didUpdate",(function(e){var t,n,i,s,a,c=e.delta,u=e.hasLayoutChanged,d=e.hasRelativeTargetChanged,h=e.layout;if(o.isTreeAnimationBlocked())return o.target=void 0,void(o.relativeTarget=void 0);var p=null!==(n=null!==(t=o.options.transition)&&void 0!==t?t:l.getDefaultTransition())&&void 0!==n?n:Jr,f=l.getProps(),m=f.onLayoutAnimationStart,g=f.onLayoutAnimationComplete,y=!o.targetLayout||!Mr(o.targetLayout,h)||d,v=!u&&d;if((null===(i=o.resumeFrom)||void 0===i?void 0:i.instance)||v||u&&(y||!o.currentAnimation)){o.resumeFrom&&(o.resumingFrom=o.resumeFrom,o.resumingFrom.resumingFrom=void 0),o.setAnimationOrigin(c,v);var b=(0,r.Cl)((0,r.Cl)({},(0,mt.rU)(p,"layout")),{onPlay:m,onComplete:g});l.shouldReduceMotion&&(b.delay=0,b.type=!1),o.startAnimation(b)}else u||0!==o.animationProgress||o.finishAnimation(),o.isLead()&&(null===(a=(s=o.options).onExitComplete)||void 0===a||a.call(s));o.targetLayout=h}))}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,Lt.eO.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(Yr))},e.prototype.willUpdate=function(e){var t,n,r;if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var o=this.path[i];o.shouldResetTransform=!0,o.updateScroll()}var s=this.options,a=s.layoutId,c=s.layout;if(void 0!==a||c){var l=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null==l?void 0:l(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Zr);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(ei),this.potentialNodes.clear()),this.nodes.forEach(Vr),this.nodes.forEach(zr),this.nodes.forEach(Fr),this.clearAllSnapshots(),Lt.qX.update(),Lt.qX.preRender(),Lt.qX.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(Br),this.sharedNodes.forEach(Xr)},e.prototype.scheduleUpdateProjection=function(){Lt.Ay.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;Lt.Ay.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));ni(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++)this.path[t].updateScroll();var n=this.measure();ni(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected=mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null==r?void 0:r.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=o(this.instance),this.scroll=i(this.instance))},e.prototype.resetTransform=function(){var e;if(s){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!Ir(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,i=null==r?void 0:r(this.latestValues,""),o=i!==this.prevTransformTemplateValue;t&&(n||xn(this.latestValues)||o)&&(s(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return mn();var t=e.measureViewportBox(),n=this.root.scroll;return n&&(Pn(t.x,n.x),Pn(t.y,n.y)),t},e.prototype.removeElementScroll=function(e){var t=mn();kr(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,o=r.options,s=r.isScrollRoot;if(r!==this.root&&i&&o.layoutScroll){if(s){kr(t,e);var a=this.root.scroll;a&&(Pn(t.x,-a.x),Pn(t.y,-a.y))}Pn(t.x,i.x),Pn(t.y,i.y)}}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n=mn();kr(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jn(n,{x:-i.scroll.x,y:-i.scroll.y}),xn(i.latestValues)&&jn(n,i.latestValues)}return xn(this.latestValues)&&jn(n,this.latestValues),n},e.prototype.removeTransform=function(e){var t,n=mn();kr(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&xn(i.latestValues)){bn(i.latestValues)&&i.updateSnapshot();var o=mn();kr(o,i.measure()),Tr(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,o)}}return xn(this.latestValues)&&Tr(n,this.latestValues),n},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=(0,r.Cl)((0,r.Cl)((0,r.Cl)({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t=this.options,n=t.layout,r=t.layoutId;this.layout&&(n||r)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=mn(),this.relativeTargetOrigin=mn(),cn(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),kr(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target=mn(),this.targetWithTransforms=mn()),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?function(e,t,n){sn(e.x,t.x,n.x),sn(e.y,t.y,n.y)}(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):kr(this.target,this.layout.actual),_n(this.target,this.targetDelta)):kr(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=mn(),this.relativeTargetOrigin=mn(),cn(this.relativeTargetOrigin,this.target,this.relativeParent.target),kr(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(this.parent&&!xn(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();kr(this.layoutCorrected,this.layout.actual),function(e,t,n,r){var i,o;void 0===r&&(r=!1);var s=n.length;if(s){var a,c;t.x=t.y=1;for(var l=0;l<s;l++)c=(a=n[l]).projectionDelta,"contents"!==(null===(o=null===(i=a.instance)||void 0===i?void 0:i.style)||void 0===o?void 0:o.display)&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&jn(e,{x:-a.scroll.x,y:-a.scroll.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,_n(e,c)),r&&xn(a.latestValues)&&jn(e,a.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var o=i.target;if(o){this.projectionDelta||(this.projectionDelta=fn(),this.projectionDeltaWithTransform=fn());var s=this.treeScale.x,a=this.treeScale.y,c=this.projectionTransform;on(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.projectionTransform=Rr(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===s&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var n,i=this;void 0===t&&(t=!1);var o=this.snapshot,s=(null==o?void 0:o.latestValues)||{},a=(0,r.Cl)({},this.latestValues),c=fn();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var l=mn(),u=null==o?void 0:o.isShared,d=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,h=Boolean(u&&!d&&!0===this.options.crossfade&&!this.path.some(Kr));this.animationProgress=0,this.mixTargetDelta=function(t){var n,r,o,p,f,m=t/1e3;Hr(c.x,e.x,m),Hr(c.y,e.y,m),i.setTargetDelta(c),i.relativeTarget&&i.relativeTargetOrigin&&i.layout&&(null===(n=i.relativeParent)||void 0===n?void 0:n.layout)&&(cn(l,i.layout.actual,i.relativeParent.layout.actual),r=i.relativeTarget,o=i.relativeTargetOrigin,p=l,f=m,Gr(r.x,o.x,p.x,f),Gr(r.y,o.y,p.y,f)),u&&(i.animationValues=a,function(e,t,n,r,i,o){var s,a,c,l;i?(e.opacity=(0,Kt.j)(0,null!==(s=n.opacity)&&void 0!==s?s:1,xr(r)),e.opacityExit=(0,Kt.j)(null!==(a=t.opacity)&&void 0!==a?a:1,0,Or(r))):o&&(e.opacity=(0,Kt.j)(null!==(c=t.opacity)&&void 0!==c?c:1,null!==(l=n.opacity)&&void 0!==l?l:1,r));for(var u=0;u<gr;u++){var d="border".concat(mr[u],"Radius"),h=br(t,d),p=br(n,d);void 0===h&&void 0===p||(h||(h=0),p||(p=0),0===h||0===p||vr(h)===vr(p)?(e[d]=Math.max((0,Kt.j)(yr(h),yr(p),r),0),(se.KN.test(p)||se.KN.test(h))&&(e[d]+="%")):e[d]=p)}(t.rotate||n.rotate)&&(e.rotate=(0,Kt.j)(t.rotate||0,n.rotate||0,r))}(a,s,i.latestValues,m,h,d)),i.root.scheduleUpdateProjection(),i.scheduleRender(),i.animationProgress=m},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,n,i=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(Lt.eO.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lt.Ay.update((function(){T.hasAnimatedSinceResize=!0,i.currentAnimation=(0,pr.i)(0,1e3,(0,r.Cl)((0,r.Cl)({},e),{onUpdate:function(t){var n;i.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),i.completeAnimation()}})),i.resumingFrom&&(i.resumingFrom.currentAnimation=i.currentAnimation),i.pendingAnimation=void 0}))},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;t&&n&&r&&(kr(t,n),jn(t,i),on(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))},e.prototype.registerSharedNode=function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new Dr),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,i=t.preserveFollowOpacity,o=this.getStack();o&&o.promote(this,i),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<Q.length;r++){var i="rotate"+Q[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null==e||e.syncRender(),n)e.setStaticValue(i,n[i]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){var t,n,r,i,o,s;void 0===e&&(e={});var a={};if(!this.instance||this.isSVG)return a;if(!this.isVisible)return{visibility:"hidden"};a.visibility="";var c=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Se(e.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none",a;var l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){var u={};return this.options.layoutId&&(u.opacity=null!==(n=this.latestValues.opacity)&&void 0!==n?n:1,u.pointerEvents=Se(e.pointerEvents)||""),this.hasProjected&&!xn(this.latestValues)&&(u.transform=c?c({},""):"none",this.hasProjected=!1),u}var d=l.animationValues||l.latestValues;this.applyTransformsToTarget(),a.transform=Rr(this.projectionDeltaWithTransform,this.treeScale,d),c&&(a.transform=c(d,a.transform));var h=this.projectionDelta,p=h.x,f=h.y;for(var m in a.transformOrigin="".concat(100*p.origin,"% ").concat(100*f.origin,"% 0"),l.animationValues?a.opacity=l===this?null!==(i=null!==(r=d.opacity)&&void 0!==r?r:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=l===this?null!==(o=d.opacity)&&void 0!==o?o:"":null!==(s=d.opacityExit)&&void 0!==s?s:0,L)if(void 0!==d[m]){var g=L[m],y=g.correct,v=g.applyTo,b=y(d[m],l);if(v)for(var x=v.length,O=0;O<x;O++)a[v[O]]=b;else a[m]=b}return this.options.layoutId&&(a.pointerEvents=l===this?Se(e.pointerEvents)||"":"none"),a},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Zr),this.root.sharedNodes.clear()},e}()}function zr(e){e.updateLayout()}function Fr(e){var t,n,r,i,o=null!==(n=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==n?n:e.snapshot;if(e.isLead()&&e.layout&&o&&e.hasListeners("didUpdate")){var s=e.layout,a=s.actual,c=s.measured;"size"===e.options.animationType?gn((function(e){var t=o.isShared?o.measured[e]:o.layout[e],n=tn(t);t.min=a[e].min,t.max=t.min+n})):"position"===e.options.animationType&&gn((function(e){var t=o.isShared?o.measured[e]:o.layout[e],n=tn(a[e]);t.max=t.min+n}));var l=fn();on(l,a,o.layout);var u=fn();o.isShared?on(u,e.applyTransform(c,!0),o.measured):on(u,a,o.layout);var d=!Ir(l),h=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var p=e.relativeParent,f=p.snapshot,m=p.layout;if(f&&m){var g=mn();cn(g,o.layout,f.layout);var y=mn();cn(y,a,m.actual),Mr(g,y)||(h=!0)}}e.notifyListeners("didUpdate",{layout:a,snapshot:o,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else e.isLead()&&(null===(i=(r=e.options).onExitComplete)||void 0===i||i.call(r));e.options.transition=void 0}function Br(e){e.clearSnapshot()}function Zr(e){e.clearMeasurements()}function Vr(e){var t=e.options.visualElement;(null==t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function Wr(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function Ur(e){e.resolveTargetDelta()}function qr(e){e.calcProjection()}function Yr(e){e.resetRotation()}function Xr(e){e.removeLeadSnapshot()}function Hr(e,t,n){e.translate=(0,Kt.j)(t.translate,0,n),e.scale=(0,Kt.j)(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Gr(e,t,n,r){e.min=(0,Kt.j)(t.min,n.min,r),e.max=(0,Kt.j)(t.max,n.max,r)}function Kr(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var Jr={duration:.45,ease:[.4,0,.1,1]};function ei(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function ti(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function ni(e){ti(e.x),ti(e.y)}var ri=Qr({attachResizeListener:function(e,t){return je(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),ii={current:void 0},oi=Qr({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!ii.current){var e=new ri(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),ii.current=e}return ii.current},resetTransform:function(e,t){e.style.transform=null!=t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),si=(0,r.Cl)((0,r.Cl)((0,r.Cl)((0,r.Cl)({},Nt),dt),$n),hr),ai=$((function(e,t){return function(e,t,n,i,o){var s=t.forwardMotionProps,a=void 0!==s&&s,c=N(e)?Ce:Te;return(0,r.Cl)((0,r.Cl)({},c),{preloadedFeatures:n,useRender:pe(a),createVisualElement:i,projectionNodeConstructor:o,Component:e})}(e,t,si,or,oi)}))},61034:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(41026),i=n(88652),o=n(49821);function s(e,t){var n,s=(0,o.D)(e);return s!==r.p&&(s=i.f),null===(n=s.getAnimatableNone)||void 0===n?void 0:n.call(s,t)}},49821:(e,t,n)=>{"use strict";n.d(t,{D:()=>c});var r=n(59661),i=n(45297),o=n(41026),s=n(32410),a=(0,r.Cl)((0,r.Cl)({},s.W),{color:i.y,backgroundColor:i.y,outlineColor:i.y,fill:i.y,stroke:i.y,borderColor:i.y,borderTopColor:i.y,borderRightColor:i.y,borderBottomColor:i.y,borderLeftColor:i.y,filter:o.p,WebkitFilter:o.p}),c=function(e){return a[e]}},32410:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var r=n(95639),i=n(88886),o=n(59661),s=(0,o.Cl)((0,o.Cl)({},i.ai),{transform:Math.round}),a={borderWidth:r.px,borderTopWidth:r.px,borderRightWidth:r.px,borderBottomWidth:r.px,borderLeftWidth:r.px,borderRadius:r.px,radius:r.px,borderTopLeftRadius:r.px,borderTopRightRadius:r.px,borderBottomRightRadius:r.px,borderBottomLeftRadius:r.px,width:r.px,maxWidth:r.px,height:r.px,maxHeight:r.px,size:r.px,top:r.px,right:r.px,bottom:r.px,left:r.px,padding:r.px,paddingTop:r.px,paddingRight:r.px,paddingBottom:r.px,paddingLeft:r.px,margin:r.px,marginTop:r.px,marginRight:r.px,marginBottom:r.px,marginLeft:r.px,rotate:r.uj,rotateX:r.uj,rotateY:r.uj,rotateZ:r.uj,scale:i.hs,scaleX:i.hs,scaleY:i.hs,scaleZ:i.hs,skew:r.uj,skewX:r.uj,skewY:r.uj,distance:r.px,translateX:r.px,translateY:r.px,translateZ:r.px,x:r.px,y:r.px,z:r.px,perspective:r.px,transformPerspective:r.px,opacity:i.X4,originX:r.gQ,originY:r.gQ,originZ:r.px,zIndex:s,fillOpacity:i.X4,strokeOpacity:i.X4,numOctaves:s}},96828:(e,t,n)=>{"use strict";function r(e,t){-1===e.indexOf(t)&&e.push(t)}function i(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}n.d(t,{Ai:()=>i,Kq:()=>r})},35710:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var r="undefined"!=typeof document},72680:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var r=("undefined"==typeof process||process.env,"production")},51703:(e,t,n)=>{"use strict";n.d(t,{B:()=>i,K:()=>o});var r=n(50586),i=function(e){return Boolean(e&&"object"==typeof e&&e.mix&&e.toValue)},o=function(e){return(0,r.p)(e)?e[e.length-1]||0:e}},85512:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=n(96828),i=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return(0,r.Kq)(this.subscriptions,e),function(){return(0,r.Ai)(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var o=this.subscriptions[i];o&&o(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}()},90191:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var r=function(e){return 1e3*e}},60971:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(66438);function i(e){var t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},81804:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var r=n(60971),i=0,o=function(){return i++},s=function(){return(0,r.M)(o)}},68525:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var r=n(59661),i=n(66438),o=n(8501);const s={any:0,all:1};function a(e,t){var n=void 0===t?{}:t,a=n.root,c=n.margin,l=n.amount,u=n.once,d=void 0!==u&&u,h=(0,r.zs)((0,i.useState)(!1),2),p=h[0],f=h[1];return(0,i.useEffect)((function(){var t;if(!(!e.current||d&&p)){var n={root:null!==(t=null==a?void 0:a.current)&&void 0!==t?t:void 0,margin:c,amount:"some"===l?"any":l};return function(e,t,{root:n,margin:r,amount:i="any"}={}){if("undefined"==typeof IntersectionObserver)return()=>{};const a=(0,o.K)(e),c=new WeakMap,l=new IntersectionObserver((e=>{e.forEach((e=>{const n=c.get(e.target);if(e.isIntersecting!==Boolean(n))if(e.isIntersecting){const n=t(e);"function"==typeof n?c.set(e.target,n):l.unobserve(e.target)}else n&&(n(e),c.delete(e.target))}))}),{root:n,rootMargin:r,threshold:"number"==typeof i?i:s[i]});return a.forEach((e=>l.observe(e))),()=>l.disconnect()}(e.current,(function(){return f(!0),d?void 0:function(){return f(!1)}}),n)}}),[a,e,c,d]),p}},28138:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(66438),i=n(35710).B?r.useLayoutEffect:r.useEffect},53713:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var r=n(66438);function i(e){return(0,r.useEffect)((function(){return function(){return e()}}),[])}},5219:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var r=n(7008),i=n(62031),o=n(85512),s=function(){function e(e){var t,n=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new o.v,this.velocityUpdateSubscribers=new o.v,this.renderSubscribers=new o.v,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),n.prev=n.current,n.current=e;var i=(0,r.KK)(),o=i.delta,s=i.timestamp;n.lastUpdated!==s&&(n.timeDelta=o,n.lastUpdated=s,r.Ay.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),t&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return r.Ay.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?(0,i.f)(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function a(e){return new s(e)}},41325:(e,t,n)=>{"use strict";n.d(t,{d:()=>c});var r=n(59661),i=n(66438),o=n(5219),s=n(97984),a=n(60971);function c(e){var t=(0,a.M)((function(){return(0,o.O)(e)}));if((0,i.useContext)(s.Q).isStatic){var n=(0,r.zs)((0,i.useState)(e),2)[1];(0,i.useEffect)((function(){return t.onChange(n)}),[])}return t}},50776:(e,t,n)=>{"use strict";n.d(t,{L:()=>B});var r=n(59661),i=n(58932),o=n(8501);const s=new WeakMap;let a;function c({target:e,contentRect:t,borderBoxSize:n}){var r;null===(r=s.get(e))||void 0===r||r.forEach((r=>{r({target:e,contentSize:t,get size(){return function(e,t){if(t){const{inlineSize:e,blockSize:n}=t[0];return{width:e,height:n}}return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}(e,n)}})}))}function l(e){e.forEach(c)}const u=new Set;let d;const h=(e,t,n)=>t-e==0?1:(n-e)/(t-e),p=50,f=()=>({time:0,x:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0},y:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}}),m={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function g(e,t,n,r){const i=n[t],{length:o,position:s}=m[t],a=i.current,c=n.time;i.current=e["scroll"+s],i.scrollLength=e["scroll"+o]-e["client"+o],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=h(0,i.scrollLength,i.current);const l=r-c;var u,d;i.velocity=l>p?0:(u=i.current-a,(d=l)?u*(1e3/d):0)}const y=e=>e,v=(e,t,n)=>-n*e+n*t+e;function b(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=h(0,t,r);e.push(v(n,1,i))}}function x(e){const t=[0];return b(t,e-1),t}const O=e=>"number"==typeof e,w=e=>Array.isArray(e)&&!O(e[0]),S=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},k=(e,t,n)=>Math.min(Math.max(n,e),t);const _={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},P=e=>"string"==typeof e,E={start:0,center:.5,end:1};function C(e,t,n=0){let r=0;if(void 0!==E[e]&&(e=E[e]),P(e)){const t=parseFloat(e);e.endsWith("px")?r=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?r=t/100*document.documentElement.clientWidth:e.endsWith("vh")?r=t/100*document.documentElement.clientHeight:e=t}return O(e)&&(r=t*e),n+r}const T=[0,0];function j(e,t,n,r){let i=Array.isArray(e)?e:T,o=0,s=0;return O(e)?i=[e,e]:P(e)&&(i=(e=e.trim()).includes(" ")?e.split(" "):[e,E[e]?e:"0"]),o=C(i[0],n,r),s=C(i[1],t),o-s}const I={x:0,y:0};function M(e,t,n){let{offset:r=_.All}=n;const{target:i=e,axis:o="y"}=n,s="y"===o?"height":"width",a=i!==e?function(e,t){let n={x:0,y:0},r=e;for(;r&&r!==t;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r instanceof SVGGraphicsElement&&"getBBox"in r){const{top:e,left:t}=r.getBBox();for(n.x+=t,n.y+=e;r&&"svg"!==r.tagName;)r=r.parentNode}return n}(i,e):I,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:{width:i.clientWidth,height:i.clientHeight},l={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let u=!t[o].interpolate;const d=r.length;for(let e=0;e<d;e++){const n=j(r[e],l[s],c[s],a[o]);u||n===t[o].interpolatorOffsets[e]||(u=!0),t[o].offset[e]=n}u&&(t[o].interpolate=function(e,t=x(e.length),n=y){const r=e.length,i=r-t.length;return i>0&&b(t,i),i=>{let o=0;for(;o<r-2&&!(i<t[o+1]);o++);let s=k(0,1,h(t[o],t[o+1],i));const a=function(e,t){return w(e)?e[S(0,e.length,t)]:e}(n,o);return s=a(s),v(e[o],e[o+1],s)}}(x(d),t[o].offset),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=t[o].interpolate(t[o].current)}const A=new WeakMap,D=new WeakMap,$=new WeakMap,R=e=>e===document.documentElement?window:e;function N(e,t={}){var{container:n=document.documentElement}=t,r=(0,i.Tt)(t,["container"]);let c=$.get(n);c||(c=new Set,$.set(n,c));const h=f(),p=function(e,t,n,r={}){const i=r.axis||"y";return{measure:()=>function(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!=e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}(e,r.target,n),update:t=>{!function(e,t,n){g(e,"x",t,n),g(e,"y",t,n),t.time=n}(e,n,t),(r.offset||r.target)&&M(e,n,r)},notify:"function"==typeof t?()=>t(n):(o=t,s=n[i],o.pause(),o.forEachNative(((e,{easing:t})=>{var n,r;if(e.updateDuration)t||(e.easing=y),e.updateDuration(1);else{const i={duration:1e3};t||(i.easing="linear"),null===(r=null===(n=e.effect)||void 0===n?void 0:n.updateTiming)||void 0===r||r.call(n,i)}})),()=>{o.currentTime=s.progress})};var o,s}(n,e,h,r);if(c.add(p),!A.has(n)){const e=()=>{const e=performance.now();for(const e of c)e.measure();for(const t of c)t.update(e);for(const e of c)e.notify()};A.set(n,e);const t=R(n);window.addEventListener("resize",e,{passive:!0}),n!==document.documentElement&&D.set(n,(b=e,"function"==typeof(v=n)?(m=v,u.add(m),d||(d=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};u.forEach((e=>e(t)))},window.addEventListener("resize",d)),()=>{u.delete(m),!u.size&&d&&(d=void 0)}):function(e,t){a||"undefined"!=typeof ResizeObserver&&(a=new ResizeObserver(l));const n=(0,o.K)(e);return n.forEach((e=>{let n=s.get(e);n||(n=new Set,s.set(e,n)),n.add(t),null==a||a.observe(e)})),()=>{n.forEach((e=>{const n=s.get(e);null==n||n.delete(t),(null==n?void 0:n.size)||null==a||a.unobserve(e)}))}}(v,b))),t.addEventListener("scroll",e,{passive:!0})}var m,v,b;const x=A.get(n),O=requestAnimationFrame(x);return()=>{var t;"function"!=typeof e&&e.stop(),cancelAnimationFrame(O);const r=$.get(n);if(!r)return;if(r.delete(p),r.size)return;const i=A.get(n);A.delete(n),i&&(R(n).removeEventListener("scroll",i),null===(t=D.get(n))||void 0===t||t(),window.removeEventListener("resize",i))}}var L=n(5219),Q=n(60971),z=n(28138),F=function(){return{scrollX:(0,L.O)(0),scrollY:(0,L.O)(0),scrollXProgress:(0,L.O)(0),scrollYProgress:(0,L.O)(0)}};function B(e){void 0===e&&(e={});var t=e.container,n=e.target,i=(0,r.Tt)(e,["container","target"]),o=(0,Q.M)(F);return(0,z.E)((function(){return N((function(e){var t=e.x,n=e.y;o.scrollX.set(t.current),o.scrollXProgress.set(t.progress),o.scrollY.set(n.current),o.scrollYProgress.set(n.progress)}),(0,r.Cl)((0,r.Cl)({},i),{container:(null==t?void 0:t.current)||void 0,target:(null==n?void 0:n.current)||void 0}))}),[]),o}},14313:(e,t,n)=>{"use strict";n.d(t,{G:()=>u});var r=n(59661),i=n(4648),o=function(e){return function(e){return"object"==typeof e&&e.mix}(e)?e.mix:void 0},s=n(41325),a=n(28138),c=n(7008);var l=n(60971);function u(e,t,n,s){var a="function"==typeof t?t:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!Array.isArray(e[0]),s=n?0:-1,a=e[0+s],c=e[1+s],l=e[2+s],u=e[3+s],d=(0,i.G)(c,l,(0,r.Cl)({mixer:o(l[0])},u));return n?d(a):d}(t,n,s);return Array.isArray(e)?d(e,a):d([e],(function(e){var t=(0,r.zs)(e,1)[0];return a(t)}))}function d(e,t){var n=(0,l.M)((function(){return[]}));return function(e,t){var n=(0,s.d)(t()),r=function(){return n.set(t())};return r(),function(e,t){(0,a.E)((function(){var n=e.map((function(e){return e.onChange(t)}));return function(){return n.forEach((function(e){return e()}))}}))}(e,(function(){return c.Ay.update(r,!1,!0)})),n}(e,(function(){n.length=0;for(var r=e.length,i=0;i<r;i++)n[i]=e[i].get();return t(n)}))}},43106:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var r=function(e){return Boolean(null!==e&&"object"==typeof e&&e.getVelocity)}},7008:(e,t,n)=>{"use strict";n.d(t,{eO:()=>p,Ay:()=>b,qX:()=>f,KK:()=>v});const r=1/60*1e3,i="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),o="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout((()=>e(i())),r);let s=!0,a=!1,c=!1;const l={delta:0,timestamp:0},u=["read","update","preRender","render","postRender"],d=u.reduce(((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(e,o=!1,a=!1)=>{const c=a&&i,l=c?t:n;return o&&s.add(e),-1===l.indexOf(e)&&(l.push(e),c&&i&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),s.delete(e)},process:c=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(c),s.has(r)&&(a.schedule(r),e())}i=!1,o&&(o=!1,a.process(c))}}};return a}((()=>a=!0)),e)),{}),h=u.reduce(((e,t)=>{const n=d[t];return e[t]=(e,t=!1,r=!1)=>(a||y(),n.schedule(e,t,r)),e}),{}),p=u.reduce(((e,t)=>(e[t]=d[t].cancel,e)),{}),f=u.reduce(((e,t)=>(e[t]=()=>d[t].process(l),e)),{}),m=e=>d[e].process(l),g=e=>{a=!1,l.delta=s?r:Math.max(Math.min(e-l.timestamp,40),1),l.timestamp=e,c=!0,u.forEach(m),c=!1,a&&(s=!1,o(g))},y=()=>{a=!0,s=!0,c||o(g)},v=()=>l,b=h},33839:(e,t,n)=>{"use strict";var r;n.d(t,{b:()=>r}),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(r||(r={}))},16670:(e,t,n)=>{"use strict";function r(e,t){if(!Boolean(e))throw new Error(t)}n.d(t,{sP:()=>h,YR:()=>p});const i=10,o=2;function s(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:s(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>o)return"[Array]";const n=Math.min(i,e.length),r=e.length-n,a=[];for(let r=0;r<n;++r)a.push(s(e[r],t));return 1===r?a.push("... 1 more item"):r>1&&a.push(`... ${r} more items`),"["+a.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>o)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const r=n.map((([e,n])=>e+": "+s(n,t)));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}Symbol.toStringTag,Symbol.toStringTag;const a={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},c=new Set(Object.keys(a));function l(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&c.has(t)}var u;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(u||(u={}));var d=n(33839);const h=Object.freeze({});function p(e,t,n=a){const i=new Map;for(const e of Object.values(d.b))i.set(e,f(t,e));let o,c,u,p=Array.isArray(e),m=[e],g=-1,y=[],v=e;const b=[],x=[];do{g++;const e=g===m.length,a=e&&0!==y.length;if(e){if(c=0===x.length?void 0:b[b.length-1],v=u,u=x.pop(),a)if(p){v=v.slice();let e=0;for(const[t,n]of y){const r=t-e;null===n?(v.splice(r,1),e++):v[r]=n}}else{v=Object.defineProperties({},Object.getOwnPropertyDescriptors(v));for(const[e,t]of y)v[e]=t}g=o.index,m=o.keys,y=o.edits,p=o.inArray,o=o.prev}else if(u){if(c=p?g:m[g],v=u[c],null==v)continue;b.push(c)}let d;if(!Array.isArray(v)){var O,w;l(v)||r(!1,`Invalid AST Node: ${k=v,s(k,[])}.`);const n=e?null===(O=i.get(v.kind))||void 0===O?void 0:O.leave:null===(w=i.get(v.kind))||void 0===w?void 0:w.enter;if(d=null==n?void 0:n.call(t,v,c,u,b,x),d===h)break;if(!1===d){if(!e){b.pop();continue}}else if(void 0!==d&&(y.push([c,d]),!e)){if(!l(d)){b.pop();continue}v=d}}var S;void 0===d&&a&&y.push([c,v]),e?b.pop():(o={inArray:p,index:g,keys:m,edits:y,prev:o},p=Array.isArray(v),m=p?v:null!==(S=n[v.kind])&&void 0!==S?S:[],g=-1,y=[],u&&x.push(u),u=v)}while(void 0!==o);var k;return 0!==y.length?y[y.length-1][1]:e}function f(e,t){const n=e[t];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}},60800:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(84653)},16577:(e,t,n)=>{"use strict";function r(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(s);const a={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},c=e.SHEBANG({binary:`(${["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"].join("|")})`,relevance:10}),l={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[c,e.SHEBANG(),l,a,e.HASH_COMMENT_MODE,o,{match:/(\/[a-z._-]+)+/},s,{match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},n]}}n.d(t,{A:()=>r})},74244:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});const r=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),i=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],o=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],s=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],a=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],c=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function l(e){const t=e.regex,n=r(e),l=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+s.join("|")+")"},{begin:":(:)?("+a.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+c.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...l,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:o.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+i.join("|")+")\\b"}]}}},51455:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r="[0-9](_*[0-9])*",i=`\\.(${r})`,o="[0-9a-fA-F](_*[0-9a-fA-F])*",s={className:"number",variants:[{begin:`(\\b(${r})((${i})|\\.)?|(${i}))[eE][+-]?(${r})[fFdD]?\\b`},{begin:`\\b(${r})((${i})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${i})[fFdD]?\\b`},{begin:`\\b(${r})[fFdD]\\b`},{begin:`\\b0[xX]((${o})\\.?|(${o})?\\.(${o}))[pP][+-]?(${r})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${o})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function a(e,t,n){return-1===n?"":e.replace(t,(r=>a(e,t,n-1)))}function c(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+a("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),i={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},o={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},c={className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:i,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[c,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:i,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[o,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,s,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},s,o]}}},47520:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});const r="[A-Za-z$_][0-9A-Za-z$_]*",i=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],o=["true","false","null","undefined","NaN","Infinity"],s=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],a=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],c=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],l=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],u=[].concat(c,s,a);function d(e){const t=e.regex,n=r,d={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,r=e.input[n];if("<"===r||","===r)return void t.ignoreMatch();let i;">"===r&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const o=e.input.substring(n);((i=o.match(/^\s*=/))||(i=o.match(/^\s+extends\s+/))&&0===i.index)&&t.ignoreMatch()}},h={$pattern:r,keyword:i,literal:o,built_in:u,"variable.language":l},p="[0-9](_?[0-9])*",f=`\\.(${p})`,m="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${m})((${f})|\\.)?|(${f}))[eE][+-]?(${p})\\b`},{begin:`\\b(${m})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},y={className:"subst",begin:"\\$\\{",end:"\\}",keywords:h,contains:[]},v={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,y],subLanguage:"xml"}},b={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,y],subLanguage:"css"}},x={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,y],subLanguage:"graphql"}},O={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,y]},w={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},S=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,b,x,O,{match:/\$\d+/},g];y.contains=S.concat({begin:/\{/,end:/\}/,keywords:h,contains:["self"].concat(S)});const k=[].concat(w,y.contains),_=k.concat([{begin:/\(/,end:/\)/,keywords:h,contains:["self"].concat(k)}]),P={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:h,contains:_},E={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...s,...a]}},T={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[P],illegal:/%/},j={match:t.concat(/\b/,(I=[...c,"super","import"],t.concat("(?!",I.join("|"),")")),n,t.lookahead(/\(/)),className:"title.function",relevance:0};var I;const M={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},A={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},P]},D="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",$={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(D)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[P]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:h,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,b,x,O,w,{match:/\$\d+/},g,C,{className:"attr",begin:n+t.lookahead(":"),relevance:0},$,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[w,e.REGEXP_MODE,{className:"function",begin:D,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:h,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:"<>",end:"</>"},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:d.begin,"on:begin":d.isTrulyOpeningTag,end:d.end}],subLanguage:"xml",contains:[{begin:d.begin,end:d.end,skip:!0,contains:["self"]}]}]},T,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[P,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},M,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[P]},j,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},E,A,{match:/\$[(.]/}]}}},94125:(e,t,n)=>{"use strict";function r(e){const t=["true","false","null"],n={scope:"literal",beginKeywords:t.join(" ")};return{name:"JSON",keywords:{literal:t},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}n.d(t,{A:()=>r})},16778:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});const r=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),i=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],o=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],s=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],a=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],c=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),l=s.concat(a);function u(e){const t=r(e),n=l,u="[\\w-]+",d="("+u+"|@\\{"+u+"\\})",h=[],p=[],f=function(e){return{className:"string",begin:"~?"+e+".*?"+e}},m=function(e,t,n){return{className:e,begin:t,relevance:n}},g={$pattern:/[a-z-]+/,keyword:"and or not only",attribute:o.join(" ")},y={begin:"\\(",end:"\\)",contains:p,keywords:g,relevance:0};p.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,f("'"),f('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,y,m("variable","@@?"+u,10),m("variable","@\\{"+u+"\\}"),m("built_in","~?`[^`]*?`"),{className:"attribute",begin:u+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const v=p.concat({begin:/\{/,end:/\}/,contains:h}),b={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(p)},x={begin:d+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+c.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:p}}]},O={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:g,returnEnd:!0,contains:p,relevance:0}},w={className:"variable",variants:[{begin:"@"+u+"\\s*:",relevance:15},{begin:"@"+u}],starts:{end:"[;}]",returnEnd:!0,contains:v}},S={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:d,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:"[<='$\"]",relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,b,m("keyword","all\\b"),m("variable","@\\{"+u+"\\}"),{begin:"\\b("+i.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,m("selector-tag",d,0),m("selector-id","#"+d),m("selector-class","\\."+d,0),m("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+s.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+a.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:v},{begin:"!important"},t.FUNCTION_DISPATCH]},k={begin:u+":(:)?"+`(${n.join("|")})`,returnBegin:!0,contains:[S]};return h.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,O,w,k,x,S,b,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:h}}},99674:(e,t,n)=>{"use strict";function r(e){const t={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.regex.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z0-9+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},r={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},i={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},o=e.inherit(r,{contains:[]}),s=e.inherit(i,{contains:[]});r.contains.push(s),i.contains.push(o);let a=[t,n];return[r,i,o,s].forEach((e=>{e.contains=e.contains.concat(a)})),a=a.concat(r,i),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:a},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:a}]}]},t,{className:"bullet",begin:"^[ \t]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},r,i,{className:"quote",begin:"^>\\s+",contains:a,end:"$"},{className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},n,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}}n.d(t,{A:()=>r})},44811:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});const r=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),i=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],o=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],s=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],a=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],c=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function l(e){const t=r(e),n=a,l=s,u="@[a-z-]+",d={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+i.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+l.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},d,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+c.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,d,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:u,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:o.join(" ")},contains:[{begin:u,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},d,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}},17965:(e,t,n)=>{"use strict";function r(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}n.d(t,{A:()=>r})},65147:(e,t,n)=>{"use strict";function r(e){const t=e.regex,n=e.COMMENT("--","$"),r=["true","false","unknown"],i=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],o=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],s=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],a=o,c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter((e=>!o.includes(e))),l={begin:t.concat(/\b/,t.either(...a),/\s*\(/),relevance:0,keywords:{built_in:a}};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(e,{exceptions:t,when:n}={}){const r=n;return t=t||[],e.map((e=>e.match(/\|\d+$/)||t.includes(e)?e:r(e)?`${e}|0`:e))}(c,{when:e=>e.length<3}),literal:r,type:i,built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{begin:t.either(...s),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:c.concat(s),literal:r,type:i}},{className:"type",begin:t.either("double precision","large object","with timezone","without timezone")},l,{className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},{className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},{begin:/"/,end:/"/,contains:[{begin:/""/}]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,{className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}}n.d(t,{A:()=>r})},70784:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});const r="[A-Za-z$_][0-9A-Za-z$_]*",i=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],o=["true","false","null","undefined","NaN","Infinity"],s=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],a=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],c=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],l=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],u=[].concat(c,s,a);function d(e){const t=e.regex,n=r,d={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,r=e.input[n];if("<"===r||","===r)return void t.ignoreMatch();let i;">"===r&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const o=e.input.substring(n);((i=o.match(/^\s*=/))||(i=o.match(/^\s+extends\s+/))&&0===i.index)&&t.ignoreMatch()}},h={$pattern:r,keyword:i,literal:o,built_in:u,"variable.language":l},p="[0-9](_?[0-9])*",f=`\\.(${p})`,m="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${m})((${f})|\\.)?|(${f}))[eE][+-]?(${p})\\b`},{begin:`\\b(${m})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},y={className:"subst",begin:"\\$\\{",end:"\\}",keywords:h,contains:[]},v={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,y],subLanguage:"xml"}},b={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,y],subLanguage:"css"}},x={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,y],subLanguage:"graphql"}},O={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,y]},w={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},S=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,b,x,O,{match:/\$\d+/},g];y.contains=S.concat({begin:/\{/,end:/\}/,keywords:h,contains:["self"].concat(S)});const k=[].concat(w,y.contains),_=k.concat([{begin:/\(/,end:/\)/,keywords:h,contains:["self"].concat(k)}]),P={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:h,contains:_},E={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...s,...a]}},T={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[P],illegal:/%/},j={match:t.concat(/\b/,(I=[...c,"super","import"],t.concat("(?!",I.join("|"),")")),n,t.lookahead(/\(/)),className:"title.function",relevance:0};var I;const M={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},A={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},P]},D="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",$={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(D)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[P]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:h,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,b,x,O,w,{match:/\$\d+/},g,C,{className:"attr",begin:n+t.lookahead(":"),relevance:0},$,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[w,e.REGEXP_MODE,{className:"function",begin:D,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:h,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:"<>",end:"</>"},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:d.begin,"on:begin":d.isTrulyOpeningTag,end:d.end}],subLanguage:"xml",contains:[{begin:d.begin,end:d.end,skip:!0,contains:["self"]}]}]},T,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[P,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},M,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[P]},j,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},E,A,{match:/\$[(.]/}]}}function h(e){const t=d(e),n=r,s=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],a={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[t.exports.CLASS_REFERENCE]},c={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:s},contains:[t.exports.CLASS_REFERENCE]},h={$pattern:r,keyword:i.concat(["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"]),literal:o,built_in:u.concat(s),"variable.language":l},p={className:"meta",begin:"@"+n},f=(e,t,n)=>{const r=e.contains.findIndex((e=>e.label===t));if(-1===r)throw new Error("can not find mode to replace");e.contains.splice(r,1,n)};return Object.assign(t.keywords,h),t.exports.PARAMS_CONTAINS.push(p),t.contains=t.contains.concat([p,a,c]),f(t,"shebang",e.SHEBANG()),f(t,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/}),t.contains.find((e=>"func.def"===e.label)).relevance=0,Object.assign(t,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),t}},49250:(e,t,n)=>{"use strict";function r(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(i,{begin:/\(/,end:/\)/}),s=e.inherit(e.APOS_STRING_MODE,{className:"string"}),a=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,a,s,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,o,a,s]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[a]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}n.d(t,{A:()=>r})},57028:(e,t,n)=>{"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[Z]}function o(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===V}(e)||Array.isArray(e)||!!e[B]||!!(null===(t=e.constructor)||void 0===t?void 0:t[B])||u(e)||d(e))}function s(e,t,n){void 0===n&&(n=!1),0===a(e)?(n?Object.keys:W)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function a(e){var t=e[Z];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:u(e)?2:d(e)?3:0}function c(e,t){return 2===a(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t,n){var r=a(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function u(e){return L&&e instanceof Map}function d(e){return Q&&e instanceof Set}function h(e){return e.o||e.t}function p(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=U(e);delete t[Z];for(var n=W(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function f(e,t){return void 0===t&&(t=!1),g(e)||i(e)||!o(e)||(a(e)>1&&(e.set=e.add=e.clear=e.delete=m),Object.freeze(e),t&&s(e,(function(e,t){return f(t,!0)}),!0)),e}function m(){r(2)}function g(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function y(e){var t=q[e];return t||r(18,e),t}function v(){return R}function b(e,t){t&&(y("Patches"),e.u=[],e.s=[],e.v=t)}function x(e){O(e),e.p.forEach(S),e.p=null}function O(e){e===R&&(R=e.l)}function w(e){return R={p:[],l:R,h:e,m:!0,_:0}}function S(e){var t=e[Z];0===t.i||1===t.i?t.j():t.g=!0}function k(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.O||y("ES5").S(t,e,i),i?(n[Z].P&&(x(t),r(4)),o(e)&&(e=_(t,e),t.l||E(t,e)),t.u&&y("Patches").M(n[Z].t,e,t.u,t.s)):e=_(t,n,[]),x(t),t.u&&t.v(t.u,t.s),e!==F?e:void 0}function _(e,t,n){if(g(t))return t;var r=t[Z];if(!r)return s(t,(function(i,o){return P(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return E(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=p(r.k):r.o,o=i,a=!1;3===r.i&&(o=new Set(i),i.clear(),a=!0),s(o,(function(t,o){return P(e,r,i,t,o,n,a)})),E(e,i,!1),n&&e.u&&y("Patches").N(r,n,e.u,e.s)}return r.o}function P(e,t,n,r,s,a,u){if(i(s)){var d=_(e,s,a&&t&&3!==t.i&&!c(t.R,r)?a.concat(r):void 0);if(l(n,r,d),!i(d))return;e.m=!1}else u&&n.add(s);if(o(s)&&!g(s)){if(!e.h.D&&e._<1)return;_(e,s),t&&t.A.l||E(e,s)}}function E(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&f(t,n)}function C(e,t){var n=e[Z];return(n?h(n):e)[t]}function T(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function j(e){e.P||(e.P=!0,e.l&&j(e.l))}function I(e){e.o||(e.o=p(e.t))}function M(e,t,n){var r=u(t)?y("MapSet").F(t,n):d(t)?y("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:v(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Y;n&&(i=[r],o=X);var s=Proxy.revocable(i,o),a=s.revoke,c=s.proxy;return r.k=c,r.j=a,c}(t,n):y("ES5").J(t,n);return(n?n.A:v()).p.push(r),r}function A(e){return i(e)||r(22,e),function e(t){if(!o(t))return t;var n,r=t[Z],i=a(t);if(r){if(!r.P&&(r.i<4||!y("ES5").K(r)))return r.t;r.I=!0,n=D(t,i),r.I=!1}else n=D(t,i);return s(n,(function(t,i){r&&function(e,t){return 2===a(e)?e.get(t):e[t]}(r.t,t)===i||l(n,t,e(i))})),3===i?new Set(n):n}(e)}function D(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return p(e)}n.d(t,{jM:()=>K});var $,R,N="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),L="undefined"!=typeof Map,Q="undefined"!=typeof Set,z="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,F=N?Symbol.for("immer-nothing"):(($={})["immer-nothing"]=!0,$),B=N?Symbol.for("immer-draftable"):"__$immer_draftable",Z=N?Symbol.for("immer-state"):"__$immer_state",V=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),W="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,U=Object.getOwnPropertyDescriptors||function(e){var t={};return W(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},q={},Y={get:function(e,t){if(t===Z)return e;var n=h(e);if(!c(n,t))return function(e,t,n){var r,i=T(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!o(r)?r:r===C(e.t,t)?(I(e),e.o[t]=M(e.A.h,r,e)):r},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,n){var r=T(h(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=C(h(e),t),o=null==i?void 0:i[Z];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,i)&&(void 0!==n||c(e.t,t)))return!0;I(e),j(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==C(e.t,t)||t in e.t?(e.R[t]=!1,I(e),j(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=h(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},X={};s(Y,(function(e,t){X[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),X.deleteProperty=function(e,t){return X.set.call(this,e,t,void 0)},X.set=function(e,t,n){return Y.set.call(this,e[0],t,n,e[0])};var H=function(){function e(e){var t=this;this.O=z,this.D=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var s=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=s);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var c;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),o(e)){var l=w(t),u=M(t,e,void 0),d=!0;try{c=n(u),d=!1}finally{d?x(l):O(l)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return b(l,i),k(e,l)}),(function(e){throw x(l),e})):(b(l,i),k(c,l))}if(!e||"object"!=typeof e){if(void 0===(c=n(e))&&(c=e),c===F&&(c=void 0),t.D&&f(c,!0),i){var h=[],p=[];y("Patches").M(e,c,h,p),i(h,p)}return c}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||r(8),i(e)&&(e=A(e));var t=w(this),n=M(this,e,void 0);return n[Z].C=!0,O(t),n},t.finishDraft=function(e,t){var n=(e&&e[Z]).A;return b(n,t),k(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!z&&r(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=y("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),G=new H,K=G.produce;G.produceWithPatches.bind(G),G.setAutoFreeze.bind(G),G.setUseProxies.bind(G),G.applyPatches.bind(G),G.createDraft.bind(G),G.finishDraft.bind(G)},2794:(e,t,n)=>{"use strict";n.d(t,{A:()=>dn});var r={};n.r(r),n.d(r,{decode:()=>l,encode:()=>h,format:()=>p,parse:()=>P});var i={};n.r(i),n.d(i,{Any:()=>C,Cc:()=>T,Cf:()=>j,P:()=>E,Z:()=>I});var o={};n.r(o),n.d(o,{arrayReplaceAt:()=>J,assign:()=>K,escapeHtml:()=>de,escapeRE:()=>pe,fromCodePoint:()=>te,has:()=>G,isMdAsciiPunct:()=>ye,isPunctChar:()=>ge,isSpace:()=>fe,isString:()=>X,isValidEntityCode:()=>ee,isWhiteSpace:()=>me,lib:()=>be,normalizeReference:()=>ve,unescapeAll:()=>se,unescapeMd:()=>oe});var s={};n.r(s),n.d(s,{parseLinkDestination:()=>Oe,parseLinkLabel:()=>xe,parseLinkTitle:()=>we});const a={};function c(e,t){"string"!=typeof t&&(t=c.defaultChars);const n=function(e){let t=a[e];if(t)return t;t=a[e]=[];for(let e=0;e<128;e++){const n=String.fromCharCode(e);t.push(n)}for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return t}(t);return e.replace(/(%[a-f0-9]{2})+/gi,(function(e){let t="";for(let r=0,i=e.length;r<i;r+=3){const o=parseInt(e.slice(r+1,r+3),16);if(o<128)t+=n[o];else{if(192==(224&o)&&r+3<i){const n=parseInt(e.slice(r+4,r+6),16);if(128==(192&n)){const e=o<<6&1984|63&n;t+=e<128?"":String.fromCharCode(e),r+=3;continue}}if(224==(240&o)&&r+6<i){const n=parseInt(e.slice(r+4,r+6),16),i=parseInt(e.slice(r+7,r+9),16);if(128==(192&n)&&128==(192&i)){const e=o<<12&61440|n<<6&4032|63&i;t+=e<2048||e>=55296&&e<=57343?"":String.fromCharCode(e),r+=6;continue}}if(240==(248&o)&&r+9<i){const n=parseInt(e.slice(r+4,r+6),16),i=parseInt(e.slice(r+7,r+9),16),s=parseInt(e.slice(r+10,r+12),16);if(128==(192&n)&&128==(192&i)&&128==(192&s)){let e=o<<18&1835008|n<<12&258048|i<<6&4032|63&s;e<65536||e>1114111?t+="":(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e))),r+=9;continue}}t+=""}}return t}))}c.defaultChars=";/?:@&=+$,#",c.componentChars="";const l=c,u={};function d(e,t,n){"string"!=typeof t&&(n=t,t=d.defaultChars),void 0===n&&(n=!0);const r=function(e){let t=u[e];if(t)return t;t=u[e]=[];for(let e=0;e<128;e++){const n=String.fromCharCode(e);/^[0-9a-z]$/i.test(n)?t.push(n):t.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}(t);let i="";for(let t=0,o=e.length;t<o;t++){const s=e.charCodeAt(t);if(n&&37===s&&t+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(t+1,t+3)))i+=e.slice(t,t+3),t+=2;else if(s<128)i+=r[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&t+1<o){const n=e.charCodeAt(t+1);if(n>=56320&&n<=57343){i+=encodeURIComponent(e[t]+e[t+1]),t++;continue}}i+="%EF%BF%BD"}else i+=encodeURIComponent(e[t])}return i}d.defaultChars=";/?:@&=+$,-_.!~*'()#",d.componentChars="-_.!~*'()";const h=d;function p(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function f(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const m=/^([a-z0-9.+-]+:)/i,g=/:[0-9]*$/,y=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,v=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),b=["'"].concat(v),x=["%","/","?",";","#"].concat(b),O=["/","?","#"],w=/^[+a-z0-9A-Z_-]{0,63}$/,S=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};f.prototype.parse=function(e,t){let n,r,i,o=e;if(o=o.trim(),!t&&1===e.split("#").length){const e=y.exec(o);if(e)return this.pathname=e[1],e[2]&&(this.search=e[2]),this}let s=m.exec(o);if(s&&(s=s[0],n=s.toLowerCase(),this.protocol=s,o=o.substr(s.length)),(t||s||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i="//"===o.substr(0,2),!i||s&&k[s]||(o=o.substr(2),this.slashes=!0)),!k[s]&&(i||s&&!_[s])){let e,t,n=-1;for(let e=0;e<O.length;e++)r=o.indexOf(O[e]),-1!==r&&(-1===n||r<n)&&(n=r);t=-1===n?o.lastIndexOf("@"):o.lastIndexOf("@",n),-1!==t&&(e=o.slice(0,t),o=o.slice(t+1),this.auth=e),n=-1;for(let e=0;e<x.length;e++)r=o.indexOf(x[e]),-1!==r&&(-1===n||r<n)&&(n=r);-1===n&&(n=o.length),":"===o[n-1]&&n--;const i=o.slice(0,n);o=o.slice(n),this.parseHost(i),this.hostname=this.hostname||"";const s="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!s){const e=this.hostname.split(/\./);for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n&&!n.match(w)){let r="";for(let e=0,t=n.length;e<t;e++)n.charCodeAt(e)>127?r+="x":r+=n[e];if(!r.match(w)){const r=e.slice(0,t),i=e.slice(t+1),s=n.match(S);s&&(r.push(s[1]),i.unshift(s[2])),i.length&&(o=i.join(".")+o),this.hostname=r.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),s&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");-1!==a&&(this.hash=o.substr(a),o=o.slice(0,a));const c=o.indexOf("?");return-1!==c&&(this.search=o.substr(c),o=o.slice(0,c)),o&&(this.pathname=o),_[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},f.prototype.parseHost=function(e){let t=g.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const P=function(e,t){if(e&&e instanceof f)return e;const n=new f;return n.parse(e,t),n},E=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,C=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,T=/[\0-\x1F\x7F-\x9F]/,j=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,I=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,M=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((e=>e.charCodeAt(0)))),A=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((e=>e.charCodeAt(0))));var D;const $=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),R=null!==(D=String.fromCodePoint)&&void 0!==D?D:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};var N,L;function Q(e){return function(t,n){let r="",i=0,o=0;for(;(o=t.indexOf("&",o))>=0;){if(r+=t.slice(i,o),i=o,o+=1,t.charCodeAt(o)===N.NUM){let e=o+1,s=10,a=t.charCodeAt(e);(a|N.To_LOWER_BIT)===N.LOWER_X&&(s=16,o+=1,e+=1);do{a=t.charCodeAt(++o)}while(a>=N.ZERO&&a<=N.NINE||16===s&&(a|N.To_LOWER_BIT)>=N.LOWER_A&&(a|N.To_LOWER_BIT)<=N.LOWER_F);if(e!==o){const a=t.substring(e,o),c=parseInt(a,s);if(t.charCodeAt(o)===N.SEMI)o+=1;else if(n)continue;r+=R(function(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=$.get(e))&&void 0!==t?t:e}(c)),i=o}continue}let s=0,a=1,c=0,l=e[c];for(;o<t.length&&(c=z(e,l,c+1,t.charCodeAt(o)),!(c<0));o++,a++){l=e[c];const r=l&L.VALUE_LENGTH;if(r){n&&t.charCodeAt(o)!==N.SEMI||(s=c,a=0);const e=(r>>14)-1;if(0===e)break;c+=e}}if(0!==s){const t=(e[s]&L.VALUE_LENGTH)>>14;r+=1===t?String.fromCharCode(e[s]&~L.VALUE_LENGTH):2===t?String.fromCharCode(e[s+1]):String.fromCharCode(e[s+1],e[s+2]),i=o-a+1}}return r+t.slice(i)}}function z(e,t,n,r){const i=(t&L.BRANCH_LENGTH)>>7,o=t&L.JUMP_TABLE;if(0===i)return 0!==o&&r===o?n:-1;if(o){const t=r-o;return t<0||t>=i?-1:e[n+t]-1}let s=n,a=s+i-1;for(;s<=a;){const t=s+a>>>1,n=e[t];if(n<r)s=t+1;else{if(!(n>r))return e[t+i];a=t-1}}return-1}!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.To_LOWER_BIT=32]="To_LOWER_BIT"}(N||(N={})),function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(L||(L={}));const F=Q(M);function B(e){return F(e,!1)}function Z(e){for(let t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}Q(A),new Map(Z([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(Z([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(Z([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(Z([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));const V=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function W(e,t){return function(n){let r,i=0,o="";for(;r=e.exec(n);)i!==r.index&&(o+=n.substring(i,r.index)),o+=t.get(r[0].charCodeAt(0)),i=r.index+1;return o+n.substring(i)}}var U,q,Y;function X(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)}String.prototype.codePointAt,W(/[&<>'"]/g,V),W(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),W(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"}(U||(U={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict"}(q||(q={})),function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"}(Y||(Y={}));const H=Object.prototype.hasOwnProperty;function G(e,t){return H.call(e,t)}function K(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e}function J(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function ee(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||65535==(65535&e)||65534==(65535&e)||e>=0&&e<=8||11===e||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function te(e){if(e>65535){const t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const ne=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,re=new RegExp(ne.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),ie=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function oe(e){return e.indexOf("\\")<0?e:e.replace(ne,"$1")}function se(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(re,(function(e,t,n){return t||function(e,t){if(35===t.charCodeAt(0)&&ie.test(t)){const n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return ee(n)?te(n):e}const n=B(e);return n!==e?n:e}(e,n)}))}const ae=/[&<>"]/,ce=/[&<>"]/g,le={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function ue(e){return le[e]}function de(e){return ae.test(e)?e.replace(ce,ue):e}const he=/[.?*+^$[\]\\(){}|-]/g;function pe(e){return e.replace(he,"\\$&")}function fe(e){switch(e){case 9:case 32:return!0}return!1}function me(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function ge(e){return E.test(e)}function ye(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function ve(e){return e=e.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const be={mdurl:r,ucmicro:i};function xe(e,t,n){let r,i,o,s;const a=e.posMax,c=e.pos;for(e.pos=t+1,r=1;e.pos<a;){if(o=e.src.charCodeAt(e.pos),93===o&&(r--,0===r)){i=!0;break}if(s=e.pos,e.md.inline.skipToken(e),91===o)if(s===e.pos-1)r++;else if(n)return e.pos=c,-1}let l=-1;return i&&(l=e.pos),e.pos=c,l}function Oe(e,t,n){let r,i=t;const o={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(i)){for(i++;i<n;){if(r=e.charCodeAt(i),10===r)return o;if(60===r)return o;if(62===r)return o.pos=i+1,o.str=se(e.slice(t+1,i)),o.ok=!0,o;92===r&&i+1<n?i+=2:i++}return o}let s=0;for(;i<n&&(r=e.charCodeAt(i),32!==r)&&!(r<32||127===r);)if(92===r&&i+1<n){if(32===e.charCodeAt(i+1))break;i+=2}else{if(40===r&&(s++,s>32))return o;if(41===r){if(0===s)break;s--}i++}return t===i||0!==s||(o.str=se(e.slice(t,i)),o.pos=i,o.ok=!0),o}function we(e,t,n){let r,i,o=0,s=t;const a={ok:!1,pos:0,lines:0,str:""};if(s>=n)return a;if(i=e.charCodeAt(s),34!==i&&39!==i&&40!==i)return a;for(s++,40===i&&(i=41);s<n;){if(r=e.charCodeAt(s),r===i)return a.pos=s+1,a.lines=o,a.str=se(e.slice(t+1,s)),a.ok=!0,a;if(40===r&&41===i)return a;10===r?o++:92===r&&s+1<n&&(s++,10===e.charCodeAt(s)&&o++),s++}return a}const Se={};function ke(){this.rules=K({},Se)}Se.code_inline=function(e,t,n,r,i){const o=e[t];return"<code"+i.renderAttrs(o)+">"+de(o.content)+"</code>"},Se.code_block=function(e,t,n,r,i){const o=e[t];return"<pre"+i.renderAttrs(o)+"><code>"+de(e[t].content)+"</code></pre>\n"},Se.fence=function(e,t,n,r,i){const o=e[t],s=o.info?se(o.info).trim():"";let a,c="",l="";if(s){const e=s.split(/(\s+)/g);c=e[0],l=e.slice(2).join("")}if(a=n.highlight&&n.highlight(o.content,c,l)||de(o.content),0===a.indexOf("<pre"))return a+"\n";if(s){const e=o.attrIndex("class"),t=o.attrs?o.attrs.slice():[];e<0?t.push(["class",n.langPrefix+c]):(t[e]=t[e].slice(),t[e][1]+=" "+n.langPrefix+c);const r={attrs:t};return`<pre><code${i.renderAttrs(r)}>${a}</code></pre>\n`}return`<pre><code${i.renderAttrs(o)}>${a}</code></pre>\n`},Se.image=function(e,t,n,r,i){const o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,r),i.renderToken(e,t,n)},Se.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},Se.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},Se.text=function(e,t){return de(e[t].content)},Se.html_block=function(e,t){return e[t].content},Se.html_inline=function(e,t){return e[t].content},ke.prototype.renderAttrs=function(e){let t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+de(e.attrs[t][0])+'="'+de(e.attrs[t][1])+'"';return r},ke.prototype.renderToken=function(e,t,n){const r=e[t];let i="";if(r.hidden)return"";r.block&&-1!==r.nesting&&t&&e[t-1].hidden&&(i+="\n"),i+=(-1===r.nesting?"</":"<")+r.tag,i+=this.renderAttrs(r),0===r.nesting&&n.xhtmlOut&&(i+=" /");let o=!1;if(r.block&&(o=!0,1===r.nesting&&t+1<e.length)){const n=e[t+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===r.tag)&&(o=!1)}return i+=o?">\n":">",i},ke.prototype.renderInline=function(e,t,n){let r="";const i=this.rules;for(let o=0,s=e.length;o<s;o++){const s=e[o].type;void 0!==i[s]?r+=i[s](e,o,t,n,this):r+=this.renderToken(e,o,t)}return r},ke.prototype.renderInlineAsText=function(e,t,n){let r="";for(let i=0,o=e.length;i<o;i++)switch(e[i].type){case"text":case"html_inline":case"html_block":r+=e[i].content;break;case"image":r+=this.renderInlineAsText(e[i].children,t,n);break;case"softbreak":case"hardbreak":r+="\n"}return r},ke.prototype.render=function(e,t,n){let r="";const i=this.rules;for(let o=0,s=e.length;o<s;o++){const s=e[o].type;"inline"===s?r+=this.renderInline(e[o].children,t,n):void 0!==i[s]?r+=i[s](e,o,t,n,this):r+=this.renderToken(e,o,t,n)}return r};const _e=ke;function Pe(){this.__rules__=[],this.__cache__=null}Pe.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},Pe.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},Pe.prototype.at=function(e,t,n){const r=this.__find__(e),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=i.alt||[],this.__cache__=null},Pe.prototype.before=function(e,t,n,r){const i=this.__find__(e),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},Pe.prototype.after=function(e,t,n,r){const i=this.__find__(e),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},Pe.prototype.push=function(e,t,n){const r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},Pe.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach((function(e){const r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)}),this),this.__cache__=null,n},Pe.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},Pe.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach((function(e){const r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)}),this),this.__cache__=null,n},Pe.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]};const Ee=Pe;function Ce(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Ce.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let n=0,r=t.length;n<r;n++)if(t[n][0]===e)return n;return-1},Ce.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},Ce.prototype.attrSet=function(e,t){const n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},Ce.prototype.attrGet=function(e){const t=this.attrIndex(e);let n=null;return t>=0&&(n=this.attrs[t][1]),n},Ce.prototype.attrJoin=function(e,t){const n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t};const Te=Ce;function je(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}je.prototype.Token=Te;const Ie=je,Me=/\r\n?|\n/g,Ae=/\0/g;function De(e){return/^<\/a\s*>/i.test(e)}const $e=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Re=/\((c|tm|r)\)/i,Ne=/\((c|tm|r)\)/gi,Le={c:"",r:"",tm:""};function Qe(e,t){return Le[t.toLowerCase()]}function ze(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];"text"!==r.type||t||(r.content=r.content.replace(Ne,Qe)),"link_open"===r.type&&"auto"===r.info&&t--,"link_close"===r.type&&"auto"===r.info&&t++}}function Fe(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];"text"!==r.type||t||$e.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===r.type&&"auto"===r.info&&t--,"link_close"===r.type&&"auto"===r.info&&t++}}const Be=/['"]/,Ze=/['"]/g;function Ve(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function We(e,t){let n;const r=[];for(let i=0;i<e.length;i++){const o=e[i],s=e[i].level;for(n=r.length-1;n>=0&&!(r[n].level<=s);n--);if(r.length=n+1,"text"!==o.type)continue;let a=o.content,c=0,l=a.length;e:for(;c<l;){Ze.lastIndex=c;const u=Ze.exec(a);if(!u)break;let d=!0,h=!0;c=u.index+1;const p="'"===u[0];let f=32;if(u.index-1>=0)f=a.charCodeAt(u.index-1);else for(n=i-1;n>=0&&"softbreak"!==e[n].type&&"hardbreak"!==e[n].type;n--)if(e[n].content){f=e[n].content.charCodeAt(e[n].content.length-1);break}let m=32;if(c<l)m=a.charCodeAt(c);else for(n=i+1;n<e.length&&"softbreak"!==e[n].type&&"hardbreak"!==e[n].type;n++)if(e[n].content){m=e[n].content.charCodeAt(0);break}const g=ye(f)||ge(String.fromCharCode(f)),y=ye(m)||ge(String.fromCharCode(m)),v=me(f),b=me(m);if(b?d=!1:y&&(v||g||(d=!1)),v?h=!1:g&&(b||y||(h=!1)),34===m&&'"'===u[0]&&f>=48&&f<=57&&(h=d=!1),d&&h&&(d=g,h=y),d||h){if(h)for(n=r.length-1;n>=0;n--){let d=r[n];if(r[n].level<s)break;if(d.single===p&&r[n].level===s){let s,h;d=r[n],p?(s=t.md.options.quotes[2],h=t.md.options.quotes[3]):(s=t.md.options.quotes[0],h=t.md.options.quotes[1]),o.content=Ve(o.content,u.index,h),e[d.token].content=Ve(e[d.token].content,d.pos,s),c+=h.length-1,d.token===i&&(c+=s.length-1),a=o.content,l=a.length,r.length=n;continue e}}d?r.push({token:i,pos:u.index,single:p,level:s}):h&&p&&(o.content=Ve(o.content,u.index,""))}else p&&(o.content=Ve(o.content,u.index,""))}}}const Ue=[["normalize",function(e){let t;t=e.src.replace(Me,"\n"),t=t.replace(Ae,""),e.src=t}],["block",function(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}],["inline",function(e){const t=e.tokens;for(let n=0,r=t.length;n<r;n++){const r=t[n];"inline"===r.type&&e.md.inline.parse(r.content,e.md,e.env,r.children)}}],["linkify",function(e){const t=e.tokens;var n;if(e.md.options.linkify)for(let r=0,i=t.length;r<i;r++){if("inline"!==t[r].type||!e.md.linkify.pretest(t[r].content))continue;let i=t[r].children,o=0;for(let s=i.length-1;s>=0;s--){const a=i[s];if("link_close"!==a.type){if("html_inline"===a.type&&(n=a.content,/^<a[>\s]/i.test(n)&&o>0&&o--,De(a.content)&&o++),!(o>0)&&"text"===a.type&&e.md.linkify.test(a.content)){const n=a.content;let o=e.md.linkify.match(n);const c=[];let l=a.level,u=0;o.length>0&&0===o[0].index&&s>0&&"text_special"===i[s-1].type&&(o=o.slice(1));for(let t=0;t<o.length;t++){const r=o[t].url,i=e.md.normalizeLink(r);if(!e.md.validateLink(i))continue;let s=o[t].text;s=o[t].schema?"mailto:"!==o[t].schema||/^mailto:/i.test(s)?e.md.normalizeLinkText(s):e.md.normalizeLinkText("mailto:"+s).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+s).replace(/^http:\/\//,"");const a=o[t].index;if(a>u){const t=new e.Token("text","",0);t.content=n.slice(u,a),t.level=l,c.push(t)}const d=new e.Token("link_open","a",1);d.attrs=[["href",i]],d.level=l++,d.markup="linkify",d.info="auto",c.push(d);const h=new e.Token("text","",0);h.content=s,h.level=l,c.push(h);const p=new e.Token("link_close","a",-1);p.level=--l,p.markup="linkify",p.info="auto",c.push(p),u=o[t].lastIndex}if(u<n.length){const t=new e.Token("text","",0);t.content=n.slice(u),t.level=l,c.push(t)}t[r].children=i=J(i,s,c)}}else for(s--;i[s].level!==a.level&&"link_open"!==i[s].type;)s--}}}],["replacements",function(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(Re.test(e.tokens[t].content)&&ze(e.tokens[t].children),$e.test(e.tokens[t].content)&&Fe(e.tokens[t].children))}],["smartquotes",function(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&Be.test(e.tokens[t].content)&&We(e.tokens[t].children,e)}],["text_join",function(e){let t,n;const r=e.tokens,i=r.length;for(let e=0;e<i;e++){if("inline"!==r[e].type)continue;const i=r[e].children,o=i.length;for(t=0;t<o;t++)"text_special"===i[t].type&&(i[t].type="text");for(t=n=0;t<o;t++)"text"===i[t].type&&t+1<o&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}}]];function qe(){this.ruler=new Ee;for(let e=0;e<Ue.length;e++)this.ruler.push(Ue[e][0],Ue[e][1])}qe.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,r=t.length;n<r;n++)t[n](e)},qe.prototype.State=Ie;const Ye=qe;function Xe(e,t,n,r){this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let e=0,t=0,n=0,r=0,o=i.length,s=!1;t<o;t++){const a=i.charCodeAt(t);if(!s){if(fe(a)){n++,9===a?r+=4-r%4:r++;continue}s=!0}10!==a&&t!==o-1||(10!==a&&t++,this.bMarks.push(e),this.eMarks.push(t),this.tShift.push(n),this.sCount.push(r),this.bsCount.push(0),s=!1,n=0,r=0,e=t+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Xe.prototype.push=function(e,t,n){const r=new Te(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r},Xe.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},Xe.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},Xe.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t&&fe(this.src.charCodeAt(e));e++);return e},Xe.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!fe(this.src.charCodeAt(--e)))return e+1;return e},Xe.prototype.skipChars=function(e,t){for(let n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},Xe.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},Xe.prototype.getLines=function(e,t,n,r){if(e>=t)return"";const i=new Array(t-e);for(let o=0,s=e;s<t;s++,o++){let e=0;const a=this.bMarks[s];let c,l=a;for(c=s+1<t||r?this.eMarks[s]+1:this.eMarks[s];l<c&&e<n;){const t=this.src.charCodeAt(l);if(fe(t))9===t?e+=4-(e+this.bsCount[s])%4:e++;else{if(!(l-a<this.tShift[s]))break;e++}l++}i[o]=e>n?new Array(e-n+1).join(" ")+this.src.slice(l,c):this.src.slice(l,c)}return i.join("")},Xe.prototype.Token=Te;const He=Xe;function Ge(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function Ke(e){const t=[],n=e.length;let r=0,i=e.charCodeAt(r),o=!1,s=0,a="";for(;r<n;)124===i&&(o?(a+=e.substring(s,r-1),s=r):(t.push(a+e.substring(s,r)),a="",s=r+1)),o=92===i,r++,i=e.charCodeAt(r);return t.push(a+e.substring(s)),t}function Je(e,t){const n=e.eMarks[t];let r=e.bMarks[t]+e.tShift[t];const i=e.src.charCodeAt(r++);return 42!==i&&45!==i&&43!==i||r<n&&!fe(e.src.charCodeAt(r))?-1:r}function et(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];let i=n;if(i+1>=r)return-1;let o=e.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=r)return-1;if(o=e.src.charCodeAt(i++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(i-n>=10)return-1}return i<r&&(o=e.src.charCodeAt(i),!fe(o))?-1:i}const tt="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",nt="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",rt=new RegExp("^(?:"+tt+"|"+nt+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),it=new RegExp("^(?:"+tt+"|"+nt+")"),ot=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(it.source+"\\s*$"),/^$/,!1]],st=[["table",function(e,t,n,r){if(t+2>n)return!1;let i=t+1;if(e.sCount[i]<e.blkIndent)return!1;if(e.sCount[i]-e.blkIndent>=4)return!1;let o=e.bMarks[i]+e.tShift[i];if(o>=e.eMarks[i])return!1;const s=e.src.charCodeAt(o++);if(124!==s&&45!==s&&58!==s)return!1;if(o>=e.eMarks[i])return!1;const a=e.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a&&!fe(a))return!1;if(45===s&&fe(a))return!1;for(;o<e.eMarks[i];){const t=e.src.charCodeAt(o);if(124!==t&&45!==t&&58!==t&&!fe(t))return!1;o++}let c=Ge(e,t+1),l=c.split("|");const u=[];for(let e=0;e<l.length;e++){const t=l[e].trim();if(!t){if(0===e||e===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(t))return!1;58===t.charCodeAt(t.length-1)?u.push(58===t.charCodeAt(0)?"center":"right"):58===t.charCodeAt(0)?u.push("left"):u.push("")}if(c=Ge(e,t).trim(),-1===c.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;l=Ke(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop();const d=l.length;if(0===d||d!==u.length)return!1;if(r)return!0;const h=e.parentType;e.parentType="table";const p=e.md.block.ruler.getRules("blockquote"),f=[t,0];e.push("table_open","table",1).map=f,e.push("thead_open","thead",1).map=[t,t+1],e.push("tr_open","tr",1).map=[t,t+1];for(let t=0;t<l.length;t++){const n=e.push("th_open","th",1);u[t]&&(n.attrs=[["style","text-align:"+u[t]]]);const r=e.push("inline","",0);r.content=l[t].trim(),r.children=[],e.push("th_close","th",-1)}let m;for(e.push("tr_close","tr",-1),e.push("thead_close","thead",-1),i=t+2;i<n&&!(e.sCount[i]<e.blkIndent);i++){let r=!1;for(let t=0,o=p.length;t<o;t++)if(p[t](e,i,n,!0)){r=!0;break}if(r)break;if(c=Ge(e,i).trim(),!c)break;if(e.sCount[i]-e.blkIndent>=4)break;l=Ke(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop(),i===t+2&&(e.push("tbody_open","tbody",1).map=m=[t+2,0]),e.push("tr_open","tr",1).map=[i,i+1];for(let t=0;t<d;t++){const n=e.push("td_open","td",1);u[t]&&(n.attrs=[["style","text-align:"+u[t]]]);const r=e.push("inline","",0);r.content=l[t]?l[t].trim():"",r.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return m&&(e.push("tbody_close","tbody",-1),m[1]=i),e.push("table_close","table",-1),f[1]=i,e.parentType=h,e.line=i,!0},["paragraph","reference"]],["code",function(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let r=t+1,i=r;for(;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;r++,i=r}e.line=i;const o=e.push("code_block","code",0);return o.content=e.getLines(t,i,4+e.blkIndent,!1)+"\n",o.map=[t,e.line],!0}],["fence",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(i+3>o)return!1;const s=e.src.charCodeAt(i);if(126!==s&&96!==s)return!1;let a=i;i=e.skipChars(i,s);let c=i-a;if(c<3)return!1;const l=e.src.slice(a,i),u=e.src.slice(i,o);if(96===s&&u.indexOf(String.fromCharCode(s))>=0)return!1;if(r)return!0;let d=t,h=!1;for(;!(d++,d>=n||(i=a=e.bMarks[d]+e.tShift[d],o=e.eMarks[d],i<o&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(i)===s&&!(e.sCount[d]-e.blkIndent>=4||(i=e.skipChars(i,s),i-a<c||(i=e.skipSpaces(i),i<o)))){h=!0;break}c=e.sCount[t],e.line=d+(h?1:0);const p=e.push("fence","code",0);return p.info=u,p.content=e.getLines(t+1,d,c,!0),p.markup=l,p.map=[t,e.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];const s=e.lineMax;if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(i))return!1;if(r)return!0;const a=[],c=[],l=[],u=[],d=e.md.block.ruler.getRules("blockquote"),h=e.parentType;e.parentType="blockquote";let p,f=!1;for(p=t;p<n;p++){const t=e.sCount[p]<e.blkIndent;if(i=e.bMarks[p]+e.tShift[p],o=e.eMarks[p],i>=o)break;if(62===e.src.charCodeAt(i++)&&!t){let t,n,r=e.sCount[p]+1;32===e.src.charCodeAt(i)?(i++,r++,n=!1,t=!0):9===e.src.charCodeAt(i)?(t=!0,(e.bsCount[p]+r)%4==3?(i++,r++,n=!1):n=!0):t=!1;let s=r;for(a.push(e.bMarks[p]),e.bMarks[p]=i;i<o;){const t=e.src.charCodeAt(i);if(!fe(t))break;9===t?s+=4-(s+e.bsCount[p]+(n?1:0))%4:s++,i++}f=i>=o,c.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(t?1:0),l.push(e.sCount[p]),e.sCount[p]=s-r,u.push(e.tShift[p]),e.tShift[p]=i-e.bMarks[p];continue}if(f)break;let r=!1;for(let t=0,i=d.length;t<i;t++)if(d[t](e,p,n,!0)){r=!0;break}if(r){e.lineMax=p,0!==e.blkIndent&&(a.push(e.bMarks[p]),c.push(e.bsCount[p]),u.push(e.tShift[p]),l.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}a.push(e.bMarks[p]),c.push(e.bsCount[p]),u.push(e.tShift[p]),l.push(e.sCount[p]),e.sCount[p]=-1}const m=e.blkIndent;e.blkIndent=0;const g=e.push("blockquote_open","blockquote",1);g.markup=">";const y=[t,0];g.map=y,e.md.block.tokenize(e,t,p),e.push("blockquote_close","blockquote",-1).markup=">",e.lineMax=s,e.parentType=h,y[1]=e.line;for(let n=0;n<u.length;n++)e.bMarks[n+t]=a[n],e.tShift[n+t]=u[n],e.sCount[n+t]=l[n],e.bsCount[n+t]=c[n];return e.blkIndent=m,!0},["paragraph","reference","blockquote","list"]],["hr",function(e,t,n,r){const i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.bMarks[t]+e.tShift[t];const s=e.src.charCodeAt(o++);if(42!==s&&45!==s&&95!==s)return!1;let a=1;for(;o<i;){const t=e.src.charCodeAt(o++);if(t!==s&&!fe(t))return!1;t===s&&a++}if(a<3)return!1;if(r)return!0;e.line=t+1;const c=e.push("hr","hr",0);return c.map=[t,e.line],c.markup=Array(a+1).join(String.fromCharCode(s)),!0},["paragraph","reference","blockquote","list"]],["list",function(e,t,n,r){let i,o,s,a,c=t,l=!0;if(e.sCount[c]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[c]-e.listIndent>=4&&e.sCount[c]<e.blkIndent)return!1;let u,d,h,p=!1;if(r&&"paragraph"===e.parentType&&e.sCount[c]>=e.blkIndent&&(p=!0),(h=et(e,c))>=0){if(u=!0,s=e.bMarks[c]+e.tShift[c],d=Number(e.src.slice(s,h-1)),p&&1!==d)return!1}else{if(!((h=Je(e,c))>=0))return!1;u=!1}if(p&&e.skipSpaces(h)>=e.eMarks[c])return!1;if(r)return!0;const f=e.src.charCodeAt(h-1),m=e.tokens.length;u?(a=e.push("ordered_list_open","ol",1),1!==d&&(a.attrs=[["start",d]])):a=e.push("bullet_list_open","ul",1);const g=[c,0];a.map=g,a.markup=String.fromCharCode(f);let y=!1;const v=e.md.block.ruler.getRules("list"),b=e.parentType;for(e.parentType="list";c<n;){o=h,i=e.eMarks[c];const t=e.sCount[c]+h-(e.bMarks[c]+e.tShift[c]);let r=t;for(;o<i;){const t=e.src.charCodeAt(o);if(9===t)r+=4-(r+e.bsCount[c])%4;else{if(32!==t)break;r++}o++}const d=o;let p;p=d>=i?1:r-t,p>4&&(p=1);const m=t+p;a=e.push("list_item_open","li",1),a.markup=String.fromCharCode(f);const g=[c,0];a.map=g,u&&(a.info=e.src.slice(s,h-1));const b=e.tight,x=e.tShift[c],O=e.sCount[c],w=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=m,e.tight=!0,e.tShift[c]=d-e.bMarks[c],e.sCount[c]=r,d>=i&&e.isEmpty(c+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,c,n,!0),e.tight&&!y||(l=!1),y=e.line-c>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=w,e.tShift[c]=x,e.sCount[c]=O,e.tight=b,a=e.push("list_item_close","li",-1),a.markup=String.fromCharCode(f),c=e.line,g[1]=c,c>=n)break;if(e.sCount[c]<e.blkIndent)break;if(e.sCount[c]-e.blkIndent>=4)break;let S=!1;for(let t=0,r=v.length;t<r;t++)if(v[t](e,c,n,!0)){S=!0;break}if(S)break;if(u){if(h=et(e,c),h<0)break;s=e.bMarks[c]+e.tShift[c]}else if(h=Je(e,c),h<0)break;if(f!==e.src.charCodeAt(h-1))break}return a=u?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(f),g[1]=c,e.line=c,e.parentType=b,l&&function(e,t){const n=e.level+2;for(let r=t+2,i=e.tokens.length-2;r<i;r++)e.tokens[r].level===n&&"paragraph_open"===e.tokens[r].type&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}(e,m),!0},["paragraph","reference","blockquote"]],["reference",function(e,t,n,r){let i=0,o=e.bMarks[t]+e.tShift[t],s=e.eMarks[t],a=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(o))return!1;for(;++o<s;)if(93===e.src.charCodeAt(o)&&92!==e.src.charCodeAt(o-1)){if(o+1===s)return!1;if(58!==e.src.charCodeAt(o+1))return!1;break}const c=e.lineMax,l=e.md.block.ruler.getRules("reference"),u=e.parentType;for(e.parentType="reference";a<c&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3)continue;if(e.sCount[a]<0)continue;let t=!1;for(let n=0,r=l.length;n<r;n++)if(l[n](e,a,c,!0)){t=!0;break}if(t)break}const d=e.getLines(t,a,e.blkIndent,!1).trim();s=d.length;let h=-1;for(o=1;o<s;o++){const e=d.charCodeAt(o);if(91===e)return!1;if(93===e){h=o;break}10===e?i++:92===e&&(o++,o<s&&10===d.charCodeAt(o)&&i++)}if(h<0||58!==d.charCodeAt(h+1))return!1;for(o=h+2;o<s;o++){const e=d.charCodeAt(o);if(10===e)i++;else if(!fe(e))break}const p=e.md.helpers.parseLinkDestination(d,o,s);if(!p.ok)return!1;const f=e.md.normalizeLink(p.str);if(!e.md.validateLink(f))return!1;o=p.pos,i+=p.lines;const m=o,g=i,y=o;for(;o<s;o++){const e=d.charCodeAt(o);if(10===e)i++;else if(!fe(e))break}const v=e.md.helpers.parseLinkTitle(d,o,s);let b;for(o<s&&y!==o&&v.ok?(b=v.str,o=v.pos,i+=v.lines):(b="",o=m,i=g);o<s&&fe(d.charCodeAt(o));)o++;if(o<s&&10!==d.charCodeAt(o)&&b)for(b="",o=m,i=g;o<s&&fe(d.charCodeAt(o));)o++;if(o<s&&10!==d.charCodeAt(o))return!1;const x=ve(d.slice(1,h));return!!x&&(r||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[x]&&(e.env.references[x]={title:b,href:f}),e.parentType=u,e.line=t+i+1),!0)}],["html_block",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(i))return!1;let s=e.src.slice(i,o),a=0;for(;a<ot.length&&!ot[a][0].test(s);a++);if(a===ot.length)return!1;if(r)return ot[a][2];let c=t+1;if(!ot[a][1].test(s))for(;c<n&&!(e.sCount[c]<e.blkIndent);c++)if(i=e.bMarks[c]+e.tShift[c],o=e.eMarks[c],s=e.src.slice(i,o),ot[a][1].test(s)){0!==s.length&&c++;break}e.line=c;const l=e.push("html_block","",0);return l.map=[t,c],l.content=e.getLines(t,c,e.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let s=e.src.charCodeAt(i);if(35!==s||i>=o)return!1;let a=1;for(s=e.src.charCodeAt(++i);35===s&&i<o&&a<=6;)a++,s=e.src.charCodeAt(++i);if(a>6||i<o&&!fe(s))return!1;if(r)return!0;o=e.skipSpacesBack(o,i);const c=e.skipCharsBack(o,35,i);c>i&&fe(e.src.charCodeAt(c-1))&&(o=c),e.line=t+1;const l=e.push("heading_open","h"+String(a),1);l.markup="########".slice(0,a),l.map=[t,e.line];const u=e.push("inline","",0);return u.content=e.src.slice(i,o).trim(),u.map=[t,e.line],u.children=[],e.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(e,t,n){const r=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const i=e.parentType;e.parentType="paragraph";let o,s=0,a=t+1;for(;a<n&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3)continue;if(e.sCount[a]>=e.blkIndent){let t=e.bMarks[a]+e.tShift[a];const n=e.eMarks[a];if(t<n&&(o=e.src.charCodeAt(t),(45===o||61===o)&&(t=e.skipChars(t,o),t=e.skipSpaces(t),t>=n))){s=61===o?1:2;break}}if(e.sCount[a]<0)continue;let t=!1;for(let i=0,o=r.length;i<o;i++)if(r[i](e,a,n,!0)){t=!0;break}if(t)break}if(!s)return!1;const c=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a+1;const l=e.push("heading_open","h"+String(s),1);l.markup=String.fromCharCode(o),l.map=[t,e.line];const u=e.push("inline","",0);return u.content=c,u.map=[t,e.line-1],u.children=[],e.push("heading_close","h"+String(s),-1).markup=String.fromCharCode(o),e.parentType=i,!0}],["paragraph",function(e,t,n){const r=e.md.block.ruler.getRules("paragraph"),i=e.parentType;let o=t+1;for(e.parentType="paragraph";o<n&&!e.isEmpty(o);o++){if(e.sCount[o]-e.blkIndent>3)continue;if(e.sCount[o]<0)continue;let t=!1;for(let i=0,s=r.length;i<s;i++)if(r[i](e,o,n,!0)){t=!0;break}if(t)break}const s=e.getLines(t,o,e.blkIndent,!1).trim();e.line=o,e.push("paragraph_open","p",1).map=[t,e.line];const a=e.push("inline","",0);return a.content=s,a.map=[t,e.line],a.children=[],e.push("paragraph_close","p",-1),e.parentType=i,!0}]];function at(){this.ruler=new Ee;for(let e=0;e<st.length;e++)this.ruler.push(st[e][0],st[e][1],{alt:(st[e][2]||[]).slice()})}at.prototype.tokenize=function(e,t,n){const r=this.ruler.getRules(""),i=r.length,o=e.md.options.maxNesting;let s=t,a=!1;for(;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n))&&!(e.sCount[s]<e.blkIndent);){if(e.level>=o){e.line=n;break}const t=e.line;let c=!1;for(let o=0;o<i;o++)if(c=r[o](e,s,n,!1),c){if(t>=e.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),s=e.line,s<n&&e.isEmpty(s)&&(a=!0,s++,e.line=s)}},at.prototype.parse=function(e,t,n,r){if(!e)return;const i=new this.State(e,t,n,r);this.tokenize(i,i.line,i.lineMax)},at.prototype.State=He;const ct=at;function lt(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}lt.prototype.pushPending=function(){const e=new Te("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},lt.prototype.push=function(e,t,n){this.pending&&this.pushPending();const r=new Te(e,t,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r},lt.prototype.scanDelims=function(e,t){let n,r,i=!0,o=!0;const s=this.posMax,a=this.src.charCodeAt(e),c=e>0?this.src.charCodeAt(e-1):32;let l=e;for(;l<s&&this.src.charCodeAt(l)===a;)l++;const u=l-e,d=l<s?this.src.charCodeAt(l):32,h=ye(c)||ge(String.fromCharCode(c)),p=ye(d)||ge(String.fromCharCode(d)),f=me(c),m=me(d);return m?i=!1:p&&(f||h||(i=!1)),f?o=!1:h&&(m||p||(o=!1)),t?(n=i,r=o):(n=i&&(!o||h),r=o&&(!i||p)),{can_open:n,can_close:r,length:u}},lt.prototype.Token=Te;const ut=lt;function dt(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}const ht=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,pt=[];for(let e=0;e<256;e++)pt.push(0);function ft(e,t){let n;const r=[],i=t.length;for(let o=0;o<i;o++){const i=t[o];if(126!==i.marker)continue;if(-1===i.end)continue;const s=t[i.end];n=e.tokens[i.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[s.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===e.tokens[s.token-1].type&&"~"===e.tokens[s.token-1].content&&r.push(s.token-1)}for(;r.length;){const t=r.pop();let i=t+1;for(;i<e.tokens.length&&"s_close"===e.tokens[i].type;)i++;i--,t!==i&&(n=e.tokens[i],e.tokens[i]=e.tokens[t],e.tokens[t]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){pt[e.charCodeAt(0)]=1}));const mt={tokenize:function(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t)return!1;if(126!==r)return!1;const i=e.scanDelims(e.pos,!0);let o=i.length;const s=String.fromCharCode(r);if(o<2)return!1;let a;o%2&&(a=e.push("text","",0),a.content=s,o--);for(let t=0;t<o;t+=2)a=e.push("text","",0),a.content=s+s,e.delimiters.push({marker:r,length:0,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;ft(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&ft(e,t[r].delimiters)}};function gt(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(95!==r.marker&&42!==r.marker)continue;if(-1===r.end)continue;const i=t[r.end],o=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===i.token+1,s=String.fromCharCode(r.marker),a=e.tokens[r.token];a.type=o?"strong_open":"em_open",a.tag=o?"strong":"em",a.nesting=1,a.markup=o?s+s:s,a.content="";const c=e.tokens[i.token];c.type=o?"strong_close":"em_close",c.tag=o?"strong":"em",c.nesting=-1,c.markup=o?s+s:s,c.content="",o&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--)}}const yt={tokenize:function(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t)return!1;if(95!==r&&42!==r)return!1;const i=e.scanDelims(e.pos,42===r);for(let t=0;t<i.length;t++)e.push("text","",0).content=String.fromCharCode(r),e.delimiters.push({marker:r,length:i.length,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;gt(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&gt(e,t[r].delimiters)}},vt=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,bt=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/,xt=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Ot=/^&([a-z][a-z0-9]{1,31});/i;function wt(e){const t={},n=e.length;if(!n)return;let r=0,i=-2;const o=[];for(let s=0;s<n;s++){const n=e[s];if(o.push(0),e[r].marker===n.marker&&i===n.token-1||(r=s),i=n.token,n.length=n.length||0,!n.close)continue;t.hasOwnProperty(n.marker)||(t[n.marker]=[-1,-1,-1,-1,-1,-1]);const a=t[n.marker][(n.open?3:0)+n.length%3];let c=r-o[r]-1,l=c;for(;c>a;c-=o[c]+1){const t=e[c];if(t.marker===n.marker&&t.open&&t.end<0){let r=!1;if((t.close||n.open)&&(t.length+n.length)%3==0&&(t.length%3==0&&n.length%3==0||(r=!0)),!r){const r=c>0&&!e[c-1].open?o[c-1]+1:0;o[s]=s-c+r,o[c]=r,n.open=!1,t.end=s,t.close=!1,l=-1,i=-2;break}}}-1!==l&&(t[n.marker][(n.open?3:0)+(n.length||0)%3]=l)}}const St=[["text",function(e,t){let n=e.pos;for(;n<e.posMax&&!dt(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["linkify",function(e,t){if(!e.md.options.linkify)return!1;if(e.linkLevel>0)return!1;const n=e.pos;if(n+3>e.posMax)return!1;if(58!==e.src.charCodeAt(n))return!1;if(47!==e.src.charCodeAt(n+1))return!1;if(47!==e.src.charCodeAt(n+2))return!1;const r=e.pending.match(ht);if(!r)return!1;const i=r[1],o=e.md.linkify.matchAtStart(e.src.slice(n-i.length));if(!o)return!1;let s=o.url;if(s.length<=i.length)return!1;s=s.replace(/\*+$/,"");const a=e.md.normalizeLink(s);if(!e.md.validateLink(a))return!1;if(!t){e.pending=e.pending.slice(0,-i.length);const t=e.push("link_open","a",1);t.attrs=[["href",a]],t.markup="linkify",t.info="auto",e.push("text","",0).content=e.md.normalizeLinkText(s);const n=e.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return e.pos+=s.length-i.length,!0}],["newline",function(e,t){let n=e.pos;if(10!==e.src.charCodeAt(n))return!1;const r=e.pending.length-1,i=e.posMax;if(!t)if(r>=0&&32===e.pending.charCodeAt(r))if(r>=1&&32===e.pending.charCodeAt(r-1)){let t=r-1;for(;t>=1&&32===e.pending.charCodeAt(t-1);)t--;e.pending=e.pending.slice(0,t),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<i&&fe(e.src.charCodeAt(n));)n++;return e.pos=n,!0}],["escape",function(e,t){let n=e.pos;const r=e.posMax;if(92!==e.src.charCodeAt(n))return!1;if(n++,n>=r)return!1;let i=e.src.charCodeAt(n);if(10===i){for(t||e.push("hardbreak","br",0),n++;n<r&&(i=e.src.charCodeAt(n),fe(i));)n++;return e.pos=n,!0}let o=e.src[n];if(i>=55296&&i<=56319&&n+1<r){const t=e.src.charCodeAt(n+1);t>=56320&&t<=57343&&(o+=e.src[n+1],n++)}const s="\\"+o;if(!t){const t=e.push("text_special","",0);i<256&&0!==pt[i]?t.content=o:t.content=s,t.markup=s,t.info="escape"}return e.pos=n+1,!0}],["backticks",function(e,t){let n=e.pos;if(96!==e.src.charCodeAt(n))return!1;const r=n;n++;const i=e.posMax;for(;n<i&&96===e.src.charCodeAt(n);)n++;const o=e.src.slice(r,n),s=o.length;if(e.backticksScanned&&(e.backticks[s]||0)<=r)return t||(e.pending+=o),e.pos+=s,!0;let a,c=n;for(;-1!==(a=e.src.indexOf("`",c));){for(c=a+1;c<i&&96===e.src.charCodeAt(c);)c++;const r=c-a;if(r===s){if(!t){const t=e.push("code_inline","code",0);t.markup=o,t.content=e.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=c,!0}e.backticks[r]=a}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=s,!0}],["strikethrough",mt.tokenize],["emphasis",yt.tokenize],["link",function(e,t){let n,r,i,o,s="",a="",c=e.pos,l=!0;if(91!==e.src.charCodeAt(e.pos))return!1;const u=e.pos,d=e.posMax,h=e.pos+1,p=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(p<0)return!1;let f=p+1;if(f<d&&40===e.src.charCodeAt(f)){for(l=!1,f++;f<d&&(n=e.src.charCodeAt(f),fe(n)||10===n);f++);if(f>=d)return!1;if(c=f,i=e.md.helpers.parseLinkDestination(e.src,f,e.posMax),i.ok){for(s=e.md.normalizeLink(i.str),e.md.validateLink(s)?f=i.pos:s="",c=f;f<d&&(n=e.src.charCodeAt(f),fe(n)||10===n);f++);if(i=e.md.helpers.parseLinkTitle(e.src,f,e.posMax),f<d&&c!==f&&i.ok)for(a=i.str,f=i.pos;f<d&&(n=e.src.charCodeAt(f),fe(n)||10===n);f++);}(f>=d||41!==e.src.charCodeAt(f))&&(l=!0),f++}if(l){if(void 0===e.env.references)return!1;if(f<d&&91===e.src.charCodeAt(f)?(c=f+1,f=e.md.helpers.parseLinkLabel(e,f),f>=0?r=e.src.slice(c,f++):f=p+1):f=p+1,r||(r=e.src.slice(h,p)),o=e.env.references[ve(r)],!o)return e.pos=u,!1;s=o.href,a=o.title}if(!t){e.pos=h,e.posMax=p;const t=[["href",s]];e.push("link_open","a",1).attrs=t,a&&t.push(["title",a]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=f,e.posMax=d,!0}],["image",function(e,t){let n,r,i,o,s,a,c,l,u="";const d=e.pos,h=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;const p=e.pos+2,f=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(f<0)return!1;if(o=f+1,o<h&&40===e.src.charCodeAt(o)){for(o++;o<h&&(n=e.src.charCodeAt(o),fe(n)||10===n);o++);if(o>=h)return!1;for(l=o,a=e.md.helpers.parseLinkDestination(e.src,o,e.posMax),a.ok&&(u=e.md.normalizeLink(a.str),e.md.validateLink(u)?o=a.pos:u=""),l=o;o<h&&(n=e.src.charCodeAt(o),fe(n)||10===n);o++);if(a=e.md.helpers.parseLinkTitle(e.src,o,e.posMax),o<h&&l!==o&&a.ok)for(c=a.str,o=a.pos;o<h&&(n=e.src.charCodeAt(o),fe(n)||10===n);o++);else c="";if(o>=h||41!==e.src.charCodeAt(o))return e.pos=d,!1;o++}else{if(void 0===e.env.references)return!1;if(o<h&&91===e.src.charCodeAt(o)?(l=o+1,o=e.md.helpers.parseLinkLabel(e,o),o>=0?i=e.src.slice(l,o++):o=f+1):o=f+1,i||(i=e.src.slice(p,f)),s=e.env.references[ve(i)],!s)return e.pos=d,!1;u=s.href,c=s.title}if(!t){r=e.src.slice(p,f);const t=[];e.md.inline.parse(r,e.md,e.env,t);const n=e.push("image","img",0),i=[["src",u],["alt",""]];n.attrs=i,n.children=t,n.content=r,c&&i.push(["title",c])}return e.pos=o,e.posMax=h,!0}],["autolink",function(e,t){let n=e.pos;if(60!==e.src.charCodeAt(n))return!1;const r=e.pos,i=e.posMax;for(;;){if(++n>=i)return!1;const t=e.src.charCodeAt(n);if(60===t)return!1;if(62===t)break}const o=e.src.slice(r+1,n);if(bt.test(o)){const n=e.md.normalizeLink(o);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto",e.push("text","",0).content=e.md.normalizeLinkText(o);const r=e.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return e.pos+=o.length+2,!0}if(vt.test(o)){const n=e.md.normalizeLink("mailto:"+o);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto",e.push("text","",0).content=e.md.normalizeLinkText(o);const r=e.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return e.pos+=o.length+2,!0}return!1}],["html_inline",function(e,t){if(!e.md.options.html)return!1;const n=e.posMax,r=e.pos;if(60!==e.src.charCodeAt(r)||r+2>=n)return!1;const i=e.src.charCodeAt(r+1);if(33!==i&&63!==i&&47!==i&&!function(e){const t=32|e;return t>=97&&t<=122}(i))return!1;const o=e.src.slice(r).match(rt);if(!o)return!1;if(!t){const t=e.push("html_inline","",0);t.content=o[0],s=t.content,/^<a[>\s]/i.test(s)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(t.content)&&e.linkLevel--}var s;return e.pos+=o[0].length,!0}],["entity",function(e,t){const n=e.pos,r=e.posMax;if(38!==e.src.charCodeAt(n))return!1;if(n+1>=r)return!1;if(35===e.src.charCodeAt(n+1)){const r=e.src.slice(n).match(xt);if(r){if(!t){const t="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),n=e.push("text_special","",0);n.content=ee(t)?te(t):te(65533),n.markup=r[0],n.info="entity"}return e.pos+=r[0].length,!0}}else{const r=e.src.slice(n).match(Ot);if(r){const n=B(r[0]);if(n!==r[0]){if(!t){const t=e.push("text_special","",0);t.content=n,t.markup=r[0],t.info="entity"}return e.pos+=r[0].length,!0}}}return!1}]],kt=[["balance_pairs",function(e){const t=e.tokens_meta,n=e.tokens_meta.length;wt(e.delimiters);for(let e=0;e<n;e++)t[e]&&t[e].delimiters&&wt(t[e].delimiters)}],["strikethrough",mt.postProcess],["emphasis",yt.postProcess],["fragments_join",function(e){let t,n,r=0;const i=e.tokens,o=e.tokens.length;for(t=n=0;t<o;t++)i[t].nesting<0&&r--,i[t].level=r,i[t].nesting>0&&r++,"text"===i[t].type&&t+1<o&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}]];function _t(){this.ruler=new Ee;for(let e=0;e<St.length;e++)this.ruler.push(St[e][0],St[e][1]);this.ruler2=new Ee;for(let e=0;e<kt.length;e++)this.ruler2.push(kt[e][0],kt[e][1])}_t.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),r=n.length,i=e.md.options.maxNesting,o=e.cache;if(void 0!==o[t])return void(e.pos=o[t]);let s=!1;if(e.level<i){for(let i=0;i<r;i++)if(e.level++,s=n[i](e,!0),e.level--,s){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;s||e.pos++,o[t]=e.pos},_t.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,r=e.posMax,i=e.md.options.maxNesting;for(;e.pos<r;){const o=e.pos;let s=!1;if(e.level<i)for(let r=0;r<n;r++)if(s=t[r](e,!1),s){if(o>=e.pos)throw new Error("inline rule didn't increment state.pos");break}if(s){if(e.pos>=r)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},_t.prototype.parse=function(e,t,n,r){const i=new this.State(e,t,n,r);this.tokenize(i);const o=this.ruler2.getRules(""),s=o.length;for(let e=0;e<s;e++)o[e](i)},_t.prototype.State=ut;const Pt=_t;function Et(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function Ct(e){return Object.prototype.toString.call(e)}function Tt(e){return"[object Function]"===Ct(e)}function jt(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const It={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},Mt={"http:":{validate:function(e,t,n){const r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},At="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Dt="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function $t(e){const t=e.re=function(e){const t={};e=e||{},t.src_Any=C.source,t.src_Cc=T.source,t.src_Z=I.source,t.src_P=E.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}(e.__opts__),n=e.__tlds__.slice();function r(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push(At),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");const i=[];function o(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){const n=e.__schemas__[t];if(null===n)return;const r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===Ct(n))return"[object RegExp]"!==Ct(n.validate)?Tt(n.validate)?r.validate=n.validate:o(t,n):r.validate=function(e){return function(t,n){const r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(Tt(n.normalize)?r.normalize=n.normalize:n.normalize?o(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===Ct(e)}(n)?o(t,n):i.push(t)})),i.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};const s=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(jt).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function Rt(e,t){const n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function Nt(e,t){const n=new Rt(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function Lt(e,t){if(!(this instanceof Lt))return new Lt(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||It.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=Et({},It,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Et({},Mt,e),this.__compiled__={},this.__tlds__=Dt,this.__tlds_replaced__=!1,this.re={},$t(this)}Lt.prototype.add=function(e,t){return this.__schemas__[e]=t,$t(this),this},Lt.prototype.set=function(e){return this.__opts__=Et(this.__opts__,e),this},Lt.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,n,r,i,o,s,a,c,l;if(this.re.schema_test.test(e))for(a=this.re.schema_search,a.lastIndex=0;null!==(t=a.exec(e));)if(i=this.testSchemaAt(e,t[2],a.lastIndex),i){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=e.indexOf("@"),l>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,s=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=s))),this.__index__>=0},Lt.prototype.pretest=function(e){return this.re.pretest.test(e)},Lt.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},Lt.prototype.match=function(e){const t=[];let n=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(Nt(this,n)),n=this.__last_index__);let r=n?e.slice(n):e;for(;this.test(r);)t.push(Nt(this,n)),r=r.slice(this.__last_index__),n+=this.__last_index__;return t.length?t:null},Lt.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,Nt(this,0)):null},Lt.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),$t(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,$t(this),this)},Lt.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},Lt.prototype.onCompile=function(){};const Qt=Lt,zt=2147483647,Ft=36,Bt=/^xn--/,Zt=/[^\0-\x7F]/,Vt=/[\x2E\u3002\uFF0E\uFF61]/g,Wt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ut=Math.floor,qt=String.fromCharCode;function Yt(e){throw new RangeError(Wt[e])}function Xt(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]);const i=function(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}((e=e.replace(Vt,".")).split("."),t).join(".");return r+i}function Ht(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}const Gt=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},Kt=function(e,t,n){let r=0;for(e=n?Ut(e/700):e>>1,e+=Ut(e/t);e>455;r+=Ft)e=Ut(e/35);return Ut(r+36*e/(e+38))},Jt=function(e){const t=[],n=e.length;let r=0,i=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let n=0;n<s;++n)e.charCodeAt(n)>=128&&Yt("not-basic"),t.push(e.charCodeAt(n));for(let c=s>0?s+1:0;c<n;){const s=r;for(let t=1,i=Ft;;i+=Ft){c>=n&&Yt("invalid-input");const s=(a=e.charCodeAt(c++))>=48&&a<58?a-48+26:a>=65&&a<91?a-65:a>=97&&a<123?a-97:Ft;s>=Ft&&Yt("invalid-input"),s>Ut((zt-r)/t)&&Yt("overflow"),r+=s*t;const l=i<=o?1:i>=o+26?26:i-o;if(s<l)break;const u=Ft-l;t>Ut(zt/u)&&Yt("overflow"),t*=u}const l=t.length+1;o=Kt(r-s,l,0==s),Ut(r/l)>zt-i&&Yt("overflow"),i+=Ut(r/l),r%=l,t.splice(r++,0,i)}var a;return String.fromCodePoint(...t)},en=function(e){const t=[],n=(e=Ht(e)).length;let r=128,i=0,o=72;for(const n of e)n<128&&t.push(qt(n));const s=t.length;let a=s;for(s&&t.push("-");a<n;){let n=zt;for(const t of e)t>=r&&t<n&&(n=t);const c=a+1;n-r>Ut((zt-i)/c)&&Yt("overflow"),i+=(n-r)*c,r=n;for(const n of e)if(n<r&&++i>zt&&Yt("overflow"),n===r){let e=i;for(let n=Ft;;n+=Ft){const r=n<=o?1:n>=o+26?26:n-o;if(e<r)break;const i=e-r,s=Ft-r;t.push(qt(Gt(r+i%s,0))),e=Ut(i/s)}t.push(qt(Gt(e,0))),o=Kt(i,c,a===s),i=0,++a}++i,++r}return t.join("")},tn={version:"2.3.1",ucs2:{decode:Ht,encode:e=>String.fromCodePoint(...e)},decode:Jt,encode:en,toASCII:function(e){return Xt(e,(function(e){return Zt.test(e)?"xn--"+en(e):e}))},toUnicode:function(e){return Xt(e,(function(e){return Bt.test(e)?Jt(e.slice(4).toLowerCase()):e}))}},nn={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},rn=/^(vbscript|javascript|file|data):/,on=/^data:image\/(gif|png|jpeg|webp);/;function sn(e){const t=e.trim().toLowerCase();return!rn.test(t)||on.test(t)}const an=["http:","https:","mailto:"];function cn(e){const t=P(e,!0);if(t.hostname&&(!t.protocol||an.indexOf(t.protocol)>=0))try{t.hostname=tn.toASCII(t.hostname)}catch(e){}return h(p(t))}function ln(e){const t=P(e,!0);if(t.hostname&&(!t.protocol||an.indexOf(t.protocol)>=0))try{t.hostname=tn.toUnicode(t.hostname)}catch(e){}return l(p(t),l.defaultChars+"%")}function un(e,t){if(!(this instanceof un))return new un(e,t);t||X(e)||(t=e||{},e="default"),this.inline=new Pt,this.block=new ct,this.core=new Ye,this.renderer=new _e,this.linkify=new Qt,this.validateLink=sn,this.normalizeLink=cn,this.normalizeLinkText=ln,this.utils=o,this.helpers=K({},s),this.options={},this.configure(e),t&&this.set(t)}un.prototype.set=function(e){return K(this.options,e),this},un.prototype.configure=function(e){const t=this;if(X(e)){const t=e;if(!(e=nn[t]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)})),this},un.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));const r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},un.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));const r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},un.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},un.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},un.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},un.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},un.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const dn=un},67217:(e,t,n)=>{"use strict";n.d(t,{DX:()=>g,yN:()=>B,LV:()=>U});const r=()=>Object.create(null),{forEach:i,slice:o}=Array.prototype,{hasOwnProperty:s}=Object.prototype;class a{constructor(e=!0,t=r){this.weakness=e,this.makeData=t}lookup(...e){return this.lookupArray(e)}lookupArray(e){let t=this;return i.call(e,(e=>t=t.getChildTrie(e))),s.call(t,"data")?t.data:t.data=this.makeData(o.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let t=this;for(let n=0,r=e.length;t&&n<r;++n){const r=this.weakness&&c(e[n])?t.weak:t.strong;t=r&&r.get(e[n])}return t&&t.data}getChildTrie(e){const t=this.weakness&&c(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let n=t.get(e);return n||t.set(e,n=new a(this.weakness,this.makeData)),n}}function c(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}var l=n(23336);let u=null;const d={};let h=1;function p(e){try{return e()}catch(e){}}const f="@wry/context:Slot",m=p((()=>globalThis))||p((()=>global))||Object.create(null),g=m[f]||Array[f]||function(e){try{Object.defineProperty(m,f,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(class{constructor(){this.id=["slot",h++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=u;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===d)break;return e!==u&&(u.slots[this.id]=t),!0}return u&&(u.slots[this.id]=d),!1}getValue(){if(this.hasValue())return u.slots[this.id]}withValue(e,t,n,r){const i={__proto__:null,[this.id]:e},o=u;u={parent:o,slots:i};try{return t.apply(r,n)}finally{u=o}}static bind(e){const t=u;return function(){const n=u;try{return u=t,e.apply(this,arguments)}finally{u=n}}}static noContext(e,t,n){if(!u)return e.apply(n,t);{const r=u;try{return u=null,e.apply(n,t)}finally{u=r}}}}),{bind:y,noContext:v}=g,b=new g,{hasOwnProperty:x}=Object.prototype,O=Array.from||function(e){const t=[];return e.forEach((e=>t.push(e))),t};function w(e){const{unsubscribe:t}=e;"function"==typeof t&&(e.unsubscribe=void 0,t())}const S=[],k=100;function _(e,t){if(!e)throw new Error(t||"assertion failure")}function P(e,t){const n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}function E(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function C(e){return e.slice(0)}class T{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++T.count}peek(){if(1===this.value.length&&!M(this))return j(this),this.value[0]}recompute(e){return _(!this.recomputing,"already recomputing"),j(this),M(this)?function(e,t){return Q(e),b.withValue(e,I,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{w(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){e.dirty=!1,M(e)||D(e)}(e),E(e.value)}(this,e):E(this.value)}setDirty(){this.dirty||(this.dirty=!0,A(this),w(this))}dispose(){this.setDirty(),Q(this),$(this,((e,t)=>{e.setDirty(),z(e,this)}))}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=S.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(O(this.deps).forEach((e=>e.delete(this))),this.deps.clear(),S.push(this.deps),this.deps=null)}}function j(e){const t=b.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),M(e)?R(t,e):N(t,e),t}function I(e,t){e.recomputing=!0;const{normalizeResult:n}=e;let r;n&&1===e.value.length&&(r=C(e.value)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),n&&r&&!P(r,e.value))try{e.value[0]=n(e.value[0],r[0])}catch(e){}}catch(t){e.value[1]=t}e.recomputing=!1}function M(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function A(e){$(e,R)}function D(e){$(e,N)}function $(e,t){const n=e.parents.size;if(n){const r=O(e.parents);for(let i=0;i<n;++i)t(r[i],e)}}function R(e,t){_(e.childValues.has(t)),_(M(t));const n=!M(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=S.pop()||new Set;e.dirtyChildren.add(t),n&&A(e)}function N(e,t){_(e.childValues.has(t)),_(!M(t));const n=e.childValues.get(t);0===n.length?e.childValues.set(t,C(t.value)):P(n,t.value)||e.setDirty(),L(e,t),M(e)||D(e)}function L(e,t){const n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(S.length<k&&S.push(n),e.dirtyChildren=null))}function Q(e){e.childValues.size>0&&e.childValues.forEach(((t,n)=>{z(e,n)})),e.forgetDeps(),_(null===e.dirtyChildren)}function z(e,t){t.parents.delete(e),e.childValues.delete(t),L(e,t)}T.count=0;const F={setDirty:!0,dispose:!0,forget:!0};function B(e){const t=new Map,n=e&&e.subscribe;function r(e){const r=b.getValue();if(r){let i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"==typeof n&&(w(i),i.unsubscribe=n(e))}}return r.dirty=function(e,n){const r=t.get(e);if(r){const i=n&&x.call(F,n)?n:"setDirty";O(r).forEach((e=>e[i]())),t.delete(e),w(r)}},r}let Z;function V(...e){return(Z||(Z=new a("function"==typeof WeakMap))).lookupArray(e)}const W=new Set;function U(e,{max:t=Math.pow(2,16),keyArgs:n,makeCacheKey:r=V,normalizeResult:i,subscribe:o,cache:s=l.C}=Object.create(null)){const a="function"==typeof s?new s(t,(e=>e.dispose())):s,c=function(){const t=r.apply(null,n?n.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let s=a.get(t);s||(a.set(t,s=new T(e)),s.normalizeResult=i,s.subscribe=o,s.forget=()=>a.delete(t));const c=s.recompute(Array.prototype.slice.call(arguments));return a.set(t,s),W.add(a),b.hasValue()||(W.forEach((e=>e.clean())),W.clear()),c};function u(e){const t=e&&a.get(e);t&&t.setDirty()}function d(e){const t=e&&a.get(e);if(t)return t.peek()}function h(e){return!!e&&a.delete(e)}return Object.defineProperty(c,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(c.options={max:t,keyArgs:n,makeCacheKey:r,normalizeResult:i,subscribe:o,cache:a}),c.dirtyKey=u,c.dirty=function(){u(r.apply(null,arguments))},c.peekKey=d,c.peek=function(){return d(r.apply(null,arguments))},c.forgetKey=h,c.forget=function(){return h(r.apply(null,arguments))},c.makeCacheKey=r,c.getKey=n?function(){return r.apply(null,n.apply(null,arguments))}:r,Object.freeze(c)}},56223:(e,t,n)=>{"use strict";n.d(t,{V1:()=>s});var r=/(%?)(%([sdjo]))/g;function i(e,...t){if(0===t.length)return e;let n=0,i=e.replace(r,((e,r,i,o)=>{const s=function(e,t){switch(t){case"s":return e;case"d":case"i":return Number(e);case"j":return JSON.stringify(e);case"o":{if("string"==typeof e)return e;const t=JSON.stringify(e);return"{}"===t||"[]"===t||/^\[object .+?\]$/.test(t)?e:t}}}(t[n],o);return r?e:(n++,s)}));return n<t.length&&(i+=` ${t.slice(n).join(" ")}`),i=i.replace(/%{2,2}/g,"%"),i}var o=class extends Error{constructor(e,...t){super(e),this.message=e,this.name="Invariant Violation",this.message=i(e,...t),function(e){if(!e.stack)return;const t=e.stack.split("\n");t.splice(1,2),e.stack=t.join("\n")}(this)}},s=(e,t,...n)=>{if(!e)throw new o(t,...n)};s.as=(e,t,n,...r)=>{if(!t)throw null!=e.prototype.name?new e(i(n,r)):e(i(n,r))}},86091:(e,t,n)=>{"use strict";n.d(t,{bt:()=>g,dg:()=>p,ZZ:()=>m,Sz:()=>f,ip:()=>v,wm:()=>b,Te:()=>y,po:()=>u,tn:()=>h,yT:()=>d,a6:()=>a,am:()=>l,vT:()=>c,sn:()=>s});const r=e=>t=>1-e(1-t),i=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,o=e=>t=>t*t*((e+1)*t-e),s=e=>e,a=(2,e=>Math.pow(e,2));const c=r(a),l=i(a),u=e=>1-Math.sin(Math.acos(e)),d=r(u),h=i(d),p=o(1.525),f=r(p),m=i(p),g=(e=>{const t=o(1.525);return e=>(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))})(),y=e=>{if(1===e||0===e)return e;const t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},v=r(y),b=e=>e<.5?.5*(1-y(1-2*e)):.5*y(2*e-1)+.5},1858:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});const r=(e,t,n)=>Math.min(Math.max(n,e),t)},49635:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});const r=e=>"number"==typeof e},4648:(e,t,n)=>{"use strict";n.d(t,{G:()=>E});var r=n(34300),i=n(96661),o=n(46166),s=n(28193),a=n(51205),c=n(39942);function l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function u({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,o=0,s=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,a=2*n-r;i=l(a,r,e+1/3),o=l(a,r,e),s=l(a,r,e-1/3)}else i=o=s=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*s),alpha:r}}const d=(e,t,n)=>{const r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},h=[o.u,s.B,a.V],p=e=>h.find((t=>t.test(e))),f=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,m=(e,t)=>{let n=p(e),r=p(t);(0,c.V)(!!n,f(e)),(0,c.V)(!!r,f(t));let o=n.parse(e),l=r.parse(t);n===a.V&&(o=u(o),n=s.B),r===a.V&&(l=u(l),r=s.B);const h=Object.assign({},o);return e=>{for(const t in h)"alpha"!==t&&(h[t]=d(o[t],l[t],e));return h.alpha=(0,i.j)(o.alpha,l.alpha,e),n.transform(h)}};var g=n(45297),y=n(88652),v=n(49635),b=n(16173);function x(e,t){return(0,v.T)(e)?n=>(0,i.j)(e,t,n):g.y.test(e)?m(e,t):k(e,t)}const O=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>x(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},w=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=x(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}};function S(e){const t=y.f.parse(e),n=t.length;let r=0,i=0,o=0;for(let e=0;e<n;e++)r||"number"==typeof t[e]?r++:void 0!==t[e].hue?o++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:o}}const k=(e,t)=>{const n=y.f.createTransformer(t),r=S(e),i=S(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?(0,b.F)(O(r.parsed,i.parsed),n):((0,c.$)(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),n=>`${n>0?t:e}`)};var _=n(1858);const P=(e,t)=>n=>(0,i.j)(e,t,n);function E(e,t,{clamp:n=!0,ease:i,mixer:o}={}){const s=e.length;(0,c.V)(s===t.length,"Both input and output ranges must be the same length"),(0,c.V)(!i||!Array.isArray(i)||i.length===s-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[s-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const a=function(e,t,n){const r=[],i=n||("number"==typeof(o=e[0])?P:"string"==typeof o?g.y.test(o)?m:k:Array.isArray(o)?O:"object"==typeof o?w:void 0);var o;const s=e.length-1;for(let n=0;n<s;n++){let o=i(e[n],e[n+1]);if(t){const e=Array.isArray(t)?t[n]:t;o=(0,b.F)(e,o)}r.push(o)}return r}(t,i,o),l=2===s?function([e,t],[n]){return i=>n((0,r.q)(e,t,i))}(e,a):function(e,t){const n=e.length,i=n-1;return o=>{let s=0,a=!1;if(o<=e[0]?a=!0:o>=e[i]&&(s=i-1,a=!0),!a){let t=1;for(;t<n&&!(e[t]>o||t===i);t++);s=t-1}const c=(0,r.q)(e[s],e[s+1],o);return t[s](c)}}(e,a);return n?t=>l((0,_.q)(e[0],e[s-1],t)):l}},96661:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});const r=(e,t,n)=>-n*e+n*t+e},16173:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});const r=(e,t)=>n=>t(e(n)),i=(...e)=>e.reduce(r)},34300:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});const r=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r}},62031:(e,t,n)=>{"use strict";function r(e,t){return t?e*(1e3/t):0}n.d(t,{f:()=>r})},39204:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var r,i=({dispatch:e,getState:t})=>n=>i=>"function"==typeof i?i(e,t,r):n(i)},93496:(e,t,n)=>{"use strict";function r(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}n.d(t,{HY:()=>l,Tw:()=>d,Yl:()=>c,Zz:()=>u});var i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),o=()=>Math.random().toString(36).substring(7).split("").join("."),s={INIT:`@@redux/INIT${o()}`,REPLACE:`@@redux/REPLACE${o()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${o()}`};function a(e,t,n){if("function"!=typeof e)throw new Error(r(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(r(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(r(1));return n(a)(e,t)}let o=e,c=t,l=new Map,u=l,d=0,h=!1;function p(){u===l&&(u=new Map,l.forEach(((e,t)=>{u.set(t,e)})))}function f(){if(h)throw new Error(r(3));return c}function m(e){if("function"!=typeof e)throw new Error(r(4));if(h)throw new Error(r(5));let t=!0;p();const n=d++;return u.set(n,e),function(){if(t){if(h)throw new Error(r(6));t=!1,p(),u.delete(n),l=null}}}function g(e){if(!function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(r(7));if(void 0===e.type)throw new Error(r(8));if("string"!=typeof e.type)throw new Error(r(17));if(h)throw new Error(r(9));try{h=!0,c=o(c,e)}finally{h=!1}return(l=u).forEach((e=>{e()})),e}return g({type:s.INIT}),{dispatch:g,subscribe:m,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error(r(10));o=e,g({type:s.REPLACE})},[i]:function(){const e=m;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(r(11));function n(){const e=t;e.next&&e.next(f())}return n(),{unsubscribe:e(n)}},[i](){return this}}}}}function c(e,t,n){return a(e,t,n)}function l(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}const i=Object.keys(n);let o;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if(void 0===n(void 0,{type:s.INIT}))throw new Error(r(12));if(void 0===n(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw new Error(r(13))}))}(n)}catch(e){o=e}return function(e={},t){if(o)throw o;let s=!1;const a={};for(let o=0;o<i.length;o++){const c=i[o],l=n[c],u=e[c],d=l(u,t);if(void 0===d)throw t&&t.type,new Error(r(14));a[c]=d,s=s||d!==u}return s=s||i.length!==Object.keys(e).length,s?a:e}}function u(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}function d(...e){return t=>(n,i)=>{const o=t(n,i);let s=()=>{throw new Error(r(15))};const a={getState:o.getState,dispatch:(e,...t)=>s(e,...t)},c=e.map((e=>e(a)));return s=u(...c)(o.dispatch),{...o,dispatch:s}}}},46166:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(28193);const i={test:(0,n(25270).$)("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:r.B.transform}},51205:(e,t,n)=>{"use strict";n.d(t,{V:()=>a});var r=n(88886),i=n(95639),o=n(63050),s=n(25270);const a={test:(0,s.$)("hsl","hue"),parse:(0,s.q)("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+i.KN.transform((0,o.aj)(t))+", "+i.KN.transform((0,o.aj)(n))+", "+(0,o.aj)(r.X4.transform(s))+")"}},45297:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});var r=n(63050),i=n(46166),o=n(51205),s=n(28193);const a={test:e=>s.B.test(e)||i.u.test(e)||o.V.test(e),parse:e=>s.B.test(e)?s.B.parse(e):o.V.test(e)?o.V.parse(e):i.u.parse(e),transform:e=>(0,r.Kg)(e)?e:e.hasOwnProperty("red")?s.B.transform(e):o.V.transform(e)}},28193:(e,t,n)=>{"use strict";n.d(t,{B:()=>c});var r=n(88886),i=n(63050),o=n(25270);const s=(0,i.qE)(0,255),a=Object.assign(Object.assign({},r.ai),{transform:e=>Math.round(s(e))}),c={test:(0,o.$)("rgb","red"),parse:(0,o.q)("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:o=1})=>"rgba("+a.transform(e)+", "+a.transform(t)+", "+a.transform(n)+", "+(0,i.aj)(r.X4.transform(o))+")"}},25270:(e,t,n)=>{"use strict";n.d(t,{$:()=>i,q:()=>o});var r=n(63050);const i=(e,t)=>n=>Boolean((0,r.Kg)(n)&&r.Fl.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),o=(e,t,n)=>i=>{if(!(0,r.Kg)(i))return i;const[o,s,a,c]=i.match(r.SY);return{[e]:parseFloat(o),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==c?parseFloat(c):1}}},41026:(e,t,n)=>{"use strict";n.d(t,{p:()=>c});var r=n(88652),i=n(63050);const o=new Set(["brightness","contrast","saturate","opacity"]);function s(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(i.SY)||[];if(!r)return e;const s=n.replace(r,"");let a=o.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const a=/([a-z-]*)\(.*?\)/g,c=Object.assign(Object.assign({},r.f),{getAnimatableNone:e=>{const t=e.match(a);return t?t.map(s).join(" "):e}})},88652:(e,t,n)=>{"use strict";n.d(t,{f:()=>h});var r=n(45297),i=n(88886),o=n(63050);const s="${c}",a="${n}";function c(e){"number"==typeof e&&(e=`${e}`);const t=[];let n=0;const c=e.match(o.ne);c&&(n=c.length,e=e.replace(o.ne,s),t.push(...c.map(r.y.parse)));const l=e.match(o.SY);return l&&(e=e.replace(o.SY,a),t.push(...l.map(i.ai.parse))),{values:t,numColors:n,tokenised:e}}function l(e){return c(e).values}function u(e){const{values:t,numColors:n,tokenised:i}=c(e),l=t.length;return e=>{let t=i;for(let i=0;i<l;i++)t=t.replace(i<n?s:a,i<n?r.y.transform(e[i]):(0,o.aj)(e[i]));return t}}const d=e=>"number"==typeof e?0:e,h={test:function(e){var t,n,r,i;return isNaN(e)&&(0,o.Kg)(e)&&(null!==(n=null===(t=e.match(o.SY))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(o.ne))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:l,createTransformer:u,getAnimatableNone:function(e){const t=l(e);return u(e)(t.map(d))}}},88886:(e,t,n)=>{"use strict";n.d(t,{X4:()=>o,ai:()=>i,hs:()=>s});var r=n(63050);const i={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},o=Object.assign(Object.assign({},i),{transform:(0,r.qE)(0,1)}),s=Object.assign(Object.assign({},i),{default:1})},95639:(e,t,n)=>{"use strict";n.d(t,{KN:()=>s,gQ:()=>u,px:()=>a,uj:()=>o,vh:()=>c,vw:()=>l});var r=n(63050);const i=e=>({test:t=>(0,r.Kg)(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),o=i("deg"),s=i("%"),a=i("px"),c=i("vh"),l=i("vw"),u=Object.assign(Object.assign({},s),{parse:e=>s.parse(e)/100,transform:e=>s.transform(100*e)})},63050:(e,t,n)=>{"use strict";n.d(t,{Fl:()=>a,Kg:()=>c,SY:()=>o,aj:()=>i,ne:()=>s,qE:()=>r});const r=(e,t)=>n=>Math.max(Math.min(n,t),e),i=e=>e%1?Number(e.toFixed(5)):e,o=/(-)?([\d]*\.?[\d])+/g,s=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,a=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function c(e){return"string"==typeof e}},46903:(e,t,n)=>{"use strict";n.d(t,{IO:()=>d,LU:()=>c,MS:()=>r,Sv:()=>u,XZ:()=>a,YK:()=>s,j:()=>o,vd:()=>i,yE:()=>l});var r="-ms-",i="-moz-",o="-webkit-",s="comm",a="rule",c="decl",l="@import",u="@keyframes",d="@layer"},39574:(e,t,n)=>{"use strict";n.d(t,{MY:()=>o,r1:()=>i});var r=n(75612);function i(e){var t=(0,r.FK)(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function o(e){return function(t){t.root||(t=t.return)&&e(t)}}},16253:(e,t,n)=>{"use strict";n.d(t,{wE:()=>s});var r=n(46903),i=n(75612),o=n(95093);function s(e){return(0,o.VF)(a("",null,null,null,[""],e=(0,o.c4)(e),0,[0],e))}function a(e,t,n,r,s,d,h,p,f){for(var m=0,g=0,y=h,v=0,b=0,x=0,O=1,w=1,S=1,k=0,_="",P=s,E=d,C=r,T=_;w;)switch(x=k,k=(0,o.K2)()){case 40:if(108!=x&&58==(0,i.wN)(T,y-1)){-1!=(0,i.K5)(T+=(0,i.HC)((0,o.Tb)(k),"&","&\f"),"&\f")&&(S=-1);break}case 34:case 39:case 91:T+=(0,o.Tb)(k);break;case 9:case 10:case 13:case 32:T+=(0,o.mw)(x);break;case 92:T+=(0,o.Nc)((0,o.OW)()-1,7);continue;case 47:switch((0,o.se)()){case 42:case 47:(0,i.BC)(l((0,o.nf)((0,o.K2)(),(0,o.OW)()),t,n),f);break;default:T+="/"}break;case 123*O:p[m++]=(0,i.b2)(T)*S;case 125*O:case 59:case 0:switch(k){case 0:case 125:w=0;case 59+g:-1==S&&(T=(0,i.HC)(T,/\f/g,"")),b>0&&(0,i.b2)(T)-y&&(0,i.BC)(b>32?u(T+";",r,n,y-1):u((0,i.HC)(T," ","")+";",r,n,y-2),f);break;case 59:T+=";";default:if((0,i.BC)(C=c(T,t,n,m,g,s,p,_,P=[],E=[],y),d),123===k)if(0===g)a(T,t,C,C,P,d,y,p,E);else switch(99===v&&110===(0,i.wN)(T,3)?100:v){case 100:case 108:case 109:case 115:a(e,C,C,r&&(0,i.BC)(c(e,C,C,0,0,s,p,_,s,P=[],y),E),s,E,y,p,r?P:E);break;default:a(T,C,C,C,[""],E,0,p,E)}}m=g=b=0,O=S=1,_=T="",y=h;break;case 58:y=1+(0,i.b2)(T),b=x;default:if(O<1)if(123==k)--O;else if(125==k&&0==O++&&125==(0,o.YL)())continue;switch(T+=(0,i.HT)(k),k*O){case 38:S=g>0?1:(T+="\f",-1);break;case 44:p[m++]=((0,i.b2)(T)-1)*S,S=1;break;case 64:45===(0,o.se)()&&(T+=(0,o.Tb)((0,o.K2)())),v=(0,o.se)(),g=y=(0,i.b2)(_=T+=(0,o.Cv)((0,o.OW)())),k++;break;case 45:45===x&&2==(0,i.b2)(T)&&(O=0)}}return d}function c(e,t,n,s,a,c,l,u,d,h,p){for(var f=a-1,m=0===a?c:[""],g=(0,i.FK)(m),y=0,v=0,b=0;y<s;++y)for(var x=0,O=(0,i.c1)(e,f+1,f=(0,i.tn)(v=l[y])),w=e;x<g;++x)(w=(0,i.Bq)(v>0?m[x]+" "+O:(0,i.HC)(O,/&\f/g,m[x])))&&(d[b++]=w);return(0,o.rH)(e,t,n,0===a?r.XZ:u,d,h,p)}function l(e,t,n){return(0,o.rH)(e,t,n,r.YK,(0,i.HT)((0,o.Tp)()),(0,i.c1)(e,2,-2),0)}function u(e,t,n,s){return(0,o.rH)(e,t,n,r.LU,(0,i.c1)(e,0,s),(0,i.c1)(e,s+1,-1),s)}},3746:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,l:()=>o});var r=n(46903),i=n(75612);function o(e,t){for(var n="",r=(0,i.FK)(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function s(e,t,n,s){switch(e.type){case r.IO:if(e.children.length)break;case r.yE:case r.LU:return e.return=e.return||e.value;case r.YK:return"";case r.Sv:return e.return=e.value+"{"+o(e.children,s)+"}";case r.XZ:e.value=e.props.join(",")}return(0,i.b2)(n=o(e.children,s))?e.return=e.value+"{"+n+"}":""}},95093:(e,t,n)=>{"use strict";n.d(t,{C:()=>d,Cv:()=>P,G1:()=>a,K2:()=>f,Nc:()=>S,OW:()=>g,Sh:()=>v,Tb:()=>O,Tp:()=>h,VF:()=>x,YL:()=>p,c4:()=>b,di:()=>y,mw:()=>w,nf:()=>_,rH:()=>u,se:()=>m});var r=n(75612),i=1,o=1,s=0,a=0,c=0,l="";function u(e,t,n,r,s,a,c){return{value:e,root:t,parent:n,type:r,props:s,children:a,line:i,column:o,length:c,return:""}}function d(e,t){return(0,r.kp)(u("",null,null,"",null,null,0),e,{length:-e.length},t)}function h(){return c}function p(){return c=a>0?(0,r.wN)(l,--a):0,o--,10===c&&(o=1,i--),c}function f(){return c=a<s?(0,r.wN)(l,a++):0,o++,10===c&&(o=1,i++),c}function m(){return(0,r.wN)(l,a)}function g(){return a}function y(e,t){return(0,r.c1)(l,e,t)}function v(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function b(e){return i=o=1,s=(0,r.b2)(l=e),a=0,[]}function x(e){return l="",e}function O(e){return(0,r.Bq)(y(a-1,k(91===e?e+2:40===e?e+1:e)))}function w(e){for(;(c=m())&&c<33;)f();return v(e)>2||v(c)>3?"":" "}function S(e,t){for(;--t&&f()&&!(c<48||c>102||c>57&&c<65||c>70&&c<97););return y(e,g()+(t<6&&32==m()&&32==f()))}function k(e){for(;f();)switch(c){case e:return a;case 34:case 39:34!==e&&39!==e&&k(c);break;case 40:41===e&&k(e);break;case 92:f()}return a}function _(e,t){for(;f()&&e+c!==57&&(e+c!==84||47!==m()););return"/*"+y(t,a-1)+"*"+(0,r.HT)(47===e?e:f())}function P(e){for(;!v(m());)f();return y(e,a)}},75612:(e,t,n)=>{"use strict";n.d(t,{BC:()=>m,Bq:()=>a,FK:()=>f,HC:()=>l,HT:()=>i,K5:()=>u,YW:()=>c,b2:()=>p,c1:()=>h,kg:()=>g,kp:()=>o,tW:()=>s,tn:()=>r,wN:()=>d});var r=Math.abs,i=String.fromCharCode,o=Object.assign;function s(e,t){return 45^d(e,0)?(((t<<2^d(e,0))<<2^d(e,1))<<2^d(e,2))<<2^d(e,3):0}function a(e){return e.trim()}function c(e,t){return(e=t.exec(e))?e[0]:e}function l(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function d(e,t){return 0|e.charCodeAt(t)}function h(e,t,n){return e.slice(t,n)}function p(e){return e.length}function f(e){return e.length}function m(e,t){return t.push(e),e}function g(e,t){return e.map(t).join("")}},58932:(e,t,n)=>{"use strict";n.d(t,{C6:()=>i,Cl:()=>o,Tt:()=>s,YH:()=>c,fX:()=>l,sH:()=>a});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},51759:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{c:()=>S});var s=function(){return"function"==typeof Symbol},a=function(e){return s()&&Boolean(Symbol[e])},c=function(e){return a(e)?Symbol[e]:"@@"+e};s()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var l=c("iterator"),u=c("observable"),d=c("species");function h(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function p(e){var t=e.constructor;return void 0!==t&&null===(t=t[d])&&(t=void 0),void 0!==t?t:S}function f(e){return e instanceof S}function m(e){m.log?m.log(e):setTimeout((function(){throw e}))}function g(e){Promise.resolve().then((function(){try{e()}catch(e){m(e)}}))}function y(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=h(t,"unsubscribe");n&&n.call(t)}}catch(e){m(e)}}function v(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function b(e,t,n){e._state="running";var r=e._observer;try{var i=h(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(v(e),!i)throw n;i.call(r,n);break;case"complete":v(e),i&&i.call(r)}}catch(e){m(e)}"closed"===e._state?y(e):"running"===e._state&&(e._state="ready")}function x(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void g((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(b(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void b(e,t,n);e._queue.push({type:t,value:n})}}var O=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new w(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(v(this),y(this))},o(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),w=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){x(this._subscription,"next",e)},t.error=function(e){x(this._subscription,"error",e)},t.complete=function(){x(this._subscription,"complete")},o(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),S=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new O(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=p(this),r=arguments.length>1,i=!1,o=arguments[1];return new n((function(n){return t.subscribe({next:function(t){var s=!i;if(i=!0,!s||r)try{o=e(o,t)}catch(e){return n.error(e)}else o=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=p(this);return new i((function(t){var r,o=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=p(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),s()}});i.push(o)},error:function(e){r.error(e)},complete:function(){s()}});function s(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))},t[u]=function(){return this},e.from=function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var i=h(t,u);if(i){var o=i.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return f(o)&&o.constructor===n?o:new n((function(e){return o.subscribe(e)}))}if(a("iterator")&&(i=h(t,l)))return new n((function(e){g((function(){if(!e.closed){for(var n,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i.call(t));!(n=o()).done;){var s=n.value;if(e.next(s),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){g((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new("function"==typeof this?this:e)((function(e){g((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},o(e,null,[{key:d,get:function(){return this}}]),e}();s()&&Object.defineProperty(S,Symbol("extensions"),{value:{symbol:u,hostReportError:m},configurable:!0})}}]);