{"version":3,"file":"vendor-emotion-b6be8fb24203116157ca.js","mappings":"+PAKA,MAAMA,EAAa,GAWbC,EAAmB,KAAM,CAC3BC,KAAM,EACNC,EAZyB,CACzBC,QAAS,EACTC,OAAQ,GACRC,SAAU,EACVC,aAAc,EACdC,aAAc,EACdC,aAAc,EACdC,gBAAiB,EACjBC,SAAU,GAKVC,EAbyB,CACzBR,QAAS,EACTC,OAAQ,GACRC,SAAU,EACVC,aAAc,EACdC,aAAc,EACdC,aAAc,EACdC,gBAAiB,EACjBC,SAAU,KAORE,EAAO,CACTV,EAAG,CACCW,OAAQ,QACRC,SAAU,QAEdH,EAAG,CACCE,OAAQ,SACRC,SAAU,QAGlB,SAASC,EAAeC,EAASC,EAAUC,EAAMjB,GAC7C,MAAMkB,EAAOD,EAAKD,IACZ,OAAEJ,EAAM,SAAEC,GAAaF,EAAKK,GAC5BG,EAAOD,EAAKhB,QACZkB,EAAWH,EAAKjB,KACtBkB,EAAKhB,QAAUa,EAAQ,SAASF,KAChCK,EAAKb,aAAeU,EAAQ,SAASH,KAAYG,EAAQ,SAASH,KAClEM,EAAKf,OAAOS,OAAS,EACrBM,EAAKf,OAAO,GAAK,EACjBe,EAAKf,OAAO,GAAKe,EAAKb,aACtBa,EAAKd,UAAW,EAAAA,EAAA,GAAS,EAAGc,EAAKb,aAAca,EAAKhB,SACpD,MAAMmB,EAAUrB,EAAOoB,EACvBF,EAAKT,SACDY,EAAUvB,EACJ,GACA,OAAkBoB,EAAKhB,QAAUiB,EAAME,EACrD,C,+CC/CA,MAAMC,EAAa,CACfC,MAAO,EACPC,OAAQ,GACRC,IAAK,GAET,SAASC,EAAYC,EAAMf,EAAQgB,EAAQ,GACvC,IAAIC,EAAQ,EAWZ,GANIF,KAAQL,IACRK,EAAOL,EAAWK,IAKF,iBAATA,EAAmB,CAC1B,MAAMG,EAAWC,WAAWJ,GACxBA,EAAKK,SAAS,MACdH,EAAQC,EAEHH,EAAKK,SAAS,KACnBL,EAAOG,EAAW,IAEbH,EAAKK,SAAS,MACnBH,EAASC,EAAW,IAAOG,SAASC,gBAAgBC,YAE/CR,EAAKK,SAAS,MACnBH,EAASC,EAAW,IAAOG,SAASC,gBAAgBE,aAGpDT,EAAOG,CAEf,CAOA,MAHoB,iBAATH,IACPE,EAAQjB,EAASe,GAEdC,EAAQC,CACnB,CCxCA,MAAMQ,EAAgB,CAAC,EAAG,GAC1B,SAASC,EAAcnC,EAAQK,EAAiBD,EAAcgC,GAC1D,IAAIC,EAAmBC,MAAMC,QAAQvC,GAAUA,EAASkC,EACpDM,EAAc,EACdC,EAAiB,EAyBrB,MAxBsB,iBAAXzC,EAMPqC,EAAmB,CAACrC,EAAQA,GAEL,iBAAXA,IAGRqC,GAFJrC,EAASA,EAAO0C,QACLC,SAAS,KACG3C,EAAO4C,MAAM,KAQb,CAAC5C,EAAQmB,EAAWnB,GAAUA,EAAS,MAGlEwC,EAAcjB,EAAYc,EAAiB,GAAIjC,EAAcgC,GAC7DK,EAAiBlB,EAAYc,EAAiB,GAAIhC,GAC3CmC,EAAcC,CACzB,CChCA,MAAMI,EAAe,CACjBC,MAAO,CACH,CAAC,EAAG,GACJ,CAAC,EAAG,IAERC,KAAM,CACF,CAAC,EAAG,GACJ,CAAC,EAAG,IAERC,IAAK,CACD,CAAC,EAAG,GACJ,CAAC,EAAG,IAERC,IAAK,CACD,CAAC,EAAG,GACJ,CAAC,EAAG,KCTNC,EAAQ,CAAEpD,EAAG,EAAGS,EAAG,GC4BzB,SAAS4C,EAAsBvC,EAASwC,EAAUtC,EAAMuC,EAAU,CAAC,GAC/D,MAAO,CACHC,QAAUzD,KAhClB,SAAiB0D,EAAWC,EAASD,EAAWzC,GAM5C,GAFAA,EAAKhB,EAAEK,aAAe,EACtBW,EAAKP,EAAEJ,aAAe,EAClBqD,IAAWD,EAAW,CACtB,IAAIE,EAAOD,EACX,KAAOC,GAAQA,IAASF,GACpBzC,EAAKhB,EAAEK,cAAgBsD,EAAKC,WAC5B5C,EAAKP,EAAEJ,cAAgBsD,EAAKE,UAC5BF,EAAOA,EAAKG,YAEpB,CACA9C,EAAKhB,EAAEM,aACHoD,IAAWD,EAAYC,EAAOK,YAAcL,EAAOxB,YACvDlB,EAAKP,EAAEH,aACHoD,IAAWD,EAAYC,EAAOM,aAAeN,EAAOvB,aACxDnB,EAAKhB,EAAEO,gBAAkBkD,EAAUvB,YACnClB,EAAKP,EAAEF,gBAAkBkD,EAAUtB,YAUvC,CAIYqB,CAAQ1C,EAASyC,EAAQG,OAAQ1C,GLW7C,SAA0BF,EAASE,EAAMjB,GACrCc,EAAeC,EAAS,IAAKE,EAAMjB,GACnCc,EAAeC,EAAS,IAAKE,EAAMjB,GACnCiB,EAAKjB,KAAOA,CAChB,CKdYkE,CAAiBnD,EAASE,EAAMjB,IAC5BwD,EAAQrD,QAAUqD,EAAQG,SD3B1C,SAAwBD,EAAWzC,EAAMuC,GACrC,MAAQrD,OAAQqC,EAAmBQ,EAAaI,KAAQI,GAClD,OAAEG,EAASD,EAAS,KAAExC,EAAO,KAAQsC,EACrCW,EAAuB,MAATjD,EAAe,SAAW,QACxCU,EAAQ+B,IAAWD,EEd7B,SAAmB3C,EAAS2C,GACxB,MAAM9B,EAAQ,CAAE3B,EAAG,EAAGS,EAAG,GACzB,IAAIR,EAAUa,EACd,KAAOb,GAAWA,IAAYwD,GAC1B,IAAI,OAAcxD,GACd0B,EAAM3B,GAAKC,EAAQ2D,WACnBjC,EAAMlB,GAAKR,EAAQ4D,UACnB5D,EAAUA,EAAQ6D,kBAEjB,GAAwB,QAApB7D,EAAQkE,QAAmB,CAQhC,MAAMC,EAAiBnE,EAAQoE,wBAC/BpE,EAAUA,EAAQqE,cAClB,MAAMC,EAAoBtE,EAAQoE,wBAClC1C,EAAM3B,GAAKoE,EAAeI,KAAOD,EAAkBC,KACnD7C,EAAMlB,GAAK2D,EAAeK,IAAMF,EAAkBE,GACtD,KACK,MAAIxE,aAAmByE,oBAexB,MAf4C,CAC5C,MAAM,EAAE1E,EAAC,EAAES,GAAMR,EAAQ0E,UACzBhD,EAAM3B,GAAKA,EACX2B,EAAMlB,GAAKA,EACX,IAAImE,EAAM,KACNC,EAAS5E,EAAQ6E,WACrB,MAAQF,GACmB,QAAnBC,EAAOV,UACPS,EAAMC,GAEVA,EAAS5E,EAAQ6E,WAErB7E,EAAU2E,CACd,CAGA,CAEJ,OAAOjD,CACX,CF5ByCoD,CAAUrB,EAAQD,GAAaL,EAM9D4B,EAAatB,IAAWD,EACxB,CAAEwB,MAAOxB,EAAUM,YAAamB,OAAQzB,EAAUO,cAhB5D,SAAuBN,GACnB,MAAO,YAAaA,GAA6B,QAAnBA,EAAOS,QAC/BT,EAAOiB,UACP,CAAEM,MAAOvB,EAAOxB,YAAagD,OAAQxB,EAAOvB,aACtD,CAaUgD,CAAczB,GACd0B,EAAgB,CAClBH,MAAOxB,EAAUvB,YACjBgD,OAAQzB,EAAUtB,cAMtBnB,EAAKC,GAAMf,OAAOS,OAAS,EAK3B,IAAI0E,GAAcrE,EAAKC,GAAMqE,YAC7B,MAAMC,EAAahD,EAAiB5B,OACpC,IAAK,IAAI6E,EAAI,EAAGA,EAAID,EAAYC,IAAK,CACjC,MAAMtF,EAASmC,EAAcE,EAAiBiD,GAAIJ,EAAclB,GAAcc,EAAWd,GAAcvC,EAAMV,IACxGoE,GAAcnF,IAAWc,EAAKC,GAAMwE,oBAAoBD,KACzDH,GAAa,GAEjBrE,EAAKC,GAAMf,OAAOsF,GAAKtF,CAC3B,CAKImF,IACArE,EAAKC,GAAMqE,aAAc,EAAAA,EAAA,GAAYtE,EAAKC,GAAMf,QAAQ,OAAcqC,GAAmB,CAAEmD,OAAO,IAClG1E,EAAKC,GAAMwE,oBAAsB,IAAIzE,EAAKC,GAAMf,SAEpDc,EAAKC,GAAMd,UAAW,EAAAuF,EAAA,GAAM,EAAG,EAAG1E,EAAKC,GAAMqE,YAAYtE,EAAKC,GAAMhB,SACxE,CChBgB0F,CAAe7E,EAASE,EAAMuC,EAClC,EAEJqC,OAAQ,IAAMtC,EAAStC,GAE/B,CExCA,MAAM6E,EAAkB,IAAIC,QACtBC,EAAkB,IAAID,QACtBE,EAAmB,IAAIF,QACvBG,EAAkBnF,GAAYA,IAAYkB,SAASkE,iBAAmBC,OAASrF,EACrF,SAASsF,EAAW9C,GAAU,UAAEG,EAAYzB,SAASkE,oBAAqB3C,GAAY,CAAC,GACnF,IAAKE,EACD,OAAO4C,EAAA,EACX,IAAIC,EAAoBN,EAAiBO,IAAI9C,GAKxC6C,IACDA,EAAoB,IAAIE,IACxBR,EAAiBS,IAAIhD,EAAW6C,IAKpC,MAAMtF,EAAOlB,IACP4G,EAAmBrD,EAAsBI,EAAWH,EAAUtC,EAAMuC,GAM1E,GALA+C,EAAkBK,IAAID,IAKjBb,EAAgBe,IAAInD,GAAY,CACjC,MAAMoD,EAAa,KACf,IAAK,MAAMC,KAAWR,EAClBQ,EAAQtD,QAAQ,KAAUuD,WAE9B,KAAMC,UAAUC,EAAU,EAExBA,EAAY,KACd,IAAK,MAAMH,KAAWR,EAClBQ,EAAQlB,QACZ,EAEEsB,EAAW,IAAM,KAAMC,KAAKN,GAClChB,EAAgBY,IAAIhD,EAAWyD,GAC/B,MAAMxD,EAASuC,EAAexC,GAC9B0C,OAAOiB,iBAAiB,SAAUF,EAAU,CAAEG,SAAS,IACnD5D,IAAczB,SAASC,iBACvB8D,EAAgBU,IAAIhD,GAAW,EAAA6D,EAAA,GAAO7D,EAAWyD,IAErDxD,EAAO0D,iBAAiB,SAAUF,EAAU,CAAEG,SAAS,IACvDH,GACJ,CACA,MAAMA,EAAWrB,EAAgBU,IAAI9C,GAErC,OADA,KAAM0D,KAAKD,GAAU,GAAO,GACrB,MACH,QAAYA,GAIZ,MAAMK,EAAkBvB,EAAiBO,IAAI9C,GAC7C,IAAK8D,EACD,OAEJ,GADAA,EAAgBC,OAAOd,GACnBa,EAAgBE,KAChB,OAIJ,MAAMC,EAAiB7B,EAAgBU,IAAI9C,GAC3CoC,EAAgB2B,OAAO/D,GACnBiE,IACAzB,EAAexC,GAAWkE,oBAAoB,SAAUD,GACxD3B,EAAgBQ,IAAI9C,EAApBsC,KACAI,OAAOwB,oBAAoB,SAAUD,GACzC,CAER,CC1EA,MAAME,EAAgB,IAAIC,IAQ1B,SAASC,GAAY,OAAEC,EAAM,UAAEtE,KAAcF,IACzC,MAAM,KAAEtC,GAASsC,EACbwE,IACAtE,EAAYsE,GAChB,MAAMC,EAAiBJ,EAAcrB,IAAI9C,IAAc,IAAIoE,IAC3DD,EAAcnB,IAAIhD,EAAWuE,GAC7B,MAAMC,EAAY1E,EAAQG,QAAU,OAC9BwE,EAAcF,EAAezB,IAAI0B,IAAc,CAAC,EAChDE,EAAUlH,GAAQsC,EAAQrD,QAAU,IAAIkI,KAAK,KAOnD,OANKF,EAAYC,KACbD,EAAYC,IACP5E,EAAQG,SAAU,SACb,IAAI2E,eAAe,CAAEN,OAAQtE,EAAWxC,SAnB1D,SAAgCsC,GAC5B,MAAM+E,EAAc,CAAEC,MAAO,GACvBC,EAASpC,GAAYpF,IACvBsH,EAAYC,MAAsC,IAA9BvH,EAAKuC,EAAQtC,MAAMd,QAAc,GACtDoD,GACH,MAAO,CAAE+E,cAAaE,SAC1B,CAckBC,CAAuB,CAAEhF,eAAcF,KAE9C2E,EAAYC,EACvB,C,yBCnBA,MAAMO,EAA2B,KAAM,CACnCC,SAAS,QAAY,GACrBC,SAAS,QAAY,GACrBC,iBAAiB,QAAY,GAC7BC,iBAAiB,QAAY,KAE3BC,EAAgBC,KACbA,IAEGA,EAAI/I,QAEhB,SAASgJ,GAAU,UAAExF,EAAS,OAAEC,KAAWH,GAAY,CAAC,GACpD,MAAM2F,GAAS,OAAYR,GACrBS,GAAkB,IAAAC,QAAO,MACzBC,GAAa,IAAAD,SAAO,GACpB9H,GAAQ,IAAAgI,cAAY,KACtBH,EAAgBlJ,QCpBxB,SAAgBqD,GAAU,KAAErC,EAAO,IAAG,UAAEwC,EAAYzB,SAASkE,oBAAqB3C,GAAY,CAAC,GAC3F,IAAKE,EACD,OAAO4C,EAAA,EACX,MAAMkD,EAAsB,CAAEtI,OAAMwC,eAAcF,GAClD,MAA2B,mBAAbD,ECGlB,SAA0BA,EAAUC,GAChC,OAJJ,SAA4BD,GACxB,OAA2B,IAApBA,EAAS3C,MACpB,CAEQ6I,CAAmBlG,GACZ8C,GAAYpF,IACfsC,EAAStC,EAAKuC,EAAQtC,MAAMd,SAAUa,EAAK,GAC5CuC,IAGI,EAAAkG,EAAA,GAAgBnG,EAAUwE,EAAYvE,GAErD,CDXUmG,CAAiBpG,EAAUiG,GENrC,SAA2BI,EAAWpG,GAClC,MAAMqG,EAAW9B,EAAYvE,GAC7B,OAAOoG,EAAUE,eAAe,CAC5BD,SAAUrG,EAAQG,YAASoG,EAAYF,EACvCH,QAAUM,IACNA,EAAeC,SACR,EAAAP,EAAA,IAAiBtJ,IACpB4J,EAAehK,KACXgK,EAAeE,kBAAoB9J,CAAQ,GAChDyJ,KAGf,CFLUM,CAAkB5G,EAAUiG,EACtC,CDakC,EAAO,CAACY,GAAanK,IAAGS,QAC9CyI,EAAOP,QAAQlC,IAAIzG,EAAEC,SACrBiJ,EAAOL,gBAAgBpC,IAAIzG,EAAEG,UAC7B+I,EAAON,QAAQnC,IAAIhG,EAAER,SACrBiJ,EAAOJ,gBAAgBrC,IAAIhG,EAAEN,SAAS,GACvC,IACIoD,EACHE,UAAWA,GAAWxD,cAAW6J,EACjCpG,OAAQA,GAAQzD,cAAW6J,IAExB,KACHX,EAAgBlJ,WAAW,IAEhC,CAACwD,EAAWC,EAAQ0G,KAAKC,UAAU9G,EAAQrD,UAqB9C,OApBA,QAA0B,KACtBmJ,EAAWpJ,SAAU,EACjB8I,EAAatF,IAAcsF,EAAarF,QACxC2F,EAAWpJ,SAAU,GAIdqB,MAEZ,CAACA,KACJ,IAAAgJ,YAAU,IACFjB,EAAWpJ,UACX,QAAW8I,EAAatF,GAAY,4CAA6C,mBACjF,QAAWsF,EAAarF,GAAS,yCAA0C,kBACpEpC,UAGP,GAEL,CAACA,IACG4H,CACX,C,iDIvDA,MAAMqB,E,SAA4B,EAAY,EAAAC,gBAAkB,EAAAF,S,uECDhE,SAASG,EAAmBlC,EAAOmC,EAAWnH,GAC1C,MAAMoH,GAAgB,OAAcpC,GAASA,GAAQ,QAAYA,GAEjE,OADAoC,EAAcrJ,OAAM,OAAmB,GAAIqJ,EAAeD,EAAWnH,IAC9DoH,EAAchB,SACzB,C,6DCJA,SAASiB,EAA4BC,EAAOC,EAAWC,GACnD,MAAM,MAAEC,GAAUH,EACZI,EAAY,CAAC,EACnB,IAAK,MAAMC,KAAOF,IACV,OAAcA,EAAME,KACnBJ,EAAUE,QACP,OAAcF,EAAUE,MAAME,MAClC,OAAoBA,EAAKL,SACmBf,IAA5CiB,GAAeI,SAASD,IAAME,aAC9BH,EAAUC,GAAOF,EAAME,IAG/B,OAAOD,CACX,C,mCCVA,MAAMI,GACU,E,SAAAC,eAAc,K,uECoB9B,SAASC,EAAYC,GAAY,GAC7B,MAAMC,GAAU,IAAAC,YAAW,KAC3B,GAAgB,OAAZD,EACA,MAAO,EAAC,EAAM,MAClB,MAAM,UAAEE,EAAS,eAAEC,EAAc,SAAEC,GAAaJ,EAG1CK,GAAK,IAAAC,UACX,IAAAzB,YAAU,KACN,GAAIkB,EACA,OAAOK,EAASC,EACpB,GACD,CAACN,IACJ,MAAMQ,GAAe,IAAA1C,cAAY,IAAMkC,GAAaI,GAAkBA,EAAeE,IAAK,CAACA,EAAIF,EAAgBJ,IAC/G,OAAQG,GAAaC,EAAiB,EAAC,EAAOI,GAAgB,EAAC,EACnE,CAqBA,SAASC,IACL,OAGmB,QADJR,GAFE,IAAAC,YAAW,OAGKD,EAAQE,UAD7C,IAAmBF,CADnB,C,mCC9DA,MAAMS,EAAeC,GAAQA,EAAIC,QAAQ,mBAAoB,SAASC,a,mCCHtE,MAAMC,EAAe,CACjB3C,UAAW,CACP,UACA,WACA,aACA,WACA,OACA,cACA,aACA,aAEJ4C,KAAM,CAAC,QACPC,KAAM,CAAC,OAAQ,gBACfC,MAAO,CAAC,cACRC,MAAO,CAAC,aAAc,eAAgB,cACtCC,IAAK,CAAC,WAAY,QAAS,aAAc,eACzCC,IAAK,CAAC,QAAS,aAAc,oBAAqB,YAClDC,OAAQ,CAAC,cAAe,kBAAmB,mBAC3CC,OAAQ,CAAC,SAAU,aAEjBC,EAAqB,CAAC,EAC5B,IAAK,MAAM7B,KAAOoB,EACdS,EAAmB7B,GAAO,CACtB8B,UAAYnC,GAAUyB,EAAapB,GAAK+B,MAAMC,KAAWrC,EAAMqC,K,6DCpBvE,SAASC,EAAoBjC,GAAK,OAAE4B,EAAM,SAAEM,IACxC,OAAQ,IAAexG,IAAIsE,IACvBA,EAAImC,WAAW,YACbP,QAAuBhD,IAAbsD,OACL,IAAgBlC,IAAgB,YAARA,EACvC,C,mCCRA,IAAIoC,EAAe,CACjBC,wBAAyB,EACzBC,YAAa,EACbC,kBAAmB,EACnBC,iBAAkB,EAClBC,iBAAkB,EAClBC,QAAS,EACTC,aAAc,EACdC,gBAAiB,EACjBC,YAAa,EACbC,QAAS,EACTC,KAAM,EACNC,SAAU,EACVC,aAAc,EACdC,WAAY,EACZC,aAAc,EACdC,UAAW,EACXC,QAAS,EACTC,WAAY,EACZC,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,eAAgB,EAChBC,gBAAiB,EACjBC,UAAW,EACXC,cAAe,EACfC,aAAc,EACdC,iBAAkB,EAClBC,WAAY,EACZC,WAAY,EACZC,QAAS,EACTC,MAAO,EACPC,QAAS,EACTC,MAAO,EACPC,QAAS,EACTC,OAAQ,EACRC,OAAQ,EACRC,KAAM,EACNC,gBAAiB,EAEjBC,YAAa,EACbC,aAAc,EACdC,YAAa,EACbC,gBAAiB,EACjBC,iBAAkB,EAClBC,iBAAkB,EAClBC,cAAe,EACfC,YAAa,G,WC5CXC,GAAgB,EAEhBC,EAAiB,aACjBC,EAAiB,8BAEjBC,EAAmB,SAA0BC,GAC/C,OAAkC,KAA3BA,EAASC,WAAW,EAC7B,EAEIC,EAAqB,SAA4BrI,GACnD,OAAgB,MAATA,GAAkC,kBAAVA,CACjC,EAEIsI,GAAkC,QAAQ,SAAUC,GACtD,OAAOL,EAAiBK,GAAaA,EAAYA,EAAU1E,QAAQmE,EAAgB,OAAOlE,aAC5F,IAEI0E,EAAoB,SAA2B7F,EAAK3C,GACtD,OAAQ2C,GACN,IAAK,YACL,IAAK,gBAED,GAAqB,iBAAV3C,EACT,OAAOA,EAAM6D,QAAQoE,GAAgB,SAAUQ,EAAOC,EAAIC,GAMxD,OALAC,EAAS,CACPjE,KAAM+D,EACNG,OAAQF,EACRG,KAAMF,GAEDF,CACT,IAKR,OAAsB,IAAlB,EAAS/F,IAAeuF,EAAiBvF,IAAyB,iBAAV3C,GAAgC,IAAVA,EAI3EA,EAHEA,EAAQ,IAInB,EAEI+I,EAA6B,uJAEjC,SAASC,EAAoBC,EAAaC,EAAYC,GACpD,GAAqB,MAAjBA,EACF,MAAO,GAGT,IAAIC,EAAoBD,EAExB,QAA2C5H,IAAvC6H,EAAkBC,iBAEpB,OAAOD,EAGT,cAAeD,GACb,IAAK,UAED,MAAO,GAGX,IAAK,SAED,IAAIhH,EAAYgH,EAEhB,GAAuB,IAAnBhH,EAAUmH,KAMZ,OALAV,EAAS,CACPjE,KAAMxC,EAAUwC,KAChBkE,OAAQ1G,EAAU0G,OAClBC,KAAMF,GAEDzG,EAAUwC,KAGnB,IAAI4E,EAAmBJ,EAEvB,QAAgC5H,IAA5BgI,EAAiBV,OAAsB,CACzC,IAAIC,EAAOS,EAAiBT,KAE5B,QAAavH,IAATuH,EAGF,UAAgBvH,IAATuH,GACLF,EAAS,CACPjE,KAAMmE,EAAKnE,KACXkE,OAAQC,EAAKD,OACbC,KAAMF,GAERE,EAAOA,EAAKA,KAKhB,OADaS,EAAiBV,OAAS,GAEzC,CAEA,OA2BR,SAAgCI,EAAaC,EAAYM,GACvD,IAAIC,EAAS,GAEb,GAAIxP,MAAMC,QAAQsP,GAChB,IAAK,IAAIvM,EAAI,EAAGA,EAAIuM,EAAIpR,OAAQ6E,IAC9BwM,GAAUT,EAAoBC,EAAaC,EAAYM,EAAIvM,IAAM,SAGnE,IAAK,IAAI0F,KAAO6G,EAAK,CACnB,IAAIxJ,EAAQwJ,EAAI7G,GAEhB,GAAqB,iBAAV3C,EAAoB,CAC7B,IAAI0J,EAAW1J,EAEG,MAAdkJ,QAA+C3H,IAAzB2H,EAAWQ,GACnCD,GAAU9G,EAAM,IAAMuG,EAAWQ,GAAY,IACpCrB,EAAmBqB,KAC5BD,GAAUnB,EAAiB3F,GAAO,IAAM6F,EAAkB7F,EAAK+G,GAAY,IAE/E,KAAO,CACL,GAAY,0BAAR/G,GAAmCoF,EACrC,MAAM,IAAI4B,MAAMZ,GAGlB,IAAI9O,MAAMC,QAAQ8F,IAA8B,iBAAbA,EAAM,IAAkC,MAAdkJ,QAA+C3H,IAAzB2H,EAAWlJ,EAAM,IAM7F,CACL,IAAI4J,EAAeZ,EAAoBC,EAAaC,EAAYlJ,GAEhE,OAAQ2C,GACN,IAAK,YACL,IAAK,gBAED8G,GAAUnB,EAAiB3F,GAAO,IAAMiH,EAAe,IACvD,MAGJ,QAGIH,GAAU9G,EAAM,IAAMiH,EAAe,IAG7C,MAtBE,IAAK,IAAIC,EAAK,EAAGA,EAAK7J,EAAM5H,OAAQyR,IAC9BxB,EAAmBrI,EAAM6J,MAC3BJ,GAAUnB,EAAiB3F,GAAO,IAAM6F,EAAkB7F,EAAK3C,EAAM6J,IAAO,IAqBpF,CACF,CAGF,OAAOJ,CACT,CAhFeK,CAAuBb,EAAaC,EAAYC,GAG3D,IAAK,WAED,QAAoB5H,IAAhB0H,EAA2B,CAC7B,IAAIc,EAAiBnB,EACjBoB,EAASb,EAAcF,GAE3B,OADAL,EAASmB,EACFf,EAAoBC,EAAaC,EAAYc,EACtD,EAON,IAAIN,EAAWP,EAEf,GAAkB,MAAdD,EACF,OAAOQ,EAGT,IAAIO,EAASf,EAAWQ,GACxB,YAAkBnI,IAAX0I,EAAuBA,EAASP,CACzC,CAyDA,IAGId,EAHAsB,EAAe,+BAInB,SAASC,EAAgBC,EAAMlB,EAAYD,GACzC,GAAoB,IAAhBmB,EAAKhS,QAAmC,iBAAZgS,EAAK,IAA+B,OAAZA,EAAK,SAAkC7I,IAAnB6I,EAAK,GAAGvB,OAClF,OAAOuB,EAAK,GAGd,IAAIC,GAAa,EACbxB,EAAS,GACbD,OAASrH,EACT,IAAI+I,EAAUF,EAAK,GAEJ,MAAXE,QAAmC/I,IAAhB+I,EAAQC,KAC7BF,GAAa,EACbxB,GAAUG,EAAoBC,EAAaC,EAAYoB,IAIvDzB,GAF2ByB,EAEI,GAIjC,IAAK,IAAIrN,EAAI,EAAGA,EAAImN,EAAKhS,OAAQ6E,IAC/B4L,GAAUG,EAAoBC,EAAaC,EAAYkB,EAAKnN,IAExDoN,IAGFxB,GAFyByB,EAEIrN,IAKjCiN,EAAaM,UAAY,EAIzB,IAHA,IACI/B,EADAgC,EAAiB,GAG0B,QAAvChC,EAAQyB,EAAaQ,KAAK7B,KAChC4B,GAAkB,IAAMhC,EAAM,GAGhC,IAAI9D,EC/NN,SAAiBf,GAYf,IANA,IAEI+G,EAFAC,EAAI,EAGJ3N,EAAI,EACJ4N,EAAMjH,EAAIxL,OAEPyS,GAAO,IAAK5N,EAAG4N,GAAO,EAE3BF,EAEe,YAAV,OAHLA,EAAwB,IAApB/G,EAAIwE,WAAWnL,IAAmC,IAAtB2G,EAAIwE,aAAanL,KAAc,GAA2B,IAAtB2G,EAAIwE,aAAanL,KAAc,IAA4B,IAAtB2G,EAAIwE,aAAanL,KAAc,MAG9F,OAAZ0N,IAAM,KAAgB,IAIpDC,EAEe,YAAV,OALLD,GAEAA,IAAM,MAGoC,OAAZA,IAAM,KAAgB,IAErC,YAAV,MAAJC,IAAyC,OAAZA,IAAM,KAAgB,IAItD,OAAQC,GACN,KAAK,EACHD,IAA8B,IAAxBhH,EAAIwE,WAAWnL,EAAI,KAAc,GAEzC,KAAK,EACH2N,IAA8B,IAAxBhH,EAAIwE,WAAWnL,EAAI,KAAc,EAEzC,KAAK,EAEH2N,EAEe,YAAV,OAHLA,GAAyB,IAApBhH,EAAIwE,WAAWnL,MAGsB,OAAZ2N,IAAM,KAAgB,IASxD,SAHAA,EAEe,YAAV,OAHLA,GAAKA,IAAM,MAG+B,OAAZA,IAAM,KAAgB,KACvCA,IAAM,MAAQ,GAAGE,SAAS,GACzC,CD8Ka,CAAWjC,GAAU4B,EAEhC,MAAO,CACL9F,KAAMA,EACNkE,OAAQA,EACRC,KAAMF,EAEV,C,kBEtOA,SAASmC,EAAeC,GACpB,MAAoB,iBAANA,GAAkB/Q,MAAMC,QAAQ8Q,EAClD,C,mDCLA,MAAMC,EAAYC,GAAuB,iBAARA,GAA0C,QAAtBA,EAAIpH,a,0DCEzD,MAAMqH,EAAkB,CAAC,EACzB,SAASC,EAAkBC,GACvB,IAAK,MAAM1I,KAAO0I,EACdF,EAAgBxI,GAAO0I,EAAW1I,IAC9B,OAAkBA,KAClBwI,EAAgBxI,GAAK2I,eAAgB,EAGjD,C,mCCVA,MAAMC,EAAqBP,GAChB/Q,MAAMC,QAAQ8Q,E,6CCDzB,MAMMQ,EAAc,KAAM,CACtB/T,EAP0B,CAC1BgU,UAAW,EACXxE,MAAO,EACPyE,OAAQ,EACRC,YAAa,GAIbzT,EAR0B,CAC1BuT,UAAW,EACXxE,MAAO,EACPyE,OAAQ,EACRC,YAAa,KAOXC,EAAY,KAAM,CACpBnU,EAFqB,CAAGoU,IAAK,EAAGC,IAAK,GAGrC5T,EAHqB,CAAG2T,IAAK,EAAGC,IAAK,I,kBCVzC,SAASC,EAAgB9E,GACrB,YAAiB1F,IAAV0F,GAAiC,IAAVA,CAClC,CACA,SAAS+E,GAAS,MAAE/E,EAAK,OAAEgF,EAAM,OAAEC,IAC/B,OAASH,EAAgB9E,KACpB8E,EAAgBE,KAChBF,EAAgBG,EACzB,CACA,SAASC,EAAaxL,GAClB,OAAQqL,EAASrL,IACbyL,EAAezL,IACfA,EAAO0L,GACP1L,EAAO2L,QACP3L,EAAO4L,SACP5L,EAAO6L,SACP7L,EAAO8L,OACP9L,EAAO+L,KACf,CACA,SAASN,EAAezL,GACpB,OAAOgM,EAAchM,EAAOlJ,IAAMkV,EAAchM,EAAOzI,EAC3D,CACA,SAASyU,EAAc3M,GACnB,OAAOA,GAAmB,OAAVA,CACpB,C,gGCrBA,MAAM4M,EAAa,CACflI,KAAM,EACNmI,IAAK,GCAT,SAASC,EAAUrM,GAAK,KAAEsM,EAAI,OAAEC,EAAM,OAAEC,EAAM,KAAEC,GAAO,EAAK,QAAEC,GAAU,GAAW,CAAC,GAChF,MAAOC,EAAUC,IAAa,IAAAC,UAASH,GAevC,OAdA,IAAApL,YAAU,KACN,IAAKtB,EAAI/I,SAAYwV,GAAQE,EACzB,OACJ,MAIMpS,EAAU,CACZ+R,KAAOA,GAAQA,EAAKrV,cAAY6J,EAChCyL,SACAC,UAEJ,ODZR,SAAgBM,EAAmBC,GAAS,KAAET,EAAMC,OAAQS,EAAU,OAAER,EAAS,QAAW,CAAC,GACzF,MAAMS,GAAW,OAAgBH,GAC3BI,EAAsB,IAAIpQ,QAyB1BqQ,EAAW,IAAIC,sBAxBSC,IAC1BA,EAAQC,SAASC,IACb,MAAMC,EAAQN,EAAoB3P,IAAIgQ,EAAM7S,QAK5C,GAAI6S,EAAME,iBAAmBC,QAAQF,GAErC,GAAID,EAAME,eAAgB,CACtB,MAAME,EAAWZ,EAAQQ,EAAM7S,OAAQ6S,GACf,mBAAbI,EACPT,EAAoBzP,IAAI8P,EAAM7S,OAAQiT,GAGtCR,EAASS,UAAUL,EAAM7S,OAEjC,KAC0B,mBAAV8S,IACZA,EAAMD,GACNL,EAAoB1O,OAAO+O,EAAM7S,QACrC,GACF,GAE0D,CAC5D4R,OACAU,aACAa,UAA6B,iBAAXrB,EAAsBA,EAASL,EAAWK,KAGhE,OADAS,EAASK,SAASxV,GAAYqV,EAAS1M,QAAQ3I,KACxC,IAAMqV,EAASW,YAC1B,CCtBejK,CAAO7D,EAAI/I,SATF,KACZ2V,GAAU,GACHH,OAAO3L,EAAY,IAAM8L,GAAU,KAOVrS,EAAQ,GAC7C,CAAC+R,EAAMtM,EAAKuM,EAAQE,EAAMD,IACtBG,CACX,C,kBCrBA,SAASoB,EAAWjW,GAAS,MAAEkK,EAAK,KAAEgM,GAAQC,EAAWC,GACrD,MAAMC,EAAerW,EAAQkK,MAC7B,IAAIE,EACJ,IAAKA,KAAOF,EAERmM,EAAajM,GAAOF,EAAME,GAI9B,IAAKA,KADLgM,GAAYE,sBAAsBD,EAAcF,GACpCD,EAGRG,EAAaE,YAAYnM,EAAK8L,EAAK9L,GAE3C,C,oICdA,MAAMoM,EAAa/O,GAAoB,OAAVA,E,eCE7B,MAAMgP,EAAoB,CACtBC,KAAM,SACNC,UAAW,IACXC,QAAS,GACTC,UAAW,IAQTC,EAAsB,CACxBJ,KAAM,YACNK,SAAU,IAMRC,EAAO,CACTN,KAAM,YACNM,KAAM,CAAC,IAAM,GAAK,IAAM,GACxBD,SAAU,ICnBRE,EAAqB,CAAC7K,EAAM3E,EAAO7E,EAAQsU,EAAa,CAAC,EAAGlX,EAASmX,IAAeC,IACtF,MAAMC,GAAkB,OAAmBH,EAAY9K,IAAS,CAAC,EAM3DkL,EAAQD,EAAgBC,OAASJ,EAAWI,OAAS,EAK3D,IAAI,QAAEhX,EAAU,GAAM4W,EACtB5W,IAAoB,OAAsBgX,GAC1C,MAAM7U,EAAU,CACZmH,UAAWlI,MAAMC,QAAQiB,GAAUA,EAAS,CAAC,KAAMA,GACnDoU,KAAM,UACNtX,SAAU+H,EAAM8P,iBACbF,EACHC,OAAQhX,EACRkX,SAAW/E,IACPhL,EAAM9B,IAAI8M,GACV4E,EAAgBG,UAAYH,EAAgBG,SAAS/E,EAAE,EAE3D2E,WAAY,KACRA,IACAC,EAAgBD,YAAcC,EAAgBD,YAAY,EAE9DhL,OACAqL,YAAahQ,EACbzH,QAASmX,OAAYnO,EAAYhJ,IC/BzC,UAA6B,KAAE0X,EAAMJ,MAAOK,EAAM,cAAEC,EAAa,gBAAEC,EAAe,iBAAEC,EAAgB,OAAEC,EAAM,WAAEC,EAAU,YAAEC,EAAW,KAAEC,EAAI,QAAE5X,KAAY4W,IACrJ,QAASiB,OAAOvY,KAAKsX,GAAYrX,MACrC,EDmCSuY,CAAoBf,IACrBc,OAAOE,OAAO5V,EDhBO,EAAC6V,GAAY1O,eAClCA,EAAU/J,OAAS,EACZiX,EAEF,IAAehR,IAAIwS,GACjBA,EAAS/L,WAAW,SAxBQ,CACvCmK,KAAM,SACNC,UAAW,IACXC,QAAoB,IAsBahN,EAAU,GAtBnB,EAAI2O,KAAKC,KAAK,KAAO,GAC7C3B,UAAW,IAsBDJ,EAEHO,ECOoByB,CAAqBrM,EAAM3J,IAOtDA,EAAQsU,WAAatU,EAAQsU,UAAW,OAAsBtU,EAAQsU,WACtEtU,EAAQwV,cAAgBxV,EAAQwV,aAAc,OAAsBxV,EAAQwV,mBAIvDjP,IAAjBvG,EAAQyV,OACRzV,EAAQmH,UAAU,GAAKnH,EAAQyV,MAEnC,IAAIQ,GAAa,EAwBjB,KAvBqB,IAAjBjW,EAAQiU,MACc,IAArBjU,EAAQsU,WAAmBtU,EAAQwV,gBACpC,OAAqBxV,GACC,IAAlBA,EAAQ6U,QACRoB,GAAa,KAGjB,IAAmBC,mBACnB,IAAmBC,kBACnBF,GAAa,GACb,OAAqBjW,GACrBA,EAAQ6U,MAAQ,GAMpB7U,EAAQoW,cAAgBxB,EAAgBX,OAASW,EAAgBL,KAM7D0B,IAAevB,QAA6BnO,IAAhBvB,EAAMhC,MAAqB,CACvD,MAAMqT,EFlFd,SAA0BlP,GAAW,OAAEmO,EAAM,WAAEC,EAAa,QAAUc,GAClE,MAAMC,EAAoBnP,EAAUoP,OAAOxC,GACrCyC,EAAQlB,GAAyB,SAAfC,GAAyBD,EAAS,GAAM,EAC1D,EACAgB,EAAkBlZ,OAAS,EACjC,OAAQoZ,QAA2BjQ,IAAlB8P,EAEXA,EADAC,EAAkBE,EAE5B,CE0E8BC,CAAiBzW,EAAQmH,UAAWyN,GAC1D,QAAsBrO,IAAlB8P,EAKA,YAJA,KAAMK,QAAO,KACT1W,EAAQ+U,SAASsB,GACjBrW,EAAQ2U,YAAY,GAIhC,CACA,OAAOC,EAAgB+B,OACjB,IAAIC,EAAA,EAAY5W,GAChB,IAAI6W,EAAAC,EAA0B9W,EAAQ,C,6FEzFhD,SAAS+W,EAAuBpR,EAAQqR,GAIpC,MAAMhS,GAAQ,OAAegS,KAOvBC,EAAc,IAAMjS,EAAM9B,IAAI8T,KAkBpC,OAbAC,KAKA,QAA0B,KACtB,MAAMC,EAAiB,IAAM,KAAMC,UAAUF,GAAa,GAAO,GAC3DG,EAAgBzR,EAAO0R,KAAKrH,GAAMA,EAAEsH,GAAG,SAAUJ,KACvD,MAAO,KACHE,EAAcrE,SAASwE,GAAgBA,OACvC,QAAYN,EAAY,CAC3B,IAEEjS,CACX,C,eC7BA,SAASwS,EAAaC,EAAOC,EAAyBC,EAAa3X,GAC/D,GAAqB,mBAAVyX,EACP,OCJR,SAAqBG,GAKjB,KAAoBlb,QAAU,GAC9Bkb,IACA,MAAM5S,EAAQ+R,EAAuB,KAAoBra,QAASkb,GAKlE,OADA,KAAoBlb,aAAU6J,EACvBvB,CACX,CDTe6S,CAAYJ,GAEvB,MAAMK,EAAiD,mBAA5BJ,EACrBA,GACA,EAAAK,EAAA,GAAUL,EAAyBC,EAAa3X,GACtD,OAAOf,MAAMC,QAAQuY,GACfO,EAAiBP,EAAOK,GACxBE,EAAiB,CAACP,IAAQ,EAAEQ,KAAYH,EAAYG,IAC9D,CACA,SAASD,EAAiBrS,EAAQmS,GAC9B,MAAMG,GAAS,QAAY,IAAM,KACjC,OAAOlB,EAAuBpR,GAAQ,KAClCsS,EAAO7a,OAAS,EAChB,MAAM8a,EAAYvS,EAAOvI,OACzB,IAAK,IAAI6E,EAAI,EAAGA,EAAIiW,EAAWjW,IAC3BgW,EAAOhW,GAAK0D,EAAO1D,GAAGe,MAE1B,OAAO8U,EAAYG,EAAO,GAElC,C,mCEzBA,MACME,EAA+B,SAAU,E,SAAA,GADjB,iB,6DCA9B,MAAMC,EAAW,CACbzb,OAAQ,oBACR0b,MAAO,oBAELC,EAAY,CACd3b,OAAQ,mBACR0b,MAAO,mBCFX,SAASE,EAAcC,GAAO,MAAEC,EAAK,MAAEC,EAAK,UAAEC,EAAS,WAAEC,EAAU,YAAEC,EAAc,EAAC,WAAEC,EAAa,KAEhGb,GAAUhI,EAAU8I,EAAmBrF,GAMtC,IALA,OAAgB8E,EAAOP,EAAQc,GAK3B9I,EAIA,YAHIuI,EAAM/Q,MAAMuR,UACZR,EAAMS,MAAMD,QAAUR,EAAM/Q,MAAMuR,UAI1CR,EAAMS,MAAQT,EAAM/Q,MACpB+Q,EAAM/Q,MAAQ,CAAC,EACf,MAAM,MAAEwR,EAAK,MAAExR,GAAU+Q,EAKrBS,EAAMlB,YACNtQ,EAAMsQ,UAAYkB,EAAMlB,iBACjBkB,EAAMlB,YAEbtQ,EAAMsQ,WAAakB,EAAMC,mBACzBzR,EAAMyR,gBAAkBD,EAAMC,iBAAmB,iBAC1CD,EAAMC,iBAEbzR,EAAMsQ,YAKNtQ,EAAM0R,aAAezF,GAAWyF,cAAgB,kBACzCF,EAAME,mBAGH5S,IAAVkS,IACAQ,EAAMxc,EAAIgc,QACAlS,IAAVmS,IACAO,EAAM/b,EAAIwb,QACInS,IAAdoS,IACAM,EAAMhN,MAAQ0M,QAECpS,IAAfqS,GDlCR,SAAsBK,EAAO7b,EAAQgc,EAAU,EAAGzc,EAAS,EAAG0c,GAAc,GAExEJ,EAAML,WAAa,EAGnB,MAAMzb,EAAOkc,EAAcjB,EAAWE,EAEtCW,EAAM9b,EAAKR,QAAU,EAAA2c,GAAGvB,WAAWpb,GAEnC,MAAMic,EAAa,EAAAU,GAAGvB,UAAU3a,GAC1Byb,EAAc,EAAAS,GAAGvB,UAAUqB,GACjCH,EAAM9b,EAAKkb,OAAS,GAAGO,KAAcC,GACzC,CCuBQU,CAAaN,EAAOL,EAAYC,EAAaC,GAAY,EAEjE,C,kBCtDA,SAASU,EAAoBxJ,GACzB,OAAc,OAANA,GACS,iBAANA,GACY,mBAAZA,EAAEjS,KACjB,C,0EC4BW0b,EACLC,E,uDArBFC,G,iBAAM,SAAa1F,EAAM3M,GAE3B,IAAI8H,EAAOwK,UAEX,GAAa,MAATtS,IAAkB,EAAAsI,EAAOiK,KAAKvS,EAAO,OACvC,OAAO,gBAAoBwS,WAAMvT,EAAW6I,GAG9C,IAAI2K,EAAa3K,EAAKhS,OAClB4c,EAAwB,IAAI/a,MAAM8a,GACtCC,EAAsB,GAAK,EAAAC,EAC3BD,EAAsB,IAAK,IAAAE,GAAmBjG,EAAM3M,GAEpD,IAAK,IAAIrF,EAAI,EAAGA,EAAI8X,EAAY9X,IAC9B+X,EAAsB/X,GAAKmN,EAAKnN,GAGlC,OAAO,gBAAoB6X,MAAM,KAAME,EACzC,GAEWP,EAIRE,IAAQA,EAAM,CAAC,GADKD,IAAQA,EAAMD,EAAKC,MAAQD,EAAKC,IAAM,CAAC,IAM9D,IAAIS,GAAwB,IAAAC,IAAiB,SAAU9S,EAAO+S,GAE5D,IAAIxM,EAASvG,EAAMuG,OACfyM,GAAa,OAAgB,CAACzM,QAAStH,EAAW,aAAiB,EAAAgU,IAMnEC,EAAW,WAqDf,OApDA,QAAqC,WACnC,IAAI7S,EAAM0S,EAAM1S,IAAM,UAElB8S,EAAQ,IAAIJ,EAAMI,MAAMC,YAAY,CACtC/S,IAAKA,EACLgT,MAAON,EAAMI,MAAME,MACnBza,UAAWma,EAAMI,MAAMva,UACvB0a,OAAQP,EAAMI,MAAMI,WAElBC,GAAc,EACd1a,EAAO3B,SAASsc,cAAc,uBAA0BpT,EAAM,IAAM2S,EAAW3Q,KAAO,MAc1F,OAZI0Q,EAAMI,MAAMO,KAAK5d,SACnBqd,EAAMQ,OAASZ,EAAMI,MAAMO,KAAK,IAGrB,OAAT5a,IACF0a,GAAc,EAEd1a,EAAK8a,aAAa,eAAgBvT,GAClC8S,EAAMU,QAAQ,CAAC/a,KAGjBoa,EAAS9d,QAAU,CAAC+d,EAAOK,GACpB,WACLL,EAAMW,OACR,CACF,GAAG,CAACf,KACJ,QAAqC,WACnC,IAAIgB,EAAkBb,EAAS9d,QAC3B+d,EAAQY,EAAgB,GAG5B,GAFkBA,EAAgB,GAGhCA,EAAgB,IAAK,MADvB,CAUA,QALwB9U,IAApB+T,EAAWxM,OAEb,QAAauM,EAAOC,EAAWxM,MAAM,GAGnC2M,EAAMO,KAAK5d,OAAQ,CAErB,IAAIG,EAAUkd,EAAMO,KAAKP,EAAMO,KAAK5d,OAAS,GAAGke,mBAChDb,EAAMQ,OAAS1d,EACfkd,EAAMW,OACR,CAEAf,EAAMkB,OAAO,GAAIjB,EAAYG,GAAO,EAdpC,CAeF,GAAG,CAACJ,EAAOC,EAAW3Q,OACf,IACT,IAEA,SAAS6R,IACP,IAAK,IAAIC,EAAO7B,UAAUxc,OAAQgS,EAAO,IAAInQ,MAAMwc,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EtM,EAAKsM,GAAQ9B,UAAU8B,GAGzB,OAAO,OAAgBtM,EACzB,CAEA,SAASjI,IACP,IAAIwU,EAAaH,EAAI1B,WAAM,EAAQF,WAC/BjQ,EAAO,aAAegS,EAAWhS,KACrC,MAAO,CACLA,KAAMA,EACNkE,OAAQ,cAAgBlE,EAAO,IAAMgS,EAAW9N,OAAS,IACzDS,KAAM,EACNwB,SAAU,WACR,MAAO,QAAU8L,KAAKjS,KAAO,IAAMiS,KAAK/N,OAAS,OACnD,EAEJ,C,kBC3HA,SAASgO,EAAoB3N,EAAY4N,EAAkBC,GACzD,IAAIC,EAAe,GAQnB,OAPAD,EAAWxc,MAAM,KAAKwT,SAAQ,SAAUkJ,QACR1V,IAA1B2H,EAAW+N,GACbH,EAAiBI,KAAKhO,EAAW+N,GAAa,KACrCA,IACTD,GAAgBC,EAAY,IAEhC,IACOD,CACT,C,oCACA,IAAIG,EAAiB,SAAwB9B,EAAOC,EAAY8B,GAC9D,IAAIH,EAAY5B,EAAM1S,IAAM,IAAM2S,EAAW3Q,MAO5B,IAAhByS,QAIwD7V,IAAhC8T,EAAMnM,WAAW+N,KACxC5B,EAAMnM,WAAW+N,GAAa3B,EAAWzM,OAE7C,EACIwO,EAAe,SAAsBhC,EAAOC,EAAY8B,GAC1DD,EAAe9B,EAAOC,EAAY8B,GAClC,IAAIH,EAAY5B,EAAM1S,IAAM,IAAM2S,EAAW3Q,KAE7C,QAAwCpD,IAApC8T,EAAMiC,SAAShC,EAAW3Q,MAAqB,CACjD,IAAIjN,EAAU4d,EAEd,GACED,EAAMkB,OAAOjB,IAAe5d,EAAU,IAAMuf,EAAY,GAAIvf,EAAS2d,EAAMI,OAAO,GAElF/d,EAAUA,EAAQoR,gBACCvH,IAAZ7J,EACX,CACF,C,mCC1CA,MAAM6f,EAA8B,oBAAX3Z,M,+HCUzB,MAAM4Z,UAA0B,IAC5B,WAAA9B,GACI+B,SAAS7C,WACTgC,KAAK3H,KAAO,OACZ2H,KAAKc,eAAiB,GAC1B,CACA,qBAAAC,CAAsBC,EAAUjV,GAC5B,GAAI,IAAetE,IAAIsE,GACnB,OAAOiU,KAAKjI,YAAYkJ,cAClB,QAAsBlV,IACtB,QAAmBiV,EAAUjV,GAElC,CACD,MAAMmV,GAhBQvf,EAgByBqf,EAfxCha,OAAOma,iBAAiBxf,IAgBjByH,IAAS,OAAkB2C,GAC3BmV,EAAcE,iBAAiBrV,GAC/BmV,EAAcnV,KAAS,EAC7B,MAAwB,iBAAV3C,EAAqBA,EAAM3F,OAAS2F,CACtD,CArBR,IAA0BzH,CAsBtB,CACA,0BAAA0f,CAA2BL,GAAU,mBAAEM,IACnC,OAAO,IAAAC,GAAmBP,EAAUM,EACxC,CACA,KAAAE,CAAMC,EAAaC,EAAchW,IAC7B,OAAgB+V,EAAaC,EAAchW,EAAMyR,kBACrD,CACA,2BAAA1R,CAA4BC,EAAOC,EAAWC,GAC1C,OAAO,OAA4BF,EAAOC,EAAWC,EACzD,E,kDC5BJ,SAAS+V,EAAYC,GACjB,MAAM/X,GAAM,IAAAI,QAAO,MAInB,OAHoB,OAAhBJ,EAAI/I,UACJ+I,EAAI/I,QAAU8gB,KAEX/X,EAAI/I,OACf,C,kDCdA,SAAS+gB,EAAejW,EAAekW,EAAYC,GAC/C,MAAMrW,EAAQE,EAAcoW,WAC5B,OAAO,OAAwBtW,EAAOoW,OAAuBnX,IAAXoX,EAAuBA,EAASrW,EAAMqW,OAAQnW,EACpG,C,8HCIA,SAASqW,EAAOpY,EAAKT,GACjB,GAAmB,mBAARS,EACP,OAAOA,EAAIT,GAENS,UACLA,EAAI/I,QAAUsI,EAEtB,CCJA,MAAM8Y,UAAwB,YAC1B,uBAAAC,CAAwBxW,GACpB,MAAMhK,EAAUqe,KAAKtU,MAAM0W,SAASthB,QACpC,GAAIa,GAAWgK,EAAUa,YAAcwT,KAAKtU,MAAMc,UAAW,CACzD,MAAM9G,EAAS/D,EAAQgD,aACjB0d,GAAc,OAAc3c,IAC5BA,EAAO4c,aACP,EACAha,EAAO0X,KAAKtU,MAAM6W,QAAQzhB,QAChCwH,EAAKvC,OAASpE,EAAQ6gB,cAAgB,EACtCla,EAAKxC,MAAQnE,EAAQ2gB,aAAe,EACpCha,EAAKhD,IAAM3D,EAAQ+C,UACnB4D,EAAKjD,KAAO1D,EAAQ8C,WACpB6D,EAAKma,MAAQJ,EAAc/Z,EAAKxC,MAAQwC,EAAKjD,IACjD,CACA,OAAO,IACX,CAIA,kBAAAqd,GAAuB,CACvB,MAAAC,GACI,OAAO3C,KAAKtU,MAAMkX,QACtB,EAEJ,SAASC,GAAS,SAAED,EAAQ,UAAEpW,EAAS,QAAEsW,EAAO,KAAE3M,IAC9C,MAAMxJ,GAAK,IAAAC,SACL/C,GAAM,IAAAI,QAAO,MACb3B,GAAO,IAAA2B,QAAO,CAChBnE,MAAO,EACPC,OAAQ,EACRT,IAAK,EACLD,KAAM,EACNod,MAAO,KAEL,MAAE1D,IAAU,IAAAxS,YAAWwW,EAAA,GACvBC,EDMV,YAA4BC,GAExB,OAAO,cAnCX,YAAwBA,GACpB,OAAQze,IACJ,IAAI0e,GAAa,EACjB,MAAMC,EAAWF,EAAKxH,KAAK5R,IACvB,MAAMuZ,EAAUnB,EAAOpY,EAAKrF,GAI5B,OAHK0e,GAAiC,mBAAZE,IACtBF,GAAa,GAEVE,CAAO,IAMlB,GAAIF,EACA,MAAO,KACH,IAAK,IAAI7c,EAAI,EAAGA,EAAI8c,EAAS3hB,OAAQ6E,IAAK,CACtC,MAAM+c,EAAUD,EAAS9c,GACF,mBAAZ+c,EACPA,IAGAnB,EAAOgB,EAAK5c,GAAI,KAExB,EAER,CAER,CAO6Bgd,IAAeJ,GAAOA,EACnD,CCTwBK,CAAgBzZ,EAAK+Y,GAAU/Y,KAsCnD,OA5BA,IAAA0Z,qBAAmB,KACf,MAAM,MAAEzd,EAAK,OAAEC,EAAM,IAAET,EAAG,KAAED,EAAI,MAAEod,GAAUna,EAAKxH,QACjD,GAAI0L,IAAc3C,EAAI/I,UAAYgF,IAAUC,EACxC,OACJ,MAAMlF,EAAgB,SAAZiiB,EAAqB,SAASzd,IAAS,UAAUod,IAC3D5Y,EAAI/I,QAAQ0iB,QAAQC,YAAc9W,EAClC,MAAMd,EAAQhJ,SAAS6gB,cAAc,SACjC3E,IACAlT,EAAMkT,MAAQA,GAClB,MAAMrZ,EAASyQ,GAAQtT,SAAS8gB,KAahC,OAZAje,EAAOke,YAAY/X,GACfA,EAAMgT,OACNhT,EAAMgT,MAAMgF,WAAW,oCACFlX,yEAEZ7G,wCACCC,gCACRlF,qCACKyE,0CAIJ,KACCI,EAAOoe,SAASjY,IAChBnG,EAAOqe,YAAYlY,EACvB,CACH,GACF,CAACW,KACI,IAAAuR,KAAImE,EAAiB,CAAE1V,UAAWA,EAAW4V,SAAUvY,EAAK0Y,QAASja,EAAMsa,SAAU,eAAmBA,EAAU,CAAE/Y,IAAKmZ,KACrI,CC/EA,MAAMgB,EAAgB,EAAGpB,WAAUrM,UAAS/J,YAAWC,iBAAgBsV,SAAQkC,wBAAuBC,OAAMpB,UAAS3M,WACjH,MAAMgO,GAAmB,OAAYC,GAC/BzX,GAAK,IAAAC,SACX,IAAIyX,GAAkB,EAClB/X,GAAU,IAAAgY,UAAQ,KAClBD,GAAkB,EACX,CACH1X,KACA4J,UACA/J,YACAuV,SACAtV,eAAiB8X,IACbJ,EAAiB7c,IAAIid,GAAS,GAC9B,IAAK,MAAMC,KAAcL,EAAiBpa,SACtC,IAAKya,EACD,OAER/X,GAAkBA,GAAgB,EAEtCC,SAAW6X,IACPJ,EAAiB7c,IAAIid,GAAS,GACvB,IAAMJ,EAAiB9b,OAAOkc,OAG9C,CAAC/X,EAAW2X,EAAkB1X,IAyBjC,OAnBIwX,GAAyBI,IACzB/X,EAAU,IAAKA,KAEnB,IAAAgY,UAAQ,KACJH,EAAiBhN,SAAQ,CAACsN,EAAG1Y,IAAQoY,EAAiB7c,IAAIyE,GAAK,IAAO,GACvE,CAACS,IAKJ,aAAgB,MACXA,IACI2X,EAAiB7b,MAClBmE,GACAA,GAAgB,GACrB,CAACD,IACS,cAAT0X,IACAtB,GAAY,IAAA7E,KAAI8E,EAAU,CAAErW,UAAWA,EAAWsW,QAASA,EAAS3M,KAAMA,EAAMyM,SAAUA,MAEtF,IAAA7E,KAAI7R,EAAA,EAAgBwY,SAAU,CAAEtb,MAAOkD,EAASsW,SAAUA,GAAY,EAElF,SAASwB,IACL,OAAO,IAAI1b,GACf,C,eC3DA,MAAMic,EAAeC,GAAUA,EAAM7Y,KAAO,GAC5C,SAAS8Y,EAAajC,GAClB,MAAMkC,EAAW,GAMjB,OAJA,EAAAC,SAAS5N,QAAQyL,GAAWgC,KACpB,IAAAI,gBAAeJ,IACfE,EAASxE,KAAKsE,EAAM,IAErBE,CACX,CCgCA,MAAMG,EAAkB,EAAGrC,WAAUb,SAAQxL,WAAU,EAAM9J,iBAAgBwX,yBAAwB,EAAMC,OAAO,OAAQgB,aAAY,EAAOpC,UAAU,OAAQ3M,WAC3J,MAAOgP,EAAiBtY,IAAgB,QAAYqY,GAK9CE,GAAkB,IAAAd,UAAQ,IAAMO,EAAajC,IAAW,CAACA,IAKzDyC,EAAcH,IAAcC,EAAkB,GAAKC,EAAgB3J,IAAIkJ,GAIvEW,GAAkB,IAAArb,SAAO,GAMzBsb,GAAyB,IAAAtb,QAAOmb,GAIhCI,GAAe,QAAY,IAAM,IAAI9c,OAKpC+c,EAAgBC,IAAqB,IAAAhP,UAAS0O,IAC9CO,EAAkBC,IAAuB,IAAAlP,UAAS0O,IACzD,QAA0B,KACtBE,EAAgBxkB,SAAU,EAC1BykB,EAAuBzkB,QAAUskB,EAIjC,IAAK,IAAI/e,EAAI,EAAGA,EAAIsf,EAAiBnkB,OAAQ6E,IAAK,CAC9C,MAAM0F,EAAM4Y,EAAYgB,EAAiBtf,IACpCgf,EAAY3hB,SAASqI,GAMtByZ,EAAand,OAAO0D,IALU,IAA1ByZ,EAAape,IAAI2E,IACjByZ,EAAale,IAAIyE,GAAK,EAMlC,IACD,CAAC4Z,EAAkBN,EAAY7jB,OAAQ6jB,EAAYpc,KAAK,OAC3D,MAAM4c,EAAkB,GACxB,GAAIT,IAAoBK,EAAgB,CACpC,IAAIK,EAAe,IAAIV,GAKvB,IAAK,IAAI/e,EAAI,EAAGA,EAAIsf,EAAiBnkB,OAAQ6E,IAAK,CAC9C,MAAMue,EAAQe,EAAiBtf,GACzB0F,EAAM4Y,EAAYC,GACnBS,EAAY3hB,SAASqI,KACtB+Z,EAAaC,OAAO1f,EAAG,EAAGue,GAC1BiB,EAAgBvF,KAAKsE,GAE7B,CAcA,MATa,SAATV,GAAmB2B,EAAgBrkB,SACnCskB,EAAeD,GAEnBD,EAAoBf,EAAaiB,IACjCJ,EAAkBN,GAKX,IACX,CAWA,MAAM,YAAEY,IAAgB,IAAAzZ,YAAW0Z,EAAAC,GACnC,OAAQ,IAAAnI,KAAI,EAAAoI,SAAU,CAAEvD,SAAU+C,EAAiBlK,KAAKmJ,IAChD,MAAM7Y,EAAM4Y,EAAYC,GAClBpY,IAAY0Y,IAAcC,KAE1BC,IAAoBO,GAClBN,EAAY3hB,SAASqI,IAoB7B,OAAQ,IAAAgS,KAAIiG,EAAe,CAAExX,UAAWA,EAAW+J,UAAU+O,EAAgBxkB,UAAWyV,SAC9E5L,EACOoX,OAAQA,EAAQkC,sBAAuBA,EAAuBC,KAAMA,EAAM/N,KAAMA,EAAM1J,eAAgBD,OAAY7B,EArBpH,KACX,IAAI6a,EAAa/d,IAAIsE,GAIjB,OAHAyZ,EAAale,IAAIyE,GAAK,GAK1B,IAAIqa,GAAsB,EAC1BZ,EAAarO,SAASkP,IACbA,IACDD,GAAsB,EAAK,IAE/BA,IACAJ,MACAJ,EAAoBL,EAAuBzkB,SAC3CokB,GAAarY,MACbJ,GAAkBA,IACtB,EAImJqW,QAASA,EAASF,SAAUgC,GAAS7Y,EAAK,KAC/L,C,mCC/Jd,MAAMka,GAAqB,E,SAAA9Z,eAAc,CAAC,E,mCCsD1C,IAAIma,EAA0B,WAE5B,SAASA,EAAWliB,GAClB,IAAImiB,EAAQvG,KAEZA,KAAKwG,WAAa,SAAUlS,GAC1B,IAAI+K,EAIAA,EAFsB,IAAtBkH,EAAMnH,KAAK5d,OACT+kB,EAAME,eACCF,EAAME,eAAeC,YACrBH,EAAMI,QACNJ,EAAMjiB,UAAUsiB,WAEhBL,EAAMlH,OAGRkH,EAAMnH,KAAKmH,EAAMnH,KAAK5d,OAAS,GAAGklB,YAG7CH,EAAMjiB,UAAUuiB,aAAavS,EAAK+K,GAElCkH,EAAMnH,KAAKkB,KAAKhM,EAClB,EAEA0L,KAAKf,cAA8BtU,IAAnBvG,EAAQ4a,QAAwC5a,EAAQ4a,OACxEgB,KAAKZ,KAAO,GACZY,KAAK8G,IAAM,EACX9G,KAAKjB,MAAQ3a,EAAQ2a,MAErBiB,KAAKjU,IAAM3H,EAAQ2H,IACnBiU,KAAK1b,UAAYF,EAAQE,UACzB0b,KAAK2G,QAAUviB,EAAQuiB,QACvB3G,KAAKyG,eAAiBriB,EAAQqiB,eAC9BzG,KAAKX,OAAS,IAChB,CAEA,IAAI0H,EAAST,EAAWU,UA0CxB,OAxCAD,EAAOxH,QAAU,SAAiB0H,GAChCA,EAAM9P,QAAQ6I,KAAKwG,WACrB,EAEAO,EAAOpH,OAAS,SAAgBuH,GAI1BlH,KAAK8G,KAAO9G,KAAKf,SAAW,KAAQ,IAAO,GAC7Ce,KAAKwG,WA7DX,SAA4BpiB,GAC1B,IAAIkQ,EAAMzR,SAAS6gB,cAAc,SASjC,OARApP,EAAIgL,aAAa,eAAgBlb,EAAQ2H,UAEnBpB,IAAlBvG,EAAQ2a,OACVzK,EAAIgL,aAAa,QAASlb,EAAQ2a,OAGpCzK,EAAIsP,YAAY/gB,SAASskB,eAAe,KACxC7S,EAAIgL,aAAa,SAAU,IACpBhL,CACT,CAkDsB8S,CAAmBpH,OAGrC,IAAI1L,EAAM0L,KAAKZ,KAAKY,KAAKZ,KAAK5d,OAAS,GAEvC,GAAIwe,KAAKf,SAAU,CACjB,IAAIJ,EAtFV,SAAqBvK,GACnB,GAAIA,EAAIuK,MACN,OAAOvK,EAAIuK,MAMb,IAAK,IAAIxY,EAAI,EAAGA,EAAIxD,SAASwkB,YAAY7lB,OAAQ6E,IAC/C,GAAIxD,SAASwkB,YAAYhhB,GAAGihB,YAAchT,EACxC,OAAOzR,SAASwkB,YAAYhhB,EAOlC,CAqEkBkhB,CAAYjT,GAExB,IAGEuK,EAAMgF,WAAWqD,EAAMrI,EAAM2I,SAAShmB,OACxC,CAAE,MAAOimB,GACT,CACF,MACEnT,EAAIsP,YAAY/gB,SAASskB,eAAeD,IAG1ClH,KAAK8G,KACP,EAEAC,EAAOvH,MAAQ,WACbQ,KAAKZ,KAAKjI,SAAQ,SAAU7C,GAC1B,IAAIoT,EAEJ,OAA6C,OAArCA,EAAkBpT,EAAI3O,iBAAsB,EAAS+hB,EAAgB3D,YAAYzP,EAC3F,IACA0L,KAAKZ,KAAO,GACZY,KAAK8G,IAAM,CACb,EAEOR,CACT,CAhF8B,G,iECpD1BqB,EAA8B,SAAqCC,EAAOC,EAAQjN,GAIpF,IAHA,IAAIkN,EAAW,EACXC,EAAY,EAGdD,EAAWC,EACXA,GAAY,UAEK,KAAbD,GAAiC,KAAdC,IACrBF,EAAOjN,GAAS,KAGd,QAAMmN,KAIV,UAGF,OAAO,QAAMH,EAAO,KACtB,EAkDII,EAA+B,IAAIrhB,QACnCshB,EAAS,SAAgBtmB,GAC3B,GAAqB,SAAjBA,EAAQ0W,MAAoB1W,EAAQ+D,UAExC/D,EAAQH,OAAS,GAFjB,CAUA,IAJA,IAAI4H,EAAQzH,EAAQyH,MAChB1D,EAAS/D,EAAQ+D,OACjBwiB,EAAiBvmB,EAAQwmB,SAAWziB,EAAOyiB,QAAUxmB,EAAQymB,OAAS1iB,EAAO0iB,KAE1D,SAAhB1iB,EAAO2S,MAEZ,KADA3S,EAASA,EAAOA,QACH,OAIf,IAA6B,IAAzB/D,EAAQ+J,MAAMlK,QAAwC,KAAxB4H,EAAMoI,WAAW,IAE/CwW,EAAc5gB,IAAI1B,MAMlBwiB,EAAJ,CAIAF,EAAc1gB,IAAI3F,GAAS,GAK3B,IAJA,IAAIkmB,EAAS,GACTQ,EArCS,SAAkBjf,EAAOye,GACtC,OAAO,QA5CK,SAAiBS,EAAQT,GAErC,IAAIjN,GAAS,EACTmN,EAAY,GAEhB,GACE,QAAQ,QAAMA,IACZ,KAAK,EAEe,KAAdA,GAA+B,MAAX,YAKtBF,EAAOjN,GAAS,GAGlB0N,EAAO1N,IAAU+M,EAA4B,KAAW,EAAGE,EAAQjN,GACnE,MAEF,KAAK,EACH0N,EAAO1N,KAAU,QAAQmN,GACzB,MAEF,KAAK,EAEH,GAAkB,KAAdA,EAAkB,CAEpBO,IAAS1N,GAAoB,MAAX,UAAgB,MAAQ,GAC1CiN,EAAOjN,GAAS0N,EAAO1N,GAAOpZ,OAC9B,KACF,CAIF,QACE8mB,EAAO1N,KAAU,QAAKmN,UAEnBA,GAAY,WAErB,OAAOO,CACT,CAGiBC,EAAQ,QAAMnf,GAAQye,GACvC,CAmCcW,CAASpf,EAAOye,GACxBY,EAAc/iB,EAAOgG,MAEhBrF,EAAI,EAAG0N,EAAI,EAAG1N,EAAIgiB,EAAM7mB,OAAQ6E,IACvC,IAAK,IAAIqiB,EAAI,EAAGA,EAAID,EAAYjnB,OAAQknB,IAAK3U,IAC3CpS,EAAQ+J,MAAMqI,GAAK8T,EAAOxhB,GAAKgiB,EAAMhiB,GAAG4G,QAAQ,OAAQwb,EAAYC,IAAMD,EAAYC,GAAK,IAAML,EAAMhiB,EAT3G,CAtBA,CAkCF,EACIsiB,EAAc,SAAqBhnB,GACrC,GAAqB,SAAjBA,EAAQ0W,KAAiB,CAC3B,IAAIjP,EAAQzH,EAAQyH,MAGI,MAAxBA,EAAMoI,WAAW,IACO,KAAxBpI,EAAMoI,WAAW,KAEf7P,EAAgB,OAAI,GACpBA,EAAQyH,MAAQ,GAEpB,CACF,EAIA,SAASwf,EAAOxf,EAAO5H,GACrB,QAAQ,QAAK4H,EAAO5H,IAElB,KAAK,KACH,OAAO,IAAS,SAAW4H,EAAQA,EAGrC,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KAEL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KAEL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KAEL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACH,OAAO,IAASA,EAAQA,EAG1B,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACH,OAAO,IAASA,EAAQ,KAAMA,EAAQ,EAAAyf,GAAKzf,EAAQA,EAGrD,KAAK,KACL,KAAK,KACH,OAAO,IAASA,EAAQ,EAAAyf,GAAKzf,EAAQA,EAGvC,KAAK,KACH,OAAO,IAASA,EAAQ,EAAAyf,GAAK,QAAUzf,EAAQA,EAGjD,KAAK,KACH,OAAO,IAASA,GAAQ,QAAQA,EAAO,iBAAkB,IAAS,WAAa,EAAAyf,GAAK,aAAezf,EAGrG,KAAK,KACH,OAAO,IAASA,EAAQ,EAAAyf,GAAK,cAAe,QAAQzf,EAAO,cAAe,IAAMA,EAGlF,KAAK,KACH,OAAO,IAASA,EAAQ,EAAAyf,GAAK,kBAAmB,QAAQzf,EAAO,4BAA6B,IAAMA,EAGpG,KAAK,KACH,OAAO,IAASA,EAAQ,EAAAyf,IAAK,QAAQzf,EAAO,SAAU,YAAcA,EAGtE,KAAK,KACH,OAAO,IAASA,EAAQ,EAAAyf,IAAK,QAAQzf,EAAO,QAAS,kBAAoBA,EAG3E,KAAK,KACH,OAAO,IAAS,QAAS,QAAQA,EAAO,QAAS,IAAM,IAASA,EAAQ,EAAAyf,IAAK,QAAQzf,EAAO,OAAQ,YAAcA,EAGpH,KAAK,KACH,OAAO,KAAS,QAAQA,EAAO,qBAAsB,KAAO,IAAS,MAAQA,EAG/E,KAAK,KACH,OAAO,SAAQ,SAAQ,QAAQA,EAAO,eAAgB,IAAS,MAAO,cAAe,IAAS,MAAOA,EAAO,IAAMA,EAGpH,KAAK,KACL,KAAK,KACH,OAAO,QAAQA,EAAO,oBAAqB,cAG7C,KAAK,KACH,OAAO,SAAQ,QAAQA,EAAO,oBAAqB,IAAS,cAAgB,EAAAyf,GAAK,gBAAiB,aAAc,WAAa,IAASzf,EAAQA,EAGhJ,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACH,OAAO,QAAQA,EAAO,kBAAmB,IAAS,QAAUA,EAG9D,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KAEH,IAAI,QAAOA,GAAS,EAAI5H,EAAS,EAAG,QAAQ,QAAO4H,EAAO5H,EAAS,IAEjE,KAAK,IAEH,GAAkC,MAA9B,QAAO4H,EAAO5H,EAAS,GAAW,MAGxC,KAAK,IACH,OAAO,QAAQ4H,EAAO,mBAAoB,KAAO,IAAP,UAAiC,MAAoC,MAA7B,QAAOA,EAAO5H,EAAS,GAAY,KAAO,UAAY4H,EAG1I,KAAK,IACH,QAAQ,QAAQA,EAAO,WAAawf,GAAO,QAAQxf,EAAO,UAAW,kBAAmB5H,GAAU4H,EAAQA,EAE9G,MAGF,KAAK,KAEH,GAAkC,OAA9B,QAAOA,EAAO5H,EAAS,GAAY,MAGzC,KAAK,KACH,QAAQ,QAAO4H,GAAO,QAAOA,GAAS,KAAM,QAAQA,EAAO,eAAiB,MAE1E,KAAK,IACH,OAAO,QAAQA,EAAO,IAAK,IAAM,KAAUA,EAG7C,KAAK,IACH,OAAO,QAAQA,EAAO,wBAAyB,KAAO,KAAgC,MAAtB,QAAOA,EAAO,IAAa,UAAY,IAAxD,UAA+E,IAA/E,SAAwG,EAAAyf,GAAK,WAAazf,EAG7K,MAGF,KAAK,KACH,QAAQ,QAAOA,EAAO5H,EAAS,KAE7B,KAAK,IACH,OAAO,IAAS4H,EAAQ,EAAAyf,IAAK,QAAQzf,EAAO,qBAAsB,MAAQA,EAG5E,KAAK,IACH,OAAO,IAASA,EAAQ,EAAAyf,IAAK,QAAQzf,EAAO,qBAAsB,SAAWA,EAG/E,KAAK,GACH,OAAO,IAASA,EAAQ,EAAAyf,IAAK,QAAQzf,EAAO,qBAAsB,MAAQA,EAG9E,OAAO,IAASA,EAAQ,EAAAyf,GAAKzf,EAAQA,EAGzC,OAAOA,CACT,CAEA,IAqCI0f,EAAuB,CArCZ,SAAkBnnB,EAASiZ,EAAOgI,EAAUmG,GACzD,GAAIpnB,EAAQH,QAAU,IAAQG,EAAgB,OAAG,OAAQA,EAAQ0W,MAC/D,KAAK,KACH1W,EAAgB,OAAIinB,EAAOjnB,EAAQyH,MAAOzH,EAAQH,QAClD,MAEF,KAAK,KACH,OAAO,OAAU,EAAC,OAAKG,EAAS,CAC9ByH,OAAO,QAAQzH,EAAQyH,MAAO,IAAK,IAAM,QACtC2f,GAEP,KAAK,KACH,GAAIpnB,EAAQH,OAAQ,OAAO,QAAQG,EAAQ+J,OAAO,SAAUtC,GAC1D,QAAQ,QAAMA,EAAO,0BAEnB,IAAK,aACL,IAAK,cACH,OAAO,OAAU,EAAC,OAAKzH,EAAS,CAC9B+J,MAAO,EAAC,QAAQtC,EAAO,cAAe,IAAM,KAAM,UAC/C2f,GAGP,IAAK,gBACH,OAAO,OAAU,EAAC,OAAKpnB,EAAS,CAC9B+J,MAAO,EAAC,QAAQtC,EAAO,aAAc,IAAM,IAAS,gBAClD,OAAKzH,EAAS,CAChB+J,MAAO,EAAC,QAAQtC,EAAO,aAAc,IAAM,KAAM,UAC/C,OAAKzH,EAAS,CAChB+J,MAAO,EAAC,QAAQtC,EAAO,aAAc,EAAAyf,GAAK,gBACvCE,GAGT,MAAO,EACT,IAEN,GAIIC,EAAc,SAAqB5kB,GACrC,IAAI2H,EAAM3H,EAAQ2H,IAElB,GAAY,QAARA,EAAe,CACjB,IAAIkd,EAAYpmB,SAASqmB,iBAAiB,qCAK1C7lB,MAAM2jB,UAAU7P,QAAQ8G,KAAKgL,GAAW,SAAUzkB,IASL,IAFhBA,EAAK2kB,aAAa,gBAEpBC,QAAQ,OAIjCvmB,SAAS8gB,KAAKC,YAAYpf,GAC1BA,EAAK8a,aAAa,SAAU,IAC9B,GACF,CAEA,IAGIhb,EAkBA+kB,EArBAC,EAAgBllB,EAAQklB,eAAiBR,EAEzCpI,EAAW,CAAC,EAEZ6I,EAAiB,GAGnBjlB,EAAYF,EAAQE,WAAazB,SAAS8gB,KAC1CtgB,MAAM2jB,UAAU7P,QAAQ8G,KAExBpb,SAASqmB,iBAAiB,wBAA2Bnd,EAAM,QAAS,SAAUvH,GAG5E,IAFA,IAAIglB,EAAShlB,EAAK2kB,aAAa,gBAAgBxlB,MAAM,KAE5C0C,EAAI,EAAGA,EAAImjB,EAAOhoB,OAAQ6E,IACjCqa,EAAS8I,EAAOnjB,KAAM,EAGxBkjB,EAAejJ,KAAK9b,EACtB,IAKF,IAGMilB,EAHFC,EAAqB,CAACzB,EAAQU,GAI5BgB,EAAoB,CAAC,KAAW,SAAU,SAAUzC,GACtDuC,EAAa9J,OAAOuH,EACtB,KACI0C,GAAa,QAAWF,EAAmBG,OAAOP,EAAeK,IAMrEN,EAAU,SAAgBS,EAAUpL,EAAYG,EAAOkL,GAJ1C,IAAgB9X,EAK3BwX,EAAe5K,EALY5M,EAOpB6X,EAAWA,EAAW,IAAMpL,EAAWzM,OAAS,IAAMyM,EAAWzM,QANjE,QAAU,QAAQA,GAAS2X,GAQ9BG,IACFtL,EAAMiC,SAAShC,EAAW3Q,OAAQ,EAEtC,EAGF,IAAI0Q,EAAQ,CACV1S,IAAKA,EACL8S,MAAO,IAAIyH,EAAW,CACpBva,IAAKA,EACLzH,UAAWA,EACXya,MAAO3a,EAAQ2a,MACfC,OAAQ5a,EAAQ4a,OAChB2H,QAASviB,EAAQuiB,QACjBF,eAAgBriB,EAAQqiB,iBAE1B1H,MAAO3a,EAAQ2a,MACf2B,SAAUA,EACVpO,WAAY,CAAC,EACbqN,OAAQ0J,GAGV,OADA5K,EAAMI,MAAMU,QAAQgK,GACb9K,CACT,C,mFCjbA,MAAMuL,EAAiB,CACnBnpB,EAAG,aACHS,EAAG,aACHmU,EAAG,aACHwU,qBAAsB,eAEpBC,EAAgB,IAAmB1oB,OCLzC,SAAS2oB,EAAgBvN,EAAO8E,EAAcvE,GAC1C,MAAM,MAAEtR,EAAK,KAAEgM,EAAI,gBAAEyF,GAAoBV,EAEzC,IAAIrH,GAAe,EACf6U,GAAqB,EAOzB,IAAK,MAAMre,KAAO2V,EAAc,CAC5B,MAAMtY,EAAQsY,EAAa3V,GAC3B,GAAI,IAAetE,IAAIsE,GAEnBwJ,GAAe,OAGd,IAAI,OAAkBxJ,GACvB8L,EAAK9L,GAAO3C,MAGX,CAED,MAAMihB,GAAc,OAAejhB,EAAOkhB,EAAA,EAAiBve,IACvDA,EAAImC,WAAW,WAEfkc,GAAqB,EACrB9M,EAAgBvR,GACZse,GAGJxe,EAAME,GAAOse,CAErB,CACJ,CAiBA,GAhBK3I,EAAavF,YACV5G,GAAgB4H,EAChBtR,EAAMsQ,UD1BlB,SAAwBuF,EAAcvF,EAAWgB,GAE7C,IAAIoN,EAAkB,GAClBC,GAAqB,EAKzB,IAAK,IAAInkB,EAAI,EAAGA,EAAI6jB,EAAe7jB,IAAK,CACpC,MAAM0F,EAAM,IAAmB1F,GACzB+C,EAAQsY,EAAa3V,GAC3B,QAAcpB,IAAVvB,EACA,SACJ,IAAIqhB,GAAiB,EAOrB,GALIA,EADiB,iBAAVrhB,EACUA,KAAW2C,EAAImC,WAAW,SAAW,EAAI,GAGnB,IAAtBvL,WAAWyG,IAE3BqhB,GAAkBtN,EAAmB,CACtC,MAAMkN,GAAc,OAAejhB,EAAOkhB,EAAA,EAAiBve,IACtD0e,IACDD,GAAqB,EAErBD,GAAmB,GADGP,EAAeje,IAAQA,KACNse,OAEvClN,IACAhB,EAAUpQ,GAAOse,EAEzB,CACJ,CAUA,OATAE,EAAkBA,EAAgB9mB,OAG9B0Z,EACAoN,EAAkBpN,EAAkBhB,EAAWqO,EAAqB,GAAKD,GAEpEC,IACLD,EAAkB,QAEfA,CACX,CChB8BG,CAAehJ,EAAc9E,EAAMT,UAAWgB,GAE3DtR,EAAMsQ,YAKXtQ,EAAMsQ,UAAY,SAOtBiO,EAAoB,CACpB,MAAM,QAAEO,EAAU,MAAK,QAAEC,EAAU,MAAK,QAAEC,EAAU,GAAOvN,EAC3DzR,EAAMyR,gBAAkB,GAAGqN,KAAWC,KAAWC,GACrD,CACJ,C,wECxDA,MAAMC,UAAyB,IAC3B,WAAAhM,GACI+B,SAAS7C,WACTgC,KAAK+K,iBAAmB,GAC5B,CACA,wBAAAC,CAAyBC,EAAGC,GAMxB,OAAsC,EAA/BD,EAAEE,wBAAwBD,GAAS,GAAK,CACnD,CACA,sBAAAE,CAAuB1f,EAAOK,GAC1B,OAAOL,EAAMG,MACPH,EAAMG,MAAME,QACZpB,CACV,CACA,0BAAA0gB,CAA2Btf,GAAK,KAAE8L,EAAI,MAAEhM,WAC7BgM,EAAK9L,UACLF,EAAME,EACjB,CACA,sBAAAuf,GACQtL,KAAKuL,oBACLvL,KAAKuL,2BACEvL,KAAKuL,mBAEhB,MAAM,SAAE3I,GAAa5C,KAAKtU,OACtB,OAAckX,KACd5C,KAAKuL,kBAAoB3I,EAASlH,GAAG,UAAWW,IACxC2D,KAAKlf,UACLkf,KAAKlf,QAAQ0qB,YAAc,GAAGnP,IAClC,IAGZ,E,kGChCJ,SAASoP,EAAWxnB,EAAOoM,EAAO0E,GAG9B,OAAOA,EADQ1E,GADYpM,EAAQ8Q,EAGvC,CAIA,SAAS2W,EAAgBznB,EAAO4Q,EAAWxE,EAAO0E,EAAa4W,GAI3D,YAHiBhhB,IAAbghB,IACA1nB,EAAQwnB,EAAWxnB,EAAO0nB,EAAU5W,IAEjC0W,EAAWxnB,EAAOoM,EAAO0E,GAAeF,CACnD,CAIA,SAAS+W,EAAe9pB,EAAM+S,EAAY,EAAGxE,EAAQ,EAAG0E,EAAa4W,GACjE7pB,EAAKmT,IAAMyW,EAAgB5pB,EAAKmT,IAAKJ,EAAWxE,EAAO0E,EAAa4W,GACpE7pB,EAAKoT,IAAMwW,EAAgB5pB,EAAKoT,IAAKL,EAAWxE,EAAO0E,EAAa4W,EACxE,CAIA,SAASE,EAAcC,GAAK,EAAEjrB,EAAC,EAAES,IAC7BsqB,EAAeE,EAAIjrB,EAAGA,EAAEgU,UAAWhU,EAAEwP,MAAOxP,EAAEkU,aAC9C6W,EAAeE,EAAIxqB,EAAGA,EAAEuT,UAAWvT,EAAE+O,MAAO/O,EAAEyT,YAClD,CACA,MAAMgX,EAAsB,cACtBC,EAAsB,gBAO5B,SAASC,EAAgBH,EAAKI,EAAWC,EAAUC,GAAqB,GACpE,MAAMC,EAAaF,EAAS3qB,OAC5B,IAAK6qB,EACD,OAGJ,IAAI7nB,EACA/B,EAFJypB,EAAUrrB,EAAIqrB,EAAU5qB,EAAI,EAG5B,IAAK,IAAI+E,EAAI,EAAGA,EAAIgmB,EAAYhmB,IAAK,CACjC7B,EAAO2nB,EAAS9lB,GAChB5D,EAAQ+B,EAAK8nB,gBAKb,MAAM,cAAE1gB,GAAkBpH,EAAKJ,QAC3BwH,GACAA,EAAcF,MAAMG,OACkB,aAAtCD,EAAcF,MAAMG,MAAM0gB,UAG1BH,GACA5nB,EAAKJ,QAAQooB,cACbhoB,EAAKioB,QACLjoB,IAASA,EAAK2R,MACdoH,EAAauO,EAAK,CACdjrB,GAAI2D,EAAKioB,OAAO1rB,OAAOF,EACvBS,GAAIkD,EAAKioB,OAAO1rB,OAAOO,IAG3BmB,IAEAypB,EAAUrrB,GAAK4B,EAAM5B,EAAEwP,MACvB6b,EAAU5qB,GAAKmB,EAAMnB,EAAE+O,MAEvBwb,EAAcC,EAAKrpB,IAEnB2pB,IAAsB,QAAa5nB,EAAKkd,eACxCnE,EAAauO,EAAKtnB,EAAKkd,cAE/B,CAKIwK,EAAUrrB,EAAImrB,GACdE,EAAUrrB,EAAIkrB,IACdG,EAAUrrB,EAAI,GAEdqrB,EAAU5qB,EAAI0qB,GACdE,EAAU5qB,EAAIyqB,IACdG,EAAU5qB,EAAI,EAEtB,CACA,SAASorB,EAAc5qB,EAAM6qB,GACzB7qB,EAAKmT,IAAMnT,EAAKmT,IAAM0X,EACtB7qB,EAAKoT,IAAMpT,EAAKoT,IAAMyX,CAC1B,CAMA,SAASC,EAAc9qB,EAAM+qB,EAAeC,EAAWnB,EAAUoB,EAAa,IAG1EnB,EAAe9pB,EAAM+qB,EAAeC,GAFhB,OAAUhrB,EAAKmT,IAAKnT,EAAKoT,IAAK6X,GAEUpB,EAChE,CAIA,SAASpO,EAAauO,EAAK3P,GACvByQ,EAAcd,EAAIjrB,EAAGsb,EAAUtb,EAAGsb,EAAU9G,OAAQ8G,EAAU9L,MAAO8L,EAAUwO,SAC/EiC,EAAcd,EAAIxqB,EAAG6a,EAAU7a,EAAG6a,EAAU7G,OAAQ6G,EAAU9L,MAAO8L,EAAUyO,QACnF,C,yEChHA,MAAMoC,EAAuB,CACzB,UACA,SACA,OACA,OACA,UACA,IACA,QACA,OACA,SACA,SACA,OACA,WACA,OACA,UACA,UACA,WACA,OACA,OACA,SACA,SACA,MACA,OACA,QACA,MACA,QC3BJ,SAASC,EAAeC,GACpB,MAKqB,iBAAdA,IAIHA,EAAUxpB,SAAS,SAOvBspB,EAAqB5D,QAAQ8D,IAAc,GAIvC,SAASC,KAAKD,GAItB,CCtBA,MAAME,EAAyB,CAACF,EAAW9oB,IAChC6oB,EAAeC,GAChB,IAAIG,EAAA,EAAiBjpB,GACrB,IAAIwc,EAAA,EAAkBxc,EAAS,CAC7BkpB,gBAAiBJ,IAAc,EAAA/G,W,0BCN3C,MAAMoH,GAAc,IAAAphB,eAAc,CAAEqhB,QAAQ,I,eCA5C,MAAMC,GAAgC,IAAAthB,eAAc,CAAC,G,0BCMrD,SAASuhB,EAA0BC,GAC/B,OAAOtqB,MAAMC,QAAQqqB,GAAQA,EAAK1kB,KAAK,KAAO0kB,CAClD,C,qCCJA,SAASC,EAAkBrpB,EAAQqE,EAAQ8C,GACvC,IAAK,MAAMK,KAAOnD,GACT,OAAcA,EAAOmD,MAAU,OAAoBA,EAAKL,KACzDnH,EAAOwH,GAAOnD,EAAOmD,GAGjC,CAkBA,SAAS8hB,EAAaniB,EAAOoiB,GAEzB,MAAMC,EAAY,CAAC,EACbliB,EAbV,SAAkBH,EAAOoiB,GACrB,MACMjiB,EAAQ,CAAC,EAMf,OAFA+hB,EAAkB/hB,EALAH,EAAMG,OAAS,CAAC,EAKEH,GACpCoO,OAAOE,OAAOnO,EAdlB,UAAgC,kBAAEsR,GAAqB2Q,GACnD,OAAO,IAAAxJ,UAAQ,KACX,MAAM1H,EChBsB,CAChC/Q,MAAO,CAAC,EACRsQ,UAAW,CAAC,EACZmB,gBAAiB,CAAC,EAClBzF,KAAM,CAAC,GDcH,OADA,OAAgB+E,EAAOkR,EAAa3Q,GAC7BrD,OAAOE,OAAO,CAAC,EAAG4C,EAAM/E,KAAM+E,EAAM/Q,MAAM,GAClD,CAACiiB,GACR,CAQyBE,CAAuBtiB,EAAOoiB,IAC5CjiB,CACX,CAIkBoiB,CAASviB,EAAOoiB,GAoB9B,OAnBIpiB,EAAM2B,OAA+B,IAAvB3B,EAAMwiB,eAEpBH,EAAUI,WAAY,EAEtBtiB,EAAMuiB,WACFviB,EAAMwiB,iBACFxiB,EAAMyiB,mBACF,OAEZziB,EAAM0iB,aACa,IAAf7iB,EAAM2B,KACA,OACA,QAAsB,MAAf3B,EAAM2B,KAAe,IAAM,WAEzB1C,IAAnBe,EAAM8iB,WACL9iB,EAAM+iB,OAAS/iB,EAAMgjB,YAAchjB,EAAMijB,YAC1CZ,EAAUS,SAAW,GAEzBT,EAAUliB,MAAQA,EACXkiB,CACX,C,8BEhDA,SAASa,EAAYljB,EAAOoiB,EAAae,EAAW3B,GAChD,MAAM4B,GAAc,IAAAxK,UAAQ,KACxB,MAAM1H,ECPqB,CFD/B/Q,MAAO,CAAC,EACRsQ,UAAW,CAAC,EACZmB,gBAAiB,CAAC,EAClBzF,KAAM,CAAC,EEAPwF,MAAO,CAAC,GDOJ,OADA,OAAcT,EAAOkR,GAAa,OAASZ,GAAYxhB,EAAMyR,kBAAmBzR,EAAMG,OAC/E,IACA+Q,EAAMS,MACTxR,MAAO,IAAK+Q,EAAM/Q,OACrB,GACF,CAACiiB,IACJ,GAAIpiB,EAAMG,MAAO,CACb,MAAMkjB,EAAY,CAAC,EACnBnB,EAAkBmB,EAAWrjB,EAAMG,MAAOH,GAC1CojB,EAAYjjB,MAAQ,IAAKkjB,KAAcD,EAAYjjB,MACvD,CACA,OAAOijB,CACX,CEhBA,MAAME,EAAmB,IAAI3nB,IAAI,CAC7B,UACA,OACA,WACA,UACA,QACA,SACA,WACA,aACA,oBACA,SACA,UACA,wBACA,mBACA,sBACA,WACA,cACA,SACA,YACA,2BACA,kBACA,sBACA,SACA,SACA,eACA,aACA,kBACA,kBACA,kBACA,eACA,aAUJ,SAAS4nB,EAAkBljB,GACvB,OAAQA,EAAImC,WAAW,UAClBnC,EAAImC,WAAW,SAAmB,cAARnC,GAC3BA,EAAImC,WAAW,WACfnC,EAAImC,WAAW,UACfnC,EAAImC,WAAW,UACfnC,EAAImC,WAAW,aACf8gB,EAAiBvnB,IAAIsE,EAC7B,CCpDA,IAAImjB,EAAiBnjB,IAASkjB,EAAkBljB,GAoBhD,IAlB+B,mBADEojB,EAyBLC,QAAQ,0BAA0BC,WArB1DH,EAAiBnjB,GAAQA,EAAImC,WAAW,OAAS+gB,EAAkBljB,GAAOojB,EAAYpjB,GAsB1F,CACA,MAEA,CA7BA,IAAiCojB,ECKjC,SAASG,EAAUpC,EAAWxhB,EAAO7B,GAAK,aAAE6X,GAAiB6N,EAAUC,GAAqB,GACxF,MAGMV,GAHiB7B,EAAeC,GAChC0B,EACAf,GAC6BniB,EAAOgW,EAAc6N,EAAUrC,GAC5DuC,EDoBV,SAAqB/jB,EAAOgkB,EAAOF,GAC/B,MAAMC,EAAgB,CAAC,EACvB,IAAK,MAAM1jB,KAAOL,EAQF,WAARK,GAA4C,iBAAjBL,EAAM3B,SAEjCmlB,EAAcnjB,KACU,IAAvByjB,GAA+BP,EAAkBljB,KAChD2jB,IAAUT,EAAkBljB,IAE7BL,EAAiB,WACdK,EAAImC,WAAW,aACnBuhB,EAAc1jB,GACVL,EAAMK,IAGlB,OAAO0jB,CACX,CC3C0BE,CAAYjkB,EAA4B,iBAAdwhB,EAAwBsC,GAClEI,EAAe1C,IAAc,EAAA/G,SAAW,IAAKsJ,KAAkBX,EAAajlB,OAAQ,CAAC,GAMrF,SAAE+Y,GAAalX,EACfia,GAAmB,IAAArB,UAAQ,KAAO,OAAc1B,GAAYA,EAASxb,MAAQwb,GAAW,CAACA,IAC/F,OAAO,IAAAc,eAAcwJ,EAAW,IACzB0C,EACHhN,SAAU+C,GAElB,C,gDCnBA,SAASkK,EAAmBzmB,GACxB,OAAO,OAAcA,GAASA,EAAMhC,MAAQgC,CAChD,CCQA,SAAS0mB,EAAiBpkB,EAAOY,EAASyjB,EAAiBC,GACvD,MAAMjmB,EAAS,CAAC,EACVkmB,EAAeD,EAAmBtkB,EAAO,CAAC,GAChD,IAAK,MAAMK,KAAOkkB,EACdlmB,EAAOgC,GAAO8jB,EAAmBI,EAAalkB,IAElD,IAAI,QAAEwK,EAAO,QAAE2Z,GAAYxkB,EAC3B,MAAMykB,GAA0B,OAAsBzkB,GAChD0kB,GAAkB,OAAc1kB,GAClCY,GACA8jB,IACCD,IACiB,IAAlBzkB,EAAM2kB,eACU1lB,IAAZ4L,IACAA,EAAUjK,EAAQiK,cACN5L,IAAZulB,IACAA,EAAU5jB,EAAQ4jB,UAE1B,IAAII,IAA4BP,IACE,IAA5BA,EAAgBxZ,QAEtB+Z,EAA4BA,IAAyC,IAAZ/Z,EACzD,MAAMga,EAAeD,EAA4BJ,EAAU3Z,EAC3D,GAAIga,GACwB,kBAAjBA,KACN,OAAoBA,GAAe,CACpC,MAAMC,EAAOntB,MAAMC,QAAQitB,GAAgBA,EAAe,CAACA,GAC3D,IAAK,IAAIlqB,EAAI,EAAGA,EAAImqB,EAAKhvB,OAAQ6E,IAAK,CAClC,MAAMoqB,GAAW,OAAwB/kB,EAAO8kB,EAAKnqB,IACrD,GAAIoqB,EAAU,CACV,MAAM,cAAEC,EAAa,WAAE7X,KAAetU,GAAWksB,EACjD,IAAK,MAAM1kB,KAAOxH,EAAQ,CACtB,IAAIosB,EAAcpsB,EAAOwH,GACrB1I,MAAMC,QAAQqtB,KAQdA,EAAcA,EAHAL,EACRK,EAAYnvB,OAAS,EACrB,IAGU,OAAhBmvB,IACA5mB,EAAOgC,GAAO4kB,EAEtB,CACA,IAAK,MAAM5kB,KAAO2kB,EACd3mB,EAAOgC,GAAO2kB,EAAc3kB,EAEpC,CACJ,CACJ,CACA,OAAOhC,CACX,CACA,MAAM6mB,EAAsBC,GAAW,CAACnlB,EAAO6jB,KAC3C,MAAMjjB,GAAU,IAAAC,YAAWkhB,GACrBsC,GAAkB,IAAAxjB,YAAWL,EAAA,GAC7B4kB,EAAO,IAjEjB,UAAmB,4BAAErlB,EAA2B,kBAAEslB,GAAsBrlB,EAAOY,EAASyjB,GAKpF,MAJc,CACVrO,aAAcoO,EAAiBpkB,EAAOY,EAASyjB,EAAiBtkB,GAChEgW,YAAasP,IAGrB,CA2DuBC,CAAUH,EAAQnlB,EAAOY,EAASyjB,GACrD,OAAOR,EAAWuB,KAAS,OAAYA,EAAK,ECvE1CG,EAAmCL,EAAmB,CACxDnlB,4B,SAA2B,EAC3BslB,kBRP0B,KAAM,CAChCllB,MAAO,CAAC,EACRsQ,UAAW,CAAC,EACZmB,gBAAiB,CAAC,EAClBzF,KAAM,CAAC,MSCLqZ,EAAkCN,EAAmB,CACvDnlB,4B,SAA6B,EAC7BslB,kBPLyB,KAAM,CFD/BllB,MAAO,CAAC,EACRsQ,UAAW,CAAC,EACZmB,gBAAiB,CAAC,EAClBzF,KAAM,CAAC,EEAPwF,MAAO,CAAC,M,0BQJZ,MAAM8T,EAAwBC,OAAOC,IAAI,yBCAzC,SAASC,EAAYznB,GACjB,OAAQA,GACW,iBAARA,GACPiQ,OAAOkN,UAAUuK,eAAetT,KAAKpU,EAAK,UAClD,CCIA,SAAS2nB,EAAa1D,EAAaliB,EAAe6lB,GAC9C,OAAO,IAAAtnB,cAAa6W,IACZA,GACA8M,EAAY4D,SAAW5D,EAAY4D,QAAQ1Q,GAE3CpV,IACIoV,EACApV,EAAc+lB,MAAM3Q,GAGpBpV,EAAcgmB,WAGlBH,IAC2B,mBAAhBA,EACPA,EAAYzQ,GAEPsQ,EAAYG,KACjBA,EAAY3wB,QAAUkgB,GAE9B,GAMJ,CAACpV,GACL,C,eC7BA,MAAMimB,GAA2B,IAAA1lB,eAAc,CAAC,G,cCKhD,SAAS2lB,EAAiB5E,EAAWY,EAAapiB,EAAOqmB,EAAqBC,GAC1E,MAAQpmB,cAAelG,IAAW,IAAA6G,YAAWkhB,GACvCwE,GAAc,IAAA1lB,YAAWghB,GACzBwC,GAAkB,IAAAxjB,YAAWL,EAAA,GAC7BgmB,GAAsB,IAAA3lB,YAAWwW,EAAA,GAAqBoP,cACtDC,GAAmB,IAAAnoB,QAAO,MAIhC8nB,EACIA,GACIE,EAAYI,UACfD,EAAiBtxB,SAAWixB,IAC7BK,EAAiBtxB,QAAUixB,EAAoB7E,EAAW,CACtDY,cACApoB,SACAgG,QACAqkB,kBACAuC,wBAAuBvC,IACW,IAA5BA,EAAgBxZ,QAEtB2b,yBAGR,MAAMtmB,EAAgBwmB,EAAiBtxB,QAKjCyxB,GAA2B,IAAAhmB,YAAWslB,IACxCjmB,GACCA,EAAcmM,aACfia,GACwB,SAAvBpmB,EAAcyM,MAA0C,QAAvBzM,EAAcyM,MA+DxD,SAA8BzM,EAAeF,EAAOsmB,EAA2BQ,GAC3E,MAAM,SAAEvkB,EAAQ,OAAEN,EAAM,KAAEN,EAAI,gBAAEolB,EAAe,aAAEjG,EAAY,WAAEkG,EAAU,gBAAEC,GAAqBjnB,EAChGE,EAAcmM,WAAa,IAAIia,EAA0BpmB,EAAc8V,aAAchW,EAAM,8BACrFf,EACAioB,EAAyBhnB,EAAclG,SAC7CkG,EAAcmM,WAAW8a,WAAW,CAChC5kB,WACAN,SACAmlB,oBAAqBvb,QAAQlK,IAAUolB,GAAmBnB,EAAYmB,GACtE7mB,gBAQAmnB,cAAiC,iBAAXplB,EAAsBA,EAAS,OACrD6kB,yBACAQ,UAAWL,EACXnG,eACAkG,cAER,CArFQO,CAAqBb,EAAiBtxB,QAAS4K,EAAOsmB,EAA2BO,GAErF,MAAMW,GAAY,IAAAjpB,SAAO,IACzB,IAAAsZ,qBAAmB,KAKX3X,GAAiBsnB,EAAUpyB,SAC3B8K,EAAckP,OAAOpP,EAAOqkB,EAChC,IAMJ,MAAMoD,EAAoBznB,EAAM,KAC1B0nB,GAAe,IAAAnpB,QAAOsN,QAAQ4b,KAC/BnsB,OAAOqsB,0BAA0BF,IAClCnsB,OAAOssB,8BAA8BH,IAyCzC,OAxCA,QAA0B,KACjBvnB,IAELsnB,EAAUpyB,SAAU,EACpBkG,OAAOusB,iBAAkB,EACzB3nB,EAAc4nB,iBACd5nB,EAAc6nB,0BAWVL,EAAatyB,SAAW8K,EAAc8nB,gBACtC9nB,EAAc8nB,eAAeC,iBACjC,KAEJ,IAAAxoB,YAAU,KACDS,KAEAwnB,EAAatyB,SAAW8K,EAAc8nB,gBACvC9nB,EAAc8nB,eAAeC,iBAE7BP,EAAatyB,UAEb8yB,gBAAe,KACX5sB,OAAO6sB,8BAA8BV,EAAkB,IAE3DC,EAAatyB,SAAU,GAM3B8K,EAAckoB,sBAAmBnpB,EAAS,IAEvCiB,CACX,CAyBA,SAASgnB,EAAyBhnB,GAC9B,GAAKA,EAEL,OAAiD,IAA1CA,EAAcxH,QAAQkpB,gBACvB1hB,EAAcmM,WACd6a,EAAyBhnB,EAAclG,OACjD,CC5GA,SAASquB,EAAsB7G,GAAW,mBAAEsC,GAAqB,GAAU,CAAC,EAAGwE,EAAmBjC,GAC9FiC,GC5BJ,SAAsBC,GAClB,IAAK,MAAMloB,KAAOkoB,EACd,IAAmBloB,GAAO,IACnB,IAAmBA,MACnBkoB,EAASloB,GAGxB,CDqByBmoB,CAAaF,GAClC,MAAMG,EAAiBlH,EAAeC,GAChCgE,EACAD,EACN,SAASmD,EAAmB1oB,EAAO+lB,GAK/B,IAAI4C,EACJ,MAAMC,EAAiB,KAChB,IAAA/nB,YAAWwW,EAAA,MACXrX,EACHuC,SAAUsmB,EAAY7oB,KAEpB,SAAE6jB,GAAa+E,EACfhoB,EjBzCd,SAAgCZ,GAC5B,MAAM,QAAE6K,EAAO,QAAE2Z,GmBHrB,SAAgCxkB,EAAOY,GACnC,IAAI,OAAsBZ,GAAQ,CAC9B,MAAM,QAAE6K,EAAO,QAAE2Z,GAAYxkB,EAC7B,MAAO,CACH6K,SAAqB,IAAZA,IAAqB,OAAeA,GACvCA,OACA5L,EACNulB,SAAS,OAAeA,GAAWA,OAAUvlB,EAErD,CACA,OAAyB,IAAlBe,EAAM2kB,QAAoB/jB,EAAU,CAAC,CAChD,CnBRiCkoB,CAAuB9oB,GAAO,IAAAa,YAAWkhB,IACtE,OAAO,IAAAnJ,UAAQ,KAAM,CAAG/N,UAAS2Z,aAAY,CAACxC,EAA0BnX,GAAUmX,EAA0BwC,IAChH,CiBsCwBuE,CAAuB/oB,GACjCoiB,EAAcqG,EAAezoB,EAAO6jB,GAC1C,IAAKA,GAAY,IAAW,EAgCf,IAAAhjB,YAAWghB,GAAaC,OA9BjC,MAAMkH,EA4ClB,SAAoChpB,GAChC,MAAM,KAAE2B,EAAI,OAAEM,GAAW,IACzB,IAAKN,IAASM,EACV,MAAO,CAAC,EACZ,MAAMgnB,EAAW,IAAKtnB,KAASM,GAC/B,MAAO,CACH0mB,cAAehnB,GAAMQ,UAAUnC,IAAUiC,GAAQE,UAAUnC,GACrDipB,EAASN,mBACT1pB,EACNiqB,eAAgBD,EAASC,eAEjC,CAvDqCC,CAA2BP,GACpDD,EAAgBK,EAAiBL,cAOjC/nB,EAAQV,cAAgBkmB,EAAiB5E,EAAWY,EAAawG,EAAgBvC,EAAqB2C,EAAiBE,eAC3H,CAKA,OAAQ,IAAAE,MAAKrH,EAAc/I,SAAU,CAAEtb,MAAOkD,EAASsW,SAAU,CAACyR,GAAiB/nB,EAAQV,eAAiB,IAAAmS,KAAIsW,EAAe,CAAEzoB,cAAeU,EAAQV,iBAAkB0oB,IAAqB,KAAMhF,EAAUpC,EAAWxhB,EAAO8lB,EAAa1D,EAAaxhB,EAAQV,cAAe6lB,GAAc3D,EAAayB,EAAUC,KAC3T,CACA4E,EAAmBW,YAAc,UAA+B,iBAAd7H,EAC5CA,EACA,UAAUA,EAAU6H,aAAe7H,EAAUnf,MAAQ,QAC3D,MAAMinB,GAA4B,IAAAC,YAAWb,GAE7C,OADAY,EAA0B7D,GAAyBjE,EAC5C8H,CACX,CACA,SAAST,GAAY,SAAEtmB,IACnB,MAAMinB,GAAgB,IAAA3oB,YAAW0Z,EAAAC,GAAoBvZ,GACrD,OAAOuoB,QAA8BvqB,IAAbsD,EAClBinB,EAAgB,IAAMjnB,EACtBA,CACV,CG3EA,SAASknB,EAAkBnB,EAAmBjC,GAC1C,GAAqB,oBAAVqD,MACP,OAAOrB,EAMX,MAAMsB,EAAiB,IAAI3sB,IACrB4sB,EAAU,CAACpI,EAAW9oB,IACjB2vB,EAAsB7G,EAAW9oB,EAAS4vB,EAAmBjC,GAWxE,OAAO,IAAIqD,OANuB,CAAClI,EAAW9oB,IAInCkxB,EAAQpI,EAAW9oB,IAEc,CAMxCgD,IAAK,CAACmuB,EAASxpB,IACC,WAARA,EACOupB,GAIND,EAAe5tB,IAAIsE,IACpBspB,EAAe/tB,IAAIyE,EAAKgoB,EAAsBhoB,OAAKpB,EAAWqpB,EAAmBjC,IAE9EsD,EAAejuB,IAAI2E,KAGtC,C,yBC1CA,SAASypB,GAAiB5S,EAAUgC,EAAOrL,EAAeC,EAAkB,EAAGC,EAAmB,GAC9F,MAAMmB,EAAQvX,MAAMwW,KAAK+I,GACpB6S,MAAK,CAACxK,EAAGC,IAAMD,EAAEyK,iBAAiBxK,KAClC9B,QAAQxE,GACP+Q,EAAc/S,EAASta,KACvBstB,GAAsBD,EAAc,GAAKnc,EAE/C,MADiD,mBAAlBD,EAEzBA,EAAcqB,EAAO+a,GACA,IAArBlc,EACImB,EAAQpB,EACRoc,EAAqBhb,EAAQpB,CAC3C,CCRA,SAASqc,GAAejqB,EAAekqB,EAAS1xB,EAAU,CAAC,GACvD,MAAMqsB,GAAW,OAAe7kB,EAAekqB,EAA0B,SAAjB1xB,EAAQiU,KAC1DzM,EAAcmkB,iBAAiBhO,YAC/BpX,GACN,IAAI,WAAEkO,EAAajN,EAAcwO,wBAA0B,CAAC,GAAMqW,GAAY,CAAC,EAC3ErsB,EAAQ2xB,qBACRld,EAAazU,EAAQ2xB,oBAMzB,MAAMC,EAAevF,EACf,IAAMwF,QAAQhgB,KAAI,OAAcrK,EAAe6kB,EAAUrsB,IACzD,IAAM6xB,QAAQC,UAKdC,EAAqBvqB,EAAcwqB,iBAAmBxqB,EAAcwqB,gBAAgB9tB,KACpF,CAAC+tB,EAAe,KACd,MAAM,cAAE9c,EAAgB,EAAC,gBAAEC,EAAe,iBAAEC,GAAsBZ,EAClE,OAkBZ,SAAyBjN,EAAekqB,EAAS7c,EAAQ,EAAGM,EAAgB,EAAGC,EAAkB,EAAGC,EAAmB,EAAGrV,GACtH,MAAMkyB,EAAa,GACnB,IAAK,MAAM1R,KAAShZ,EAAcwqB,gBAC9BxR,EAAMne,OAAO,iBAAkBqvB,GAC/BQ,EAAWhW,KAAKuV,GAAejR,EAAOkR,EAAS,IACxC1xB,EACH6U,MAAOA,GACuB,mBAAlBM,EAA+B,EAAIA,GAC3Cic,GAAiB5pB,EAAcwqB,gBAAiBxR,EAAOrL,EAAeC,EAAiBC,KAC5F8c,MAAK,IAAM3R,EAAMne,OAAO,oBAAqBqvB,MAEpD,OAAOG,QAAQhgB,IAAIqgB,EACvB,CA9BmBE,CAAgB5qB,EAAekqB,EAASO,EAAc9c,EAAeC,EAAiBC,EAAkBrV,EAAQ,EAEzH,IAAM6xB,QAAQC,WAKd,KAAE7c,GAASR,EACjB,GAAIQ,EAAM,CACN,MAAOod,EAAOC,GAAiB,mBAATrd,EAChB,CAAC2c,EAAcG,GACf,CAACA,EAAoBH,GAC3B,OAAOS,IAAQF,MAAK,IAAMG,KAC9B,CAEI,OAAOT,QAAQhgB,IAAI,CAAC+f,IAAgBG,EAAmB/xB,EAAQ6U,QAEvE,C,gBC3CA,SAAS0d,GAAezkB,EAAMnQ,GAC1B,IAAKsB,MAAMC,QAAQvB,GACf,OAAO,EACX,MAAM60B,EAAa70B,EAAKP,OACxB,GAAIo1B,IAAe1kB,EAAK1Q,OACpB,OAAO,EACX,IAAK,IAAI6E,EAAI,EAAGA,EAAIuwB,EAAYvwB,IAC5B,GAAItE,EAAKsE,KAAO6L,EAAK7L,GACjB,OAAO,EAEf,OAAO,CACX,C,gBCRA,MAAMwwB,GAAkB,KAAar1B,OACrC,SAASs1B,GAAkBlrB,GACvB,IAAKA,EACD,OACJ,IAAKA,EAAcmrB,sBAAuB,CACtC,MAAMzqB,EAAUV,EAAclG,QACxBoxB,GAAkBlrB,EAAclG,SAChC,CAAC,EAIP,YAHoCiF,IAAhCiB,EAAcF,MAAM6K,UACpBjK,EAAQiK,QAAU3K,EAAcF,MAAM6K,SAEnCjK,CACX,CACA,MAAMA,EAAU,CAAC,EACjB,IAAK,IAAIjG,EAAI,EAAGA,EAAIwwB,GAAiBxwB,IAAK,CACtC,MAAM0H,EAAO,KAAa1H,GACpBsnB,EAAO/hB,EAAcF,MAAMqC,KAC7B,OAAe4f,KAAkB,IAATA,KACxBrhB,EAAQyB,GAAQ4f,EAExB,CACA,OAAOrhB,CACX,CCfA,MAAM0qB,GAAuB,IAAI,MAAsBC,UACjDC,GAAoB,KAAqB11B,OAI/C,SAAS21B,GAAqBvrB,GAC1B,IAAIskB,EAJR,SAAqBtkB,GACjB,OAAQ0qB,GAAeL,QAAQhgB,IAAIqgB,EAAW7a,KAAI,EAAGjR,YAAWpG,aCTpE,SAA8BwH,EAAekW,EAAY1d,EAAU,CAAC,GAEhE,IAAIoG,EACJ,GAFAoB,EAAcnF,OAAO,iBAAkBqb,GAEnCze,MAAMC,QAAQwe,GAAa,CAC3B,MAAMwU,EAAaxU,EAAWrG,KAAKqa,GAAYD,GAAejqB,EAAekqB,EAAS1xB,KACtFoG,EAAYyrB,QAAQhgB,IAAIqgB,EAC5B,MACK,GAA0B,iBAAfxU,EACZtX,EAAYqrB,GAAejqB,EAAekW,EAAY1d,OAErD,CACD,MAAMgzB,EAA2C,mBAAftV,GAC5B,OAAelW,EAAekW,EAAY1d,EAAQ2d,QAClDD,EACNtX,EAAYyrB,QAAQhgB,KAAI,OAAcrK,EAAewrB,EAAoBhzB,GAC7E,CACA,OAAOoG,EAAU+rB,MAAK,KAClB3qB,EAAcnF,OAAO,oBAAqBqb,EAAW,GAE7D,CDVkFuV,CAAqBzrB,EAAepB,EAAWpG,KACjI,CAEkBkzB,CAAY1rB,GACtBgR,EAAQ2a,KACRjS,GAAkB,EAKtB,MAAMkS,EAA2Bnf,GAAS,CAACof,EAAK3V,KAC5C,MAAM2O,GAAW,OAAe7kB,EAAekW,EAAqB,SAATzJ,EACrDzM,EAAcmkB,iBAAiBhO,YAC/BpX,GACN,GAAI8lB,EAAU,CACV,MAAM,WAAE5X,EAAU,cAAE6X,KAAkBnsB,GAAWksB,EACjDgH,EAAM,IAAKA,KAAQlzB,KAAWmsB,EAClC,CACA,OAAO+G,CAAG,EAmBd,SAAS9D,EAAe+D,GACpB,MAAM,MAAEhsB,GAAUE,EACZU,EAAUwqB,GAAkBlrB,EAAclG,SAAW,CAAC,EAKtD4wB,EAAa,GAKbqB,EAAc,IAAItwB,IAMxB,IAAIuwB,EAAkB,CAAC,EAKnBC,EAAsBC,IAO1B,IAAK,IAAIzxB,EAAI,EAAGA,EAAI6wB,GAAmB7wB,IAAK,CACxC,MAAMgS,EAAO2e,GAAqB3wB,GAC5B0xB,EAAYnb,EAAMvE,GAClBsV,OAAuBhjB,IAAhBe,EAAM2M,GACb3M,EAAM2M,GACN/L,EAAQ+L,GACR2f,GAAgB,OAAerK,GAK/BsK,EAAc5f,IAASqf,EAAoBK,EAAUG,SAAW,MAClD,IAAhBD,IACAJ,EAAsBxxB,GAO1B,IAAI8xB,EAAcxK,IAASrhB,EAAQ+L,IAC/BsV,IAASjiB,EAAM2M,IACf2f,EAYJ,GAXIG,GACA7S,GACA1Z,EAAcwsB,yBACdD,GAAc,GAMlBJ,EAAUM,cAAgB,IAAKT,IAI7BG,EAAUG,UAA4B,OAAhBD,IAElBtK,IAASoK,EAAUO,WAErB,OAAoB3K,IACJ,kBAATA,EACP,SAOJ,MAAM4K,GA2Mcx2B,EA3M4Bg2B,EAAUO,SA4M9C,iBADcpmB,EA3M0Cyb,GA6MjEzb,IAASnQ,IAEXsB,MAAMC,QAAQ4O,KACXykB,GAAezkB,EAAMnQ,IA/MzB,IAAIy2B,EAAoBD,GAEnBlgB,IAASqf,GACNK,EAAUG,WACTC,GACDH,GAEH3xB,EAAIwxB,GAAuBG,EAC5BS,GAAuB,EAK3B,MAAMC,EAAiBr1B,MAAMC,QAAQqqB,GAAQA,EAAO,CAACA,GAKrD,IAAIgL,EAAiBD,EAAeE,OAAOpB,EAAwBnf,GAAO,CAAC,IACvD,IAAhB4f,IACAU,EAAiB,CAAC,GAUtB,MAAM,mBAAEE,EAAqB,CAAC,GAAMd,EAC9Be,EAAU,IACTD,KACAF,GAEDI,EAAiBhtB,IACnBysB,GAAoB,EAChBb,EAAYlwB,IAAIsE,KAChB0sB,GAAuB,EACvBd,EAAYtvB,OAAO0D,IAEvBgsB,EAAUiB,eAAejtB,IAAO,EAChC,MAAMqN,EAAcxN,EAAcI,SAASD,GACvCqN,IACAA,EAAYnN,WAAY,EAAK,EAErC,IAAK,MAAMF,KAAO+sB,EAAS,CACvB,MAAM5mB,EAAOymB,EAAe5sB,GACtBhK,EAAO82B,EAAmB9sB,GAEhC,GAAI6rB,EAAgBrG,eAAexlB,GAC/B,SAIJ,IAAIktB,GAAkB,EAElBA,GADA,QAAkB/mB,KAAS,QAAkBnQ,IAC1B40B,GAAezkB,EAAMnQ,GAGtBmQ,IAASnQ,EAE3Bk3B,EACI/mB,QAEA6mB,EAAchtB,GAId4rB,EAAYnwB,IAAIuE,QAGNpB,IAATuH,GAAsBylB,EAAYlwB,IAAIsE,GAK3CgtB,EAAchtB,GAOdgsB,EAAUM,cAActsB,IAAO,CAEvC,CAKAgsB,EAAUO,SAAW3K,EACrBoK,EAAUc,mBAAqBF,EAC3BZ,EAAUG,WACVN,EAAkB,IAAKA,KAAoBe,IAE3CrT,GAAmB1Z,EAAc0mB,wBACjCkG,GAAoB,GAMxB,MAAMU,EAAuBf,GAAeI,EAExCC,KADoBU,GAAwBT,IAE5CnC,EAAWhW,QAAQoY,EAAejd,KAAKjR,IACnC,MAAMpG,EAAU,CAAEiU,QAMlB,GAAyB,iBAAd7N,GACP8a,IACC4T,GACDttB,EAAcwsB,wBACdxsB,EAAclG,OAAQ,CACtB,MAAM,OAAEA,GAAWkG,EACbutB,GAAgB,OAAezzB,EAAQ8E,GAC7C,GAAI9E,EAAOouB,kBAAoBqF,EAAe,CAC1C,MAAM,cAAE5f,GAAkB4f,EAActgB,YAAc,CAAC,EACvDzU,EAAQ6U,MAAQuc,GAAiB9vB,EAAOouB,iBAAkBloB,EAAe2N,EAC7E,CACJ,CACA,MAAO,CACH/O,UAAWA,EACXpG,UACH,IAGb,CAuER,IAAgCrC,EAAMmQ,EAjE9B,GAAIylB,EAAYrvB,KAAM,CAClB,MAAM8wB,EAAoB,CAAC,EAK3B,GAA6B,kBAAlB1tB,EAAM6K,QAAuB,CACpC,MAAM8iB,GAAoB,OAAeztB,EAAevI,MAAMC,QAAQoI,EAAM6K,SACtE7K,EAAM6K,QAAQ,GACd7K,EAAM6K,SACR8iB,GAAqBA,EAAkBxgB,aACvCugB,EAAkBvgB,WAAawgB,EAAkBxgB,WAEzD,CACA8e,EAAYxgB,SAASpL,IACjB,MAAMutB,EAAiB1tB,EAAc2tB,cAAcxtB,GAC7CqN,EAAcxN,EAAcI,SAASD,GACvCqN,IACAA,EAAYnN,WAAY,GAE5BmtB,EAAkBrtB,GAAOutB,GAAkB,IAAI,IAEnDhD,EAAWhW,KAAK,CAAE9V,UAAW4uB,GACjC,CACA,IAAII,EAAgBjiB,QAAQ+e,EAAW90B,QAOvC,OANI8jB,IACmB,IAAlB5Z,EAAM6K,SAAqB7K,EAAM6K,UAAY7K,EAAMwkB,SACnDtkB,EAAcwsB,yBACfoB,GAAgB,GAEpBlU,GAAkB,EACXkU,EAAgBtJ,EAAQoG,GAAcL,QAAQC,SACzD,CAiBA,MAAO,CACHvC,iBACA8F,UAfJ,SAAmBphB,EAAM6f,GAErB,GAAItb,EAAMvE,GAAM6f,WAAaA,EACzB,OAAOjC,QAAQC,UAEnBtqB,EAAcwqB,iBAAiBjf,SAASyN,GAAUA,EAAM8O,gBAAgB+F,UAAUphB,EAAM6f,KACxFtb,EAAMvE,GAAM6f,SAAWA,EACvB,MAAM5B,EAAa3C,EAAetb,GAClC,IAAK,MAAMtM,KAAO6Q,EACdA,EAAM7Q,GAAKssB,cAAgB,CAAC,EAEhC,OAAO/B,CACX,EAIIoD,mBA1RJ,SAA4BC,GACxBzJ,EAAUyJ,EAAa/tB,EAC3B,EAyRIguB,SAAU,IAAMhd,EAChBid,MAAO,KACHjd,EAAQ2a,IAAa,EASjC,CAUA,SAASuC,GAAgB5B,GAAW,GAChC,MAAO,CACHA,WACAG,cAAe,CAAC,EAChBW,eAAgB,CAAC,EACjBH,mBAAoB,CAAC,EAE7B,CACA,SAAStB,KACL,MAAO,CACHrH,QAAS4J,IAAgB,GACzBC,YAAaD,KACbE,WAAYF,KACZnL,SAAUmL,KACVG,UAAWH,KACXI,WAAYJ,KACZ1sB,KAAM0sB,KAEd,CEvWA,MAAMK,GACF,WAAArb,CAAYta,GACRwb,KAAKkT,WAAY,EACjBlT,KAAKxb,KAAOA,CAChB,CACA,MAAAsW,GAAW,ECHf,IAAInO,GAAK,ECCT,MAAM2pB,GAAa,CACf9rB,UAAW,CACP2vB,QCDR,cAA+BA,GAM3B,WAAArb,CAAYta,GACRqc,MAAMrc,GACNA,EAAKkvB,iBAAmBlvB,EAAKkvB,eAAiByD,GAAqB3yB,GACvE,CACA,mCAAA41B,GACI,MAAM,QAAElK,GAAYlQ,KAAKxb,KAAKwd,YAC1B,OAAoBkO,KACpBlQ,KAAKqa,gBAAkBnK,EAAQ7jB,UAAU2T,KAAKxb,MAEtD,CAIA,KAAAmtB,GACI3R,KAAKoa,qCACT,CACA,MAAAtf,GACI,MAAM,QAAEoV,GAAYlQ,KAAKxb,KAAKwd,YACtBkO,QAASoK,GAAgBta,KAAKxb,KAAKmH,WAAa,CAAC,EACrDukB,IAAYoK,GACZta,KAAKoa,qCAEb,CACA,OAAAxI,GACI5R,KAAKxb,KAAKkvB,eAAemG,QACzB7Z,KAAKqa,mBACT,ID7BAjtB,KAAM,CACF+sB,QDLR,cAAmCA,GAC/B,WAAArb,GACI+B,SAAS7C,WACTgC,KAAKrT,GAAKA,IACd,CACA,MAAAmO,GACI,IAAKkF,KAAKxb,KAAKurB,gBACX,OACJ,MAAM,UAAEvjB,EAAS,eAAEC,GAAmBuT,KAAKxb,KAAKurB,iBACxCvjB,UAAW+tB,GAAkBva,KAAKxb,KAAKg2B,qBAAuB,CAAC,EACvE,IAAKxa,KAAKxb,KAAKkvB,gBAAkBlnB,IAAc+tB,EAC3C,OAEJ,MAAME,EAAgBza,KAAKxb,KAAKkvB,eAAe+F,UAAU,QAASjtB,GAC9DC,IAAmBD,GACnBiuB,EAAclE,MAAK,KACf9pB,EAAeuT,KAAKrT,GAAG,GAGnC,CACA,KAAAglB,GACI,MAAM,SAAEjlB,EAAQ,eAAED,GAAmBuT,KAAKxb,KAAKurB,iBAAmB,CAAC,EAC/DtjB,GACAA,EAAeuT,KAAKrT,IAEpBD,IACAsT,KAAK4R,QAAUllB,EAASsT,KAAKrT,IAErC,CACA,OAAAilB,GAAY,K,wFGhChB,SAAS8I,GAAYn2B,EAAQo2B,EAAWhzB,EAASvD,EAAU,CAAE8D,SAAS,IAElE,OADA3D,EAAO0D,iBAAiB0yB,EAAWhzB,EAASvD,GACrC,IAAMG,EAAOiE,oBAAoBmyB,EAAWhzB,EACvD,C,eCDA,SAASizB,GAAiBC,GACtB,MAAO,CACH52B,MAAO,CACHpD,EAAGg6B,EAAMC,MACTx5B,EAAGu5B,EAAME,OAGrB,CCNA,SAASC,GAAgBz2B,EAAQo2B,EAAWhzB,EAASvD,GACjD,OAAOs2B,GAAYn2B,EAAQo2B,EDMR,CAAChzB,GACZkzB,IAAU,QAAiBA,IAAUlzB,EAAQkzB,EAAOD,GAAiBC,ICPvCI,CAAetzB,GAAUvD,EACnE,C,gBCGA,SAAS82B,GAAWp5B,GAChB,OAAOA,EAAKoT,IAAMpT,EAAKmT,GAC3B,CAIA,SAASkmB,GAAc14B,EAAOmG,EAAQrE,EAAQuQ,EAAS,IACnDrS,EAAMqS,OAASA,EACfrS,EAAMsS,aAAc,QAAUnM,EAAOqM,IAAKrM,EAAOsM,IAAKzS,EAAMqS,QAC5DrS,EAAM4N,MAAQ6qB,GAAW32B,GAAU22B,GAAWtyB,GAC9CnG,EAAMoS,WACF,QAAUtQ,EAAO0Q,IAAK1Q,EAAO2Q,IAAKzS,EAAMqS,QAAUrS,EAAMsS,aACvDtS,EAAM4N,OAjBG,OAiBmB5N,EAAM4N,OAhBzB,QAiBV+qB,MAAM34B,EAAM4N,UACZ5N,EAAM4N,MAAQ,IAEb5N,EAAMoS,YAlBO,KAmBdpS,EAAMoS,WAlBQ,KAmBdumB,MAAM34B,EAAMoS,cACZpS,EAAMoS,UAAY,EAE1B,CACA,SAASwmB,GAAa54B,EAAOmG,EAAQrE,EAAQuQ,GACzCqmB,GAAc14B,EAAM5B,EAAG+H,EAAO/H,EAAG0D,EAAO1D,EAAGiU,EAASA,EAAO6V,aAAUhgB,GACrEwwB,GAAc14B,EAAMnB,EAAGsH,EAAOtH,EAAGiD,EAAOjD,EAAGwT,EAASA,EAAO8V,aAAUjgB,EACzE,CACA,SAAS2wB,GAAiB/2B,EAAQg3B,EAAU71B,GACxCnB,EAAO0Q,IAAMvP,EAAOuP,IAAMsmB,EAAStmB,IACnC1Q,EAAO2Q,IAAM3Q,EAAO0Q,IAAMimB,GAAWK,EACzC,CAKA,SAASC,GAAyBj3B,EAAQoJ,EAAQjI,GAC9CnB,EAAO0Q,IAAMtH,EAAOsH,IAAMvP,EAAOuP,IACjC1Q,EAAO2Q,IAAM3Q,EAAO0Q,IAAMimB,GAAWvtB,EACzC,CACA,SAAS8tB,GAAqBl3B,EAAQoJ,EAAQjI,GAC1C81B,GAAyBj3B,EAAO1D,EAAG8M,EAAO9M,EAAG6E,EAAO7E,GACpD26B,GAAyBj3B,EAAOjD,EAAGqM,EAAOrM,EAAGoE,EAAOpE,EACxD,C,gBCjDA,SAASo6B,GAAS3S,GACd,MAAO,CAACA,EAAS,KAAMA,EAAS,KACpC,C,gBCDA,MAAM4S,GAAmB,EAAG76B,aACjBA,EAAUA,EAAQ86B,cAAcC,YAAc,K,wCCFzD,MAAMlP,GAAW,CAAC1B,EAAGC,IAAMhR,KAAK4hB,IAAI7Q,EAAIC,GCSxC,MAAM6Q,GACF,WAAAjd,CAAY+b,EAAOmB,GAAU,mBAAE1a,EAAkB,cAAE2a,EAAgBj1B,OAAM,iBAAEk1B,GAAmB,EAAK,kBAAEC,EAAoB,GAAO,CAAC,GAgE7H,GA5DAnc,KAAKoc,WAAa,KAIlBpc,KAAKqc,cAAgB,KAIrBrc,KAAKsc,kBAAoB,KAIzBtc,KAAKgc,SAAW,CAAC,EAIjBhc,KAAKic,cAAgBj1B,OACrBgZ,KAAKuc,YAAc,KACf,IAAMvc,KAAKqc,gBAAiBrc,KAAKsc,kBAC7B,OACJ,MAAMz6B,EAAO26B,GAAWxc,KAAKsc,kBAAmBtc,KAAKyc,SAC/CC,EAAmC,OAApB1c,KAAKoc,WAIpBO,EDtClB,SAAoB1R,EAAGC,GAEnB,MAAM0R,EAASjQ,GAAS1B,EAAEpqB,EAAGqqB,EAAErqB,GACzBg8B,EAASlQ,GAAS1B,EAAE3pB,EAAG4pB,EAAE5pB,GAC/B,OAAO4Y,KAAKC,KAAKyiB,GAAU,EAAIC,GAAU,EAC7C,CCiC4CC,CAAWj7B,EAAKd,OAAQ,CAAEF,EAAG,EAAGS,EAAG,KAAQ0e,KAAKmc,kBAChF,IAAKO,IAAiBC,EAClB,OACJ,MAAM,MAAE14B,GAAUpC,GACZ,UAAE+F,GAAc,MACtBoY,KAAKyc,QAAQnc,KAAK,IAAKrc,EAAO2D,cAC9B,MAAM,QAAEgP,EAAO,OAAEmmB,GAAW/c,KAAKgc,SAC5BU,IACD9lB,GAAWA,EAAQoJ,KAAKqc,cAAex6B,GACvCme,KAAKoc,WAAapc,KAAKqc,eAE3BU,GAAUA,EAAO/c,KAAKqc,cAAex6B,EAAK,EAE9Cme,KAAKgd,kBAAoB,CAACnC,EAAOh5B,KAC7Bme,KAAKqc,cAAgBxB,EACrB7a,KAAKsc,kBAAoBW,GAAep7B,EAAMme,KAAKsB,oBAEnD,MAAMxG,OAAOkF,KAAKuc,aAAa,EAAK,EAExCvc,KAAKkd,gBAAkB,CAACrC,EAAOh5B,KAC3Bme,KAAK3d,MACL,MAAM,MAAEgV,EAAK,aAAE8lB,EAAY,gBAAEC,GAAoBpd,KAAKgc,SAGtD,GAFIhc,KAAKkc,kBACLkB,GAAmBA,KACjBpd,KAAKqc,gBAAiBrc,KAAKsc,kBAC7B,OACJ,MAAMe,EAAUb,GAA0B,kBAAf3B,EAAMxiB,KAC3B2H,KAAKsc,kBACLW,GAAep7B,EAAMme,KAAKsB,oBAAqBtB,KAAKyc,SACtDzc,KAAKoc,YAAc/kB,GACnBA,EAAMwjB,EAAOwC,GAEjBF,GAAgBA,EAAatC,EAAOwC,EAAQ,IAG3C,QAAiBxC,GAClB,OACJ7a,KAAKkc,iBAAmBA,EACxBlc,KAAKgc,SAAWA,EAChBhc,KAAKsB,mBAAqBA,EAC1BtB,KAAKmc,kBAAoBA,EACzBnc,KAAKic,cAAgBA,GAAiBj1B,OACtC,MACMs2B,EAAcL,GADPrC,GAAiBC,GACW7a,KAAKsB,qBACxC,MAAErd,GAAUq5B,GACZ,UAAE11B,GAAc,MACtBoY,KAAKyc,QAAU,CAAC,IAAKx4B,EAAO2D,cAC5B,MAAM,eAAE21B,GAAmBvB,EAC3BuB,GACIA,EAAe1C,EAAO2B,GAAWc,EAAatd,KAAKyc,UACvDzc,KAAKwd,iBAAkB,EAAAC,GAAA,GAAKzC,GAAgBhb,KAAKic,cAAe,cAAejc,KAAKgd,mBAAoBhC,GAAgBhb,KAAKic,cAAe,YAAajc,KAAKkd,iBAAkBlC,GAAgBhb,KAAKic,cAAe,gBAAiBjc,KAAKkd,iBAC9O,CACA,cAAAQ,CAAe1B,GACXhc,KAAKgc,SAAWA,CACpB,CACA,GAAA35B,GACI2d,KAAKwd,iBAAmBxd,KAAKwd,mBAC7B,SAAYxd,KAAKuc,YACrB,EAEJ,SAASU,GAAep7B,EAAMyf,GAC1B,OAAOA,EAAqB,CAAErd,MAAOqd,EAAmBzf,EAAKoC,QAAWpC,CAC5E,CACA,SAAS87B,GAAc1S,EAAGC,GACtB,MAAO,CAAErqB,EAAGoqB,EAAEpqB,EAAIqqB,EAAErqB,EAAGS,EAAG2pB,EAAE3pB,EAAI4pB,EAAE5pB,EACtC,CACA,SAASk7B,IAAW,MAAEv4B,GAASw4B,GAC3B,MAAO,CACHx4B,QACAxB,MAAOk7B,GAAc15B,EAAO25B,GAAgBnB,IAC5C17B,OAAQ48B,GAAc15B,EAAO45B,GAAiBpB,IAC9Cp7B,SAAU6X,GAAYujB,EAAS,IAEvC,CACA,SAASoB,GAAiBpB,GACtB,OAAOA,EAAQ,EACnB,CACA,SAASmB,GAAgBnB,GACrB,OAAOA,EAAQA,EAAQj7B,OAAS,EACpC,CACA,SAAS0X,GAAYujB,EAASqB,GAC1B,GAAIrB,EAAQj7B,OAAS,EACjB,MAAO,CAAEX,EAAG,EAAGS,EAAG,GAEtB,IAAI+E,EAAIo2B,EAAQj7B,OAAS,EACrBu8B,EAAmB,KACvB,MAAMC,EAAYJ,GAAgBnB,GAClC,KAAOp2B,GAAK,IACR03B,EAAmBtB,EAAQp2B,KACvB23B,EAAUp2B,UAAYm2B,EAAiBn2B,WACvC,QAAsBk2B,MAG1Bz3B,IAEJ,IAAK03B,EACD,MAAO,CAAEl9B,EAAG,EAAGS,EAAG,GAEtB,MAAMV,GAAO,QAAsBo9B,EAAUp2B,UAAYm2B,EAAiBn2B,WAC1E,GAAa,IAAThH,EACA,MAAO,CAAEC,EAAG,EAAGS,EAAG,GAEtB,MAAM28B,EAAkB,CACpBp9B,GAAIm9B,EAAUn9B,EAAIk9B,EAAiBl9B,GAAKD,EACxCU,GAAI08B,EAAU18B,EAAIy8B,EAAiBz8B,GAAKV,GAQ5C,OANIq9B,EAAgBp9B,IAAMi3B,MACtBmG,EAAgBp9B,EAAI,GAEpBo9B,EAAgB38B,IAAMw2B,MACtBmG,EAAgB38B,EAAI,GAEjB28B,CACX,C,4BC3HA,SAASC,GAA4Bp8B,EAAMmT,EAAKC,GAC5C,MAAO,CACHD,SAAatK,IAARsK,EAAoBnT,EAAKmT,IAAMA,OAAMtK,EAC1CuK,SAAavK,IAARuK,EACCpT,EAAKoT,IAAMA,GAAOpT,EAAKoT,IAAMpT,EAAKmT,UAClCtK,EAEd,CAcA,SAASwzB,GAA4BC,EAAYC,GAC7C,IAAIppB,EAAMopB,EAAgBppB,IAAMmpB,EAAWnpB,IACvCC,EAAMmpB,EAAgBnpB,IAAMkpB,EAAWlpB,IAO3C,OAJImpB,EAAgBnpB,IAAMmpB,EAAgBppB,IACtCmpB,EAAWlpB,IAAMkpB,EAAWnpB,OAC3BA,EAAKC,GAAO,CAACA,EAAKD,IAEhB,CAAEA,MAAKC,MAClB,CAuCA,MAAMopB,GAAiB,IAgBvB,SAASC,GAAmBC,EAAaC,EAAUC,GAC/C,MAAO,CACHzpB,IAAK0pB,GAAoBH,EAAaC,GACtCvpB,IAAKypB,GAAoBH,EAAaE,GAE9C,CACA,SAASC,GAAoBH,EAAaI,GACtC,MAA8B,iBAAhBJ,EACRA,EACAA,EAAYI,IAAU,CAChC,CC5GA,MAAMC,GAAsB,IAAIl4B,QAChC,MAAMm4B,GACF,WAAAhgB,CAAYlT,GACRoU,KAAK+e,aAAe,KACpB/e,KAAKgf,YAAa,EAClBhf,KAAKif,iBAAmB,KACxBjf,KAAKjL,YAAc,CAAElU,EAAG,EAAGS,EAAG,GAI9B0e,KAAKkf,aAAc,EACnBlf,KAAKmf,uBAAwB,EAI7Bnf,KAAKof,SAAU,WAIfpf,KAAKqf,mBAAqB,KAI1Brf,KAAKsf,cAAgB,KACrBtf,KAAKpU,cAAgBA,CACzB,CACA,KAAAzJ,CAAMo9B,GAAa,aAAEC,GAAe,EAAK,kBAAErD,GAAsB,CAAC,GAI9D,MAAM,gBAAEpM,GAAoB/P,KAAKpU,cACjC,GAAImkB,IAAiD,IAA9BA,EAAgBvjB,UACnC,OACJ,MAmGM,iBAAE0vB,GAAqBlc,KAAKgC,WAClChC,KAAKyf,WAAa,IAAI1D,GAAWwD,EAAa,CAC1ChC,eArGoB1C,IACpB,MAAM,iBAAEqB,GAAqBlc,KAAKgC,WAGlCka,EAAmBlc,KAAK0f,iBAAmB1f,KAAK2f,gBAC5CH,GACAxf,KAAKwf,aAAa5E,GAAiBC,GAAO52B,MAC9C,EA+FA2S,QA7FY,CAACikB,EAAOh5B,KAEpB,MAAM,KAAEwL,EAAI,gBAAEuyB,EAAe,YAAEC,GAAgB7f,KAAKgC,WACpD,GAAI3U,IAASuyB,IACL5f,KAAK+e,cACL/e,KAAK+e,eACT/e,KAAK+e,cAAe,QAAY1xB,IAE3B2S,KAAK+e,cACN,OAER/e,KAAKqf,mBAAqBxE,EAC1B7a,KAAKsf,cAAgBz9B,EACrBme,KAAKgf,YAAa,EAClBhf,KAAKif,iBAAmB,KACxBjf,KAAK8f,qBACD9f,KAAKpU,cAAcmM,aACnBiI,KAAKpU,cAAcmM,WAAWgoB,oBAAqB,EACnD/f,KAAKpU,cAAcmM,WAAWxT,YAASoG,GAK3C+wB,IAAU55B,IACN,IAAIhB,EAAUkf,KAAKggB,mBAAmBl+B,GAAMsF,OAAS,EAIrD,GAAI,MAAQ+lB,KAAKrsB,GAAU,CACvB,MAAM,WAAEiX,GAAeiI,KAAKpU,cAC5B,GAAImM,GAAcA,EAAWpK,OAAQ,CACjC,MAAMsyB,EAAeloB,EAAWpK,OAAOuyB,UAAUp+B,GAC7Cm+B,IAEAn/B,EADeo6B,GAAW+E,IACNt9B,WAAW7B,GAAW,KAElD,CACJ,CACAkf,KAAKjL,YAAYjT,GAAQhB,CAAO,IAGhC++B,GACA,MAAMM,YAAW,IAAMN,EAAYhF,EAAOh5B,MAE9C,QAAqBme,KAAKpU,cAAe,aACzC,MAAM,eAAE8nB,GAAmB1T,KAAKpU,cAChC8nB,GAAkBA,EAAe+F,UAAU,aAAa,EAAK,EAgD7DsD,OA9CW,CAAClC,EAAOh5B,KACnBme,KAAKqf,mBAAqBxE,EAC1B7a,KAAKsf,cAAgBz9B,EACrB,MAAM,gBAAE+9B,EAAe,kBAAEQ,EAAiB,gBAAEC,EAAe,OAAEC,GAAYtgB,KAAKgC,WAE9E,IAAK4d,IAAoB5f,KAAK+e,aAC1B,OACJ,MAAM,OAAEh+B,GAAWc,EAEnB,GAAIu+B,GAA+C,OAA1BpgB,KAAKif,iBAM1B,OALAjf,KAAKif,iBAiXrB,SAA6Bl+B,EAAQw/B,EAAgB,IACjD,IAAIC,EAAY,KAOhB,OANItmB,KAAK4hB,IAAI/6B,EAAOO,GAAKi/B,EACrBC,EAAY,IAEPtmB,KAAK4hB,IAAI/6B,EAAOF,GAAK0/B,IAC1BC,EAAY,KAETA,CACX,CA1XwCC,CAAoB1/B,QAEd,OAA1Bif,KAAKif,kBACLoB,GAAmBA,EAAgBrgB,KAAKif,mBAKhDjf,KAAK0gB,WAAW,IAAK7+B,EAAKoC,MAAOlD,GACjCif,KAAK0gB,WAAW,IAAK7+B,EAAKoC,MAAOlD,GAOjCif,KAAKpU,cAAc+W,SAKnB2d,GAAUA,EAAOzF,EAAOh5B,EAAK,EAgB7Bs7B,aAdiB,CAACtC,EAAOh5B,KACzBme,KAAKqf,mBAAqBxE,EAC1B7a,KAAKsf,cAAgBz9B,EACrBme,KAAK2gB,KAAK9F,EAAOh5B,GACjBme,KAAKqf,mBAAqB,KAC1Brf,KAAKsf,cAAgB,IAAI,EAUzBlC,gBARoB,IAAM1B,IAAU55B,GAA0C,WAAjCke,KAAK4gB,kBAAkB9+B,IACpEke,KAAKggB,mBAAmBl+B,GAAM0I,WAAWq2B,UAQ1C,CACCvf,mBAAoBtB,KAAKpU,cAAck1B,wBACvC5E,mBACAC,oBACAF,cAAeN,GAAiB3b,KAAKpU,gBAE7C,CAIA,IAAA+0B,CAAK9F,EAAOwC,GACR,MAAM0D,EAAalG,GAAS7a,KAAKqf,mBAC3B2B,EAAe3D,GAAWrd,KAAKsf,cAC/BN,EAAahf,KAAKgf,WAExB,GADAhf,KAAK3W,UACA21B,IAAegC,IAAiBD,EACjC,OACJ,MAAM,SAAE1/B,GAAa2/B,EACrBhhB,KAAKihB,eAAe5/B,GACpB,MAAM,UAAE6/B,GAAclhB,KAAKgC,WACvBkf,GACA,MAAMf,YAAW,IAAMe,EAAUH,EAAYC,IAErD,CAIA,MAAA33B,GACI2W,KAAKgf,YAAa,EAClB,MAAM,WAAEjnB,EAAU,eAAE2b,GAAmB1T,KAAKpU,cACxCmM,IACAA,EAAWgoB,oBAAqB,GAEpC/f,KAAKyf,YAAczf,KAAKyf,WAAWp9B,MACnC2d,KAAKyf,gBAAa90B,EAClB,MAAM,gBAAEi1B,GAAoB5f,KAAKgC,YAC5B4d,GAAmB5f,KAAK+e,eACzB/e,KAAK+e,eACL/e,KAAK+e,aAAe,MAExBrL,GAAkBA,EAAe+F,UAAU,aAAa,EAC5D,CACA,UAAAiH,CAAW5+B,EAAMq/B,EAAQpgC,GACrB,MAAM,KAAEsM,GAAS2S,KAAKgC,WAEtB,IAAKjhB,IAAWqgC,GAAWt/B,EAAMuL,EAAM2S,KAAKif,kBACxC,OACJ,MAAMoC,EAAYrhB,KAAKggB,mBAAmBl+B,GAC1C,IAAIoQ,EAAO8N,KAAKjL,YAAYjT,GAAQf,EAAOe,GAEvCke,KAAKkf,aAAelf,KAAKkf,YAAYp9B,KACrCoQ,EDtMZ,SAA0BjO,GAAO,IAAEgR,EAAG,IAAEC,GAAOkqB,GAa3C,YAZYz0B,IAARsK,GAAqBhR,EAAQgR,EAE7BhR,EAAQm7B,GACF,QAAUnqB,EAAKhR,EAAOm7B,EAAQnqB,KAC9BiF,KAAKhF,IAAIjR,EAAOgR,QAETtK,IAARuK,GAAqBjR,EAAQiR,IAElCjR,EAAQm7B,GACF,QAAUlqB,EAAKjR,EAAOm7B,EAAQlqB,KAC9BgF,KAAKjF,IAAIhR,EAAOiR,IAEnBjR,CACX,CCwLmBq9B,CAAiBpvB,EAAM8N,KAAKkf,YAAYp9B,GAAOke,KAAKof,QAAQt9B,KAEvEu/B,EAAU/5B,IAAI4K,EAClB,CACA,kBAAA4tB,GACI,MAAM,gBAAErN,EAAe,YAAE+L,GAAgBxe,KAAKgC,WACxCrU,EAASqS,KAAKpU,cAAcmM,aAC7BiI,KAAKpU,cAAcmM,WAAWpK,OAC7BqS,KAAKpU,cAAcmM,WAAW1T,SAAQ,GACtC2b,KAAKpU,cAAcmM,YAAYpK,OAC/B4zB,EAAkBvhB,KAAKkf,YACzBzM,GAAmBnB,EAAYmB,GAC1BzS,KAAKkf,cACNlf,KAAKkf,YAAclf,KAAKwhB,yBAKxBxhB,KAAKkf,eADLzM,IAAmB9kB,IDvLnC,SAAiCuyB,GAAW,IAAE56B,EAAG,KAAED,EAAI,OAAEo8B,EAAM,MAAEhf,IAC7D,MAAO,CACH5hB,EAAGq9B,GAA4BgC,EAAUr/B,EAAGwE,EAAMod,GAClDnhB,EAAG48B,GAA4BgC,EAAU5+B,EAAGgE,EAAKm8B,GAEzD,CCmLmCC,CAAwB/zB,EAAOuyB,UAAWzN,GAMrEzS,KAAKof,QDhIb,SAA4BZ,EAAcF,IAOtC,OANoB,IAAhBE,EACAA,EAAc,GAEO,IAAhBA,IACLA,EAAcF,IAEX,CACHz9B,EAAG09B,GAAmBC,EAAa,OAAQ,SAC3Cl9B,EAAGi9B,GAAmBC,EAAa,MAAO,UAElD,CCqHuBmD,CAAmBnD,GAK9B+C,IAAoBvhB,KAAKkf,aACzBvxB,GACAqS,KAAKkf,cACJlf,KAAKmf,uBACNzD,IAAU55B,KACmB,IAArBke,KAAKkf,aACLlf,KAAKggB,mBAAmBl+B,KACxBke,KAAKkf,YAAYp9B,GD1JrC,SAA+B6L,EAAQuxB,GACnC,MAAM0C,EAAsB,CAAC,EAO7B,YANwBj3B,IAApBu0B,EAAYjqB,MACZ2sB,EAAoB3sB,IAAMiqB,EAAYjqB,IAAMtH,EAAOsH,UAE/BtK,IAApBu0B,EAAYhqB,MACZ0sB,EAAoB1sB,IAAMgqB,EAAYhqB,IAAMvH,EAAOsH,KAEhD2sB,CACX,CCiJ6CC,CAAsBl0B,EAAOuyB,UAAUp+B,GAAOke,KAAKkf,YAAYp9B,IAC5F,GAGZ,CACA,qBAAA0/B,GACI,MAAQ/O,gBAAiByM,EAAW,yBAAE4C,GAA6B9hB,KAAKgC,WACxE,IAAKkd,IAAgB5N,EAAY4N,GAC7B,OAAO,EACX,MAAM6C,EAAqB7C,EAAYp+B,SACvC,QAAiC,OAAvBihC,EAA6B,yGAA0G,wBACjJ,MAAM,WAAEhqB,GAAeiI,KAAKpU,cAE5B,IAAKmM,IAAeA,EAAWpK,OAC3B,OAAO,EACX,MAAMq0B,GAAiB,EAAA39B,GAAA,GAAe09B,EAAoBhqB,EAAW5B,KAAM6J,KAAKpU,cAAck1B,yBAC9F,IAAImB,EDnMZ,SAAiC/B,EAAW8B,GACxC,MAAO,CACHnhC,EAAGs9B,GAA4B+B,EAAUr/B,EAAGmhC,EAAenhC,GAC3DS,EAAG68B,GAA4B+B,EAAU5+B,EAAG0gC,EAAe1gC,GAEnE,CC8LkC4gC,CAAwBnqB,EAAWpK,OAAOuyB,UAAW8B,GAK/E,GAAIF,EAA0B,CAC1B,MAAMK,EAAkBL,GAAyB,SAAwBG,IACzEjiB,KAAKmf,wBAA0BgD,EAC3BA,IACAF,GAAsB,SAAwBE,GAEtD,CACA,OAAOF,CACX,CACA,cAAAhB,CAAe5/B,GACX,MAAM,KAAEgM,EAAI,aAAE+0B,EAAY,YAAE5D,EAAW,eAAE6D,EAAc,iBAAEnG,EAAgB,oBAAEoG,GAAyBtiB,KAAKgC,WACnGkd,EAAclf,KAAKkf,aAAe,CAAC,EACnCqD,EAAqB7G,IAAU55B,IACjC,IAAKs/B,GAAWt/B,EAAMuL,EAAM2S,KAAKif,kBAC7B,OAEJ,IAAIpmB,EAAcqmB,GAAeA,EAAYp9B,IAAU,CAAC,EACpDo6B,IACArjB,EAAa,CAAE5D,IAAK,EAAGC,IAAK,IAOhC,MAAMstB,EAAkBhE,EAAc,IAAM,IACtCiE,EAAgBjE,EAAc,GAAK,IACnCkE,EAAU,CACZrqB,KAAM,UACNhX,SAAU+gC,EAAe/gC,EAASS,GAAQ,EAC1C0gC,kBACAC,gBACAE,aAAc,IACdC,UAAW,EACXpqB,UAAW,MACR6pB,KACAxpB,GAKP,OAAOmH,KAAK6iB,wBAAwB/gC,EAAM4gC,EAAQ,IAGtD,OAAOzM,QAAQhgB,IAAIssB,GAAoBhM,KAAK+L,EAChD,CACA,uBAAAO,CAAwB/gC,EAAM+W,GAC1B,MAAMwoB,EAAYrhB,KAAKggB,mBAAmBl+B,GAE1C,OADA,QAAqBke,KAAKpU,cAAe9J,GAClCu/B,EAAUl/B,OAAM,QAAmBL,EAAMu/B,EAAW,EAAGxoB,EAAYmH,KAAKpU,eAAe,GAClG,CACA,aAAA+zB,GACIjE,IAAU55B,GAASke,KAAKggB,mBAAmBl+B,GAAM6+B,QACrD,CACA,cAAAjB,GACIhE,IAAU55B,GAASke,KAAKggB,mBAAmBl+B,GAAM0I,WAAWK,SAChE,CACA,iBAAA+1B,CAAkB9+B,GACd,OAAOke,KAAKggB,mBAAmBl+B,GAAM0I,WAAWoS,KACpD,CAOA,kBAAAojB,CAAmBl+B,GACf,MAAMghC,EAAU,QAAQhhC,EAAKihC,gBACvBr3B,EAAQsU,KAAKpU,cAAcoW,WAEjC,OAD4BtW,EAAMo3B,IAG5B9iB,KAAKpU,cAAcI,SAASlK,GAAO4J,EAAM6K,QACrC7K,EAAM6K,QAAQzU,QACd6I,IAAc,EAC5B,CACA,YAAA60B,CAAav7B,GACTy3B,IAAU55B,IACN,MAAM,KAAEuL,GAAS2S,KAAKgC,WAEtB,IAAKof,GAAWt/B,EAAMuL,EAAM2S,KAAKif,kBAC7B,OACJ,MAAM,WAAElnB,GAAeiI,KAAKpU,cACtBy1B,EAAYrhB,KAAKggB,mBAAmBl+B,GAC1C,GAAIiW,GAAcA,EAAWpK,OAAQ,CACjC,MAAM,IAAEsH,EAAG,IAAEC,GAAQ6C,EAAWpK,OAAOuyB,UAAUp+B,GACjDu/B,EAAU/5B,IAAIrD,EAAMnC,IAAQ,QAAUmT,EAAKC,EAAK,IACpD,IAER,CAMA,8BAAA8tB,GACI,IAAKhjB,KAAKpU,cAAc9K,QACpB,OACJ,MAAM,KAAEuM,EAAI,gBAAEolB,GAAoBzS,KAAKgC,YACjC,WAAEjK,GAAeiI,KAAKpU,cAC5B,IAAK0lB,EAAYmB,KAAqB1a,IAAeiI,KAAKkf,YACtD,OAKJlf,KAAK2f,gBAKL,MAAMsD,EAAc,CAAEpiC,EAAG,EAAGS,EAAG,GAC/Bo6B,IAAU55B,IACN,MAAMu/B,EAAYrhB,KAAKggB,mBAAmBl+B,GAC1C,GAAIu/B,IAAkC,IAArBrhB,KAAKkf,YAAuB,CACzC,MAAM7iB,EAASglB,EAAUj6B,MACzB67B,EAAYnhC,GDlT5B,SAAoB8G,EAAQrE,GACxB,IAAIuQ,EAAS,GACb,MAAMouB,EAAehI,GAAWtyB,GAC1BzH,EAAe+5B,GAAW32B,GAOhC,OANIpD,EAAe+hC,EACfpuB,GAAS,EAAA9T,GAAA,GAASuD,EAAO0Q,IAAK1Q,EAAO2Q,IAAMguB,EAAct6B,EAAOqM,KAE3DiuB,EAAe/hC,IACpB2T,GAAS,EAAA9T,GAAA,GAAS4H,EAAOqM,IAAKrM,EAAOsM,IAAM/T,EAAcoD,EAAO0Q,OAE7D,EAAA1O,GAAA,GAAM,EAAG,EAAGuO,EACvB,CCuSoCquB,CAAW,CAAEluB,IAAKoH,EAAQnH,IAAKmH,GAAU2D,KAAKkf,YAAYp9B,GAClF,KAKJ,MAAM,kBAAEqb,GAAsB6C,KAAKpU,cAAcoW,WACjDhC,KAAKpU,cAAc9K,QAAQ+K,MAAMsQ,UAAYgB,EACvCA,EAAkB,CAAC,EAAG,IACtB,OACNpF,EAAW5B,MAAQ4B,EAAW5B,KAAKitB,eACnCrrB,EAAWsrB,eACXrjB,KAAK8f,qBAKLpE,IAAU55B,IACN,IAAKs/B,GAAWt/B,EAAMuL,EAAM,MACxB,OAIJ,MAAMg0B,EAAYrhB,KAAKggB,mBAAmBl+B,IACpC,IAAEmT,EAAG,IAAEC,GAAQ8K,KAAKkf,YAAYp9B,GACtCu/B,EAAU/5B,KAAI,QAAU2N,EAAKC,EAAK+tB,EAAYnhC,IAAO,GAE7D,CACA,YAAAwhC,GACI,IAAKtjB,KAAKpU,cAAc9K,QACpB,OACJ+9B,GAAoBv3B,IAAI0Y,KAAKpU,cAAeoU,MAC5C,MAIMujB,EAAsBvI,GAJZhb,KAAKpU,cAAc9K,QAIkB,eAAgB+5B,IACjE,MAAM,KAAExtB,EAAI,aAAE6gB,GAAe,GAASlO,KAAKgC,WAC3C3U,GAAQ6gB,GAAgBlO,KAAK7d,MAAM04B,EAAM,IAEvC2I,EAAyB,KAC3B,MAAM,gBAAE/Q,GAAoBzS,KAAKgC,WAC7BsP,EAAYmB,IAAoBA,EAAgB3xB,UAChDkf,KAAKkf,YAAclf,KAAKwhB,wBAC5B,GAEE,WAAEzpB,GAAeiI,KAAKpU,cACtB63B,EAA4B1rB,EAAW9P,iBAAiB,UAAWu7B,GACrEzrB,IAAeA,EAAWpK,SAC1BoK,EAAW5B,MAAQ4B,EAAW5B,KAAKitB,eACnCrrB,EAAWsrB,gBAEf,MAAMr7B,KAAKw7B,GAKX,MAAME,EAAqBhJ,GAAY1zB,OAAQ,UAAU,IAAMgZ,KAAKgjB,mCAK9DW,EAA2B5rB,EAAW9P,iBAAiB,aAAa,EAAIxF,QAAOmhC,uBAC7E5jB,KAAKgf,YAAc4E,IACnBlI,IAAU55B,IACN,MAAMsX,EAAc4G,KAAKggB,mBAAmBl+B,GACvCsX,IAEL4G,KAAKjL,YAAYjT,IAASW,EAAMX,GAAM+S,UACtCuE,EAAY9R,IAAI8R,EAAYhS,MAAQ3E,EAAMX,GAAM+S,WAAU,IAE9DmL,KAAKpU,cAAc+W,SAE1B,IACD,MAAO,KACH+gB,IACAH,IACAE,IACAE,GAA4BA,GAA0B,CAE9D,CACA,QAAA3hB,GACI,MAAMtW,EAAQsU,KAAKpU,cAAcoW,YAC3B,KAAE3U,GAAO,EAAK,kBAAE+yB,GAAoB,EAAK,gBAAER,GAAkB,EAAK,gBAAEnN,GAAkB,EAAK,YAAE+L,EAAcF,GAAc,aAAE8D,GAAe,GAAU12B,EAC1J,MAAO,IACAA,EACH2B,OACA+yB,oBACAR,kBACAnN,kBACA+L,cACA4D,eAER,EAEJ,SAAShB,GAAWZ,EAAWnzB,EAAM4xB,GACjC,SAAkB,IAAT5xB,GAAiBA,IAASmzB,GACT,OAArBvB,GAA6BA,IAAqBuB,EAC3D,CCvdA,MAAMqD,GAAgBl8B,GAAY,CAACkzB,EAAOh5B,KAClC8F,GACA,MAAMw4B,YAAW,IAAMx4B,EAAQkzB,EAAOh5B,IAC1C,E,4BCLJ,MAAMiiC,GAAwB,CAK1BC,wBAAwB,EAKxBC,gBAAgB,GCbpB,SAASC,GAAgBC,EAAQpiC,GAC7B,OAAIA,EAAKoT,MAAQpT,EAAKmT,IACX,EACHivB,GAAUpiC,EAAKoT,IAAMpT,EAAKmT,KAAQ,GAC9C,CAQA,MAAMkvB,GAAsB,CACxBC,QAAS,CAAC/nB,EAAQ7X,KACd,IAAKA,EAAKD,OACN,OAAO8X,EAKX,GAAsB,iBAAXA,EAAqB,CAC5B,IAAI,GAAAqB,GAAGyP,KAAK9Q,GAIR,OAAOA,EAHPA,EAAS1Z,WAAW0Z,EAK5B,CAOA,MAAO,GAFG4nB,GAAgB5nB,EAAQ7X,EAAKD,OAAO1D,OACpCojC,GAAgB5nB,EAAQ7X,EAAKD,OAAOjD,KAC1B,G,gBClC5B,MAAM+iC,GAAmB,CACrBD,QAAS,CAAC/nB,GAAU6P,YAAWI,sBAC3B,MAAMgY,EAAWjoB,EACXkoB,EAASC,GAAA,EAAQC,MAAMpoB,GAE7B,GAAIkoB,EAAO/iC,OAAS,EAChB,OAAO8iC,EACX,MAAMI,EAAWF,GAAA,EAAQG,kBAAkBtoB,GACrCtb,EAA8B,iBAAdwjC,EAAO,GAAkB,EAAI,EAE7CK,EAAStY,EAAgBzrB,EAAEwP,MAAQ6b,EAAUrrB,EAC7CgkC,EAASvY,EAAgBhrB,EAAE+O,MAAQ6b,EAAU5qB,EACnDijC,EAAO,EAAIxjC,IAAW6jC,EACtBL,EAAO,EAAIxjC,IAAW8jC,EAOtB,MAAMC,GAAe,QAAUF,EAAQC,EAAQ,IAO/C,MALkC,iBAAvBN,EAAO,EAAIxjC,KAClBwjC,EAAO,EAAIxjC,IAAW+jC,GAEQ,iBAAvBP,EAAO,EAAIxjC,KAClBwjC,EAAO,EAAIxjC,IAAW+jC,GACnBJ,EAASH,EAAO,G,gBCT/B,IAAIQ,IAAsB,EAC1B,MAAMC,WAAiC,EAAA9X,UAMnC,iBAAA+X,GACI,MAAM,cAAEr5B,EAAa,YAAEs5B,EAAW,kBAAEC,EAAiB,SAAEl3B,GAAa+R,KAAKtU,OACnE,WAAEqM,GAAenM,GACvB,QAAkBw5B,IACdrtB,IACImtB,EAAYG,OACZH,EAAYG,MAAM79B,IAAIuQ,GACtBotB,GAAqBA,EAAkBz4B,UAAYuB,GACnDk3B,EAAkBz4B,SAASqL,GAE3BgtB,IACAhtB,EAAW5B,KAAKmvB,YAEpBvtB,EAAW9P,iBAAiB,qBAAqB,KAC7C+X,KAAKnT,cAAc,IAEvBkL,EAAW8a,WAAW,IACf9a,EAAW3T,QACdqI,eAAgB,IAAMuT,KAAKnT,kBAGnCi3B,GAAsBE,gBAAiB,CAC3C,CACA,uBAAA7hB,CAAwBxW,GACpB,MAAM,iBAAE45B,EAAgB,cAAE35B,EAAa,KAAEyB,EAAI,UAAEb,GAAcwT,KAAKtU,OAC5D,WAAEqM,GAAenM,EACvB,OAAKmM,GASLA,EAAWvL,UAAYA,EACvBu4B,IAAsB,EAClB13B,GACA1B,EAAU45B,mBAAqBA,QACV56B,IAArB46B,GACA55B,EAAUa,YAAcA,EACxBuL,EAAWytB,aAGXxlB,KAAKnT,eAELlB,EAAUa,YAAcA,IACpBA,EACAuL,EAAW0tB,UAEL1tB,EAAW2tB,YAMjB,MAAMvF,YAAW,KACb,MAAMwF,EAAQ5tB,EAAW6tB,WACpBD,GAAUA,EAAME,QAAQrkC,QACzBwe,KAAKnT,cACT,KAIL,MArCI,IAsCf,CACA,kBAAA6V,GACI,MAAM,WAAE3K,GAAeiI,KAAKtU,MAAME,cAC9BmM,IACAA,EAAW5B,KAAKmvB,YAChBQ,GAAA,EAAU3F,YAAW,MACZpoB,EAAWguB,kBAAoBhuB,EAAWiuB,UAC3ChmB,KAAKnT,cACT,IAGZ,CACA,oBAAAo5B,GACI,MAAM,cAAEr6B,EAAa,YAAEs5B,EAAaC,kBAAmBe,GAAoBlmB,KAAKtU,OAC1E,WAAEqM,GAAenM,EACvBm5B,IAAsB,EAClBhtB,IACAA,EAAWouB,4BACPjB,GAAeA,EAAYG,OAC3BH,EAAYG,MAAMe,OAAOruB,GACzBmuB,GAAkBA,EAAeG,YACjCH,EAAeG,WAAWtuB,GAEtC,CACA,YAAAlL,GACI,MAAM,aAAEA,GAAiBmT,KAAKtU,MAC9BmB,GAAgBA,GACpB,CACA,MAAA8V,GACI,OAAO,IACX,EAEJ,SAAS0R,GAAc3oB,GACnB,MAAOc,EAAWK,IAAgB,WAC5Bq4B,GAAc,IAAA34B,YAAW0Z,EAAAC,GAC/B,OAAQ,IAAAnI,KAAIinB,GAA0B,IAAKt5B,EAAOw5B,YAAaA,EAAaC,mBAAmB,IAAA54B,YAAWslB,GAA2BrlB,UAAWA,EAAWK,aAAcA,GAC7K,CACA,MAAMu4B,GAAyB,CAC3BkB,aAAc,IACPnC,GACHoC,QAAS,CACL,sBACA,uBACA,yBACA,4BAGRC,oBAAqBrC,GACrBsC,qBAAsBtC,GACtBuC,uBAAwBvC,GACxBwC,wBAAyBxC,GACzByC,UAAWvC,I,uIC/If,MAAMwC,GAAiB,CAAC5b,EAAGC,IAAMD,EAAE6b,MAAQ5b,EAAE4b,MCG7C,MAAMC,GACF,WAAAjoB,GACIkB,KAAK4C,SAAW,GAChB5C,KAAKgnB,SAAU,CACnB,CACA,GAAAx/B,CAAIod,IACA,SAAc5E,KAAK4C,SAAUgC,GAC7B5E,KAAKgnB,SAAU,CACnB,CACA,MAAAZ,CAAOxhB,IACH,SAAW5E,KAAK4C,SAAUgC,GAC1B5E,KAAKgnB,SAAU,CACnB,CACA,OAAA7vB,CAAQ4R,GACJ/I,KAAKgnB,SAAWhnB,KAAK4C,SAAS6S,KAAKoR,IACnC7mB,KAAKgnB,SAAU,EACfhnB,KAAK4C,SAASzL,QAAQ4R,EAC1B,E,eCjBJ,MAAMke,GAAU,CAAC,UAAW,WAAY,aAAc,eAChDC,GAAaD,GAAQzlC,OACrBkB,GAAY0G,GAA2B,iBAAVA,EAAqBzG,WAAWyG,GAASA,EACtE+9B,GAAQ/9B,GAA2B,iBAAVA,GAAsB,GAAAsU,GAAGyP,KAAK/jB,GAwC7D,SAASg+B,GAAUr9B,EAAQs9B,GACvB,YAA8B18B,IAAvBZ,EAAOs9B,GACRt9B,EAAOs9B,GACPt9B,EAAOu8B,YACjB,CAwBA,MAAMgB,GAAgCC,GAAS,EAAG,GAAKC,GAAA,IACjDC,GAAiCF,GAAS,GAAK,IAAMrgC,GAAA,GAC3D,SAASqgC,GAAStyB,EAAKC,EAAKwyB,GACxB,OAAQC,GAEAA,EAAI1yB,EACG,EACP0yB,EAAIzyB,EACG,EACJwyB,GAAO,EAAA1mC,GAAA,GAASiU,EAAKC,EAAKyyB,GAEzC,CChFA,SAASC,GAAa9lC,EAAM+lC,GACxB/lC,EAAKmT,IAAM4yB,EAAW5yB,IACtBnT,EAAKoT,IAAM2yB,EAAW3yB,GAC1B,CAMA,SAAS4yB,GAAYhc,EAAKic,GACtBH,GAAa9b,EAAIjrB,EAAGknC,EAAUlnC,GAC9B+mC,GAAa9b,EAAIxqB,EAAGymC,EAAUzmC,EAClC,CAMA,SAAS0mC,GAAkBvlC,EAAOwlC,GAC9BxlC,EAAMoS,UAAYozB,EAAYpzB,UAC9BpS,EAAM4N,MAAQ43B,EAAY53B,MAC1B5N,EAAMsS,YAAckzB,EAAYlzB,YAChCtS,EAAMqS,OAASmzB,EAAYnzB,MAC/B,C,gBCtBA,SAASozB,GAAiBjkC,EAAO4Q,EAAWxE,EAAO0E,EAAa4W,GAM5D,OALA1nB,GAAS4Q,EACT5Q,GAAQ,SAAWA,EAAO,EAAIoM,EAAO0E,QACpBpK,IAAbghB,IACA1nB,GAAQ,SAAWA,EAAO,EAAI0nB,EAAU5W,IAErC9Q,CACX,CAsBA,SAASkkC,GAAqBrmC,EAAMsmC,GAAar8B,EAAKs8B,EAAUC,GAAYxzB,EAAQyzB,IAlBpF,SAAyBzmC,EAAM+S,EAAY,EAAGxE,EAAQ,EAAGyE,EAAS,GAAK6W,EAAUkc,EAAa/lC,EAAMymC,EAAazmC,GAM7G,GALI,MAAQqrB,KAAKtY,KACbA,EAAYlS,WAAWkS,GAEvBA,GADyB,QAAU0zB,EAAWtzB,IAAKszB,EAAWrzB,IAAKL,EAAY,KAChD0zB,EAAWtzB,KAErB,iBAAdJ,EACP,OACJ,IAAIE,GAAc,QAAU8yB,EAAW5yB,IAAK4yB,EAAW3yB,IAAKJ,GACxDhT,IAAS+lC,IACT9yB,GAAeF,GACnB/S,EAAKmT,IAAMizB,GAAiBpmC,EAAKmT,IAAKJ,EAAWxE,EAAO0E,EAAa4W,GACrE7pB,EAAKoT,IAAMgzB,GAAiBpmC,EAAKoT,IAAKL,EAAWxE,EAAO0E,EAAa4W,EACzE,CAMI6c,CAAgB1mC,EAAMsmC,EAAWr8B,GAAMq8B,EAAWC,GAAWD,EAAWE,GAAYF,EAAW/3B,MAAOyE,EAAQyzB,EAClH,CAIA,MAAME,GAAQ,CAAC,IAAK,SAAU,WACxBC,GAAQ,CAAC,IAAK,SAAU,WAK9B,SAASC,GAAoB7c,EAAKsc,EAAYL,EAAWa,GACrDT,GAAqBrc,EAAIjrB,EAAGunC,EAAYK,GAAOV,EAAYA,EAAUlnC,OAAI8J,EAAWi+B,EAAYA,EAAU/nC,OAAI8J,GAC9Gw9B,GAAqBrc,EAAIxqB,EAAG8mC,EAAYM,GAAOX,EAAYA,EAAUzmC,OAAIqJ,EAAWi+B,EAAYA,EAAUtnC,OAAIqJ,EAClH,CChDA,SAASk+B,GAAgBpmC,GACrB,OAA2B,IAApBA,EAAMoS,WAAmC,IAAhBpS,EAAM4N,KAC1C,CACA,SAASy4B,GAAYrmC,GACjB,OAAOomC,GAAgBpmC,EAAM5B,IAAMgoC,GAAgBpmC,EAAMnB,EAC7D,CACA,SAASynC,GAAW9d,EAAGC,GACnB,OAAOD,EAAEhW,MAAQiW,EAAEjW,KAAOgW,EAAE/V,MAAQgW,EAAEhW,GAC1C,CAIA,SAAS8zB,GAAkB/d,EAAGC,GAC1B,OAAQhR,KAAK+uB,MAAMhe,EAAEhW,OAASiF,KAAK+uB,MAAM/d,EAAEjW,MACvCiF,KAAK+uB,MAAMhe,EAAE/V,OAASgF,KAAK+uB,MAAM/d,EAAEhW,IAC3C,CACA,SAASg0B,GAAiBje,EAAGC,GACzB,OAAO8d,GAAkB/d,EAAEpqB,EAAGqqB,EAAErqB,IAAMmoC,GAAkB/d,EAAE3pB,EAAG4pB,EAAE5pB,EACnE,CACA,SAAS+M,GAAYyd,GACjB,OAAOoP,GAAWpP,EAAIjrB,GAAKq6B,GAAWpP,EAAIxqB,EAC9C,CACA,SAAS6nC,GAAgBle,EAAGC,GACxB,OAAQD,EAAEpW,YAAcqW,EAAErW,WACtBoW,EAAE5a,QAAU6a,EAAE7a,OACd4a,EAAElW,cAAgBmW,EAAEnW,WAC5B,CC1BA,MAAMq0B,GACF,WAAAtqB,GACIkB,KAAK6lB,QAAU,EACnB,CACA,GAAAr+B,CAAIhD,IACA,SAAcwb,KAAK6lB,QAASrhC,GAC5BA,EAAK6kC,gBACT,CACA,MAAAjD,CAAO5hC,GAKH,IAJA,SAAWwb,KAAK6lB,QAASrhC,GACrBA,IAASwb,KAAKspB,WACdtpB,KAAKspB,cAAW3+B,GAEhBnG,IAASwb,KAAKupB,KAAM,CACpB,MAAMD,EAAWtpB,KAAK6lB,QAAQ7lB,KAAK6lB,QAAQrkC,OAAS,GAChD8nC,GACAtpB,KAAKylB,QAAQ6D,EAErB,CACJ,CACA,QAAA5D,CAASlhC,GACL,MAAMglC,EAAcxpB,KAAK6lB,QAAQ4D,WAAWC,GAAWllC,IAASklC,IAChE,GAAoB,IAAhBF,EACA,OAAO,EAIX,IAAIF,EACJ,IAAK,IAAIjjC,EAAImjC,EAAanjC,GAAK,EAAGA,IAAK,CACnC,MAAMqjC,EAAS1pB,KAAK6lB,QAAQx/B,GAC5B,IAAyB,IAArBqjC,EAAOl9B,UAAqB,CAC5B88B,EAAWI,EACX,KACJ,CACJ,CACA,QAAIJ,IACAtpB,KAAKylB,QAAQ6D,IACN,EAKf,CACA,OAAA7D,CAAQjhC,EAAMmlC,GACV,MAAML,EAAWtpB,KAAKupB,KACtB,GAAI/kC,IAAS8kC,IAEbtpB,KAAKspB,SAAWA,EAChBtpB,KAAKupB,KAAO/kC,EACZA,EAAKolC,OACDN,GAAU,CACVA,EAAStoB,UAAYsoB,EAASD,iBAC9B7kC,EAAK6kC,iBACL7kC,EAAKqlC,WAAaP,EACdK,IACAnlC,EAAKqlC,WAAWC,iBAAkB,GAElCR,EAASS,WACTvlC,EAAKulC,SAAWT,EAASS,SACzBvlC,EAAKulC,SAASroB,aACV4nB,EAASU,iBAAmBV,EAAS5nB,cAEzCld,EAAK2R,MAAQ3R,EAAK2R,KAAK8zB,aACvBzlC,EAAK0lC,eAAgB,GAEzB,MAAM,UAAElX,GAAcxuB,EAAKJ,SACT,IAAd4uB,GACAsW,EAASa,MAcjB,CACJ,CACA,qBAAAC,GACIpqB,KAAK6lB,QAAQ1uB,SAAS3S,IAClB,MAAM,QAAEJ,EAAO,aAAEimC,GAAiB7lC,EAClCJ,EAAQqI,gBAAkBrI,EAAQqI,iBAC9B49B,GACAA,EAAajmC,QAAQqI,gBACjB49B,EAAajmC,QAAQqI,gBAC7B,GAER,CACA,cAAA48B,GACIrpB,KAAK6lB,QAAQ1uB,SAAS3S,IAClBA,EAAKwc,UAAYxc,EAAK6kC,gBAAe,EAAM,GAEnD,CAKA,kBAAAiB,GACQtqB,KAAKupB,MAAQvpB,KAAKupB,KAAKQ,WACvB/pB,KAAKupB,KAAKQ,cAAWp/B,EAE7B,E,gBCvFJ,MAAM4/B,GAAU,CACZtjB,MAAO,EACPujB,uBAAwB,EACxBC,sBAAuB,GAErBC,GAAgB,CAAC,GAAI,IAAK,IAAK,KAMrC,IAAI,GAAK,EACT,SAASC,GAAyB5+B,EAAKH,EAAe7B,EAAQ6gC,GAC1D,MAAM,aAAElpB,GAAiB9V,EAErB8V,EAAa3V,KACbhC,EAAOgC,GAAO2V,EAAa3V,GAC3BH,EAAci/B,eAAe9+B,EAAK,GAC9B6+B,IACAA,EAAsB7+B,GAAO,GAGzC,CACA,SAAS++B,GAAuCC,GAE5C,GADAA,EAAeC,2BAA4B,EACvCD,EAAe50B,OAAS40B,EACxB,OACJ,MAAM,cAAEn/B,GAAkBm/B,EAAe3mC,QACzC,IAAKwH,EACD,OACJ,MAAMq/B,GAAW,QAAqBr/B,GACtC,GAAI5E,OAAOssB,4BAA4B2X,EAAU,aAAc,CAC3D,MAAM,OAAEt9B,EAAM,SAAEM,GAAa88B,EAAe3mC,QAC5C4C,OAAOkkC,+BAA+BD,EAAU,YAAa,QAASt9B,GAAUM,GACpF,CACA,MAAM,OAAEvI,GAAWqlC,EACfrlC,IAAWA,EAAOslC,2BAClBF,GAAuCplC,EAE/C,CACA,SAAS,IAAqB,qBAAEylC,EAAoB,cAAEC,EAAa,cAAEC,EAAa,kBAAEC,EAAiB,eAAEC,IACnG,OAAO,MACH,WAAAzsB,CAAY4C,EAAe,CAAC,EAAGhc,EAAS0lC,OAIpCprB,KAAKrT,GAAK,KAIVqT,KAAKwrB,YAAc,EACnBxrB,KAAKyrB,kBAAoB,EAOzBzrB,KAAK4C,SAAW,IAAIvb,IAKpB2Y,KAAK5b,QAAU,CAAC,EAMhB4b,KAAK0rB,iBAAkB,EACvB1rB,KAAK+f,oBAAqB,EAO1B/f,KAAKkqB,eAAgB,EAKrBlqB,KAAK2rB,mBAAoB,EAKzB3rB,KAAK4rB,yBAA0B,EAK/B5rB,KAAK6rB,kBAAmB,EAIxB7rB,KAAK8rB,uBAAwB,EAC7B9rB,KAAK+rB,uBAAwB,EAK7B/rB,KAAKiqB,YAAa,EAIlBjqB,KAAKgsB,OAAQ,EAKbhsB,KAAKisB,YAAa,EAIlBjsB,KAAKksB,sBAAuB,EAO5BlsB,KAAKgrB,2BAA4B,EASjChrB,KAAKkM,UAAY,CAAErrB,EAAG,EAAGS,EAAG,GAI5B0e,KAAKmsB,cAAgB,IAAIzjC,IACzBsX,KAAKosB,iBAAkB,EAEvBpsB,KAAKqsB,iBAAkB,EACvBrsB,KAAK1E,eAAiB,IAAM0E,KAAKlF,SACjCkF,KAAKssB,2BAA4B,EACjCtsB,KAAKusB,kBAAoB,KACjBvsB,KAAKiqB,aACLjqB,KAAKiqB,YAAa,EAClBjqB,KAAKwsB,oBACT,EAOJxsB,KAAKysB,iBAAmB,KACpBzsB,KAAKssB,2BAA4B,EAK7B,KAAYljC,QACZmhC,GAAQtjB,MACJsjB,GAAQC,uBACJD,GAAQE,sBACJ,GAEhBzqB,KAAKiH,MAAM9P,QAAQu1B,IACnB1sB,KAAKiH,MAAM9P,QAAQw1B,IACnB3sB,KAAKiH,MAAM9P,QAAQy1B,IACnB5sB,KAAKiH,MAAM9P,QAAQ01B,IACf,KAAYC,sBACZ,KAAYA,qBAAqBvC,GACrC,EAKJvqB,KAAK+sB,yBAA2B,EAChC/sB,KAAKgtB,cAAe,EACpBhtB,KAAKitB,WAAY,EACjBjtB,KAAKktB,kBAAoB,EAKzBltB,KAAKmtB,YAAc,IAAIzkC,IACvBsX,KAAK0B,aAAeA,EACpB1B,KAAK7J,KAAOzQ,EAASA,EAAOyQ,MAAQzQ,EAASsa,KAC7CA,KAAKotB,KAAO1nC,EAAS,IAAIA,EAAO0nC,KAAM1nC,GAAU,GAChDsa,KAAKta,OAASA,EACdsa,KAAK8mB,MAAQphC,EAASA,EAAOohC,MAAQ,EAAI,EACzC,IAAK,IAAIzgC,EAAI,EAAGA,EAAI2Z,KAAKotB,KAAK5rC,OAAQ6E,IAClC2Z,KAAKotB,KAAK/mC,GAAG6lC,sBAAuB,EAEpClsB,KAAK7J,OAAS6J,OACdA,KAAKiH,MAAQ,IAAI8f,GACzB,CACA,gBAAA9+B,CAAiB8F,EAAMpG,GAInB,OAHKqY,KAAKmsB,cAAc1kC,IAAIsG,IACxBiS,KAAKmsB,cAAc7kC,IAAIyG,EAAM,IAAI,MAE9BiS,KAAKmsB,cAAc/kC,IAAI2G,GAAMvG,IAAIG,EAC5C,CACA,eAAA0lC,CAAgBt/B,KAASyF,GACrB,MAAM85B,EAAsBttB,KAAKmsB,cAAc/kC,IAAI2G,GACnDu/B,GAAuBA,EAAoB7mC,UAAU+M,EACzD,CACA,YAAA+5B,CAAax/B,GACT,OAAOiS,KAAKmsB,cAAc1kC,IAAIsG,EAClC,CAIA,KAAA4jB,CAAM3Q,GACF,GAAIhB,KAAKgB,SACL,OACJhB,KAAKgsB,OAAQ,QAAahrB,MAAc,QAAgBA,GACxDhB,KAAKgB,SAAWA,EAChB,MAAM,SAAE/S,EAAQ,OAAEN,EAAM,cAAE/B,GAAkBoU,KAAK5b,QASjD,GARIwH,IAAkBA,EAAc9K,SAChC8K,EAAc+lB,MAAM3Q,GAExBhB,KAAK7J,KAAK8Q,MAAMzf,IAAIwY,MACpBA,KAAKta,QAAUsa,KAAKta,OAAOkd,SAASpb,IAAIwY,MACpCA,KAAK7J,KAAKi2B,kBAAoBz+B,GAAUM,KACxC+R,KAAKkqB,eAAgB,GAErBiB,EAAsB,CACtB,IAAIqC,EACAC,EAAa,EACjB,MAAMC,EAAsB,IAAO1tB,KAAK7J,KAAK41B,uBAAwB,EAErE,MAAM/jC,MAAK,KACPylC,EAAazmC,OAAOymC,UAAU,IAElCtC,EAAqBnqB,GAAU,KAC3B,MAAM2sB,EAAgB3mC,OAAOymC,WACzBE,IAAkBF,IAEtBA,EAAaE,EACb3tB,KAAK7J,KAAK41B,uBAAwB,EAClCyB,GAAeA,IACfA,EC/PpB,SAAezkB,EAAU6kB,GACrB,MAAMzrC,EAAQ,KAAK0rC,MACbC,EAAe,EAAGlmC,gBACpB,MAAM3F,EAAU2F,EAAYzF,EACxBF,GAAW2rC,KACX,SAAYE,GACZ/kB,EAAS9mB,EAAU2rC,GACvB,EAGJ,OADA,MAAMG,MAAMD,GAAc,GACnB,KAAM,SAAYA,EAC7B,CDoPkC70B,CAAMy0B,EAAqB,KACrC5J,GAAsBC,yBACtBD,GAAsBC,wBAAyB,EAC/C/jB,KAAKiH,MAAM9P,QAAQ62B,KACvB,GAER,CACI//B,GACA+R,KAAK7J,KAAK83B,mBAAmBhgC,EAAU+R,OAGd,IAAzBA,KAAK5b,QAAQ8rB,SACbtkB,IACCqC,GAAYN,IACbqS,KAAK/X,iBAAiB,aAAa,EAAGxF,QAAOmhC,mBAAkBsK,2BAA0BvgC,OAAQwgC,MAC7F,GAAInuB,KAAKouB,yBAGL,OAFApuB,KAAKzb,YAASoG,OACdqV,KAAKquB,oBAAiB1jC,GAI1B,MAAM2jC,EAAmBtuB,KAAK5b,QAAQyU,YAClCjN,EAAcwO,wBACdm0B,IACE,uBAAEC,EAAsB,0BAAEC,GAA+B7iC,EAAcoW,WAKvE0sB,GAAoB1uB,KAAK2uB,eAC1BzF,GAAiBlpB,KAAK2uB,aAAcR,GAYnCS,GAAgChL,GAAoBsK,EAC1D,GAAIluB,KAAK5b,QAAQsuB,YACb1S,KAAK6pB,YACL+E,GACChL,IACI8K,IAAqB1uB,KAAK+lB,kBAAoB,CAC/C/lB,KAAK6pB,aACL7pB,KAAKqqB,aAAerqB,KAAK6pB,WACzB7pB,KAAKqqB,aAAaA,kBAAe1/B,GAErC,MAAMkkC,EAAmB,KAClB,QAAmBP,EAAkB,UACxCQ,OAAQN,EACRz1B,WAAY01B,IAEZ7iC,EAAcmjC,oBACd/uB,KAAK5b,QAAQsuB,cACbmc,EAAiB51B,MAAQ,EACzB41B,EAAiBx2B,MAAO,GAE5B2H,KAAKihB,eAAe4N,GAKpB7uB,KAAKgvB,mBAAmBvsC,EAAOmsC,EACnC,MAOShL,GACDoK,GAAgBhuB,MAEhBA,KAAKgmB,UAAYhmB,KAAK5b,QAAQqI,gBAC9BuT,KAAK5b,QAAQqI,iBAGrBuT,KAAK2uB,aAAeR,CAAS,GAGzC,CACA,OAAAvc,GACI5R,KAAK5b,QAAQ6J,UAAY+R,KAAKwlB,aAC9BxlB,KAAK7J,KAAK8Q,MAAMmf,OAAOpmB,MACvB,MAAM2lB,EAAQ3lB,KAAK4lB,WACnBD,GAASA,EAAMS,OAAOpmB,MACtBA,KAAKta,QAAUsa,KAAKta,OAAOkd,SAASva,OAAO2X,MAC3CA,KAAKgB,cAAWrW,EAChBqV,KAAKmsB,cAAc8C,SACnB,SAAYjvB,KAAKysB,iBACrB,CAEA,WAAAyC,GACIlvB,KAAK8rB,uBAAwB,CACjC,CACA,aAAAqD,GACInvB,KAAK8rB,uBAAwB,CACjC,CACA,eAAAsD,GACI,OAAOpvB,KAAK8rB,uBAAyB9rB,KAAK+rB,qBAC9C,CACA,sBAAAqC,GACI,OAAQpuB,KAAK+f,oBACR/f,KAAKta,QAAUsa,KAAKta,OAAO0oC,2BAC5B,CACR,CAEA,WAAAiB,GACQrvB,KAAKovB,oBAETpvB,KAAKiqB,YAAa,EAClBjqB,KAAKiH,OAASjH,KAAKiH,MAAM9P,QAAQm4B,IACjCtvB,KAAKwrB,cACT,CACA,oBAAA+D,GACI,MAAM,cAAE3jC,GAAkBoU,KAAK5b,QAC/B,OAAOwH,GAAiBA,EAAcoW,WAAW7E,iBACrD,CACA,UAAAqoB,CAAWgK,GAAwB,GAE/B,GADAxvB,KAAK7J,KAAKi2B,iBAAkB,EACxBpsB,KAAK7J,KAAKi5B,kBAEV,YADApvB,KAAK5b,QAAQqI,gBAAkBuT,KAAK5b,QAAQqI,kBAoBhD,GALIzF,OAAOkkC,iCACNlrB,KAAKgrB,2BACNF,GAAuC9qB,OAE1CA,KAAK7J,KAAK8zB,YAAcjqB,KAAK7J,KAAKk5B,cAC/BrvB,KAAKkqB,cACL,OACJlqB,KAAKkqB,eAAgB,EACrB,IAAK,IAAI7jC,EAAI,EAAGA,EAAI2Z,KAAKotB,KAAK5rC,OAAQ6E,IAAK,CACvC,MAAM7B,EAAOwb,KAAKotB,KAAK/mC,GACvB7B,EAAK0nC,sBAAuB,EAC5B1nC,EAAK4+B,aAAa,YACd5+B,EAAKJ,QAAQsuB,YACbluB,EAAKghC,YAAW,EAExB,CACA,MAAM,SAAEv3B,EAAQ,OAAEN,GAAWqS,KAAK5b,QAClC,QAAiBuG,IAAbsD,IAA2BN,EAC3B,OACJ,MAAMwP,EAAoB6C,KAAKuvB,uBAC/BvvB,KAAKyvB,2BAA6BtyB,EAC5BA,EAAkB6C,KAAK0B,aAAc,SACrC/W,EACNqV,KAAK0vB,iBACLF,GAAyBxvB,KAAKqtB,gBAAgB,aAClD,CACA,MAAAvyB,GAMI,GALAkF,KAAKqsB,iBAAkB,EACErsB,KAAKovB,kBAQ1B,OAHApvB,KAAKmvB,gBACLnvB,KAAKwsB,yBACLxsB,KAAKiH,MAAM9P,QAAQw4B,IAMvB,GAAI3vB,KAAKwrB,aAAexrB,KAAKyrB,kBAEzB,YADAzrB,KAAKiH,MAAM9P,QAAQy4B,IAGvB5vB,KAAKyrB,kBAAoBzrB,KAAKwrB,YACzBxrB,KAAKiqB,YAINjqB,KAAKiqB,YAAa,EAIlBjqB,KAAKiH,MAAM9P,QAAQ04B,IAKnB7vB,KAAKiH,MAAM9P,QAAQksB,IAKnBrjB,KAAKiH,MAAM9P,QAAQ24B,KAjBnB9vB,KAAKiH,MAAM9P,QAAQy4B,IAmBvB5vB,KAAKwsB,oBAML,MAAMqB,EAAM,KAAKA,MACjB,MAAUprC,OAAQ,EAAA8D,GAAA,GAAM,EAAG,IAAO,GAAIsnC,EAAM,MAAUjmC,WACtD,MAAUA,UAAYimC,EACtB,MAAUkC,cAAe,EACzB,MAAWj1B,OAAOk1B,QAAQ,OAC1B,MAAWz0B,UAAUy0B,QAAQ,OAC7B,MAAWrtB,OAAOqtB,QAAQ,OAC1B,MAAUD,cAAe,CAC7B,CACA,SAAAzK,GACStlB,KAAKqsB,kBACNrsB,KAAKqsB,iBAAkB,EACvBvG,GAAA,EAAU99B,KAAKgY,KAAK1E,gBAE5B,CACA,iBAAAkxB,GACIxsB,KAAKiH,MAAM9P,QAAQ84B,IACnBjwB,KAAKmtB,YAAYh2B,QAAQ+4B,GAC7B,CACA,wBAAAC,GACSnwB,KAAKssB,4BACNtsB,KAAKssB,2BAA4B,EACjC,MAAM/wB,UAAUyE,KAAKysB,kBAAkB,GAAO,GAEtD,CACA,yBAAAtG,GAMI,MAAMhG,YAAW,KACTngB,KAAKkqB,cACLlqB,KAAK7J,KAAKmvB,YAGVtlB,KAAK7J,KAAKo2B,mBACd,GAER,CAIA,cAAAmD,IACQ1vB,KAAK+pB,UAAa/pB,KAAKgB,WAE3BhB,KAAK+pB,SAAW/pB,KAAK3b,WACjB2b,KAAK+pB,UACJ7O,GAAWlb,KAAK+pB,SAASqG,YAAYvvC,IACrCq6B,GAAWlb,KAAK+pB,SAASqG,YAAY9uC,KACtC0e,KAAK+pB,cAAWp/B,GAExB,CACA,YAAA04B,GACI,IAAKrjB,KAAKgB,SACN,OAEJ,GADAhB,KAAKojB,iBACCpjB,KAAK5b,QAAQ0uB,qBAAuB9S,KAAKgmB,UAC1ChmB,KAAKkqB,eACN,OASJ,GAAIlqB,KAAK6pB,aAAe7pB,KAAK6pB,WAAW7oB,SACpC,IAAK,IAAI3a,EAAI,EAAGA,EAAI2Z,KAAKotB,KAAK5rC,OAAQ6E,IACrB2Z,KAAKotB,KAAK/mC,GAClB+8B,eAGb,MAAMiN,EAAarwB,KAAKrS,OACxBqS,KAAKrS,OAASqS,KAAK3b,SAAQ,GAC3B2b,KAAKswB,iBAAkB,WACvBtwB,KAAKkqB,eAAgB,EACrBlqB,KAAKsM,qBAAkB3hB,EACvBqV,KAAKqtB,gBAAgB,UAAWrtB,KAAKrS,OAAOuyB,WAC5C,MAAM,cAAEt0B,GAAkBoU,KAAK5b,QAC/BwH,GACIA,EAAcnF,OAAO,gBAAiBuZ,KAAKrS,OAAOuyB,UAAWmQ,EAAaA,EAAWnQ,eAAYv1B,EACzG,CACA,YAAAy4B,CAAamN,EAAQ,WACjB,IAAIC,EAAmBj5B,QAAQyI,KAAK5b,QAAQooB,cAAgBxM,KAAKgB,UAMjE,GALIhB,KAAKyM,QACLzM,KAAKyM,OAAO+e,cAAgBxrB,KAAK7J,KAAKq1B,aACtCxrB,KAAKyM,OAAO8jB,QAAUA,IACtBC,GAAmB,GAEnBA,GAAoBxwB,KAAKgB,SAAU,CACnC,MAAMyvB,EAASnF,EAAkBtrB,KAAKgB,UACtChB,KAAKyM,OAAS,CACV+e,YAAaxrB,KAAK7J,KAAKq1B,YACvB+E,QACAE,SACA1vC,OAAQsqC,EAAcrrB,KAAKgB,UAC3B0vB,QAAS1wB,KAAKyM,OAASzM,KAAKyM,OAAOgkB,OAASA,EAEpD,CACJ,CACA,cAAAlF,GACI,IAAKA,EACD,OACJ,MAAMoF,EAAmB3wB,KAAKkqB,eAC1BlqB,KAAKksB,sBACLlsB,KAAK5b,QAAQ0uB,oBACX8d,EAAgB5wB,KAAKsM,kBAAoBwc,GAAY9oB,KAAKsM,iBAC1DnP,EAAoB6C,KAAKuvB,uBACzBsB,EAAyB1zB,EACzBA,EAAkB6C,KAAK0B,aAAc,SACrC/W,EACAmmC,EAA8BD,IAA2B7wB,KAAKyvB,2BAChEkB,GACA3wB,KAAKgB,WACJ4vB,IACG,SAAa5wB,KAAK0B,eAClBovB,KACJvF,EAAevrB,KAAKgB,SAAU6vB,GAC9B7wB,KAAKksB,sBAAuB,EAC5BlsB,KAAKqpB,iBAEb,CACA,OAAAhlC,CAAQ0sC,GAAkB,GACtB,MAAMC,EAAUhxB,KAAKixB,iBACrB,IAAI/Q,EAAYlgB,KAAKkxB,oBAAoBF,GAs+BrD,IAAkBllB,EA59BN,OAJIilB,IACA7Q,EAAYlgB,KAAK+wB,gBAAgB7Q,IAg+B7CiR,IADcrlB,EA79BGoU,GA89BHr/B,GACdswC,GAAUrlB,EAAIxqB,GA99BC,CACHkqC,YAAaxrB,KAAK7J,KAAKq1B,YACvB4E,YAAaY,EACb9Q,YACAxe,aAAc,CAAC,EACf9Y,OAAQoX,KAAKrT,GAErB,CACA,cAAAskC,GACI,MAAM,cAAErlC,GAAkBoU,KAAK5b,QAC/B,IAAKwH,EACD,OAAO,WACX,MAAMkgB,EAAMlgB,EAAcwlC,qBAE1B,IADwBpxB,KAAKyM,QAAQikB,UAAW1wB,KAAKotB,KAAKt/B,KAAKujC,IACzC,CAElB,MAAM,OAAE5kB,GAAWzM,KAAK7J,KACpBsW,KACA,SAAcX,EAAIjrB,EAAG4rB,EAAO1rB,OAAOF,IACnC,SAAcirB,EAAIxqB,EAAGmrB,EAAO1rB,OAAOO,GAE3C,CACA,OAAOwqB,CACX,CACA,mBAAAolB,CAAoBplB,GAChB,MAAMwlB,GAAmB,WAEzB,GADAxJ,GAAYwJ,EAAkBxlB,GAC1B9L,KAAKyM,QAAQikB,QACb,OAAOY,EAMX,IAAK,IAAIjrC,EAAI,EAAGA,EAAI2Z,KAAKotB,KAAK5rC,OAAQ6E,IAAK,CACvC,MAAM7B,EAAOwb,KAAKotB,KAAK/mC,IACjB,OAAEomB,EAAM,QAAEroB,GAAYI,EACxBA,IAASwb,KAAK7J,MAAQsW,GAAUroB,EAAQooB,eAKpCC,EAAOikB,SACP5I,GAAYwJ,EAAkBxlB,IAElC,SAAcwlB,EAAiBzwC,EAAG4rB,EAAO1rB,OAAOF,IAChD,SAAcywC,EAAiBhwC,EAAGmrB,EAAO1rB,OAAOO,GAExD,CACA,OAAOgwC,CACX,CACA,cAAAC,CAAezlB,EAAK0lB,GAAgB,GAChC,MAAMC,GAAiB,WACvB3J,GAAY2J,EAAgB3lB,GAC5B,IAAK,IAAIzlB,EAAI,EAAGA,EAAI2Z,KAAKotB,KAAK5rC,OAAQ6E,IAAK,CACvC,MAAM7B,EAAOwb,KAAKotB,KAAK/mC,IAClBmrC,GACDhtC,EAAKJ,QAAQooB,cACbhoB,EAAKioB,QACLjoB,IAASA,EAAK2R,OACd,SAAas7B,EAAgB,CACzB5wC,GAAI2D,EAAKioB,OAAO1rB,OAAOF,EACvBS,GAAIkD,EAAKioB,OAAO1rB,OAAOO,KAG1B,SAAakD,EAAKkd,gBAEvB,SAAa+vB,EAAgBjtC,EAAKkd,aACtC,CAIA,OAHI,SAAa1B,KAAK0B,gBAClB,SAAa+vB,EAAgBzxB,KAAK0B,cAE/B+vB,CACX,CACA,eAAAV,CAAgBjlB,GACZ,MAAM4lB,GAAsB,WAC5B5J,GAAY4J,EAAqB5lB,GACjC,IAAK,IAAIzlB,EAAI,EAAGA,EAAI2Z,KAAKotB,KAAK5rC,OAAQ6E,IAAK,CACvC,MAAM7B,EAAOwb,KAAKotB,KAAK/mC,GACvB,IAAK7B,EAAKwc,SACN,SACJ,KAAK,SAAaxc,EAAKkd,cACnB,UACJ,SAASld,EAAKkd,eAAiBld,EAAKkrC,iBACpC,MAAM9G,GAAY,WAElBd,GAAYc,EADIpkC,EAAKysC,kBAErBtI,GAAoB+I,EAAqBltC,EAAKkd,aAAcld,EAAKulC,SAAWvlC,EAAKulC,SAAS7J,eAAYv1B,EAAWi+B,EACrH,CAIA,OAHI,SAAa5oB,KAAK0B,eAClBinB,GAAoB+I,EAAqB1xB,KAAK0B,cAE3CgwB,CACX,CACA,cAAAC,CAAelvC,GACXud,KAAK4xB,YAAcnvC,EACnBud,KAAK7J,KAAKg6B,2BACVnwB,KAAK2rB,mBAAoB,CAC7B,CACA,UAAA9Y,CAAWzuB,GACP4b,KAAK5b,QAAU,IACR4b,KAAK5b,WACLA,EACH4uB,eAAiCroB,IAAtBvG,EAAQ4uB,WAA0B5uB,EAAQ4uB,UAE7D,CACA,iBAAA2c,GACI3vB,KAAKyM,YAAS9hB,EACdqV,KAAKrS,YAAShD,EACdqV,KAAK+pB,cAAWp/B,EAChBqV,KAAKyvB,gCAA6B9kC,EAClCqV,KAAK4xB,iBAAcjnC,EACnBqV,KAAKzb,YAASoG,EACdqV,KAAKkqB,eAAgB,CACzB,CACA,kCAAA2H,GACS7xB,KAAK8xB,gBAQN9xB,KAAK8xB,eAAe/E,2BACpB,MAAUnlC,WACVoY,KAAK8xB,eAAenF,oBAAmB,EAE/C,CACA,kBAAAA,CAAmBoF,GAAqB,GAMpC,MAAMxI,EAAOvpB,KAAKgyB,UAClBhyB,KAAK2rB,oBAAsB3rB,KAAK2rB,kBAAoBpC,EAAKoC,mBACzD3rB,KAAK6rB,mBAAqB7rB,KAAK6rB,iBAAmBtC,EAAKsC,kBACvD7rB,KAAK4rB,0BAA4B5rB,KAAK4rB,wBAA0BrC,EAAKqC,yBACrE,MAAMqG,EAAW16B,QAAQyI,KAAKqqB,eAAiBrqB,OAASupB,EAWxD,KANkBwI,GACbE,GAAYjyB,KAAK4rB,yBAClB5rB,KAAK2rB,mBACL3rB,KAAKta,QAAQimC,mBACb3rB,KAAKkyB,gCACLlyB,KAAK7J,KAAK41B,uBAEV,OACJ,MAAM,OAAEp+B,EAAM,SAAEM,GAAa+R,KAAK5b,QAIlC,GAAK4b,KAAKrS,SAAYA,GAAUM,GAAhC,CAQA,GANA+R,KAAK+sB,yBAA2B,MAAUnlC,WAMrCoY,KAAK4xB,cAAgB5xB,KAAKquB,eAAgB,CAC3C,MAAMyD,EAAiB9xB,KAAKmyB,6BACxBL,GACAA,EAAenkC,QACY,IAA3BqS,KAAKktB,mBACLltB,KAAK8xB,eAAiBA,EACtB9xB,KAAK6xB,qCACL7xB,KAAKquB,gBAAiB,WACtBruB,KAAKoyB,sBAAuB,WAC5B3W,GAAqBzb,KAAKoyB,qBAAsBpyB,KAAKrS,OAAOuyB,UAAW4R,EAAenkC,OAAOuyB,WAC7F4H,GAAY9nB,KAAKquB,eAAgBruB,KAAKoyB,uBAGtCpyB,KAAK8xB,eAAiB9xB,KAAKquB,oBAAiB1jC,CAEpD,CAKA,GAAKqV,KAAKquB,gBAAmBruB,KAAK4xB,YAAlC,CnBpvBZ,IAAyBrtC,EAAQg3B,EAAU71B,EmB6xB/B,GApCKsa,KAAKzb,SACNyb,KAAKzb,QAAS,WACdyb,KAAKqyB,sBAAuB,YAK5BryB,KAAKquB,gBACLruB,KAAKoyB,sBACLpyB,KAAK8xB,gBACL9xB,KAAK8xB,eAAevtC,QACpByb,KAAK6xB,qCnBpwBIttC,EmBqwBOyb,KAAKzb,OnBrwBJg3B,EmBqwBYvb,KAAKquB,enBrwBP3oC,EmBqwBuBsa,KAAK8xB,eAAevtC,OnBpwBlF+2B,GAAiB/2B,EAAO1D,EAAG06B,EAAS16B,EAAG6E,EAAO7E,GAC9Cy6B,GAAiB/2B,EAAOjD,EAAGi6B,EAASj6B,EAAGoE,EAAOpE,ImBwwB7B0e,KAAK4xB,aACNr6B,QAAQyI,KAAKqqB,cAEbrqB,KAAKzb,OAASyb,KAAKuxB,eAAevxB,KAAKrS,OAAOuyB,WAG9C4H,GAAY9nB,KAAKzb,OAAQyb,KAAKrS,OAAOuyB,YAEzC,SAAclgB,KAAKzb,OAAQyb,KAAK4xB,cAMhC9J,GAAY9nB,KAAKzb,OAAQyb,KAAKrS,OAAOuyB,WAKrClgB,KAAKkyB,+BAAgC,CACrClyB,KAAKkyB,gCAAiC,EACtC,MAAMJ,EAAiB9xB,KAAKmyB,6BACxBL,GACAv6B,QAAQu6B,EAAezH,gBACnB9yB,QAAQyI,KAAKqqB,gBAChByH,EAAe1tC,QAAQooB,cACxBslB,EAAevtC,QACY,IAA3Byb,KAAKktB,mBACLltB,KAAK8xB,eAAiBA,EACtB9xB,KAAK6xB,qCACL7xB,KAAKquB,gBAAiB,WACtBruB,KAAKoyB,sBAAuB,WAC5B3W,GAAqBzb,KAAKoyB,qBAAsBpyB,KAAKzb,OAAQutC,EAAevtC,QAC5EujC,GAAY9nB,KAAKquB,eAAgBruB,KAAKoyB,uBAGtCpyB,KAAK8xB,eAAiB9xB,KAAKquB,oBAAiB1jC,CAEpD,CAII,KAAYvB,OACZmhC,GAAQC,wBAhEF,CA5BA,CA8Fd,CACA,0BAAA2H,GACI,GAAKnyB,KAAKta,UACN,SAASsa,KAAKta,OAAOgc,iBACrB,SAAe1B,KAAKta,OAAOgc,cAG/B,OAAI1B,KAAKta,OAAOub,eACLjB,KAAKta,OAGLsa,KAAKta,OAAOysC,4BAE3B,CACA,YAAAlxB,GACI,OAAO1J,SAASyI,KAAKquB,gBACjBruB,KAAK4xB,aACL5xB,KAAK5b,QAAQsuB,aACb1S,KAAKrS,OACb,CACA,cAAAi/B,GACI,MAAMrD,EAAOvpB,KAAKgyB,UACZC,EAAW16B,QAAQyI,KAAKqqB,eAAiBrqB,OAASupB,EACxD,IAAI+I,GAAU,EAuBd,IAlBItyB,KAAK2rB,mBAAqB3rB,KAAKta,QAAQimC,qBACvC2G,GAAU,GAMVL,IACCjyB,KAAK4rB,yBAA2B5rB,KAAK6rB,oBACtCyG,GAAU,GAMVtyB,KAAK+sB,2BAA6B,MAAUnlC,YAC5C0qC,GAAU,GAEVA,EACA,OACJ,MAAM,OAAE3kC,EAAM,SAAEM,GAAa+R,KAAK5b,QAWlC,GANA4b,KAAK0rB,gBAAkBn0B,QAASyI,KAAKta,QAAUsa,KAAKta,OAAOgmC,iBACvD1rB,KAAK+lB,kBACL/lB,KAAKuyB,kBACJvyB,KAAK0rB,kBACN1rB,KAAK4xB,YAAc5xB,KAAKquB,oBAAiB1jC,IAExCqV,KAAKrS,SAAYA,IAAUM,EAC5B,OAKJ65B,GAAY9nB,KAAKswB,gBAAiBtwB,KAAKrS,OAAOuyB,WAI9C,MAAMsS,EAAiBxyB,KAAKkM,UAAUrrB,EAChC4xC,EAAiBzyB,KAAKkM,UAAU5qB,GAKtC,SAAgB0e,KAAKswB,gBAAiBtwB,KAAKkM,UAAWlM,KAAKotB,KAAM6E,IAK7D1I,EAAK57B,QACJ47B,EAAKhlC,QACgB,IAArByb,KAAKkM,UAAUrrB,GAAgC,IAArBmf,KAAKkM,UAAU5qB,IAC1CioC,EAAKhlC,OAASglC,EAAK57B,OAAOuyB,UAC1BqJ,EAAK8I,sBAAuB,YAEhC,MAAM,OAAE9tC,GAAWglC,EACdhlC,GAYAyb,KAAKsM,iBAAoBtM,KAAK0yB,qBAI/B1K,GAAkBhoB,KAAK0yB,oBAAoB7xC,EAAGmf,KAAKsM,gBAAgBzrB,GACnEmnC,GAAkBhoB,KAAK0yB,oBAAoBpxC,EAAG0e,KAAKsM,gBAAgBhrB,IAJnE0e,KAAK2yB,yBAeTtX,GAAarb,KAAKsM,gBAAiBtM,KAAKswB,gBAAiB/rC,EAAQyb,KAAK0B,cAClE1B,KAAKkM,UAAUrrB,IAAM2xC,GACrBxyB,KAAKkM,UAAU5qB,IAAMmxC,GACpBtJ,GAAgBnpB,KAAKsM,gBAAgBzrB,EAAGmf,KAAK0yB,oBAAoB7xC,IACjEsoC,GAAgBnpB,KAAKsM,gBAAgBhrB,EAAG0e,KAAK0yB,oBAAoBpxC,KAClE0e,KAAKgtB,cAAe,EACpBhtB,KAAKqpB,iBACLrpB,KAAKqtB,gBAAgB,mBAAoB9oC,IAKzC,KAAY6E,OACZmhC,GAAQE,yBAnCJzqB,KAAK0yB,sBACL1yB,KAAK2yB,yBACL3yB,KAAKqpB,iBAmCjB,CACA,IAAAc,GACInqB,KAAKitB,WAAY,CAErB,CACA,IAAArD,GACI5pB,KAAKitB,WAAY,CAErB,CACA,cAAA5D,CAAevhC,GAAY,GAEvB,GADAkY,KAAK5b,QAAQwH,eAAey9B,iBACxBvhC,EAAW,CACX,MAAM69B,EAAQ3lB,KAAK4lB,WACnBD,GAASA,EAAM0D,gBACnB,CACIrpB,KAAKqqB,eAAiBrqB,KAAKqqB,aAAarpB,WACxChB,KAAKqqB,kBAAe1/B,EAE5B,CACA,sBAAAgoC,GACI3yB,KAAK0yB,qBAAsB,WAC3B1yB,KAAKsM,iBAAkB,WACvBtM,KAAK4yB,8BAA+B,UACxC,CACA,kBAAA5D,CAAmBvsC,EAAOmsC,GAA+B,GACrD,MAAM7E,EAAW/pB,KAAK+pB,SAChB8I,EAAuB9I,EAAWA,EAASroB,aAAe,CAAC,EAC3DoxB,EAAc,IAAK9yB,KAAK0B,cACxBkwB,GAAc,WACf5xB,KAAK8xB,gBACL9xB,KAAK8xB,eAAe1tC,QAAQsuB,aAC7B1S,KAAKquB,eAAiBruB,KAAKoyB,0BAAuBznC,GAEtDqV,KAAKkyB,gCAAkCtD,EACvC,MAAMmE,GAAiB,WAGjBC,GAFiBjJ,EAAWA,EAASnhC,YAAS+B,MAC/BqV,KAAKrS,OAASqS,KAAKrS,OAAO/E,YAAS+B,GAElDg7B,EAAQ3lB,KAAK4lB,WACbqN,GAAgBtN,GAASA,EAAME,QAAQrkC,QAAU,EACjD0xC,EAAyB37B,QAAQy7B,IAClCC,IAC0B,IAA3BjzB,KAAK5b,QAAQ4uB,YACZhT,KAAKotB,KAAKt/B,KAAKqlC,KAEpB,IAAIC,EADJpzB,KAAKktB,kBAAoB,EAEzBltB,KAAKqzB,eAAkBh3B,IACnB,MAAMrb,EAAWqb,EAAS,IFngC1C,IAAmB4O,EAAGC,EEwhDNooB,EAAQz5B,EAAM05B,EAAI5L,EAphBlB6L,GAAa5B,EAAY/wC,EAAG4B,EAAM5B,EAAGG,GACrCwyC,GAAa5B,EAAYtwC,EAAGmB,EAAMnB,EAAGN,GACrCgf,KAAK2xB,eAAeC,GAChB5xB,KAAKquB,gBACLruB,KAAKoyB,sBACLpyB,KAAKrS,QACLqS,KAAK8xB,gBACL9xB,KAAK8xB,eAAenkC,SACpB8tB,GAAqBsX,EAAgB/yB,KAAKrS,OAAOuyB,UAAWlgB,KAAK8xB,eAAenkC,OAAOuyB,WA4gB3FoT,EA3gBWtzB,KAAKquB,eA2gBRx0B,EA3gBwBmG,KAAKoyB,qBA2gBvBmB,EA3gB6CR,EA2gBzCpL,EA3gByD3mC,EA4gBvFyyC,GAAQH,EAAOzyC,EAAGgZ,EAAKhZ,EAAG0yC,EAAG1yC,EAAG8mC,GAChC8L,GAAQH,EAAOhyC,EAAGuY,EAAKvY,EAAGiyC,EAAGjyC,EAAGqmC,GAxgBZyL,IFlhCLnoB,EEmhCejL,KAAKquB,eFnhCjBnjB,EEmhCiCkoB,EFlhC5CrK,GAAW9d,EAAEpqB,EAAGqqB,EAAErqB,IAAMkoC,GAAW9d,EAAE3pB,EAAG4pB,EAAE5pB,MEmhC7B0e,KAAK2rB,mBAAoB,GAExByH,IACDA,GAAqB,YACzBtL,GAAYsL,EAAoBpzB,KAAKquB,iBAErC2E,IACAhzB,KAAKgqB,gBAAkB8I,EL/hC3C,SAAmBvuC,EAAQmvC,EAAQnK,EAAMvoC,EAAUkyC,EAAwBD,GACnEC,GACA3uC,EAAO2L,SAAU,QAAU,EAAGq5B,EAAKr5B,SAAW,EAAGo3B,GAAgBtmC,IACjEuD,EAAOovC,aAAc,QAAUD,EAAOxjC,SAAW,EAAG,EAAGu3B,GAAiBzmC,KAEnEiyC,IACL1uC,EAAO2L,SAAU,QAAUwjC,EAAOxjC,SAAW,EAAGq5B,EAAKr5B,SAAW,EAAGlP,IAKvE,IAAK,IAAIqF,EAAI,EAAGA,EAAI6gC,GAAY7gC,IAAK,CACjC,MAAMutC,EAAc,SAAS3M,GAAQ5gC,WACrC,IAAIwtC,EAAezM,GAAUsM,EAAQE,GACjCE,EAAa1M,GAAUmC,EAAMqK,QACZjpC,IAAjBkpC,QAA6ClpC,IAAfmpC,IAElCD,IAAiBA,EAAe,GAChCC,IAAeA,EAAa,GACI,IAAjBD,GACI,IAAfC,GACA3M,GAAK0M,KAAkB1M,GAAK2M,IAE5BvvC,EAAOqvC,GAAe15B,KAAKhF,KAAI,QAAUxS,GAASmxC,GAAenxC,GAASoxC,GAAa9yC,GAAW,IAC9F,MAAQmsB,KAAK2mB,IAAe,MAAQ3mB,KAAK0mB,MACzCtvC,EAAOqvC,IAAgB,MAI3BrvC,EAAOqvC,GAAeE,EAE9B,EAIIJ,EAAOh+B,QAAU6zB,EAAK7zB,UACtBnR,EAAOmR,QAAS,QAAUg+B,EAAOh+B,QAAU,EAAG6zB,EAAK7zB,QAAU,EAAG1U,GAExE,CK0/BoB+yC,CAAUjB,EAAaD,EAAsB7yB,KAAK0B,aAAc1gB,EAAUkyC,EAAwBD,IAEtGjzB,KAAK7J,KAAKg6B,2BACVnwB,KAAKqpB,iBACLrpB,KAAKktB,kBAAoBlsC,CAAQ,EAErCgf,KAAKqzB,eAAerzB,KAAK5b,QAAQsuB,WAAa,IAAO,EACzD,CACA,cAAAuO,CAAe78B,GACX4b,KAAKqtB,gBAAgB,kBACrBrtB,KAAK+lB,kBAAkBpF,OACvB3gB,KAAKqqB,cAActE,kBAAkBpF,OACjC3gB,KAAKuyB,oBACL,SAAYvyB,KAAKuyB,kBACjBvyB,KAAKuyB,sBAAmB5nC,GAO5BqV,KAAKuyB,iBAAmB,MAAMz3B,QAAO,KACjCgpB,GAAsBC,wBAAyB,EAC/C,KAAiBp2B,SACjBqS,KAAK5G,cAAgB4G,KAAK5G,aAAc,SAAY,IACpD4G,KAAK+lB,kBAAmB,QAAmB/lB,KAAK5G,YAAa,CAAC,EAAG,KAAO,IACjEhV,EACH/C,SAAU,EACV0Z,QAAQ,EACR5B,SAAWkD,IACP2D,KAAKqzB,eAAeh3B,GACpBjY,EAAQ+U,UAAY/U,EAAQ+U,SAASkD,EAAO,EAEhD23B,OAAQ,KACJ,KAAiBrmC,QAAQ,EAE7BoL,WAAY,KACR,KAAiBpL,SACjBvJ,EAAQ2U,YAAc3U,EAAQ2U,aAC9BiH,KAAKi0B,mBAAmB,IAG5Bj0B,KAAKqqB,eACLrqB,KAAKqqB,aAAatE,iBAAmB/lB,KAAK+lB,kBAE9C/lB,KAAKuyB,sBAAmB5nC,CAAS,GAEzC,CACA,iBAAAspC,GACQj0B,KAAKqqB,eACLrqB,KAAKqqB,aAAatE,sBAAmBp7B,EACrCqV,KAAKqqB,aAAaP,qBAAkBn/B,GAExC,MAAMg7B,EAAQ3lB,KAAK4lB,WACnBD,GAASA,EAAMyE,wBACfpqB,KAAKqqB,aACDrqB,KAAK+lB,iBACD/lB,KAAKgqB,qBACDr/B,EACZqV,KAAKqtB,gBAAgB,oBACzB,CACA,eAAAW,GACQhuB,KAAK+lB,mBACL/lB,KAAKqzB,gBAAkBrzB,KAAKqzB,eAvkCpB,KAwkCRrzB,KAAK+lB,iBAAiBpF,QAE1B3gB,KAAKi0B,mBACT,CACA,uBAAAC,GACI,MAAM3K,EAAOvpB,KAAKgyB,UAClB,IAAI,qBAAEK,EAAoB,OAAE9tC,EAAM,OAAEoJ,EAAM,aAAE+T,GAAiB6nB,EAC7D,GAAK8I,GAAyB9tC,GAAWoJ,EAAzC,CAOA,GAAIqS,OAASupB,GACTvpB,KAAKrS,QACLA,GACAwmC,GAA0Bn0B,KAAK5b,QAAQ2uB,cAAe/S,KAAKrS,OAAOuyB,UAAWvyB,EAAOuyB,WAAY,CAChG37B,EAASyb,KAAKzb,SAAU,WACxB,MAAM6vC,EAAUlZ,GAAWlb,KAAKrS,OAAOuyB,UAAUr/B,GACjD0D,EAAO1D,EAAEoU,IAAMs0B,EAAKhlC,OAAO1D,EAAEoU,IAC7B1Q,EAAO1D,EAAEqU,IAAM3Q,EAAO1D,EAAEoU,IAAMm/B,EAC9B,MAAMC,EAAUnZ,GAAWlb,KAAKrS,OAAOuyB,UAAU5+B,GACjDiD,EAAOjD,EAAE2T,IAAMs0B,EAAKhlC,OAAOjD,EAAE2T,IAC7B1Q,EAAOjD,EAAE4T,IAAM3Q,EAAOjD,EAAE2T,IAAMo/B,CAClC,CACAvM,GAAYuK,EAAsB9tC,IAMlC,SAAa8tC,EAAsB3wB,GAOnC2Z,GAAarb,KAAK4yB,6BAA8B5yB,KAAKswB,gBAAiB+B,EAAsB3wB,EA/BlF,CAgCd,CACA,kBAAAusB,CAAmBhgC,EAAUzJ,GACpBwb,KAAKmtB,YAAY1lC,IAAIwG,IACtB+R,KAAKmtB,YAAY7lC,IAAI2G,EAAU,IAAIm7B,IAEzBppB,KAAKmtB,YAAY/lC,IAAI6G,GAC7BzG,IAAIhD,GACV,MAAMqsB,EAASrsB,EAAKJ,QAAQouB,uBAC5BhuB,EAAKihC,QAAQ,CACT5sB,WAAYgY,EAASA,EAAOhY,gBAAalO,EACzCg/B,sBAAuB9Y,GAAUA,EAAOyjB,4BAClCzjB,EAAOyjB,4BAA4B9vC,QACnCmG,GAEd,CACA,MAAAq7B,GACI,MAAML,EAAQ3lB,KAAK4lB,WACnB,OAAOD,GAAQA,EAAM4D,OAASvpB,IAClC,CACA,OAAAgyB,GACI,MAAM,SAAE/jC,GAAa+R,KAAK5b,QAC1B,OAAO6J,GAAW+R,KAAK4lB,YAAY2D,MAAevpB,IACtD,CACA,WAAAu0B,GACI,MAAM,SAAEtmC,GAAa+R,KAAK5b,QAC1B,OAAO6J,EAAW+R,KAAK4lB,YAAY0D,cAAW3+B,CAClD,CACA,QAAAi7B,GACI,MAAM,SAAE33B,GAAa+R,KAAK5b,QAC1B,GAAI6J,EACA,OAAO+R,KAAK7J,KAAKg3B,YAAY/lC,IAAI6G,EACzC,CACA,OAAAw3B,EAAQ,WAAEwG,EAAU,WAAEpzB,EAAU,sBAAE8wB,GAA2B,CAAC,GAC1D,MAAMhE,EAAQ3lB,KAAK4lB,WACfD,GACAA,EAAMF,QAAQzlB,KAAM2pB,GACpBsC,IACAjsB,KAAKsM,qBAAkB3hB,EACvBqV,KAAKisB,YAAa,GAElBpzB,GACAmH,KAAK6S,WAAW,CAAEha,cAC1B,CACA,QAAA6sB,GACI,MAAMC,EAAQ3lB,KAAK4lB,WACnB,QAAID,GACOA,EAAMD,SAAS1lB,KAK9B,CACA,oBAAAsvB,GACI,MAAM,cAAE1jC,GAAkBoU,KAAK5b,QAC/B,IAAKwH,EACD,OAEJ,IAAI4oC,GAAyB,EAK7B,MAAM,aAAE9yB,GAAiB9V,EAWzB,IAVI8V,EAAajM,GACbiM,EAAahM,QACbgM,EAAa/L,SACb+L,EAAa9L,SACb8L,EAAa+yB,SACb/yB,EAAa7L,OACb6L,EAAa5L,SACb0+B,GAAyB,IAGxBA,EACD,OACJ,MAAME,EAAc,CAAC,EACjBhzB,EAAajM,GACbk1B,GAAyB,IAAK/+B,EAAe8oC,EAAa10B,KAAKgqB,iBAGnE,IAAK,IAAI3jC,EAAI,EAAGA,EAAIqkC,GAAclpC,OAAQ6E,IACtCskC,GAAyB,SAASD,GAAcrkC,KAAMuF,EAAe8oC,EAAa10B,KAAKgqB,iBACvFW,GAAyB,OAAOD,GAAcrkC,KAAMuF,EAAe8oC,EAAa10B,KAAKgqB,iBAIzFp+B,EAAc+W,SAEd,IAAK,MAAM5W,KAAO2oC,EACd9oC,EAAci/B,eAAe9+B,EAAK2oC,EAAY3oC,IAC1CiU,KAAKgqB,kBACLhqB,KAAKgqB,gBAAgBj+B,GAAO2oC,EAAY3oC,IAKhDH,EAAcy9B,gBAClB,CACA,qBAAApxB,CAAsB08B,EACtB78B,GACI,IAAKkI,KAAKgB,UAAYhB,KAAKgsB,MACvB,OACJ,IAAKhsB,KAAKitB,UAEN,YADA0H,EAAYC,WAAa,UAG7B,MAAMz3B,EAAoB6C,KAAKuvB,uBAC/B,GAAIvvB,KAAKisB,WASL,OARAjsB,KAAKisB,YAAa,EAClB0I,EAAYC,WAAa,GACzBD,EAAYzkC,QAAU,GACtBykC,EAAYE,cACRhlB,EAAmB/X,GAAW+8B,gBAAkB,QACpDF,EAAYx4B,UAAYgB,EAClBA,EAAkB6C,KAAK0B,aAAc,IACrC,QAGV,MAAM6nB,EAAOvpB,KAAKgyB,UAClB,IAAKhyB,KAAKsM,kBAAoBtM,KAAKrS,SAAW47B,EAAKhlC,OAe/C,OAdIyb,KAAK5b,QAAQ6J,WACb0mC,EAAYzkC,aACsBvF,IAA9BqV,KAAK0B,aAAaxR,QACZ8P,KAAK0B,aAAaxR,QAClB,EACVykC,EAAYE,cACRhlB,EAAmB/X,GAAW+8B,gBAAkB,SAEpD70B,KAAKgtB,gBAAiB,SAAahtB,KAAK0B,gBACxCizB,EAAYx4B,UAAYgB,EAClBA,EAAkB,CAAC,EAAG,IACtB,OACN6C,KAAKgtB,cAAe,IAI5B2H,EAAYC,WAAa,GACzB,MAAME,EAAiBvL,EAAKS,iBAAmBT,EAAK7nB,aACpD1B,KAAKk0B,0BACL,IAAI/3B,EE1xChB,SAAkC1Z,EAAOypB,EAAW6oB,GAChD,IAAI54B,EAAY,GAOhB,MAAM64B,EAAavyC,EAAM5B,EAAEgU,UAAYqX,EAAUrrB,EAC3Co0C,EAAaxyC,EAAMnB,EAAEuT,UAAYqX,EAAU5qB,EAC3C4zC,EAAaH,GAAiBt/B,GAAK,EAWzC,IAVIu/B,GAAcC,GAAcC,KAC5B/4B,EAAY,eAAe64B,QAAiBC,QAAiBC,SAM7C,IAAhBhpB,EAAUrrB,GAA2B,IAAhBqrB,EAAU5qB,IAC/B6a,GAAa,SAAS,EAAI+P,EAAUrrB,MAAM,EAAIqrB,EAAU5qB,OAExDyzC,EAAiB,CACjB,MAAM,qBAAE9qB,EAAoB,OAAEvU,EAAM,QAAEC,EAAO,QAAEC,EAAO,MAAEC,EAAK,MAAEC,GAAUi/B,EACrE9qB,IACA9N,EAAY,eAAe8N,QAA2B9N,KACtDzG,IACAyG,GAAa,UAAUzG,UACvBC,IACAwG,GAAa,WAAWxG,UACxBC,IACAuG,GAAa,WAAWvG,UACxBC,IACAsG,GAAa,SAAStG,UACtBC,IACAqG,GAAa,SAASrG,SAC9B,CAKA,MAAMq/B,EAAgB1yC,EAAM5B,EAAEwP,MAAQ6b,EAAUrrB,EAC1Cu0C,EAAgB3yC,EAAMnB,EAAE+O,MAAQ6b,EAAU5qB,EAIhD,OAHsB,IAAlB6zC,GAAyC,IAAlBC,IACvBj5B,GAAa,SAASg5B,MAAkBC,MAErCj5B,GAAa,MACxB,CF4uC4Bk5B,CAAyBr1B,KAAK4yB,6BAA8B5yB,KAAKkM,UAAW4oB,GACxF33B,IACAhB,EAAYgB,EAAkB23B,EAAgB34B,IAElDw4B,EAAYx4B,UAAYA,EACxB,MAAM,EAAEtb,EAAC,EAAES,GAAM0e,KAAKsM,gBACtBqoB,EAAYr3B,gBAAkB,GAAc,IAAXzc,EAAEiU,WAA4B,IAAXxT,EAAEwT,YAClDy0B,EAAKS,gBAKL2K,EAAYzkC,QACRq5B,IAASvpB,KACH80B,EAAe5kC,SACb8P,KAAK0B,aAAaxR,SAClB,EACF8P,KAAK8pB,gBACD9pB,KAAK0B,aAAaxR,QAClB4kC,EAAenB,YAO7BgB,EAAYzkC,QACRq5B,IAASvpB,UACwBrV,IAA3BmqC,EAAe5kC,QACX4kC,EAAe5kC,QACf,QAC2BvF,IAA/BmqC,EAAenB,YACXmB,EAAenB,YACf,EAKlB,IAAK,MAAM5nC,KAAO,KAAiB,CAC/B,QAA4BpB,IAAxBmqC,EAAe/oC,GACf,SACJ,MAAM,QAAEq4B,EAAO,QAAEmC,EAAO,cAAE7xB,GAAkB,KAAgB3I,GAOtDupC,EAA0B,SAAdn5B,EACZ24B,EAAe/oC,GACfq4B,EAAQ0Q,EAAe/oC,GAAMw9B,GACnC,GAAIhD,EAAS,CACT,MAAMgP,EAAMhP,EAAQ/kC,OACpB,IAAK,IAAI6E,EAAI,EAAGA,EAAIkvC,EAAKlvC,IACrBsuC,EAAYpO,EAAQlgC,IAAMivC,CAElC,MAKQ5gC,EACAsL,KAAK5b,QAAQwH,cAAc6V,YAAY5J,KAAK9L,GAAOupC,EAGnDX,EAAY5oC,GAAOupC,CAG/B,CAMIt1B,KAAK5b,QAAQ6J,WACb0mC,EAAYE,cACRtL,IAASvpB,KACH6P,EAAmB/X,GAAW+8B,gBAAkB,GAChD,OAElB,CACA,aAAA5E,GACIjwB,KAAK6pB,WAAa7pB,KAAK+pB,cAAWp/B,CACtC,CAEA,SAAA6qC,GACIx1B,KAAK7J,KAAK8Q,MAAM9P,SAAS3S,GAASA,EAAKuhC,kBAAkBpF,SACzD3gB,KAAK7J,KAAK8Q,MAAM9P,QAAQw4B,IACxB3vB,KAAK7J,KAAKg3B,YAAY8B,OAC1B,EAER,CACA,SAAS5L,GAAa7+B,GAClBA,EAAK6+B,cACT,CACA,SAASyM,GAAmBtrC,GACxB,MAAMulC,EAAWvlC,EAAKqlC,YAAYE,UAAYvlC,EAAKulC,SACnD,GAAIvlC,EAAKwhC,UACLxhC,EAAKmJ,QACLo8B,GACAvlC,EAAK+oC,aAAa,aAAc,CAChC,MAAQrN,UAAWvyB,EAAQyiC,YAAaqF,GAAmBjxC,EAAKmJ,QAC1D,cAAEolB,GAAkBvuB,EAAKJ,QACzB6tC,EAAWlI,EAASnhC,SAAWpE,EAAKmJ,OAAO/E,OAG3B,SAAlBmqB,EACA2I,IAAU55B,IACN,MAAM4zC,EAAezD,EACflI,EAASqG,YAAYtuC,GACrBioC,EAAS7J,UAAUp+B,GACnBN,EAAS05B,GAAWwa,GAC1BA,EAAazgC,IAAMtH,EAAO7L,GAAMmT,IAChCygC,EAAaxgC,IAAMwgC,EAAazgC,IAAMzT,CAAM,IAG3C2yC,GAA0BphB,EAAegX,EAAS7J,UAAWvyB,IAClE+tB,IAAU55B,IACN,MAAM4zC,EAAezD,EACflI,EAASqG,YAAYtuC,GACrBioC,EAAS7J,UAAUp+B,GACnBN,EAAS05B,GAAWvtB,EAAO7L,IACjC4zC,EAAaxgC,IAAMwgC,EAAazgC,IAAMzT,EAIlCgD,EAAK6pC,iBAAmB7pC,EAAKuhC,mBAC7BvhC,EAAKmnC,mBAAoB,EACzBnnC,EAAK6pC,eAAevsC,GAAMoT,IACtB1Q,EAAK6pC,eAAevsC,GAAMmT,IAAMzT,EACxC,IAGR,MAAMm0C,GAAc,WACpBta,GAAasa,EAAahoC,EAAQo8B,EAAS7J,WAC3C,MAAM0V,GAAc,WAChB3D,EACA5W,GAAaua,EAAapxC,EAAK+sC,eAAekE,GAAgB,GAAO1L,EAASqG,aAG9E/U,GAAaua,EAAajoC,EAAQo8B,EAAS7J,WAE/C,MAAM0D,GAAoBkF,GAAY6M,GACtC,IAAIzH,GAA2B,EAC/B,IAAK1pC,EAAKqlC,WAAY,CAClB,MAAMiI,EAAiBttC,EAAK2tC,6BAK5B,GAAIL,IAAmBA,EAAejI,WAAY,CAC9C,MAAQE,SAAU8L,EAAgBloC,OAAQmoC,GAAiBhE,EAC3D,GAAI+D,GAAkBC,EAAc,CAChC,MAAMC,GAAmB,WACzBta,GAAqBsa,EAAkBhM,EAAS7J,UAAW2V,EAAe3V,WAC1E,MAAM6S,GAAiB,WACvBtX,GAAqBsX,EAAgBplC,EAAQmoC,EAAa5V,WACrDgJ,GAAiB6M,EAAkBhD,KACpC7E,GAA2B,GAE3B4D,EAAe1tC,QAAQsuB,aACvBluB,EAAK6pC,eAAiB0E,EACtBvuC,EAAK4tC,qBAAuB2D,EAC5BvxC,EAAKstC,eAAiBA,EAE9B,CACJ,CACJ,CACAttC,EAAK6oC,gBAAgB,YAAa,CAC9B1/B,SACAo8B,WACAtnC,MAAOmzC,EACPD,cACA/R,mBACAsK,4BAER,MACK,GAAI1pC,EAAKwhC,SAAU,CACpB,MAAM,eAAEv5B,GAAmBjI,EAAKJ,QAChCqI,GAAkBA,GACtB,CAMAjI,EAAKJ,QAAQyU,gBAAalO,CAC9B,CACA,SAAS+hC,GAAoBloC,GAIrB,KAAY4E,OACZmhC,GAAQtjB,QAEPziB,EAAKkB,SAQLlB,EAAKyc,iBACNzc,EAAKmnC,kBAAoBnnC,EAAKkB,OAAOimC,mBAOzCnnC,EAAKonC,0BAA4BpnC,EAAKonC,wBAA0Br0B,QAAQ/S,EAAKmnC,mBACzEnnC,EAAKkB,OAAOimC,mBACZnnC,EAAKkB,OAAOkmC,0BAChBpnC,EAAKqnC,mBAAqBrnC,EAAKqnC,iBAAmBrnC,EAAKkB,OAAOmmC,kBAClE,CACA,SAASgB,GAAgBroC,GACrBA,EAAKmnC,kBACDnnC,EAAKonC,wBACDpnC,EAAKqnC,kBACD,CAChB,CACA,SAASoE,GAAczrC,GACnBA,EAAKyrC,eACT,CACA,SAASN,GAAkBnrC,GACvBA,EAAKmrC,mBACT,CACA,SAASC,GAAmBprC,GACxBA,EAAK0lC,eAAgB,CACzB,CACA,SAAS2F,GAAoBrrC,GACzB,MAAM,cAAEoH,GAAkBpH,EAAKJ,QAC3BwH,GAAiBA,EAAcoW,WAAWg0B,uBAC1CpqC,EAAcnF,OAAO,uBAEzBjC,EAAK+mC,gBACT,CACA,SAASyC,GAAgBxpC,GACrBA,EAAKwpC,kBACLxpC,EAAKotC,YAAcptC,EAAK6pC,eAAiB7pC,EAAKD,YAASoG,EACvDnG,EAAKmnC,mBAAoB,CAC7B,CACA,SAASgB,GAAmBnoC,GACxBA,EAAKmoC,oBACT,CACA,SAASC,GAAepoC,GACpBA,EAAKooC,gBACT,CACA,SAAS0C,GAAqB9qC,GAC1BA,EAAK8qC,sBACT,CACA,SAASY,GAAoBvK,GACzBA,EAAM2E,oBACV,CACA,SAASkJ,GAAaF,EAAQ7wC,EAAOklC,GACjC2L,EAAOz+B,WAAY,QAAUpS,EAAMoS,UAAW,EAAG8yB,GACjD2L,EAAOjjC,OAAQ,QAAU5N,EAAM4N,MAAO,EAAGs3B,GACzC2L,EAAOx+B,OAASrS,EAAMqS,OACtBw+B,EAAOv+B,YAActS,EAAMsS,WAC/B,CACA,SAAS0+B,GAAQH,EAAQz5B,EAAM05B,EAAI5L,GAC/B2L,EAAOr+B,KAAM,QAAU4E,EAAK5E,IAAKs+B,EAAGt+B,IAAK0yB,GACzC2L,EAAOp+B,KAAM,QAAU2E,EAAK3E,IAAKq+B,EAAGr+B,IAAKyyB,EAC7C,CAKA,SAASwL,GAAoB3uC,GACzB,OAAQA,EAAKwlC,sBAAwDr/B,IAArCnG,EAAKwlC,gBAAgB2J,WACzD,CACA,MAAMpF,GAA0B,CAC5B71B,SAAU,IACVC,KAAM,CAAC,GAAK,EAAG,GAAK,IAElBs9B,GAAqBpjC,GAAgC,oBAAdqjC,WACzCA,UAAUC,WACVD,UAAUC,UAAUjpC,cAAcxJ,SAASmP,GAMzCujC,GAAaH,GAAkB,kBAAoBA,GAAkB,WACrE/7B,KAAK+uB,MACL/hC,GAAA,EACN,SAASiqC,GAAUrvC,GAEfA,EAAKmT,IAAMmhC,GAAWt0C,EAAKmT,KAC3BnT,EAAKoT,IAAMkhC,GAAWt0C,EAAKoT,IAC/B,CAKA,SAASi/B,GAA0BphB,EAAegX,EAAUp8B,GACxD,MAA0B,aAAlBolB,GACe,oBAAlBA,InBzjDT,SAAgB3pB,EAAO7E,GACnB,OAAO2V,KAAK4hB,IAAI1yB,EAAQ7E,ImByjDoC,EnBxjDhE,CmBwjDa8xC,CAAOhoC,GAAY07B,GAAW17B,GAAYV,GACvD,CACA,SAAS0jC,GAAuB7sC,GAC5B,OAAOA,IAASA,EAAK2R,MAAQ3R,EAAKioB,QAAQikB,OAC9C,CGtkDA,MAAM4F,GAAyB,GAAqB,CAChDnL,qBAAsB,CAACthC,EAAKpD,IAAWi0B,GAAY7wB,EAAK,SAAUpD,GAClE4kC,cAAe,KAAM,CACjBxqC,EAAGgC,SAASC,gBAAgByzC,YAAc1zC,SAAS2zC,KAAKD,WACxDj1C,EAAGuB,SAASC,gBAAgB2zC,WAAa5zC,SAAS2zC,KAAKC,YAE3DnL,kBAAmB,KAAM,ICNvBoL,GAAqB,CACvB51C,aAAS6J,GAEPgsC,GAAqB,GAAqB,CAC5CtL,cAAgBrqB,IAAa,CACzBngB,EAAGmgB,EAASu1B,WACZj1C,EAAG0f,EAASy1B,YAEhBrL,cAAe,KACX,IAAKsL,GAAmB51C,QAAS,CAC7B,MAAM81C,EAAe,IAAIN,GAAuB,CAAC,GACjDM,EAAajlB,MAAM3qB,QACnB4vC,EAAa/jB,WAAW,CAAErG,cAAc,IACxCkqB,GAAmB51C,QAAU81C,CACjC,CACA,OAAOF,GAAmB51C,OAAO,EAErCyqC,eAAgB,CAACvqB,EAAU5X,KACvB4X,EAASnV,MAAMsQ,eAAsBxR,IAAVvB,EAAsBA,EAAQ,MAAM,EAEnEkiC,kBAAoBtqB,GAAazJ,QAAuD,UAA/CvQ,OAAOma,iBAAiBH,GAAUvf,YClBzE4L,GAAO,CACTI,IAAK,CACD0sB,QjBKR,cAAyBA,GACrB,WAAArb,GACI+B,SAAS7C,WACTgC,KAAK62B,0BAA4B3vC,GAAA,CACrC,CACA,aAAA4vC,CAAcC,GACV/2B,KAAKg3B,QAAU,IAAIjb,GAAWgb,EAAkB/2B,KAAKi3B,oBAAqB,CACtE31B,mBAAoBtB,KAAKxb,KAAKs8B,wBAC9B7E,cAAeN,GAAiB3b,KAAKxb,OAE7C,CACA,iBAAAyyC,GACI,MAAM,kBAAEC,EAAiB,WAAEC,EAAU,MAAEC,EAAK,SAAEC,GAAar3B,KAAKxb,KAAKwd,WACrE,MAAO,CACHub,eAAgBsG,GAAaqT,GAC7BtgC,QAASitB,GAAasT,GACtBpa,OAAQqa,EACR//B,MAAO,CAACwjB,EAAOh5B,YACJme,KAAKg3B,QACRK,GACA,MAAMlX,YAAW,IAAMkX,EAASxc,EAAOh5B,IAC3C,EAGZ,CACA,KAAA8vB,GACI3R,KAAK62B,0BAA4B7b,GAAgBhb,KAAKxb,KAAK1D,QAAS,eAAgB+5B,GAAU7a,KAAK82B,cAAcjc,IACrH,CACA,MAAA/f,GACIkF,KAAKg3B,SAAWh3B,KAAKg3B,QAAQtZ,eAAe1d,KAAKi3B,oBACrD,CACA,OAAArlB,GACI5R,KAAK62B,4BACL72B,KAAKg3B,SAAWh3B,KAAKg3B,QAAQ30C,KACjC,IiBrCAgL,KAAM,CACF8sB,QCNR,cAA0BA,GACtB,WAAArb,CAAYta,GACRqc,MAAMrc,GACNwb,KAAKs3B,oBAAsBpwC,GAAA,EAC3B8Y,KAAKwd,gBAAkBt2B,GAAA,EACvB8Y,KAAKu3B,SAAW,IAAIzY,GAA0Bt6B,EAClD,CACA,KAAAmtB,GAGI,MAAM,aAAE6lB,GAAiBx3B,KAAKxb,KAAKwd,WAC/Bw1B,IACAx3B,KAAKs3B,oBAAsBE,EAAanrC,UAAU2T,KAAKu3B,WAE3Dv3B,KAAKwd,gBAAkBxd,KAAKu3B,SAASjU,gBAAkBp8B,GAAA,CAC3D,CACA,OAAA0qB,GACI5R,KAAKs3B,sBACLt3B,KAAKwd,iBACT,GDZI5I,eAAgB+hB,GAChBtiB,cAAa,K,gBERrB,SAASojB,GAAiBjzC,EAAMq2B,EAAO6c,GACnC,MAAM,MAAEhsC,GAAUlH,EACdA,EAAKkvB,gBAAkBhoB,EAAMsuB,YAC7Bx1B,EAAKkvB,eAAe+F,UAAU,aAA4B,UAAdie,GAEhD,MACM3uB,EAAWrd,EADE,UAAYgsC,GAE3B3uB,GACA,MAAMoX,YAAW,IAAMpX,EAAS8R,EAAOD,GAAiBC,KAEhE,C,gBCVA,SAAS8c,GAAiBnzC,EAAMq2B,EAAO6c,GACnC,MAAM,MAAEhsC,GAAUlH,EAClB,GAAIA,EAAK1D,mBAAmB82C,mBAAqBpzC,EAAK1D,QAAQ+2C,SAC1D,OAEArzC,EAAKkvB,gBAAkBhoB,EAAMijB,UAC7BnqB,EAAKkvB,eAAe+F,UAAU,WAA0B,UAAdie,GAE9C,MACM3uB,EAAWrd,EADE,SAAyB,QAAdgsC,EAAsB,GAAKA,IAErD3uB,GACA,MAAMoX,YAAW,IAAMpX,EAAS8R,EAAOD,GAAiBC,KAEhE,CCZA,MAAMid,GAAoB,IAAInxC,QAMxBoxC,GAAY,IAAIpxC,QAChBqxC,GAAwB5gC,IAC1B,MAAM2R,EAAW+uB,GAAkB1wC,IAAIgQ,EAAM7S,QAC7CwkB,GAAYA,EAAS3R,EAAM,EAEzB6gC,GAA4B/gC,IAC9BA,EAAQC,QAAQ6gC,GAAqB,ECdzC,MAAME,GAAiB,CACnBpqC,KAAM,EACNmI,IAAK,GCDHkiC,GAAuBhjB,ECCP,IACfmB,GCAH5oB,OAAQ,CACJysB,QHAR,cAA4BA,GACxB,WAAArb,GACI+B,SAAS7C,WACTgC,KAAKo4B,gBAAiB,EACtBp4B,KAAKxJ,UAAW,CACpB,CACA,aAAA6hC,GACIr4B,KAAK4R,UACL,MAAM,SAAE0mB,EAAW,CAAC,GAAMt4B,KAAKxb,KAAKwd,YAC9B,KAAE7L,EAAMC,OAAQS,EAAU,OAAER,EAAS,OAAM,KAAEC,GAASgiC,EACtDl0C,EAAU,CACZ+R,KAAMA,EAAOA,EAAKrV,aAAU6J,EAC5BkM,aACAa,UAA6B,iBAAXrB,EAAsBA,EAAS6hC,GAAe7hC,IA+BpE,ODbR,SAA6B1U,EAASyC,EAAS2kB,GAC3C,MAAMwvB,EApBV,UAAkC,KAAEpiC,KAAS/R,IACzC,MAAMo0C,EAAariC,GAAQtT,SAItBk1C,GAAUtwC,IAAI+wC,IACfT,GAAUzwC,IAAIkxC,EAAY,CAAC,GAE/B,MAAMC,EAAgBV,GAAU3wC,IAAIoxC,GAC9BzsC,EAAMd,KAAKC,UAAU9G,GAQ3B,OAHKq0C,EAAc1sC,KACf0sC,EAAc1sC,GAAO,IAAIkL,qBAAqBghC,GAA0B,CAAE9hC,UAAS/R,KAEhFq0C,EAAc1sC,EACzB,CAEsC2sC,CAAyBt0C,GAG3D,OAFA0zC,GAAkBxwC,IAAI3F,EAASonB,GAC/BwvB,EAA0BjuC,QAAQ3I,GAC3B,KACHm2C,GAAkBzvC,OAAO1G,GACzB42C,EAA0B9gC,UAAU9V,EAAQ,CAEpD,CCKeg3C,CAAoB34B,KAAKxb,KAAK1D,QAASsD,GA7BhBgT,IAC1B,MAAM,eAAEE,GAAmBF,EAI3B,GAAI4I,KAAKxJ,WAAac,EAClB,OAMJ,GALA0I,KAAKxJ,SAAWc,EAKZhB,IAASgB,GAAkB0I,KAAKo4B,eAChC,OAEK9gC,IACL0I,KAAKo4B,gBAAiB,GAEtBp4B,KAAKxb,KAAKkvB,gBACV1T,KAAKxb,KAAKkvB,eAAe+F,UAAU,cAAeniB,GAMtD,MAAM,gBAAEshC,EAAe,gBAAEC,GAAoB74B,KAAKxb,KAAKwd,WACjD+G,EAAWzR,EAAiBshC,EAAkBC,EACpD9vB,GAAYA,EAAS3R,EAAM,GAGnC,CACA,KAAAua,GACI3R,KAAKq4B,eACT,CACA,MAAAv9B,GACI,GAAoC,oBAAzB7D,qBACP,OACJ,MAAM,MAAEvL,EAAK,UAAEC,GAAcqU,KAAKxb,KACR,CAAC,SAAU,SAAU,QAAQsJ,KAO/D,UAAkC,SAAEwqC,EAAW,CAAC,IAAOA,SAAUQ,EAAe,CAAC,GAAM,CAAC,GACpF,OAAQ/qC,GAASuqC,EAASvqC,KAAU+qC,EAAa/qC,EACrD,CAToEgrC,CAAyBrtC,EAAOC,KAExFqU,KAAKq4B,eAEb,CACA,OAAAzmB,GAAY,IGxDZpkB,IAAK,CACD2sB,QLQR,cAA2BA,GACvB,KAAAxI,GACI,MAAM,QAAE7wB,GAAYkf,KAAKxb,KACpB1D,IAELkf,KAAK4R,SAAU,EAAAonB,GAAA,GAAMl4C,GAAS,CAACm4C,EAAU7c,KACrCub,GAAiB33B,KAAKxb,KAAM43B,EAAY,SACjC,CAAC8c,GAAYC,aAAcxB,GAAiB33B,KAAKxb,KAAM00C,EAAUC,EAAU,MAAQ,YAC3F,CAAEC,gBAAiBp5B,KAAKxb,KAAKkH,MAAM2tC,kBAC1C,CACA,OAAAznB,GAAY,IKhBZtkB,MAAO,CACH6sB,QCTR,cAA2BA,GACvB,WAAArb,GACI+B,SAAS7C,WACTgC,KAAKkY,UAAW,CACpB,CACA,OAAAohB,GACI,IAAIC,GAAiB,EAOrB,IACIA,EAAiBv5B,KAAKxb,KAAK1D,QAAQ04C,QAAQ,iBAC/C,CACA,MAAO/xB,GACH8xB,GAAiB,CACrB,CACKA,GAAmBv5B,KAAKxb,KAAKkvB,iBAElC1T,KAAKxb,KAAKkvB,eAAe+F,UAAU,cAAc,GACjDzZ,KAAKkY,UAAW,EACpB,CACA,MAAAuhB,GACSz5B,KAAKkY,UAAalY,KAAKxb,KAAKkvB,iBAEjC1T,KAAKxb,KAAKkvB,eAAe+F,UAAU,cAAc,GACjDzZ,KAAKkY,UAAW,EACpB,CACA,KAAAvG,GACI3R,KAAK4R,SAAU,EAAA6L,GAAA,GAAK/C,GAAY1a,KAAKxb,KAAK1D,QAAS,SAAS,IAAMkf,KAAKs5B,YAAY5e,GAAY1a,KAAKxb,KAAK1D,QAAS,QAAQ,IAAMkf,KAAKy5B,WACzI,CACA,OAAA7nB,GAAY,IDtBZrkB,MAAO,CACH4sB,QNDR,cAA2BA,GACvB,KAAAxI,GACI,MAAM,QAAE7wB,GAAYkf,KAAKxb,KACpB1D,IAELkf,KAAK4R,SAAU,EAAArkB,GAAA,GAAMzM,GAAS,CAACm4C,EAAU7c,KACrCqb,GAAiBz3B,KAAKxb,KAAM43B,EAAY,SAChC8c,GAAazB,GAAiBz3B,KAAKxb,KAAM00C,EAAU,UAEnE,CACA,OAAAtnB,GAAY,OKjBTvkB,GGJHM,OAAQ,CACJinB,eAAgB+hB,GAChBtiB,cAAa,KJFyCjH,E,wGKI9D,SAASssB,EAAe9tC,EAAeG,EAAK3C,GACpCwC,EAAc+tC,SAAS5tC,GACvBH,EAAcI,SAASD,GAAKzE,IAAI8B,GAGhCwC,EAAcguC,SAAS7tC,GAAK,QAAY3C,GAEhD,C,qCCHA,SAASywC,GAAqB,cAAExhB,EAAa,eAAEW,GAAkBjtB,GAC7D,MAAM+tC,EAAczhB,EAAc9G,eAAexlB,KAAgC,IAAxBitB,EAAejtB,GAExE,OADAitB,EAAejtB,IAAO,EACf+tC,CACX,CACA,SAASC,EAAcnuC,EAAeouC,GAAqB,MAAE/gC,EAAQ,EAAC,mBAAE8c,EAAkB,KAAE1d,GAAS,CAAC,GAClG,IAAI,WAAEQ,EAAajN,EAAcwO,uBAAsB,cAAEsW,KAAkBnsB,GAAWy1C,EAClFjkB,IACAld,EAAakd,GACjB,MAAMO,EAAa,GACb2jB,EAAqB5hC,GACvBzM,EAAc8nB,gBACd9nB,EAAc8nB,eAAekG,WAAWvhB,GAC5C,IAAK,MAAMtM,KAAOxH,EAAQ,CACtB,MAAM6E,EAAQwC,EAAcI,SAASD,EAAKH,EAAc8V,aAAa3V,IAAQ,MACvE4kB,EAAcpsB,EAAOwH,GAC3B,QAAoBpB,IAAhBgmB,GACCspB,GACGJ,EAAqBI,EAAoBluC,GAC7C,SAEJ,MAAMiN,EAAkB,CACpBC,YACG,OAAmBJ,GAAc,CAAC,EAAG9M,IAKtCmuC,EAAe9wC,EAAMhC,MAC3B,QAAqBuD,IAAjBuvC,IACC9wC,EAAM+wC,cACN92C,MAAMC,QAAQqtB,IACfA,IAAgBupB,IACflhC,EAAgB3X,SACjB,SAMJ,IAAIyX,GAAY,EAChB,GAAI9R,OAAOozC,uBAAwB,CAC/B,MAAMnP,GAAW,OAAqBr/B,GACtC,GAAIq/B,EAAU,CACV,MAAMoP,EAAYrzC,OAAOozC,uBAAuBnP,EAAUl/B,EAAK,MAC7C,OAAdsuC,IACArhC,EAAgBqhC,UAAYA,EAC5BvhC,GAAY,EAEpB,CACJ,EACA,OAAqBlN,EAAeG,GACpC3C,EAAMjH,OAAM,OAAmB4J,EAAK3C,EAAOunB,EAAa/kB,EAAcmjC,oBAAsB,IAAetnC,IAAIsE,GACzG,CAAEsM,MAAM,GACRW,EAAiBpN,EAAekN,IACtC,MAAMtO,EAAYpB,EAAMoB,UACpBA,GACA8rB,EAAWhW,KAAK9V,EAExB,CAQA,OAPIkmB,GACAuF,QAAQhgB,IAAIqgB,GAAYC,MAAK,KACzB,KAAMzb,QAAO,KACT4V,GDvDhB,SAAmB9kB,EAAekW,GAC9B,MAAM2O,GAAW,OAAe7kB,EAAekW,GAC/C,IAAI,cAAE4O,EAAgB,CAAC,EAAC,WAAE7X,EAAa,CAAC,KAAMtU,GAAWksB,GAAY,CAAC,EACtElsB,EAAS,IAAKA,KAAWmsB,GACzB,IAAK,MAAM3kB,KAAOxH,EAEdm1C,EAAe9tC,EAAeG,GAVAqI,EASa7P,EAAOwH,IAP/C,OAAkBqI,GAAKA,EAAEA,EAAE5S,OAAS,IAAM,EAAI4S,IAFzD,IAAsCA,CAYtC,CC+CiCkmC,CAAU1uC,EAAe8kB,EAAc,GAC1D,IAGH4F,CACX,C,mCC1EA,MAAMvT,GAAsB,E,SAAA5W,eAAc,CACtCmV,mBAAqBqmB,GAAMA,EAC3BpY,UAAU,EACV4C,cAAe,S,uNCRnB,MAAMooB,EAAuB,CAAEz5C,QAAS,MAClC05C,EAA2B,CAAE15C,SAAS,G,qCCS5C,MAAM25C,EAAoB,CACtB,iBACA,oBACA,SACA,sBACA,gBACA,uBACA,2BAMJ,MAAMC,EAQF,2BAAAjvC,CAA4BkvC,EAAQC,EAAYC,GAC5C,MAAO,CAAC,CACZ,CACA,WAAA/7B,EAAY,OAAEpZ,EAAM,MAAEgG,EAAK,gBAAEqkB,EAAe,oBAAEmC,EAAmB,sBAAEI,EAAqB,YAAExE,GAAgB1pB,EAAU,CAAC,GAKjH4b,KAAKlf,QAAU,KAIfkf,KAAK4C,SAAW,IAAIvb,IAIpB2Y,KAAK86B,eAAgB,EACrB96B,KAAK+W,uBAAwB,EAQ7B/W,KAAK+uB,mBAAqB,KAM1B/uB,KAAKjW,OAAS,IAAIrB,IAClBsX,KAAK+K,iBAAmB,IAIxB/K,KAAKiU,SAAW,CAAC,EAKjBjU,KAAK+6B,mBAAqB,IAAIryC,IAM9BsX,KAAKg7B,iBAAmB,CAAC,EAIzBh7B,KAAKi7B,OAAS,CAAC,EAMfj7B,KAAKk7B,uBAAyB,CAAC,EAC/Bl7B,KAAKm7B,aAAe,IAAMn7B,KAAKvZ,OAAO,SAAUuZ,KAAK0B,cACrD1B,KAAK2C,OAAS,KACL3C,KAAKlf,UAEVkf,KAAKo7B,eACLp7B,KAAKc,eAAed,KAAKlf,QAASkf,KAAKyB,YAAazB,KAAKtU,MAAMG,MAAOmU,KAAKjI,YAAW,EAE1FiI,KAAKq7B,kBAAoB,EACzBr7B,KAAKqpB,eAAiB,KAClB,MAAMwE,EAAM,IAAKA,MACb7tB,KAAKq7B,kBAAoBxN,IACzB7tB,KAAKq7B,kBAAoBxN,EACzB,KAAMlrB,OAAO3C,KAAK2C,QAAQ,GAAO,GACrC,EAEJ,MAAM,aAAEjB,EAAY,YAAED,GAAgBqM,EACtC9N,KAAK0B,aAAeA,EACpB1B,KAAKs7B,WAAa,IAAK55B,GACvB1B,KAAKu7B,cAAgB7vC,EAAM6K,QAAU,IAAKmL,GAAiB,CAAC,EAC5D1B,KAAKyB,YAAcA,EACnBzB,KAAKta,OAASA,EACdsa,KAAKtU,MAAQA,EACbsU,KAAK+P,gBAAkBA,EACvB/P,KAAK8mB,MAAQphC,EAASA,EAAOohC,MAAQ,EAAI,EACzC9mB,KAAKkS,oBAAsBA,EAC3BlS,KAAK5b,QAAUA,EACf4b,KAAKsS,sBAAwB/a,QAAQ+a,GACrCtS,KAAK+W,uBAAwB,OAAsBrrB,GACnDsU,KAAK86B,eAAgB,OAAcpvC,GAC/BsU,KAAK86B,gBACL96B,KAAKoW,gBAAkB,IAAI/uB,KAE/B2Y,KAAKoY,uBAAyB7gB,QAAQ7R,GAAUA,EAAO5E,SAWvD,MAAM,WAAE06C,KAAeC,GAAwBz7B,KAAKvU,4BAA4BC,EAAO,CAAC,EAAGsU,MAC3F,IAAK,MAAMjU,KAAO0vC,EAAqB,CACnC,MAAMryC,EAAQqyC,EAAoB1vC,QACRpB,IAAtB+W,EAAa3V,KAAsB,OAAc3C,IACjDA,EAAM9B,IAAIoa,EAAa3V,GAE/B,CACJ,CACA,KAAA4lB,CAAM3Q,GACFhB,KAAKlf,QAAUkgB,EACf,IAAmB1Z,IAAI0Z,EAAUhB,MAC7BA,KAAKjI,aAAeiI,KAAKjI,WAAWiJ,UACpChB,KAAKjI,WAAW4Z,MAAM3Q,GAEtBhB,KAAKta,QAAUsa,KAAK86B,gBAAkB96B,KAAK+W,wBAC3C/W,KAAK07B,sBAAwB17B,KAAKta,OAAOi2C,gBAAgB37B,OAE7DA,KAAKjW,OAAOoN,SAAQ,CAAC/N,EAAO2C,IAAQiU,KAAK47B,kBAAkB7vC,EAAK3C,KAC3DoxC,EAAyB15C,SCpJtC,WAEI,GADA05C,EAAyB15C,SAAU,EAC9B,IAEL,GAAIkG,OAAO60C,WAAY,CACnB,MAAMC,EAAmB90C,OAAO60C,WAAW,4BACrCE,EAA8B,IAAOxB,EAAqBz5C,QAAUg7C,EAAiBtC,QAC3FsC,EAAiB7zC,iBAAiB,SAAU8zC,GAC5CA,GACJ,MAEIxB,EAAqBz5C,SAAU,CAEvC,CDwIYk7C,GAEJh8B,KAAK+uB,mBAC4B,UAA7B/uB,KAAKkS,sBAE8B,WAA7BlS,KAAKkS,qBAEDqoB,EAAqBz5C,SAInCkf,KAAKta,QAAQu2C,SAASj8B,MACtBA,KAAKlF,OAAOkF,KAAKtU,MAAOsU,KAAK+P,gBACjC,CACA,OAAA6B,GACI5R,KAAKjI,YAAciI,KAAKjI,WAAW6Z,WACnC,QAAY5R,KAAKm7B,eACjB,QAAYn7B,KAAK2C,QACjB3C,KAAK+6B,mBAAmB5jC,SAASivB,GAAWA,MAC5CpmB,KAAK+6B,mBAAmB9L,QACxBjvB,KAAK07B,uBAAyB17B,KAAK07B,wBACnC17B,KAAKta,QAAQqe,YAAY/D,MACzB,IAAK,MAAMjU,KAAOiU,KAAKi7B,OACnBj7B,KAAKi7B,OAAOlvC,GAAKkjC,QAErB,IAAK,MAAMljC,KAAOiU,KAAKiU,SAAU,CAC7B,MAAMioB,EAAUl8B,KAAKiU,SAASloB,GAC1BmwC,IACAA,EAAQtqB,UACRsqB,EAAQhpB,WAAY,EAE5B,CACAlT,KAAKlf,QAAU,IACnB,CACA,QAAAm7C,CAASr3B,GACL5E,KAAK4C,SAASpb,IAAIod,GAClB5E,KAAK8T,mBAAqB9T,KAAK8T,iBAAmB,IAAIzsB,KACtD2Y,KAAK8T,iBAAiBtsB,IAAIod,EAC9B,CACA,WAAAb,CAAYa,GACR5E,KAAK4C,SAASva,OAAOuc,GACrB5E,KAAK8T,kBAAoB9T,KAAK8T,iBAAiBzrB,OAAOuc,EAC1D,CACA,iBAAAg3B,CAAkB7vC,EAAK3C,GACf4W,KAAK+6B,mBAAmBtzC,IAAIsE,IAC5BiU,KAAK+6B,mBAAmB3zC,IAAI2E,EAA5BiU,GAEJ,MAAMm8B,EAAmB,IAAe10C,IAAIsE,GACxCowC,GAAoBn8B,KAAKo8B,iBACzBp8B,KAAKo8B,kBAET,MAAMC,EAAiBjzC,EAAMsS,GAAG,UAAW4gC,IACvCt8B,KAAK0B,aAAa3V,GAAOuwC,EACzBt8B,KAAKtU,MAAMyN,UAAY,KAAMoC,UAAUyE,KAAKm7B,cACxCgB,GAAoBn8B,KAAKjI,aACzBiI,KAAKjI,WAAW8zB,kBAAmB,GAEvC7rB,KAAKqpB,gBAAgB,IAEzB,IAAIkT,EACAv1C,OAAOw1C,wBACPD,EAAkBv1C,OAAOw1C,sBAAsBx8B,KAAMjU,EAAK3C,IAE9D4W,KAAK+6B,mBAAmBzzC,IAAIyE,GAAK,KAC7BswC,IACIE,GACAA,IACAnzC,EAAMqzC,OACNrzC,EAAMu3B,MAAM,GAExB,CACA,gBAAAjL,CAAiBgnB,GAIb,OAAK18B,KAAKlf,SACLkf,KAAKgL,0BACNhL,KAAK3H,OAASqkC,EAAMrkC,KAGjB2H,KAAKgL,yBAAyBhL,KAAKlf,QAAS47C,EAAM57C,SAF9C,CAGf,CACA,cAAA0yB,GACI,IAAIznB,EAAM,YACV,IAAKA,KAAO,IAAoB,CAC5B,MAAM4wC,EAAoB,IAAmB5wC,GAC7C,IAAK4wC,EACD,SACJ,MAAM,UAAE9uC,EAAWssB,QAASyiB,GAAuBD,EAYnD,IARK38B,KAAKiU,SAASloB,IACf6wC,GACA/uC,EAAUmS,KAAKtU,SACfsU,KAAKiU,SAASloB,GAAO,IAAI6wC,EAAmB58B,OAK5CA,KAAKiU,SAASloB,GAAM,CACpB,MAAMmwC,EAAUl8B,KAAKiU,SAASloB,GAC1BmwC,EAAQhpB,UACRgpB,EAAQphC,UAGRohC,EAAQvqB,QACRuqB,EAAQhpB,WAAY,EAE5B,CACJ,CACJ,CACA,YAAAkoB,GACIp7B,KAAKwB,MAAMxB,KAAKyB,YAAazB,KAAK0B,aAAc1B,KAAKtU,MACzD,CAMA,kBAAA0lC,GACI,OAAOpxB,KAAKlf,QACNkf,KAAKqB,2BAA2BrB,KAAKlf,QAASkf,KAAKtU,QACnD,SACV,CACA,cAAAmxC,CAAe9wC,GACX,OAAOiU,KAAK0B,aAAa3V,EAC7B,CACA,cAAA8+B,CAAe9+B,EAAK3C,GAChB4W,KAAK0B,aAAa3V,GAAO3C,CAC7B,CAKA,MAAA0R,CAAOpP,EAAOqkB,IACNrkB,EAAMyR,mBAAqB6C,KAAKtU,MAAMyR,oBACtC6C,KAAKqpB,iBAETrpB,KAAKrU,UAAYqU,KAAKtU,MACtBsU,KAAKtU,MAAQA,EACbsU,KAAKwa,oBAAsBxa,KAAK+P,gBAChC/P,KAAK+P,gBAAkBA,EAIvB,IAAK,IAAI1pB,EAAI,EAAGA,EAAIo0C,EAAkBj5C,OAAQ6E,IAAK,CAC/C,MAAM0F,EAAM0uC,EAAkBp0C,GAC1B2Z,KAAKk7B,uBAAuBnvC,KAC5BiU,KAAKk7B,uBAAuBnvC,YACrBiU,KAAKk7B,uBAAuBnvC,IAEvC,MACMhE,EAAW2D,EADK,KAAOK,GAEzBhE,IACAiY,KAAKk7B,uBAAuBnvC,GAAOiU,KAAKtE,GAAG3P,EAAKhE,GAExD,CACAiY,KAAKg7B,iBEpTb,SAAqCr5C,EAASuQ,EAAMnQ,GAChD,IAAK,MAAMgK,KAAOmG,EAAM,CACpB,MAAM4qC,EAAY5qC,EAAKnG,GACjBgxC,EAAYh7C,EAAKgK,GACvB,IAAI,OAAc+wC,GAKdn7C,EAAQi4C,SAAS7tC,EAAK+wC,QAErB,IAAI,OAAcC,GAKnBp7C,EAAQi4C,SAAS7tC,GAAK,QAAY+wC,EAAW,CAAEL,MAAO96C,UAErD,GAAIo7C,IAAcD,EAMnB,GAAIn7C,EAAQg4C,SAAS5tC,GAAM,CACvB,MAAMixC,EAAgBr7C,EAAQqK,SAASD,IACP,IAA5BixC,EAAc/wC,UACd+wC,EAAcC,KAAKH,GAEbE,EAAcE,aACpBF,EAAc11C,IAAIw1C,EAE1B,KACK,CACD,MAAMR,EAAc36C,EAAQk7C,eAAe9wC,GAC3CpK,EAAQi4C,SAAS7tC,GAAK,aAA4BpB,IAAhB2xC,EAA4BA,EAAcQ,EAAW,CAAEL,MAAO96C,IACpG,CAER,CAEA,IAAK,MAAMoK,KAAOhK,OACI4I,IAAduH,EAAKnG,IACLpK,EAAQw7C,YAAYpxC,GAE5B,OAAOmG,CACX,CFuQgCkrC,CAA4Bp9B,KAAMA,KAAKvU,4BAA4BC,EAAOsU,KAAKrU,UAAWqU,MAAOA,KAAKg7B,kBAC1Hh7B,KAAKsL,wBACLtL,KAAKsL,wBAEb,CACA,QAAAtJ,GACI,OAAOhC,KAAKtU,KAChB,CAIA,UAAA2xC,CAAWtvC,GACP,OAAOiS,KAAKtU,MAAM4xC,SAAWt9B,KAAKtU,MAAM4xC,SAASvvC,QAAQpD,CAC7D,CAIA,oBAAAyP,GACI,OAAO4F,KAAKtU,MAAMmN,UACtB,CACA,qBAAAioB,GACI,OAAO9gB,KAAKtU,MAAM4V,kBACtB,CACA,qBAAAi8B,GACI,OAAOv9B,KAAK86B,cACN96B,KACAA,KAAKta,OACDsa,KAAKta,OAAO63C,6BACZ5yC,CACd,CAIA,eAAAgxC,CAAgB/2B,GACZ,MAAM44B,EAAqBx9B,KAAKu9B,wBAChC,GAAIC,EAGA,OAFAA,EAAmBpnB,iBACfonB,EAAmBpnB,gBAAgB5uB,IAAIod,GACpC,IAAM44B,EAAmBpnB,gBAAgB/tB,OAAOuc,EAE/D,CAIA,QAAAg1B,CAAS7tC,EAAK3C,GAEV,MAAM4zC,EAAgBh9B,KAAKjW,OAAO3C,IAAI2E,GAClC3C,IAAU4zC,IACNA,GACAh9B,KAAKm9B,YAAYpxC,GACrBiU,KAAK47B,kBAAkB7vC,EAAK3C,GAC5B4W,KAAKjW,OAAOzC,IAAIyE,EAAK3C,GACrB4W,KAAK0B,aAAa3V,GAAO3C,EAAMhC,MAEvC,CAIA,WAAA+1C,CAAYpxC,GACRiU,KAAKjW,OAAO1B,OAAO0D,GACnB,MAAM4P,EAAcqE,KAAK+6B,mBAAmB3zC,IAAI2E,GAC5C4P,IACAA,IACAqE,KAAK+6B,mBAAmB1yC,OAAO0D,WAE5BiU,KAAK0B,aAAa3V,GACzBiU,KAAKqL,2BAA2Btf,EAAKiU,KAAKyB,YAC9C,CAIA,QAAAk4B,CAAS5tC,GACL,OAAOiU,KAAKjW,OAAOtC,IAAIsE,EAC3B,CACA,QAAAC,CAASD,EAAK0xC,GACV,GAAIz9B,KAAKtU,MAAM3B,QAAUiW,KAAKtU,MAAM3B,OAAOgC,GACvC,OAAOiU,KAAKtU,MAAM3B,OAAOgC,GAE7B,IAAI3C,EAAQ4W,KAAKjW,OAAO3C,IAAI2E,GAK5B,YAJcpB,IAAVvB,QAAwCuB,IAAjB8yC,IACvBr0C,GAAQ,QAA6B,OAAjBq0C,OAAwB9yC,EAAY8yC,EAAc,CAAEhB,MAAOz8B,OAC/EA,KAAK45B,SAAS7tC,EAAK3C,IAEhBA,CACX,CAMA,SAAAs0C,CAAU3xC,EAAKxH,GACX,IAAI6E,OAAmCuB,IAA3BqV,KAAK0B,aAAa3V,IAAuBiU,KAAKlf,QAEpDkf,KAAKoL,uBAAuBpL,KAAKtU,MAAOK,IACtCiU,KAAKe,sBAAsBf,KAAKlf,QAASiL,EAAKiU,KAAK5b,SAFrD4b,KAAK0B,aAAa3V,GAcxB,OAXI3C,UACqB,iBAAVA,KACN,IAAA/C,GAAkB+C,KAAU,OAAkBA,IAE/CA,EAAQzG,WAAWyG,KAEb,EAAAu0C,EAAA,GAAcv0C,IAAUo7B,EAAA,EAAQrX,KAAK5oB,KAC3C6E,GAAQ,OAAkB2C,EAAKxH,IAEnCyb,KAAK49B,cAAc7xC,GAAK,OAAc3C,GAASA,EAAMhC,MAAQgC,KAE1D,OAAcA,GAASA,EAAMhC,MAAQgC,CAChD,CAKA,aAAAw0C,CAAc7xC,EAAK3C,GACf4W,KAAKs7B,WAAWvvC,GAAO3C,CAC3B,CAKA,aAAAmwB,CAAcxtB,GACV,MAAM,QAAEwK,GAAYyJ,KAAKtU,MACzB,IAAImyC,EACJ,GAAuB,iBAAZtnC,GAA2C,iBAAZA,EAAsB,CAC5D,MAAMuf,GAAU,OAAwB9V,KAAKtU,MAAO6K,EAASyJ,KAAK+P,iBAAiBhO,QAC/E+T,IACA+nB,EAAmB/nB,EAAQ/pB,GAEnC,CAIA,GAAIwK,QAAgC5L,IAArBkzC,EACX,OAAOA,EAMX,MAAMt5C,EAASyb,KAAKoL,uBAAuBpL,KAAKtU,MAAOK,GACvD,YAAepB,IAAXpG,IAAyB,OAAcA,QAMRoG,IAA5BqV,KAAKu7B,cAAcxvC,SACDpB,IAArBkzC,OACElzC,EACAqV,KAAKs7B,WAAWvvC,GARXxH,CASf,CACA,EAAAmX,CAAGif,EAAW5R,GAIV,OAHK/I,KAAKi7B,OAAOtgB,KACb3a,KAAKi7B,OAAOtgB,GAAa,IAAI,KAE1B3a,KAAKi7B,OAAOtgB,GAAWnzB,IAAIuhB,EACtC,CACA,MAAAtiB,CAAOk0B,KAAcnnB,GACbwM,KAAKi7B,OAAOtgB,IACZ3a,KAAKi7B,OAAOtgB,GAAWl0B,UAAU+M,EAEzC,CACA,uBAAAigB,GACIqS,EAAA,EAAUnjB,OAAO3C,KAAK2C,OAC1B,E,+HGzdAm7B,EAAc,SAAqBC,GACrC,IAAIt/B,EAAQ,IAAI9X,QAChB,OAAO,SAAUq3C,GACf,GAAIv/B,EAAMhX,IAAIu2C,GAGZ,OAAOv/B,EAAMrX,IAAI42C,GAGnB,IAAIC,EAAMF,EAAKC,GAEf,OADAv/B,EAAMnX,IAAI02C,EAAKC,GACRA,CACT,CACF,E,iCCDIC,EAAqC,gBAMlB,oBAAhBC,aAA6C,OAAY,CAC9DpyC,IAAK,QACF,MAEDqyC,EAAgBF,EAAoBx5B,SACpC25B,EAA2B,WAC7B,OAAO,IAAA9xC,YAAW2xC,EACpB,EAEII,EAAmB,SAA0BP,GAC/C,OAAoB,IAAA9oB,aAAW,SAAUvpB,EAAO7B,GAE9C,IAAI4U,GAAQ,IAAAlS,YAAW2xC,GACvB,OAAOH,EAAKryC,EAAO+S,EAAO5U,EAC5B,GACF,EAEI00C,EAA8B,gBAAoB,CAAC,GAgBnDC,EAAsCV,GAAY,SAAUW,GAC9D,OAAOX,GAAY,SAAUY,GAC3B,OAZW,SAAkBD,EAAYC,GAC3C,MAAqB,mBAAVA,EACSA,EAAMD,IAKnB,OAAS,CAAC,EAAGA,EAAYC,EAClC,CAIWC,CAASF,EAAYC,EAC9B,GACF,IACIE,EAAgB,SAAuBlzC,GACzC,IAAIgzC,EAAQ,aAAiBH,GAM7B,OAJI7yC,EAAMgzC,QAAUA,IAClBA,EAAQF,EAAqBE,EAArBF,CAA4B9yC,EAAMgzC,QAGxB,gBAAoBH,EAAa75B,SAAU,CAC7Dtb,MAAOs1C,GACNhzC,EAAMkX,SACX,EAcIi8B,EAAS,CAAC,EAAEttB,eAEZutB,EAAe,qCACfC,EAAqB,SAA4B1mC,EAAM3M,GAEzD,IAAIszC,EAAW,CAAC,EAEhB,IAAK,IAAIl/B,KAAQpU,EACXmzC,EAAO5gC,KAAKvS,EAAOoU,KACrBk/B,EAASl/B,GAAQpU,EAAMoU,IAM3B,OAFAk/B,EAASF,GAAgBzmC,EAElB2mC,CACT,EAEIC,EAAY,SAAmBC,GACjC,IAAIzgC,EAAQygC,EAAKzgC,MACbC,EAAawgC,EAAKxgC,WAClB8B,EAAc0+B,EAAK1+B,YAMvB,OALA,QAAe/B,EAAOC,EAAY8B,IAClC,QAAyC,WACvC,OAAO,QAAa/B,EAAOC,EAAY8B,EACzC,IAEO,IACT,EA6CI2+B,EA3CyBb,GAAiB,SAAU5yC,EAAO+S,EAAO5U,GACpE,IAAIu1C,EAAU1zC,EAAMkU,IAIG,iBAAZw/B,QAAsDz0C,IAA9B8T,EAAMnM,WAAW8sC,KAClDA,EAAU3gC,EAAMnM,WAAW8sC,IAG7B,IAAIC,EAAmB3zC,EAAMozC,GACzB5+B,EAAmB,CAACk/B,GACpB/+B,EAAY,GAEe,iBAApB3U,EAAM2U,UACfA,GAAY,QAAoB5B,EAAMnM,WAAY4N,EAAkBxU,EAAM2U,WAC9C,MAAnB3U,EAAM2U,YACfA,EAAY3U,EAAM2U,UAAY,KAGhC,IAAI3B,GAAa,OAAgBwB,OAAkBvV,EAAW,aAAiB4zC,IAE/El+B,GAAa5B,EAAM1S,IAAM,IAAM2S,EAAW3Q,KAC1C,IAAIixC,EAAW,CAAC,EAEhB,IAAK,IAAIM,KAAS5zC,EACZmzC,EAAO5gC,KAAKvS,EAAO4zC,IAAoB,QAAVA,GAAmBA,IAAUR,IAC5DE,EAASM,GAAS5zC,EAAM4zC,IAU5B,OANAN,EAAS3+B,UAAYA,EAEjBxW,IACFm1C,EAASn1C,IAAMA,GAGG,gBAAoB,WAAgB,KAAmB,gBAAoBo1C,EAAW,CACxGxgC,MAAOA,EACPC,WAAYA,EACZ8B,YAAyC,iBAArB6+B,IACL,gBAAoBA,EAAkBL,GACzD,G,kBCvJA,SAASO,EAAc3zC,GACnB,MAAMgR,EAAQ,CAAC,CAAC,EAAG,CAAC,GAKpB,OAJAhR,GAAe7B,OAAOoN,SAAQ,CAAC/N,EAAO2C,KAClC6Q,EAAM,GAAG7Q,GAAO3C,EAAMhC,MACtBwV,EAAM,GAAG7Q,GAAO3C,EAAM8P,aAAa,IAEhC0D,CACX,CACA,SAAS4iC,EAAwB9zC,EAAOoW,EAAYC,EAAQnW,GAIxD,GAA0B,mBAAfkW,EAA2B,CAClC,MAAOhhB,EAASO,GAAYk+C,EAAc3zC,GAC1CkW,EAAaA,OAAsBnX,IAAXoX,EAAuBA,EAASrW,EAAMqW,OAAQjhB,EAASO,EACnF,CAaA,GAR0B,iBAAfygB,IACPA,EAAapW,EAAM4xC,UAAY5xC,EAAM4xC,SAASx7B,IAOxB,mBAAfA,EAA2B,CAClC,MAAOhhB,EAASO,GAAYk+C,EAAc3zC,GAC1CkW,EAAaA,OAAsBnX,IAAXoX,EAAuBA,EAASrW,EAAMqW,OAAQjhB,EAASO,EACnF,CACA,OAAOygB,CACX,C,2DCjCA,MAAM29B,EAAuB,CACzB,UACA,cACA,aACA,aACA,WACA,YACA,QAEEC,EAAe,CAAC,aAAcD,E,kBCJpC,SAASE,GAAwB,IAAEr6C,EAAG,KAAED,EAAI,MAAEod,EAAK,OAAEgf,IACjD,MAAO,CACH5gC,EAAG,CAAEoU,IAAK5P,EAAM6P,IAAKuN,GACrBnhB,EAAG,CAAE2T,IAAK3P,EAAK4P,IAAKusB,GAE5B,CACA,SAASme,GAAwB,EAAE/+C,EAAC,EAAES,IAClC,MAAO,CAAEgE,IAAKhE,EAAE2T,IAAKwN,MAAO5hB,EAAEqU,IAAKusB,OAAQngC,EAAE4T,IAAK7P,KAAMxE,EAAEoU,IAC9D,CAMA,SAAS4qC,EAAmB57C,EAAOg5B,GAC/B,IAAKA,EACD,OAAOh5B,EACX,MAAM67C,EAAU7iB,EAAe,CAAEp8B,EAAGoD,EAAMoB,KAAM/D,EAAG2C,EAAMqB,MACnDy6C,EAAc9iB,EAAe,CAAEp8B,EAAGoD,EAAMwe,MAAOnhB,EAAG2C,EAAMw9B,SAC9D,MAAO,CACHn8B,IAAKw6C,EAAQx+C,EACb+D,KAAMy6C,EAAQj/C,EACd4gC,OAAQse,EAAYz+C,EACpBmhB,MAAOs9B,EAAYl/C,EAE3B,C,qFC5BA,SAASm/C,EAAqBp0C,GAC1B,OAAOA,EAAcF,MAAM,IAC/B,C,kBCJA,SAASu0C,EAAQC,GACf,IAAIzhC,EAAQ3E,OAAOqmC,OAAO,MAC1B,OAAO,SAAUnC,GAEf,YADmBrzC,IAAf8T,EAAMu/B,KAAoBv/B,EAAMu/B,GAAOkC,EAAGlC,IACvCv/B,EAAMu/B,EACf,CACF,C,gFCAIz6B,KAAqB,iBAA+B,qBAAI,iBAA+B,mBACvF68B,EAA2C78B,GAL5B,SAAsB48B,GACvC,OAAOA,GACT,EAIIE,EAAuC98B,GAAsB,iB,qLCRjE,SAAS+8B,EAAe/0C,GACpB,MAA4B,iBAAdA,IAA2BlI,MAAMC,QAAQiI,EAC3D,CCCA,SAASg1C,EAAgBC,EAASj1C,EAAWk1C,EAAOC,GAChD,MAAuB,iBAAZF,GAAwBF,EAAe/0C,IACvC,OAAgBi1C,EAASC,EAAOC,GAElCF,aAAmBG,SACjBt9C,MAAMwW,KAAK2mC,GAEbn9C,MAAMC,QAAQk9C,GACZA,EAGA,CAACA,EAEhB,CChBA,SAASI,EAAwBloC,EAAUgB,EAAQmnC,GAC/C,OAAOnoC,GAAYgB,EAAS,EAChC,CCEA,SAASonC,EAAahgD,EAASoR,EAAMnQ,EAAMg/C,GACvC,MAAoB,iBAAT7uC,EACAA,EAEFA,EAAKhE,WAAW,MAAQgE,EAAKhE,WAAW,KACtCgM,KAAKhF,IAAI,EAAGpU,EAAU6B,WAAWuP,IAE1B,MAATA,EACEnQ,EAEFmQ,EAAKhE,WAAW,KACdgM,KAAKhF,IAAI,EAAGnT,EAAOY,WAAWuP,EAAK8uC,MAAM,KAGzCD,EAAO35C,IAAI8K,IAASpR,CAEnC,C,eCPA,SAASmgD,EAAaC,EAAU31C,EAAWm8B,EAAQ3mC,EAAQs5C,EAAW8G,IAVtE,SAAwBD,EAAU7G,EAAW8G,GACzC,IAAK,IAAI96C,EAAI,EAAGA,EAAI66C,EAAS1/C,OAAQ6E,IAAK,CACtC,MAAM+6C,EAAWF,EAAS76C,GACtB+6C,EAASC,GAAKhH,GAAa+G,EAASC,GAAKF,KACzC,QAAWD,EAAUE,GAErB/6C,IAER,CACJ,CAOIi7C,CAAeJ,EAAU7G,EAAW8G,GACpC,IAAK,IAAI96C,EAAI,EAAGA,EAAIkF,EAAU/J,OAAQ6E,IAClC66C,EAAS5gC,KAAK,CACVlX,MAAOmC,EAAUlF,GACjBg7C,IAAI,OAAUhH,EAAW8G,EAASpgD,EAAOsF,IACzCqhC,QAAQ,OAAoBA,EAAQrhC,IAGhD,CCrBA,SAASk7C,EAAeC,EAAO9nC,GAC3B,IAAK,IAAIrT,EAAI,EAAGA,EAAIm7C,EAAMhgD,OAAQ6E,IAC9Bm7C,EAAMn7C,GAAKm7C,EAAMn7C,IAAMqT,EAAS,EAExC,CCVA,SAAS+nC,EAAcx2B,EAAGC,GACtB,OAAID,EAAEo2B,KAAOn2B,EAAEm2B,GACK,OAAZp2B,EAAE7hB,MACK,EACK,OAAZ8hB,EAAE9hB,OACM,EACL,EAGA6hB,EAAEo2B,GAAKn2B,EAAEm2B,EAExB,CCsNA,SAASK,EAAmBlB,EAASmB,GAEjC,OADCA,EAAUl6C,IAAI+4C,IAAYmB,EAAUr6C,IAAIk5C,EAAS,CAAC,GAC5CmB,EAAUv6C,IAAIo5C,EACzB,CACA,SAASoB,EAAiB7zC,EAAM4zC,GAG5B,OAFKA,EAAU5zC,KACX4zC,EAAU5zC,GAAQ,IACf4zC,EAAU5zC,EACrB,CACA,SAAS8zC,EAAgBt2C,GACrB,OAAOlI,MAAMC,QAAQiI,GAAaA,EAAY,CAACA,EACnD,CACA,SAASu2C,EAAmBjpC,EAAY9M,GACpC,OAAO8M,GAAcA,EAAW9M,GAC1B,IACK8M,KACAA,EAAW9M,IAEhB,IAAK8M,EACf,CACA,MAAMkpC,EAAYX,GAAiC,iBAAbA,EAChCY,EAA0Bz2C,GAAcA,EAAU02C,MAAMF,G,gFChP9D,MAAMG,UAA4BxH,EAAA,EAC9B,WAAA57B,GACI+B,SAAS7C,WACTgC,KAAK3H,KAAO,QAChB,CACA,qBAAA0I,CAAsBC,EAAUjV,GAC5B,GATR,SAAqBA,EAAKo2C,GACtB,OAAOp2C,KAAOo2C,CAClB,CAOYC,CAAYr2C,EAAKiV,GAAW,CAC5B,MAAM5X,EAAQ4X,EAASjV,GACvB,GAAqB,iBAAV3C,GAAuC,iBAAVA,EACpC,OAAOA,CAEf,CAEJ,CACA,sBAAAgiB,GAEA,CACA,0BAAAC,CAA2Btf,EAAK0V,UACrBA,EAAY6xB,OAAOvnC,EAC9B,CACA,0BAAAsV,GACI,OAAO,SACX,CACA,KAAAG,CAAMC,EAAaC,GACf5H,OAAOE,OAAOyH,EAAY6xB,OAAQ5xB,EACtC,CACA,cAAAZ,CAAeE,GAAU,OAAEsyB,IACvBx5B,OAAOE,OAAOgH,EAAUsyB,EAC5B,CACA,wBAAAtoB,GACI,OAAO,CACX,E,eC/BJ,SAASq3B,EAAuB1gD,GAC5B,MAAMyC,EAAU,CACZ2rB,gBAAiB,KACjBrkB,MAAO,CAAC,EACRoiB,YAAa,CACTrM,YAAa,CACTtF,UAAW,CAAC,EACZmB,gBAAiB,CAAC,EAClBzR,MAAO,CAAC,EACRgM,KAAM,CAAC,EACPwF,MAAO,CAAC,GAEZqE,aAAc,CAAC,IAGjBld,GAAO,OAAa7C,MAAa,OAAgBA,GACjD,IAAI0rB,EAAA,EAAiBjpB,GACrB,IAAIwc,EAAA,EAAkBxc,GAC5BI,EAAKmtB,MAAMhwB,GACX,IAAmB2F,IAAI3F,EAAS6C,EACpC,CACA,SAAS89C,EAA0B9B,GAC/B,MAUMh8C,EAAO,IAAI09C,EAVD,CACZnyB,gBAAiB,KACjBrkB,MAAO,CAAC,EACRoiB,YAAa,CACTrM,YAAa,CACT6xB,OAAQ,CAAC,GAEb5xB,aAAc,CAAC,KAIvBld,EAAKmtB,MAAM6uB,GACX,IAAmBl5C,IAAIk5C,EAASh8C,EACpC,C,cCxBA,SAAS+9C,EAAe/B,EAASj1C,EAAWnH,EAASq8C,GACjD,MAAMnqB,EAAa,GACnB,GAVJ,SAAuBkqB,EAASj1C,GAC5B,OAAQ,OAAci1C,IACC,iBAAZA,GACa,iBAAZA,IAAyBF,EAAe/0C,EACxD,CAMQi3C,CAAchC,EAASj1C,GACvB+qB,EAAWhW,MAAK,OAAmBkgC,EAASF,EAAe/0C,IACrDA,EAAU8jB,SACV9jB,EAAWnH,GAAUA,EAAQirB,SAAqBjrB,QAEvD,CACD,MAAMq+C,EAAWlC,EAAgBC,EAASj1C,EAAWk1C,GAC/CiC,EAAcD,EAASjhD,QAC7B,OAAU+V,QAAQmrC,GAAc,8BAA+B,qBAC/D,IAAK,IAAIr8C,EAAI,EAAGA,EAAIq8C,EAAar8C,IAAK,CAClC,MAAMs8C,EAAcF,EAASp8C,IAC7B,OAA0B,OAAhBs8C,EAAsB,uIAAwI,gBACxK,MAAM5wB,EAAsB4wB,aAAuBC,QAC7CP,EACAC,EACD,IAAmB76C,IAAIk7C,IACxB5wB,EAAoB4wB,GAExB,MAAM/2C,EAAgB,IAAmBxE,IAAIu7C,GACvC9pC,EAAa,IAAKzU,GAIpB,UAAWyU,GACiB,mBAArBA,EAAWI,QAClBJ,EAAWI,MAAQJ,EAAWI,MAAM5S,EAAGq8C,IAE3CpsB,EAAWhW,SAAQ,OAAc1U,EAAe,IAAKL,EAAWsN,cAAc,CAAC,GACnF,CACJ,CACA,OAAOyd,CACX,CCNA,MAAMpG,EA5BF,SAAuB2yB,EAAmBC,EAAoB1+C,GAC1D,IACI2+C,EADAzsB,EAAa,GAEjB,GAdYltB,EAcGy5C,EAbZx/C,MAAMC,QAAQ8F,IAAUA,EAAM0E,KAAKzK,MAAMC,SAcxCgzB,EChBZ,SAAyB4qB,EAAU98C,EAASq8C,GACxC,MAAMnqB,EAAa,GACb0sB,ELKV,SAAsC9B,GAAU,kBAAE+B,EAAoB,CAAC,KAAMC,GAAuB,CAAC,EAAGzC,EAAO0C,GAC3G,MAAMC,EAAkBH,EAAkBvqC,UAAY,GAChDsqC,EAAuB,IAAIt6C,IAC3Bi5C,EAAY,IAAIj5C,IAChB26C,EAAe,CAAC,EAChBC,EAAa,IAAI56C,IACvB,IAAI1G,EAAW,EACXmH,EAAc,EACdo6C,EAAgB,EAMpB,IAAK,IAAIl9C,EAAI,EAAGA,EAAI66C,EAAS1/C,OAAQ6E,IAAK,CACtC,MAAMm9C,EAAUtC,EAAS76C,GAIzB,GAAuB,iBAAZm9C,EAAsB,CAC7BF,EAAWh8C,IAAIk8C,EAASr6C,GACxB,QACJ,CACK,IAAK9F,MAAMC,QAAQkgD,GAAU,CAC9BF,EAAWh8C,IAAIk8C,EAAQz1C,KAAM+yC,EAAa33C,EAAaq6C,EAAQnC,GAAIr/C,EAAUshD,IAC7E,QACJ,CACA,IAAK9C,EAASj1C,EAAWsN,EAAa,CAAC,GAAK2qC,OAKtB74C,IAAlBkO,EAAWwoC,KACXl4C,EAAc23C,EAAa33C,EAAa0P,EAAWwoC,GAAIr/C,EAAUshD,IAMrE,IAAIG,EAAc,EAClB,MAAMC,EAAuB,CAACC,EAAgB3qC,EAAiB4qC,EAAeC,EAAe,EAAGnB,EAAc,KAC1G,MAAMoB,EAAuBjC,EAAgB8B,IACvC,MAAE1qC,EAAQ,EAAC,MAAEuoC,GAAQ,OAAcsC,GAAqB,KAAEzrC,EAAO,YAAW,OAAEqB,EAAM,WAAEC,EAAU,YAAEC,EAAc,KAAMmqC,GAAwB/qC,EACpJ,IAAI,KAAEL,EAAOsqC,EAAkBtqC,MAAQ,UAAS,SAAED,GAAaM,EAI/D,MAAMgrC,EAAmC,mBAAV/qC,EACzBA,EAAM4qC,EAAcnB,GACpBzpC,EAIAgrC,EAAeH,EAAqBtiD,OACpC0iD,GAAkB,OAAY7rC,GAC9BA,EACA8qC,IAAa9qC,GAAQ,aAC3B,GAAI4rC,GAAgB,GAAKC,EAAiB,CAOtC,IAAIC,EAAgB,IACpB,GAAqB,IAAjBF,GACAjC,EAAuB8B,GAAuB,CAC9C,MAAMrhD,EAAQqhD,EAAqB,GAAKA,EAAqB,GAC7DK,EAAgBjqC,KAAK4hB,IAAIr5B,EAC7B,CACA,MAAM2hD,EAAmB,IAAKL,QACbp5C,IAAb+N,IACA0rC,EAAiB1rC,UAAW,OAAsBA,IAEtD,MAAM2rC,GAAe,OAAsBD,EAAkBD,EAAeD,GAC5EvrC,EAAO0rC,EAAa1rC,KACpBD,EAAW2rC,EAAa3rC,QAC5B,CACAA,IAAaA,EAAW0qC,GACxB,MAAM/I,EAAYlxC,EAAc66C,EAIX,IAAjBxC,EAAMhgD,QAA6B,IAAbggD,EAAM,KAC5BA,EAAM,GAAK,GAKf,MAAM8C,EAAY9C,EAAMhgD,OAASsiD,EAAqBtiD,OAYtD,GAXA8iD,EAAY,IAAK,EAAAC,EAAAC,GAAWhD,EAAO8C,GAMH,IAAhCR,EAAqBtiD,QACjBsiD,EAAqBW,QAAQ,MAI7B/qC,EAAQ,EACR,OAAUA,EAvGP,GAuG4B,8CAA+C,qBAC9EhB,EAAWkoC,EAAwBloC,EAAUgB,GAC7C,MAAMgrC,EAAoB,IAAIZ,GACxBa,EAAgB,IAAInD,GAC1B7oC,EAAOtV,MAAMC,QAAQqV,GAAQ,IAAIA,GAAQ,CAACA,GAC1C,MAAMisC,EAAe,IAAIjsC,GACzB,IAAK,IAAIksC,EAAc,EAAGA,EAAcnrC,EAAQmrC,IAAe,CAC3Df,EAAqBxjC,QAAQokC,GAC7B,IAAK,IAAII,EAAgB,EAAGA,EAAgBJ,EAAkBljD,OAAQsjD,IAClEtD,EAAMlhC,KAAKqkC,EAAcG,IAAkBD,EAAc,IACzDlsC,EAAK2H,KAAuB,IAAlBwkC,EACJ,UACA,OAAoBF,EAAcE,EAAgB,GAEhE,CACAvD,EAAeC,EAAO9nC,EAC1B,CACA,MAAMqrC,EAAa1K,EAAY3hC,EAI/BuoC,EAAa2C,EAAeE,EAAsBnrC,EAAM6oC,EAAOnH,EAAW0K,GAC1EtB,EAAcvpC,KAAKhF,IAAI8uC,EAAkBtrC,EAAU+qC,GACnDF,EAAgBrpC,KAAKhF,IAAI6vC,EAAYxB,EAAc,EAEvD,IAAI,OAAc/C,GAEdkD,EAAqBn4C,EAAWsN,EAAY+oC,EAAiB,UADrCF,EAAmBlB,EAASmB,SAGnD,CACD,MAAMc,EAAWlC,EAAgBC,EAASj1C,EAAWk1C,EAAO4C,GACtDX,EAAcD,EAASjhD,OAI7B,IAAK,IAAIwjD,EAAe,EAAGA,EAAetC,EAAasC,IAAgB,CAMnE,MACMC,EAAkBvD,EADJe,EAASuC,GAC2BrD,GACxD,IAAK,MAAM51C,KAAOR,EACdm4C,EAAqBn4C,EAAUQ,GAAM+1C,EAAmBjpC,EAAY9M,GAAM61C,EAAiB71C,EAAKk5C,GAAkBD,EAActC,EAExI,CACJ,CACA1gD,EAAWmH,EACXA,GAAes6C,CACnB,CA4DA,OAxDA9B,EAAUxqC,SAAQ,CAAC+tC,EAAgBvjD,KAC/B,IAAK,MAAMoK,KAAOm5C,EAAgB,CAC9B,MAAMtB,EAAgBsB,EAAen5C,GAIrC63C,EAAcnuB,KAAKgsB,GACnB,MAAMl2C,EAAY,GACZ45C,EAAc,GACdC,EAAc,GAKpB,IAAK,IAAI/+C,EAAI,EAAGA,EAAIu9C,EAAcpiD,OAAQ6E,IAAK,CAC3C,MAAM,GAAEg7C,EAAE,MAAEj4C,EAAK,OAAEs+B,GAAWkc,EAAcv9C,GAC5CkF,EAAU+U,KAAKlX,GACf+7C,EAAY7kC,MAAK,EAAAtf,EAAA,GAAS,EAAGuiD,EAAelC,IAC5C+D,EAAY9kC,KAAKonB,GAAU,UAC/B,CAMuB,IAAnByd,EAAY,KACZA,EAAYV,QAAQ,GACpBl5C,EAAUk5C,QAAQl5C,EAAU,IAC5B65C,EAAYX,QA1LC,cAiM2B,IAAxCU,EAAYA,EAAY3jD,OAAS,KACjC2jD,EAAY7kC,KAAK,GACjB/U,EAAU+U,KAAK,OAEd0iC,EAAqBv7C,IAAI9F,IAC1BqhD,EAAqB17C,IAAI3F,EAAS,CAC9B4J,UAAW,CAAC,EACZsN,WAAY,CAAC,IAGrB,MAAMiJ,EAAakhC,EAAqB57C,IAAIzF,GAC5CmgB,EAAWvW,UAAUQ,GAAOR,EAC5BuW,EAAWjJ,WAAW9M,GAAO,IACtBk3C,EACHvqC,SAAU6qC,EACV5qC,KAAMysC,EACN5D,MAAO2D,KACJjC,EAEX,KAEGF,CACX,CK1NiCqC,CAA6BnE,EAAU98C,EAASq8C,EAAO,CAAE6E,OAAM,MAI5F,OAHAtC,EAAqB7rC,SAAQ,EAAG5L,YAAWsN,cAAc2nC,KACrDlqB,EAAWhW,QAAQiiC,EAAe/B,EAASj1C,EAAWsN,GAAY,IAE/Dyd,CACX,CDSyBivB,CAAgB1C,EAAmBC,EAAoBrC,OAEnE,CAED,MAAM,WAAE1nC,KAAeysC,GAASphD,GAAW,CAAC,EAClB,mBAAf2U,IACPgqC,EAAsBhqC,GAE1Bud,EAAaisB,EAAeM,EAAmBC,EAAoB0C,EAAM/E,EAC7E,CAxBR,IAAoBr3C,EAyBZ,MAAMoB,EAAY,IAAIi7C,EAAA,EAAuBnvB,GAU7C,OATIysB,GACAv4C,EAAUk7C,SAASnvB,KAAKwsB,GAQrBv4C,CACX,EA7BJ,IAA6Bi2C,C,yGET7B,MAAMkF,EAAsB,IAAIt+C,IAAI,CAChC,gBACA,kBACA,eACA,mBACA,aACA,WACA,oBACA,eACA,cACA,aACA,UACA,UACA,eACA,mBACA,mBACA,eACA,cACA,UACA,oBACA,aACA,cACA,aACA,iB,qCChBJ,MAAMgmB,UAAyBvC,EAAA,EAC3B,WAAAhM,GACI+B,SAAS7C,WACTgC,KAAK3H,KAAO,MACZ2H,KAAK3L,UAAW,EAChB2L,KAAKqB,2BAA6B,IACtC,CACA,sBAAA+J,CAAuB1f,EAAOK,GAC1B,OAAOL,EAAMK,EACjB,CACA,qBAAAgV,CAAsBC,EAAUjV,GAC5B,GAAI,IAAetE,IAAIsE,GAAM,CACzB,MAAM65C,GAAc,OAAoB75C,GACxC,OAAO65C,GAAcA,EAAYv2B,SAAe,CACpD,CAEA,OADAtjB,EAAO45C,EAAoBl+C,IAAIsE,GAA0BA,GAAnB,OAAYA,GAC3CiV,EAASmI,aAAapd,EACjC,CACA,2BAAAN,CAA4BC,EAAOC,EAAWC,GAC1C,OAAO,OAA4BF,EAAOC,EAAWC,EACzD,CACA,KAAA4V,CAAMC,EAAaC,EAAchW,IAC7B,OAAc+V,EAAaC,EAAc1B,KAAK3L,SAAU3I,EAAMyR,kBAAmBzR,EAAMG,MAC3F,CACA,cAAAiV,CAAeE,EAAUS,EAAa3J,EAAWC,IC9BrD,SAAmBpW,EAAS8f,EAAaokC,EAAY9tC,IACjD,EAAA4K,EAAA,GAAWhhB,EAAS8f,OAAa9W,EAAWoN,GAC5C,IAAK,MAAMhM,KAAO0V,EAAYpE,MAC1B1b,EAAQ2d,aAAcqmC,EAAoBl+C,IAAIsE,GAA0BA,GAAnB,OAAYA,GAAY0V,EAAYpE,MAAMtR,GAEvG,CD0BQ+5C,CAAU9kC,EAAUS,EAAa3J,EAAWC,EAChD,CACA,KAAA4Z,CAAM3Q,GACFhB,KAAK3L,UAAW,OAAS2M,EAAShc,SAClC6b,MAAM8Q,MAAM3Q,EAChB,E,qEErCJ,SAASowB,EAAmBpwB,EAAUic,GAClC,OAAO,SAAwB,QAAmBjc,EAAS9b,wBAAyB+3B,GACxF,CACA,SAASgU,EAAetvC,EAAS+0C,EAAoBp1B,GACjD,MAAMykC,EAAc3U,EAAmBzvC,EAAS2f,IAC1C,OAAEmL,GAAWiqB,EAKnB,OAJIjqB,KACA,QAAcs5B,EAAYllD,EAAG4rB,EAAO1rB,OAAOF,IAC3C,QAAcklD,EAAYzkD,EAAGmrB,EAAO1rB,OAAOO,IAExCykD,CACX,C,mHCXIC,EAAkB,sgICOlBC,GDL6B,QAAQ,SAAUt4B,GACjD,OAAOq4B,EAAgB74B,KAAKQ,IAAgC,MAAvBA,EAAKnc,WAAW,IAE3B,MAAvBmc,EAAKnc,WAAW,IAEhBmc,EAAKnc,WAAW,GAAK,EAC1B,ICCI00C,EAA2B,SAAkCn6C,GAC/D,MAAe,UAARA,CACT,EAEIo6C,EAA8B,SAAqC7xC,GACrE,MAAsB,iBAARA,GAGdA,EAAI9C,WAAW,GAAK,GAAKy0C,EAA2BC,CACtD,EACIE,EAA4B,SAAmC9xC,EAAKlQ,EAASiiD,GAC/E,IAAIC,EAEJ,GAAIliD,EAAS,CACX,IAAImiD,EAA2BniD,EAAQkiD,kBACvCA,EAAoBhyC,EAAIkyC,uBAAyBD,EAA2B,SAAUE,GACpF,OAAOnyC,EAAIkyC,sBAAsBC,IAAaF,EAAyBE,EACzE,EAAIF,CACN,CAMA,MAJiC,mBAAtBD,GAAoCD,IAC7CC,EAAoBhyC,EAAIkyC,uBAGnBF,CACT,EAEIrH,EAAY,SAAmBC,GACjC,IAAIzgC,EAAQygC,EAAKzgC,MACbC,EAAawgC,EAAKxgC,WAClB8B,EAAc0+B,EAAK1+B,YAMvB,OALA,QAAe/B,EAAOC,EAAY8B,IAClC,QAAyC,WACvC,OAAO,QAAa/B,EAAOC,EAAY8B,EACzC,IAEO,IACT,ECpCIkmC,EDsCe,SAASC,EAAaryC,EAAKlQ,GAE5C,IAEIyP,EACA+yC,EAHAP,EAAS/xC,EAAIuyC,iBAAmBvyC,EAChCwyC,EAAUT,GAAU/xC,EAAIyyC,gBAAkBzyC,OAI9B3J,IAAZvG,IACFyP,EAAiBzP,EAAQw6B,MACzBgoB,EAAkBxiD,EAAQG,QAG5B,IAAI+hD,EAAoBF,EAA0B9xC,EAAKlQ,EAASiiD,GAC5DW,EAA2BV,GAAqBH,EAA4BW,GAC5EG,GAAeD,EAAyB,MAC5C,OAAO,WAEL,IAAIxzC,EAAOwK,UACP/L,EAASo0C,QAAmC17C,IAAzB2J,EAAI7B,iBAAiC6B,EAAI7B,iBAAiBuuC,MAAM,GAAK,GAM5F,QAJuBr2C,IAAnBkJ,GACF5B,EAAOqO,KAAK,SAAWzM,EAAiB,KAG3B,MAAXL,EAAK,SAA8B7I,IAAhB6I,EAAK,GAAGG,IAE7B1B,EAAOqO,KAAKpC,MAAMjM,EAAQuB,OACrB,CACL,IAAI0zC,EAAqB1zC,EAAK,GAE9BvB,EAAOqO,KAAK4mC,EAAmB,IAI/B,IAHA,IAAIjzC,EAAMT,EAAKhS,OACX6E,EAAI,EAEDA,EAAI4N,EAAK5N,IAEd4L,EAAOqO,KAAK9M,EAAKnN,GAAI6gD,EAAmB7gD,GAE5C,CAEA,IAAI8gD,GAAS,IAAA3oC,IAAiB,SAAU9S,EAAO+S,EAAO5U,GACpD,IAAIu9C,EAAWH,GAAev7C,EAAM27C,IAAMP,EACtCzmC,EAAY,GACZinC,EAAsB,GACtBj1C,EAAc3G,EAElB,GAAmB,MAAfA,EAAMgzC,MAAe,CAGvB,IAAK,IAAI3yC,KAFTsG,EAAc,CAAC,EAEC3G,EACd2G,EAAYtG,GAAOL,EAAMK,GAG3BsG,EAAYqsC,MAAQ,aAAiB,EAAA//B,EACvC,CAE+B,iBAApBjT,EAAM2U,UACfA,GAAY,QAAoB5B,EAAMnM,WAAYg1C,EAAqB57C,EAAM2U,WACjD,MAAnB3U,EAAM2U,YACfA,EAAY3U,EAAM2U,UAAY,KAGhC,IAAI3B,GAAa,OAAgBzM,EAAO4X,OAAOy9B,GAAsB7oC,EAAMnM,WAAYD,GACvFgO,GAAa5B,EAAM1S,IAAM,IAAM2S,EAAW3Q,UAElBpD,IAApBi8C,IACFvmC,GAAa,IAAMumC,GAGrB,IAAIW,EAAyBN,QAAqCt8C,IAAtB27C,EAAkCH,EAA4BiB,GAAYJ,EAClHhI,EAAW,CAAC,EAEhB,IAAK,IAAIl/B,KAAQpU,EACXu7C,GAAwB,OAATnnC,GAEfynC,EAAuBznC,KACzBk/B,EAASl/B,GAAQpU,EAAMoU,IAU3B,OANAk/B,EAAS3+B,UAAYA,EAEjBxW,IACFm1C,EAASn1C,IAAMA,GAGG,gBAAoB,WAAgB,KAAmB,gBAAoBo1C,EAAW,CACxGxgC,MAAOA,EACPC,WAAYA,EACZ8B,YAAiC,iBAAb4mC,IACL,gBAAoBA,EAAUpI,GACjD,IAwBA,OAvBAmI,EAAOpyB,iBAAiCpqB,IAAnBkJ,EAA+BA,EAAiB,WAAgC,iBAAZizC,EAAuBA,EAAUA,EAAQ/xB,aAAe+xB,EAAQ/4C,MAAQ,aAAe,IAChLo5C,EAAOK,aAAelzC,EAAIkzC,aAC1BL,EAAON,eAAiBM,EACxBA,EAAOJ,eAAiBD,EACxBK,EAAO10C,iBAAmBR,EAC1Bk1C,EAAOX,sBAAwBF,EAC/BxsC,OAAO2tC,eAAeN,EAAQ,WAAY,CACxC/9C,MAAO,WAKL,MAAO,IAAMw9C,CACf,IAGFO,EAAOO,cAAgB,SAAUC,EAASC,GAIxC,OAHgBjB,EAAagB,GAAS,OAAS,CAAC,EAAGvjD,EAASwjD,EAAa,CACvEtB,kBAAmBF,EAA0Be,EAAQS,GAAa,MAEnD1pC,WAAM,EAAQjM,EACjC,EAEOk1C,CACT,CACF,EC3J6BU,KAAK,MAJvB,CAAC,IAAK,OAAQ,UAAW,OAAQ,UAAW,QAAS,QAAS,IAAK,OAAQ,MAAO,MAAO,MAAO,aAAc,OAAQ,KAAM,SAAU,SAAU,UAAW,OAAQ,OAAQ,MAAO,WAAY,OAAQ,WAAY,KAAM,MAAO,UAAW,MAAO,SAAU,MAAO,KAAM,KAAM,KAAM,QAAS,WAAY,aAAc,SAAU,SAAU,OAAQ,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAAQ,SAAU,SAAU,KAAM,OAAQ,IAAK,SAAU,MAAO,QAAS,MAAO,MAAO,SAAU,QAAS,SAAU,KAAM,OAAQ,OAAQ,MAAO,OAAQ,UAAW,OAAQ,WAAY,OAAQ,QAAS,MAAO,WAAY,SAAU,KAAM,WAAY,SAAU,SAAU,IAAK,QAAS,UAAW,MAAO,WAAY,IAAK,KAAM,KAAM,OAAQ,IAAK,OAAQ,SAAU,UAAW,SAAU,QAAS,SAAU,OAAQ,SAAU,QAAS,MAAO,UAAW,MAAO,QAAS,QAAS,KAAM,WAAY,QAAS,KAAM,QAAS,OAAQ,QAAS,KAAM,QAAS,IAAK,KAAM,MAAO,QAAS,MAC77B,SAAU,WAAY,OAAQ,UAAW,gBAAiB,IAAK,QAAS,OAAQ,iBAAkB,OAAQ,OAAQ,UAAW,UAAW,WAAY,iBAAkB,OAAQ,OAAQ,MAAO,OAAQ,SAIhM1wC,SAAQ,SAAUnS,GACrB0hD,EAAU1hD,GAAW0hD,EAAU1hD,EACjC,G,wECbA,SAASyG,EAA4BC,EAAOC,EAAWC,GACnD,MAAME,GAAY,OAA8BJ,EAAOC,EAAWC,GAClE,IAAK,MAAMG,KAAOL,IACV,OAAcA,EAAMK,MACpB,OAAcJ,EAAUI,OAIxBD,GAHuD,IAArC,IAAmBsd,QAAQrd,GACvC,OAASA,EAAI+7C,OAAO,GAAG/kB,cAAgBh3B,EAAIg8C,UAAU,GACrDh8C,GACiBL,EAAMK,IAGrC,OAAOD,CACX,C,6DCZA,SAASk8C,EAAqBp8C,EAAeG,GACzC,MAAMyvC,EAAa5vC,EAAcI,SAAS,cAK1C,GCP6B5C,EDODoyC,ECNrBjkC,SAAQ,OAAcnO,IAAUA,EAAM5B,KDOzC,OAAOg0C,EAAWh0C,IAAIuE,GAErB,IAAKyvC,GAAc,IAAmByM,WAAY,CACnD,MAAMC,EAAgB,IAAI,IAAmBD,WAAW,QACxDr8C,EAAcguC,SAAS,aAAcsO,GACrCA,EAAc1gD,IAAIuE,EACtB,CCdJ,IAAiC3C,CDejC,C,gFEbA,SAAS2tB,EAAsBrrB,GAC3B,OAAQ,OAAoBA,EAAMwkB,UAC9B,IAAapiB,MAAMC,IAAS,OAAerC,EAAMqC,KACzD,CACA,SAAS+sC,EAAcpvC,GACnB,OAAO6L,QAAQwf,EAAsBrrB,IAAUA,EAAM4xC,SACzD,C,mFCaA,SAAS6K,EAAe5xC,GACpB,MAAMnN,GAAQ,QAAY,KAAM,QAAYmN,MAMtC,SAAEgZ,IAAa,IAAAhjB,YAAW,KAChC,GAAIgjB,EAAU,CACV,MAAO,CAAE64B,IAAa,IAAA1xC,UAASH,IAC/B,IAAApL,YAAU,IAAM/B,EAAMsS,GAAG,SAAU0sC,IAAY,GACnD,CACA,OAAOh/C,CACX,C,mCCpCA,MAAMi/C,EAAqB,IAAI1hD,O","sources":["webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/scroll/info.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/scroll/offsets/edge.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/scroll/offsets/offset.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/scroll/offsets/presets.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/scroll/offsets/index.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/scroll/on-scroll-handler.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/scroll/offsets/inset.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/scroll/track.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/scroll/utils/get-timeline.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/value/use-scroll.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/scroll/index.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/scroll/attach-function.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/scroll/attach-animation.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/animate/single-value.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/context/PresenceContext.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/features/definitions.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/@emotion+unitless@0.10.0/node_modules/@emotion/unitless/dist/emotion-unitless.esm.js","webpack://@my-react/ssr-example/../../node_modules/.pnpm/@emotion+serialize@1.3.3/node_modules/@emotion/serialize/dist/emotion-serialize.esm.js","webpack://@my-react/ssr-example/../../node_modules/.pnpm/@emotion+hash@0.9.2/node_modules/@emotion/hash/dist/emotion-hash.esm.js","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/utils/is-variant-label.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/svg/utils/is-svg-tag.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/styles/scale-correction.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/geometry/models.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/utils/has-transform.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/viewport/index.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/utils/use-in-view.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/html/utils/render.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/animators/waapi/utils/get-final-keyframe.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/utils/default-transitions.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/interfaces/motion-value.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/utils/is-transition-defined.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/value/use-combine-values.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/value/use-transform.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/value/use-computed.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/optimized-appear/data-id.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/svg/utils/path.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/@emotion+react@11.14.0_@types+react@18.3.26_react@18.3.1/node_modules/@emotion/react/dist/emotion-react.browser.esm.js","webpack://@my-react/ssr-example/../../node_modules/.pnpm/@emotion+utils@1.4.2/node_modules/@emotion/utils/dist/emotion-utils.browser.esm.js","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/utils/is-browser.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/html/HTMLVisualElement.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/utils/use-constant.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/utils/resolve-dynamic-variants.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/utils/use-composed-ref.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/components/AnimatePresence/PopChild.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/components/AnimatePresence/utils.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/@emotion+sheet@1.4.0/node_modules/@emotion/sheet/dist/emotion-sheet.esm.js","webpack://@my-react/ssr-example/../../node_modules/.pnpm/@emotion+cache@11.14.0/node_modules/@emotion/cache/dist/emotion-cache.browser.esm.js","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/html/utils/build-transform.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/html/utils/build-styles.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/DOMVisualElement.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/geometry/delta-apply.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/svg/lowercase-elements.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/create-visual-element.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/context/LazyContext.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/context/MotionContext/index.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/context/MotionContext/create.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/html/use-props.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/html/utils/create-render-state.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/svg/use-props.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/utils/valid-prop.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/utils/filter-props.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/use-render.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/utils/use-visual-state.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/html/use-html-visual-state.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/svg/use-svg-visual-state.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/utils/symbol.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/utils/is-ref-object.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/context/SwitchLayoutGroupContext.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/utils/use-visual-element.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/index.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/features/load-features.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/context/MotionContext/utils.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/components/create-proxy.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/utils/calc-child-stagger.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/interfaces/visual-element-variant.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/utils/shallow-compare.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/utils/get-variant-context.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/utils/animation-state.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/interfaces/visual-element.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/features/Feature.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/features/animation/exit.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/features/animations.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/features/animation/index.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/events/add-dom-event.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/events/event-info.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/events/add-pointer-event.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/geometry/delta-calc.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/utils/each-axis.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/utils/get-context-window.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/utils/distance.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/gestures/pan/PanSession.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/gestures/pan/index.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/node/state.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/styles/scale-border-radius.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/styles/scale-box-shadow.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/features/layout/MeasureLayout.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/utils/compare-by-depth.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/utils/flat-tree.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/animation/mix-values.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/geometry/copy.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/geometry/delta-remove.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/geometry/utils.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/shared/stack.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/node/create-projection-node.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/utils/delay.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/styles/transform.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/node/DocumentProjectionNode.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/node/HTMLProjectionNode.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/features/drag.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/gestures/drag/index.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/gestures/hover.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/gestures/press.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/features/viewport/observers.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/features/viewport/index.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/components/motion/feature-bundle.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/features/gestures.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/gestures/focus.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/motion/features/layout.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/utils/setters.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/interfaces/visual-element-target.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/utils/reduced-motion/state.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/VisualElement.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/utils/reduced-motion/index.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/utils/motion-values.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/@emotion+weak-memoize@0.4.0/node_modules/@emotion/weak-memoize/dist/emotion-weak-memoize.esm.js","webpack://@my-react/ssr-example/../../node_modules/.pnpm/@emotion+react@11.14.0_@types+react@18.3.26_react@18.3.1/node_modules/@emotion/react/dist/emotion-element-f0de968e.browser.esm.js","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/utils/resolve-variants.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/utils/variant-props.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/geometry/conversion.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/optimized-appear/get-appear-id.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/@emotion+memoize@0.9.0/node_modules/@emotion/memoize/dist/emotion-memoize.esm.js","webpack://@my-react/ssr-example/../../node_modules/.pnpm/@emotion+use-insertion-effect-with-fallbacks@1.2.0_react@18.3.1/node_modules/@emotion/use-insertion-effect-with-fallbacks/dist/emotion-use-insertion-effect-with-fallbacks.browser.esm.js","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/utils/is-dom-keyframes.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/animate/resolve-subjects.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/sequence/utils/calc-repeat-duration.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/sequence/utils/calc-time.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/sequence/utils/edit.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/sequence/utils/normalize-times.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/sequence/utils/sort.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/sequence/create.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/object/ObjectVisualElement.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/utils/create-visual-element.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/animate/subject.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/animate/index.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/animate/sequence.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/svg/SVGVisualElement.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/svg/utils/render.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/projection/utils/measure.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/@emotion+is-prop-valid@1.3.1/node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.esm.js","webpack://@my-react/ssr-example/../../node_modules/.pnpm/@emotion+styled@11.14.0_@emotion+react@11.14.0_@types+react@18.3.26_react@18.3.1__@types+react@18.3.26_react@18.3.1/node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js","webpack://@my-react/ssr-example/../../node_modules/.pnpm/@emotion+styled@11.14.0_@emotion+react@11.14.0_@types+react@18.3.26_react@18.3.1__@types+react@18.3.26_react@18.3.1/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/value/use-will-change/add-will-change.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/value/use-will-change/is.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/utils/is-controlling-variants.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/value/use-motion-value.mjs","webpack://@my-react/ssr-example/../../node_modules/.pnpm/framer-motion@12.23.24_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/store.mjs"],"sourcesContent":["import { progress, velocityPerSecond } from 'motion-utils';\n\n/**\n * A time in milliseconds, beyond which we consider the scroll velocity to be 0.\n */\nconst maxElapsed = 50;\nconst createAxisInfo = () => ({\n    current: 0,\n    offset: [],\n    progress: 0,\n    scrollLength: 0,\n    targetOffset: 0,\n    targetLength: 0,\n    containerLength: 0,\n    velocity: 0,\n});\nconst createScrollInfo = () => ({\n    time: 0,\n    x: createAxisInfo(),\n    y: createAxisInfo(),\n});\nconst keys = {\n    x: {\n        length: \"Width\",\n        position: \"Left\",\n    },\n    y: {\n        length: \"Height\",\n        position: \"Top\",\n    },\n};\nfunction updateAxisInfo(element, axisName, info, time) {\n    const axis = info[axisName];\n    const { length, position } = keys[axisName];\n    const prev = axis.current;\n    const prevTime = info.time;\n    axis.current = element[`scroll${position}`];\n    axis.scrollLength = element[`scroll${length}`] - element[`client${length}`];\n    axis.offset.length = 0;\n    axis.offset[0] = 0;\n    axis.offset[1] = axis.scrollLength;\n    axis.progress = progress(0, axis.scrollLength, axis.current);\n    const elapsed = time - prevTime;\n    axis.velocity =\n        elapsed > maxElapsed\n            ? 0\n            : velocityPerSecond(axis.current - prev, elapsed);\n}\nfunction updateScrollInfo(element, info, time) {\n    updateAxisInfo(element, \"x\", info, time);\n    updateAxisInfo(element, \"y\", info, time);\n    info.time = time;\n}\n\nexport { createScrollInfo, updateScrollInfo };\n","const namedEdges = {\n    start: 0,\n    center: 0.5,\n    end: 1,\n};\nfunction resolveEdge(edge, length, inset = 0) {\n    let delta = 0;\n    /**\n     * If we have this edge defined as a preset, replace the definition\n     * with the numerical value.\n     */\n    if (edge in namedEdges) {\n        edge = namedEdges[edge];\n    }\n    /**\n     * Handle unit values\n     */\n    if (typeof edge === \"string\") {\n        const asNumber = parseFloat(edge);\n        if (edge.endsWith(\"px\")) {\n            delta = asNumber;\n        }\n        else if (edge.endsWith(\"%\")) {\n            edge = asNumber / 100;\n        }\n        else if (edge.endsWith(\"vw\")) {\n            delta = (asNumber / 100) * document.documentElement.clientWidth;\n        }\n        else if (edge.endsWith(\"vh\")) {\n            delta = (asNumber / 100) * document.documentElement.clientHeight;\n        }\n        else {\n            edge = asNumber;\n        }\n    }\n    /**\n     * If the edge is defined as a number, handle as a progress value.\n     */\n    if (typeof edge === \"number\") {\n        delta = length * edge;\n    }\n    return inset + delta;\n}\n\nexport { namedEdges, resolveEdge };\n","import { resolveEdge, namedEdges } from './edge.mjs';\n\nconst defaultOffset = [0, 0];\nfunction resolveOffset(offset, containerLength, targetLength, targetInset) {\n    let offsetDefinition = Array.isArray(offset) ? offset : defaultOffset;\n    let targetPoint = 0;\n    let containerPoint = 0;\n    if (typeof offset === \"number\") {\n        /**\n         * If we're provided offset: [0, 0.5, 1] then each number x should become\n         * [x, x], so we default to the behaviour of mapping 0 => 0 of both target\n         * and container etc.\n         */\n        offsetDefinition = [offset, offset];\n    }\n    else if (typeof offset === \"string\") {\n        offset = offset.trim();\n        if (offset.includes(\" \")) {\n            offsetDefinition = offset.split(\" \");\n        }\n        else {\n            /**\n             * If we're provided a definition like \"100px\" then we want to apply\n             * that only to the top of the target point, leaving the container at 0.\n             * Whereas a named offset like \"end\" should be applied to both.\n             */\n            offsetDefinition = [offset, namedEdges[offset] ? offset : `0`];\n        }\n    }\n    targetPoint = resolveEdge(offsetDefinition[0], targetLength, targetInset);\n    containerPoint = resolveEdge(offsetDefinition[1], containerLength);\n    return targetPoint - containerPoint;\n}\n\nexport { resolveOffset };\n","const ScrollOffset = {\n    Enter: [\n        [0, 1],\n        [1, 1],\n    ],\n    Exit: [\n        [0, 0],\n        [1, 0],\n    ],\n    Any: [\n        [1, 0],\n        [0, 1],\n    ],\n    All: [\n        [0, 0],\n        [1, 1],\n    ],\n};\n\nexport { ScrollOffset };\n","import { interpolate, defaultOffset } from 'motion-dom';\nimport { clamp } from 'motion-utils';\nimport { calcInset } from './inset.mjs';\nimport { resolveOffset } from './offset.mjs';\nimport { ScrollOffset } from './presets.mjs';\n\nconst point = { x: 0, y: 0 };\nfunction getTargetSize(target) {\n    return \"getBBox\" in target && target.tagName !== \"svg\"\n        ? target.getBBox()\n        : { width: target.clientWidth, height: target.clientHeight };\n}\nfunction resolveOffsets(container, info, options) {\n    const { offset: offsetDefinition = ScrollOffset.All } = options;\n    const { target = container, axis = \"y\" } = options;\n    const lengthLabel = axis === \"y\" ? \"height\" : \"width\";\n    const inset = target !== container ? calcInset(target, container) : point;\n    /**\n     * Measure the target and container. If they're the same thing then we\n     * use the container's scrollWidth/Height as the target, from there\n     * all other calculations can remain the same.\n     */\n    const targetSize = target === container\n        ? { width: container.scrollWidth, height: container.scrollHeight }\n        : getTargetSize(target);\n    const containerSize = {\n        width: container.clientWidth,\n        height: container.clientHeight,\n    };\n    /**\n     * Reset the length of the resolved offset array rather than creating a new one.\n     * TODO: More reusable data structures for targetSize/containerSize would also be good.\n     */\n    info[axis].offset.length = 0;\n    /**\n     * Populate the offset array by resolving the user's offset definition into\n     * a list of pixel scroll offets.\n     */\n    let hasChanged = !info[axis].interpolate;\n    const numOffsets = offsetDefinition.length;\n    for (let i = 0; i < numOffsets; i++) {\n        const offset = resolveOffset(offsetDefinition[i], containerSize[lengthLabel], targetSize[lengthLabel], inset[axis]);\n        if (!hasChanged && offset !== info[axis].interpolatorOffsets[i]) {\n            hasChanged = true;\n        }\n        info[axis].offset[i] = offset;\n    }\n    /**\n     * If the pixel scroll offsets have changed, create a new interpolator function\n     * to map scroll value into a progress.\n     */\n    if (hasChanged) {\n        info[axis].interpolate = interpolate(info[axis].offset, defaultOffset(offsetDefinition), { clamp: false });\n        info[axis].interpolatorOffsets = [...info[axis].offset];\n    }\n    info[axis].progress = clamp(0, 1, info[axis].interpolate(info[axis].current));\n}\n\nexport { resolveOffsets };\n","import { warnOnce } from 'motion-utils';\nimport { updateScrollInfo } from './info.mjs';\nimport { resolveOffsets } from './offsets/index.mjs';\n\nfunction measure(container, target = container, info) {\n    /**\n     * Find inset of target within scrollable container\n     */\n    info.x.targetOffset = 0;\n    info.y.targetOffset = 0;\n    if (target !== container) {\n        let node = target;\n        while (node && node !== container) {\n            info.x.targetOffset += node.offsetLeft;\n            info.y.targetOffset += node.offsetTop;\n            node = node.offsetParent;\n        }\n    }\n    info.x.targetLength =\n        target === container ? target.scrollWidth : target.clientWidth;\n    info.y.targetLength =\n        target === container ? target.scrollHeight : target.clientHeight;\n    info.x.containerLength = container.clientWidth;\n    info.y.containerLength = container.clientHeight;\n    /**\n     * In development mode ensure scroll containers aren't position: static as this makes\n     * it difficult to measure their relative positions.\n     */\n    if (process.env.NODE_ENV !== \"production\") {\n        if (container && target && target !== container) {\n            warnOnce(getComputedStyle(container).position !== \"static\", \"Please ensure that the container has a non-static position, like 'relative', 'fixed', or 'absolute' to ensure scroll offset is calculated correctly.\");\n        }\n    }\n}\nfunction createOnScrollHandler(element, onScroll, info, options = {}) {\n    return {\n        measure: (time) => {\n            measure(element, options.target, info);\n            updateScrollInfo(element, info, time);\n            if (options.offset || options.target) {\n                resolveOffsets(element, info, options);\n            }\n        },\n        notify: () => onScroll(info),\n    };\n}\n\nexport { createOnScrollHandler };\n","import { isHTMLElement } from 'motion-dom';\n\nfunction calcInset(element, container) {\n    const inset = { x: 0, y: 0 };\n    let current = element;\n    while (current && current !== container) {\n        if (isHTMLElement(current)) {\n            inset.x += current.offsetLeft;\n            inset.y += current.offsetTop;\n            current = current.offsetParent;\n        }\n        else if (current.tagName === \"svg\") {\n            /**\n             * This isn't an ideal approach to measuring the offset of <svg /> tags.\n             * It would be preferable, given they behave like HTMLElements in most ways\n             * to use offsetLeft/Top. But these don't exist on <svg />. Likewise we\n             * can't use .getBBox() like most SVG elements as these provide the offset\n             * relative to the SVG itself, which for <svg /> is usually 0x0.\n             */\n            const svgBoundingBox = current.getBoundingClientRect();\n            current = current.parentElement;\n            const parentBoundingBox = current.getBoundingClientRect();\n            inset.x += svgBoundingBox.left - parentBoundingBox.left;\n            inset.y += svgBoundingBox.top - parentBoundingBox.top;\n        }\n        else if (current instanceof SVGGraphicsElement) {\n            const { x, y } = current.getBBox();\n            inset.x += x;\n            inset.y += y;\n            let svg = null;\n            let parent = current.parentNode;\n            while (!svg) {\n                if (parent.tagName === \"svg\") {\n                    svg = parent;\n                }\n                parent = current.parentNode;\n            }\n            current = svg;\n        }\n        else {\n            break;\n        }\n    }\n    return inset;\n}\n\nexport { calcInset };\n","import { resize, frame, cancelFrame, frameData } from 'motion-dom';\nimport { noop } from 'motion-utils';\nimport { createScrollInfo } from './info.mjs';\nimport { createOnScrollHandler } from './on-scroll-handler.mjs';\n\nconst scrollListeners = new WeakMap();\nconst resizeListeners = new WeakMap();\nconst onScrollHandlers = new WeakMap();\nconst getEventTarget = (element) => element === document.scrollingElement ? window : element;\nfunction scrollInfo(onScroll, { container = document.scrollingElement, ...options } = {}) {\n    if (!container)\n        return noop;\n    let containerHandlers = onScrollHandlers.get(container);\n    /**\n     * Get the onScroll handlers for this container.\n     * If one isn't found, create a new one.\n     */\n    if (!containerHandlers) {\n        containerHandlers = new Set();\n        onScrollHandlers.set(container, containerHandlers);\n    }\n    /**\n     * Create a new onScroll handler for the provided callback.\n     */\n    const info = createScrollInfo();\n    const containerHandler = createOnScrollHandler(container, onScroll, info, options);\n    containerHandlers.add(containerHandler);\n    /**\n     * Check if there's a scroll event listener for this container.\n     * If not, create one.\n     */\n    if (!scrollListeners.has(container)) {\n        const measureAll = () => {\n            for (const handler of containerHandlers) {\n                handler.measure(frameData.timestamp);\n            }\n            frame.preUpdate(notifyAll);\n        };\n        const notifyAll = () => {\n            for (const handler of containerHandlers) {\n                handler.notify();\n            }\n        };\n        const listener = () => frame.read(measureAll);\n        scrollListeners.set(container, listener);\n        const target = getEventTarget(container);\n        window.addEventListener(\"resize\", listener, { passive: true });\n        if (container !== document.documentElement) {\n            resizeListeners.set(container, resize(container, listener));\n        }\n        target.addEventListener(\"scroll\", listener, { passive: true });\n        listener();\n    }\n    const listener = scrollListeners.get(container);\n    frame.read(listener, false, true);\n    return () => {\n        cancelFrame(listener);\n        /**\n         * Check if we even have any handlers for this container.\n         */\n        const currentHandlers = onScrollHandlers.get(container);\n        if (!currentHandlers)\n            return;\n        currentHandlers.delete(containerHandler);\n        if (currentHandlers.size)\n            return;\n        /**\n         * If no more handlers, remove the scroll listener too.\n         */\n        const scrollListener = scrollListeners.get(container);\n        scrollListeners.delete(container);\n        if (scrollListener) {\n            getEventTarget(container).removeEventListener(\"scroll\", scrollListener);\n            resizeListeners.get(container)?.();\n            window.removeEventListener(\"resize\", scrollListener);\n        }\n    };\n}\n\nexport { scrollInfo };\n","import { supportsScrollTimeline } from 'motion-dom';\nimport { scrollInfo } from '../track.mjs';\n\nconst timelineCache = new Map();\nfunction scrollTimelineFallback(options) {\n    const currentTime = { value: 0 };\n    const cancel = scrollInfo((info) => {\n        currentTime.value = info[options.axis].progress * 100;\n    }, options);\n    return { currentTime, cancel };\n}\nfunction getTimeline({ source, container, ...options }) {\n    const { axis } = options;\n    if (source)\n        container = source;\n    const containerCache = timelineCache.get(container) ?? new Map();\n    timelineCache.set(container, containerCache);\n    const targetKey = options.target ?? \"self\";\n    const targetCache = containerCache.get(targetKey) ?? {};\n    const axisKey = axis + (options.offset ?? []).join(\",\");\n    if (!targetCache[axisKey]) {\n        targetCache[axisKey] =\n            !options.target && supportsScrollTimeline()\n                ? new ScrollTimeline({ source: container, axis })\n                : scrollTimelineFallback({ container, ...options });\n    }\n    return targetCache[axisKey];\n}\n\nexport { getTimeline };\n","\"use client\";\nimport { motionValue } from 'motion-dom';\nimport { invariant } from 'motion-utils';\nimport { useRef, useCallback, useEffect } from 'react';\nimport { scroll } from '../render/dom/scroll/index.mjs';\nimport { useConstant } from '../utils/use-constant.mjs';\nimport { useIsomorphicLayoutEffect } from '../utils/use-isomorphic-effect.mjs';\n\nconst createScrollMotionValues = () => ({\n    scrollX: motionValue(0),\n    scrollY: motionValue(0),\n    scrollXProgress: motionValue(0),\n    scrollYProgress: motionValue(0),\n});\nconst isRefPending = (ref) => {\n    if (!ref)\n        return false;\n    return !ref.current;\n};\nfunction useScroll({ container, target, ...options } = {}) {\n    const values = useConstant(createScrollMotionValues);\n    const scrollAnimation = useRef(null);\n    const needsStart = useRef(false);\n    const start = useCallback(() => {\n        scrollAnimation.current = scroll((_progress, { x, y, }) => {\n            values.scrollX.set(x.current);\n            values.scrollXProgress.set(x.progress);\n            values.scrollY.set(y.current);\n            values.scrollYProgress.set(y.progress);\n        }, {\n            ...options,\n            container: container?.current || undefined,\n            target: target?.current || undefined,\n        });\n        return () => {\n            scrollAnimation.current?.();\n        };\n    }, [container, target, JSON.stringify(options.offset)]);\n    useIsomorphicLayoutEffect(() => {\n        needsStart.current = false;\n        if (isRefPending(container) || isRefPending(target)) {\n            needsStart.current = true;\n            return;\n        }\n        else {\n            return start();\n        }\n    }, [start]);\n    useEffect(() => {\n        if (needsStart.current) {\n            invariant(!isRefPending(container), \"Container ref is defined but not hydrated\", \"use-scroll-ref\");\n            invariant(!isRefPending(target), \"Target ref is defined but not hydrated\", \"use-scroll-ref\");\n            return start();\n        }\n        else {\n            return;\n        }\n    }, [start]);\n    return values;\n}\n\nexport { useScroll };\n","import { noop } from 'motion-utils';\nimport { attachToAnimation } from './attach-animation.mjs';\nimport { attachToFunction } from './attach-function.mjs';\n\nfunction scroll(onScroll, { axis = \"y\", container = document.scrollingElement, ...options } = {}) {\n    if (!container)\n        return noop;\n    const optionsWithDefaults = { axis, container, ...options };\n    return typeof onScroll === \"function\"\n        ? attachToFunction(onScroll, optionsWithDefaults)\n        : attachToAnimation(onScroll, optionsWithDefaults);\n}\n\nexport { scroll };\n","import { observeTimeline } from 'motion-dom';\nimport { scrollInfo } from './track.mjs';\nimport { getTimeline } from './utils/get-timeline.mjs';\n\n/**\n * If the onScroll function has two arguments, it's expecting\n * more specific information about the scroll from scrollInfo.\n */\nfunction isOnScrollWithInfo(onScroll) {\n    return onScroll.length === 2;\n}\nfunction attachToFunction(onScroll, options) {\n    if (isOnScrollWithInfo(onScroll)) {\n        return scrollInfo((info) => {\n            onScroll(info[options.axis].progress, info);\n        }, options);\n    }\n    else {\n        return observeTimeline(onScroll, getTimeline(options));\n    }\n}\n\nexport { attachToFunction };\n","import { observeTimeline } from 'motion-dom';\nimport { getTimeline } from './utils/get-timeline.mjs';\n\nfunction attachToAnimation(animation, options) {\n    const timeline = getTimeline(options);\n    return animation.attachTimeline({\n        timeline: options.target ? undefined : timeline,\n        observe: (valueAnimation) => {\n            valueAnimation.pause();\n            return observeTimeline((progress) => {\n                valueAnimation.time =\n                    valueAnimation.iterationDuration * progress;\n            }, timeline);\n        },\n    });\n}\n\nexport { attachToAnimation };\n","\"use client\";\nimport { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.mjs';\n\nconst useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","import { isMotionValue, motionValue } from 'motion-dom';\nimport { animateMotionValue } from '../interfaces/motion-value.mjs';\n\nfunction animateSingleValue(value, keyframes, options) {\n    const motionValue$1 = isMotionValue(value) ? value : motionValue(value);\n    motionValue$1.start(animateMotionValue(\"\", motionValue$1, keyframes, options));\n    return motionValue$1.animation;\n}\n\nexport { animateSingleValue };\n","import { isMotionValue } from 'motion-dom';\nimport { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n    const { style } = props;\n    const newValues = {};\n    for (const key in style) {\n        if (isMotionValue(style[key]) ||\n            (prevProps.style &&\n                isMotionValue(prevProps.style[key])) ||\n            isForcedMotionValue(key, props) ||\n            visualElement?.getValue(key)?.liveStyle !== undefined) {\n            newValues[key] = style[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","\"use client\";\nimport { createContext } from 'react';\n\n/**\n * @public\n */\nconst PresenceContext = \n/* @__PURE__ */ createContext(null);\n\nexport { PresenceContext };\n","\"use client\";\nimport { useContext, useId, useEffect, useCallback } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\n\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\nfunction usePresence(subscribe = true) {\n    const context = useContext(PresenceContext);\n    if (context === null)\n        return [true, null];\n    const { isPresent, onExitComplete, register } = context;\n    // It's safe to call the following hooks conditionally (after an early return) because the context will always\n    // either be null or non-null for the lifespan of the component.\n    const id = useId();\n    useEffect(() => {\n        if (subscribe) {\n            return register(id);\n        }\n    }, [subscribe]);\n    const safeToRemove = useCallback(() => subscribe && onExitComplete && onExitComplete(id), [id, onExitComplete, subscribe]);\n    return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\nfunction useIsPresent() {\n    return isPresent(useContext(PresenceContext));\n}\nfunction isPresent(context) {\n    return context === null ? true : context.isPresent;\n}\n\nexport { isPresent, useIsPresent, usePresence };\n","/**\n * Convert camelCase to dash-case properties.\n */\nconst camelToDash = (str) => str.replace(/([a-z])([A-Z])/gu, \"$1-$2\").toLowerCase();\n\nexport { camelToDash };\n","const featureProps = {\n    animation: [\n        \"animate\",\n        \"variants\",\n        \"whileHover\",\n        \"whileTap\",\n        \"exit\",\n        \"whileInView\",\n        \"whileFocus\",\n        \"whileDrag\",\n    ],\n    exit: [\"exit\"],\n    drag: [\"drag\", \"dragControls\"],\n    focus: [\"whileFocus\"],\n    hover: [\"whileHover\", \"onHoverStart\", \"onHoverEnd\"],\n    tap: [\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"],\n    pan: [\"onPan\", \"onPanStart\", \"onPanSessionStart\", \"onPanEnd\"],\n    inView: [\"whileInView\", \"onViewportEnter\", \"onViewportLeave\"],\n    layout: [\"layout\", \"layoutId\"],\n};\nconst featureDefinitions = {};\nfor (const key in featureProps) {\n    featureDefinitions[key] = {\n        isEnabled: (props) => featureProps[key].some((name) => !!props[name]),\n    };\n}\n\nexport { featureDefinitions };\n","import { transformProps } from 'motion-dom';\nimport { scaleCorrectors } from '../../projection/styles/scale-correction.mjs';\n\nfunction isForcedMotionValue(key, { layout, layoutId }) {\n    return (transformProps.has(key) ||\n        key.startsWith(\"origin\") ||\n        ((layout || layoutId !== undefined) &&\n            (!!scaleCorrectors[key] || key === \"opacity\")));\n}\n\nexport { isForcedMotionValue };\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  aspectRatio: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  scale: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport { unitlessKeys as default };\n","import hashString from '@emotion/hash';\nimport unitless from '@emotion/unitless';\nimport memoize from '@emotion/memoize';\n\nvar isDevelopment = false;\n\nvar hyphenateRegex = /[A-Z]|^ms/g;\nvar animationRegex = /_EMO_([^_]+?)_([^]*?)_EMO_/g;\n\nvar isCustomProperty = function isCustomProperty(property) {\n  return property.charCodeAt(1) === 45;\n};\n\nvar isProcessableValue = function isProcessableValue(value) {\n  return value != null && typeof value !== 'boolean';\n};\n\nvar processStyleName = /* #__PURE__ */memoize(function (styleName) {\n  return isCustomProperty(styleName) ? styleName : styleName.replace(hyphenateRegex, '-$&').toLowerCase();\n});\n\nvar processStyleValue = function processStyleValue(key, value) {\n  switch (key) {\n    case 'animation':\n    case 'animationName':\n      {\n        if (typeof value === 'string') {\n          return value.replace(animationRegex, function (match, p1, p2) {\n            cursor = {\n              name: p1,\n              styles: p2,\n              next: cursor\n            };\n            return p1;\n          });\n        }\n      }\n  }\n\n  if (unitless[key] !== 1 && !isCustomProperty(key) && typeof value === 'number' && value !== 0) {\n    return value + 'px';\n  }\n\n  return value;\n};\n\nvar noComponentSelectorMessage = 'Component selectors can only be used in conjunction with ' + '@emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware ' + 'compiler transform.';\n\nfunction handleInterpolation(mergedProps, registered, interpolation) {\n  if (interpolation == null) {\n    return '';\n  }\n\n  var componentSelector = interpolation;\n\n  if (componentSelector.__emotion_styles !== undefined) {\n\n    return componentSelector;\n  }\n\n  switch (typeof interpolation) {\n    case 'boolean':\n      {\n        return '';\n      }\n\n    case 'object':\n      {\n        var keyframes = interpolation;\n\n        if (keyframes.anim === 1) {\n          cursor = {\n            name: keyframes.name,\n            styles: keyframes.styles,\n            next: cursor\n          };\n          return keyframes.name;\n        }\n\n        var serializedStyles = interpolation;\n\n        if (serializedStyles.styles !== undefined) {\n          var next = serializedStyles.next;\n\n          if (next !== undefined) {\n            // not the most efficient thing ever but this is a pretty rare case\n            // and there will be very few iterations of this generally\n            while (next !== undefined) {\n              cursor = {\n                name: next.name,\n                styles: next.styles,\n                next: cursor\n              };\n              next = next.next;\n            }\n          }\n\n          var styles = serializedStyles.styles + \";\";\n          return styles;\n        }\n\n        return createStringFromObject(mergedProps, registered, interpolation);\n      }\n\n    case 'function':\n      {\n        if (mergedProps !== undefined) {\n          var previousCursor = cursor;\n          var result = interpolation(mergedProps);\n          cursor = previousCursor;\n          return handleInterpolation(mergedProps, registered, result);\n        }\n\n        break;\n      }\n  } // finalize string values (regular strings and functions interpolated into css calls)\n\n\n  var asString = interpolation;\n\n  if (registered == null) {\n    return asString;\n  }\n\n  var cached = registered[asString];\n  return cached !== undefined ? cached : asString;\n}\n\nfunction createStringFromObject(mergedProps, registered, obj) {\n  var string = '';\n\n  if (Array.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      string += handleInterpolation(mergedProps, registered, obj[i]) + \";\";\n    }\n  } else {\n    for (var key in obj) {\n      var value = obj[key];\n\n      if (typeof value !== 'object') {\n        var asString = value;\n\n        if (registered != null && registered[asString] !== undefined) {\n          string += key + \"{\" + registered[asString] + \"}\";\n        } else if (isProcessableValue(asString)) {\n          string += processStyleName(key) + \":\" + processStyleValue(key, asString) + \";\";\n        }\n      } else {\n        if (key === 'NO_COMPONENT_SELECTOR' && isDevelopment) {\n          throw new Error(noComponentSelectorMessage);\n        }\n\n        if (Array.isArray(value) && typeof value[0] === 'string' && (registered == null || registered[value[0]] === undefined)) {\n          for (var _i = 0; _i < value.length; _i++) {\n            if (isProcessableValue(value[_i])) {\n              string += processStyleName(key) + \":\" + processStyleValue(key, value[_i]) + \";\";\n            }\n          }\n        } else {\n          var interpolated = handleInterpolation(mergedProps, registered, value);\n\n          switch (key) {\n            case 'animation':\n            case 'animationName':\n              {\n                string += processStyleName(key) + \":\" + interpolated + \";\";\n                break;\n              }\n\n            default:\n              {\n\n                string += key + \"{\" + interpolated + \"}\";\n              }\n          }\n        }\n      }\n    }\n  }\n\n  return string;\n}\n\nvar labelPattern = /label:\\s*([^\\s;{]+)\\s*(;|$)/g; // this is the cursor for keyframes\n// keyframes are stored on the SerializedStyles object as a linked list\n\nvar cursor;\nfunction serializeStyles(args, registered, mergedProps) {\n  if (args.length === 1 && typeof args[0] === 'object' && args[0] !== null && args[0].styles !== undefined) {\n    return args[0];\n  }\n\n  var stringMode = true;\n  var styles = '';\n  cursor = undefined;\n  var strings = args[0];\n\n  if (strings == null || strings.raw === undefined) {\n    stringMode = false;\n    styles += handleInterpolation(mergedProps, registered, strings);\n  } else {\n    var asTemplateStringsArr = strings;\n\n    styles += asTemplateStringsArr[0];\n  } // we start at 1 since we've already handled the first arg\n\n\n  for (var i = 1; i < args.length; i++) {\n    styles += handleInterpolation(mergedProps, registered, args[i]);\n\n    if (stringMode) {\n      var templateStringsArr = strings;\n\n      styles += templateStringsArr[i];\n    }\n  } // using a global regex with .exec is stateful so lastIndex has to be reset each time\n\n\n  labelPattern.lastIndex = 0;\n  var identifierName = '';\n  var match; // https://esbench.com/bench/5b809c2cf2949800a0f61fb5\n\n  while ((match = labelPattern.exec(styles)) !== null) {\n    identifierName += '-' + match[1];\n  }\n\n  var name = hashString(styles) + identifierName;\n\n  return {\n    name: name,\n    styles: styles,\n    next: cursor\n  };\n}\n\nexport { serializeStyles };\n","/* eslint-disable */\n// Inspired by https://github.com/garycourt/murmurhash-js\n// Ported from https://github.com/aappleby/smhasher/blob/61a0530f28277f2e850bfc39600ce61d02b518de/src/MurmurHash2.cpp#L37-L86\nfunction murmur2(str) {\n  // 'm' and 'r' are mixing constants generated offline.\n  // They're not really 'magic', they just happen to work well.\n  // const m = 0x5bd1e995;\n  // const r = 24;\n  // Initialize the hash\n  var h = 0; // Mix 4 bytes at a time into the hash\n\n  var k,\n      i = 0,\n      len = str.length;\n\n  for (; len >= 4; ++i, len -= 4) {\n    k = str.charCodeAt(i) & 0xff | (str.charCodeAt(++i) & 0xff) << 8 | (str.charCodeAt(++i) & 0xff) << 16 | (str.charCodeAt(++i) & 0xff) << 24;\n    k =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16);\n    k ^=\n    /* k >>> r: */\n    k >>> 24;\n    h =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16) ^\n    /* Math.imul(h, m): */\n    (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Handle the last few bytes of the input array\n\n\n  switch (len) {\n    case 3:\n      h ^= (str.charCodeAt(i + 2) & 0xff) << 16;\n\n    case 2:\n      h ^= (str.charCodeAt(i + 1) & 0xff) << 8;\n\n    case 1:\n      h ^= str.charCodeAt(i) & 0xff;\n      h =\n      /* Math.imul(h, m): */\n      (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Do a few final mixes of the hash to ensure the last few\n  // bytes are well-incorporated.\n\n\n  h ^= h >>> 13;\n  h =\n  /* Math.imul(h, m): */\n  (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  return ((h ^ h >>> 15) >>> 0).toString(36);\n}\n\nexport { murmur2 as default };\n","/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n    return typeof v === \"string\" || Array.isArray(v);\n}\n\nexport { isVariantLabel };\n","const isSVGTag = (tag) => typeof tag === \"string\" && tag.toLowerCase() === \"svg\";\n\nexport { isSVGTag };\n","import { isCSSVariableName } from 'motion-dom';\n\nconst scaleCorrectors = {};\nfunction addScaleCorrector(correctors) {\n    for (const key in correctors) {\n        scaleCorrectors[key] = correctors[key];\n        if (isCSSVariableName(key)) {\n            scaleCorrectors[key].isCSSVariable = true;\n        }\n    }\n}\n\nexport { addScaleCorrector, scaleCorrectors };\n","const isKeyframesTarget = (v) => {\n    return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };\n","const createAxisDelta = () => ({\n    translate: 0,\n    scale: 1,\n    origin: 0,\n    originPoint: 0,\n});\nconst createDelta = () => ({\n    x: createAxisDelta(),\n    y: createAxisDelta(),\n});\nconst createAxis = () => ({ min: 0, max: 0 });\nconst createBox = () => ({\n    x: createAxis(),\n    y: createAxis(),\n});\n\nexport { createAxis, createAxisDelta, createBox, createDelta };\n","function isIdentityScale(scale) {\n    return scale === undefined || scale === 1;\n}\nfunction hasScale({ scale, scaleX, scaleY }) {\n    return (!isIdentityScale(scale) ||\n        !isIdentityScale(scaleX) ||\n        !isIdentityScale(scaleY));\n}\nfunction hasTransform(values) {\n    return (hasScale(values) ||\n        has2DTranslate(values) ||\n        values.z ||\n        values.rotate ||\n        values.rotateX ||\n        values.rotateY ||\n        values.skewX ||\n        values.skewY);\n}\nfunction has2DTranslate(values) {\n    return is2DTranslate(values.x) || is2DTranslate(values.y);\n}\nfunction is2DTranslate(value) {\n    return value && value !== \"0%\";\n}\n\nexport { has2DTranslate, hasScale, hasTransform };\n","import { resolveElements } from 'motion-dom';\n\nconst thresholds = {\n    some: 0,\n    all: 1,\n};\nfunction inView(elementOrSelector, onStart, { root, margin: rootMargin, amount = \"some\" } = {}) {\n    const elements = resolveElements(elementOrSelector);\n    const activeIntersections = new WeakMap();\n    const onIntersectionChange = (entries) => {\n        entries.forEach((entry) => {\n            const onEnd = activeIntersections.get(entry.target);\n            /**\n             * If there's no change to the intersection, we don't need to\n             * do anything here.\n             */\n            if (entry.isIntersecting === Boolean(onEnd))\n                return;\n            if (entry.isIntersecting) {\n                const newOnEnd = onStart(entry.target, entry);\n                if (typeof newOnEnd === \"function\") {\n                    activeIntersections.set(entry.target, newOnEnd);\n                }\n                else {\n                    observer.unobserve(entry.target);\n                }\n            }\n            else if (typeof onEnd === \"function\") {\n                onEnd(entry);\n                activeIntersections.delete(entry.target);\n            }\n        });\n    };\n    const observer = new IntersectionObserver(onIntersectionChange, {\n        root,\n        rootMargin,\n        threshold: typeof amount === \"number\" ? amount : thresholds[amount],\n    });\n    elements.forEach((element) => observer.observe(element));\n    return () => observer.disconnect();\n}\n\nexport { inView };\n","\"use client\";\nimport { useState, useEffect } from 'react';\nimport { inView } from '../render/dom/viewport/index.mjs';\n\nfunction useInView(ref, { root, margin, amount, once = false, initial = false, } = {}) {\n    const [isInView, setInView] = useState(initial);\n    useEffect(() => {\n        if (!ref.current || (once && isInView))\n            return;\n        const onEnter = () => {\n            setInView(true);\n            return once ? undefined : () => setInView(false);\n        };\n        const options = {\n            root: (root && root.current) || undefined,\n            margin,\n            amount,\n        };\n        return inView(ref.current, onEnter, options);\n    }, [root, ref, margin, once, amount]);\n    return isInView;\n}\n\nexport { useInView };\n","function renderHTML(element, { style, vars }, styleProp, projection) {\n    const elementStyle = element.style;\n    let key;\n    for (key in style) {\n        // CSSStyleDeclaration has [index: number]: string; in the types, so we use that as key type.\n        elementStyle[key] = style[key];\n    }\n    // Write projection styles directly to element style\n    projection?.applyProjectionStyles(elementStyle, styleProp);\n    for (key in vars) {\n        // Loop over any CSS variables and assign those.\n        // They can only be assigned using `setProperty`.\n        elementStyle.setProperty(key, vars[key]);\n    }\n}\n\nexport { renderHTML };\n","const isNotNull = (value) => value !== null;\nfunction getFinalKeyframe(keyframes, { repeat, repeatType = \"loop\" }, finalKeyframe) {\n    const resolvedKeyframes = keyframes.filter(isNotNull);\n    const index = repeat && repeatType !== \"loop\" && repeat % 2 === 1\n        ? 0\n        : resolvedKeyframes.length - 1;\n    return !index || finalKeyframe === undefined\n        ? resolvedKeyframes[index]\n        : finalKeyframe;\n}\n\nexport { getFinalKeyframe };\n","import { transformProps } from 'motion-dom';\n\nconst underDampedSpring = {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restSpeed: 10,\n};\nconst criticallyDampedSpring = (target) => ({\n    type: \"spring\",\n    stiffness: 550,\n    damping: target === 0 ? 2 * Math.sqrt(550) : 30,\n    restSpeed: 10,\n});\nconst keyframesTransition = {\n    type: \"keyframes\",\n    duration: 0.8,\n};\n/**\n * Default easing curve is a slightly shallower version of\n * the default browser easing curve.\n */\nconst ease = {\n    type: \"keyframes\",\n    ease: [0.25, 0.1, 0.35, 1],\n    duration: 0.3,\n};\nconst getDefaultTransition = (valueKey, { keyframes }) => {\n    if (keyframes.length > 2) {\n        return keyframesTransition;\n    }\n    else if (transformProps.has(valueKey)) {\n        return valueKey.startsWith(\"scale\")\n            ? criticallyDampedSpring(keyframes[1])\n            : underDampedSpring;\n    }\n    return ease;\n};\n\nexport { getDefaultTransition };\n","import { getValueTransition, makeAnimationInstant, frame, JSAnimation, AsyncMotionValueAnimation } from 'motion-dom';\nimport { secondsToMilliseconds, MotionGlobalConfig } from 'motion-utils';\nimport { getFinalKeyframe } from '../animators/waapi/utils/get-final-keyframe.mjs';\nimport { getDefaultTransition } from '../utils/default-transitions.mjs';\nimport { isTransitionDefined } from '../utils/is-transition-defined.mjs';\n\nconst animateMotionValue = (name, value, target, transition = {}, element, isHandoff) => (onComplete) => {\n    const valueTransition = getValueTransition(transition, name) || {};\n    /**\n     * Most transition values are currently completely overwritten by value-specific\n     * transitions. In the future it'd be nicer to blend these transitions. But for now\n     * delay actually does inherit from the root transition if not value-specific.\n     */\n    const delay = valueTransition.delay || transition.delay || 0;\n    /**\n     * Elapsed isn't a public transition option but can be passed through from\n     * optimized appear effects in milliseconds.\n     */\n    let { elapsed = 0 } = transition;\n    elapsed = elapsed - secondsToMilliseconds(delay);\n    const options = {\n        keyframes: Array.isArray(target) ? target : [null, target],\n        ease: \"easeOut\",\n        velocity: value.getVelocity(),\n        ...valueTransition,\n        delay: -elapsed,\n        onUpdate: (v) => {\n            value.set(v);\n            valueTransition.onUpdate && valueTransition.onUpdate(v);\n        },\n        onComplete: () => {\n            onComplete();\n            valueTransition.onComplete && valueTransition.onComplete();\n        },\n        name,\n        motionValue: value,\n        element: isHandoff ? undefined : element,\n    };\n    /**\n     * If there's no transition defined for this value, we can generate\n     * unique transition settings for this value.\n     */\n    if (!isTransitionDefined(valueTransition)) {\n        Object.assign(options, getDefaultTransition(name, options));\n    }\n    /**\n     * Both WAAPI and our internal animation functions use durations\n     * as defined by milliseconds, while our external API defines them\n     * as seconds.\n     */\n    options.duration && (options.duration = secondsToMilliseconds(options.duration));\n    options.repeatDelay && (options.repeatDelay = secondsToMilliseconds(options.repeatDelay));\n    /**\n     * Support deprecated way to set initial value. Prefer keyframe syntax.\n     */\n    if (options.from !== undefined) {\n        options.keyframes[0] = options.from;\n    }\n    let shouldSkip = false;\n    if (options.type === false ||\n        (options.duration === 0 && !options.repeatDelay)) {\n        makeAnimationInstant(options);\n        if (options.delay === 0) {\n            shouldSkip = true;\n        }\n    }\n    if (MotionGlobalConfig.instantAnimations ||\n        MotionGlobalConfig.skipAnimations) {\n        shouldSkip = true;\n        makeAnimationInstant(options);\n        options.delay = 0;\n    }\n    /**\n     * If the transition type or easing has been explicitly set by the user\n     * then we don't want to allow flattening the animation.\n     */\n    options.allowFlatten = !valueTransition.type && !valueTransition.ease;\n    /**\n     * If we can or must skip creating the animation, and apply only\n     * the final keyframe, do so. We also check once keyframes are resolved but\n     * this early check prevents the need to create an animation at all.\n     */\n    if (shouldSkip && !isHandoff && value.get() !== undefined) {\n        const finalKeyframe = getFinalKeyframe(options.keyframes, valueTransition);\n        if (finalKeyframe !== undefined) {\n            frame.update(() => {\n                options.onUpdate(finalKeyframe);\n                options.onComplete();\n            });\n            return;\n        }\n    }\n    return valueTransition.isSync\n        ? new JSAnimation(options)\n        : new AsyncMotionValueAnimation(options);\n};\n\nexport { animateMotionValue };\n","/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined({ when, delay: _delay, delayChildren, staggerChildren, staggerDirection, repeat, repeatType, repeatDelay, from, elapsed, ...transition }) {\n    return !!Object.keys(transition).length;\n}\n\nexport { isTransitionDefined };\n","\"use client\";\nimport { cancelFrame, frame } from 'motion-dom';\nimport { useIsomorphicLayoutEffect } from '../utils/use-isomorphic-effect.mjs';\nimport { useMotionValue } from './use-motion-value.mjs';\n\nfunction useCombineMotionValues(values, combineValues) {\n    /**\n     * Initialise the returned motion value. This remains the same between renders.\n     */\n    const value = useMotionValue(combineValues());\n    /**\n     * Create a function that will update the template motion value with the latest values.\n     * This is pre-bound so whenever a motion value updates it can schedule its\n     * execution in Framesync. If it's already been scheduled it won't be fired twice\n     * in a single frame.\n     */\n    const updateValue = () => value.set(combineValues());\n    /**\n     * Synchronously update the motion value with the latest values during the render.\n     * This ensures that within a React render, the styles applied to the DOM are up-to-date.\n     */\n    updateValue();\n    /**\n     * Subscribe to all motion values found within the template. Whenever any of them change,\n     * schedule an update.\n     */\n    useIsomorphicLayoutEffect(() => {\n        const scheduleUpdate = () => frame.preRender(updateValue, false, true);\n        const subscriptions = values.map((v) => v.on(\"change\", scheduleUpdate));\n        return () => {\n            subscriptions.forEach((unsubscribe) => unsubscribe());\n            cancelFrame(updateValue);\n        };\n    });\n    return value;\n}\n\nexport { useCombineMotionValues };\n","\"use client\";\nimport { transform } from 'motion-dom';\nimport { useConstant } from '../utils/use-constant.mjs';\nimport { useCombineMotionValues } from './use-combine-values.mjs';\nimport { useComputed } from './use-computed.mjs';\n\nfunction useTransform(input, inputRangeOrTransformer, outputRange, options) {\n    if (typeof input === \"function\") {\n        return useComputed(input);\n    }\n    const transformer = typeof inputRangeOrTransformer === \"function\"\n        ? inputRangeOrTransformer\n        : transform(inputRangeOrTransformer, outputRange, options);\n    return Array.isArray(input)\n        ? useListTransform(input, transformer)\n        : useListTransform([input], ([latest]) => transformer(latest));\n}\nfunction useListTransform(values, transformer) {\n    const latest = useConstant(() => []);\n    return useCombineMotionValues(values, () => {\n        latest.length = 0;\n        const numValues = values.length;\n        for (let i = 0; i < numValues; i++) {\n            latest[i] = values[i].get();\n        }\n        return transformer(latest);\n    });\n}\n\nexport { useTransform };\n","\"use client\";\nimport { collectMotionValues } from 'motion-dom';\nimport { useCombineMotionValues } from './use-combine-values.mjs';\n\nfunction useComputed(compute) {\n    /**\n     * Open session of collectMotionValues. Any MotionValue that calls get()\n     * will be saved into this array.\n     */\n    collectMotionValues.current = [];\n    compute();\n    const value = useCombineMotionValues(collectMotionValues.current, compute);\n    /**\n     * Synchronously close session of collectMotionValues.\n     */\n    collectMotionValues.current = undefined;\n    return value;\n}\n\nexport { useComputed };\n","import { camelToDash } from '../../render/dom/utils/camel-to-dash.mjs';\n\nconst optimizedAppearDataId = \"framerAppearId\";\nconst optimizedAppearDataAttribute = \"data-\" + camelToDash(optimizedAppearDataId);\n\nexport { optimizedAppearDataAttribute, optimizedAppearDataId };\n","import { px } from 'motion-dom';\n\nconst dashKeys = {\n    offset: \"stroke-dashoffset\",\n    array: \"stroke-dasharray\",\n};\nconst camelKeys = {\n    offset: \"strokeDashoffset\",\n    array: \"strokeDasharray\",\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, length, spacing = 1, offset = 0, useDashCase = true) {\n    // Normalise path length by setting SVG attribute pathLength to 1\n    attrs.pathLength = 1;\n    // We use dash case when setting attributes directly to the DOM node and camel case\n    // when defining props on a React component.\n    const keys = useDashCase ? dashKeys : camelKeys;\n    // Build the dash offset\n    attrs[keys.offset] = px.transform(-offset);\n    // Build the dash array\n    const pathLength = px.transform(length);\n    const pathSpacing = px.transform(spacing);\n    attrs[keys.array] = `${pathLength} ${pathSpacing}`;\n}\n\nexport { buildSVGPath };\n","import { buildHTMLStyles } from '../../html/utils/build-styles.mjs';\nimport { buildSVGPath } from './path.mjs';\n\n/**\n * Build SVG visual attributes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, { attrX, attrY, attrScale, pathLength, pathSpacing = 1, pathOffset = 0, \n// This is object creation, which we try to avoid per-frame.\n...latest }, isSVGTag, transformTemplate, styleProp) {\n    buildHTMLStyles(state, latest, transformTemplate);\n    /**\n     * For svg tags we just want to make sure viewBox is animatable and treat all the styles\n     * as normal HTML tags.\n     */\n    if (isSVGTag) {\n        if (state.style.viewBox) {\n            state.attrs.viewBox = state.style.viewBox;\n        }\n        return;\n    }\n    state.attrs = state.style;\n    state.style = {};\n    const { attrs, style } = state;\n    /**\n     * However, we apply transforms as CSS transforms.\n     * So if we detect a transform, transformOrigin we take it from attrs and copy it into style.\n     */\n    if (attrs.transform) {\n        style.transform = attrs.transform;\n        delete attrs.transform;\n    }\n    if (style.transform || attrs.transformOrigin) {\n        style.transformOrigin = attrs.transformOrigin ?? \"50% 50%\";\n        delete attrs.transformOrigin;\n    }\n    if (style.transform) {\n        /**\n         * SVG's element transform-origin uses its own median as a reference.\n         * Therefore, transformBox becomes a fill-box\n         */\n        style.transformBox = styleProp?.transformBox ?? \"fill-box\";\n        delete attrs.transformBox;\n    }\n    // Render attrX/attrY/attrScale as attributes\n    if (attrX !== undefined)\n        attrs.x = attrX;\n    if (attrY !== undefined)\n        attrs.y = attrY;\n    if (attrScale !== undefined)\n        attrs.scale = attrScale;\n    // Build SVG path if one has been defined\n    if (pathLength !== undefined) {\n        buildSVGPath(attrs, pathLength, pathSpacing, pathOffset, false);\n    }\n}\n\nexport { buildSVGAttrs };\n","function isAnimationControls(v) {\n    return (v !== null &&\n        typeof v === \"object\" &&\n        typeof v.start === \"function\");\n}\n\nexport { isAnimationControls };\n","import { h as hasOwn, E as Emotion, c as createEmotionProps, w as withEmotionCache, T as ThemeContext, i as isDevelopment } from './emotion-element-f0de968e.browser.esm.js';\nexport { C as CacheProvider, T as ThemeContext, a as ThemeProvider, _ as __unsafe_useEmotionCache, u as useTheme, w as withEmotionCache, b as withTheme } from './emotion-element-f0de968e.browser.esm.js';\nimport * as React from 'react';\nimport { insertStyles, registerStyles, getRegisteredStyles } from '@emotion/utils';\nimport { useInsertionEffectWithLayoutFallback, useInsertionEffectAlwaysWithSyncFallback } from '@emotion/use-insertion-effect-with-fallbacks';\nimport { serializeStyles } from '@emotion/serialize';\nimport '@emotion/cache';\nimport '@babel/runtime/helpers/extends';\nimport '@emotion/weak-memoize';\nimport '../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport 'hoist-non-react-statics';\n\nvar jsx = function jsx(type, props) {\n  // eslint-disable-next-line prefer-rest-params\n  var args = arguments;\n\n  if (props == null || !hasOwn.call(props, 'css')) {\n    return React.createElement.apply(undefined, args);\n  }\n\n  var argsLength = args.length;\n  var createElementArgArray = new Array(argsLength);\n  createElementArgArray[0] = Emotion;\n  createElementArgArray[1] = createEmotionProps(type, props);\n\n  for (var i = 2; i < argsLength; i++) {\n    createElementArgArray[i] = args[i];\n  }\n\n  return React.createElement.apply(null, createElementArgArray);\n};\n\n(function (_jsx) {\n  var JSX;\n\n  (function (_JSX) {})(JSX || (JSX = _jsx.JSX || (_jsx.JSX = {})));\n})(jsx || (jsx = {}));\n\n// initial render from browser, insertBefore context.sheet.tags[0] or if a style hasn't been inserted there yet, appendChild\n// initial client-side render from SSR, use place of hydrating tag\n\nvar Global = /* #__PURE__ */withEmotionCache(function (props, cache) {\n\n  var styles = props.styles;\n  var serialized = serializeStyles([styles], undefined, React.useContext(ThemeContext));\n  // but it is based on a constant that will never change at runtime\n  // it's effectively like having two implementations and switching them out\n  // so it's not actually breaking anything\n\n\n  var sheetRef = React.useRef();\n  useInsertionEffectWithLayoutFallback(function () {\n    var key = cache.key + \"-global\"; // use case of https://github.com/emotion-js/emotion/issues/2675\n\n    var sheet = new cache.sheet.constructor({\n      key: key,\n      nonce: cache.sheet.nonce,\n      container: cache.sheet.container,\n      speedy: cache.sheet.isSpeedy\n    });\n    var rehydrating = false;\n    var node = document.querySelector(\"style[data-emotion=\\\"\" + key + \" \" + serialized.name + \"\\\"]\");\n\n    if (cache.sheet.tags.length) {\n      sheet.before = cache.sheet.tags[0];\n    }\n\n    if (node !== null) {\n      rehydrating = true; // clear the hash so this node won't be recognizable as rehydratable by other <Global/>s\n\n      node.setAttribute('data-emotion', key);\n      sheet.hydrate([node]);\n    }\n\n    sheetRef.current = [sheet, rehydrating];\n    return function () {\n      sheet.flush();\n    };\n  }, [cache]);\n  useInsertionEffectWithLayoutFallback(function () {\n    var sheetRefCurrent = sheetRef.current;\n    var sheet = sheetRefCurrent[0],\n        rehydrating = sheetRefCurrent[1];\n\n    if (rehydrating) {\n      sheetRefCurrent[1] = false;\n      return;\n    }\n\n    if (serialized.next !== undefined) {\n      // insert keyframes\n      insertStyles(cache, serialized.next, true);\n    }\n\n    if (sheet.tags.length) {\n      // if this doesn't exist then it will be null so the style element will be appended\n      var element = sheet.tags[sheet.tags.length - 1].nextElementSibling;\n      sheet.before = element;\n      sheet.flush();\n    }\n\n    cache.insert(\"\", serialized, sheet, false);\n  }, [cache, serialized.name]);\n  return null;\n});\n\nfunction css() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return serializeStyles(args);\n}\n\nfunction keyframes() {\n  var insertable = css.apply(void 0, arguments);\n  var name = \"animation-\" + insertable.name;\n  return {\n    name: name,\n    styles: \"@keyframes \" + name + \"{\" + insertable.styles + \"}\",\n    anim: 1,\n    toString: function toString() {\n      return \"_EMO_\" + this.name + \"_\" + this.styles + \"_EMO_\";\n    }\n  };\n}\n\nvar classnames = function classnames(args) {\n  var len = args.length;\n  var i = 0;\n  var cls = '';\n\n  for (; i < len; i++) {\n    var arg = args[i];\n    if (arg == null) continue;\n    var toAdd = void 0;\n\n    switch (typeof arg) {\n      case 'boolean':\n        break;\n\n      case 'object':\n        {\n          if (Array.isArray(arg)) {\n            toAdd = classnames(arg);\n          } else {\n\n            toAdd = '';\n\n            for (var k in arg) {\n              if (arg[k] && k) {\n                toAdd && (toAdd += ' ');\n                toAdd += k;\n              }\n            }\n          }\n\n          break;\n        }\n\n      default:\n        {\n          toAdd = arg;\n        }\n    }\n\n    if (toAdd) {\n      cls && (cls += ' ');\n      cls += toAdd;\n    }\n  }\n\n  return cls;\n};\n\nfunction merge(registered, css, className) {\n  var registeredStyles = [];\n  var rawClassName = getRegisteredStyles(registered, registeredStyles, className);\n\n  if (registeredStyles.length < 2) {\n    return className;\n  }\n\n  return rawClassName + css(registeredStyles);\n}\n\nvar Insertion = function Insertion(_ref) {\n  var cache = _ref.cache,\n      serializedArr = _ref.serializedArr;\n  useInsertionEffectAlwaysWithSyncFallback(function () {\n\n    for (var i = 0; i < serializedArr.length; i++) {\n      insertStyles(cache, serializedArr[i], false);\n    }\n  });\n\n  return null;\n};\n\nvar ClassNames = /* #__PURE__ */withEmotionCache(function (props, cache) {\n  var hasRendered = false;\n  var serializedArr = [];\n\n  var css = function css() {\n    if (hasRendered && isDevelopment) {\n      throw new Error('css can only be used during render');\n    }\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var serialized = serializeStyles(args, cache.registered);\n    serializedArr.push(serialized); // registration has to happen here as the result of this might get consumed by `cx`\n\n    registerStyles(cache, serialized, false);\n    return cache.key + \"-\" + serialized.name;\n  };\n\n  var cx = function cx() {\n    if (hasRendered && isDevelopment) {\n      throw new Error('cx can only be used during render');\n    }\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return merge(cache.registered, css, classnames(args));\n  };\n\n  var content = {\n    css: css,\n    cx: cx,\n    theme: React.useContext(ThemeContext)\n  };\n  var ele = props.children(content);\n  hasRendered = true;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Insertion, {\n    cache: cache,\n    serializedArr: serializedArr\n  }), ele);\n});\n\nexport { ClassNames, Global, jsx as createElement, css, jsx, keyframes };\n","var isBrowser = true;\n\nfunction getRegisteredStyles(registered, registeredStyles, classNames) {\n  var rawClassName = '';\n  classNames.split(' ').forEach(function (className) {\n    if (registered[className] !== undefined) {\n      registeredStyles.push(registered[className] + \";\");\n    } else if (className) {\n      rawClassName += className + \" \";\n    }\n  });\n  return rawClassName;\n}\nvar registerStyles = function registerStyles(cache, serialized, isStringTag) {\n  var className = cache.key + \"-\" + serialized.name;\n\n  if ( // we only need to add the styles to the registered cache if the\n  // class name could be used further down\n  // the tree but if it's a string tag, we know it won't\n  // so we don't have to add it to registered cache.\n  // this improves memory usage since we can avoid storing the whole style string\n  (isStringTag === false || // we need to always store it if we're in compat mode and\n  // in node since emotion-server relies on whether a style is in\n  // the registered cache to know whether a style is global or not\n  // also, note that this check will be dead code eliminated in the browser\n  isBrowser === false ) && cache.registered[className] === undefined) {\n    cache.registered[className] = serialized.styles;\n  }\n};\nvar insertStyles = function insertStyles(cache, serialized, isStringTag) {\n  registerStyles(cache, serialized, isStringTag);\n  var className = cache.key + \"-\" + serialized.name;\n\n  if (cache.inserted[serialized.name] === undefined) {\n    var current = serialized;\n\n    do {\n      cache.insert(serialized === current ? \".\" + className : '', current, cache.sheet, true);\n\n      current = current.next;\n    } while (current !== undefined);\n  }\n};\n\nexport { getRegisteredStyles, insertStyles, registerStyles };\n","const isBrowser = typeof window !== \"undefined\";\n\nexport { isBrowser };\n","import { transformProps, defaultTransformValue, readTransformValue, isCSSVariableName } from 'motion-dom';\nimport { measureViewportBox } from '../../projection/utils/measure.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { renderHTML } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\n\nfunction getComputedStyle(element) {\n    return window.getComputedStyle(element);\n}\nclass HTMLVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"html\";\n        this.renderInstance = renderHTML;\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            return this.projection?.isProjecting\n                ? defaultTransformValue(key)\n                : readTransformValue(instance, key);\n        }\n        else {\n            const computedStyle = getComputedStyle(instance);\n            const value = (isCSSVariableName(key)\n                ? computedStyle.getPropertyValue(key)\n                : computedStyle[key]) || 0;\n            return typeof value === \"string\" ? value.trim() : value;\n        }\n    }\n    measureInstanceViewportBox(instance, { transformPagePoint }) {\n        return measureViewportBox(instance, transformPagePoint);\n    }\n    build(renderState, latestValues, props) {\n        buildHTMLStyles(renderState, latestValues, props.transformTemplate);\n    }\n    scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n        return scrapeMotionValuesFromProps(props, prevProps, visualElement);\n    }\n}\n\nexport { HTMLVisualElement, getComputedStyle };\n","\"use client\";\nimport { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    const ref = useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\nexport { useConstant };\n","import { resolveVariantFromProps } from './resolve-variants.mjs';\n\nfunction resolveVariant(visualElement, definition, custom) {\n    const props = visualElement.getProps();\n    return resolveVariantFromProps(props, definition, custom !== undefined ? custom : props.custom, visualElement);\n}\n\nexport { resolveVariant };\n","import * as React from 'react';\n\n/**\n * Taken from https://github.com/radix-ui/primitives/blob/main/packages/react/compose-refs/src/compose-refs.tsx\n */\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        return ref(value);\n    }\n    else if (ref !== null && ref !== undefined) {\n        ref.current = value;\n    }\n}\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */\nfunction composeRefs(...refs) {\n    return (node) => {\n        let hasCleanup = false;\n        const cleanups = refs.map((ref) => {\n            const cleanup = setRef(ref, node);\n            if (!hasCleanup && typeof cleanup === \"function\") {\n                hasCleanup = true;\n            }\n            return cleanup;\n        });\n        // React <19 will log an error to the console if a callback ref returns a\n        // value. We don't use ref cleanups internally so this will only happen if a\n        // user's ref callback returns a value, which we only expect if they are\n        // using the cleanup functionality added in React 19.\n        if (hasCleanup) {\n            return () => {\n                for (let i = 0; i < cleanups.length; i++) {\n                    const cleanup = cleanups[i];\n                    if (typeof cleanup === \"function\") {\n                        cleanup();\n                    }\n                    else {\n                        setRef(refs[i], null);\n                    }\n                }\n            };\n        }\n    };\n}\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */\nfunction useComposedRefs(...refs) {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return React.useCallback(composeRefs(...refs), refs);\n}\n\nexport { useComposedRefs };\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport { isHTMLElement } from 'motion-dom';\nimport * as React from 'react';\nimport { useId, useRef, useContext, useInsertionEffect } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\nimport { useComposedRefs } from '../../utils/use-composed-ref.mjs';\n\n/**\n * Measurement functionality has to be within a separate component\n * to leverage snapshot lifecycle.\n */\nclass PopChildMeasure extends React.Component {\n    getSnapshotBeforeUpdate(prevProps) {\n        const element = this.props.childRef.current;\n        if (element && prevProps.isPresent && !this.props.isPresent) {\n            const parent = element.offsetParent;\n            const parentWidth = isHTMLElement(parent)\n                ? parent.offsetWidth || 0\n                : 0;\n            const size = this.props.sizeRef.current;\n            size.height = element.offsetHeight || 0;\n            size.width = element.offsetWidth || 0;\n            size.top = element.offsetTop;\n            size.left = element.offsetLeft;\n            size.right = parentWidth - size.width - size.left;\n        }\n        return null;\n    }\n    /**\n     * Required with getSnapshotBeforeUpdate to stop React complaining.\n     */\n    componentDidUpdate() { }\n    render() {\n        return this.props.children;\n    }\n}\nfunction PopChild({ children, isPresent, anchorX, root }) {\n    const id = useId();\n    const ref = useRef(null);\n    const size = useRef({\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n        right: 0,\n    });\n    const { nonce } = useContext(MotionConfigContext);\n    const composedRef = useComposedRefs(ref, children?.ref);\n    /**\n     * We create and inject a style block so we can apply this explicit\n     * sizing in a non-destructive manner by just deleting the style block.\n     *\n     * We can't apply size via render as the measurement happens\n     * in getSnapshotBeforeUpdate (post-render), likewise if we apply the\n     * styles directly on the DOM node, we might be overwriting\n     * styles set via the style prop.\n     */\n    useInsertionEffect(() => {\n        const { width, height, top, left, right } = size.current;\n        if (isPresent || !ref.current || !width || !height)\n            return;\n        const x = anchorX === \"left\" ? `left: ${left}` : `right: ${right}`;\n        ref.current.dataset.motionPopId = id;\n        const style = document.createElement(\"style\");\n        if (nonce)\n            style.nonce = nonce;\n        const parent = root ?? document.head;\n        parent.appendChild(style);\n        if (style.sheet) {\n            style.sheet.insertRule(`\n          [data-motion-pop-id=\"${id}\"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            ${x}px !important;\n            top: ${top}px !important;\n          }\n        `);\n        }\n        return () => {\n            if (parent.contains(style)) {\n                parent.removeChild(style);\n            }\n        };\n    }, [isPresent]);\n    return (jsx(PopChildMeasure, { isPresent: isPresent, childRef: ref, sizeRef: size, children: React.cloneElement(children, { ref: composedRef }) }));\n}\n\nexport { PopChild };\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport * as React from 'react';\nimport { useId, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\n\nconst PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, anchorX, root }) => {\n    const presenceChildren = useConstant(newChildrenMap);\n    const id = useId();\n    let isReusedContext = true;\n    let context = useMemo(() => {\n        isReusedContext = false;\n        return {\n            id,\n            initial,\n            isPresent,\n            custom,\n            onExitComplete: (childId) => {\n                presenceChildren.set(childId, true);\n                for (const isComplete of presenceChildren.values()) {\n                    if (!isComplete)\n                        return; // can stop searching when any is incomplete\n                }\n                onExitComplete && onExitComplete();\n            },\n            register: (childId) => {\n                presenceChildren.set(childId, false);\n                return () => presenceChildren.delete(childId);\n            },\n        };\n    }, [isPresent, presenceChildren, onExitComplete]);\n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    if (presenceAffectsLayout && isReusedContext) {\n        context = { ...context };\n    }\n    useMemo(() => {\n        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(() => {\n        !isPresent &&\n            !presenceChildren.size &&\n            onExitComplete &&\n            onExitComplete();\n    }, [isPresent]);\n    if (mode === \"popLayout\") {\n        children = (jsx(PopChild, { isPresent: isPresent, anchorX: anchorX, root: root, children: children }));\n    }\n    return (jsx(PresenceContext.Provider, { value: context, children: children }));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { Children, isValidElement } from 'react';\n\nconst getChildKey = (child) => child.key || \"\";\nfunction onlyElements(children) {\n    const filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, (child) => {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n\nexport { getChildKey, onlyElements };\n","\"use client\";\nimport { jsx, Fragment } from 'react/jsx-runtime';\nimport { useMemo, useRef, useState, useContext } from 'react';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { PresenceChild } from './PresenceChild.mjs';\nimport { usePresence } from './use-presence.mjs';\nimport { onlyElements, getChildKey } from './utils.mjs';\n\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nconst AnimatePresence = ({ children, custom, initial = true, onExitComplete, presenceAffectsLayout = true, mode = \"sync\", propagate = false, anchorX = \"left\", root }) => {\n    const [isParentPresent, safeToRemove] = usePresence(propagate);\n    /**\n     * Filter any children that aren't ReactElements. We can only track components\n     * between renders with a props.key.\n     */\n    const presentChildren = useMemo(() => onlyElements(children), [children]);\n    /**\n     * Track the keys of the currently rendered children. This is used to\n     * determine which children are exiting.\n     */\n    const presentKeys = propagate && !isParentPresent ? [] : presentChildren.map(getChildKey);\n    /**\n     * If `initial={false}` we only want to pass this to components in the first render.\n     */\n    const isInitialRender = useRef(true);\n    /**\n     * A ref containing the currently present children. When all exit animations\n     * are complete, we use this to re-render the component with the latest children\n     * *committed* rather than the latest children *rendered*.\n     */\n    const pendingPresentChildren = useRef(presentChildren);\n    /**\n     * Track which exiting children have finished animating out.\n     */\n    const exitComplete = useConstant(() => new Map());\n    /**\n     * Save children to render as React state. To ensure this component is concurrent-safe,\n     * we check for exiting children via an effect.\n     */\n    const [diffedChildren, setDiffedChildren] = useState(presentChildren);\n    const [renderedChildren, setRenderedChildren] = useState(presentChildren);\n    useIsomorphicLayoutEffect(() => {\n        isInitialRender.current = false;\n        pendingPresentChildren.current = presentChildren;\n        /**\n         * Update complete status of exiting children.\n         */\n        for (let i = 0; i < renderedChildren.length; i++) {\n            const key = getChildKey(renderedChildren[i]);\n            if (!presentKeys.includes(key)) {\n                if (exitComplete.get(key) !== true) {\n                    exitComplete.set(key, false);\n                }\n            }\n            else {\n                exitComplete.delete(key);\n            }\n        }\n    }, [renderedChildren, presentKeys.length, presentKeys.join(\"-\")]);\n    const exitingChildren = [];\n    if (presentChildren !== diffedChildren) {\n        let nextChildren = [...presentChildren];\n        /**\n         * Loop through all the currently rendered components and decide which\n         * are exiting.\n         */\n        for (let i = 0; i < renderedChildren.length; i++) {\n            const child = renderedChildren[i];\n            const key = getChildKey(child);\n            if (!presentKeys.includes(key)) {\n                nextChildren.splice(i, 0, child);\n                exitingChildren.push(child);\n            }\n        }\n        /**\n         * If we're in \"wait\" mode, and we have exiting children, we want to\n         * only render these until they've all exited.\n         */\n        if (mode === \"wait\" && exitingChildren.length) {\n            nextChildren = exitingChildren;\n        }\n        setRenderedChildren(onlyElements(nextChildren));\n        setDiffedChildren(presentChildren);\n        /**\n         * Early return to ensure once we've set state with the latest diffed\n         * children, we can immediately re-render.\n         */\n        return null;\n    }\n    if (process.env.NODE_ENV !== \"production\" &&\n        mode === \"wait\" &&\n        renderedChildren.length > 1) {\n        console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to \"wait\". This will lead to odd visual behaviour.`);\n    }\n    /**\n     * If we've been provided a forceRender function by the LayoutGroupContext,\n     * we can use it to force a re-render amongst all surrounding components once\n     * all components have finished animating out.\n     */\n    const { forceRender } = useContext(LayoutGroupContext);\n    return (jsx(Fragment, { children: renderedChildren.map((child) => {\n            const key = getChildKey(child);\n            const isPresent = propagate && !isParentPresent\n                ? false\n                : presentChildren === renderedChildren ||\n                    presentKeys.includes(key);\n            const onExit = () => {\n                if (exitComplete.has(key)) {\n                    exitComplete.set(key, true);\n                }\n                else {\n                    return;\n                }\n                let isEveryExitComplete = true;\n                exitComplete.forEach((isExitComplete) => {\n                    if (!isExitComplete)\n                        isEveryExitComplete = false;\n                });\n                if (isEveryExitComplete) {\n                    forceRender?.();\n                    setRenderedChildren(pendingPresentChildren.current);\n                    propagate && safeToRemove?.();\n                    onExitComplete && onExitComplete();\n                }\n            };\n            return (jsx(PresenceChild, { isPresent: isPresent, initial: !isInitialRender.current || initial\n                    ? undefined\n                    : false, custom: custom, presenceAffectsLayout: presenceAffectsLayout, mode: mode, root: root, onExitComplete: isPresent ? undefined : onExit, anchorX: anchorX, children: child }, key));\n        }) }));\n};\n\nexport { AnimatePresence };\n","\"use client\";\nimport { createContext } from 'react';\n\nconst LayoutGroupContext = createContext({});\n\nexport { LayoutGroupContext };\n","var isDevelopment = false;\n\n/*\n\nBased off glamor's StyleSheet, thanks Sunil ❤️\n\nhigh performance StyleSheet for css-in-js systems\n\n- uses multiple style tags behind the scenes for millions of rules\n- uses `insertRule` for appending in production for *much* faster performance\n\n// usage\n\nimport { StyleSheet } from '@emotion/sheet'\n\nlet styleSheet = new StyleSheet({ key: '', container: document.head })\n\nstyleSheet.insert('#box { border: 1px solid red; }')\n- appends a css rule into the stylesheet\n\nstyleSheet.flush()\n- empties the stylesheet of all its contents\n\n*/\n\nfunction sheetForTag(tag) {\n  if (tag.sheet) {\n    return tag.sheet;\n  } // this weirdness brought to you by firefox\n\n  /* istanbul ignore next */\n\n\n  for (var i = 0; i < document.styleSheets.length; i++) {\n    if (document.styleSheets[i].ownerNode === tag) {\n      return document.styleSheets[i];\n    }\n  } // this function should always return with a value\n  // TS can't understand it though so we make it stop complaining here\n\n\n  return undefined;\n}\n\nfunction createStyleElement(options) {\n  var tag = document.createElement('style');\n  tag.setAttribute('data-emotion', options.key);\n\n  if (options.nonce !== undefined) {\n    tag.setAttribute('nonce', options.nonce);\n  }\n\n  tag.appendChild(document.createTextNode(''));\n  tag.setAttribute('data-s', '');\n  return tag;\n}\n\nvar StyleSheet = /*#__PURE__*/function () {\n  // Using Node instead of HTMLElement since container may be a ShadowRoot\n  function StyleSheet(options) {\n    var _this = this;\n\n    this._insertTag = function (tag) {\n      var before;\n\n      if (_this.tags.length === 0) {\n        if (_this.insertionPoint) {\n          before = _this.insertionPoint.nextSibling;\n        } else if (_this.prepend) {\n          before = _this.container.firstChild;\n        } else {\n          before = _this.before;\n        }\n      } else {\n        before = _this.tags[_this.tags.length - 1].nextSibling;\n      }\n\n      _this.container.insertBefore(tag, before);\n\n      _this.tags.push(tag);\n    };\n\n    this.isSpeedy = options.speedy === undefined ? !isDevelopment : options.speedy;\n    this.tags = [];\n    this.ctr = 0;\n    this.nonce = options.nonce; // key is the value of the data-emotion attribute, it's used to identify different sheets\n\n    this.key = options.key;\n    this.container = options.container;\n    this.prepend = options.prepend;\n    this.insertionPoint = options.insertionPoint;\n    this.before = null;\n  }\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.hydrate = function hydrate(nodes) {\n    nodes.forEach(this._insertTag);\n  };\n\n  _proto.insert = function insert(rule) {\n    // the max length is how many rules we have per style tag, it's 65000 in speedy mode\n    // it's 1 in dev because we insert source maps that map a single rule to a location\n    // and you can only have one source map per style tag\n    if (this.ctr % (this.isSpeedy ? 65000 : 1) === 0) {\n      this._insertTag(createStyleElement(this));\n    }\n\n    var tag = this.tags[this.tags.length - 1];\n\n    if (this.isSpeedy) {\n      var sheet = sheetForTag(tag);\n\n      try {\n        // this is the ultrafast version, works across browsers\n        // the big drawback is that the css won't be editable in devtools\n        sheet.insertRule(rule, sheet.cssRules.length);\n      } catch (e) {\n      }\n    } else {\n      tag.appendChild(document.createTextNode(rule));\n    }\n\n    this.ctr++;\n  };\n\n  _proto.flush = function flush() {\n    this.tags.forEach(function (tag) {\n      var _tag$parentNode;\n\n      return (_tag$parentNode = tag.parentNode) == null ? void 0 : _tag$parentNode.removeChild(tag);\n    });\n    this.tags = [];\n    this.ctr = 0;\n  };\n\n  return StyleSheet;\n}();\n\nexport { StyleSheet };\n","import { StyleSheet } from '@emotion/sheet';\nimport { dealloc, alloc, next, token, from, peek, delimit, slice, position, RULESET, combine, match, serialize, copy, replace, WEBKIT, MOZ, MS, KEYFRAMES, DECLARATION, hash, charat, strlen, indexof, stringify, rulesheet, middleware, compile } from 'stylis';\nimport '@emotion/weak-memoize';\nimport '@emotion/memoize';\n\nvar identifierWithPointTracking = function identifierWithPointTracking(begin, points, index) {\n  var previous = 0;\n  var character = 0;\n\n  while (true) {\n    previous = character;\n    character = peek(); // &\\f\n\n    if (previous === 38 && character === 12) {\n      points[index] = 1;\n    }\n\n    if (token(character)) {\n      break;\n    }\n\n    next();\n  }\n\n  return slice(begin, position);\n};\n\nvar toRules = function toRules(parsed, points) {\n  // pretend we've started with a comma\n  var index = -1;\n  var character = 44;\n\n  do {\n    switch (token(character)) {\n      case 0:\n        // &\\f\n        if (character === 38 && peek() === 12) {\n          // this is not 100% correct, we don't account for literal sequences here - like for example quoted strings\n          // stylis inserts \\f after & to know when & where it should replace this sequence with the context selector\n          // and when it should just concatenate the outer and inner selectors\n          // it's very unlikely for this sequence to actually appear in a different context, so we just leverage this fact here\n          points[index] = 1;\n        }\n\n        parsed[index] += identifierWithPointTracking(position - 1, points, index);\n        break;\n\n      case 2:\n        parsed[index] += delimit(character);\n        break;\n\n      case 4:\n        // comma\n        if (character === 44) {\n          // colon\n          parsed[++index] = peek() === 58 ? '&\\f' : '';\n          points[index] = parsed[index].length;\n          break;\n        }\n\n      // fallthrough\n\n      default:\n        parsed[index] += from(character);\n    }\n  } while (character = next());\n\n  return parsed;\n};\n\nvar getRules = function getRules(value, points) {\n  return dealloc(toRules(alloc(value), points));\n}; // WeakSet would be more appropriate, but only WeakMap is supported in IE11\n\n\nvar fixedElements = /* #__PURE__ */new WeakMap();\nvar compat = function compat(element) {\n  if (element.type !== 'rule' || !element.parent || // positive .length indicates that this rule contains pseudo\n  // negative .length indicates that this rule has been already prefixed\n  element.length < 1) {\n    return;\n  }\n\n  var value = element.value;\n  var parent = element.parent;\n  var isImplicitRule = element.column === parent.column && element.line === parent.line;\n\n  while (parent.type !== 'rule') {\n    parent = parent.parent;\n    if (!parent) return;\n  } // short-circuit for the simplest case\n\n\n  if (element.props.length === 1 && value.charCodeAt(0) !== 58\n  /* colon */\n  && !fixedElements.get(parent)) {\n    return;\n  } // if this is an implicitly inserted rule (the one eagerly inserted at the each new nested level)\n  // then the props has already been manipulated beforehand as they that array is shared between it and its \"rule parent\"\n\n\n  if (isImplicitRule) {\n    return;\n  }\n\n  fixedElements.set(element, true);\n  var points = [];\n  var rules = getRules(value, points);\n  var parentRules = parent.props;\n\n  for (var i = 0, k = 0; i < rules.length; i++) {\n    for (var j = 0; j < parentRules.length; j++, k++) {\n      element.props[k] = points[i] ? rules[i].replace(/&\\f/g, parentRules[j]) : parentRules[j] + \" \" + rules[i];\n    }\n  }\n};\nvar removeLabel = function removeLabel(element) {\n  if (element.type === 'decl') {\n    var value = element.value;\n\n    if ( // charcode for l\n    value.charCodeAt(0) === 108 && // charcode for b\n    value.charCodeAt(2) === 98) {\n      // this ignores label\n      element[\"return\"] = '';\n      element.value = '';\n    }\n  }\n};\n\n/* eslint-disable no-fallthrough */\n\nfunction prefix(value, length) {\n  switch (hash(value, length)) {\n    // color-adjust\n    case 5103:\n      return WEBKIT + 'print-' + value + value;\n    // animation, animation-(delay|direction|duration|fill-mode|iteration-count|name|play-state|timing-function)\n\n    case 5737:\n    case 4201:\n    case 3177:\n    case 3433:\n    case 1641:\n    case 4457:\n    case 2921: // text-decoration, filter, clip-path, backface-visibility, column, box-decoration-break\n\n    case 5572:\n    case 6356:\n    case 5844:\n    case 3191:\n    case 6645:\n    case 3005: // mask, mask-image, mask-(mode|clip|size), mask-(repeat|origin), mask-position, mask-composite,\n\n    case 6391:\n    case 5879:\n    case 5623:\n    case 6135:\n    case 4599:\n    case 4855: // background-clip, columns, column-(count|fill|gap|rule|rule-color|rule-style|rule-width|span|width)\n\n    case 4215:\n    case 6389:\n    case 5109:\n    case 5365:\n    case 5621:\n    case 3829:\n      return WEBKIT + value + value;\n    // appearance, user-select, transform, hyphens, text-size-adjust\n\n    case 5349:\n    case 4246:\n    case 4810:\n    case 6968:\n    case 2756:\n      return WEBKIT + value + MOZ + value + MS + value + value;\n    // flex, flex-direction\n\n    case 6828:\n    case 4268:\n      return WEBKIT + value + MS + value + value;\n    // order\n\n    case 6165:\n      return WEBKIT + value + MS + 'flex-' + value + value;\n    // align-items\n\n    case 5187:\n      return WEBKIT + value + replace(value, /(\\w+).+(:[^]+)/, WEBKIT + 'box-$1$2' + MS + 'flex-$1$2') + value;\n    // align-self\n\n    case 5443:\n      return WEBKIT + value + MS + 'flex-item-' + replace(value, /flex-|-self/, '') + value;\n    // align-content\n\n    case 4675:\n      return WEBKIT + value + MS + 'flex-line-pack' + replace(value, /align-content|flex-|-self/, '') + value;\n    // flex-shrink\n\n    case 5548:\n      return WEBKIT + value + MS + replace(value, 'shrink', 'negative') + value;\n    // flex-basis\n\n    case 5292:\n      return WEBKIT + value + MS + replace(value, 'basis', 'preferred-size') + value;\n    // flex-grow\n\n    case 6060:\n      return WEBKIT + 'box-' + replace(value, '-grow', '') + WEBKIT + value + MS + replace(value, 'grow', 'positive') + value;\n    // transition\n\n    case 4554:\n      return WEBKIT + replace(value, /([^-])(transform)/g, '$1' + WEBKIT + '$2') + value;\n    // cursor\n\n    case 6187:\n      return replace(replace(replace(value, /(zoom-|grab)/, WEBKIT + '$1'), /(image-set)/, WEBKIT + '$1'), value, '') + value;\n    // background, background-image\n\n    case 5495:\n    case 3959:\n      return replace(value, /(image-set\\([^]*)/, WEBKIT + '$1' + '$`$1');\n    // justify-content\n\n    case 4968:\n      return replace(replace(value, /(.+:)(flex-)?(.*)/, WEBKIT + 'box-pack:$3' + MS + 'flex-pack:$3'), /s.+-b[^;]+/, 'justify') + WEBKIT + value + value;\n    // (margin|padding)-inline-(start|end)\n\n    case 4095:\n    case 3583:\n    case 4068:\n    case 2532:\n      return replace(value, /(.+)-inline(.+)/, WEBKIT + '$1$2') + value;\n    // (min|max)?(width|height|inline-size|block-size)\n\n    case 8116:\n    case 7059:\n    case 5753:\n    case 5535:\n    case 5445:\n    case 5701:\n    case 4933:\n    case 4677:\n    case 5533:\n    case 5789:\n    case 5021:\n    case 4765:\n      // stretch, max-content, min-content, fill-available\n      if (strlen(value) - 1 - length > 6) switch (charat(value, length + 1)) {\n        // (m)ax-content, (m)in-content\n        case 109:\n          // -\n          if (charat(value, length + 4) !== 45) break;\n        // (f)ill-available, (f)it-content\n\n        case 102:\n          return replace(value, /(.+:)(.+)-([^]+)/, '$1' + WEBKIT + '$2-$3' + '$1' + MOZ + (charat(value, length + 3) == 108 ? '$3' : '$2-$3')) + value;\n        // (s)tretch\n\n        case 115:\n          return ~indexof(value, 'stretch') ? prefix(replace(value, 'stretch', 'fill-available'), length) + value : value;\n      }\n      break;\n    // position: sticky\n\n    case 4949:\n      // (s)ticky?\n      if (charat(value, length + 1) !== 115) break;\n    // display: (flex|inline-flex)\n\n    case 6444:\n      switch (charat(value, strlen(value) - 3 - (~indexof(value, '!important') && 10))) {\n        // stic(k)y\n        case 107:\n          return replace(value, ':', ':' + WEBKIT) + value;\n        // (inline-)?fl(e)x\n\n        case 101:\n          return replace(value, /(.+:)([^;!]+)(;|!.+)?/, '$1' + WEBKIT + (charat(value, 14) === 45 ? 'inline-' : '') + 'box$3' + '$1' + WEBKIT + '$2$3' + '$1' + MS + '$2box$3') + value;\n      }\n\n      break;\n    // writing-mode\n\n    case 5936:\n      switch (charat(value, length + 11)) {\n        // vertical-l(r)\n        case 114:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'tb') + value;\n        // vertical-r(l)\n\n        case 108:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'tb-rl') + value;\n        // horizontal(-)tb\n\n        case 45:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'lr') + value;\n      }\n\n      return WEBKIT + value + MS + value + value;\n  }\n\n  return value;\n}\n\nvar prefixer = function prefixer(element, index, children, callback) {\n  if (element.length > -1) if (!element[\"return\"]) switch (element.type) {\n    case DECLARATION:\n      element[\"return\"] = prefix(element.value, element.length);\n      break;\n\n    case KEYFRAMES:\n      return serialize([copy(element, {\n        value: replace(element.value, '@', '@' + WEBKIT)\n      })], callback);\n\n    case RULESET:\n      if (element.length) return combine(element.props, function (value) {\n        switch (match(value, /(::plac\\w+|:read-\\w+)/)) {\n          // :read-(only|write)\n          case ':read-only':\n          case ':read-write':\n            return serialize([copy(element, {\n              props: [replace(value, /:(read-\\w+)/, ':' + MOZ + '$1')]\n            })], callback);\n          // :placeholder\n\n          case '::placeholder':\n            return serialize([copy(element, {\n              props: [replace(value, /:(plac\\w+)/, ':' + WEBKIT + 'input-$1')]\n            }), copy(element, {\n              props: [replace(value, /:(plac\\w+)/, ':' + MOZ + '$1')]\n            }), copy(element, {\n              props: [replace(value, /:(plac\\w+)/, MS + 'input-$1')]\n            })], callback);\n        }\n\n        return '';\n      });\n  }\n};\n\nvar defaultStylisPlugins = [prefixer];\n\nvar createCache = function createCache(options) {\n  var key = options.key;\n\n  if (key === 'css') {\n    var ssrStyles = document.querySelectorAll(\"style[data-emotion]:not([data-s])\"); // get SSRed styles out of the way of React's hydration\n    // document.head is a safe place to move them to(though note document.head is not necessarily the last place they will be)\n    // note this very very intentionally targets all style elements regardless of the key to ensure\n    // that creating a cache works inside of render of a React component\n\n    Array.prototype.forEach.call(ssrStyles, function (node) {\n      // we want to only move elements which have a space in the data-emotion attribute value\n      // because that indicates that it is an Emotion 11 server-side rendered style elements\n      // while we will already ignore Emotion 11 client-side inserted styles because of the :not([data-s]) part in the selector\n      // Emotion 10 client-side inserted styles did not have data-s (but importantly did not have a space in their data-emotion attributes)\n      // so checking for the space ensures that loading Emotion 11 after Emotion 10 has inserted some styles\n      // will not result in the Emotion 10 styles being destroyed\n      var dataEmotionAttribute = node.getAttribute('data-emotion');\n\n      if (dataEmotionAttribute.indexOf(' ') === -1) {\n        return;\n      }\n\n      document.head.appendChild(node);\n      node.setAttribute('data-s', '');\n    });\n  }\n\n  var stylisPlugins = options.stylisPlugins || defaultStylisPlugins;\n\n  var inserted = {};\n  var container;\n  var nodesToHydrate = [];\n\n  {\n    container = options.container || document.head;\n    Array.prototype.forEach.call( // this means we will ignore elements which don't have a space in them which\n    // means that the style elements we're looking at are only Emotion 11 server-rendered style elements\n    document.querySelectorAll(\"style[data-emotion^=\\\"\" + key + \" \\\"]\"), function (node) {\n      var attrib = node.getAttribute(\"data-emotion\").split(' ');\n\n      for (var i = 1; i < attrib.length; i++) {\n        inserted[attrib[i]] = true;\n      }\n\n      nodesToHydrate.push(node);\n    });\n  }\n\n  var _insert;\n\n  var omnipresentPlugins = [compat, removeLabel];\n\n  {\n    var currentSheet;\n    var finalizingPlugins = [stringify, rulesheet(function (rule) {\n      currentSheet.insert(rule);\n    })];\n    var serializer = middleware(omnipresentPlugins.concat(stylisPlugins, finalizingPlugins));\n\n    var stylis = function stylis(styles) {\n      return serialize(compile(styles), serializer);\n    };\n\n    _insert = function insert(selector, serialized, sheet, shouldCache) {\n      currentSheet = sheet;\n\n      stylis(selector ? selector + \"{\" + serialized.styles + \"}\" : serialized.styles);\n\n      if (shouldCache) {\n        cache.inserted[serialized.name] = true;\n      }\n    };\n  }\n\n  var cache = {\n    key: key,\n    sheet: new StyleSheet({\n      key: key,\n      container: container,\n      nonce: options.nonce,\n      speedy: options.speedy,\n      prepend: options.prepend,\n      insertionPoint: options.insertionPoint\n    }),\n    nonce: options.nonce,\n    inserted: inserted,\n    registered: {},\n    insert: _insert\n  };\n  cache.sheet.hydrate(nodesToHydrate);\n  return cache;\n};\n\nexport { createCache as default };\n","import { transformPropOrder, getValueAsType, numberValueTypes } from 'motion-dom';\n\nconst translateAlias = {\n    x: \"translateX\",\n    y: \"translateY\",\n    z: \"translateZ\",\n    transformPerspective: \"perspective\",\n};\nconst numTransforms = transformPropOrder.length;\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(latestValues, transform, transformTemplate) {\n    // The transform string we're going to build into.\n    let transformString = \"\";\n    let transformIsDefault = true;\n    /**\n     * Loop over all possible transforms in order, adding the ones that\n     * are present to the transform string.\n     */\n    for (let i = 0; i < numTransforms; i++) {\n        const key = transformPropOrder[i];\n        const value = latestValues[key];\n        if (value === undefined)\n            continue;\n        let valueIsDefault = true;\n        if (typeof value === \"number\") {\n            valueIsDefault = value === (key.startsWith(\"scale\") ? 1 : 0);\n        }\n        else {\n            valueIsDefault = parseFloat(value) === 0;\n        }\n        if (!valueIsDefault || transformTemplate) {\n            const valueAsType = getValueAsType(value, numberValueTypes[key]);\n            if (!valueIsDefault) {\n                transformIsDefault = false;\n                const transformName = translateAlias[key] || key;\n                transformString += `${transformName}(${valueAsType}) `;\n            }\n            if (transformTemplate) {\n                transform[key] = valueAsType;\n            }\n        }\n    }\n    transformString = transformString.trim();\n    // If we have a custom `transform` template, pass our transform values and\n    // generated transformString to that before returning\n    if (transformTemplate) {\n        transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n    }\n    else if (transformIsDefault) {\n        transformString = \"none\";\n    }\n    return transformString;\n}\n\nexport { buildTransform };\n","import { transformProps, isCSSVariableName, getValueAsType, numberValueTypes } from 'motion-dom';\nimport { buildTransform } from './build-transform.mjs';\n\nfunction buildHTMLStyles(state, latestValues, transformTemplate) {\n    const { style, vars, transformOrigin } = state;\n    // Track whether we encounter any transform or transformOrigin values.\n    let hasTransform = false;\n    let hasTransformOrigin = false;\n    /**\n     * Loop over all our latest animated values and decide whether to handle them\n     * as a style or CSS variable.\n     *\n     * Transforms and transform origins are kept separately for further processing.\n     */\n    for (const key in latestValues) {\n        const value = latestValues[key];\n        if (transformProps.has(key)) {\n            // If this is a transform, flag to enable further transform processing\n            hasTransform = true;\n            continue;\n        }\n        else if (isCSSVariableName(key)) {\n            vars[key] = value;\n            continue;\n        }\n        else {\n            // Convert the value to its default value type, ie 0 -> \"0px\"\n            const valueAsType = getValueAsType(value, numberValueTypes[key]);\n            if (key.startsWith(\"origin\")) {\n                // If this is a transform origin, flag and enable further transform-origin processing\n                hasTransformOrigin = true;\n                transformOrigin[key] =\n                    valueAsType;\n            }\n            else {\n                style[key] = valueAsType;\n            }\n        }\n    }\n    if (!latestValues.transform) {\n        if (hasTransform || transformTemplate) {\n            style.transform = buildTransform(latestValues, state.transform, transformTemplate);\n        }\n        else if (style.transform) {\n            /**\n             * If we have previously created a transform but currently don't have any,\n             * reset transform style to none.\n             */\n            style.transform = \"none\";\n        }\n    }\n    /**\n     * Build a transformOrigin style. Uses the same defaults as the browser for\n     * undefined origins.\n     */\n    if (hasTransformOrigin) {\n        const { originX = \"50%\", originY = \"50%\", originZ = 0, } = transformOrigin;\n        style.transformOrigin = `${originX} ${originY} ${originZ}`;\n    }\n}\n\nexport { buildHTMLStyles };\n","import { DOMKeyframesResolver, isMotionValue } from 'motion-dom';\nimport { VisualElement } from '../VisualElement.mjs';\n\nclass DOMVisualElement extends VisualElement {\n    constructor() {\n        super(...arguments);\n        this.KeyframeResolver = DOMKeyframesResolver;\n    }\n    sortInstanceNodePosition(a, b) {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props.style\n            ? props.style[key]\n            : undefined;\n    }\n    removeValueFromRenderState(key, { vars, style }) {\n        delete vars[key];\n        delete style[key];\n    }\n    handleChildMotionValue() {\n        if (this.childSubscription) {\n            this.childSubscription();\n            delete this.childSubscription;\n        }\n        const { children } = this.props;\n        if (isMotionValue(children)) {\n            this.childSubscription = children.on(\"change\", (latest) => {\n                if (this.current) {\n                    this.current.textContent = `${latest}`;\n                }\n            });\n        }\n    }\n}\n\nexport { DOMVisualElement };\n","import { mixNumber } from 'motion-dom';\nimport { hasTransform } from '../utils/has-transform.mjs';\n\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n    const distanceFromOrigin = point - originPoint;\n    const scaled = scale * distanceFromOrigin;\n    return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n    if (boxScale !== undefined) {\n        point = scalePoint(point, boxScale, originPoint);\n    }\n    return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate = 0, scale = 1, originPoint, boxScale) {\n    axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, { x, y }) {\n    applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n    applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\nconst TREE_SCALE_SNAP_MIN = 0.999999999999;\nconst TREE_SCALE_SNAP_MAX = 1.0000000000001;\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath, isSharedTransition = false) {\n    const treeLength = treePath.length;\n    if (!treeLength)\n        return;\n    // Reset the treeScale\n    treeScale.x = treeScale.y = 1;\n    let node;\n    let delta;\n    for (let i = 0; i < treeLength; i++) {\n        node = treePath[i];\n        delta = node.projectionDelta;\n        /**\n         * TODO: Prefer to remove this, but currently we have motion components with\n         * display: contents in Framer.\n         */\n        const { visualElement } = node.options;\n        if (visualElement &&\n            visualElement.props.style &&\n            visualElement.props.style.display === \"contents\") {\n            continue;\n        }\n        if (isSharedTransition &&\n            node.options.layoutScroll &&\n            node.scroll &&\n            node !== node.root) {\n            transformBox(box, {\n                x: -node.scroll.offset.x,\n                y: -node.scroll.offset.y,\n            });\n        }\n        if (delta) {\n            // Incoporate each ancestor's scale into a culmulative treeScale for this component\n            treeScale.x *= delta.x.scale;\n            treeScale.y *= delta.y.scale;\n            // Apply each ancestor's calculated delta into this component's recorded layout box\n            applyBoxDelta(box, delta);\n        }\n        if (isSharedTransition && hasTransform(node.latestValues)) {\n            transformBox(box, node.latestValues);\n        }\n    }\n    /**\n     * Snap tree scale back to 1 if it's within a non-perceivable threshold.\n     * This will help reduce useless scales getting rendered.\n     */\n    if (treeScale.x < TREE_SCALE_SNAP_MAX &&\n        treeScale.x > TREE_SCALE_SNAP_MIN) {\n        treeScale.x = 1.0;\n    }\n    if (treeScale.y < TREE_SCALE_SNAP_MAX &&\n        treeScale.y > TREE_SCALE_SNAP_MIN) {\n        treeScale.y = 1.0;\n    }\n}\nfunction translateAxis(axis, distance) {\n    axis.min = axis.min + distance;\n    axis.max = axis.max + distance;\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction transformAxis(axis, axisTranslate, axisScale, boxScale, axisOrigin = 0.5) {\n    const originPoint = mixNumber(axis.min, axis.max, axisOrigin);\n    // Apply the axis delta to the final axis\n    applyAxisDelta(axis, axisTranslate, axisScale, originPoint, boxScale);\n}\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction transformBox(box, transform) {\n    transformAxis(box.x, transform.x, transform.scaleX, transform.scale, transform.originX);\n    transformAxis(box.y, transform.y, transform.scaleY, transform.scale, transform.originY);\n}\n\nexport { applyAxisDelta, applyBoxDelta, applyPointDelta, applyTreeDeltas, scalePoint, transformAxis, transformBox, translateAxis };\n","/**\n * We keep these listed separately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nconst lowercaseSVGElements = [\n    \"animate\",\n    \"circle\",\n    \"defs\",\n    \"desc\",\n    \"ellipse\",\n    \"g\",\n    \"image\",\n    \"line\",\n    \"filter\",\n    \"marker\",\n    \"mask\",\n    \"metadata\",\n    \"path\",\n    \"pattern\",\n    \"polygon\",\n    \"polyline\",\n    \"rect\",\n    \"stop\",\n    \"switch\",\n    \"symbol\",\n    \"svg\",\n    \"text\",\n    \"tspan\",\n    \"use\",\n    \"view\",\n];\n\nexport { lowercaseSVGElements };\n","import { lowercaseSVGElements } from '../../svg/lowercase-elements.mjs';\n\nfunction isSVGComponent(Component) {\n    if (\n    /**\n     * If it's not a string, it's a custom React component. Currently we only support\n     * HTML custom React components.\n     */\n    typeof Component !== \"string\" ||\n        /**\n         * If it contains a dash, the element is a custom HTML webcomponent.\n         */\n        Component.includes(\"-\")) {\n        return false;\n    }\n    else if (\n    /**\n     * If it's in our list of lowercase SVG tags, it's an SVG component\n     */\n    lowercaseSVGElements.indexOf(Component) > -1 ||\n        /**\n         * If it contains a capital letter, it's an SVG component\n         */\n        /[A-Z]/u.test(Component)) {\n        return true;\n    }\n    return false;\n}\n\nexport { isSVGComponent };\n","import { Fragment } from 'react';\nimport { HTMLVisualElement } from '../html/HTMLVisualElement.mjs';\nimport { SVGVisualElement } from '../svg/SVGVisualElement.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\n\nconst createDomVisualElement = (Component, options) => {\n    return isSVGComponent(Component)\n        ? new SVGVisualElement(options)\n        : new HTMLVisualElement(options, {\n            allowProjection: Component !== Fragment,\n        });\n};\n\nexport { createDomVisualElement };\n","\"use client\";\nimport { createContext } from 'react';\n\nconst LazyContext = createContext({ strict: false });\n\nexport { LazyContext };\n","\"use client\";\nimport { createContext } from 'react';\n\nconst MotionContext = /* @__PURE__ */ createContext({});\n\nexport { MotionContext };\n","\"use client\";\nimport { useContext, useMemo } from 'react';\nimport { MotionContext } from './index.mjs';\nimport { getCurrentTreeVariants } from './utils.mjs';\n\nfunction useCreateMotionContext(props) {\n    const { initial, animate } = getCurrentTreeVariants(props, useContext(MotionContext));\n    return useMemo(() => ({ initial, animate }), [variantLabelsAsDependency(initial), variantLabelsAsDependency(animate)]);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };\n","\"use client\";\nimport { isMotionValue } from 'motion-dom';\nimport { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (const key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues({ transformTemplate }, visualState) {\n    return useMemo(() => {\n        const state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, transformTemplate);\n        return Object.assign({}, state.vars, state.style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState) {\n    const styleProp = props.style || {};\n    const style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState));\n    return style;\n}\nfunction useHTMLProps(props, visualState) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    const htmlProps = {};\n    const style = useStyle(props, visualState);\n    if (props.drag && props.dragListener !== false) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect =\n            style.WebkitUserSelect =\n                style.WebkitTouchCallout =\n                    \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : `pan-${props.drag === \"x\" ? \"y\" : \"x\"}`;\n    }\n    if (props.tabIndex === undefined &&\n        (props.onTap || props.onTapStart || props.whileTap)) {\n        htmlProps.tabIndex = 0;\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps };\n","const createHtmlRenderState = () => ({\n    style: {},\n    transform: {},\n    transformOrigin: {},\n    vars: {},\n});\n\nexport { createHtmlRenderState };\n","\"use client\";\nimport { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nfunction useSVGProps(props, visualState, _isStatic, Component) {\n    const visualProps = useMemo(() => {\n        const state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, isSVGTag(Component), props.transformTemplate, props.style);\n        return {\n            ...state.attrs,\n            style: { ...state.style },\n        };\n    }, [visualState]);\n    if (props.style) {\n        const rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = { ...rawStyles, ...visualProps.style };\n    }\n    return visualProps;\n}\n\nexport { useSVGProps };\n","import { createHtmlRenderState } from '../../html/utils/create-render-state.mjs';\n\nconst createSvgRenderState = () => ({\n    ...createHtmlRenderState(),\n    attrs: {},\n});\n\nexport { createSvgRenderState };\n","/**\n * A list of all valid MotionProps.\n *\n * @privateRemarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nconst validMotionProps = new Set([\n    \"animate\",\n    \"exit\",\n    \"variants\",\n    \"initial\",\n    \"style\",\n    \"values\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"custom\",\n    \"inherit\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"_dragX\",\n    \"_dragY\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"onViewportEnter\",\n    \"onViewportLeave\",\n    \"globalTapTarget\",\n    \"ignoreStrict\",\n    \"viewport\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return (key.startsWith(\"while\") ||\n        (key.startsWith(\"drag\") && key !== \"draggable\") ||\n        key.startsWith(\"layout\") ||\n        key.startsWith(\"onTap\") ||\n        key.startsWith(\"onPan\") ||\n        key.startsWith(\"onLayout\") ||\n        validMotionProps.has(key));\n}\n\nexport { isValidMotionProp };\n","import { isValidMotionProp } from '../../../motion/utils/valid-prop.mjs';\n\nlet shouldForward = (key) => !isValidMotionProp(key);\nfunction loadExternalIsValidProp(isValidProp) {\n    if (typeof isValidProp !== \"function\")\n        return;\n    // Explicitly filter our events\n    shouldForward = (key) => key.startsWith(\"on\") ? !isValidMotionProp(key) : isValidProp(key);\n}\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    /**\n     * We attempt to import this package but require won't be defined in esm environments, in that case\n     * isPropValid will have to be provided via `MotionContext`. In a 6.0.0 this should probably be removed\n     * in favour of explicit injection.\n     */\n    loadExternalIsValidProp(require(\"@emotion/is-prop-valid\").default);\n}\ncatch {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    const filteredProps = {};\n    for (const key in props) {\n        /**\n         * values is considered a valid prop by Emotion, so if it's present\n         * this will be rendered out to the DOM unless explicitly filtered.\n         *\n         * We check the type as it could be used with the `feColorMatrix`\n         * element, which we support.\n         */\n        if (key === \"values\" && typeof props.values === \"object\")\n            continue;\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key)) ||\n            // If trying to use native HTML drag events, forward drag listeners\n            (props[\"draggable\"] &&\n                key.startsWith(\"onDrag\"))) {\n            filteredProps[key] =\n                props[key];\n        }\n    }\n    return filteredProps;\n}\n\nexport { filterProps, loadExternalIsValidProp };\n","\"use client\";\nimport { isMotionValue } from 'motion-dom';\nimport { Fragment, useMemo, createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.mjs';\nimport { useSVGProps } from '../svg/use-props.mjs';\nimport { filterProps } from './utils/filter-props.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\n\nfunction useRender(Component, props, ref, { latestValues, }, isStatic, forwardMotionProps = false) {\n    const useVisualProps = isSVGComponent(Component)\n        ? useSVGProps\n        : useHTMLProps;\n    const visualProps = useVisualProps(props, latestValues, isStatic, Component);\n    const filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n    const elementProps = Component !== Fragment ? { ...filteredProps, ...visualProps, ref } : {};\n    /**\n     * If component has been handed a motion value as its child,\n     * memoise its initial value and render that. Subsequent updates\n     * will be handled by the onChange handler\n     */\n    const { children } = props;\n    const renderedChildren = useMemo(() => (isMotionValue(children) ? children.get() : children), [children]);\n    return createElement(Component, {\n        ...elementProps,\n        children: renderedChildren,\n    });\n}\n\nexport { useRender };\n","import { isMotionValue } from 'motion-dom';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n */\nfunction resolveMotionValue(value) {\n    return isMotionValue(value) ? value.get() : value;\n}\n\nexport { resolveMotionValue };\n","\"use client\";\nimport { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { isControllingVariants, isVariantNode } from '../../render/utils/is-controlling-variants.mjs';\nimport { resolveVariantFromProps } from '../../render/utils/resolve-variants.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\n\nfunction makeState({ scrapeMotionValuesFromProps, createRenderState, }, props, context, presenceContext) {\n    const state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    return state;\n}\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    const values = {};\n    const motionValues = scrapeMotionValues(props, {});\n    for (const key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    let { initial, animate } = props;\n    const isControllingVariants$1 = isControllingVariants(props);\n    const isVariantNode$1 = isVariantNode(props);\n    if (context &&\n        isVariantNode$1 &&\n        !isControllingVariants$1 &&\n        props.inherit !== false) {\n        if (initial === undefined)\n            initial = context.initial;\n        if (animate === undefined)\n            animate = context.animate;\n    }\n    let isInitialAnimationBlocked = presenceContext\n        ? presenceContext.initial === false\n        : false;\n    isInitialAnimationBlocked = isInitialAnimationBlocked || initial === false;\n    const variantToSet = isInitialAnimationBlocked ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        const list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        for (let i = 0; i < list.length; i++) {\n            const resolved = resolveVariantFromProps(props, list[i]);\n            if (resolved) {\n                const { transitionEnd, transition, ...target } = resolved;\n                for (const key in target) {\n                    let valueTarget = target[key];\n                    if (Array.isArray(valueTarget)) {\n                        /**\n                         * Take final keyframe if the initial animation is blocked because\n                         * we want to initialise at the end of that blocked animation.\n                         */\n                        const index = isInitialAnimationBlocked\n                            ? valueTarget.length - 1\n                            : 0;\n                        valueTarget = valueTarget[index];\n                    }\n                    if (valueTarget !== null) {\n                        values[key] = valueTarget;\n                    }\n                }\n                for (const key in transitionEnd) {\n                    values[key] = transitionEnd[key];\n                }\n            }\n        }\n    }\n    return values;\n}\nconst makeUseVisualState = (config) => (props, isStatic) => {\n    const context = useContext(MotionContext);\n    const presenceContext = useContext(PresenceContext);\n    const make = () => makeState(config, props, context, presenceContext);\n    return isStatic ? make() : useConstant(make);\n};\n\nexport { makeUseVisualState };\n","\"use client\";\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\n\nconst useHTMLVisualState = /*@__PURE__*/ makeUseVisualState({\n    scrapeMotionValuesFromProps,\n    createRenderState: createHtmlRenderState,\n});\n\nexport { useHTMLVisualState };\n","\"use client\";\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\n\nconst useSVGVisualState = /*@__PURE__*/ makeUseVisualState({\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    createRenderState: createSvgRenderState,\n});\n\nexport { useSVGVisualState };\n","const motionComponentSymbol = Symbol.for(\"motionComponentSymbol\");\n\nexport { motionComponentSymbol };\n","function isRefObject(ref) {\n    return (ref &&\n        typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\nexport { isRefObject };\n","\"use client\";\nimport { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return useCallback((instance) => {\n        if (instance) {\n            visualState.onMount && visualState.onMount(instance);\n        }\n        if (visualElement) {\n            if (instance) {\n                visualElement.mount(instance);\n            }\n            else {\n                visualElement.unmount();\n            }\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, \n    /**\n     * Include externalRef in dependencies to ensure the callback updates\n     * when the ref changes, allowing proper ref forwarding.\n     */\n    [visualElement]);\n}\n\nexport { useMotionRef };\n","\"use client\";\nimport { createContext } from 'react';\n\n/**\n * Internal, exported only for usage in Framer\n */\nconst SwitchLayoutGroupContext = createContext({});\n\nexport { SwitchLayoutGroupContext };\n","\"use client\";\nimport { useContext, useRef, useInsertionEffect, useEffect } from 'react';\nimport { optimizedAppearDataAttribute } from '../../animation/optimized-appear/data-id.mjs';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { SwitchLayoutGroupContext } from '../../context/SwitchLayoutGroupContext.mjs';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\n\nfunction useVisualElement(Component, visualState, props, createVisualElement, ProjectionNodeConstructor) {\n    const { visualElement: parent } = useContext(MotionContext);\n    const lazyContext = useContext(LazyContext);\n    const presenceContext = useContext(PresenceContext);\n    const reducedMotionConfig = useContext(MotionConfigContext).reducedMotion;\n    const visualElementRef = useRef(null);\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    createVisualElement =\n        createVisualElement ||\n            lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState,\n            parent,\n            props,\n            presenceContext,\n            blockInitialAnimation: presenceContext\n                ? presenceContext.initial === false\n                : false,\n            reducedMotionConfig,\n        });\n    }\n    const visualElement = visualElementRef.current;\n    /**\n     * Load Motion gesture and animation features. These are rendered as renderless\n     * components so each feature can optionally make use of React lifecycle methods.\n     */\n    const initialLayoutGroupConfig = useContext(SwitchLayoutGroupContext);\n    if (visualElement &&\n        !visualElement.projection &&\n        ProjectionNodeConstructor &&\n        (visualElement.type === \"html\" || visualElement.type === \"svg\")) {\n        createProjectionNode(visualElementRef.current, props, ProjectionNodeConstructor, initialLayoutGroupConfig);\n    }\n    const isMounted = useRef(false);\n    useInsertionEffect(() => {\n        /**\n         * Check the component has already mounted before calling\n         * `update` unnecessarily. This ensures we skip the initial update.\n         */\n        if (visualElement && isMounted.current) {\n            visualElement.update(props, presenceContext);\n        }\n    });\n    /**\n     * Cache this value as we want to know whether HandoffAppearAnimations\n     * was present on initial render - it will be deleted after this.\n     */\n    const optimisedAppearId = props[optimizedAppearDataAttribute];\n    const wantsHandoff = useRef(Boolean(optimisedAppearId) &&\n        !window.MotionHandoffIsComplete?.(optimisedAppearId) &&\n        window.MotionHasOptimisedAnimation?.(optimisedAppearId));\n    useIsomorphicLayoutEffect(() => {\n        if (!visualElement)\n            return;\n        isMounted.current = true;\n        window.MotionIsMounted = true;\n        visualElement.updateFeatures();\n        visualElement.scheduleRenderMicrotask();\n        /**\n         * Ideally this function would always run in a useEffect.\n         *\n         * However, if we have optimised appear animations to handoff from,\n         * it needs to happen synchronously to ensure there's no flash of\n         * incorrect styles in the event of a hydration error.\n         *\n         * So if we detect a situtation where optimised appear animations\n         * are running, we use useLayoutEffect to trigger animations.\n         */\n        if (wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n    });\n    useEffect(() => {\n        if (!visualElement)\n            return;\n        if (!wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n        if (wantsHandoff.current) {\n            // This ensures all future calls to animateChanges() in this component will run in useEffect\n            queueMicrotask(() => {\n                window.MotionHandoffMarkAsComplete?.(optimisedAppearId);\n            });\n            wantsHandoff.current = false;\n        }\n        /**\n         * Now we've finished triggering animations for this element we\n         * can wipe the enteringChildren set for the next render.\n         */\n        visualElement.enteringChildren = undefined;\n    });\n    return visualElement;\n}\nfunction createProjectionNode(visualElement, props, ProjectionNodeConstructor, initialPromotionConfig) {\n    const { layoutId, layout, drag, dragConstraints, layoutScroll, layoutRoot, layoutCrossfade, } = props;\n    visualElement.projection = new ProjectionNodeConstructor(visualElement.latestValues, props[\"data-framer-portal-id\"]\n        ? undefined\n        : getClosestProjectingNode(visualElement.parent));\n    visualElement.projection.setOptions({\n        layoutId,\n        layout,\n        alwaysMeasureLayout: Boolean(drag) || (dragConstraints && isRefObject(dragConstraints)),\n        visualElement,\n        /**\n         * TODO: Update options in an effect. This could be tricky as it'll be too late\n         * to update by the time layout animations run.\n         * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,\n         * ensuring it gets called if there's no potential layout animations.\n         *\n         */\n        animationType: typeof layout === \"string\" ? layout : \"both\",\n        initialPromotionConfig,\n        crossfade: layoutCrossfade,\n        layoutScroll,\n        layoutRoot,\n    });\n}\nfunction getClosestProjectingNode(visualElement) {\n    if (!visualElement)\n        return undefined;\n    return visualElement.options.allowProjection !== false\n        ? visualElement.projection\n        : getClosestProjectingNode(visualElement.parent);\n}\n\nexport { useVisualElement };\n","\"use client\";\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { warning, invariant } from 'motion-utils';\nimport { forwardRef, useContext } from 'react';\nimport { LayoutGroupContext } from '../context/LayoutGroupContext.mjs';\nimport { LazyContext } from '../context/LazyContext.mjs';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../context/MotionContext/index.mjs';\nimport { useCreateMotionContext } from '../context/MotionContext/create.mjs';\nimport { useRender } from '../render/dom/use-render.mjs';\nimport { isSVGComponent } from '../render/dom/utils/is-svg-component.mjs';\nimport { useHTMLVisualState } from '../render/html/use-html-visual-state.mjs';\nimport { useSVGVisualState } from '../render/svg/use-svg-visual-state.mjs';\nimport { isBrowser } from '../utils/is-browser.mjs';\nimport { featureDefinitions } from './features/definitions.mjs';\nimport { loadFeatures } from './features/load-features.mjs';\nimport { motionComponentSymbol } from './utils/symbol.mjs';\nimport { useMotionRef } from './utils/use-motion-ref.mjs';\nimport { useVisualElement } from './utils/use-visual-element.mjs';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n */\nfunction createMotionComponent(Component, { forwardMotionProps = false } = {}, preloadedFeatures, createVisualElement) {\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    const useVisualState = isSVGComponent(Component)\n        ? useSVGVisualState\n        : useHTMLVisualState;\n    function MotionDOMComponent(props, externalRef) {\n        /**\n         * If we need to measure the element we load this functionality in a\n         * separate class component in order to gain access to getSnapshotBeforeUpdate.\n         */\n        let MeasureLayout;\n        const configAndProps = {\n            ...useContext(MotionConfigContext),\n            ...props,\n            layoutId: useLayoutId(props),\n        };\n        const { isStatic } = configAndProps;\n        const context = useCreateMotionContext(props);\n        const visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            useStrictMode(configAndProps, preloadedFeatures);\n            const layoutProjection = getProjectionFunctionality(configAndProps);\n            MeasureLayout = layoutProjection.MeasureLayout;\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, configAndProps, createVisualElement, layoutProjection.ProjectionNode);\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (jsxs(MotionContext.Provider, { value: context, children: [MeasureLayout && context.visualElement ? (jsx(MeasureLayout, { visualElement: context.visualElement, ...configAndProps })) : null, useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic, forwardMotionProps)] }));\n    }\n    MotionDOMComponent.displayName = `motion.${typeof Component === \"string\"\n        ? Component\n        : `create(${Component.displayName ?? Component.name ?? \"\"})`}`;\n    const ForwardRefMotionComponent = forwardRef(MotionDOMComponent);\n    ForwardRefMotionComponent[motionComponentSymbol] = Component;\n    return ForwardRefMotionComponent;\n}\nfunction useLayoutId({ layoutId }) {\n    const layoutGroupId = useContext(LayoutGroupContext).id;\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\nfunction useStrictMode(configAndProps, preloadedFeatures) {\n    const isStrict = useContext(LazyContext).strict;\n    /**\n     * If we're in development mode, check to make sure we're not rendering a motion component\n     * as a child of LazyMotion, as this will break the file-size benefits of using it.\n     */\n    if (process.env.NODE_ENV !== \"production\" &&\n        preloadedFeatures &&\n        isStrict) {\n        const strictMessage = \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\";\n        configAndProps.ignoreStrict\n            ? warning(false, strictMessage, \"lazy-strict-mode\")\n            : invariant(false, strictMessage, \"lazy-strict-mode\");\n    }\n}\nfunction getProjectionFunctionality(props) {\n    const { drag, layout } = featureDefinitions;\n    if (!drag && !layout)\n        return {};\n    const combined = { ...drag, ...layout };\n    return {\n        MeasureLayout: drag?.isEnabled(props) || layout?.isEnabled(props)\n            ? combined.MeasureLayout\n            : undefined,\n        ProjectionNode: combined.ProjectionNode,\n    };\n}\n\nexport { createMotionComponent };\n","import { featureDefinitions } from './definitions.mjs';\n\nfunction loadFeatures(features) {\n    for (const key in features) {\n        featureDefinitions[key] = {\n            ...featureDefinitions[key],\n            ...features[key],\n        };\n    }\n}\n\nexport { loadFeatures };\n","import { isControllingVariants } from '../../render/utils/is-controlling-variants.mjs';\nimport { isVariantLabel } from '../../render/utils/is-variant-label.mjs';\n\nfunction getCurrentTreeVariants(props, context) {\n    if (isControllingVariants(props)) {\n        const { initial, animate } = props;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };\n","import { warnOnce } from 'motion-utils';\nimport { createMotionComponent } from '../../motion/index.mjs';\n\nfunction createMotionProxy(preloadedFeatures, createVisualElement) {\n    if (typeof Proxy === \"undefined\") {\n        return createMotionComponent;\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    const componentCache = new Map();\n    const factory = (Component, options) => {\n        return createMotionComponent(Component, options, preloadedFeatures, createVisualElement);\n    };\n    /**\n     * Support for deprecated`motion(Component)` pattern\n     */\n    const deprecatedFactoryFunction = (Component, options) => {\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(false, \"motion() is deprecated. Use motion.create() instead.\");\n        }\n        return factory(Component, options);\n    };\n    return new Proxy(deprecatedFactoryFunction, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: (_target, key) => {\n            if (key === \"create\")\n                return factory;\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, createMotionComponent(key, undefined, preloadedFeatures, createVisualElement));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\nexport { createMotionProxy };\n","function calcChildStagger(children, child, delayChildren, staggerChildren = 0, staggerDirection = 1) {\n    const index = Array.from(children)\n        .sort((a, b) => a.sortNodePosition(b))\n        .indexOf(child);\n    const numChildren = children.size;\n    const maxStaggerDuration = (numChildren - 1) * staggerChildren;\n    const delayIsFunction = typeof delayChildren === \"function\";\n    return delayIsFunction\n        ? delayChildren(index, numChildren)\n        : staggerDirection === 1\n            ? index * staggerChildren\n            : maxStaggerDuration - index * staggerChildren;\n}\n\nexport { calcChildStagger };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { calcChildStagger } from '../utils/calc-child-stagger.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\n\nfunction animateVariant(visualElement, variant, options = {}) {\n    const resolved = resolveVariant(visualElement, variant, options.type === \"exit\"\n        ? visualElement.presenceContext?.custom\n        : undefined);\n    let { transition = visualElement.getDefaultTransition() || {} } = resolved || {};\n    if (options.transitionOverride) {\n        transition = options.transitionOverride;\n    }\n    /**\n     * If we have a variant, create a callback that runs it as an animation.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getAnimation = resolved\n        ? () => Promise.all(animateTarget(visualElement, resolved, options))\n        : () => Promise.resolve();\n    /**\n     * If we have children, create a callback that runs all their animations.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getChildAnimations = visualElement.variantChildren && visualElement.variantChildren.size\n        ? (forwardDelay = 0) => {\n            const { delayChildren = 0, staggerChildren, staggerDirection, } = transition;\n            return animateChildren(visualElement, variant, forwardDelay, delayChildren, staggerChildren, staggerDirection, options);\n        }\n        : () => Promise.resolve();\n    /**\n     * If the transition explicitly defines a \"when\" option, we need to resolve either\n     * this animation or all children animations before playing the other.\n     */\n    const { when } = transition;\n    if (when) {\n        const [first, last] = when === \"beforeChildren\"\n            ? [getAnimation, getChildAnimations]\n            : [getChildAnimations, getAnimation];\n        return first().then(() => last());\n    }\n    else {\n        return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n    }\n}\nfunction animateChildren(visualElement, variant, delay = 0, delayChildren = 0, staggerChildren = 0, staggerDirection = 1, options) {\n    const animations = [];\n    for (const child of visualElement.variantChildren) {\n        child.notify(\"AnimationStart\", variant);\n        animations.push(animateVariant(child, variant, {\n            ...options,\n            delay: delay +\n                (typeof delayChildren === \"function\" ? 0 : delayChildren) +\n                calcChildStagger(visualElement.variantChildren, child, delayChildren, staggerChildren, staggerDirection),\n        }).then(() => child.notify(\"AnimationComplete\", variant)));\n    }\n    return Promise.all(animations);\n}\n\nexport { animateVariant };\n","function shallowCompare(next, prev) {\n    if (!Array.isArray(prev))\n        return false;\n    const prevLength = prev.length;\n    if (prevLength !== next.length)\n        return false;\n    for (let i = 0; i < prevLength; i++) {\n        if (prev[i] !== next[i])\n            return false;\n    }\n    return true;\n}\n\nexport { shallowCompare };\n","import { isVariantLabel } from './is-variant-label.mjs';\nimport { variantProps } from './variant-props.mjs';\n\nconst numVariantProps = variantProps.length;\nfunction getVariantContext(visualElement) {\n    if (!visualElement)\n        return undefined;\n    if (!visualElement.isControllingVariants) {\n        const context = visualElement.parent\n            ? getVariantContext(visualElement.parent) || {}\n            : {};\n        if (visualElement.props.initial !== undefined) {\n            context.initial = visualElement.props.initial;\n        }\n        return context;\n    }\n    const context = {};\n    for (let i = 0; i < numVariantProps; i++) {\n        const name = variantProps[i];\n        const prop = visualElement.props[name];\n        if (isVariantLabel(prop) || prop === false) {\n            context[name] = prop;\n        }\n    }\n    return context;\n}\n\nexport { getVariantContext };\n","import { animateVisualElement } from '../../animation/interfaces/visual-element.mjs';\nimport { calcChildStagger } from '../../animation/utils/calc-child-stagger.mjs';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { shallowCompare } from '../../utils/shallow-compare.mjs';\nimport { getVariantContext } from './get-variant-context.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\nimport { variantPriorityOrder } from './variant-props.mjs';\n\nconst reversePriorityOrder = [...variantPriorityOrder].reverse();\nconst numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n    return (animations) => Promise.all(animations.map(({ animation, options }) => animateVisualElement(visualElement, animation, options)));\n}\nfunction createAnimationState(visualElement) {\n    let animate = animateList(visualElement);\n    let state = createState();\n    let isInitialRender = true;\n    /**\n     * This function will be used to reduce the animation definitions for\n     * each active animation type into an object of resolved values for it.\n     */\n    const buildResolvedTypeValues = (type) => (acc, definition) => {\n        const resolved = resolveVariant(visualElement, definition, type === \"exit\"\n            ? visualElement.presenceContext?.custom\n            : undefined);\n        if (resolved) {\n            const { transition, transitionEnd, ...target } = resolved;\n            acc = { ...acc, ...target, ...transitionEnd };\n        }\n        return acc;\n    };\n    /**\n     * This just allows us to inject mocked animation functions\n     * @internal\n     */\n    function setAnimateFunction(makeAnimator) {\n        animate = makeAnimator(visualElement);\n    }\n    /**\n     * When we receive new props, we need to:\n     * 1. Create a list of protected keys for each type. This is a directory of\n     *    value keys that are currently being \"handled\" by types of a higher priority\n     *    so that whenever an animation is played of a given type, these values are\n     *    protected from being animated.\n     * 2. Determine if an animation type needs animating.\n     * 3. Determine if any values have been removed from a type and figure out\n     *    what to animate those to.\n     */\n    function animateChanges(changedActiveType) {\n        const { props } = visualElement;\n        const context = getVariantContext(visualElement.parent) || {};\n        /**\n         * A list of animations that we'll build into as we iterate through the animation\n         * types. This will get executed at the end of the function.\n         */\n        const animations = [];\n        /**\n         * Keep track of which values have been removed. Then, as we hit lower priority\n         * animation types, we can check if they contain removed values and animate to that.\n         */\n        const removedKeys = new Set();\n        /**\n         * A dictionary of all encountered keys. This is an object to let us build into and\n         * copy it without iteration. Each time we hit an animation type we set its protected\n         * keys - the keys its not allowed to animate - to the latest version of this object.\n         */\n        let encounteredKeys = {};\n        /**\n         * If a variant has been removed at a given index, and this component is controlling\n         * variant animations, we want to ensure lower-priority variants are forced to animate.\n         */\n        let removedVariantIndex = Infinity;\n        /**\n         * Iterate through all animation types in reverse priority order. For each, we want to\n         * detect which values it's handling and whether or not they've changed (and therefore\n         * need to be animated). If any values have been removed, we want to detect those in\n         * lower priority props and flag for animation.\n         */\n        for (let i = 0; i < numAnimationTypes; i++) {\n            const type = reversePriorityOrder[i];\n            const typeState = state[type];\n            const prop = props[type] !== undefined\n                ? props[type]\n                : context[type];\n            const propIsVariant = isVariantLabel(prop);\n            /**\n             * If this type has *just* changed isActive status, set activeDelta\n             * to that status. Otherwise set to null.\n             */\n            const activeDelta = type === changedActiveType ? typeState.isActive : null;\n            if (activeDelta === false)\n                removedVariantIndex = i;\n            /**\n             * If this prop is an inherited variant, rather than been set directly on the\n             * component itself, we want to make sure we allow the parent to trigger animations.\n             *\n             * TODO: Can probably change this to a !isControllingVariants check\n             */\n            let isInherited = prop === context[type] &&\n                prop !== props[type] &&\n                propIsVariant;\n            if (isInherited &&\n                isInitialRender &&\n                visualElement.manuallyAnimateOnMount) {\n                isInherited = false;\n            }\n            /**\n             * Set all encountered keys so far as the protected keys for this type. This will\n             * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n             */\n            typeState.protectedKeys = { ...encounteredKeys };\n            // Check if we can skip analysing this prop early\n            if (\n            // If it isn't active and hasn't *just* been set as inactive\n            (!typeState.isActive && activeDelta === null) ||\n                // If we didn't and don't have any defined prop for this animation type\n                (!prop && !typeState.prevProp) ||\n                // Or if the prop doesn't define an animation\n                isAnimationControls(prop) ||\n                typeof prop === \"boolean\") {\n                continue;\n            }\n            /**\n             * As we go look through the values defined on this type, if we detect\n             * a changed value or a value that was removed in a higher priority, we set\n             * this to true and add this prop to the animation list.\n             */\n            const variantDidChange = checkVariantsDidChange(typeState.prevProp, prop);\n            let shouldAnimateType = variantDidChange ||\n                // If we're making this variant active, we want to always make it active\n                (type === changedActiveType &&\n                    typeState.isActive &&\n                    !isInherited &&\n                    propIsVariant) ||\n                // If we removed a higher-priority variant (i is in reverse order)\n                (i > removedVariantIndex && propIsVariant);\n            let handledRemovedValues = false;\n            /**\n             * As animations can be set as variant lists, variants or target objects, we\n             * coerce everything to an array if it isn't one already\n             */\n            const definitionList = Array.isArray(prop) ? prop : [prop];\n            /**\n             * Build an object of all the resolved values. We'll use this in the subsequent\n             * animateChanges calls to determine whether a value has changed.\n             */\n            let resolvedValues = definitionList.reduce(buildResolvedTypeValues(type), {});\n            if (activeDelta === false)\n                resolvedValues = {};\n            /**\n             * Now we need to loop through all the keys in the prev prop and this prop,\n             * and decide:\n             * 1. If the value has changed, and needs animating\n             * 2. If it has been removed, and needs adding to the removedKeys set\n             * 3. If it has been removed in a higher priority type and needs animating\n             * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n             *    needs adding to the type's protectedKeys list.\n             */\n            const { prevResolvedValues = {} } = typeState;\n            const allKeys = {\n                ...prevResolvedValues,\n                ...resolvedValues,\n            };\n            const markToAnimate = (key) => {\n                shouldAnimateType = true;\n                if (removedKeys.has(key)) {\n                    handledRemovedValues = true;\n                    removedKeys.delete(key);\n                }\n                typeState.needsAnimating[key] = true;\n                const motionValue = visualElement.getValue(key);\n                if (motionValue)\n                    motionValue.liveStyle = false;\n            };\n            for (const key in allKeys) {\n                const next = resolvedValues[key];\n                const prev = prevResolvedValues[key];\n                // If we've already handled this we can just skip ahead\n                if (encounteredKeys.hasOwnProperty(key))\n                    continue;\n                /**\n                 * If the value has changed, we probably want to animate it.\n                 */\n                let valueHasChanged = false;\n                if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n                    valueHasChanged = !shallowCompare(next, prev);\n                }\n                else {\n                    valueHasChanged = next !== prev;\n                }\n                if (valueHasChanged) {\n                    if (next !== undefined && next !== null) {\n                        // If next is defined and doesn't equal prev, it needs animating\n                        markToAnimate(key);\n                    }\n                    else {\n                        // If it's undefined, it's been removed.\n                        removedKeys.add(key);\n                    }\n                }\n                else if (next !== undefined && removedKeys.has(key)) {\n                    /**\n                     * If next hasn't changed and it isn't undefined, we want to check if it's\n                     * been removed by a higher priority\n                     */\n                    markToAnimate(key);\n                }\n                else {\n                    /**\n                     * If it hasn't changed, we add it to the list of protected values\n                     * to ensure it doesn't get animated.\n                     */\n                    typeState.protectedKeys[key] = true;\n                }\n            }\n            /**\n             * Update the typeState so next time animateChanges is called we can compare the\n             * latest prop and resolvedValues to these.\n             */\n            typeState.prevProp = prop;\n            typeState.prevResolvedValues = resolvedValues;\n            if (typeState.isActive) {\n                encounteredKeys = { ...encounteredKeys, ...resolvedValues };\n            }\n            if (isInitialRender && visualElement.blockInitialAnimation) {\n                shouldAnimateType = false;\n            }\n            /**\n             * If this is an inherited prop we want to skip this animation\n             * unless the inherited variants haven't changed on this render.\n             */\n            const willAnimateViaParent = isInherited && variantDidChange;\n            const needsAnimating = !willAnimateViaParent || handledRemovedValues;\n            if (shouldAnimateType && needsAnimating) {\n                animations.push(...definitionList.map((animation) => {\n                    const options = { type };\n                    /**\n                     * If we're performing the initial animation, but we're not\n                     * rendering at the same time as the variant-controlling parent,\n                     * we want to use the parent's transition to calculate the stagger.\n                     */\n                    if (typeof animation === \"string\" &&\n                        isInitialRender &&\n                        !willAnimateViaParent &&\n                        visualElement.manuallyAnimateOnMount &&\n                        visualElement.parent) {\n                        const { parent } = visualElement;\n                        const parentVariant = resolveVariant(parent, animation);\n                        if (parent.enteringChildren && parentVariant) {\n                            const { delayChildren } = parentVariant.transition || {};\n                            options.delay = calcChildStagger(parent.enteringChildren, visualElement, delayChildren);\n                        }\n                    }\n                    return {\n                        animation: animation,\n                        options,\n                    };\n                }));\n            }\n        }\n        /**\n         * If there are some removed value that haven't been dealt with,\n         * we need to create a new animation that falls back either to the value\n         * defined in the style prop, or the last read value.\n         */\n        if (removedKeys.size) {\n            const fallbackAnimation = {};\n            /**\n             * If the initial prop contains a transition we can use that, otherwise\n             * allow the animation function to use the visual element's default.\n             */\n            if (typeof props.initial !== \"boolean\") {\n                const initialTransition = resolveVariant(visualElement, Array.isArray(props.initial)\n                    ? props.initial[0]\n                    : props.initial);\n                if (initialTransition && initialTransition.transition) {\n                    fallbackAnimation.transition = initialTransition.transition;\n                }\n            }\n            removedKeys.forEach((key) => {\n                const fallbackTarget = visualElement.getBaseTarget(key);\n                const motionValue = visualElement.getValue(key);\n                if (motionValue)\n                    motionValue.liveStyle = true;\n                // @ts-expect-error - @mattgperry to figure if we should do something here\n                fallbackAnimation[key] = fallbackTarget ?? null;\n            });\n            animations.push({ animation: fallbackAnimation });\n        }\n        let shouldAnimate = Boolean(animations.length);\n        if (isInitialRender &&\n            (props.initial === false || props.initial === props.animate) &&\n            !visualElement.manuallyAnimateOnMount) {\n            shouldAnimate = false;\n        }\n        isInitialRender = false;\n        return shouldAnimate ? animate(animations) : Promise.resolve();\n    }\n    /**\n     * Change whether a certain animation type is active.\n     */\n    function setActive(type, isActive) {\n        // If the active state hasn't changed, we can safely do nothing here\n        if (state[type].isActive === isActive)\n            return Promise.resolve();\n        // Propagate active change to children\n        visualElement.variantChildren?.forEach((child) => child.animationState?.setActive(type, isActive));\n        state[type].isActive = isActive;\n        const animations = animateChanges(type);\n        for (const key in state) {\n            state[key].protectedKeys = {};\n        }\n        return animations;\n    }\n    return {\n        animateChanges,\n        setActive,\n        setAnimateFunction,\n        getState: () => state,\n        reset: () => {\n            state = createState();\n            /**\n             * Temporarily disabling resetting this flag as it prevents components\n             * with initial={false} from animating after being remounted, for instance\n             * as the child of an Activity component.\n             */\n            // isInitialRender = true\n        },\n    };\n}\nfunction checkVariantsDidChange(prev, next) {\n    if (typeof next === \"string\") {\n        return next !== prev;\n    }\n    else if (Array.isArray(next)) {\n        return !shallowCompare(next, prev);\n    }\n    return false;\n}\nfunction createTypeState(isActive = false) {\n    return {\n        isActive,\n        protectedKeys: {},\n        needsAnimating: {},\n        prevResolvedValues: {},\n    };\n}\nfunction createState() {\n    return {\n        animate: createTypeState(true),\n        whileInView: createTypeState(),\n        whileHover: createTypeState(),\n        whileTap: createTypeState(),\n        whileDrag: createTypeState(),\n        whileFocus: createTypeState(),\n        exit: createTypeState(),\n    };\n}\n\nexport { checkVariantsDidChange, createAnimationState };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\nimport { animateVariant } from './visual-element-variant.mjs';\n\nfunction animateVisualElement(visualElement, definition, options = {}) {\n    visualElement.notify(\"AnimationStart\", definition);\n    let animation;\n    if (Array.isArray(definition)) {\n        const animations = definition.map((variant) => animateVariant(visualElement, variant, options));\n        animation = Promise.all(animations);\n    }\n    else if (typeof definition === \"string\") {\n        animation = animateVariant(visualElement, definition, options);\n    }\n    else {\n        const resolvedDefinition = typeof definition === \"function\"\n            ? resolveVariant(visualElement, definition, options.custom)\n            : definition;\n        animation = Promise.all(animateTarget(visualElement, resolvedDefinition, options));\n    }\n    return animation.then(() => {\n        visualElement.notify(\"AnimationComplete\", definition);\n    });\n}\n\nexport { animateVisualElement };\n","class Feature {\n    constructor(node) {\n        this.isMounted = false;\n        this.node = node;\n    }\n    update() { }\n}\n\nexport { Feature };\n","import { Feature } from '../Feature.mjs';\n\nlet id = 0;\nclass ExitAnimationFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.id = id++;\n    }\n    update() {\n        if (!this.node.presenceContext)\n            return;\n        const { isPresent, onExitComplete } = this.node.presenceContext;\n        const { isPresent: prevIsPresent } = this.node.prevPresenceContext || {};\n        if (!this.node.animationState || isPresent === prevIsPresent) {\n            return;\n        }\n        const exitAnimation = this.node.animationState.setActive(\"exit\", !isPresent);\n        if (onExitComplete && !isPresent) {\n            exitAnimation.then(() => {\n                onExitComplete(this.id);\n            });\n        }\n    }\n    mount() {\n        const { register, onExitComplete } = this.node.presenceContext || {};\n        if (onExitComplete) {\n            onExitComplete(this.id);\n        }\n        if (register) {\n            this.unmount = register(this.id);\n        }\n    }\n    unmount() { }\n}\n\nexport { ExitAnimationFeature };\n","import { AnimationFeature } from './animation/index.mjs';\nimport { ExitAnimationFeature } from './animation/exit.mjs';\n\nconst animations = {\n    animation: {\n        Feature: AnimationFeature,\n    },\n    exit: {\n        Feature: ExitAnimationFeature,\n    },\n};\n\nexport { animations };\n","import { isAnimationControls } from '../../../animation/utils/is-animation-controls.mjs';\nimport { createAnimationState } from '../../../render/utils/animation-state.mjs';\nimport { Feature } from '../Feature.mjs';\n\nclass AnimationFeature extends Feature {\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n    constructor(node) {\n        super(node);\n        node.animationState || (node.animationState = createAnimationState(node));\n    }\n    updateAnimationControlsSubscription() {\n        const { animate } = this.node.getProps();\n        if (isAnimationControls(animate)) {\n            this.unmountControls = animate.subscribe(this.node);\n        }\n    }\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n    mount() {\n        this.updateAnimationControlsSubscription();\n    }\n    update() {\n        const { animate } = this.node.getProps();\n        const { animate: prevAnimate } = this.node.prevProps || {};\n        if (animate !== prevAnimate) {\n            this.updateAnimationControlsSubscription();\n        }\n    }\n    unmount() {\n        this.node.animationState.reset();\n        this.unmountControls?.();\n    }\n}\n\nexport { AnimationFeature };\n","function addDomEvent(target, eventName, handler, options = { passive: true }) {\n    target.addEventListener(eventName, handler, options);\n    return () => target.removeEventListener(eventName, handler);\n}\n\nexport { addDomEvent };\n","import { isPrimaryPointer } from 'motion-dom';\n\nfunction extractEventInfo(event) {\n    return {\n        point: {\n            x: event.pageX,\n            y: event.pageY,\n        },\n    };\n}\nconst addPointerInfo = (handler) => {\n    return (event) => isPrimaryPointer(event) && handler(event, extractEventInfo(event));\n};\n\nexport { addPointerInfo, extractEventInfo };\n","import { addDomEvent } from './add-dom-event.mjs';\nimport { addPointerInfo } from './event-info.mjs';\n\nfunction addPointerEvent(target, eventName, handler, options) {\n    return addDomEvent(target, eventName, addPointerInfo(handler), options);\n}\n\nexport { addPointerEvent };\n","import { mixNumber } from 'motion-dom';\n\nconst SCALE_PRECISION = 0.0001;\nconst SCALE_MIN = 1 - SCALE_PRECISION;\nconst SCALE_MAX = 1 + SCALE_PRECISION;\nconst TRANSLATE_PRECISION = 0.01;\nconst TRANSLATE_MIN = 0 - TRANSLATE_PRECISION;\nconst TRANSLATE_MAX = 0 + TRANSLATE_PRECISION;\nfunction calcLength(axis) {\n    return axis.max - axis.min;\n}\nfunction isNear(value, target, maxDistance) {\n    return Math.abs(value - target) <= maxDistance;\n}\nfunction calcAxisDelta(delta, source, target, origin = 0.5) {\n    delta.origin = origin;\n    delta.originPoint = mixNumber(source.min, source.max, delta.origin);\n    delta.scale = calcLength(target) / calcLength(source);\n    delta.translate =\n        mixNumber(target.min, target.max, delta.origin) - delta.originPoint;\n    if ((delta.scale >= SCALE_MIN && delta.scale <= SCALE_MAX) ||\n        isNaN(delta.scale)) {\n        delta.scale = 1.0;\n    }\n    if ((delta.translate >= TRANSLATE_MIN &&\n        delta.translate <= TRANSLATE_MAX) ||\n        isNaN(delta.translate)) {\n        delta.translate = 0.0;\n    }\n}\nfunction calcBoxDelta(delta, source, target, origin) {\n    calcAxisDelta(delta.x, source.x, target.x, origin ? origin.originX : undefined);\n    calcAxisDelta(delta.y, source.y, target.y, origin ? origin.originY : undefined);\n}\nfunction calcRelativeAxis(target, relative, parent) {\n    target.min = parent.min + relative.min;\n    target.max = target.min + calcLength(relative);\n}\nfunction calcRelativeBox(target, relative, parent) {\n    calcRelativeAxis(target.x, relative.x, parent.x);\n    calcRelativeAxis(target.y, relative.y, parent.y);\n}\nfunction calcRelativeAxisPosition(target, layout, parent) {\n    target.min = layout.min - parent.min;\n    target.max = target.min + calcLength(layout);\n}\nfunction calcRelativePosition(target, layout, parent) {\n    calcRelativeAxisPosition(target.x, layout.x, parent.x);\n    calcRelativeAxisPosition(target.y, layout.y, parent.y);\n}\n\nexport { calcAxisDelta, calcBoxDelta, calcLength, calcRelativeAxis, calcRelativeAxisPosition, calcRelativeBox, calcRelativePosition, isNear };\n","function eachAxis(callback) {\n    return [callback(\"x\"), callback(\"y\")];\n}\n\nexport { eachAxis };\n","// Fixes https://github.com/motiondivision/motion/issues/2270\nconst getContextWindow = ({ current }) => {\n    return current ? current.ownerDocument.defaultView : null;\n};\n\nexport { getContextWindow };\n","const distance = (a, b) => Math.abs(a - b);\nfunction distance2D(a, b) {\n    // Multi-dimensional\n    const xDelta = distance(a.x, b.x);\n    const yDelta = distance(a.y, b.y);\n    return Math.sqrt(xDelta ** 2 + yDelta ** 2);\n}\n\nexport { distance, distance2D };\n","import { frame, isPrimaryPointer, cancelFrame, frameData } from 'motion-dom';\nimport { pipe, secondsToMilliseconds, millisecondsToSeconds } from 'motion-utils';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { extractEventInfo } from '../../events/event-info.mjs';\nimport { distance2D } from '../../utils/distance.mjs';\n\n/**\n * @internal\n */\nclass PanSession {\n    constructor(event, handlers, { transformPagePoint, contextWindow = window, dragSnapToOrigin = false, distanceThreshold = 3, } = {}) {\n        /**\n         * @internal\n         */\n        this.startEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEventInfo = null;\n        /**\n         * @internal\n         */\n        this.handlers = {};\n        /**\n         * @internal\n         */\n        this.contextWindow = window;\n        this.updatePoint = () => {\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const info = getPanInfo(this.lastMoveEventInfo, this.history);\n            const isPanStarted = this.startEvent !== null;\n            // Only start panning if the offset is larger than 3 pixels. If we make it\n            // any larger than this we'll want to reset the pointer history\n            // on the first update to avoid visual snapping to the cursor.\n            const isDistancePastThreshold = distance2D(info.offset, { x: 0, y: 0 }) >= this.distanceThreshold;\n            if (!isPanStarted && !isDistancePastThreshold)\n                return;\n            const { point } = info;\n            const { timestamp } = frameData;\n            this.history.push({ ...point, timestamp });\n            const { onStart, onMove } = this.handlers;\n            if (!isPanStarted) {\n                onStart && onStart(this.lastMoveEvent, info);\n                this.startEvent = this.lastMoveEvent;\n            }\n            onMove && onMove(this.lastMoveEvent, info);\n        };\n        this.handlePointerMove = (event, info) => {\n            this.lastMoveEvent = event;\n            this.lastMoveEventInfo = transformPoint(info, this.transformPagePoint);\n            // Throttle mouse move event to once per frame\n            frame.update(this.updatePoint, true);\n        };\n        this.handlePointerUp = (event, info) => {\n            this.end();\n            const { onEnd, onSessionEnd, resumeAnimation } = this.handlers;\n            if (this.dragSnapToOrigin)\n                resumeAnimation && resumeAnimation();\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const panInfo = getPanInfo(event.type === \"pointercancel\"\n                ? this.lastMoveEventInfo\n                : transformPoint(info, this.transformPagePoint), this.history);\n            if (this.startEvent && onEnd) {\n                onEnd(event, panInfo);\n            }\n            onSessionEnd && onSessionEnd(event, panInfo);\n        };\n        // If we have more than one touch, don't start detecting this gesture\n        if (!isPrimaryPointer(event))\n            return;\n        this.dragSnapToOrigin = dragSnapToOrigin;\n        this.handlers = handlers;\n        this.transformPagePoint = transformPagePoint;\n        this.distanceThreshold = distanceThreshold;\n        this.contextWindow = contextWindow || window;\n        const info = extractEventInfo(event);\n        const initialInfo = transformPoint(info, this.transformPagePoint);\n        const { point } = initialInfo;\n        const { timestamp } = frameData;\n        this.history = [{ ...point, timestamp }];\n        const { onSessionStart } = handlers;\n        onSessionStart &&\n            onSessionStart(event, getPanInfo(initialInfo, this.history));\n        this.removeListeners = pipe(addPointerEvent(this.contextWindow, \"pointermove\", this.handlePointerMove), addPointerEvent(this.contextWindow, \"pointerup\", this.handlePointerUp), addPointerEvent(this.contextWindow, \"pointercancel\", this.handlePointerUp));\n    }\n    updateHandlers(handlers) {\n        this.handlers = handlers;\n    }\n    end() {\n        this.removeListeners && this.removeListeners();\n        cancelFrame(this.updatePoint);\n    }\n}\nfunction transformPoint(info, transformPagePoint) {\n    return transformPagePoint ? { point: transformPagePoint(info.point) } : info;\n}\nfunction subtractPoint(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getPanInfo({ point }, history) {\n    return {\n        point,\n        delta: subtractPoint(point, lastDevicePoint(history)),\n        offset: subtractPoint(point, startDevicePoint(history)),\n        velocity: getVelocity(history, 0.1),\n    };\n}\nfunction startDevicePoint(history) {\n    return history[0];\n}\nfunction lastDevicePoint(history) {\n    return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n    if (history.length < 2) {\n        return { x: 0, y: 0 };\n    }\n    let i = history.length - 1;\n    let timestampedPoint = null;\n    const lastPoint = lastDevicePoint(history);\n    while (i >= 0) {\n        timestampedPoint = history[i];\n        if (lastPoint.timestamp - timestampedPoint.timestamp >\n            secondsToMilliseconds(timeDelta)) {\n            break;\n        }\n        i--;\n    }\n    if (!timestampedPoint) {\n        return { x: 0, y: 0 };\n    }\n    const time = millisecondsToSeconds(lastPoint.timestamp - timestampedPoint.timestamp);\n    if (time === 0) {\n        return { x: 0, y: 0 };\n    }\n    const currentVelocity = {\n        x: (lastPoint.x - timestampedPoint.x) / time,\n        y: (lastPoint.y - timestampedPoint.y) / time,\n    };\n    if (currentVelocity.x === Infinity) {\n        currentVelocity.x = 0;\n    }\n    if (currentVelocity.y === Infinity) {\n        currentVelocity.y = 0;\n    }\n    return currentVelocity;\n}\n\nexport { PanSession };\n","import { mixNumber } from 'motion-dom';\nimport { progress, clamp } from 'motion-utils';\nimport { calcLength } from '../../../projection/geometry/delta-calc.mjs';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, { min, max }, elastic) {\n    if (min !== undefined && point < min) {\n        // If we have a min point defined, and this is outside of that, constrain\n        point = elastic\n            ? mixNumber(min, point, elastic.min)\n            : Math.max(point, min);\n    }\n    else if (max !== undefined && point > max) {\n        // If we have a max point defined, and this is outside of that, constrain\n        point = elastic\n            ? mixNumber(max, point, elastic.max)\n            : Math.min(point, max);\n    }\n    return point;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n    return {\n        min: min !== undefined ? axis.min + min : undefined,\n        max: max !== undefined\n            ? axis.max + max - (axis.max - axis.min)\n            : undefined,\n    };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, { top, left, bottom, right }) {\n    return {\n        x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n        y: calcRelativeAxisConstraints(layoutBox.y, top, bottom),\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n    let min = constraintsAxis.min - layoutAxis.min;\n    let max = constraintsAxis.max - layoutAxis.max;\n    // If the constraints axis is actually smaller than the layout axis then we can\n    // flip the constraints\n    if (constraintsAxis.max - constraintsAxis.min <\n        layoutAxis.max - layoutAxis.min) {\n        [min, max] = [max, min];\n    }\n    return { min, max };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n    return {\n        x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n        y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y),\n    };\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\nfunction calcOrigin(source, target) {\n    let origin = 0.5;\n    const sourceLength = calcLength(source);\n    const targetLength = calcLength(target);\n    if (targetLength > sourceLength) {\n        origin = progress(target.min, target.max - sourceLength, source.min);\n    }\n    else if (sourceLength > targetLength) {\n        origin = progress(source.min, source.max - targetLength, target.min);\n    }\n    return clamp(0, 1, origin);\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n    const relativeConstraints = {};\n    if (constraints.min !== undefined) {\n        relativeConstraints.min = constraints.min - layout.min;\n    }\n    if (constraints.max !== undefined) {\n        relativeConstraints.max = constraints.max - layout.min;\n    }\n    return relativeConstraints;\n}\nconst defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic = defaultElastic) {\n    if (dragElastic === false) {\n        dragElastic = 0;\n    }\n    else if (dragElastic === true) {\n        dragElastic = defaultElastic;\n    }\n    return {\n        x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n        y: resolveAxisElastic(dragElastic, \"top\", \"bottom\"),\n    };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n    return {\n        min: resolvePointElastic(dragElastic, minLabel),\n        max: resolvePointElastic(dragElastic, maxLabel),\n    };\n}\nfunction resolvePointElastic(dragElastic, label) {\n    return typeof dragElastic === \"number\"\n        ? dragElastic\n        : dragElastic[label] || 0;\n}\n\nexport { applyConstraints, calcOrigin, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };\n","import { frame, mixNumber, setDragLock, percent } from 'motion-dom';\nimport { invariant } from 'motion-utils';\nimport { animateMotionValue } from '../../animation/interfaces/motion-value.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { extractEventInfo } from '../../events/event-info.mjs';\nimport { convertBoxToBoundingBox, convertBoundingBoxToBox } from '../../projection/geometry/conversion.mjs';\nimport { calcLength } from '../../projection/geometry/delta-calc.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { eachAxis } from '../../projection/utils/each-axis.mjs';\nimport { measurePageBox } from '../../projection/utils/measure.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { addValueToWillChange } from '../../value/use-will-change/add-will-change.mjs';\nimport { PanSession } from '../pan/PanSession.mjs';\nimport { applyConstraints, calcRelativeConstraints, resolveDragElastic, rebaseAxisConstraints, calcViewportConstraints, calcOrigin, defaultElastic } from './utils/constraints.mjs';\n\nconst elementDragControls = new WeakMap();\nclass VisualElementDragControls {\n    constructor(visualElement) {\n        this.openDragLock = null;\n        this.isDragging = false;\n        this.currentDirection = null;\n        this.originPoint = { x: 0, y: 0 };\n        /**\n         * The permitted boundaries of travel, in pixels.\n         */\n        this.constraints = false;\n        this.hasMutatedConstraints = false;\n        /**\n         * The per-axis resolved elastic values.\n         */\n        this.elastic = createBox();\n        /**\n         * The latest pointer event. Used as fallback when the `cancel` and `stop` functions are called without arguments.\n         */\n        this.latestPointerEvent = null;\n        /**\n         * The latest pan info. Used as fallback when the `cancel` and `stop` functions are called without arguments.\n         */\n        this.latestPanInfo = null;\n        this.visualElement = visualElement;\n    }\n    start(originEvent, { snapToCursor = false, distanceThreshold } = {}) {\n        /**\n         * Don't start dragging if this component is exiting\n         */\n        const { presenceContext } = this.visualElement;\n        if (presenceContext && presenceContext.isPresent === false)\n            return;\n        const onSessionStart = (event) => {\n            const { dragSnapToOrigin } = this.getProps();\n            // Stop or pause any animations on both axis values immediately. This allows the user to throw and catch\n            // the component.\n            dragSnapToOrigin ? this.pauseAnimation() : this.stopAnimation();\n            if (snapToCursor) {\n                this.snapToCursor(extractEventInfo(event).point);\n            }\n        };\n        const onStart = (event, info) => {\n            // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n            const { drag, dragPropagation, onDragStart } = this.getProps();\n            if (drag && !dragPropagation) {\n                if (this.openDragLock)\n                    this.openDragLock();\n                this.openDragLock = setDragLock(drag);\n                // If we don 't have the lock, don't start dragging\n                if (!this.openDragLock)\n                    return;\n            }\n            this.latestPointerEvent = event;\n            this.latestPanInfo = info;\n            this.isDragging = true;\n            this.currentDirection = null;\n            this.resolveConstraints();\n            if (this.visualElement.projection) {\n                this.visualElement.projection.isAnimationBlocked = true;\n                this.visualElement.projection.target = undefined;\n            }\n            /**\n             * Record gesture origin\n             */\n            eachAxis((axis) => {\n                let current = this.getAxisMotionValue(axis).get() || 0;\n                /**\n                 * If the MotionValue is a percentage value convert to px\n                 */\n                if (percent.test(current)) {\n                    const { projection } = this.visualElement;\n                    if (projection && projection.layout) {\n                        const measuredAxis = projection.layout.layoutBox[axis];\n                        if (measuredAxis) {\n                            const length = calcLength(measuredAxis);\n                            current = length * (parseFloat(current) / 100);\n                        }\n                    }\n                }\n                this.originPoint[axis] = current;\n            });\n            // Fire onDragStart event\n            if (onDragStart) {\n                frame.postRender(() => onDragStart(event, info));\n            }\n            addValueToWillChange(this.visualElement, \"transform\");\n            const { animationState } = this.visualElement;\n            animationState && animationState.setActive(\"whileDrag\", true);\n        };\n        const onMove = (event, info) => {\n            this.latestPointerEvent = event;\n            this.latestPanInfo = info;\n            const { dragPropagation, dragDirectionLock, onDirectionLock, onDrag, } = this.getProps();\n            // If we didn't successfully receive the gesture lock, early return.\n            if (!dragPropagation && !this.openDragLock)\n                return;\n            const { offset } = info;\n            // Attempt to detect drag direction if directionLock is true\n            if (dragDirectionLock && this.currentDirection === null) {\n                this.currentDirection = getCurrentDirection(offset);\n                // If we've successfully set a direction, notify listener\n                if (this.currentDirection !== null) {\n                    onDirectionLock && onDirectionLock(this.currentDirection);\n                }\n                return;\n            }\n            // Update each point with the latest position\n            this.updateAxis(\"x\", info.point, offset);\n            this.updateAxis(\"y\", info.point, offset);\n            /**\n             * Ideally we would leave the renderer to fire naturally at the end of\n             * this frame but if the element is about to change layout as the result\n             * of a re-render we want to ensure the browser can read the latest\n             * bounding box to ensure the pointer and element don't fall out of sync.\n             */\n            this.visualElement.render();\n            /**\n             * This must fire after the render call as it might trigger a state\n             * change which itself might trigger a layout update.\n             */\n            onDrag && onDrag(event, info);\n        };\n        const onSessionEnd = (event, info) => {\n            this.latestPointerEvent = event;\n            this.latestPanInfo = info;\n            this.stop(event, info);\n            this.latestPointerEvent = null;\n            this.latestPanInfo = null;\n        };\n        const resumeAnimation = () => eachAxis((axis) => this.getAnimationState(axis) === \"paused\" &&\n            this.getAxisMotionValue(axis).animation?.play());\n        const { dragSnapToOrigin } = this.getProps();\n        this.panSession = new PanSession(originEvent, {\n            onSessionStart,\n            onStart,\n            onMove,\n            onSessionEnd,\n            resumeAnimation,\n        }, {\n            transformPagePoint: this.visualElement.getTransformPagePoint(),\n            dragSnapToOrigin,\n            distanceThreshold,\n            contextWindow: getContextWindow(this.visualElement),\n        });\n    }\n    /**\n     * @internal\n     */\n    stop(event, panInfo) {\n        const finalEvent = event || this.latestPointerEvent;\n        const finalPanInfo = panInfo || this.latestPanInfo;\n        const isDragging = this.isDragging;\n        this.cancel();\n        if (!isDragging || !finalPanInfo || !finalEvent)\n            return;\n        const { velocity } = finalPanInfo;\n        this.startAnimation(velocity);\n        const { onDragEnd } = this.getProps();\n        if (onDragEnd) {\n            frame.postRender(() => onDragEnd(finalEvent, finalPanInfo));\n        }\n    }\n    /**\n     * @internal\n     */\n    cancel() {\n        this.isDragging = false;\n        const { projection, animationState } = this.visualElement;\n        if (projection) {\n            projection.isAnimationBlocked = false;\n        }\n        this.panSession && this.panSession.end();\n        this.panSession = undefined;\n        const { dragPropagation } = this.getProps();\n        if (!dragPropagation && this.openDragLock) {\n            this.openDragLock();\n            this.openDragLock = null;\n        }\n        animationState && animationState.setActive(\"whileDrag\", false);\n    }\n    updateAxis(axis, _point, offset) {\n        const { drag } = this.getProps();\n        // If we're not dragging this axis, do an early return.\n        if (!offset || !shouldDrag(axis, drag, this.currentDirection))\n            return;\n        const axisValue = this.getAxisMotionValue(axis);\n        let next = this.originPoint[axis] + offset[axis];\n        // Apply constraints\n        if (this.constraints && this.constraints[axis]) {\n            next = applyConstraints(next, this.constraints[axis], this.elastic[axis]);\n        }\n        axisValue.set(next);\n    }\n    resolveConstraints() {\n        const { dragConstraints, dragElastic } = this.getProps();\n        const layout = this.visualElement.projection &&\n            !this.visualElement.projection.layout\n            ? this.visualElement.projection.measure(false)\n            : this.visualElement.projection?.layout;\n        const prevConstraints = this.constraints;\n        if (dragConstraints && isRefObject(dragConstraints)) {\n            if (!this.constraints) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        }\n        else {\n            if (dragConstraints && layout) {\n                this.constraints = calcRelativeConstraints(layout.layoutBox, dragConstraints);\n            }\n            else {\n                this.constraints = false;\n            }\n        }\n        this.elastic = resolveDragElastic(dragElastic);\n        /**\n         * If we're outputting to external MotionValues, we want to rebase the measured constraints\n         * from viewport-relative to component-relative.\n         */\n        if (prevConstraints !== this.constraints &&\n            layout &&\n            this.constraints &&\n            !this.hasMutatedConstraints) {\n            eachAxis((axis) => {\n                if (this.constraints !== false &&\n                    this.getAxisMotionValue(axis)) {\n                    this.constraints[axis] = rebaseAxisConstraints(layout.layoutBox[axis], this.constraints[axis]);\n                }\n            });\n        }\n    }\n    resolveRefConstraints() {\n        const { dragConstraints: constraints, onMeasureDragConstraints } = this.getProps();\n        if (!constraints || !isRefObject(constraints))\n            return false;\n        const constraintsElement = constraints.current;\n        invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\", \"drag-constraints-ref\");\n        const { projection } = this.visualElement;\n        // TODO\n        if (!projection || !projection.layout)\n            return false;\n        const constraintsBox = measurePageBox(constraintsElement, projection.root, this.visualElement.getTransformPagePoint());\n        let measuredConstraints = calcViewportConstraints(projection.layout.layoutBox, constraintsBox);\n        /**\n         * If there's an onMeasureDragConstraints listener we call it and\n         * if different constraints are returned, set constraints to that\n         */\n        if (onMeasureDragConstraints) {\n            const userConstraints = onMeasureDragConstraints(convertBoxToBoundingBox(measuredConstraints));\n            this.hasMutatedConstraints = !!userConstraints;\n            if (userConstraints) {\n                measuredConstraints = convertBoundingBoxToBox(userConstraints);\n            }\n        }\n        return measuredConstraints;\n    }\n    startAnimation(velocity) {\n        const { drag, dragMomentum, dragElastic, dragTransition, dragSnapToOrigin, onDragTransitionEnd, } = this.getProps();\n        const constraints = this.constraints || {};\n        const momentumAnimations = eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, this.currentDirection)) {\n                return;\n            }\n            let transition = (constraints && constraints[axis]) || {};\n            if (dragSnapToOrigin)\n                transition = { min: 0, max: 0 };\n            /**\n             * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n             * of spring animations so we should look into adding a disable spring option to `inertia`.\n             * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n             * using the value of `dragElastic`.\n             */\n            const bounceStiffness = dragElastic ? 200 : 1000000;\n            const bounceDamping = dragElastic ? 40 : 10000000;\n            const inertia = {\n                type: \"inertia\",\n                velocity: dragMomentum ? velocity[axis] : 0,\n                bounceStiffness,\n                bounceDamping,\n                timeConstant: 750,\n                restDelta: 1,\n                restSpeed: 10,\n                ...dragTransition,\n                ...transition,\n            };\n            // If we're not animating on an externally-provided `MotionValue` we can use the\n            // component's animation controls which will handle interactions with whileHover (etc),\n            // otherwise we just have to animate the `MotionValue` itself.\n            return this.startAxisValueAnimation(axis, inertia);\n        });\n        // Run all animations and then resolve the new drag constraints.\n        return Promise.all(momentumAnimations).then(onDragTransitionEnd);\n    }\n    startAxisValueAnimation(axis, transition) {\n        const axisValue = this.getAxisMotionValue(axis);\n        addValueToWillChange(this.visualElement, axis);\n        return axisValue.start(animateMotionValue(axis, axisValue, 0, transition, this.visualElement, false));\n    }\n    stopAnimation() {\n        eachAxis((axis) => this.getAxisMotionValue(axis).stop());\n    }\n    pauseAnimation() {\n        eachAxis((axis) => this.getAxisMotionValue(axis).animation?.pause());\n    }\n    getAnimationState(axis) {\n        return this.getAxisMotionValue(axis).animation?.state;\n    }\n    /**\n     * Drag works differently depending on which props are provided.\n     *\n     * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n     * - Otherwise, we apply the delta to the x/y motion values.\n     */\n    getAxisMotionValue(axis) {\n        const dragKey = `_drag${axis.toUpperCase()}`;\n        const props = this.visualElement.getProps();\n        const externalMotionValue = props[dragKey];\n        return externalMotionValue\n            ? externalMotionValue\n            : this.visualElement.getValue(axis, (props.initial\n                ? props.initial[axis]\n                : undefined) || 0);\n    }\n    snapToCursor(point) {\n        eachAxis((axis) => {\n            const { drag } = this.getProps();\n            // If we're not dragging this axis, do an early return.\n            if (!shouldDrag(axis, drag, this.currentDirection))\n                return;\n            const { projection } = this.visualElement;\n            const axisValue = this.getAxisMotionValue(axis);\n            if (projection && projection.layout) {\n                const { min, max } = projection.layout.layoutBox[axis];\n                axisValue.set(point[axis] - mixNumber(min, max, 0.5));\n            }\n        });\n    }\n    /**\n     * When the viewport resizes we want to check if the measured constraints\n     * have changed and, if so, reposition the element within those new constraints\n     * relative to where it was before the resize.\n     */\n    scalePositionWithinConstraints() {\n        if (!this.visualElement.current)\n            return;\n        const { drag, dragConstraints } = this.getProps();\n        const { projection } = this.visualElement;\n        if (!isRefObject(dragConstraints) || !projection || !this.constraints)\n            return;\n        /**\n         * Stop current animations as there can be visual glitching if we try to do\n         * this mid-animation\n         */\n        this.stopAnimation();\n        /**\n         * Record the relative position of the dragged element relative to the\n         * constraints box and save as a progress value.\n         */\n        const boxProgress = { x: 0, y: 0 };\n        eachAxis((axis) => {\n            const axisValue = this.getAxisMotionValue(axis);\n            if (axisValue && this.constraints !== false) {\n                const latest = axisValue.get();\n                boxProgress[axis] = calcOrigin({ min: latest, max: latest }, this.constraints[axis]);\n            }\n        });\n        /**\n         * Update the layout of this element and resolve the latest drag constraints\n         */\n        const { transformTemplate } = this.visualElement.getProps();\n        this.visualElement.current.style.transform = transformTemplate\n            ? transformTemplate({}, \"\")\n            : \"none\";\n        projection.root && projection.root.updateScroll();\n        projection.updateLayout();\n        this.resolveConstraints();\n        /**\n         * For each axis, calculate the current progress of the layout axis\n         * within the new constraints.\n         */\n        eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, null))\n                return;\n            /**\n             * Calculate a new transform based on the previous box progress\n             */\n            const axisValue = this.getAxisMotionValue(axis);\n            const { min, max } = this.constraints[axis];\n            axisValue.set(mixNumber(min, max, boxProgress[axis]));\n        });\n    }\n    addListeners() {\n        if (!this.visualElement.current)\n            return;\n        elementDragControls.set(this.visualElement, this);\n        const element = this.visualElement.current;\n        /**\n         * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n         */\n        const stopPointerListener = addPointerEvent(element, \"pointerdown\", (event) => {\n            const { drag, dragListener = true } = this.getProps();\n            drag && dragListener && this.start(event);\n        });\n        const measureDragConstraints = () => {\n            const { dragConstraints } = this.getProps();\n            if (isRefObject(dragConstraints) && dragConstraints.current) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        };\n        const { projection } = this.visualElement;\n        const stopMeasureLayoutListener = projection.addEventListener(\"measure\", measureDragConstraints);\n        if (projection && !projection.layout) {\n            projection.root && projection.root.updateScroll();\n            projection.updateLayout();\n        }\n        frame.read(measureDragConstraints);\n        /**\n         * Attach a window resize listener to scale the draggable target within its defined\n         * constraints as the window resizes.\n         */\n        const stopResizeListener = addDomEvent(window, \"resize\", () => this.scalePositionWithinConstraints());\n        /**\n         * If the element's layout changes, calculate the delta and apply that to\n         * the drag gesture's origin point.\n         */\n        const stopLayoutUpdateListener = projection.addEventListener(\"didUpdate\", (({ delta, hasLayoutChanged }) => {\n            if (this.isDragging && hasLayoutChanged) {\n                eachAxis((axis) => {\n                    const motionValue = this.getAxisMotionValue(axis);\n                    if (!motionValue)\n                        return;\n                    this.originPoint[axis] += delta[axis].translate;\n                    motionValue.set(motionValue.get() + delta[axis].translate);\n                });\n                this.visualElement.render();\n            }\n        }));\n        return () => {\n            stopResizeListener();\n            stopPointerListener();\n            stopMeasureLayoutListener();\n            stopLayoutUpdateListener && stopLayoutUpdateListener();\n        };\n    }\n    getProps() {\n        const props = this.visualElement.getProps();\n        const { drag = false, dragDirectionLock = false, dragPropagation = false, dragConstraints = false, dragElastic = defaultElastic, dragMomentum = true, } = props;\n        return {\n            ...props,\n            drag,\n            dragDirectionLock,\n            dragPropagation,\n            dragConstraints,\n            dragElastic,\n            dragMomentum,\n        };\n    }\n}\nfunction shouldDrag(direction, drag, currentDirection) {\n    return ((drag === true || drag === direction) &&\n        (currentDirection === null || currentDirection === direction));\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold = 10) {\n    let direction = null;\n    if (Math.abs(offset.y) > lockThreshold) {\n        direction = \"y\";\n    }\n    else if (Math.abs(offset.x) > lockThreshold) {\n        direction = \"x\";\n    }\n    return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };\n","import { frame } from 'motion-dom';\nimport { noop } from 'motion-utils';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { Feature } from '../../motion/features/Feature.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\nimport { PanSession } from './PanSession.mjs';\n\nconst asyncHandler = (handler) => (event, info) => {\n    if (handler) {\n        frame.postRender(() => handler(event, info));\n    }\n};\nclass PanGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removePointerDownListener = noop;\n    }\n    onPointerDown(pointerDownEvent) {\n        this.session = new PanSession(pointerDownEvent, this.createPanHandlers(), {\n            transformPagePoint: this.node.getTransformPagePoint(),\n            contextWindow: getContextWindow(this.node),\n        });\n    }\n    createPanHandlers() {\n        const { onPanSessionStart, onPanStart, onPan, onPanEnd } = this.node.getProps();\n        return {\n            onSessionStart: asyncHandler(onPanSessionStart),\n            onStart: asyncHandler(onPanStart),\n            onMove: onPan,\n            onEnd: (event, info) => {\n                delete this.session;\n                if (onPanEnd) {\n                    frame.postRender(() => onPanEnd(event, info));\n                }\n            },\n        };\n    }\n    mount() {\n        this.removePointerDownListener = addPointerEvent(this.node.current, \"pointerdown\", (event) => this.onPointerDown(event));\n    }\n    update() {\n        this.session && this.session.updateHandlers(this.createPanHandlers());\n    }\n    unmount() {\n        this.removePointerDownListener();\n        this.session && this.session.end();\n    }\n}\n\nexport { PanGesture };\n","/**\n * This should only ever be modified on the client otherwise it'll\n * persist through server requests. If we need instanced states we\n * could lazy-init via root.\n */\nconst globalProjectionState = {\n    /**\n     * Global flag as to whether the tree has animated since the last time\n     * we resized the window\n     */\n    hasAnimatedSinceResize: true,\n    /**\n     * We set this to true once, on the first update. Any nodes added to the tree beyond that\n     * update will be given a `data-projection-id` attribute.\n     */\n    hasEverUpdated: false,\n};\n\nexport { globalProjectionState };\n","import { px } from 'motion-dom';\n\nfunction pixelsToPercent(pixels, axis) {\n    if (axis.max === axis.min)\n        return 0;\n    return (pixels / (axis.max - axis.min)) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nconst correctBorderRadius = {\n    correct: (latest, node) => {\n        if (!node.target)\n            return latest;\n        /**\n         * If latest is a string, if it's a percentage we can return immediately as it's\n         * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n         */\n        if (typeof latest === \"string\") {\n            if (px.test(latest)) {\n                latest = parseFloat(latest);\n            }\n            else {\n                return latest;\n            }\n        }\n        /**\n         * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n         * pixel value as a percentage of each axis\n         */\n        const x = pixelsToPercent(latest, node.target.x);\n        const y = pixelsToPercent(latest, node.target.y);\n        return `${x}% ${y}%`;\n    },\n};\n\nexport { correctBorderRadius, pixelsToPercent };\n","import { complex, mixNumber } from 'motion-dom';\n\nconst correctBoxShadow = {\n    correct: (latest, { treeScale, projectionDelta }) => {\n        const original = latest;\n        const shadow = complex.parse(latest);\n        // TODO: Doesn't support multiple shadows\n        if (shadow.length > 5)\n            return original;\n        const template = complex.createTransformer(latest);\n        const offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n        // Calculate the overall context scale\n        const xScale = projectionDelta.x.scale * treeScale.x;\n        const yScale = projectionDelta.y.scale * treeScale.y;\n        shadow[0 + offset] /= xScale;\n        shadow[1 + offset] /= yScale;\n        /**\n         * Ideally we'd correct x and y scales individually, but because blur and\n         * spread apply to both we have to take a scale average and apply that instead.\n         * We could potentially improve the outcome of this by incorporating the ratio between\n         * the two scales.\n         */\n        const averageScale = mixNumber(xScale, yScale, 0.5);\n        // Blur\n        if (typeof shadow[2 + offset] === \"number\")\n            shadow[2 + offset] /= averageScale;\n        // Spread\n        if (typeof shadow[3 + offset] === \"number\")\n            shadow[3 + offset] /= averageScale;\n        return template(shadow);\n    },\n};\n\nexport { correctBoxShadow };\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport { frame, microtask } from 'motion-dom';\nimport { useContext, Component } from 'react';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.mjs';\nimport { LayoutGroupContext } from '../../../context/LayoutGroupContext.mjs';\nimport { SwitchLayoutGroupContext } from '../../../context/SwitchLayoutGroupContext.mjs';\nimport { globalProjectionState } from '../../../projection/node/state.mjs';\nimport { correctBorderRadius } from '../../../projection/styles/scale-border-radius.mjs';\nimport { correctBoxShadow } from '../../../projection/styles/scale-box-shadow.mjs';\nimport { addScaleCorrector } from '../../../projection/styles/scale-correction.mjs';\n\n/**\n * Track whether we've taken any snapshots yet. If not,\n * we can safely skip notification of didUpdate.\n *\n * Difficult to capture in a test but to prevent flickering\n * we must set this to true either on update or unmount.\n * Running `next-env/layout-id` in Safari will show this behaviour if broken.\n */\nlet hasTakenAnySnapshot = false;\nclass MeasureLayoutWithContext extends Component {\n    /**\n     * This only mounts projection nodes for components that\n     * need measuring, we might want to do it for all components\n     * in order to incorporate transforms\n     */\n    componentDidMount() {\n        const { visualElement, layoutGroup, switchLayoutGroup, layoutId } = this.props;\n        const { projection } = visualElement;\n        addScaleCorrector(defaultScaleCorrectors);\n        if (projection) {\n            if (layoutGroup.group)\n                layoutGroup.group.add(projection);\n            if (switchLayoutGroup && switchLayoutGroup.register && layoutId) {\n                switchLayoutGroup.register(projection);\n            }\n            if (hasTakenAnySnapshot) {\n                projection.root.didUpdate();\n            }\n            projection.addEventListener(\"animationComplete\", () => {\n                this.safeToRemove();\n            });\n            projection.setOptions({\n                ...projection.options,\n                onExitComplete: () => this.safeToRemove(),\n            });\n        }\n        globalProjectionState.hasEverUpdated = true;\n    }\n    getSnapshotBeforeUpdate(prevProps) {\n        const { layoutDependency, visualElement, drag, isPresent } = this.props;\n        const { projection } = visualElement;\n        if (!projection)\n            return null;\n        /**\n         * TODO: We use this data in relegate to determine whether to\n         * promote a previous element. There's no guarantee its presence data\n         * will have updated by this point - if a bug like this arises it will\n         * have to be that we markForRelegation and then find a new lead some other way,\n         * perhaps in didUpdate\n         */\n        projection.isPresent = isPresent;\n        hasTakenAnySnapshot = true;\n        if (drag ||\n            prevProps.layoutDependency !== layoutDependency ||\n            layoutDependency === undefined ||\n            prevProps.isPresent !== isPresent) {\n            projection.willUpdate();\n        }\n        else {\n            this.safeToRemove();\n        }\n        if (prevProps.isPresent !== isPresent) {\n            if (isPresent) {\n                projection.promote();\n            }\n            else if (!projection.relegate()) {\n                /**\n                 * If there's another stack member taking over from this one,\n                 * it's in charge of the exit animation and therefore should\n                 * be in charge of the safe to remove. Otherwise we call it here.\n                 */\n                frame.postRender(() => {\n                    const stack = projection.getStack();\n                    if (!stack || !stack.members.length) {\n                        this.safeToRemove();\n                    }\n                });\n            }\n        }\n        return null;\n    }\n    componentDidUpdate() {\n        const { projection } = this.props.visualElement;\n        if (projection) {\n            projection.root.didUpdate();\n            microtask.postRender(() => {\n                if (!projection.currentAnimation && projection.isLead()) {\n                    this.safeToRemove();\n                }\n            });\n        }\n    }\n    componentWillUnmount() {\n        const { visualElement, layoutGroup, switchLayoutGroup: promoteContext, } = this.props;\n        const { projection } = visualElement;\n        hasTakenAnySnapshot = true;\n        if (projection) {\n            projection.scheduleCheckAfterUnmount();\n            if (layoutGroup && layoutGroup.group)\n                layoutGroup.group.remove(projection);\n            if (promoteContext && promoteContext.deregister)\n                promoteContext.deregister(projection);\n        }\n    }\n    safeToRemove() {\n        const { safeToRemove } = this.props;\n        safeToRemove && safeToRemove();\n    }\n    render() {\n        return null;\n    }\n}\nfunction MeasureLayout(props) {\n    const [isPresent, safeToRemove] = usePresence();\n    const layoutGroup = useContext(LayoutGroupContext);\n    return (jsx(MeasureLayoutWithContext, { ...props, layoutGroup: layoutGroup, switchLayoutGroup: useContext(SwitchLayoutGroupContext), isPresent: isPresent, safeToRemove: safeToRemove }));\n}\nconst defaultScaleCorrectors = {\n    borderRadius: {\n        ...correctBorderRadius,\n        applyTo: [\n            \"borderTopLeftRadius\",\n            \"borderTopRightRadius\",\n            \"borderBottomLeftRadius\",\n            \"borderBottomRightRadius\",\n        ],\n    },\n    borderTopLeftRadius: correctBorderRadius,\n    borderTopRightRadius: correctBorderRadius,\n    borderBottomLeftRadius: correctBorderRadius,\n    borderBottomRightRadius: correctBorderRadius,\n    boxShadow: correctBoxShadow,\n};\n\nexport { MeasureLayout };\n","const compareByDepth = (a, b) => a.depth - b.depth;\n\nexport { compareByDepth };\n","import { addUniqueItem, removeItem } from 'motion-utils';\nimport { compareByDepth } from './compare-by-depth.mjs';\n\nclass FlatTree {\n    constructor() {\n        this.children = [];\n        this.isDirty = false;\n    }\n    add(child) {\n        addUniqueItem(this.children, child);\n        this.isDirty = true;\n    }\n    remove(child) {\n        removeItem(this.children, child);\n        this.isDirty = true;\n    }\n    forEach(callback) {\n        this.isDirty && this.children.sort(compareByDepth);\n        this.isDirty = false;\n        this.children.forEach(callback);\n    }\n}\n\nexport { FlatTree };\n","import { mixNumber, percent, px } from 'motion-dom';\nimport { progress, circOut, noop } from 'motion-utils';\n\nconst borders = [\"TopLeft\", \"TopRight\", \"BottomLeft\", \"BottomRight\"];\nconst numBorders = borders.length;\nconst asNumber = (value) => typeof value === \"string\" ? parseFloat(value) : value;\nconst isPx = (value) => typeof value === \"number\" || px.test(value);\nfunction mixValues(target, follow, lead, progress, shouldCrossfadeOpacity, isOnlyMember) {\n    if (shouldCrossfadeOpacity) {\n        target.opacity = mixNumber(0, lead.opacity ?? 1, easeCrossfadeIn(progress));\n        target.opacityExit = mixNumber(follow.opacity ?? 1, 0, easeCrossfadeOut(progress));\n    }\n    else if (isOnlyMember) {\n        target.opacity = mixNumber(follow.opacity ?? 1, lead.opacity ?? 1, progress);\n    }\n    /**\n     * Mix border radius\n     */\n    for (let i = 0; i < numBorders; i++) {\n        const borderLabel = `border${borders[i]}Radius`;\n        let followRadius = getRadius(follow, borderLabel);\n        let leadRadius = getRadius(lead, borderLabel);\n        if (followRadius === undefined && leadRadius === undefined)\n            continue;\n        followRadius || (followRadius = 0);\n        leadRadius || (leadRadius = 0);\n        const canMix = followRadius === 0 ||\n            leadRadius === 0 ||\n            isPx(followRadius) === isPx(leadRadius);\n        if (canMix) {\n            target[borderLabel] = Math.max(mixNumber(asNumber(followRadius), asNumber(leadRadius), progress), 0);\n            if (percent.test(leadRadius) || percent.test(followRadius)) {\n                target[borderLabel] += \"%\";\n            }\n        }\n        else {\n            target[borderLabel] = leadRadius;\n        }\n    }\n    /**\n     * Mix rotation\n     */\n    if (follow.rotate || lead.rotate) {\n        target.rotate = mixNumber(follow.rotate || 0, lead.rotate || 0, progress);\n    }\n}\nfunction getRadius(values, radiusName) {\n    return values[radiusName] !== undefined\n        ? values[radiusName]\n        : values.borderRadius;\n}\n// /**\n//  * We only want to mix the background color if there's a follow element\n//  * that we're not crossfading opacity between. For instance with switch\n//  * AnimateSharedLayout animations, this helps the illusion of a continuous\n//  * element being animated but also cuts down on the number of paints triggered\n//  * for elements where opacity is doing that work for us.\n//  */\n// if (\n//     !hasFollowElement &&\n//     latestLeadValues.backgroundColor &&\n//     latestFollowValues.backgroundColor\n// ) {\n//     /**\n//      * This isn't ideal performance-wise as mixColor is creating a new function every frame.\n//      * We could probably create a mixer that runs at the start of the animation but\n//      * the idea behind the crossfader is that it runs dynamically between two potentially\n//      * changing targets (ie opacity or borderRadius may be animating independently via variants)\n//      */\n//     leadState.backgroundColor = followState.backgroundColor = mixColor(\n//         latestFollowValues.backgroundColor as string,\n//         latestLeadValues.backgroundColor as string\n//     )(p)\n// }\nconst easeCrossfadeIn = /*@__PURE__*/ compress(0, 0.5, circOut);\nconst easeCrossfadeOut = /*@__PURE__*/ compress(0.5, 0.95, noop);\nfunction compress(min, max, easing) {\n    return (p) => {\n        // Could replace ifs with clamp\n        if (p < min)\n            return 0;\n        if (p > max)\n            return 1;\n        return easing(progress(min, max, p));\n    };\n}\n\nexport { mixValues };\n","/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyAxisInto(axis, originAxis) {\n    axis.min = originAxis.min;\n    axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyBoxInto(box, originBox) {\n    copyAxisInto(box.x, originBox.x);\n    copyAxisInto(box.y, originBox.y);\n}\n/**\n * Reset a delta to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyAxisDeltaInto(delta, originDelta) {\n    delta.translate = originDelta.translate;\n    delta.scale = originDelta.scale;\n    delta.originPoint = originDelta.originPoint;\n    delta.origin = originDelta.origin;\n}\n\nexport { copyAxisDeltaInto, copyAxisInto, copyBoxInto };\n","import { percent, mixNumber } from 'motion-dom';\nimport { scalePoint } from './delta-apply.mjs';\n\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n    point -= translate;\n    point = scalePoint(point, 1 / scale, originPoint);\n    if (boxScale !== undefined) {\n        point = scalePoint(point, 1 / boxScale, originPoint);\n    }\n    return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate = 0, scale = 1, origin = 0.5, boxScale, originAxis = axis, sourceAxis = axis) {\n    if (percent.test(translate)) {\n        translate = parseFloat(translate);\n        const relativeProgress = mixNumber(sourceAxis.min, sourceAxis.max, translate / 100);\n        translate = relativeProgress - sourceAxis.min;\n    }\n    if (typeof translate !== \"number\")\n        return;\n    let originPoint = mixNumber(originAxis.min, originAxis.max, origin);\n    if (axis === originAxis)\n        originPoint -= translate;\n    axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, [key, scaleKey, originKey], origin, sourceAxis) {\n    removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale, origin, sourceAxis);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms, originBox, sourceBox) {\n    removeAxisTransforms(box.x, transforms, xKeys, originBox ? originBox.x : undefined, sourceBox ? sourceBox.x : undefined);\n    removeAxisTransforms(box.y, transforms, yKeys, originBox ? originBox.y : undefined, sourceBox ? sourceBox.y : undefined);\n}\n\nexport { removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta };\n","import { calcLength } from './delta-calc.mjs';\n\nfunction isAxisDeltaZero(delta) {\n    return delta.translate === 0 && delta.scale === 1;\n}\nfunction isDeltaZero(delta) {\n    return isAxisDeltaZero(delta.x) && isAxisDeltaZero(delta.y);\n}\nfunction axisEquals(a, b) {\n    return a.min === b.min && a.max === b.max;\n}\nfunction boxEquals(a, b) {\n    return axisEquals(a.x, b.x) && axisEquals(a.y, b.y);\n}\nfunction axisEqualsRounded(a, b) {\n    return (Math.round(a.min) === Math.round(b.min) &&\n        Math.round(a.max) === Math.round(b.max));\n}\nfunction boxEqualsRounded(a, b) {\n    return axisEqualsRounded(a.x, b.x) && axisEqualsRounded(a.y, b.y);\n}\nfunction aspectRatio(box) {\n    return calcLength(box.x) / calcLength(box.y);\n}\nfunction axisDeltaEquals(a, b) {\n    return (a.translate === b.translate &&\n        a.scale === b.scale &&\n        a.originPoint === b.originPoint);\n}\n\nexport { aspectRatio, axisDeltaEquals, axisEquals, axisEqualsRounded, boxEquals, boxEqualsRounded, isDeltaZero };\n","import { addUniqueItem, removeItem } from 'motion-utils';\n\nclass NodeStack {\n    constructor() {\n        this.members = [];\n    }\n    add(node) {\n        addUniqueItem(this.members, node);\n        node.scheduleRender();\n    }\n    remove(node) {\n        removeItem(this.members, node);\n        if (node === this.prevLead) {\n            this.prevLead = undefined;\n        }\n        if (node === this.lead) {\n            const prevLead = this.members[this.members.length - 1];\n            if (prevLead) {\n                this.promote(prevLead);\n            }\n        }\n    }\n    relegate(node) {\n        const indexOfNode = this.members.findIndex((member) => node === member);\n        if (indexOfNode === 0)\n            return false;\n        /**\n         * Find the next projection node that is present\n         */\n        let prevLead;\n        for (let i = indexOfNode; i >= 0; i--) {\n            const member = this.members[i];\n            if (member.isPresent !== false) {\n                prevLead = member;\n                break;\n            }\n        }\n        if (prevLead) {\n            this.promote(prevLead);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    promote(node, preserveFollowOpacity) {\n        const prevLead = this.lead;\n        if (node === prevLead)\n            return;\n        this.prevLead = prevLead;\n        this.lead = node;\n        node.show();\n        if (prevLead) {\n            prevLead.instance && prevLead.scheduleRender();\n            node.scheduleRender();\n            node.resumeFrom = prevLead;\n            if (preserveFollowOpacity) {\n                node.resumeFrom.preserveOpacity = true;\n            }\n            if (prevLead.snapshot) {\n                node.snapshot = prevLead.snapshot;\n                node.snapshot.latestValues =\n                    prevLead.animationValues || prevLead.latestValues;\n            }\n            if (node.root && node.root.isUpdating) {\n                node.isLayoutDirty = true;\n            }\n            const { crossfade } = node.options;\n            if (crossfade === false) {\n                prevLead.hide();\n            }\n            /**\n             * TODO:\n             *   - Test border radius when previous node was deleted\n             *   - boxShadow mixing\n             *   - Shared between element A in scrolled container and element B (scroll stays the same or changes)\n             *   - Shared between element A in transformed container and element B (transform stays the same or changes)\n             *   - Shared between element A in scrolled page and element B (scroll stays the same or changes)\n             * ---\n             *   - Crossfade opacity of root nodes\n             *   - layoutId changes after animation\n             *   - layoutId changes mid animation\n             */\n        }\n    }\n    exitAnimationComplete() {\n        this.members.forEach((node) => {\n            const { options, resumingFrom } = node;\n            options.onExitComplete && options.onExitComplete();\n            if (resumingFrom) {\n                resumingFrom.options.onExitComplete &&\n                    resumingFrom.options.onExitComplete();\n            }\n        });\n    }\n    scheduleRender() {\n        this.members.forEach((node) => {\n            node.instance && node.scheduleRender(false);\n        });\n    }\n    /**\n     * Clear any leads that have been removed this render to prevent them from being\n     * used in future animations and to prevent memory leaks\n     */\n    removeLeadSnapshot() {\n        if (this.lead && this.lead.snapshot) {\n            this.lead.snapshot = undefined;\n        }\n    }\n}\n\nexport { NodeStack };\n","import { statsBuffer, isSVGElement, isSVGSVGElement, frame, getValueTransition, cancelFrame, time, frameData, frameSteps, microtask, activeAnimations, motionValue, mixNumber } from 'motion-dom';\nimport { SubscriptionManager, clamp, noop } from 'motion-utils';\nimport { animateSingleValue } from '../../animation/animate/single-value.mjs';\nimport { getOptimisedAppearId } from '../../animation/optimized-appear/get-appear-id.mjs';\nimport { FlatTree } from '../../render/utils/flat-tree.mjs';\nimport { delay } from '../../utils/delay.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { mixValues } from '../animation/mix-values.mjs';\nimport { copyBoxInto, copyAxisDeltaInto } from '../geometry/copy.mjs';\nimport { translateAxis, transformBox, applyBoxDelta, applyTreeDeltas } from '../geometry/delta-apply.mjs';\nimport { calcLength, calcRelativePosition, calcRelativeBox, calcBoxDelta, isNear } from '../geometry/delta-calc.mjs';\nimport { removeBoxTransforms } from '../geometry/delta-remove.mjs';\nimport { createBox, createDelta } from '../geometry/models.mjs';\nimport { boxEqualsRounded, isDeltaZero, axisDeltaEquals, aspectRatio, boxEquals } from '../geometry/utils.mjs';\nimport { NodeStack } from '../shared/stack.mjs';\nimport { scaleCorrectors } from '../styles/scale-correction.mjs';\nimport { buildProjectionTransform } from '../styles/transform.mjs';\nimport { eachAxis } from '../utils/each-axis.mjs';\nimport { hasTransform, hasScale, has2DTranslate } from '../utils/has-transform.mjs';\nimport { globalProjectionState } from './state.mjs';\n\nconst metrics = {\n    nodes: 0,\n    calculatedTargetDeltas: 0,\n    calculatedProjections: 0,\n};\nconst transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\n/**\n * We use 1000 as the animation target as 0-1000 maps better to pixels than 0-1\n * which has a noticeable difference in spring animations\n */\nconst animationTarget = 1000;\nlet id = 0;\nfunction resetDistortingTransform(key, visualElement, values, sharedAnimationValues) {\n    const { latestValues } = visualElement;\n    // Record the distorting transform and then temporarily set it to 0\n    if (latestValues[key]) {\n        values[key] = latestValues[key];\n        visualElement.setStaticValue(key, 0);\n        if (sharedAnimationValues) {\n            sharedAnimationValues[key] = 0;\n        }\n    }\n}\nfunction cancelTreeOptimisedTransformAnimations(projectionNode) {\n    projectionNode.hasCheckedOptimisedAppear = true;\n    if (projectionNode.root === projectionNode)\n        return;\n    const { visualElement } = projectionNode.options;\n    if (!visualElement)\n        return;\n    const appearId = getOptimisedAppearId(visualElement);\n    if (window.MotionHasOptimisedAnimation(appearId, \"transform\")) {\n        const { layout, layoutId } = projectionNode.options;\n        window.MotionCancelOptimisedAnimation(appearId, \"transform\", frame, !(layout || layoutId));\n    }\n    const { parent } = projectionNode;\n    if (parent && !parent.hasCheckedOptimisedAppear) {\n        cancelTreeOptimisedTransformAnimations(parent);\n    }\n}\nfunction createProjectionNode({ attachResizeListener, defaultParent, measureScroll, checkIsScrollRoot, resetTransform, }) {\n    return class ProjectionNode {\n        constructor(latestValues = {}, parent = defaultParent?.()) {\n            /**\n             * A unique ID generated for every projection node.\n             */\n            this.id = id++;\n            /**\n             * An id that represents a unique session instigated by startUpdate.\n             */\n            this.animationId = 0;\n            this.animationCommitId = 0;\n            /**\n             * A Set containing all this component's children. This is used to iterate\n             * through the children.\n             *\n             * TODO: This could be faster to iterate as a flat array stored on the root node.\n             */\n            this.children = new Set();\n            /**\n             * Options for the node. We use this to configure what kind of layout animations\n             * we should perform (if any).\n             */\n            this.options = {};\n            /**\n             * We use this to detect when its safe to shut down part of a projection tree.\n             * We have to keep projecting children for scale correction and relative projection\n             * until all their parents stop performing layout animations.\n             */\n            this.isTreeAnimating = false;\n            this.isAnimationBlocked = false;\n            /**\n             * Flag to true if we think this layout has been changed. We can't always know this,\n             * currently we set it to true every time a component renders, or if it has a layoutDependency\n             * if that has changed between renders. Additionally, components can be grouped by LayoutGroup\n             * and if one node is dirtied, they all are.\n             */\n            this.isLayoutDirty = false;\n            /**\n             * Flag to true if we think the projection calculations for this node needs\n             * recalculating as a result of an updated transform or layout animation.\n             */\n            this.isProjectionDirty = false;\n            /**\n             * Flag to true if the layout *or* transform has changed. This then gets propagated\n             * throughout the projection tree, forcing any element below to recalculate on the next frame.\n             */\n            this.isSharedProjectionDirty = false;\n            /**\n             * Flag transform dirty. This gets propagated throughout the whole tree but is only\n             * respected by shared nodes.\n             */\n            this.isTransformDirty = false;\n            /**\n             * Block layout updates for instant layout transitions throughout the tree.\n             */\n            this.updateManuallyBlocked = false;\n            this.updateBlockedByResize = false;\n            /**\n             * Set to true between the start of the first `willUpdate` call and the end of the `didUpdate`\n             * call.\n             */\n            this.isUpdating = false;\n            /**\n             * If this is an SVG element we currently disable projection transforms\n             */\n            this.isSVG = false;\n            /**\n             * Flag to true (during promotion) if a node doing an instant layout transition needs to reset\n             * its projection styles.\n             */\n            this.needsReset = false;\n            /**\n             * Flags whether this node should have its transform reset prior to measuring.\n             */\n            this.shouldResetTransform = false;\n            /**\n             * Store whether this node has been checked for optimised appear animations. As\n             * effects fire bottom-up, and we want to look up the tree for appear animations,\n             * this makes sure we only check each path once, stopping at nodes that\n             * have already been checked.\n             */\n            this.hasCheckedOptimisedAppear = false;\n            /**\n             * An object representing the calculated contextual/accumulated/tree scale.\n             * This will be used to scale calculcated projection transforms, as these are\n             * calculated in screen-space but need to be scaled for elements to layoutly\n             * make it to their calculated destinations.\n             *\n             * TODO: Lazy-init\n             */\n            this.treeScale = { x: 1, y: 1 };\n            /**\n             *\n             */\n            this.eventHandlers = new Map();\n            this.hasTreeAnimated = false;\n            // Note: Currently only running on root node\n            this.updateScheduled = false;\n            this.scheduleUpdate = () => this.update();\n            this.projectionUpdateScheduled = false;\n            this.checkUpdateFailed = () => {\n                if (this.isUpdating) {\n                    this.isUpdating = false;\n                    this.clearAllSnapshots();\n                }\n            };\n            /**\n             * This is a multi-step process as shared nodes might be of different depths. Nodes\n             * are sorted by depth order, so we need to resolve the entire tree before moving to\n             * the next step.\n             */\n            this.updateProjection = () => {\n                this.projectionUpdateScheduled = false;\n                /**\n                 * Reset debug counts. Manually resetting rather than creating a new\n                 * object each frame.\n                 */\n                if (statsBuffer.value) {\n                    metrics.nodes =\n                        metrics.calculatedTargetDeltas =\n                            metrics.calculatedProjections =\n                                0;\n                }\n                this.nodes.forEach(propagateDirtyNodes);\n                this.nodes.forEach(resolveTargetDelta);\n                this.nodes.forEach(calcProjection);\n                this.nodes.forEach(cleanDirtyNodes);\n                if (statsBuffer.addProjectionMetrics) {\n                    statsBuffer.addProjectionMetrics(metrics);\n                }\n            };\n            /**\n             * Frame calculations\n             */\n            this.resolvedRelativeTargetAt = 0.0;\n            this.hasProjected = false;\n            this.isVisible = true;\n            this.animationProgress = 0;\n            /**\n             * Shared layout\n             */\n            // TODO Only running on root node\n            this.sharedNodes = new Map();\n            this.latestValues = latestValues;\n            this.root = parent ? parent.root || parent : this;\n            this.path = parent ? [...parent.path, parent] : [];\n            this.parent = parent;\n            this.depth = parent ? parent.depth + 1 : 0;\n            for (let i = 0; i < this.path.length; i++) {\n                this.path[i].shouldResetTransform = true;\n            }\n            if (this.root === this)\n                this.nodes = new FlatTree();\n        }\n        addEventListener(name, handler) {\n            if (!this.eventHandlers.has(name)) {\n                this.eventHandlers.set(name, new SubscriptionManager());\n            }\n            return this.eventHandlers.get(name).add(handler);\n        }\n        notifyListeners(name, ...args) {\n            const subscriptionManager = this.eventHandlers.get(name);\n            subscriptionManager && subscriptionManager.notify(...args);\n        }\n        hasListeners(name) {\n            return this.eventHandlers.has(name);\n        }\n        /**\n         * Lifecycles\n         */\n        mount(instance) {\n            if (this.instance)\n                return;\n            this.isSVG = isSVGElement(instance) && !isSVGSVGElement(instance);\n            this.instance = instance;\n            const { layoutId, layout, visualElement } = this.options;\n            if (visualElement && !visualElement.current) {\n                visualElement.mount(instance);\n            }\n            this.root.nodes.add(this);\n            this.parent && this.parent.children.add(this);\n            if (this.root.hasTreeAnimated && (layout || layoutId)) {\n                this.isLayoutDirty = true;\n            }\n            if (attachResizeListener) {\n                let cancelDelay;\n                let innerWidth = 0;\n                const resizeUnblockUpdate = () => (this.root.updateBlockedByResize = false);\n                // Set initial innerWidth in a frame.read callback to batch the read\n                frame.read(() => {\n                    innerWidth = window.innerWidth;\n                });\n                attachResizeListener(instance, () => {\n                    const newInnerWidth = window.innerWidth;\n                    if (newInnerWidth === innerWidth)\n                        return;\n                    innerWidth = newInnerWidth;\n                    this.root.updateBlockedByResize = true;\n                    cancelDelay && cancelDelay();\n                    cancelDelay = delay(resizeUnblockUpdate, 250);\n                    if (globalProjectionState.hasAnimatedSinceResize) {\n                        globalProjectionState.hasAnimatedSinceResize = false;\n                        this.nodes.forEach(finishAnimation);\n                    }\n                });\n            }\n            if (layoutId) {\n                this.root.registerSharedNode(layoutId, this);\n            }\n            // Only register the handler if it requires layout animation\n            if (this.options.animate !== false &&\n                visualElement &&\n                (layoutId || layout)) {\n                this.addEventListener(\"didUpdate\", ({ delta, hasLayoutChanged, hasRelativeLayoutChanged, layout: newLayout, }) => {\n                    if (this.isTreeAnimationBlocked()) {\n                        this.target = undefined;\n                        this.relativeTarget = undefined;\n                        return;\n                    }\n                    // TODO: Check here if an animation exists\n                    const layoutTransition = this.options.transition ||\n                        visualElement.getDefaultTransition() ||\n                        defaultLayoutTransition;\n                    const { onLayoutAnimationStart, onLayoutAnimationComplete, } = visualElement.getProps();\n                    /**\n                     * The target layout of the element might stay the same,\n                     * but its position relative to its parent has changed.\n                     */\n                    const hasTargetChanged = !this.targetLayout ||\n                        !boxEqualsRounded(this.targetLayout, newLayout);\n                    /*\n                     * Note: Disabled to fix relative animations always triggering new\n                     * layout animations. If this causes further issues, we can try\n                     * a different approach to detecting relative target changes.\n                     */\n                    // || hasRelativeLayoutChanged\n                    /**\n                     * If the layout hasn't seemed to have changed, it might be that the\n                     * element is visually in the same place in the document but its position\n                     * relative to its parent has indeed changed. So here we check for that.\n                     */\n                    const hasOnlyRelativeTargetChanged = !hasLayoutChanged && hasRelativeLayoutChanged;\n                    if (this.options.layoutRoot ||\n                        this.resumeFrom ||\n                        hasOnlyRelativeTargetChanged ||\n                        (hasLayoutChanged &&\n                            (hasTargetChanged || !this.currentAnimation))) {\n                        if (this.resumeFrom) {\n                            this.resumingFrom = this.resumeFrom;\n                            this.resumingFrom.resumingFrom = undefined;\n                        }\n                        const animationOptions = {\n                            ...getValueTransition(layoutTransition, \"layout\"),\n                            onPlay: onLayoutAnimationStart,\n                            onComplete: onLayoutAnimationComplete,\n                        };\n                        if (visualElement.shouldReduceMotion ||\n                            this.options.layoutRoot) {\n                            animationOptions.delay = 0;\n                            animationOptions.type = false;\n                        }\n                        this.startAnimation(animationOptions);\n                        /**\n                         * Set animation origin after starting animation to avoid layout jump\n                         * caused by stopping previous layout animation\n                         */\n                        this.setAnimationOrigin(delta, hasOnlyRelativeTargetChanged);\n                    }\n                    else {\n                        /**\n                         * If the layout hasn't changed and we have an animation that hasn't started yet,\n                         * finish it immediately. Otherwise it will be animating from a location\n                         * that was probably never commited to screen and look like a jumpy box.\n                         */\n                        if (!hasLayoutChanged) {\n                            finishAnimation(this);\n                        }\n                        if (this.isLead() && this.options.onExitComplete) {\n                            this.options.onExitComplete();\n                        }\n                    }\n                    this.targetLayout = newLayout;\n                });\n            }\n        }\n        unmount() {\n            this.options.layoutId && this.willUpdate();\n            this.root.nodes.remove(this);\n            const stack = this.getStack();\n            stack && stack.remove(this);\n            this.parent && this.parent.children.delete(this);\n            this.instance = undefined;\n            this.eventHandlers.clear();\n            cancelFrame(this.updateProjection);\n        }\n        // only on the root\n        blockUpdate() {\n            this.updateManuallyBlocked = true;\n        }\n        unblockUpdate() {\n            this.updateManuallyBlocked = false;\n        }\n        isUpdateBlocked() {\n            return this.updateManuallyBlocked || this.updateBlockedByResize;\n        }\n        isTreeAnimationBlocked() {\n            return (this.isAnimationBlocked ||\n                (this.parent && this.parent.isTreeAnimationBlocked()) ||\n                false);\n        }\n        // Note: currently only running on root node\n        startUpdate() {\n            if (this.isUpdateBlocked())\n                return;\n            this.isUpdating = true;\n            this.nodes && this.nodes.forEach(resetSkewAndRotation);\n            this.animationId++;\n        }\n        getTransformTemplate() {\n            const { visualElement } = this.options;\n            return visualElement && visualElement.getProps().transformTemplate;\n        }\n        willUpdate(shouldNotifyListeners = true) {\n            this.root.hasTreeAnimated = true;\n            if (this.root.isUpdateBlocked()) {\n                this.options.onExitComplete && this.options.onExitComplete();\n                return;\n            }\n            /**\n             * If we're running optimised appear animations then these must be\n             * cancelled before measuring the DOM. This is so we can measure\n             * the true layout of the element rather than the WAAPI animation\n             * which will be unaffected by the resetSkewAndRotate step.\n             *\n             * Note: This is a DOM write. Worst case scenario is this is sandwiched\n             * between other snapshot reads which will cause unnecessary style recalculations.\n             * This has to happen here though, as we don't yet know which nodes will need\n             * snapshots in startUpdate(), but we only want to cancel optimised animations\n             * if a layout animation measurement is actually going to be affected by them.\n             */\n            if (window.MotionCancelOptimisedAnimation &&\n                !this.hasCheckedOptimisedAppear) {\n                cancelTreeOptimisedTransformAnimations(this);\n            }\n            !this.root.isUpdating && this.root.startUpdate();\n            if (this.isLayoutDirty)\n                return;\n            this.isLayoutDirty = true;\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                node.shouldResetTransform = true;\n                node.updateScroll(\"snapshot\");\n                if (node.options.layoutRoot) {\n                    node.willUpdate(false);\n                }\n            }\n            const { layoutId, layout } = this.options;\n            if (layoutId === undefined && !layout)\n                return;\n            const transformTemplate = this.getTransformTemplate();\n            this.prevTransformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            this.updateSnapshot();\n            shouldNotifyListeners && this.notifyListeners(\"willUpdate\");\n        }\n        update() {\n            this.updateScheduled = false;\n            const updateWasBlocked = this.isUpdateBlocked();\n            // When doing an instant transition, we skip the layout update,\n            // but should still clean up the measurements so that the next\n            // snapshot could be taken correctly.\n            if (updateWasBlocked) {\n                this.unblockUpdate();\n                this.clearAllSnapshots();\n                this.nodes.forEach(clearMeasurements);\n                return;\n            }\n            /**\n             * If this is a repeat of didUpdate then ignore the animation.\n             */\n            if (this.animationId <= this.animationCommitId) {\n                this.nodes.forEach(clearIsLayoutDirty);\n                return;\n            }\n            this.animationCommitId = this.animationId;\n            if (!this.isUpdating) {\n                this.nodes.forEach(clearIsLayoutDirty);\n            }\n            else {\n                this.isUpdating = false;\n                /**\n                 * Write\n                 */\n                this.nodes.forEach(resetTransformStyle);\n                /**\n                 * Read ==================\n                 */\n                // Update layout measurements of updated children\n                this.nodes.forEach(updateLayout);\n                /**\n                 * Write\n                 */\n                // Notify listeners that the layout is updated\n                this.nodes.forEach(notifyLayoutUpdate);\n            }\n            this.clearAllSnapshots();\n            /**\n             * Manually flush any pending updates. Ideally\n             * we could leave this to the following requestAnimationFrame but this seems\n             * to leave a flash of incorrectly styled content.\n             */\n            const now = time.now();\n            frameData.delta = clamp(0, 1000 / 60, now - frameData.timestamp);\n            frameData.timestamp = now;\n            frameData.isProcessing = true;\n            frameSteps.update.process(frameData);\n            frameSteps.preRender.process(frameData);\n            frameSteps.render.process(frameData);\n            frameData.isProcessing = false;\n        }\n        didUpdate() {\n            if (!this.updateScheduled) {\n                this.updateScheduled = true;\n                microtask.read(this.scheduleUpdate);\n            }\n        }\n        clearAllSnapshots() {\n            this.nodes.forEach(clearSnapshot);\n            this.sharedNodes.forEach(removeLeadSnapshots);\n        }\n        scheduleUpdateProjection() {\n            if (!this.projectionUpdateScheduled) {\n                this.projectionUpdateScheduled = true;\n                frame.preRender(this.updateProjection, false, true);\n            }\n        }\n        scheduleCheckAfterUnmount() {\n            /**\n             * If the unmounting node is in a layoutGroup and did trigger a willUpdate,\n             * we manually call didUpdate to give a chance to the siblings to animate.\n             * Otherwise, cleanup all snapshots to prevents future nodes from reusing them.\n             */\n            frame.postRender(() => {\n                if (this.isLayoutDirty) {\n                    this.root.didUpdate();\n                }\n                else {\n                    this.root.checkUpdateFailed();\n                }\n            });\n        }\n        /**\n         * Update measurements\n         */\n        updateSnapshot() {\n            if (this.snapshot || !this.instance)\n                return;\n            this.snapshot = this.measure();\n            if (this.snapshot &&\n                !calcLength(this.snapshot.measuredBox.x) &&\n                !calcLength(this.snapshot.measuredBox.y)) {\n                this.snapshot = undefined;\n            }\n        }\n        updateLayout() {\n            if (!this.instance)\n                return;\n            this.updateScroll();\n            if (!(this.options.alwaysMeasureLayout && this.isLead()) &&\n                !this.isLayoutDirty) {\n                return;\n            }\n            /**\n             * When a node is mounted, it simply resumes from the prevLead's\n             * snapshot instead of taking a new one, but the ancestors scroll\n             * might have updated while the prevLead is unmounted. We need to\n             * update the scroll again to make sure the layout we measure is\n             * up to date.\n             */\n            if (this.resumeFrom && !this.resumeFrom.instance) {\n                for (let i = 0; i < this.path.length; i++) {\n                    const node = this.path[i];\n                    node.updateScroll();\n                }\n            }\n            const prevLayout = this.layout;\n            this.layout = this.measure(false);\n            this.layoutCorrected = createBox();\n            this.isLayoutDirty = false;\n            this.projectionDelta = undefined;\n            this.notifyListeners(\"measure\", this.layout.layoutBox);\n            const { visualElement } = this.options;\n            visualElement &&\n                visualElement.notify(\"LayoutMeasure\", this.layout.layoutBox, prevLayout ? prevLayout.layoutBox : undefined);\n        }\n        updateScroll(phase = \"measure\") {\n            let needsMeasurement = Boolean(this.options.layoutScroll && this.instance);\n            if (this.scroll &&\n                this.scroll.animationId === this.root.animationId &&\n                this.scroll.phase === phase) {\n                needsMeasurement = false;\n            }\n            if (needsMeasurement && this.instance) {\n                const isRoot = checkIsScrollRoot(this.instance);\n                this.scroll = {\n                    animationId: this.root.animationId,\n                    phase,\n                    isRoot,\n                    offset: measureScroll(this.instance),\n                    wasRoot: this.scroll ? this.scroll.isRoot : isRoot,\n                };\n            }\n        }\n        resetTransform() {\n            if (!resetTransform)\n                return;\n            const isResetRequested = this.isLayoutDirty ||\n                this.shouldResetTransform ||\n                this.options.alwaysMeasureLayout;\n            const hasProjection = this.projectionDelta && !isDeltaZero(this.projectionDelta);\n            const transformTemplate = this.getTransformTemplate();\n            const transformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            const transformTemplateHasChanged = transformTemplateValue !== this.prevTransformTemplateValue;\n            if (isResetRequested &&\n                this.instance &&\n                (hasProjection ||\n                    hasTransform(this.latestValues) ||\n                    transformTemplateHasChanged)) {\n                resetTransform(this.instance, transformTemplateValue);\n                this.shouldResetTransform = false;\n                this.scheduleRender();\n            }\n        }\n        measure(removeTransform = true) {\n            const pageBox = this.measurePageBox();\n            let layoutBox = this.removeElementScroll(pageBox);\n            /**\n             * Measurements taken during the pre-render stage\n             * still have transforms applied so we remove them\n             * via calculation.\n             */\n            if (removeTransform) {\n                layoutBox = this.removeTransform(layoutBox);\n            }\n            roundBox(layoutBox);\n            return {\n                animationId: this.root.animationId,\n                measuredBox: pageBox,\n                layoutBox,\n                latestValues: {},\n                source: this.id,\n            };\n        }\n        measurePageBox() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return createBox();\n            const box = visualElement.measureViewportBox();\n            const wasInScrollRoot = this.scroll?.wasRoot || this.path.some(checkNodeWasScrollRoot);\n            if (!wasInScrollRoot) {\n                // Remove viewport scroll to give page-relative coordinates\n                const { scroll } = this.root;\n                if (scroll) {\n                    translateAxis(box.x, scroll.offset.x);\n                    translateAxis(box.y, scroll.offset.y);\n                }\n            }\n            return box;\n        }\n        removeElementScroll(box) {\n            const boxWithoutScroll = createBox();\n            copyBoxInto(boxWithoutScroll, box);\n            if (this.scroll?.wasRoot) {\n                return boxWithoutScroll;\n            }\n            /**\n             * Performance TODO: Keep a cumulative scroll offset down the tree\n             * rather than loop back up the path.\n             */\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                const { scroll, options } = node;\n                if (node !== this.root && scroll && options.layoutScroll) {\n                    /**\n                     * If this is a new scroll root, we want to remove all previous scrolls\n                     * from the viewport box.\n                     */\n                    if (scroll.wasRoot) {\n                        copyBoxInto(boxWithoutScroll, box);\n                    }\n                    translateAxis(boxWithoutScroll.x, scroll.offset.x);\n                    translateAxis(boxWithoutScroll.y, scroll.offset.y);\n                }\n            }\n            return boxWithoutScroll;\n        }\n        applyTransform(box, transformOnly = false) {\n            const withTransforms = createBox();\n            copyBoxInto(withTransforms, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!transformOnly &&\n                    node.options.layoutScroll &&\n                    node.scroll &&\n                    node !== node.root) {\n                    transformBox(withTransforms, {\n                        x: -node.scroll.offset.x,\n                        y: -node.scroll.offset.y,\n                    });\n                }\n                if (!hasTransform(node.latestValues))\n                    continue;\n                transformBox(withTransforms, node.latestValues);\n            }\n            if (hasTransform(this.latestValues)) {\n                transformBox(withTransforms, this.latestValues);\n            }\n            return withTransforms;\n        }\n        removeTransform(box) {\n            const boxWithoutTransform = createBox();\n            copyBoxInto(boxWithoutTransform, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!node.instance)\n                    continue;\n                if (!hasTransform(node.latestValues))\n                    continue;\n                hasScale(node.latestValues) && node.updateSnapshot();\n                const sourceBox = createBox();\n                const nodeBox = node.measurePageBox();\n                copyBoxInto(sourceBox, nodeBox);\n                removeBoxTransforms(boxWithoutTransform, node.latestValues, node.snapshot ? node.snapshot.layoutBox : undefined, sourceBox);\n            }\n            if (hasTransform(this.latestValues)) {\n                removeBoxTransforms(boxWithoutTransform, this.latestValues);\n            }\n            return boxWithoutTransform;\n        }\n        setTargetDelta(delta) {\n            this.targetDelta = delta;\n            this.root.scheduleUpdateProjection();\n            this.isProjectionDirty = true;\n        }\n        setOptions(options) {\n            this.options = {\n                ...this.options,\n                ...options,\n                crossfade: options.crossfade !== undefined ? options.crossfade : true,\n            };\n        }\n        clearMeasurements() {\n            this.scroll = undefined;\n            this.layout = undefined;\n            this.snapshot = undefined;\n            this.prevTransformTemplateValue = undefined;\n            this.targetDelta = undefined;\n            this.target = undefined;\n            this.isLayoutDirty = false;\n        }\n        forceRelativeParentToResolveTarget() {\n            if (!this.relativeParent)\n                return;\n            /**\n             * If the parent target isn't up-to-date, force it to update.\n             * This is an unfortunate de-optimisation as it means any updating relative\n             * projection will cause all the relative parents to recalculate back\n             * up the tree.\n             */\n            if (this.relativeParent.resolvedRelativeTargetAt !==\n                frameData.timestamp) {\n                this.relativeParent.resolveTargetDelta(true);\n            }\n        }\n        resolveTargetDelta(forceRecalculation = false) {\n            /**\n             * Once the dirty status of nodes has been spread through the tree, we also\n             * need to check if we have a shared node of a different depth that has itself\n             * been dirtied.\n             */\n            const lead = this.getLead();\n            this.isProjectionDirty || (this.isProjectionDirty = lead.isProjectionDirty);\n            this.isTransformDirty || (this.isTransformDirty = lead.isTransformDirty);\n            this.isSharedProjectionDirty || (this.isSharedProjectionDirty = lead.isSharedProjectionDirty);\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            /**\n             * We don't use transform for this step of processing so we don't\n             * need to check whether any nodes have changed transform.\n             */\n            const canSkip = !(forceRecalculation ||\n                (isShared && this.isSharedProjectionDirty) ||\n                this.isProjectionDirty ||\n                this.parent?.isProjectionDirty ||\n                this.attemptToResolveRelativeTarget ||\n                this.root.updateBlockedByResize);\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If we have no layout, we can't perform projection, so early return\n             */\n            if (!this.layout || !(layout || layoutId))\n                return;\n            this.resolvedRelativeTargetAt = frameData.timestamp;\n            /**\n             * If we don't have a targetDelta but do have a layout, we can attempt to resolve\n             * a relativeParent. This will allow a component to perform scale correction\n             * even if no animation has started.\n             */\n            if (!this.targetDelta && !this.relativeTarget) {\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    relativeParent.layout &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.layout.layoutBox, relativeParent.layout.layoutBox);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * If we have no relative target or no target delta our target isn't valid\n             * for this frame.\n             */\n            if (!this.relativeTarget && !this.targetDelta)\n                return;\n            /**\n             * Lazy-init target data structure\n             */\n            if (!this.target) {\n                this.target = createBox();\n                this.targetWithTransforms = createBox();\n            }\n            /**\n             * If we've got a relative box for this component, resolve it into a target relative to the parent.\n             */\n            if (this.relativeTarget &&\n                this.relativeTargetOrigin &&\n                this.relativeParent &&\n                this.relativeParent.target) {\n                this.forceRelativeParentToResolveTarget();\n                calcRelativeBox(this.target, this.relativeTarget, this.relativeParent.target);\n                /**\n                 * If we've only got a targetDelta, resolve it into a target\n                 */\n            }\n            else if (this.targetDelta) {\n                if (Boolean(this.resumingFrom)) {\n                    // TODO: This is creating a new object every frame\n                    this.target = this.applyTransform(this.layout.layoutBox);\n                }\n                else {\n                    copyBoxInto(this.target, this.layout.layoutBox);\n                }\n                applyBoxDelta(this.target, this.targetDelta);\n            }\n            else {\n                /**\n                 * If no target, use own layout as target\n                 */\n                copyBoxInto(this.target, this.layout.layoutBox);\n            }\n            /**\n             * If we've been told to attempt to resolve a relative target, do so.\n             */\n            if (this.attemptToResolveRelativeTarget) {\n                this.attemptToResolveRelativeTarget = false;\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    Boolean(relativeParent.resumingFrom) ===\n                        Boolean(this.resumingFrom) &&\n                    !relativeParent.options.layoutScroll &&\n                    relativeParent.target &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.target, relativeParent.target);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * Increase debug counter for resolved target deltas\n             */\n            if (statsBuffer.value) {\n                metrics.calculatedTargetDeltas++;\n            }\n        }\n        getClosestProjectingParent() {\n            if (!this.parent ||\n                hasScale(this.parent.latestValues) ||\n                has2DTranslate(this.parent.latestValues)) {\n                return undefined;\n            }\n            if (this.parent.isProjecting()) {\n                return this.parent;\n            }\n            else {\n                return this.parent.getClosestProjectingParent();\n            }\n        }\n        isProjecting() {\n            return Boolean((this.relativeTarget ||\n                this.targetDelta ||\n                this.options.layoutRoot) &&\n                this.layout);\n        }\n        calcProjection() {\n            const lead = this.getLead();\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            let canSkip = true;\n            /**\n             * If this is a normal layout animation and neither this node nor its nearest projecting\n             * is dirty then we can't skip.\n             */\n            if (this.isProjectionDirty || this.parent?.isProjectionDirty) {\n                canSkip = false;\n            }\n            /**\n             * If this is a shared layout animation and this node's shared projection is dirty then\n             * we can't skip.\n             */\n            if (isShared &&\n                (this.isSharedProjectionDirty || this.isTransformDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If we have resolved the target this frame we must recalculate the\n             * projection to ensure it visually represents the internal calculations.\n             */\n            if (this.resolvedRelativeTargetAt === frameData.timestamp) {\n                canSkip = false;\n            }\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If this section of the tree isn't animating we can\n             * delete our target sources for the following frame.\n             */\n            this.isTreeAnimating = Boolean((this.parent && this.parent.isTreeAnimating) ||\n                this.currentAnimation ||\n                this.pendingAnimation);\n            if (!this.isTreeAnimating) {\n                this.targetDelta = this.relativeTarget = undefined;\n            }\n            if (!this.layout || !(layout || layoutId))\n                return;\n            /**\n             * Reset the corrected box with the latest values from box, as we're then going\n             * to perform mutative operations on it.\n             */\n            copyBoxInto(this.layoutCorrected, this.layout.layoutBox);\n            /**\n             * Record previous tree scales before updating.\n             */\n            const prevTreeScaleX = this.treeScale.x;\n            const prevTreeScaleY = this.treeScale.y;\n            /**\n             * Apply all the parent deltas to this box to produce the corrected box. This\n             * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n             */\n            applyTreeDeltas(this.layoutCorrected, this.treeScale, this.path, isShared);\n            /**\n             * If this layer needs to perform scale correction but doesn't have a target,\n             * use the layout as the target.\n             */\n            if (lead.layout &&\n                !lead.target &&\n                (this.treeScale.x !== 1 || this.treeScale.y !== 1)) {\n                lead.target = lead.layout.layoutBox;\n                lead.targetWithTransforms = createBox();\n            }\n            const { target } = lead;\n            if (!target) {\n                /**\n                 * If we don't have a target to project into, but we were previously\n                 * projecting, we want to remove the stored transform and schedule\n                 * a render to ensure the elements reflect the removed transform.\n                 */\n                if (this.prevProjectionDelta) {\n                    this.createProjectionDeltas();\n                    this.scheduleRender();\n                }\n                return;\n            }\n            if (!this.projectionDelta || !this.prevProjectionDelta) {\n                this.createProjectionDeltas();\n            }\n            else {\n                copyAxisDeltaInto(this.prevProjectionDelta.x, this.projectionDelta.x);\n                copyAxisDeltaInto(this.prevProjectionDelta.y, this.projectionDelta.y);\n            }\n            /**\n             * Update the delta between the corrected box and the target box before user-set transforms were applied.\n             * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n             * for our layout reprojection, but still allow them to be scaled correctly by the user.\n             * It might be that to simplify this we may want to accept that user-set scale is also corrected\n             * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n             * to allow people to choose whether these styles are corrected based on just the\n             * layout reprojection or the final bounding box.\n             */\n            calcBoxDelta(this.projectionDelta, this.layoutCorrected, target, this.latestValues);\n            if (this.treeScale.x !== prevTreeScaleX ||\n                this.treeScale.y !== prevTreeScaleY ||\n                !axisDeltaEquals(this.projectionDelta.x, this.prevProjectionDelta.x) ||\n                !axisDeltaEquals(this.projectionDelta.y, this.prevProjectionDelta.y)) {\n                this.hasProjected = true;\n                this.scheduleRender();\n                this.notifyListeners(\"projectionUpdate\", target);\n            }\n            /**\n             * Increase debug counter for recalculated projections\n             */\n            if (statsBuffer.value) {\n                metrics.calculatedProjections++;\n            }\n        }\n        hide() {\n            this.isVisible = false;\n            // TODO: Schedule render\n        }\n        show() {\n            this.isVisible = true;\n            // TODO: Schedule render\n        }\n        scheduleRender(notifyAll = true) {\n            this.options.visualElement?.scheduleRender();\n            if (notifyAll) {\n                const stack = this.getStack();\n                stack && stack.scheduleRender();\n            }\n            if (this.resumingFrom && !this.resumingFrom.instance) {\n                this.resumingFrom = undefined;\n            }\n        }\n        createProjectionDeltas() {\n            this.prevProjectionDelta = createDelta();\n            this.projectionDelta = createDelta();\n            this.projectionDeltaWithTransform = createDelta();\n        }\n        setAnimationOrigin(delta, hasOnlyRelativeTargetChanged = false) {\n            const snapshot = this.snapshot;\n            const snapshotLatestValues = snapshot ? snapshot.latestValues : {};\n            const mixedValues = { ...this.latestValues };\n            const targetDelta = createDelta();\n            if (!this.relativeParent ||\n                !this.relativeParent.options.layoutRoot) {\n                this.relativeTarget = this.relativeTargetOrigin = undefined;\n            }\n            this.attemptToResolveRelativeTarget = !hasOnlyRelativeTargetChanged;\n            const relativeLayout = createBox();\n            const snapshotSource = snapshot ? snapshot.source : undefined;\n            const layoutSource = this.layout ? this.layout.source : undefined;\n            const isSharedLayoutAnimation = snapshotSource !== layoutSource;\n            const stack = this.getStack();\n            const isOnlyMember = !stack || stack.members.length <= 1;\n            const shouldCrossfadeOpacity = Boolean(isSharedLayoutAnimation &&\n                !isOnlyMember &&\n                this.options.crossfade === true &&\n                !this.path.some(hasOpacityCrossfade));\n            this.animationProgress = 0;\n            let prevRelativeTarget;\n            this.mixTargetDelta = (latest) => {\n                const progress = latest / 1000;\n                mixAxisDelta(targetDelta.x, delta.x, progress);\n                mixAxisDelta(targetDelta.y, delta.y, progress);\n                this.setTargetDelta(targetDelta);\n                if (this.relativeTarget &&\n                    this.relativeTargetOrigin &&\n                    this.layout &&\n                    this.relativeParent &&\n                    this.relativeParent.layout) {\n                    calcRelativePosition(relativeLayout, this.layout.layoutBox, this.relativeParent.layout.layoutBox);\n                    mixBox(this.relativeTarget, this.relativeTargetOrigin, relativeLayout, progress);\n                    /**\n                     * If this is an unchanged relative target we can consider the\n                     * projection not dirty.\n                     */\n                    if (prevRelativeTarget &&\n                        boxEquals(this.relativeTarget, prevRelativeTarget)) {\n                        this.isProjectionDirty = false;\n                    }\n                    if (!prevRelativeTarget)\n                        prevRelativeTarget = createBox();\n                    copyBoxInto(prevRelativeTarget, this.relativeTarget);\n                }\n                if (isSharedLayoutAnimation) {\n                    this.animationValues = mixedValues;\n                    mixValues(mixedValues, snapshotLatestValues, this.latestValues, progress, shouldCrossfadeOpacity, isOnlyMember);\n                }\n                this.root.scheduleUpdateProjection();\n                this.scheduleRender();\n                this.animationProgress = progress;\n            };\n            this.mixTargetDelta(this.options.layoutRoot ? 1000 : 0);\n        }\n        startAnimation(options) {\n            this.notifyListeners(\"animationStart\");\n            this.currentAnimation?.stop();\n            this.resumingFrom?.currentAnimation?.stop();\n            if (this.pendingAnimation) {\n                cancelFrame(this.pendingAnimation);\n                this.pendingAnimation = undefined;\n            }\n            /**\n             * Start the animation in the next frame to have a frame with progress 0,\n             * where the target is the same as when the animation started, so we can\n             * calculate the relative positions correctly for instant transitions.\n             */\n            this.pendingAnimation = frame.update(() => {\n                globalProjectionState.hasAnimatedSinceResize = true;\n                activeAnimations.layout++;\n                this.motionValue || (this.motionValue = motionValue(0));\n                this.currentAnimation = animateSingleValue(this.motionValue, [0, 1000], {\n                    ...options,\n                    velocity: 0,\n                    isSync: true,\n                    onUpdate: (latest) => {\n                        this.mixTargetDelta(latest);\n                        options.onUpdate && options.onUpdate(latest);\n                    },\n                    onStop: () => {\n                        activeAnimations.layout--;\n                    },\n                    onComplete: () => {\n                        activeAnimations.layout--;\n                        options.onComplete && options.onComplete();\n                        this.completeAnimation();\n                    },\n                });\n                if (this.resumingFrom) {\n                    this.resumingFrom.currentAnimation = this.currentAnimation;\n                }\n                this.pendingAnimation = undefined;\n            });\n        }\n        completeAnimation() {\n            if (this.resumingFrom) {\n                this.resumingFrom.currentAnimation = undefined;\n                this.resumingFrom.preserveOpacity = undefined;\n            }\n            const stack = this.getStack();\n            stack && stack.exitAnimationComplete();\n            this.resumingFrom =\n                this.currentAnimation =\n                    this.animationValues =\n                        undefined;\n            this.notifyListeners(\"animationComplete\");\n        }\n        finishAnimation() {\n            if (this.currentAnimation) {\n                this.mixTargetDelta && this.mixTargetDelta(animationTarget);\n                this.currentAnimation.stop();\n            }\n            this.completeAnimation();\n        }\n        applyTransformsToTarget() {\n            const lead = this.getLead();\n            let { targetWithTransforms, target, layout, latestValues } = lead;\n            if (!targetWithTransforms || !target || !layout)\n                return;\n            /**\n             * If we're only animating position, and this element isn't the lead element,\n             * then instead of projecting into the lead box we instead want to calculate\n             * a new target that aligns the two boxes but maintains the layout shape.\n             */\n            if (this !== lead &&\n                this.layout &&\n                layout &&\n                shouldAnimatePositionOnly(this.options.animationType, this.layout.layoutBox, layout.layoutBox)) {\n                target = this.target || createBox();\n                const xLength = calcLength(this.layout.layoutBox.x);\n                target.x.min = lead.target.x.min;\n                target.x.max = target.x.min + xLength;\n                const yLength = calcLength(this.layout.layoutBox.y);\n                target.y.min = lead.target.y.min;\n                target.y.max = target.y.min + yLength;\n            }\n            copyBoxInto(targetWithTransforms, target);\n            /**\n             * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n             * This is the final box that we will then project into by calculating a transform delta and\n             * applying it to the corrected box.\n             */\n            transformBox(targetWithTransforms, latestValues);\n            /**\n             * Update the delta between the corrected box and the final target box, after\n             * user-set transforms are applied to it. This will be used by the renderer to\n             * create a transform style that will reproject the element from its layout layout\n             * into the desired bounding box.\n             */\n            calcBoxDelta(this.projectionDeltaWithTransform, this.layoutCorrected, targetWithTransforms, latestValues);\n        }\n        registerSharedNode(layoutId, node) {\n            if (!this.sharedNodes.has(layoutId)) {\n                this.sharedNodes.set(layoutId, new NodeStack());\n            }\n            const stack = this.sharedNodes.get(layoutId);\n            stack.add(node);\n            const config = node.options.initialPromotionConfig;\n            node.promote({\n                transition: config ? config.transition : undefined,\n                preserveFollowOpacity: config && config.shouldPreserveFollowOpacity\n                    ? config.shouldPreserveFollowOpacity(node)\n                    : undefined,\n            });\n        }\n        isLead() {\n            const stack = this.getStack();\n            return stack ? stack.lead === this : true;\n        }\n        getLead() {\n            const { layoutId } = this.options;\n            return layoutId ? this.getStack()?.lead || this : this;\n        }\n        getPrevLead() {\n            const { layoutId } = this.options;\n            return layoutId ? this.getStack()?.prevLead : undefined;\n        }\n        getStack() {\n            const { layoutId } = this.options;\n            if (layoutId)\n                return this.root.sharedNodes.get(layoutId);\n        }\n        promote({ needsReset, transition, preserveFollowOpacity, } = {}) {\n            const stack = this.getStack();\n            if (stack)\n                stack.promote(this, preserveFollowOpacity);\n            if (needsReset) {\n                this.projectionDelta = undefined;\n                this.needsReset = true;\n            }\n            if (transition)\n                this.setOptions({ transition });\n        }\n        relegate() {\n            const stack = this.getStack();\n            if (stack) {\n                return stack.relegate(this);\n            }\n            else {\n                return false;\n            }\n        }\n        resetSkewAndRotation() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return;\n            // If there's no detected skew or rotation values, we can early return without a forced render.\n            let hasDistortingTransform = false;\n            /**\n             * An unrolled check for rotation values. Most elements don't have any rotation and\n             * skipping the nested loop and new object creation is 50% faster.\n             */\n            const { latestValues } = visualElement;\n            if (latestValues.z ||\n                latestValues.rotate ||\n                latestValues.rotateX ||\n                latestValues.rotateY ||\n                latestValues.rotateZ ||\n                latestValues.skewX ||\n                latestValues.skewY) {\n                hasDistortingTransform = true;\n            }\n            // If there's no distorting values, we don't need to do any more.\n            if (!hasDistortingTransform)\n                return;\n            const resetValues = {};\n            if (latestValues.z) {\n                resetDistortingTransform(\"z\", visualElement, resetValues, this.animationValues);\n            }\n            // Check the skew and rotate value of all axes and reset to 0\n            for (let i = 0; i < transformAxes.length; i++) {\n                resetDistortingTransform(`rotate${transformAxes[i]}`, visualElement, resetValues, this.animationValues);\n                resetDistortingTransform(`skew${transformAxes[i]}`, visualElement, resetValues, this.animationValues);\n            }\n            // Force a render of this element to apply the transform with all skews and rotations\n            // set to 0.\n            visualElement.render();\n            // Put back all the values we reset\n            for (const key in resetValues) {\n                visualElement.setStaticValue(key, resetValues[key]);\n                if (this.animationValues) {\n                    this.animationValues[key] = resetValues[key];\n                }\n            }\n            // Schedule a render for the next frame. This ensures we won't visually\n            // see the element with the reset rotate value applied.\n            visualElement.scheduleRender();\n        }\n        applyProjectionStyles(targetStyle, // CSSStyleDeclaration - doesn't allow numbers to be assigned to properties\n        styleProp) {\n            if (!this.instance || this.isSVG)\n                return;\n            if (!this.isVisible) {\n                targetStyle.visibility = \"hidden\";\n                return;\n            }\n            const transformTemplate = this.getTransformTemplate();\n            if (this.needsReset) {\n                this.needsReset = false;\n                targetStyle.visibility = \"\";\n                targetStyle.opacity = \"\";\n                targetStyle.pointerEvents =\n                    resolveMotionValue(styleProp?.pointerEvents) || \"\";\n                targetStyle.transform = transformTemplate\n                    ? transformTemplate(this.latestValues, \"\")\n                    : \"none\";\n                return;\n            }\n            const lead = this.getLead();\n            if (!this.projectionDelta || !this.layout || !lead.target) {\n                if (this.options.layoutId) {\n                    targetStyle.opacity =\n                        this.latestValues.opacity !== undefined\n                            ? this.latestValues.opacity\n                            : 1;\n                    targetStyle.pointerEvents =\n                        resolveMotionValue(styleProp?.pointerEvents) || \"\";\n                }\n                if (this.hasProjected && !hasTransform(this.latestValues)) {\n                    targetStyle.transform = transformTemplate\n                        ? transformTemplate({}, \"\")\n                        : \"none\";\n                    this.hasProjected = false;\n                }\n                return;\n            }\n            targetStyle.visibility = \"\";\n            const valuesToRender = lead.animationValues || lead.latestValues;\n            this.applyTransformsToTarget();\n            let transform = buildProjectionTransform(this.projectionDeltaWithTransform, this.treeScale, valuesToRender);\n            if (transformTemplate) {\n                transform = transformTemplate(valuesToRender, transform);\n            }\n            targetStyle.transform = transform;\n            const { x, y } = this.projectionDelta;\n            targetStyle.transformOrigin = `${x.origin * 100}% ${y.origin * 100}% 0`;\n            if (lead.animationValues) {\n                /**\n                 * If the lead component is animating, assign this either the entering/leaving\n                 * opacity\n                 */\n                targetStyle.opacity =\n                    lead === this\n                        ? valuesToRender.opacity ??\n                            this.latestValues.opacity ??\n                            1\n                        : this.preserveOpacity\n                            ? this.latestValues.opacity\n                            : valuesToRender.opacityExit;\n            }\n            else {\n                /**\n                 * Or we're not animating at all, set the lead component to its layout\n                 * opacity and other components to hidden.\n                 */\n                targetStyle.opacity =\n                    lead === this\n                        ? valuesToRender.opacity !== undefined\n                            ? valuesToRender.opacity\n                            : \"\"\n                        : valuesToRender.opacityExit !== undefined\n                            ? valuesToRender.opacityExit\n                            : 0;\n            }\n            /**\n             * Apply scale correction\n             */\n            for (const key in scaleCorrectors) {\n                if (valuesToRender[key] === undefined)\n                    continue;\n                const { correct, applyTo, isCSSVariable } = scaleCorrectors[key];\n                /**\n                 * Only apply scale correction to the value if we have an\n                 * active projection transform. Otherwise these values become\n                 * vulnerable to distortion if the element changes size without\n                 * a corresponding layout animation.\n                 */\n                const corrected = transform === \"none\"\n                    ? valuesToRender[key]\n                    : correct(valuesToRender[key], lead);\n                if (applyTo) {\n                    const num = applyTo.length;\n                    for (let i = 0; i < num; i++) {\n                        targetStyle[applyTo[i]] = corrected;\n                    }\n                }\n                else {\n                    // If this is a CSS variable, set it directly on the instance.\n                    // Replacing this function from creating styles to setting them\n                    // would be a good place to remove per frame object creation\n                    if (isCSSVariable) {\n                        this.options.visualElement.renderState.vars[key] = corrected;\n                    }\n                    else {\n                        targetStyle[key] = corrected;\n                    }\n                }\n            }\n            /**\n             * Disable pointer events on follow components. This is to ensure\n             * that if a follow component covers a lead component it doesn't block\n             * pointer events on the lead.\n             */\n            if (this.options.layoutId) {\n                targetStyle.pointerEvents =\n                    lead === this\n                        ? resolveMotionValue(styleProp?.pointerEvents) || \"\"\n                        : \"none\";\n            }\n        }\n        clearSnapshot() {\n            this.resumeFrom = this.snapshot = undefined;\n        }\n        // Only run on root\n        resetTree() {\n            this.root.nodes.forEach((node) => node.currentAnimation?.stop());\n            this.root.nodes.forEach(clearMeasurements);\n            this.root.sharedNodes.clear();\n        }\n    };\n}\nfunction updateLayout(node) {\n    node.updateLayout();\n}\nfunction notifyLayoutUpdate(node) {\n    const snapshot = node.resumeFrom?.snapshot || node.snapshot;\n    if (node.isLead() &&\n        node.layout &&\n        snapshot &&\n        node.hasListeners(\"didUpdate\")) {\n        const { layoutBox: layout, measuredBox: measuredLayout } = node.layout;\n        const { animationType } = node.options;\n        const isShared = snapshot.source !== node.layout.source;\n        // TODO Maybe we want to also resize the layout snapshot so we don't trigger\n        // animations for instance if layout=\"size\" and an element has only changed position\n        if (animationType === \"size\") {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(axisSnapshot);\n                axisSnapshot.min = layout[axis].min;\n                axisSnapshot.max = axisSnapshot.min + length;\n            });\n        }\n        else if (shouldAnimatePositionOnly(animationType, snapshot.layoutBox, layout)) {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(layout[axis]);\n                axisSnapshot.max = axisSnapshot.min + length;\n                /**\n                 * Ensure relative target gets resized and rerendererd\n                 */\n                if (node.relativeTarget && !node.currentAnimation) {\n                    node.isProjectionDirty = true;\n                    node.relativeTarget[axis].max =\n                        node.relativeTarget[axis].min + length;\n                }\n            });\n        }\n        const layoutDelta = createDelta();\n        calcBoxDelta(layoutDelta, layout, snapshot.layoutBox);\n        const visualDelta = createDelta();\n        if (isShared) {\n            calcBoxDelta(visualDelta, node.applyTransform(measuredLayout, true), snapshot.measuredBox);\n        }\n        else {\n            calcBoxDelta(visualDelta, layout, snapshot.layoutBox);\n        }\n        const hasLayoutChanged = !isDeltaZero(layoutDelta);\n        let hasRelativeLayoutChanged = false;\n        if (!node.resumeFrom) {\n            const relativeParent = node.getClosestProjectingParent();\n            /**\n             * If the relativeParent is itself resuming from a different element then\n             * the relative snapshot is not relavent\n             */\n            if (relativeParent && !relativeParent.resumeFrom) {\n                const { snapshot: parentSnapshot, layout: parentLayout } = relativeParent;\n                if (parentSnapshot && parentLayout) {\n                    const relativeSnapshot = createBox();\n                    calcRelativePosition(relativeSnapshot, snapshot.layoutBox, parentSnapshot.layoutBox);\n                    const relativeLayout = createBox();\n                    calcRelativePosition(relativeLayout, layout, parentLayout.layoutBox);\n                    if (!boxEqualsRounded(relativeSnapshot, relativeLayout)) {\n                        hasRelativeLayoutChanged = true;\n                    }\n                    if (relativeParent.options.layoutRoot) {\n                        node.relativeTarget = relativeLayout;\n                        node.relativeTargetOrigin = relativeSnapshot;\n                        node.relativeParent = relativeParent;\n                    }\n                }\n            }\n        }\n        node.notifyListeners(\"didUpdate\", {\n            layout,\n            snapshot,\n            delta: visualDelta,\n            layoutDelta,\n            hasLayoutChanged,\n            hasRelativeLayoutChanged,\n        });\n    }\n    else if (node.isLead()) {\n        const { onExitComplete } = node.options;\n        onExitComplete && onExitComplete();\n    }\n    /**\n     * Clearing transition\n     * TODO: Investigate why this transition is being passed in as {type: false } from Framer\n     * and why we need it at all\n     */\n    node.options.transition = undefined;\n}\nfunction propagateDirtyNodes(node) {\n    /**\n     * Increase debug counter for nodes encountered this frame\n     */\n    if (statsBuffer.value) {\n        metrics.nodes++;\n    }\n    if (!node.parent)\n        return;\n    /**\n     * If this node isn't projecting, propagate isProjectionDirty. It will have\n     * no performance impact but it will allow the next child that *is* projecting\n     * but *isn't* dirty to just check its parent to see if *any* ancestor needs\n     * correcting.\n     */\n    if (!node.isProjecting()) {\n        node.isProjectionDirty = node.parent.isProjectionDirty;\n    }\n    /**\n     * Propagate isSharedProjectionDirty and isTransformDirty\n     * throughout the whole tree. A future revision can take another look at\n     * this but for safety we still recalcualte shared nodes.\n     */\n    node.isSharedProjectionDirty || (node.isSharedProjectionDirty = Boolean(node.isProjectionDirty ||\n        node.parent.isProjectionDirty ||\n        node.parent.isSharedProjectionDirty));\n    node.isTransformDirty || (node.isTransformDirty = node.parent.isTransformDirty);\n}\nfunction cleanDirtyNodes(node) {\n    node.isProjectionDirty =\n        node.isSharedProjectionDirty =\n            node.isTransformDirty =\n                false;\n}\nfunction clearSnapshot(node) {\n    node.clearSnapshot();\n}\nfunction clearMeasurements(node) {\n    node.clearMeasurements();\n}\nfunction clearIsLayoutDirty(node) {\n    node.isLayoutDirty = false;\n}\nfunction resetTransformStyle(node) {\n    const { visualElement } = node.options;\n    if (visualElement && visualElement.getProps().onBeforeLayoutMeasure) {\n        visualElement.notify(\"BeforeLayoutMeasure\");\n    }\n    node.resetTransform();\n}\nfunction finishAnimation(node) {\n    node.finishAnimation();\n    node.targetDelta = node.relativeTarget = node.target = undefined;\n    node.isProjectionDirty = true;\n}\nfunction resolveTargetDelta(node) {\n    node.resolveTargetDelta();\n}\nfunction calcProjection(node) {\n    node.calcProjection();\n}\nfunction resetSkewAndRotation(node) {\n    node.resetSkewAndRotation();\n}\nfunction removeLeadSnapshots(stack) {\n    stack.removeLeadSnapshot();\n}\nfunction mixAxisDelta(output, delta, p) {\n    output.translate = mixNumber(delta.translate, 0, p);\n    output.scale = mixNumber(delta.scale, 1, p);\n    output.origin = delta.origin;\n    output.originPoint = delta.originPoint;\n}\nfunction mixAxis(output, from, to, p) {\n    output.min = mixNumber(from.min, to.min, p);\n    output.max = mixNumber(from.max, to.max, p);\n}\nfunction mixBox(output, from, to, p) {\n    mixAxis(output.x, from.x, to.x, p);\n    mixAxis(output.y, from.y, to.y, p);\n}\nfunction hasOpacityCrossfade(node) {\n    return (node.animationValues && node.animationValues.opacityExit !== undefined);\n}\nconst defaultLayoutTransition = {\n    duration: 0.45,\n    ease: [0.4, 0, 0.1, 1],\n};\nconst userAgentContains = (string) => typeof navigator !== \"undefined\" &&\n    navigator.userAgent &&\n    navigator.userAgent.toLowerCase().includes(string);\n/**\n * Measured bounding boxes must be rounded in Safari and\n * left untouched in Chrome, otherwise non-integer layouts within scaled-up elements\n * can appear to jump.\n */\nconst roundPoint = userAgentContains(\"applewebkit/\") && !userAgentContains(\"chrome/\")\n    ? Math.round\n    : noop;\nfunction roundAxis(axis) {\n    // Round to the nearest .5 pixels to support subpixel layouts\n    axis.min = roundPoint(axis.min);\n    axis.max = roundPoint(axis.max);\n}\nfunction roundBox(box) {\n    roundAxis(box.x);\n    roundAxis(box.y);\n}\nfunction shouldAnimatePositionOnly(animationType, snapshot, layout) {\n    return (animationType === \"position\" ||\n        (animationType === \"preserve-aspect\" &&\n            !isNear(aspectRatio(snapshot), aspectRatio(layout), 0.2)));\n}\nfunction checkNodeWasScrollRoot(node) {\n    return node !== node.root && node.scroll?.wasRoot;\n}\n\nexport { cleanDirtyNodes, createProjectionNode, mixAxis, mixAxisDelta, mixBox, propagateDirtyNodes };\n","import { time, frame, cancelFrame } from 'motion-dom';\nimport { secondsToMilliseconds } from 'motion-utils';\n\n/**\n * Timeout defined in ms\n */\nfunction delay(callback, timeout) {\n    const start = time.now();\n    const checkElapsed = ({ timestamp }) => {\n        const elapsed = timestamp - start;\n        if (elapsed >= timeout) {\n            cancelFrame(checkElapsed);\n            callback(elapsed - timeout);\n        }\n    };\n    frame.setup(checkElapsed, true);\n    return () => cancelFrame(checkElapsed);\n}\nfunction delayInSeconds(callback, timeout) {\n    return delay(callback, secondsToMilliseconds(timeout));\n}\n\nexport { delay, delayInSeconds };\n","function buildProjectionTransform(delta, treeScale, latestTransform) {\n    let transform = \"\";\n    /**\n     * The translations we use to calculate are always relative to the viewport coordinate space.\n     * But when we apply scales, we also scale the coordinate space of an element and its children.\n     * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n     * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n     */\n    const xTranslate = delta.x.translate / treeScale.x;\n    const yTranslate = delta.y.translate / treeScale.y;\n    const zTranslate = latestTransform?.z || 0;\n    if (xTranslate || yTranslate || zTranslate) {\n        transform = `translate3d(${xTranslate}px, ${yTranslate}px, ${zTranslate}px) `;\n    }\n    /**\n     * Apply scale correction for the tree transform.\n     * This will apply scale to the screen-orientated axes.\n     */\n    if (treeScale.x !== 1 || treeScale.y !== 1) {\n        transform += `scale(${1 / treeScale.x}, ${1 / treeScale.y}) `;\n    }\n    if (latestTransform) {\n        const { transformPerspective, rotate, rotateX, rotateY, skewX, skewY } = latestTransform;\n        if (transformPerspective)\n            transform = `perspective(${transformPerspective}px) ${transform}`;\n        if (rotate)\n            transform += `rotate(${rotate}deg) `;\n        if (rotateX)\n            transform += `rotateX(${rotateX}deg) `;\n        if (rotateY)\n            transform += `rotateY(${rotateY}deg) `;\n        if (skewX)\n            transform += `skewX(${skewX}deg) `;\n        if (skewY)\n            transform += `skewY(${skewY}deg) `;\n    }\n    /**\n     * Apply scale to match the size of the element to the size we want it.\n     * This will apply scale to the element-orientated axes.\n     */\n    const elementScaleX = delta.x.scale * treeScale.x;\n    const elementScaleY = delta.y.scale * treeScale.y;\n    if (elementScaleX !== 1 || elementScaleY !== 1) {\n        transform += `scale(${elementScaleX}, ${elementScaleY})`;\n    }\n    return transform || \"none\";\n}\n\nexport { buildProjectionTransform };\n","import { addDomEvent } from '../../events/add-dom-event.mjs';\nimport { createProjectionNode } from './create-projection-node.mjs';\n\nconst DocumentProjectionNode = createProjectionNode({\n    attachResizeListener: (ref, notify) => addDomEvent(ref, \"resize\", notify),\n    measureScroll: () => ({\n        x: document.documentElement.scrollLeft || document.body.scrollLeft,\n        y: document.documentElement.scrollTop || document.body.scrollTop,\n    }),\n    checkIsScrollRoot: () => true,\n});\n\nexport { DocumentProjectionNode };\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { DocumentProjectionNode } from './DocumentProjectionNode.mjs';\n\nconst rootProjectionNode = {\n    current: undefined,\n};\nconst HTMLProjectionNode = createProjectionNode({\n    measureScroll: (instance) => ({\n        x: instance.scrollLeft,\n        y: instance.scrollTop,\n    }),\n    defaultParent: () => {\n        if (!rootProjectionNode.current) {\n            const documentNode = new DocumentProjectionNode({});\n            documentNode.mount(window);\n            documentNode.setOptions({ layoutScroll: true });\n            rootProjectionNode.current = documentNode;\n        }\n        return rootProjectionNode.current;\n    },\n    resetTransform: (instance, value) => {\n        instance.style.transform = value !== undefined ? value : \"none\";\n    },\n    checkIsScrollRoot: (instance) => Boolean(window.getComputedStyle(instance).position === \"fixed\"),\n});\n\nexport { HTMLProjectionNode, rootProjectionNode };\n","import { DragGesture } from '../../gestures/drag/index.mjs';\nimport { PanGesture } from '../../gestures/pan/index.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\nimport { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\n\nconst drag = {\n    pan: {\n        Feature: PanGesture,\n    },\n    drag: {\n        Feature: DragGesture,\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { drag };\n","import { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from 'motion-utils';\nimport { VisualElementDragControls } from './VisualElementDragControls.mjs';\n\nclass DragGesture extends Feature {\n    constructor(node) {\n        super(node);\n        this.removeGroupControls = noop;\n        this.removeListeners = noop;\n        this.controls = new VisualElementDragControls(node);\n    }\n    mount() {\n        // If we've been provided a DragControls for manual control over the drag gesture,\n        // subscribe this component to it on mount.\n        const { dragControls } = this.node.getProps();\n        if (dragControls) {\n            this.removeGroupControls = dragControls.subscribe(this.controls);\n        }\n        this.removeListeners = this.controls.addListeners() || noop;\n    }\n    unmount() {\n        this.removeGroupControls();\n        this.removeListeners();\n    }\n}\n\nexport { DragGesture };\n","import { hover, frame } from 'motion-dom';\nimport { extractEventInfo } from '../events/event-info.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\n\nfunction handleHoverEvent(node, event, lifecycle) {\n    const { props } = node;\n    if (node.animationState && props.whileHover) {\n        node.animationState.setActive(\"whileHover\", lifecycle === \"Start\");\n    }\n    const eventName = (\"onHover\" + lifecycle);\n    const callback = props[eventName];\n    if (callback) {\n        frame.postRender(() => callback(event, extractEventInfo(event)));\n    }\n}\nclass HoverGesture extends Feature {\n    mount() {\n        const { current } = this.node;\n        if (!current)\n            return;\n        this.unmount = hover(current, (_element, startEvent) => {\n            handleHoverEvent(this.node, startEvent, \"Start\");\n            return (endEvent) => handleHoverEvent(this.node, endEvent, \"End\");\n        });\n    }\n    unmount() { }\n}\n\nexport { HoverGesture };\n","import { press, frame } from 'motion-dom';\nimport { extractEventInfo } from '../events/event-info.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\n\nfunction handlePressEvent(node, event, lifecycle) {\n    const { props } = node;\n    if (node.current instanceof HTMLButtonElement && node.current.disabled) {\n        return;\n    }\n    if (node.animationState && props.whileTap) {\n        node.animationState.setActive(\"whileTap\", lifecycle === \"Start\");\n    }\n    const eventName = (\"onTap\" + (lifecycle === \"End\" ? \"\" : lifecycle));\n    const callback = props[eventName];\n    if (callback) {\n        frame.postRender(() => callback(event, extractEventInfo(event)));\n    }\n}\nclass PressGesture extends Feature {\n    mount() {\n        const { current } = this.node;\n        if (!current)\n            return;\n        this.unmount = press(current, (_element, startEvent) => {\n            handlePressEvent(this.node, startEvent, \"Start\");\n            return (endEvent, { success }) => handlePressEvent(this.node, endEvent, success ? \"End\" : \"Cancel\");\n        }, { useGlobalTarget: this.node.props.globalTapTarget });\n    }\n    unmount() { }\n}\n\nexport { PressGesture };\n","/**\n * Map an IntersectionHandler callback to an element. We only ever make one handler for one\n * element, so even though these handlers might all be triggered by different\n * observers, we can keep them in the same map.\n */\nconst observerCallbacks = new WeakMap();\n/**\n * Multiple observers can be created for multiple element/document roots. Each with\n * different settings. So here we store dictionaries of observers to each root,\n * using serialised settings (threshold/margin) as lookup keys.\n */\nconst observers = new WeakMap();\nconst fireObserverCallback = (entry) => {\n    const callback = observerCallbacks.get(entry.target);\n    callback && callback(entry);\n};\nconst fireAllObserverCallbacks = (entries) => {\n    entries.forEach(fireObserverCallback);\n};\nfunction initIntersectionObserver({ root, ...options }) {\n    const lookupRoot = root || document;\n    /**\n     * If we don't have an observer lookup map for this root, create one.\n     */\n    if (!observers.has(lookupRoot)) {\n        observers.set(lookupRoot, {});\n    }\n    const rootObservers = observers.get(lookupRoot);\n    const key = JSON.stringify(options);\n    /**\n     * If we don't have an observer for this combination of root and settings,\n     * create one.\n     */\n    if (!rootObservers[key]) {\n        rootObservers[key] = new IntersectionObserver(fireAllObserverCallbacks, { root, ...options });\n    }\n    return rootObservers[key];\n}\nfunction observeIntersection(element, options, callback) {\n    const rootInteresectionObserver = initIntersectionObserver(options);\n    observerCallbacks.set(element, callback);\n    rootInteresectionObserver.observe(element);\n    return () => {\n        observerCallbacks.delete(element);\n        rootInteresectionObserver.unobserve(element);\n    };\n}\n\nexport { observeIntersection };\n","import { Feature } from '../Feature.mjs';\nimport { observeIntersection } from './observers.mjs';\n\nconst thresholdNames = {\n    some: 0,\n    all: 1,\n};\nclass InViewFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.hasEnteredView = false;\n        this.isInView = false;\n    }\n    startObserver() {\n        this.unmount();\n        const { viewport = {} } = this.node.getProps();\n        const { root, margin: rootMargin, amount = \"some\", once } = viewport;\n        const options = {\n            root: root ? root.current : undefined,\n            rootMargin,\n            threshold: typeof amount === \"number\" ? amount : thresholdNames[amount],\n        };\n        const onIntersectionUpdate = (entry) => {\n            const { isIntersecting } = entry;\n            /**\n             * If there's been no change in the viewport state, early return.\n             */\n            if (this.isInView === isIntersecting)\n                return;\n            this.isInView = isIntersecting;\n            /**\n             * Handle hasEnteredView. If this is only meant to run once, and\n             * element isn't visible, early return. Otherwise set hasEnteredView to true.\n             */\n            if (once && !isIntersecting && this.hasEnteredView) {\n                return;\n            }\n            else if (isIntersecting) {\n                this.hasEnteredView = true;\n            }\n            if (this.node.animationState) {\n                this.node.animationState.setActive(\"whileInView\", isIntersecting);\n            }\n            /**\n             * Use the latest committed props rather than the ones in scope\n             * when this observer is created\n             */\n            const { onViewportEnter, onViewportLeave } = this.node.getProps();\n            const callback = isIntersecting ? onViewportEnter : onViewportLeave;\n            callback && callback(entry);\n        };\n        return observeIntersection(this.node.current, options, onIntersectionUpdate);\n    }\n    mount() {\n        this.startObserver();\n    }\n    update() {\n        if (typeof IntersectionObserver === \"undefined\")\n            return;\n        const { props, prevProps } = this.node;\n        const hasOptionsChanged = [\"amount\", \"margin\", \"root\"].some(hasViewportOptionChanged(props, prevProps));\n        if (hasOptionsChanged) {\n            this.startObserver();\n        }\n    }\n    unmount() { }\n}\nfunction hasViewportOptionChanged({ viewport = {} }, { viewport: prevViewport = {} } = {}) {\n    return (name) => viewport[name] !== prevViewport[name];\n}\n\nexport { InViewFeature };\n","import { createDomVisualElement } from '../../dom/create-visual-element.mjs';\nimport { createMotionProxy } from '../create-proxy.mjs';\nimport { featureBundle } from './feature-bundle.mjs';\n\nconst motion = /*@__PURE__*/ createMotionProxy(featureBundle, createDomVisualElement);\n\nexport { motion };\n","import { animations } from '../../../motion/features/animations.mjs';\nimport { drag } from '../../../motion/features/drag.mjs';\nimport { gestureAnimations } from '../../../motion/features/gestures.mjs';\nimport { layout } from '../../../motion/features/layout.mjs';\n\nconst featureBundle = {\n    ...animations,\n    ...gestureAnimations,\n    ...drag,\n    ...layout,\n};\n\nexport { featureBundle };\n","import { HoverGesture } from '../../gestures/hover.mjs';\nimport { FocusGesture } from '../../gestures/focus.mjs';\nimport { PressGesture } from '../../gestures/press.mjs';\nimport { InViewFeature } from './viewport/index.mjs';\n\nconst gestureAnimations = {\n    inView: {\n        Feature: InViewFeature,\n    },\n    tap: {\n        Feature: PressGesture,\n    },\n    focus: {\n        Feature: FocusGesture,\n    },\n    hover: {\n        Feature: HoverGesture,\n    },\n};\n\nexport { gestureAnimations };\n","import { pipe } from 'motion-utils';\nimport { addDomEvent } from '../events/add-dom-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\n\nclass FocusGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.isActive = false;\n    }\n    onFocus() {\n        let isFocusVisible = false;\n        /**\n         * If this element doesn't match focus-visible then don't\n         * apply whileHover. But, if matches throws that focus-visible\n         * is not a valid selector then in that browser outline styles will be applied\n         * to the element by default and we want to match that behaviour with whileFocus.\n         */\n        try {\n            isFocusVisible = this.node.current.matches(\":focus-visible\");\n        }\n        catch (e) {\n            isFocusVisible = true;\n        }\n        if (!isFocusVisible || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", true);\n        this.isActive = true;\n    }\n    onBlur() {\n        if (!this.isActive || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", false);\n        this.isActive = false;\n    }\n    mount() {\n        this.unmount = pipe(addDomEvent(this.node.current, \"focus\", () => this.onFocus()), addDomEvent(this.node.current, \"blur\", () => this.onBlur()));\n    }\n    unmount() { }\n}\n\nexport { FocusGesture };\n","import { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\n\nconst layout = {\n    layout: {\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { layout };\n","import { motionValue } from 'motion-dom';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n    if (visualElement.hasValue(key)) {\n        visualElement.getValue(key).set(value);\n    }\n    else {\n        visualElement.addValue(key, motionValue(value));\n    }\n}\nfunction resolveFinalValueInKeyframes(v) {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n}\nfunction setTarget(visualElement, definition) {\n    const resolved = resolveVariant(visualElement, definition);\n    let { transitionEnd = {}, transition = {}, ...target } = resolved || {};\n    target = { ...target, ...transitionEnd };\n    for (const key in target) {\n        const value = resolveFinalValueInKeyframes(target[key]);\n        setMotionValue(visualElement, key, value);\n    }\n}\n\nexport { setTarget };\n","import { getValueTransition, frame, positionalKeys } from 'motion-dom';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { addValueToWillChange } from '../../value/use-will-change/add-will-change.mjs';\nimport { getOptimisedAppearId } from '../optimized-appear/get-appear-id.mjs';\nimport { animateMotionValue } from './motion-value.mjs';\n\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation({ protectedKeys, needsAnimating }, key) {\n    const shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n    needsAnimating[key] = false;\n    return shouldBlock;\n}\nfunction animateTarget(visualElement, targetAndTransition, { delay = 0, transitionOverride, type } = {}) {\n    let { transition = visualElement.getDefaultTransition(), transitionEnd, ...target } = targetAndTransition;\n    if (transitionOverride)\n        transition = transitionOverride;\n    const animations = [];\n    const animationTypeState = type &&\n        visualElement.animationState &&\n        visualElement.animationState.getState()[type];\n    for (const key in target) {\n        const value = visualElement.getValue(key, visualElement.latestValues[key] ?? null);\n        const valueTarget = target[key];\n        if (valueTarget === undefined ||\n            (animationTypeState &&\n                shouldBlockAnimation(animationTypeState, key))) {\n            continue;\n        }\n        const valueTransition = {\n            delay,\n            ...getValueTransition(transition || {}, key),\n        };\n        /**\n         * If the value is already at the defined target, skip the animation.\n         */\n        const currentValue = value.get();\n        if (currentValue !== undefined &&\n            !value.isAnimating &&\n            !Array.isArray(valueTarget) &&\n            valueTarget === currentValue &&\n            !valueTransition.velocity) {\n            continue;\n        }\n        /**\n         * If this is the first time a value is being animated, check\n         * to see if we're handling off from an existing animation.\n         */\n        let isHandoff = false;\n        if (window.MotionHandoffAnimation) {\n            const appearId = getOptimisedAppearId(visualElement);\n            if (appearId) {\n                const startTime = window.MotionHandoffAnimation(appearId, key, frame);\n                if (startTime !== null) {\n                    valueTransition.startTime = startTime;\n                    isHandoff = true;\n                }\n            }\n        }\n        addValueToWillChange(visualElement, key);\n        value.start(animateMotionValue(key, value, valueTarget, visualElement.shouldReduceMotion && positionalKeys.has(key)\n            ? { type: false }\n            : valueTransition, visualElement, isHandoff));\n        const animation = value.animation;\n        if (animation) {\n            animations.push(animation);\n        }\n    }\n    if (transitionEnd) {\n        Promise.all(animations).then(() => {\n            frame.update(() => {\n                transitionEnd && setTarget(visualElement, transitionEnd);\n            });\n        });\n    }\n    return animations;\n}\n\nexport { animateTarget };\n","\"use client\";\nimport { createContext } from 'react';\n\n/**\n * @public\n */\nconst MotionConfigContext = createContext({\n    transformPagePoint: (p) => p,\n    isStatic: false,\n    reducedMotion: \"never\",\n});\n\nexport { MotionConfigContext };\n","// Does this device prefer reduced motion? Returns `null` server-side.\nconst prefersReducedMotion = { current: null };\nconst hasReducedMotionListener = { current: false };\n\nexport { hasReducedMotionListener, prefersReducedMotion };\n","import { KeyframeResolver, time, frame, isMotionValue, cancelFrame, transformProps, motionValue, findValueType, complex, getAnimatableNone, microtask } from 'motion-dom';\nimport { warnOnce, isNumericalString, isZeroValueString, SubscriptionManager } from 'motion-utils';\nimport { featureDefinitions } from '../motion/features/definitions.mjs';\nimport { createBox } from '../projection/geometry/models.mjs';\nimport { initPrefersReducedMotion } from '../utils/reduced-motion/index.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from '../utils/reduced-motion/state.mjs';\nimport { visualElementStore } from './store.mjs';\nimport { isControllingVariants, isVariantNode } from './utils/is-controlling-variants.mjs';\nimport { updateMotionValuesFromProps } from './utils/motion-values.mjs';\nimport { resolveVariantFromProps } from './utils/resolve-variants.mjs';\n\nconst propEventHandlers = [\n    \"AnimationStart\",\n    \"AnimationComplete\",\n    \"Update\",\n    \"BeforeLayoutMeasure\",\n    \"LayoutMeasure\",\n    \"LayoutAnimationStart\",\n    \"LayoutAnimationComplete\",\n];\n/**\n * A VisualElement is an imperative abstraction around UI elements such as\n * HTMLElement, SVGElement, Three.Object3D etc.\n */\nclass VisualElement {\n    /**\n     * This method takes React props and returns found MotionValues. For example, HTML\n     * MotionValues will be found within the style prop, whereas for Three.js within attribute arrays.\n     *\n     * This isn't an abstract method as it needs calling in the constructor, but it is\n     * intended to be one.\n     */\n    scrapeMotionValuesFromProps(_props, _prevProps, _visualElement) {\n        return {};\n    }\n    constructor({ parent, props, presenceContext, reducedMotionConfig, blockInitialAnimation, visualState, }, options = {}) {\n        /**\n         * A reference to the current underlying Instance, e.g. a HTMLElement\n         * or Three.Mesh etc.\n         */\n        this.current = null;\n        /**\n         * A set containing references to this VisualElement's children.\n         */\n        this.children = new Set();\n        /**\n         * Determine what role this visual element should take in the variant tree.\n         */\n        this.isVariantNode = false;\n        this.isControllingVariants = false;\n        /**\n         * Decides whether this VisualElement should animate in reduced motion\n         * mode.\n         *\n         * TODO: This is currently set on every individual VisualElement but feels\n         * like it could be set globally.\n         */\n        this.shouldReduceMotion = null;\n        /**\n         * A map of all motion values attached to this visual element. Motion\n         * values are source of truth for any given animated value. A motion\n         * value might be provided externally by the component via props.\n         */\n        this.values = new Map();\n        this.KeyframeResolver = KeyframeResolver;\n        /**\n         * Cleanup functions for active features (hover/tap/exit etc)\n         */\n        this.features = {};\n        /**\n         * A map of every subscription that binds the provided or generated\n         * motion values onChange listeners to this visual element.\n         */\n        this.valueSubscriptions = new Map();\n        /**\n         * A reference to the previously-provided motion values as returned\n         * from scrapeMotionValuesFromProps. We use the keys in here to determine\n         * if any motion values need to be removed after props are updated.\n         */\n        this.prevMotionValues = {};\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        /**\n         * An object containing an unsubscribe function for each prop event subscription.\n         * For example, every \"Update\" event can have multiple subscribers via\n         * VisualElement.on(), but only one of those can be defined via the onUpdate prop.\n         */\n        this.propEventSubscriptions = {};\n        this.notifyUpdate = () => this.notify(\"Update\", this.latestValues);\n        this.render = () => {\n            if (!this.current)\n                return;\n            this.triggerBuild();\n            this.renderInstance(this.current, this.renderState, this.props.style, this.projection);\n        };\n        this.renderScheduledAt = 0.0;\n        this.scheduleRender = () => {\n            const now = time.now();\n            if (this.renderScheduledAt < now) {\n                this.renderScheduledAt = now;\n                frame.render(this.render, false, true);\n            }\n        };\n        const { latestValues, renderState } = visualState;\n        this.latestValues = latestValues;\n        this.baseTarget = { ...latestValues };\n        this.initialValues = props.initial ? { ...latestValues } : {};\n        this.renderState = renderState;\n        this.parent = parent;\n        this.props = props;\n        this.presenceContext = presenceContext;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.reducedMotionConfig = reducedMotionConfig;\n        this.options = options;\n        this.blockInitialAnimation = Boolean(blockInitialAnimation);\n        this.isControllingVariants = isControllingVariants(props);\n        this.isVariantNode = isVariantNode(props);\n        if (this.isVariantNode) {\n            this.variantChildren = new Set();\n        }\n        this.manuallyAnimateOnMount = Boolean(parent && parent.current);\n        /**\n         * Any motion values that are provided to the element when created\n         * aren't yet bound to the element, as this would technically be impure.\n         * However, we iterate through the motion values and set them to the\n         * initial values for this component.\n         *\n         * TODO: This is impure and we should look at changing this to run on mount.\n         * Doing so will break some tests but this isn't necessarily a breaking change,\n         * more a reflection of the test.\n         */\n        const { willChange, ...initialMotionValues } = this.scrapeMotionValuesFromProps(props, {}, this);\n        for (const key in initialMotionValues) {\n            const value = initialMotionValues[key];\n            if (latestValues[key] !== undefined && isMotionValue(value)) {\n                value.set(latestValues[key]);\n            }\n        }\n    }\n    mount(instance) {\n        this.current = instance;\n        visualElementStore.set(instance, this);\n        if (this.projection && !this.projection.instance) {\n            this.projection.mount(instance);\n        }\n        if (this.parent && this.isVariantNode && !this.isControllingVariants) {\n            this.removeFromVariantTree = this.parent.addVariantChild(this);\n        }\n        this.values.forEach((value, key) => this.bindToMotionValue(key, value));\n        if (!hasReducedMotionListener.current) {\n            initPrefersReducedMotion();\n        }\n        this.shouldReduceMotion =\n            this.reducedMotionConfig === \"never\"\n                ? false\n                : this.reducedMotionConfig === \"always\"\n                    ? true\n                    : prefersReducedMotion.current;\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(this.shouldReduceMotion !== true, \"You have Reduced Motion enabled on your device. Animations may not appear as expected.\", \"reduced-motion-disabled\");\n        }\n        this.parent?.addChild(this);\n        this.update(this.props, this.presenceContext);\n    }\n    unmount() {\n        this.projection && this.projection.unmount();\n        cancelFrame(this.notifyUpdate);\n        cancelFrame(this.render);\n        this.valueSubscriptions.forEach((remove) => remove());\n        this.valueSubscriptions.clear();\n        this.removeFromVariantTree && this.removeFromVariantTree();\n        this.parent?.removeChild(this);\n        for (const key in this.events) {\n            this.events[key].clear();\n        }\n        for (const key in this.features) {\n            const feature = this.features[key];\n            if (feature) {\n                feature.unmount();\n                feature.isMounted = false;\n            }\n        }\n        this.current = null;\n    }\n    addChild(child) {\n        this.children.add(child);\n        this.enteringChildren ?? (this.enteringChildren = new Set());\n        this.enteringChildren.add(child);\n    }\n    removeChild(child) {\n        this.children.delete(child);\n        this.enteringChildren && this.enteringChildren.delete(child);\n    }\n    bindToMotionValue(key, value) {\n        if (this.valueSubscriptions.has(key)) {\n            this.valueSubscriptions.get(key)();\n        }\n        const valueIsTransform = transformProps.has(key);\n        if (valueIsTransform && this.onBindTransform) {\n            this.onBindTransform();\n        }\n        const removeOnChange = value.on(\"change\", (latestValue) => {\n            this.latestValues[key] = latestValue;\n            this.props.onUpdate && frame.preRender(this.notifyUpdate);\n            if (valueIsTransform && this.projection) {\n                this.projection.isTransformDirty = true;\n            }\n            this.scheduleRender();\n        });\n        let removeSyncCheck;\n        if (window.MotionCheckAppearSync) {\n            removeSyncCheck = window.MotionCheckAppearSync(this, key, value);\n        }\n        this.valueSubscriptions.set(key, () => {\n            removeOnChange();\n            if (removeSyncCheck)\n                removeSyncCheck();\n            if (value.owner)\n                value.stop();\n        });\n    }\n    sortNodePosition(other) {\n        /**\n         * If these nodes aren't even of the same type we can't compare their depth.\n         */\n        if (!this.current ||\n            !this.sortInstanceNodePosition ||\n            this.type !== other.type) {\n            return 0;\n        }\n        return this.sortInstanceNodePosition(this.current, other.current);\n    }\n    updateFeatures() {\n        let key = \"animation\";\n        for (key in featureDefinitions) {\n            const featureDefinition = featureDefinitions[key];\n            if (!featureDefinition)\n                continue;\n            const { isEnabled, Feature: FeatureConstructor } = featureDefinition;\n            /**\n             * If this feature is enabled but not active, make a new instance.\n             */\n            if (!this.features[key] &&\n                FeatureConstructor &&\n                isEnabled(this.props)) {\n                this.features[key] = new FeatureConstructor(this);\n            }\n            /**\n             * If we have a feature, mount or update it.\n             */\n            if (this.features[key]) {\n                const feature = this.features[key];\n                if (feature.isMounted) {\n                    feature.update();\n                }\n                else {\n                    feature.mount();\n                    feature.isMounted = true;\n                }\n            }\n        }\n    }\n    triggerBuild() {\n        this.build(this.renderState, this.latestValues, this.props);\n    }\n    /**\n     * Measure the current viewport box with or without transforms.\n     * Only measures axis-aligned boxes, rotate and skew must be manually\n     * removed with a re-render to work.\n     */\n    measureViewportBox() {\n        return this.current\n            ? this.measureInstanceViewportBox(this.current, this.props)\n            : createBox();\n    }\n    getStaticValue(key) {\n        return this.latestValues[key];\n    }\n    setStaticValue(key, value) {\n        this.latestValues[key] = value;\n    }\n    /**\n     * Update the provided props. Ensure any newly-added motion values are\n     * added to our map, old ones removed, and listeners updated.\n     */\n    update(props, presenceContext) {\n        if (props.transformTemplate || this.props.transformTemplate) {\n            this.scheduleRender();\n        }\n        this.prevProps = this.props;\n        this.props = props;\n        this.prevPresenceContext = this.presenceContext;\n        this.presenceContext = presenceContext;\n        /**\n         * Update prop event handlers ie onAnimationStart, onAnimationComplete\n         */\n        for (let i = 0; i < propEventHandlers.length; i++) {\n            const key = propEventHandlers[i];\n            if (this.propEventSubscriptions[key]) {\n                this.propEventSubscriptions[key]();\n                delete this.propEventSubscriptions[key];\n            }\n            const listenerName = (\"on\" + key);\n            const listener = props[listenerName];\n            if (listener) {\n                this.propEventSubscriptions[key] = this.on(key, listener);\n            }\n        }\n        this.prevMotionValues = updateMotionValuesFromProps(this, this.scrapeMotionValuesFromProps(props, this.prevProps, this), this.prevMotionValues);\n        if (this.handleChildMotionValue) {\n            this.handleChildMotionValue();\n        }\n    }\n    getProps() {\n        return this.props;\n    }\n    /**\n     * Returns the variant definition with a given name.\n     */\n    getVariant(name) {\n        return this.props.variants ? this.props.variants[name] : undefined;\n    }\n    /**\n     * Returns the defined default transition on this component.\n     */\n    getDefaultTransition() {\n        return this.props.transition;\n    }\n    getTransformPagePoint() {\n        return this.props.transformPagePoint;\n    }\n    getClosestVariantNode() {\n        return this.isVariantNode\n            ? this\n            : this.parent\n                ? this.parent.getClosestVariantNode()\n                : undefined;\n    }\n    /**\n     * Add a child visual element to our set of children.\n     */\n    addVariantChild(child) {\n        const closestVariantNode = this.getClosestVariantNode();\n        if (closestVariantNode) {\n            closestVariantNode.variantChildren &&\n                closestVariantNode.variantChildren.add(child);\n            return () => closestVariantNode.variantChildren.delete(child);\n        }\n    }\n    /**\n     * Add a motion value and bind it to this visual element.\n     */\n    addValue(key, value) {\n        // Remove existing value if it exists\n        const existingValue = this.values.get(key);\n        if (value !== existingValue) {\n            if (existingValue)\n                this.removeValue(key);\n            this.bindToMotionValue(key, value);\n            this.values.set(key, value);\n            this.latestValues[key] = value.get();\n        }\n    }\n    /**\n     * Remove a motion value and unbind any active subscriptions.\n     */\n    removeValue(key) {\n        this.values.delete(key);\n        const unsubscribe = this.valueSubscriptions.get(key);\n        if (unsubscribe) {\n            unsubscribe();\n            this.valueSubscriptions.delete(key);\n        }\n        delete this.latestValues[key];\n        this.removeValueFromRenderState(key, this.renderState);\n    }\n    /**\n     * Check whether we have a motion value for this key\n     */\n    hasValue(key) {\n        return this.values.has(key);\n    }\n    getValue(key, defaultValue) {\n        if (this.props.values && this.props.values[key]) {\n            return this.props.values[key];\n        }\n        let value = this.values.get(key);\n        if (value === undefined && defaultValue !== undefined) {\n            value = motionValue(defaultValue === null ? undefined : defaultValue, { owner: this });\n            this.addValue(key, value);\n        }\n        return value;\n    }\n    /**\n     * If we're trying to animate to a previously unencountered value,\n     * we need to check for it in our state and as a last resort read it\n     * directly from the instance (which might have performance implications).\n     */\n    readValue(key, target) {\n        let value = this.latestValues[key] !== undefined || !this.current\n            ? this.latestValues[key]\n            : this.getBaseTargetFromProps(this.props, key) ??\n                this.readValueFromInstance(this.current, key, this.options);\n        if (value !== undefined && value !== null) {\n            if (typeof value === \"string\" &&\n                (isNumericalString(value) || isZeroValueString(value))) {\n                // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n                value = parseFloat(value);\n            }\n            else if (!findValueType(value) && complex.test(target)) {\n                value = getAnimatableNone(key, target);\n            }\n            this.setBaseTarget(key, isMotionValue(value) ? value.get() : value);\n        }\n        return isMotionValue(value) ? value.get() : value;\n    }\n    /**\n     * Set the base target to later animate back to. This is currently\n     * only hydrated on creation and when we first read a value.\n     */\n    setBaseTarget(key, value) {\n        this.baseTarget[key] = value;\n    }\n    /**\n     * Find the base target for a value thats been removed from all animation\n     * props.\n     */\n    getBaseTarget(key) {\n        const { initial } = this.props;\n        let valueFromInitial;\n        if (typeof initial === \"string\" || typeof initial === \"object\") {\n            const variant = resolveVariantFromProps(this.props, initial, this.presenceContext?.custom);\n            if (variant) {\n                valueFromInitial = variant[key];\n            }\n        }\n        /**\n         * If this value still exists in the current initial variant, read that.\n         */\n        if (initial && valueFromInitial !== undefined) {\n            return valueFromInitial;\n        }\n        /**\n         * Alternatively, if this VisualElement config has defined a getBaseTarget\n         * so we can read the value from an alternative source, try that.\n         */\n        const target = this.getBaseTargetFromProps(this.props, key);\n        if (target !== undefined && !isMotionValue(target))\n            return target;\n        /**\n         * If the value was initially defined on initial, but it doesn't any more,\n         * return undefined. Otherwise return the value as initially read from the DOM.\n         */\n        return this.initialValues[key] !== undefined &&\n            valueFromInitial === undefined\n            ? undefined\n            : this.baseTarget[key];\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        return this.events[eventName].add(callback);\n    }\n    notify(eventName, ...args) {\n        if (this.events[eventName]) {\n            this.events[eventName].notify(...args);\n        }\n    }\n    scheduleRenderMicrotask() {\n        microtask.render(this.render);\n    }\n}\n\nexport { VisualElement };\n","import { isBrowser } from '../is-browser.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from './state.mjs';\n\nfunction initPrefersReducedMotion() {\n    hasReducedMotionListener.current = true;\n    if (!isBrowser)\n        return;\n    if (window.matchMedia) {\n        const motionMediaQuery = window.matchMedia(\"(prefers-reduced-motion)\");\n        const setReducedMotionPreferences = () => (prefersReducedMotion.current = motionMediaQuery.matches);\n        motionMediaQuery.addEventListener(\"change\", setReducedMotionPreferences);\n        setReducedMotionPreferences();\n    }\n    else {\n        prefersReducedMotion.current = false;\n    }\n}\n\nexport { initPrefersReducedMotion };\n","import { isMotionValue, motionValue } from 'motion-dom';\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n    for (const key in next) {\n        const nextValue = next[key];\n        const prevValue = prev[key];\n        if (isMotionValue(nextValue)) {\n            /**\n             * If this is a motion value found in props or style, we want to add it\n             * to our visual element's motion value map.\n             */\n            element.addValue(key, nextValue);\n        }\n        else if (isMotionValue(prevValue)) {\n            /**\n             * If we're swapping from a motion value to a static value,\n             * create a new motion value from that\n             */\n            element.addValue(key, motionValue(nextValue, { owner: element }));\n        }\n        else if (prevValue !== nextValue) {\n            /**\n             * If this is a flat value that has changed, update the motion value\n             * or create one if it doesn't exist. We only want to do this if we're\n             * not handling the value with our animation state.\n             */\n            if (element.hasValue(key)) {\n                const existingValue = element.getValue(key);\n                if (existingValue.liveStyle === true) {\n                    existingValue.jump(nextValue);\n                }\n                else if (!existingValue.hasAnimated) {\n                    existingValue.set(nextValue);\n                }\n            }\n            else {\n                const latestValue = element.getStaticValue(key);\n                element.addValue(key, motionValue(latestValue !== undefined ? latestValue : nextValue, { owner: element }));\n            }\n        }\n    }\n    // Handle removed values\n    for (const key in prev) {\n        if (next[key] === undefined)\n            element.removeValue(key);\n    }\n    return next;\n}\n\nexport { updateMotionValuesFromProps };\n","var weakMemoize = function weakMemoize(func) {\n  var cache = new WeakMap();\n  return function (arg) {\n    if (cache.has(arg)) {\n      // Use non-null assertion because we just checked that the cache `has` it\n      // This allows us to remove `undefined` from the return value\n      return cache.get(arg);\n    }\n\n    var ret = func(arg);\n    cache.set(arg, ret);\n    return ret;\n  };\n};\n\nexport { weakMemoize as default };\n","import * as React from 'react';\nimport { useContext, forwardRef } from 'react';\nimport createCache from '@emotion/cache';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport weakMemoize from '@emotion/weak-memoize';\nimport hoistNonReactStatics from '../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport { getRegisteredStyles, registerStyles, insertStyles } from '@emotion/utils';\nimport { serializeStyles } from '@emotion/serialize';\nimport { useInsertionEffectAlwaysWithSyncFallback } from '@emotion/use-insertion-effect-with-fallbacks';\n\nvar isDevelopment = false;\n\nvar EmotionCacheContext = /* #__PURE__ */React.createContext( // we're doing this to avoid preconstruct's dead code elimination in this one case\n// because this module is primarily intended for the browser and node\n// but it's also required in react native and similar environments sometimes\n// and we could have a special build just for that\n// but this is much easier and the native packages\n// might use a different theme context in the future anyway\ntypeof HTMLElement !== 'undefined' ? /* #__PURE__ */createCache({\n  key: 'css'\n}) : null);\n\nvar CacheProvider = EmotionCacheContext.Provider;\nvar __unsafe_useEmotionCache = function useEmotionCache() {\n  return useContext(EmotionCacheContext);\n};\n\nvar withEmotionCache = function withEmotionCache(func) {\n  return /*#__PURE__*/forwardRef(function (props, ref) {\n    // the cache will never be null in the browser\n    var cache = useContext(EmotionCacheContext);\n    return func(props, cache, ref);\n  });\n};\n\nvar ThemeContext = /* #__PURE__ */React.createContext({});\n\nvar useTheme = function useTheme() {\n  return React.useContext(ThemeContext);\n};\n\nvar getTheme = function getTheme(outerTheme, theme) {\n  if (typeof theme === 'function') {\n    var mergedTheme = theme(outerTheme);\n\n    return mergedTheme;\n  }\n\n  return _extends({}, outerTheme, theme);\n};\n\nvar createCacheWithTheme = /* #__PURE__ */weakMemoize(function (outerTheme) {\n  return weakMemoize(function (theme) {\n    return getTheme(outerTheme, theme);\n  });\n});\nvar ThemeProvider = function ThemeProvider(props) {\n  var theme = React.useContext(ThemeContext);\n\n  if (props.theme !== theme) {\n    theme = createCacheWithTheme(theme)(props.theme);\n  }\n\n  return /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n    value: theme\n  }, props.children);\n};\nfunction withTheme(Component) {\n  var componentName = Component.displayName || Component.name || 'Component';\n  var WithTheme = /*#__PURE__*/React.forwardRef(function render(props, ref) {\n    var theme = React.useContext(ThemeContext);\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      theme: theme,\n      ref: ref\n    }, props));\n  });\n  WithTheme.displayName = \"WithTheme(\" + componentName + \")\";\n  return hoistNonReactStatics(WithTheme, Component);\n}\n\nvar hasOwn = {}.hasOwnProperty;\n\nvar typePropName = '__EMOTION_TYPE_PLEASE_DO_NOT_USE__';\nvar createEmotionProps = function createEmotionProps(type, props) {\n\n  var newProps = {};\n\n  for (var _key in props) {\n    if (hasOwn.call(props, _key)) {\n      newProps[_key] = props[_key];\n    }\n  }\n\n  newProps[typePropName] = type; // Runtime labeling is an opt-in feature because:\n\n  return newProps;\n};\n\nvar Insertion = function Insertion(_ref) {\n  var cache = _ref.cache,\n      serialized = _ref.serialized,\n      isStringTag = _ref.isStringTag;\n  registerStyles(cache, serialized, isStringTag);\n  useInsertionEffectAlwaysWithSyncFallback(function () {\n    return insertStyles(cache, serialized, isStringTag);\n  });\n\n  return null;\n};\n\nvar Emotion = /* #__PURE__ */withEmotionCache(function (props, cache, ref) {\n  var cssProp = props.css; // so that using `css` from `emotion` and passing the result to the css prop works\n  // not passing the registered cache to serializeStyles because it would\n  // make certain babel optimisations not possible\n\n  if (typeof cssProp === 'string' && cache.registered[cssProp] !== undefined) {\n    cssProp = cache.registered[cssProp];\n  }\n\n  var WrappedComponent = props[typePropName];\n  var registeredStyles = [cssProp];\n  var className = '';\n\n  if (typeof props.className === 'string') {\n    className = getRegisteredStyles(cache.registered, registeredStyles, props.className);\n  } else if (props.className != null) {\n    className = props.className + \" \";\n  }\n\n  var serialized = serializeStyles(registeredStyles, undefined, React.useContext(ThemeContext));\n\n  className += cache.key + \"-\" + serialized.name;\n  var newProps = {};\n\n  for (var _key2 in props) {\n    if (hasOwn.call(props, _key2) && _key2 !== 'css' && _key2 !== typePropName && (!isDevelopment )) {\n      newProps[_key2] = props[_key2];\n    }\n  }\n\n  newProps.className = className;\n\n  if (ref) {\n    newProps.ref = ref;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Insertion, {\n    cache: cache,\n    serialized: serialized,\n    isStringTag: typeof WrappedComponent === 'string'\n  }), /*#__PURE__*/React.createElement(WrappedComponent, newProps));\n});\n\nvar Emotion$1 = Emotion;\n\nexport { CacheProvider as C, Emotion$1 as E, ThemeContext as T, __unsafe_useEmotionCache as _, ThemeProvider as a, withTheme as b, createEmotionProps as c, hasOwn as h, isDevelopment as i, useTheme as u, withEmotionCache as w };\n","function getValueState(visualElement) {\n    const state = [{}, {}];\n    visualElement?.values.forEach((value, key) => {\n        state[0][key] = value.get();\n        state[1][key] = value.getVelocity();\n    });\n    return state;\n}\nfunction resolveVariantFromProps(props, definition, custom, visualElement) {\n    /**\n     * If the variant definition is a function, resolve.\n     */\n    if (typeof definition === \"function\") {\n        const [current, velocity] = getValueState(visualElement);\n        definition = definition(custom !== undefined ? custom : props.custom, current, velocity);\n    }\n    /**\n     * If the variant definition is a variant label, or\n     * the function returned a variant label, resolve.\n     */\n    if (typeof definition === \"string\") {\n        definition = props.variants && props.variants[definition];\n    }\n    /**\n     * At this point we've resolved both functions and variant labels,\n     * but the resolved variant label might itself have been a function.\n     * If so, resolve. This can only have returned a valid target object.\n     */\n    if (typeof definition === \"function\") {\n        const [current, velocity] = getValueState(visualElement);\n        definition = definition(custom !== undefined ? custom : props.custom, current, velocity);\n    }\n    return definition;\n}\n\nexport { resolveVariantFromProps };\n","const variantPriorityOrder = [\n    \"animate\",\n    \"whileInView\",\n    \"whileFocus\",\n    \"whileHover\",\n    \"whileTap\",\n    \"whileDrag\",\n    \"exit\",\n];\nconst variantProps = [\"initial\", ...variantPriorityOrder];\n\nexport { variantPriorityOrder, variantProps };\n","/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToBox({ top, left, right, bottom, }) {\n    return {\n        x: { min: left, max: right },\n        y: { min: top, max: bottom },\n    };\n}\nfunction convertBoxToBoundingBox({ x, y }) {\n    return { top: y.min, right: x.max, bottom: y.max, left: x.min };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\nfunction transformBoxPoints(point, transformPoint) {\n    if (!transformPoint)\n        return point;\n    const topLeft = transformPoint({ x: point.left, y: point.top });\n    const bottomRight = transformPoint({ x: point.right, y: point.bottom });\n    return {\n        top: topLeft.y,\n        left: topLeft.x,\n        bottom: bottomRight.y,\n        right: bottomRight.x,\n    };\n}\n\nexport { convertBoundingBoxToBox, convertBoxToBoundingBox, transformBoxPoints };\n","import { optimizedAppearDataAttribute } from './data-id.mjs';\n\nfunction getOptimisedAppearId(visualElement) {\n    return visualElement.props[optimizedAppearDataAttribute];\n}\n\nexport { getOptimisedAppearId };\n","function memoize(fn) {\n  var cache = Object.create(null);\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport { memoize as default };\n","import * as React from 'react';\n\nvar syncFallback = function syncFallback(create) {\n  return create();\n};\n\nvar useInsertionEffect = React['useInsertion' + 'Effect'] ? React['useInsertion' + 'Effect'] : false;\nvar useInsertionEffectAlwaysWithSyncFallback = useInsertionEffect || syncFallback;\nvar useInsertionEffectWithLayoutFallback = useInsertionEffect || React.useLayoutEffect;\n\nexport { useInsertionEffectAlwaysWithSyncFallback, useInsertionEffectWithLayoutFallback };\n","function isDOMKeyframes(keyframes) {\n    return typeof keyframes === \"object\" && !Array.isArray(keyframes);\n}\n\nexport { isDOMKeyframes };\n","import { resolveElements } from 'motion-dom';\nimport { isDOMKeyframes } from '../utils/is-dom-keyframes.mjs';\n\nfunction resolveSubjects(subject, keyframes, scope, selectorCache) {\n    if (typeof subject === \"string\" && isDOMKeyframes(keyframes)) {\n        return resolveElements(subject, scope, selectorCache);\n    }\n    else if (subject instanceof NodeList) {\n        return Array.from(subject);\n    }\n    else if (Array.isArray(subject)) {\n        return subject;\n    }\n    else {\n        return [subject];\n    }\n}\n\nexport { resolveSubjects };\n","function calculateRepeatDuration(duration, repeat, _repeatDelay) {\n    return duration * (repeat + 1);\n}\n\nexport { calculateRepeatDuration };\n","/**\n * Given a absolute or relative time definition and current/prev time state of the sequence,\n * calculate an absolute time for the next keyframes.\n */\nfunction calcNextTime(current, next, prev, labels) {\n    if (typeof next === \"number\") {\n        return next;\n    }\n    else if (next.startsWith(\"-\") || next.startsWith(\"+\")) {\n        return Math.max(0, current + parseFloat(next));\n    }\n    else if (next === \"<\") {\n        return prev;\n    }\n    else if (next.startsWith(\"<\")) {\n        return Math.max(0, prev + parseFloat(next.slice(1)));\n    }\n    else {\n        return labels.get(next) ?? current;\n    }\n}\n\nexport { calcNextTime };\n","import { mixNumber } from 'motion-dom';\nimport { getEasingForSegment, removeItem } from 'motion-utils';\n\nfunction eraseKeyframes(sequence, startTime, endTime) {\n    for (let i = 0; i < sequence.length; i++) {\n        const keyframe = sequence[i];\n        if (keyframe.at > startTime && keyframe.at < endTime) {\n            removeItem(sequence, keyframe);\n            // If we remove this item we have to push the pointer back one\n            i--;\n        }\n    }\n}\nfunction addKeyframes(sequence, keyframes, easing, offset, startTime, endTime) {\n    /**\n     * Erase every existing value between currentTime and targetTime,\n     * this will essentially splice this timeline into any currently\n     * defined ones.\n     */\n    eraseKeyframes(sequence, startTime, endTime);\n    for (let i = 0; i < keyframes.length; i++) {\n        sequence.push({\n            value: keyframes[i],\n            at: mixNumber(startTime, endTime, offset[i]),\n            easing: getEasingForSegment(easing, i),\n        });\n    }\n}\n\nexport { addKeyframes, eraseKeyframes };\n","/**\n * Take an array of times that represent repeated keyframes. For instance\n * if we have original times of [0, 0.5, 1] then our repeated times will\n * be [0, 0.5, 1, 1, 1.5, 2]. Loop over the times and scale them back\n * down to a 0-1 scale.\n */\nfunction normalizeTimes(times, repeat) {\n    for (let i = 0; i < times.length; i++) {\n        times[i] = times[i] / (repeat + 1);\n    }\n}\n\nexport { normalizeTimes };\n","function compareByTime(a, b) {\n    if (a.at === b.at) {\n        if (a.value === null)\n            return 1;\n        if (b.value === null)\n            return -1;\n        return 0;\n    }\n    else {\n        return a.at - b.at;\n    }\n}\n\nexport { compareByTime };\n","import { isMotionValue, defaultOffset, isGenerator, createGeneratorEasing, fillOffset } from 'motion-dom';\nimport { progress, secondsToMilliseconds, invariant, getEasingForSegment } from 'motion-utils';\nimport { resolveSubjects } from '../animate/resolve-subjects.mjs';\nimport { calculateRepeatDuration } from './utils/calc-repeat-duration.mjs';\nimport { calcNextTime } from './utils/calc-time.mjs';\nimport { addKeyframes } from './utils/edit.mjs';\nimport { normalizeTimes } from './utils/normalize-times.mjs';\nimport { compareByTime } from './utils/sort.mjs';\n\nconst defaultSegmentEasing = \"easeInOut\";\nconst MAX_REPEAT = 20;\nfunction createAnimationsFromSequence(sequence, { defaultTransition = {}, ...sequenceTransition } = {}, scope, generators) {\n    const defaultDuration = defaultTransition.duration || 0.3;\n    const animationDefinitions = new Map();\n    const sequences = new Map();\n    const elementCache = {};\n    const timeLabels = new Map();\n    let prevTime = 0;\n    let currentTime = 0;\n    let totalDuration = 0;\n    /**\n     * Build the timeline by mapping over the sequence array and converting\n     * the definitions into keyframes and offsets with absolute time values.\n     * These will later get converted into relative offsets in a second pass.\n     */\n    for (let i = 0; i < sequence.length; i++) {\n        const segment = sequence[i];\n        /**\n         * If this is a timeline label, mark it and skip the rest of this iteration.\n         */\n        if (typeof segment === \"string\") {\n            timeLabels.set(segment, currentTime);\n            continue;\n        }\n        else if (!Array.isArray(segment)) {\n            timeLabels.set(segment.name, calcNextTime(currentTime, segment.at, prevTime, timeLabels));\n            continue;\n        }\n        let [subject, keyframes, transition = {}] = segment;\n        /**\n         * If a relative or absolute time value has been specified we need to resolve\n         * it in relation to the currentTime.\n         */\n        if (transition.at !== undefined) {\n            currentTime = calcNextTime(currentTime, transition.at, prevTime, timeLabels);\n        }\n        /**\n         * Keep track of the maximum duration in this definition. This will be\n         * applied to currentTime once the definition has been parsed.\n         */\n        let maxDuration = 0;\n        const resolveValueSequence = (valueKeyframes, valueTransition, valueSequence, elementIndex = 0, numSubjects = 0) => {\n            const valueKeyframesAsList = keyframesAsList(valueKeyframes);\n            const { delay = 0, times = defaultOffset(valueKeyframesAsList), type = \"keyframes\", repeat, repeatType, repeatDelay = 0, ...remainingTransition } = valueTransition;\n            let { ease = defaultTransition.ease || \"easeOut\", duration } = valueTransition;\n            /**\n             * Resolve stagger() if defined.\n             */\n            const calculatedDelay = typeof delay === \"function\"\n                ? delay(elementIndex, numSubjects)\n                : delay;\n            /**\n             * If this animation should and can use a spring, generate a spring easing function.\n             */\n            const numKeyframes = valueKeyframesAsList.length;\n            const createGenerator = isGenerator(type)\n                ? type\n                : generators?.[type || \"keyframes\"];\n            if (numKeyframes <= 2 && createGenerator) {\n                /**\n                 * As we're creating an easing function from a spring,\n                 * ideally we want to generate it using the real distance\n                 * between the two keyframes. However this isn't always\n                 * possible - in these situations we use 0-100.\n                 */\n                let absoluteDelta = 100;\n                if (numKeyframes === 2 &&\n                    isNumberKeyframesArray(valueKeyframesAsList)) {\n                    const delta = valueKeyframesAsList[1] - valueKeyframesAsList[0];\n                    absoluteDelta = Math.abs(delta);\n                }\n                const springTransition = { ...remainingTransition };\n                if (duration !== undefined) {\n                    springTransition.duration = secondsToMilliseconds(duration);\n                }\n                const springEasing = createGeneratorEasing(springTransition, absoluteDelta, createGenerator);\n                ease = springEasing.ease;\n                duration = springEasing.duration;\n            }\n            duration ?? (duration = defaultDuration);\n            const startTime = currentTime + calculatedDelay;\n            /**\n             * If there's only one time offset of 0, fill in a second with length 1\n             */\n            if (times.length === 1 && times[0] === 0) {\n                times[1] = 1;\n            }\n            /**\n             * Fill out if offset if fewer offsets than keyframes\n             */\n            const remainder = times.length - valueKeyframesAsList.length;\n            remainder > 0 && fillOffset(times, remainder);\n            /**\n             * If only one value has been set, ie [1], push a null to the start of\n             * the keyframe array. This will let us mark a keyframe at this point\n             * that will later be hydrated with the previous value.\n             */\n            valueKeyframesAsList.length === 1 &&\n                valueKeyframesAsList.unshift(null);\n            /**\n             * Handle repeat options\n             */\n            if (repeat) {\n                invariant(repeat < MAX_REPEAT, \"Repeat count too high, must be less than 20\", \"repeat-count-high\");\n                duration = calculateRepeatDuration(duration, repeat);\n                const originalKeyframes = [...valueKeyframesAsList];\n                const originalTimes = [...times];\n                ease = Array.isArray(ease) ? [...ease] : [ease];\n                const originalEase = [...ease];\n                for (let repeatIndex = 0; repeatIndex < repeat; repeatIndex++) {\n                    valueKeyframesAsList.push(...originalKeyframes);\n                    for (let keyframeIndex = 0; keyframeIndex < originalKeyframes.length; keyframeIndex++) {\n                        times.push(originalTimes[keyframeIndex] + (repeatIndex + 1));\n                        ease.push(keyframeIndex === 0\n                            ? \"linear\"\n                            : getEasingForSegment(originalEase, keyframeIndex - 1));\n                    }\n                }\n                normalizeTimes(times, repeat);\n            }\n            const targetTime = startTime + duration;\n            /**\n             * Add keyframes, mapping offsets to absolute time.\n             */\n            addKeyframes(valueSequence, valueKeyframesAsList, ease, times, startTime, targetTime);\n            maxDuration = Math.max(calculatedDelay + duration, maxDuration);\n            totalDuration = Math.max(targetTime, totalDuration);\n        };\n        if (isMotionValue(subject)) {\n            const subjectSequence = getSubjectSequence(subject, sequences);\n            resolveValueSequence(keyframes, transition, getValueSequence(\"default\", subjectSequence));\n        }\n        else {\n            const subjects = resolveSubjects(subject, keyframes, scope, elementCache);\n            const numSubjects = subjects.length;\n            /**\n             * For every element in this segment, process the defined values.\n             */\n            for (let subjectIndex = 0; subjectIndex < numSubjects; subjectIndex++) {\n                /**\n                 * Cast necessary, but we know these are of this type\n                 */\n                keyframes = keyframes;\n                transition = transition;\n                const thisSubject = subjects[subjectIndex];\n                const subjectSequence = getSubjectSequence(thisSubject, sequences);\n                for (const key in keyframes) {\n                    resolveValueSequence(keyframes[key], getValueTransition(transition, key), getValueSequence(key, subjectSequence), subjectIndex, numSubjects);\n                }\n            }\n        }\n        prevTime = currentTime;\n        currentTime += maxDuration;\n    }\n    /**\n     * For every element and value combination create a new animation.\n     */\n    sequences.forEach((valueSequences, element) => {\n        for (const key in valueSequences) {\n            const valueSequence = valueSequences[key];\n            /**\n             * Arrange all the keyframes in ascending time order.\n             */\n            valueSequence.sort(compareByTime);\n            const keyframes = [];\n            const valueOffset = [];\n            const valueEasing = [];\n            /**\n             * For each keyframe, translate absolute times into\n             * relative offsets based on the total duration of the timeline.\n             */\n            for (let i = 0; i < valueSequence.length; i++) {\n                const { at, value, easing } = valueSequence[i];\n                keyframes.push(value);\n                valueOffset.push(progress(0, totalDuration, at));\n                valueEasing.push(easing || \"easeOut\");\n            }\n            /**\n             * If the first keyframe doesn't land on offset: 0\n             * provide one by duplicating the initial keyframe. This ensures\n             * it snaps to the first keyframe when the animation starts.\n             */\n            if (valueOffset[0] !== 0) {\n                valueOffset.unshift(0);\n                keyframes.unshift(keyframes[0]);\n                valueEasing.unshift(defaultSegmentEasing);\n            }\n            /**\n             * If the last keyframe doesn't land on offset: 1\n             * provide one with a null wildcard value. This will ensure it\n             * stays static until the end of the animation.\n             */\n            if (valueOffset[valueOffset.length - 1] !== 1) {\n                valueOffset.push(1);\n                keyframes.push(null);\n            }\n            if (!animationDefinitions.has(element)) {\n                animationDefinitions.set(element, {\n                    keyframes: {},\n                    transition: {},\n                });\n            }\n            const definition = animationDefinitions.get(element);\n            definition.keyframes[key] = keyframes;\n            definition.transition[key] = {\n                ...defaultTransition,\n                duration: totalDuration,\n                ease: valueEasing,\n                times: valueOffset,\n                ...sequenceTransition,\n            };\n        }\n    });\n    return animationDefinitions;\n}\nfunction getSubjectSequence(subject, sequences) {\n    !sequences.has(subject) && sequences.set(subject, {});\n    return sequences.get(subject);\n}\nfunction getValueSequence(name, sequences) {\n    if (!sequences[name])\n        sequences[name] = [];\n    return sequences[name];\n}\nfunction keyframesAsList(keyframes) {\n    return Array.isArray(keyframes) ? keyframes : [keyframes];\n}\nfunction getValueTransition(transition, key) {\n    return transition && transition[key]\n        ? {\n            ...transition,\n            ...transition[key],\n        }\n        : { ...transition };\n}\nconst isNumber = (keyframe) => typeof keyframe === \"number\";\nconst isNumberKeyframesArray = (keyframes) => keyframes.every(isNumber);\n\nexport { createAnimationsFromSequence, getValueTransition };\n","import { createBox } from '../../projection/geometry/models.mjs';\nimport { VisualElement } from '../VisualElement.mjs';\n\nfunction isObjectKey(key, object) {\n    return key in object;\n}\nclass ObjectVisualElement extends VisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"object\";\n    }\n    readValueFromInstance(instance, key) {\n        if (isObjectKey(key, instance)) {\n            const value = instance[key];\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                return value;\n            }\n        }\n        return undefined;\n    }\n    getBaseTargetFromProps() {\n        return undefined;\n    }\n    removeValueFromRenderState(key, renderState) {\n        delete renderState.output[key];\n    }\n    measureInstanceViewportBox() {\n        return createBox();\n    }\n    build(renderState, latestValues) {\n        Object.assign(renderState.output, latestValues);\n    }\n    renderInstance(instance, { output }) {\n        Object.assign(instance, output);\n    }\n    sortInstanceNodePosition() {\n        return 0;\n    }\n}\n\nexport { ObjectVisualElement };\n","import { isSVGElement, isSVGSVGElement } from 'motion-dom';\nimport { HTMLVisualElement } from '../../render/html/HTMLVisualElement.mjs';\nimport { ObjectVisualElement } from '../../render/object/ObjectVisualElement.mjs';\nimport { visualElementStore } from '../../render/store.mjs';\nimport { SVGVisualElement } from '../../render/svg/SVGVisualElement.mjs';\n\nfunction createDOMVisualElement(element) {\n    const options = {\n        presenceContext: null,\n        props: {},\n        visualState: {\n            renderState: {\n                transform: {},\n                transformOrigin: {},\n                style: {},\n                vars: {},\n                attrs: {},\n            },\n            latestValues: {},\n        },\n    };\n    const node = isSVGElement(element) && !isSVGSVGElement(element)\n        ? new SVGVisualElement(options)\n        : new HTMLVisualElement(options);\n    node.mount(element);\n    visualElementStore.set(element, node);\n}\nfunction createObjectVisualElement(subject) {\n    const options = {\n        presenceContext: null,\n        props: {},\n        visualState: {\n            renderState: {\n                output: {},\n            },\n            latestValues: {},\n        },\n    };\n    const node = new ObjectVisualElement(options);\n    node.mount(subject);\n    visualElementStore.set(subject, node);\n}\n\nexport { createDOMVisualElement, createObjectVisualElement };\n","import { isMotionValue } from 'motion-dom';\nimport { invariant } from 'motion-utils';\nimport { visualElementStore } from '../../render/store.mjs';\nimport { animateTarget } from '../interfaces/visual-element-target.mjs';\nimport { createDOMVisualElement, createObjectVisualElement } from '../utils/create-visual-element.mjs';\nimport { isDOMKeyframes } from '../utils/is-dom-keyframes.mjs';\nimport { resolveSubjects } from './resolve-subjects.mjs';\nimport { animateSingleValue } from './single-value.mjs';\n\nfunction isSingleValue(subject, keyframes) {\n    return (isMotionValue(subject) ||\n        typeof subject === \"number\" ||\n        (typeof subject === \"string\" && !isDOMKeyframes(keyframes)));\n}\n/**\n * Implementation\n */\nfunction animateSubject(subject, keyframes, options, scope) {\n    const animations = [];\n    if (isSingleValue(subject, keyframes)) {\n        animations.push(animateSingleValue(subject, isDOMKeyframes(keyframes)\n            ? keyframes.default || keyframes\n            : keyframes, options ? options.default || options : options));\n    }\n    else {\n        const subjects = resolveSubjects(subject, keyframes, scope);\n        const numSubjects = subjects.length;\n        invariant(Boolean(numSubjects), \"No valid elements provided.\", \"no-valid-elements\");\n        for (let i = 0; i < numSubjects; i++) {\n            const thisSubject = subjects[i];\n            invariant(thisSubject !== null, \"You're trying to perform an animation on null. Ensure that selectors are correctly finding elements and refs are correctly hydrated.\", \"animate-null\");\n            const createVisualElement = thisSubject instanceof Element\n                ? createDOMVisualElement\n                : createObjectVisualElement;\n            if (!visualElementStore.has(thisSubject)) {\n                createVisualElement(thisSubject);\n            }\n            const visualElement = visualElementStore.get(thisSubject);\n            const transition = { ...options };\n            /**\n             * Resolve stagger function if provided.\n             */\n            if (\"delay\" in transition &&\n                typeof transition.delay === \"function\") {\n                transition.delay = transition.delay(i, numSubjects);\n            }\n            animations.push(...animateTarget(visualElement, { ...keyframes, transition }, {}));\n        }\n    }\n    return animations;\n}\n\nexport { animateSubject };\n","import { GroupAnimationWithThen } from 'motion-dom';\nimport { removeItem } from 'motion-utils';\nimport { animateSequence } from './sequence.mjs';\nimport { animateSubject } from './subject.mjs';\n\nfunction isSequence(value) {\n    return Array.isArray(value) && value.some(Array.isArray);\n}\n/**\n * Creates an animation function that is optionally scoped\n * to a specific element.\n */\nfunction createScopedAnimate(scope) {\n    /**\n     * Implementation\n     */\n    function scopedAnimate(subjectOrSequence, optionsOrKeyframes, options) {\n        let animations = [];\n        let animationOnComplete;\n        if (isSequence(subjectOrSequence)) {\n            animations = animateSequence(subjectOrSequence, optionsOrKeyframes, scope);\n        }\n        else {\n            // Extract top-level onComplete so it doesn't get applied per-value\n            const { onComplete, ...rest } = options || {};\n            if (typeof onComplete === \"function\") {\n                animationOnComplete = onComplete;\n            }\n            animations = animateSubject(subjectOrSequence, optionsOrKeyframes, rest, scope);\n        }\n        const animation = new GroupAnimationWithThen(animations);\n        if (animationOnComplete) {\n            animation.finished.then(animationOnComplete);\n        }\n        if (scope) {\n            scope.animations.push(animation);\n            animation.finished.then(() => {\n                removeItem(scope.animations, animation);\n            });\n        }\n        return animation;\n    }\n    return scopedAnimate;\n}\nconst animate = createScopedAnimate();\n\nexport { animate, createScopedAnimate };\n","import { spring } from 'motion-dom';\nimport { createAnimationsFromSequence } from '../sequence/create.mjs';\nimport { animateSubject } from './subject.mjs';\n\nfunction animateSequence(sequence, options, scope) {\n    const animations = [];\n    const animationDefinitions = createAnimationsFromSequence(sequence, options, scope, { spring });\n    animationDefinitions.forEach(({ keyframes, transition }, subject) => {\n        animations.push(...animateSubject(subject, keyframes, transition));\n    });\n    return animations;\n}\n\nexport { animateSequence };\n","/**\n * A set of attribute names that are always read/written as camel case.\n */\nconst camelCaseAttributes = new Set([\n    \"baseFrequency\",\n    \"diffuseConstant\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerWidth\",\n    \"numOctaves\",\n    \"targetX\",\n    \"targetY\",\n    \"surfaceScale\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"stdDeviation\",\n    \"tableValues\",\n    \"viewBox\",\n    \"gradientTransform\",\n    \"pathLength\",\n    \"startOffset\",\n    \"textLength\",\n    \"lengthAdjust\",\n]);\n\nexport { camelCaseAttributes };\n","import { transformProps, getDefaultValueType } from 'motion-dom';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { camelToDash } from '../dom/utils/camel-to-dash.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\nimport { renderSVG } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\n\nclass SVGVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"svg\";\n        this.isSVGTag = false;\n        this.measureInstanceViewportBox = createBox;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props[key];\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        return instance.getAttribute(key);\n    }\n    scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n        return scrapeMotionValuesFromProps(props, prevProps, visualElement);\n    }\n    build(renderState, latestValues, props) {\n        buildSVGAttrs(renderState, latestValues, this.isSVGTag, props.transformTemplate, props.style);\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderSVG(instance, renderState, styleProp, projection);\n    }\n    mount(instance) {\n        this.isSVGTag = isSVGTag(instance.tagName);\n        super.mount(instance);\n    }\n}\n\nexport { SVGVisualElement };\n","import { camelToDash } from '../../dom/utils/camel-to-dash.mjs';\nimport { renderHTML } from '../../html/utils/render.mjs';\nimport { camelCaseAttributes } from './camel-case-attrs.mjs';\n\nfunction renderSVG(element, renderState, _styleProp, projection) {\n    renderHTML(element, renderState, undefined, projection);\n    for (const key in renderState.attrs) {\n        element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n    }\n}\n\nexport { renderSVG };\n","import { convertBoundingBoxToBox, transformBoxPoints } from '../geometry/conversion.mjs';\nimport { translateAxis } from '../geometry/delta-apply.mjs';\n\nfunction measureViewportBox(instance, transformPoint) {\n    return convertBoundingBoxToBox(transformBoxPoints(instance.getBoundingClientRect(), transformPoint));\n}\nfunction measurePageBox(element, rootProjectionNode, transformPagePoint) {\n    const viewportBox = measureViewportBox(element, transformPagePoint);\n    const { scroll } = rootProjectionNode;\n    if (scroll) {\n        translateAxis(viewportBox.x, scroll.offset.x);\n        translateAxis(viewportBox.y, scroll.offset.y);\n    }\n    return viewportBox;\n}\n\nexport { measurePageBox, measureViewportBox };\n","import memoize from '@emotion/memoize';\n\n// eslint-disable-next-line no-undef\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar isPropValid = /* #__PURE__ */memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport { isPropValid as default };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { withEmotionCache, ThemeContext } from '@emotion/react';\nimport { serializeStyles } from '@emotion/serialize';\nimport { useInsertionEffectAlwaysWithSyncFallback } from '@emotion/use-insertion-effect-with-fallbacks';\nimport { getRegisteredStyles, registerStyles, insertStyles } from '@emotion/utils';\nimport * as React from 'react';\nimport isPropValid from '@emotion/is-prop-valid';\n\nvar isDevelopment = false;\n\nvar testOmitPropsOnStringTag = isPropValid;\n\nvar testOmitPropsOnComponent = function testOmitPropsOnComponent(key) {\n  return key !== 'theme';\n};\n\nvar getDefaultShouldForwardProp = function getDefaultShouldForwardProp(tag) {\n  return typeof tag === 'string' && // 96 is one less than the char code\n  // for \"a\" so this is checking that\n  // it's a lowercase character\n  tag.charCodeAt(0) > 96 ? testOmitPropsOnStringTag : testOmitPropsOnComponent;\n};\nvar composeShouldForwardProps = function composeShouldForwardProps(tag, options, isReal) {\n  var shouldForwardProp;\n\n  if (options) {\n    var optionsShouldForwardProp = options.shouldForwardProp;\n    shouldForwardProp = tag.__emotion_forwardProp && optionsShouldForwardProp ? function (propName) {\n      return tag.__emotion_forwardProp(propName) && optionsShouldForwardProp(propName);\n    } : optionsShouldForwardProp;\n  }\n\n  if (typeof shouldForwardProp !== 'function' && isReal) {\n    shouldForwardProp = tag.__emotion_forwardProp;\n  }\n\n  return shouldForwardProp;\n};\n\nvar Insertion = function Insertion(_ref) {\n  var cache = _ref.cache,\n      serialized = _ref.serialized,\n      isStringTag = _ref.isStringTag;\n  registerStyles(cache, serialized, isStringTag);\n  useInsertionEffectAlwaysWithSyncFallback(function () {\n    return insertStyles(cache, serialized, isStringTag);\n  });\n\n  return null;\n};\n\nvar createStyled = function createStyled(tag, options) {\n\n  var isReal = tag.__emotion_real === tag;\n  var baseTag = isReal && tag.__emotion_base || tag;\n  var identifierName;\n  var targetClassName;\n\n  if (options !== undefined) {\n    identifierName = options.label;\n    targetClassName = options.target;\n  }\n\n  var shouldForwardProp = composeShouldForwardProps(tag, options, isReal);\n  var defaultShouldForwardProp = shouldForwardProp || getDefaultShouldForwardProp(baseTag);\n  var shouldUseAs = !defaultShouldForwardProp('as');\n  return function () {\n    // eslint-disable-next-line prefer-rest-params\n    var args = arguments;\n    var styles = isReal && tag.__emotion_styles !== undefined ? tag.__emotion_styles.slice(0) : [];\n\n    if (identifierName !== undefined) {\n      styles.push(\"label:\" + identifierName + \";\");\n    }\n\n    if (args[0] == null || args[0].raw === undefined) {\n      // eslint-disable-next-line prefer-spread\n      styles.push.apply(styles, args);\n    } else {\n      var templateStringsArr = args[0];\n\n      styles.push(templateStringsArr[0]);\n      var len = args.length;\n      var i = 1;\n\n      for (; i < len; i++) {\n\n        styles.push(args[i], templateStringsArr[i]);\n      }\n    }\n\n    var Styled = withEmotionCache(function (props, cache, ref) {\n      var FinalTag = shouldUseAs && props.as || baseTag;\n      var className = '';\n      var classInterpolations = [];\n      var mergedProps = props;\n\n      if (props.theme == null) {\n        mergedProps = {};\n\n        for (var key in props) {\n          mergedProps[key] = props[key];\n        }\n\n        mergedProps.theme = React.useContext(ThemeContext);\n      }\n\n      if (typeof props.className === 'string') {\n        className = getRegisteredStyles(cache.registered, classInterpolations, props.className);\n      } else if (props.className != null) {\n        className = props.className + \" \";\n      }\n\n      var serialized = serializeStyles(styles.concat(classInterpolations), cache.registered, mergedProps);\n      className += cache.key + \"-\" + serialized.name;\n\n      if (targetClassName !== undefined) {\n        className += \" \" + targetClassName;\n      }\n\n      var finalShouldForwardProp = shouldUseAs && shouldForwardProp === undefined ? getDefaultShouldForwardProp(FinalTag) : defaultShouldForwardProp;\n      var newProps = {};\n\n      for (var _key in props) {\n        if (shouldUseAs && _key === 'as') continue;\n\n        if (finalShouldForwardProp(_key)) {\n          newProps[_key] = props[_key];\n        }\n      }\n\n      newProps.className = className;\n\n      if (ref) {\n        newProps.ref = ref;\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Insertion, {\n        cache: cache,\n        serialized: serialized,\n        isStringTag: typeof FinalTag === 'string'\n      }), /*#__PURE__*/React.createElement(FinalTag, newProps));\n    });\n    Styled.displayName = identifierName !== undefined ? identifierName : \"Styled(\" + (typeof baseTag === 'string' ? baseTag : baseTag.displayName || baseTag.name || 'Component') + \")\";\n    Styled.defaultProps = tag.defaultProps;\n    Styled.__emotion_real = Styled;\n    Styled.__emotion_base = baseTag;\n    Styled.__emotion_styles = styles;\n    Styled.__emotion_forwardProp = shouldForwardProp;\n    Object.defineProperty(Styled, 'toString', {\n      value: function value() {\n        if (targetClassName === undefined && isDevelopment) {\n          return 'NO_COMPONENT_SELECTOR';\n        }\n\n        return \".\" + targetClassName;\n      }\n    });\n\n    Styled.withComponent = function (nextTag, nextOptions) {\n      var newStyled = createStyled(nextTag, _extends({}, options, nextOptions, {\n        shouldForwardProp: composeShouldForwardProps(Styled, nextOptions, true)\n      }));\n      return newStyled.apply(void 0, styles);\n    };\n\n    return Styled;\n  };\n};\n\nexport { createStyled as default };\n","import createStyled from '../base/dist/emotion-styled-base.browser.esm.js';\nimport '@babel/runtime/helpers/extends';\nimport '@emotion/react';\nimport '@emotion/serialize';\nimport '@emotion/use-insertion-effect-with-fallbacks';\nimport '@emotion/utils';\nimport 'react';\nimport '@emotion/is-prop-valid';\n\nvar tags = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', // SVG\n'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\n\n// bind it to avoid mutating the original function\nvar newStyled = createStyled.bind(null);\ntags.forEach(function (tagName) {\n  newStyled[tagName] = newStyled(tagName);\n});\n\nexport { newStyled as default };\n","import { isMotionValue, transformPropOrder } from 'motion-dom';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n    const newValues = scrapeMotionValuesFromProps$1(props, prevProps, visualElement);\n    for (const key in props) {\n        if (isMotionValue(props[key]) ||\n            isMotionValue(prevProps[key])) {\n            const targetKey = transformPropOrder.indexOf(key) !== -1\n                ? \"attr\" + key.charAt(0).toUpperCase() + key.substring(1)\n                : key;\n            newValues[targetKey] = props[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { MotionGlobalConfig } from 'motion-utils';\nimport { isWillChangeMotionValue } from './is.mjs';\n\nfunction addValueToWillChange(visualElement, key) {\n    const willChange = visualElement.getValue(\"willChange\");\n    /**\n     * It could be that a user has set willChange to a regular MotionValue,\n     * in which case we can't add the value to it.\n     */\n    if (isWillChangeMotionValue(willChange)) {\n        return willChange.add(key);\n    }\n    else if (!willChange && MotionGlobalConfig.WillChange) {\n        const newWillChange = new MotionGlobalConfig.WillChange(\"auto\");\n        visualElement.addValue(\"willChange\", newWillChange);\n        newWillChange.add(key);\n    }\n}\n\nexport { addValueToWillChange };\n","import { isMotionValue } from 'motion-dom';\n\nfunction isWillChangeMotionValue(value) {\n    return Boolean(isMotionValue(value) && value.add);\n}\n\nexport { isWillChangeMotionValue };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { variantProps } from './variant-props.mjs';\n\nfunction isControllingVariants(props) {\n    return (isAnimationControls(props.animate) ||\n        variantProps.some((name) => isVariantLabel(props[name])));\n}\nfunction isVariantNode(props) {\n    return Boolean(isControllingVariants(props) || props.variants);\n}\n\nexport { isControllingVariants, isVariantNode };\n","\"use client\";\nimport { motionValue } from 'motion-dom';\nimport { useContext, useState, useEffect } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { useConstant } from '../utils/use-constant.mjs';\n\n/**\n * Creates a `MotionValue` to track the state and velocity of a value.\n *\n * Usually, these are created automatically. For advanced use-cases, like use with `useTransform`, you can create `MotionValue`s externally and pass them into the animated component via the `style` prop.\n *\n * ```jsx\n * export const MyComponent = () => {\n *   const scale = useMotionValue(1)\n *\n *   return <motion.div style={{ scale }} />\n * }\n * ```\n *\n * @param initial - The initial state.\n *\n * @public\n */\nfunction useMotionValue(initial) {\n    const value = useConstant(() => motionValue(initial));\n    /**\n     * If this motion value is being used in static mode, like on\n     * the Framer canvas, force components to rerender when the motion\n     * value is updated.\n     */\n    const { isStatic } = useContext(MotionConfigContext);\n    if (isStatic) {\n        const [, setLatest] = useState(initial);\n        useEffect(() => value.on(\"change\", setLatest), []);\n    }\n    return value;\n}\n\nexport { useMotionValue };\n","const visualElementStore = new WeakMap();\n\nexport { visualElementStore };\n"],"names":["maxElapsed","createScrollInfo","time","x","current","offset","progress","scrollLength","targetOffset","targetLength","containerLength","velocity","y","keys","length","position","updateAxisInfo","element","axisName","info","axis","prev","prevTime","elapsed","namedEdges","start","center","end","resolveEdge","edge","inset","delta","asNumber","parseFloat","endsWith","document","documentElement","clientWidth","clientHeight","defaultOffset","resolveOffset","targetInset","offsetDefinition","Array","isArray","targetPoint","containerPoint","trim","includes","split","ScrollOffset","Enter","Exit","Any","All","point","createOnScrollHandler","onScroll","options","measure","container","target","node","offsetLeft","offsetTop","offsetParent","scrollWidth","scrollHeight","updateScrollInfo","lengthLabel","tagName","svgBoundingBox","getBoundingClientRect","parentElement","parentBoundingBox","left","top","SVGGraphicsElement","getBBox","svg","parent","parentNode","calcInset","targetSize","width","height","getTargetSize","containerSize","hasChanged","interpolate","numOffsets","i","interpolatorOffsets","clamp","resolveOffsets","notify","scrollListeners","WeakMap","resizeListeners","onScrollHandlers","getEventTarget","scrollingElement","window","scrollInfo","noop","containerHandlers","get","Set","set","containerHandler","add","has","measureAll","handler","timestamp","preUpdate","notifyAll","listener","read","addEventListener","passive","resize","currentHandlers","delete","size","scrollListener","removeEventListener","timelineCache","Map","getTimeline","source","containerCache","targetKey","targetCache","axisKey","join","ScrollTimeline","currentTime","value","cancel","scrollTimelineFallback","createScrollMotionValues","scrollX","scrollY","scrollXProgress","scrollYProgress","isRefPending","ref","useScroll","values","scrollAnimation","useRef","needsStart","useCallback","optionsWithDefaults","isOnScrollWithInfo","observe","attachToFunction","animation","timeline","attachTimeline","undefined","valueAnimation","pause","iterationDuration","attachToAnimation","_progress","JSON","stringify","useEffect","useIsomorphicLayoutEffect","useLayoutEffect","animateSingleValue","keyframes","motionValue$1","scrapeMotionValuesFromProps","props","prevProps","visualElement","style","newValues","key","getValue","liveStyle","PresenceContext","createContext","usePresence","subscribe","context","useContext","isPresent","onExitComplete","register","id","useId","safeToRemove","useIsPresent","camelToDash","str","replace","toLowerCase","featureProps","exit","drag","focus","hover","tap","pan","inView","layout","featureDefinitions","isEnabled","some","name","isForcedMotionValue","layoutId","startsWith","unitlessKeys","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","fontWeight","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","WebkitLineClamp","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","isDevelopment","hyphenateRegex","animationRegex","isCustomProperty","property","charCodeAt","isProcessableValue","processStyleName","styleName","processStyleValue","match","p1","p2","cursor","styles","next","noComponentSelectorMessage","handleInterpolation","mergedProps","registered","interpolation","componentSelector","__emotion_styles","anim","serializedStyles","obj","string","asString","Error","interpolated","_i","createStringFromObject","previousCursor","result","cached","labelPattern","serializeStyles","args","stringMode","strings","raw","lastIndex","identifierName","exec","k","h","len","toString","isVariantLabel","v","isSVGTag","tag","scaleCorrectors","addScaleCorrector","correctors","isCSSVariable","isKeyframesTarget","createDelta","translate","origin","originPoint","createBox","min","max","isIdentityScale","hasScale","scaleX","scaleY","hasTransform","has2DTranslate","z","rotate","rotateX","rotateY","skewX","skewY","is2DTranslate","thresholds","all","useInView","root","margin","amount","once","initial","isInView","setInView","useState","elementOrSelector","onStart","rootMargin","elements","activeIntersections","observer","IntersectionObserver","entries","forEach","entry","onEnd","isIntersecting","Boolean","newOnEnd","unobserve","threshold","disconnect","renderHTML","vars","styleProp","projection","elementStyle","applyProjectionStyles","setProperty","isNotNull","underDampedSpring","type","stiffness","damping","restSpeed","keyframesTransition","duration","ease","animateMotionValue","transition","isHandoff","onComplete","valueTransition","delay","getVelocity","onUpdate","motionValue","when","_delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","Object","isTransitionDefined","assign","valueKey","Math","sqrt","getDefaultTransition","shouldSkip","instantAnimations","skipAnimations","allowFlatten","finalKeyframe","resolvedKeyframes","filter","index","getFinalKeyframe","update","isSync","JSAnimation","AsyncMotionValueAnimation","A","useCombineMotionValues","combineValues","updateValue","scheduleUpdate","preRender","subscriptions","map","on","unsubscribe","useTransform","input","inputRangeOrTransformer","outputRange","compute","useComputed","transformer","transform","useListTransform","latest","numValues","optimizedAppearDataAttribute","dashKeys","array","camelKeys","buildSVGAttrs","state","attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset","transformTemplate","viewBox","attrs","transformOrigin","transformBox","spacing","useDashCase","px","buildSVGPath","isAnimationControls","_jsx","JSX","jsx","arguments","call","apply","argsLength","createElementArgArray","E","c","Global","w","cache","serialized","T","sheetRef","sheet","constructor","nonce","speedy","isSpeedy","rehydrating","querySelector","tags","before","setAttribute","hydrate","flush","sheetRefCurrent","nextElementSibling","insert","css","_len","_key","insertable","this","getRegisteredStyles","registeredStyles","classNames","rawClassName","className","push","registerStyles","isStringTag","insertStyles","inserted","isBrowser","HTMLVisualElement","super","renderInstance","readValueFromInstance","instance","isProjecting","computedStyle","getComputedStyle","getPropertyValue","measureInstanceViewportBox","transformPagePoint","m","build","renderState","latestValues","useConstant","init","resolveVariant","definition","custom","getProps","setRef","PopChildMeasure","getSnapshotBeforeUpdate","childRef","parentWidth","offsetWidth","sizeRef","offsetHeight","right","componentDidUpdate","render","children","PopChild","anchorX","MotionConfigContext","composedRef","refs","hasCleanup","cleanups","cleanup","composeRefs","useComposedRefs","useInsertionEffect","dataset","motionPopId","createElement","head","appendChild","insertRule","contains","removeChild","PresenceChild","presenceAffectsLayout","mode","presenceChildren","newChildrenMap","isReusedContext","useMemo","childId","isComplete","_","Provider","getChildKey","child","onlyElements","filtered","Children","isValidElement","AnimatePresence","propagate","isParentPresent","presentChildren","presentKeys","isInitialRender","pendingPresentChildren","exitComplete","diffedChildren","setDiffedChildren","renderedChildren","setRenderedChildren","exitingChildren","nextChildren","splice","forceRender","LayoutGroupContext","L","Fragment","isEveryExitComplete","isExitComplete","StyleSheet","_this","_insertTag","insertionPoint","nextSibling","prepend","firstChild","insertBefore","ctr","_proto","prototype","nodes","rule","createTextNode","createStyleElement","styleSheets","ownerNode","sheetForTag","cssRules","e","_tag$parentNode","identifierWithPointTracking","begin","points","previous","character","fixedElements","compat","isImplicitRule","column","line","rules","parsed","toRules","getRules","parentRules","j","removeLabel","prefix","MS","defaultStylisPlugins","callback","createCache","ssrStyles","querySelectorAll","getAttribute","indexOf","_insert","stylisPlugins","nodesToHydrate","attrib","currentSheet","omnipresentPlugins","finalizingPlugins","serializer","concat","selector","shouldCache","translateAlias","transformPerspective","numTransforms","buildHTMLStyles","hasTransformOrigin","valueAsType","number","transformString","transformIsDefault","valueIsDefault","buildTransform","originX","originY","originZ","DOMVisualElement","KeyframeResolver","sortInstanceNodePosition","a","b","compareDocumentPosition","getBaseTargetFromProps","removeValueFromRenderState","handleChildMotionValue","childSubscription","textContent","scalePoint","applyPointDelta","boxScale","applyAxisDelta","applyBoxDelta","box","TREE_SCALE_SNAP_MIN","TREE_SCALE_SNAP_MAX","applyTreeDeltas","treeScale","treePath","isSharedTransition","treeLength","projectionDelta","display","layoutScroll","scroll","translateAxis","distance","transformAxis","axisTranslate","axisScale","axisOrigin","lowercaseSVGElements","isSVGComponent","Component","test","createDomVisualElement","SVGVisualElement","allowProjection","LazyContext","strict","MotionContext","variantLabelsAsDependency","prop","copyRawValuesOnly","useHTMLProps","visualState","htmlProps","useInitialMotionValues","useStyle","dragListener","draggable","userSelect","WebkitUserSelect","WebkitTouchCallout","touchAction","tabIndex","onTap","onTapStart","whileTap","useSVGProps","_isStatic","visualProps","rawStyles","validMotionProps","isValidMotionProp","shouldForward","isValidProp","require","default","useRender","isStatic","forwardMotionProps","filteredProps","isDom","filterProps","elementProps","resolveMotionValue","makeLatestValues","presenceContext","scrapeMotionValues","motionValues","animate","isControllingVariants$1","isVariantNode$1","inherit","isInitialAnimationBlocked","variantToSet","list","resolved","transitionEnd","valueTarget","makeUseVisualState","config","make","createRenderState","makeState","useHTMLVisualState","useSVGVisualState","motionComponentSymbol","Symbol","for","isRefObject","hasOwnProperty","useMotionRef","externalRef","onMount","mount","unmount","SwitchLayoutGroupContext","useVisualElement","createVisualElement","ProjectionNodeConstructor","lazyContext","reducedMotionConfig","reducedMotion","visualElementRef","renderer","blockInitialAnimation","initialLayoutGroupConfig","initialPromotionConfig","dragConstraints","layoutRoot","layoutCrossfade","getClosestProjectingNode","setOptions","alwaysMeasureLayout","animationType","crossfade","createProjectionNode","isMounted","optimisedAppearId","wantsHandoff","MotionHandoffIsComplete","MotionHasOptimisedAnimation","MotionIsMounted","updateFeatures","scheduleRenderMicrotask","animationState","animateChanges","queueMicrotask","MotionHandoffMarkAsComplete","enteringChildren","createMotionComponent","preloadedFeatures","features","loadFeatures","useVisualState","MotionDOMComponent","MeasureLayout","configAndProps","useLayoutId","getCurrentTreeVariants","useCreateMotionContext","layoutProjection","combined","ProjectionNode","getProjectionFunctionality","jsxs","displayName","ForwardRefMotionComponent","forwardRef","layoutGroupId","createMotionProxy","Proxy","componentCache","factory","_target","calcChildStagger","sort","sortNodePosition","numChildren","maxStaggerDuration","animateVariant","variant","transitionOverride","getAnimation","Promise","resolve","getChildAnimations","variantChildren","forwardDelay","animations","then","animateChildren","first","last","shallowCompare","prevLength","numVariantProps","getVariantContext","isControllingVariants","reversePriorityOrder","reverse","numAnimationTypes","createAnimationState","resolvedDefinition","animateVisualElement","animateList","createState","buildResolvedTypeValues","acc","changedActiveType","removedKeys","encounteredKeys","removedVariantIndex","Infinity","typeState","propIsVariant","activeDelta","isActive","isInherited","manuallyAnimateOnMount","protectedKeys","prevProp","variantDidChange","shouldAnimateType","handledRemovedValues","definitionList","resolvedValues","reduce","prevResolvedValues","allKeys","markToAnimate","needsAnimating","valueHasChanged","willAnimateViaParent","parentVariant","fallbackAnimation","initialTransition","fallbackTarget","getBaseTarget","shouldAnimate","setActive","setAnimateFunction","makeAnimator","getState","reset","createTypeState","whileInView","whileHover","whileDrag","whileFocus","Feature","updateAnimationControlsSubscription","unmountControls","prevAnimate","prevIsPresent","prevPresenceContext","exitAnimation","addDomEvent","eventName","extractEventInfo","event","pageX","pageY","addPointerEvent","addPointerInfo","calcLength","calcAxisDelta","isNaN","calcBoxDelta","calcRelativeAxis","relative","calcRelativeAxisPosition","calcRelativePosition","eachAxis","getContextWindow","ownerDocument","defaultView","abs","PanSession","handlers","contextWindow","dragSnapToOrigin","distanceThreshold","startEvent","lastMoveEvent","lastMoveEventInfo","updatePoint","getPanInfo","history","isPanStarted","isDistancePastThreshold","xDelta","yDelta","distance2D","onMove","handlePointerMove","transformPoint","handlePointerUp","onSessionEnd","resumeAnimation","panInfo","initialInfo","onSessionStart","removeListeners","pipe","updateHandlers","subtractPoint","lastDevicePoint","startDevicePoint","timeDelta","timestampedPoint","lastPoint","currentVelocity","calcRelativeAxisConstraints","calcViewportAxisConstraints","layoutAxis","constraintsAxis","defaultElastic","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","label","elementDragControls","VisualElementDragControls","openDragLock","isDragging","currentDirection","constraints","hasMutatedConstraints","elastic","latestPointerEvent","latestPanInfo","originEvent","snapToCursor","panSession","pauseAnimation","stopAnimation","dragPropagation","onDragStart","resolveConstraints","isAnimationBlocked","getAxisMotionValue","measuredAxis","layoutBox","postRender","dragDirectionLock","onDirectionLock","onDrag","lockThreshold","direction","getCurrentDirection","updateAxis","stop","getAnimationState","play","getTransformPagePoint","finalEvent","finalPanInfo","startAnimation","onDragEnd","_point","shouldDrag","axisValue","applyConstraints","prevConstraints","resolveRefConstraints","bottom","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","constraintsBox","measuredConstraints","calcViewportConstraints","userConstraints","dragMomentum","dragTransition","onDragTransitionEnd","momentumAnimations","bounceStiffness","bounceDamping","inertia","timeConstant","restDelta","startAxisValueAnimation","dragKey","toUpperCase","scalePositionWithinConstraints","boxProgress","sourceLength","calcOrigin","updateScroll","updateLayout","addListeners","stopPointerListener","measureDragConstraints","stopMeasureLayoutListener","stopResizeListener","stopLayoutUpdateListener","hasLayoutChanged","asyncHandler","globalProjectionState","hasAnimatedSinceResize","hasEverUpdated","pixelsToPercent","pixels","correctBorderRadius","correct","correctBoxShadow","original","shadow","complex","parse","template","createTransformer","xScale","yScale","averageScale","hasTakenAnySnapshot","MeasureLayoutWithContext","componentDidMount","layoutGroup","switchLayoutGroup","defaultScaleCorrectors","group","didUpdate","layoutDependency","willUpdate","promote","relegate","stack","getStack","members","microtask","currentAnimation","isLead","componentWillUnmount","promoteContext","scheduleCheckAfterUnmount","remove","deregister","borderRadius","applyTo","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","boxShadow","compareByDepth","depth","FlatTree","isDirty","borders","numBorders","isPx","getRadius","radiusName","easeCrossfadeIn","compress","circ","easeCrossfadeOut","easing","p","copyAxisInto","originAxis","copyBoxInto","originBox","copyAxisDeltaInto","originDelta","removePointDelta","removeAxisTransforms","transforms","scaleKey","originKey","sourceAxis","removeAxisDelta","xKeys","yKeys","removeBoxTransforms","sourceBox","isAxisDeltaZero","isDeltaZero","axisEquals","axisEqualsRounded","round","boxEqualsRounded","axisDeltaEquals","NodeStack","scheduleRender","prevLead","lead","indexOfNode","findIndex","member","preserveFollowOpacity","show","resumeFrom","preserveOpacity","snapshot","animationValues","isUpdating","isLayoutDirty","hide","exitAnimationComplete","resumingFrom","removeLeadSnapshot","metrics","calculatedTargetDeltas","calculatedProjections","transformAxes","resetDistortingTransform","sharedAnimationValues","setStaticValue","cancelTreeOptimisedTransformAnimations","projectionNode","hasCheckedOptimisedAppear","appearId","MotionCancelOptimisedAnimation","attachResizeListener","defaultParent","measureScroll","checkIsScrollRoot","resetTransform","animationId","animationCommitId","isTreeAnimating","isProjectionDirty","isSharedProjectionDirty","isTransformDirty","updateManuallyBlocked","updateBlockedByResize","isSVG","needsReset","shouldResetTransform","eventHandlers","hasTreeAnimated","updateScheduled","projectionUpdateScheduled","checkUpdateFailed","clearAllSnapshots","updateProjection","propagateDirtyNodes","resolveTargetDelta","calcProjection","cleanDirtyNodes","addProjectionMetrics","resolvedRelativeTargetAt","hasProjected","isVisible","animationProgress","sharedNodes","path","notifyListeners","subscriptionManager","hasListeners","cancelDelay","innerWidth","resizeUnblockUpdate","newInnerWidth","timeout","now","checkElapsed","setup","finishAnimation","registerSharedNode","hasRelativeLayoutChanged","newLayout","isTreeAnimationBlocked","relativeTarget","layoutTransition","defaultLayoutTransition","onLayoutAnimationStart","onLayoutAnimationComplete","hasTargetChanged","targetLayout","hasOnlyRelativeTargetChanged","animationOptions","onPlay","shouldReduceMotion","setAnimationOrigin","clear","blockUpdate","unblockUpdate","isUpdateBlocked","startUpdate","resetSkewAndRotation","getTransformTemplate","shouldNotifyListeners","prevTransformTemplateValue","updateSnapshot","clearMeasurements","clearIsLayoutDirty","resetTransformStyle","notifyLayoutUpdate","isProcessing","process","clearSnapshot","removeLeadSnapshots","scheduleUpdateProjection","measuredBox","prevLayout","layoutCorrected","phase","needsMeasurement","isRoot","wasRoot","isResetRequested","hasProjection","transformTemplateValue","transformTemplateHasChanged","removeTransform","pageBox","measurePageBox","removeElementScroll","roundAxis","measureViewportBox","checkNodeWasScrollRoot","boxWithoutScroll","applyTransform","transformOnly","withTransforms","boxWithoutTransform","setTargetDelta","targetDelta","forceRelativeParentToResolveTarget","relativeParent","forceRecalculation","getLead","isShared","attemptToResolveRelativeTarget","getClosestProjectingParent","relativeTargetOrigin","targetWithTransforms","canSkip","pendingAnimation","prevTreeScaleX","prevTreeScaleY","prevProjectionDelta","createProjectionDeltas","projectionDeltaWithTransform","snapshotLatestValues","mixedValues","relativeLayout","isSharedLayoutAnimation","isOnlyMember","shouldCrossfadeOpacity","hasOpacityCrossfade","prevRelativeTarget","mixTargetDelta","output","to","mixAxisDelta","mixAxis","follow","opacityExit","borderLabel","followRadius","leadRadius","mixValues","onStop","completeAnimation","applyTransformsToTarget","shouldAnimatePositionOnly","xLength","yLength","shouldPreserveFollowOpacity","getPrevLead","hasDistortingTransform","rotateZ","resetValues","targetStyle","visibility","pointerEvents","valuesToRender","latestTransform","xTranslate","yTranslate","zTranslate","elementScaleX","elementScaleY","buildProjectionTransform","corrected","num","resetTree","measuredLayout","axisSnapshot","layoutDelta","visualDelta","parentSnapshot","parentLayout","relativeSnapshot","onBeforeLayoutMeasure","userAgentContains","navigator","userAgent","roundPoint","isNear","DocumentProjectionNode","scrollLeft","body","scrollTop","rootProjectionNode","HTMLProjectionNode","documentNode","removePointerDownListener","onPointerDown","pointerDownEvent","session","createPanHandlers","onPanSessionStart","onPanStart","onPan","onPanEnd","removeGroupControls","controls","dragControls","handleHoverEvent","lifecycle","handlePressEvent","HTMLButtonElement","disabled","observerCallbacks","observers","fireObserverCallback","fireAllObserverCallbacks","thresholdNames","motion","hasEnteredView","startObserver","viewport","rootInteresectionObserver","lookupRoot","rootObservers","initIntersectionObserver","observeIntersection","onViewportEnter","onViewportLeave","prevViewport","hasViewportOptionChanged","press","_element","endEvent","success","useGlobalTarget","globalTapTarget","onFocus","isFocusVisible","matches","onBlur","setMotionValue","hasValue","addValue","shouldBlockAnimation","shouldBlock","animateTarget","targetAndTransition","animationTypeState","currentValue","isAnimating","MotionHandoffAnimation","startTime","setTarget","prefersReducedMotion","hasReducedMotionListener","propEventHandlers","VisualElement","_props","_prevProps","_visualElement","isVariantNode","valueSubscriptions","prevMotionValues","events","propEventSubscriptions","notifyUpdate","triggerBuild","renderScheduledAt","baseTarget","initialValues","willChange","initialMotionValues","removeFromVariantTree","addVariantChild","bindToMotionValue","matchMedia","motionMediaQuery","setReducedMotionPreferences","initPrefersReducedMotion","addChild","feature","valueIsTransform","onBindTransform","removeOnChange","latestValue","removeSyncCheck","MotionCheckAppearSync","owner","other","featureDefinition","FeatureConstructor","getStaticValue","nextValue","prevValue","existingValue","jump","hasAnimated","removeValue","updateMotionValuesFromProps","getVariant","variants","getClosestVariantNode","closestVariantNode","defaultValue","readValue","find","setBaseTarget","valueFromInitial","weakMemoize","func","arg","ret","EmotionCacheContext","HTMLElement","CacheProvider","__unsafe_useEmotionCache","withEmotionCache","ThemeContext","createCacheWithTheme","outerTheme","theme","getTheme","ThemeProvider","hasOwn","typePropName","createEmotionProps","newProps","Insertion","_ref","Emotion$1","cssProp","WrappedComponent","_key2","getValueState","resolveVariantFromProps","variantPriorityOrder","variantProps","convertBoundingBoxToBox","convertBoxToBoundingBox","transformBoxPoints","topLeft","bottomRight","getOptimisedAppearId","memoize","fn","create","useInsertionEffectAlwaysWithSyncFallback","useInsertionEffectWithLayoutFallback","isDOMKeyframes","resolveSubjects","subject","scope","selectorCache","NodeList","calculateRepeatDuration","_repeatDelay","calcNextTime","labels","slice","addKeyframes","sequence","endTime","keyframe","at","eraseKeyframes","normalizeTimes","times","compareByTime","getSubjectSequence","sequences","getValueSequence","keyframesAsList","getValueTransition","isNumber","isNumberKeyframesArray","every","ObjectVisualElement","object","isObjectKey","createDOMVisualElement","createObjectVisualElement","animateSubject","isSingleValue","subjects","numSubjects","thisSubject","Element","subjectOrSequence","optionsOrKeyframes","animationOnComplete","animationDefinitions","defaultTransition","sequenceTransition","generators","defaultDuration","elementCache","timeLabels","totalDuration","segment","maxDuration","resolveValueSequence","valueKeyframes","valueSequence","elementIndex","valueKeyframesAsList","remainingTransition","calculatedDelay","numKeyframes","createGenerator","absoluteDelta","springTransition","springEasing","remainder","fill","f","unshift","originalKeyframes","originalTimes","originalEase","repeatIndex","keyframeIndex","targetTime","subjectIndex","subjectSequence","valueSequences","valueOffset","valueEasing","createAnimationsFromSequence","spring","animateSequence","rest","GroupAnimationWithThen","finished","camelCaseAttributes","defaultType","_styleProp","renderSVG","viewportBox","reactPropsRegex","testOmitPropsOnStringTag","testOmitPropsOnComponent","getDefaultShouldForwardProp","composeShouldForwardProps","isReal","shouldForwardProp","optionsShouldForwardProp","__emotion_forwardProp","propName","newStyled","createStyled","targetClassName","__emotion_real","baseTag","__emotion_base","defaultShouldForwardProp","shouldUseAs","templateStringsArr","Styled","FinalTag","as","classInterpolations","finalShouldForwardProp","defaultProps","defineProperty","withComponent","nextTag","nextOptions","bind","charAt","substring","addValueToWillChange","WillChange","newWillChange","useMotionValue","setLatest","visualElementStore"],"sourceRoot":""}