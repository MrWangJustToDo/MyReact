{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":"AAEA,MAAM,CAAC,IAAM,OAAO,GAAG,UAAC,KAAuB;IAC7C,IAAI,KAAK,CAAC,kBAAkB,EAAE;QAC5B,IAAM,cAAY,GAAG,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnD,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;YACrB,cAAY,CAAC,GAAG,CAAC,UAAC,CAAC,IAAK,OAAA,CAAC,CAAC,SAAS,EAAX,CAAW,CAAC,CAAC,OAAO,CAAC,UAAC,CAAC,IAAK,OAAA,CAAA,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,KAAK,KAAI,CAAC,CAAC,MAAM,EAAE,EAAtB,CAAsB,CAAC,CAAC;QAC9E,CAAC,CAAC,CAAC;QACH,KAAK,CAAC,kBAAkB,GAAG,KAAK,CAAC;KAClC;AACH,CAAC,CAAC","sourcesContent":["import type { MyReactFiberNode } from \"@my-react/react\";\n\nexport const context = (fiber: MyReactFiberNode) => {\n  if (fiber.__pendingContext__) {\n    const allListeners = fiber.__dependence__.slice(0);\n    Promise.resolve().then(() => {\n      allListeners.map((f) => f.__fiber__).forEach((f) => f?.mount && f.update());\n    });\n    fiber.__pendingContext__ = false;\n  }\n};\n"]}