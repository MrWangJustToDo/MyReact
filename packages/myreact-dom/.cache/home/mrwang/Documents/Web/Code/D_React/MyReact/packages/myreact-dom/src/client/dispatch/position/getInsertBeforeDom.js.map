{"version":3,"file":"getInsertBeforeDom.js","sourceRoot":"","sources":["getInsertBeforeDom.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AAIpD,IAAM,6BAA6B,GAAG,UAAC,KAA8B;IACnE,IAAI,CAAC,KAAK;QAAE,OAAO,IAAI,CAAC;IACxB,IAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;IAC9B,IAAI,OAAO,EAAE;QACX,OAAO,eAAe,CAAC,OAAO,EAAE,UAAC,CAAC,IAAK,OAAA,CAAC,CAAC,QAAQ,EAAV,CAAU,CAAC,IAAI,6BAA6B,CAAC,OAAO,CAAC,CAAC;KAC9F;SAAM;QACL,OAAO,IAAI,CAAC;KACb;AACH,CAAC,CAAC;AAEF,MAAM,CAAC,IAAM,sCAAsC,GAAG,UACpD,KAA8B,EAC9B,WAAoC;IAEpC,IAAI,CAAC,KAAK;QAAE,OAAO,IAAI,CAAC;IACxB,IAAI,KAAK,KAAK,WAAW;QAAE,OAAO,IAAI,CAAC;IACvC,IAAM,SAAS,GAAG,6BAA6B,CAAC,KAAK,CAAC,CAAC;IACvD,IAAI,SAAS;QAAE,OAAO,SAAS,CAAC;IAChC,OAAO,sCAAsC,CAAC,KAAK,CAAC,MAAM,EAAE,WAAW,CAA4B,CAAC;AACtG,CAAC,CAAC","sourcesContent":["import { getFiberWithDom } from \"./getFiberWithDom\";\n\nimport type { MyReactFiberNode } from \"@my-react/react\";\n\nconst getInsertBeforeDomFromSibling = (fiber: MyReactFiberNode | null): MyReactFiberNode | null => {\n  if (!fiber) return null;\n  const sibling = fiber.sibling;\n  if (sibling) {\n    return getFiberWithDom(sibling, (f) => f.children) || getInsertBeforeDomFromSibling(sibling);\n  } else {\n    return null;\n  }\n};\n\nexport const getInsertBeforeDomFromSiblingAndParent = (\n  fiber: MyReactFiberNode | null,\n  parentFiber: MyReactFiberNode | null\n): MyReactFiberNode | null => {\n  if (!fiber) return null;\n  if (fiber === parentFiber) return null;\n  const beforeDom = getInsertBeforeDomFromSibling(fiber);\n  if (beforeDom) return beforeDom;\n  return getInsertBeforeDomFromSiblingAndParent(fiber.parent, parentFiber) as MyReactFiberNode | null;\n};\n"]}