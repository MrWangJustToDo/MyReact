{"version":3,"file":"dispatch.js","sourceRoot":"","sources":["dispatch.ts"],"names":[],"mappings":"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","sourcesContent":["import { __myreact_shared__ } from \"@my-react/react\";\n\nimport { append, create, update } from \"./dom\";\n\nimport type { FiberDispatch, MyReactFiberNode } from \"@my-react/react\";\nimport type { LinkTreeList } from \"@ReactDOM_shared\";\n\nconst { safeCallWithFiber } = __myreact_shared__;\n\nexport class ServerDispatch implements FiberDispatch {\n  trigger(_fiber: MyReactFiberNode): void {\n    void 0;\n  }\n  resolveLazy(): boolean {\n    return false;\n  }\n  reconcileCommit(_fiber: MyReactFiberNode, _hydrate: boolean, _parentFiberWithDom: MyReactFiberNode): boolean {\n    safeCallWithFiber({ fiber: _fiber, action: () => create(_fiber) });\n    safeCallWithFiber({ fiber: _fiber, action: () => update(_fiber) });\n    safeCallWithFiber({\n      fiber: _fiber,\n      action: () => append(_fiber, _parentFiberWithDom),\n    });\n    if (_fiber.child) {\n      this.reconcileCommit(_fiber.child, _hydrate, _fiber.dom ? _fiber : _parentFiberWithDom);\n    }\n    if (_fiber.sibling) {\n      this.reconcileCommit(_fiber.sibling, _hydrate, _parentFiberWithDom);\n    }\n    return true;\n  }\n  reconcileCreate(_list: LinkTreeList<MyReactFiberNode>): void {\n    void 0;\n  }\n  reconcileUpdate(_list: LinkTreeList<MyReactFiberNode>): void {\n    void 0;\n  }\n  beginProgressList(): void {\n    void 0;\n  }\n  endProgressList(): void {\n    void 0;\n  }\n  generateUpdateList(_fiber: MyReactFiberNode | MyReactFiberNode[] | null): void {\n    void 0;\n  }\n  pendingCreate(_fiber: MyReactFiberNode): void {\n    if (_fiber.__isPortal__) {\n      throw new Error(\"should not use portal element on the server\");\n    }\n    if (!_fiber.__isTextNode__ && !_fiber.__isPlainNode__) return;\n    _fiber.__pendingCreate__ = true;\n  }\n  pendingUpdate(_fiber: MyReactFiberNode): void {\n    if (!_fiber.__isTextNode__ && !_fiber.__isPlainNode__) return;\n    _fiber.__pendingUpdate__ = true;\n  }\n  pendingAppend(_fiber: MyReactFiberNode): void {\n    if (!_fiber.__isTextNode__ && !_fiber.__isPlainNode__) return;\n    _fiber.__pendingAppend__ = true;\n  }\n  pendingContext(_fiber: MyReactFiberNode): void {\n    void 0;\n  }\n  pendingPosition(_fiber: MyReactFiberNode): void {\n    void 0;\n  }\n  pendingUnmount(_fiber: MyReactFiberNode, _pendingUnmount: MyReactFiberNode | MyReactFiberNode[]): void {\n    void 0;\n  }\n  pendingLayoutEffect(_fiber: MyReactFiberNode, _layoutEffect: () => void): void {\n    void 0;\n  }\n  pendingEffect(_fiber: MyReactFiberNode, _effect: () => void): void {\n    void 0;\n  }\n  updateAllSync(): void {\n    void 0;\n  }\n  updateAllAsync(): void {\n    void 0;\n  }\n}\n"]}