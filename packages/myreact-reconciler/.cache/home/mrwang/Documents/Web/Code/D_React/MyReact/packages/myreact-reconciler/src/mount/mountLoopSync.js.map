{"version":3,"file":"mountLoopSync.js","sourceRoot":"","sources":["mountLoopSync.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,aAAa,CAAC;AAC3C,OAAO,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,MAAM,UAAU,CAAC;AAIhF,IAAM,SAAS,GAAG,UAAC,KAAuB;;IACxC,CAAA,KAAA,yBAAyB,CAAC,OAAO,CAAA,CAAC,IAAI,WAAI,YAAY,CAAC,KAAK,CAAC,EAAE;AACjE,CAAC,CAAC;AAEF,IAAM,WAAW,GAAG;;IAClB,OAAO,yBAAyB,CAAC,OAAO,CAAC,MAAM,EAAE;QAC/C,IAAM,KAAK,GAAG,yBAAyB,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QACxD,IAAI,KAAK,EAAE;YACT,CAAA,KAAA,yBAAyB,CAAC,OAAO,CAAA,CAAC,IAAI,WAAI,YAAY,CAAC,KAAK,CAAC,EAAE;SAChE;KACF;AACH,CAAC,CAAC;AAEF,IAAM,QAAQ,GAAG;;IACf,OAAO,yBAAyB,CAAC,OAAO,CAAC,MAAM,EAAE;QAC/C,IAAM,KAAK,GAAG,yBAAyB,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QACxD,IAAI,KAAK,EAAE;YACT,CAAA,KAAA,yBAAyB,CAAC,OAAO,CAAA,CAAC,IAAI,WAAI,YAAY,CAAC,KAAK,CAAC,EAAE;SAChE;KACF;AACH,CAAC,CAAC;AAEF,IAAM,SAAS,GAAG;IAChB,WAAW,EAAE,CAAC;IACd,QAAQ,EAAE,CAAC;IACX,IAAI,yBAAyB,CAAC,OAAO,CAAC,MAAM,EAAE;QAC5C,SAAS,EAAE,CAAC;KACb;AACH,CAAC,CAAC;AAEF,IAAM,OAAO,GAAG,UAAC,KAAuB;IACtC,SAAS,CAAC,KAAK,CAAC,CAAC;IACjB,SAAS,EAAE,CAAC;AACd,CAAC,CAAC;AAEF,MAAM,CAAC,IAAM,aAAa,GAAG,UAAC,KAAuB,IAAK,OAAA,OAAO,CAAC,KAAK,CAAC,EAAd,CAAc,CAAC","sourcesContent":["import { nextWorkSync } from \"../generate\";\nimport { cRoundTransformFiberArray, nRoundTransformFiberArray } from \"../share\";\n\nimport type { MyReactFiberNode } from \"@my-react/react\";\n\nconst loopStart = (fiber: MyReactFiberNode) => {\n  cRoundTransformFiberArray.current.push(...nextWorkSync(fiber));\n};\n\nconst loopCurrent = () => {\n  while (cRoundTransformFiberArray.current.length) {\n    const fiber = cRoundTransformFiberArray.current.shift();\n    if (fiber) {\n      nRoundTransformFiberArray.current.push(...nextWorkSync(fiber));\n    }\n  }\n};\n\nconst loopNext = () => {\n  while (nRoundTransformFiberArray.current.length) {\n    const fiber = nRoundTransformFiberArray.current.shift();\n    if (fiber) {\n      cRoundTransformFiberArray.current.push(...nextWorkSync(fiber));\n    }\n  }\n};\n\nconst loopToEnd = () => {\n  loopCurrent();\n  loopNext();\n  if (cRoundTransformFiberArray.current.length) {\n    loopToEnd();\n  }\n};\n\nconst loopAll = (fiber: MyReactFiberNode) => {\n  loopStart(fiber);\n  loopToEnd();\n};\n\nexport const mountLoopSync = (fiber: MyReactFiberNode) => loopAll(fiber);\n"]}