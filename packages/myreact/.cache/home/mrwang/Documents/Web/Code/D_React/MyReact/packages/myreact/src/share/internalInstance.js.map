{"version":3,"file":"internalInstance.js","sourceRoot":"","sources":["internalInstance.ts"],"names":[],"mappings":"AAEA,MAAM,OAAO,uBAAuB;IAClC,2BAA2B,GAGvB;QACF,SAAS,EAAE,IAAI;QACf,WAAW,EAAE,IAAI;KAClB,CAAC;IAEF,4BAA4B,GAAG;QAC7B,iBAAiB,EAAE,KAAK;KACzB,CAAC;IAEF,OAAO,GAAmB,IAAI,CAAC;IAE/B,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,2BAA2B,CAAC,SAAS,CAAC;IACpD,CAAC;IAED,IAAI,SAAS,CAAC,CAAC;QACb,IAAI,CAAC,2BAA2B,CAAC,SAAS,GAAG,CAAC,CAAC;IACjD,CAAC;IAED,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,2BAA2B,CAAC,WAAW,CAAC;IACtD,CAAC;IAED,IAAI,WAAW,CAAC,CAAC;QACf,IAAI,CAAC,2BAA2B,CAAC,WAAW,GAAG,CAAC,CAAC;IACnD,CAAC;IAED,IAAI,iBAAiB;QACnB,OAAO,IAAI,CAAC,4BAA4B,CAAC,iBAAiB,CAAC;IAC7D,CAAC;IAED,IAAI,iBAAiB,CAAC,CAAC;QACrB,IAAI,CAAC,4BAA4B,CAAC,iBAAiB,GAAG,CAAC,CAAC;IAC1D,CAAC;IAED,UAAU,CAAC,OAAgC;QACzC,IAAI,IAAI,CAAC,WAAW;YAAE,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QAC9D,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC;QAC3B,IAAI,CAAC,WAAW,EAAE,aAAa,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,QAAQ,CAAC,KAAuB;QAC9B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IAED,OAAO;QACL,IAAI,CAAC,WAAW,EAAE,gBAAgB,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC;CACF","sourcesContent":["import type { MyReactFiberNode } from \"../fiber\";\n\nexport class MyReactInternalInstance {\n  __internal_instance_state__: {\n    __fiber__: MyReactFiberNode | null;\n    __context__: MyReactFiberNode | null;\n  } = {\n    __fiber__: null,\n    __context__: null,\n  };\n\n  __internal_instance_update__ = {\n    __pendingEffect__: false,\n  };\n\n  context: null | unknown = null;\n\n  get __fiber__() {\n    return this.__internal_instance_state__.__fiber__;\n  }\n\n  set __fiber__(v) {\n    this.__internal_instance_state__.__fiber__ = v;\n  }\n\n  get __context__() {\n    return this.__internal_instance_state__.__context__;\n  }\n\n  set __context__(v) {\n    this.__internal_instance_state__.__context__ = v;\n  }\n\n  get __pendingEffect__() {\n    return this.__internal_instance_update__.__pendingEffect__;\n  }\n\n  set __pendingEffect__(v) {\n    this.__internal_instance_update__.__pendingEffect__ = v;\n  }\n\n  setContext(context: MyReactFiberNode | null) {\n    if (this.__context__) this.__context__.removeDependence(this);\n    this.__context__ = context;\n    this.__context__?.addDependence(this);\n  }\n\n  setFiber(fiber: MyReactFiberNode) {\n    this.__fiber__ = fiber;\n  }\n\n  unmount() {\n    this.__context__?.removeDependence(this);\n  }\n}\n"]}