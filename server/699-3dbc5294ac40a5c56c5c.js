"use strict";exports.id=699,exports.ids=[699],exports.modules={9699:(e,o,r)=>{r.d(o,{MV:()=>p,mT:()=>i,T3:()=>C,Yu:()=>h,pU:()=>f,Table:()=>V});var n=r(9034),t=r(6689),s=(r(2553),r(8930));const l=(0,t.createContext)({totalSection:0,currentSection:0,setTotalSection:e=>{},setCurrentSection:e=>{},onNextSection:()=>{},onPrevSection:()=>{}}),a=()=>(0,t.useContext)(l);var c=r(7358);const i=({onSectionIndexChange:e,children:o,initialSectionLength:r})=>{const[n,a]=(0,t.useState)(0),[i,d]=(0,t.useState)(r||0),u=(0,s.usePrevious)(n),x=(0,s.useCallbackRef)(e),h=(0,s.useCallbackRef)((()=>{a(n===i-1?0:e=>e+1)})),p=(0,s.useCallbackRef)((()=>{a(0===n?i-1:e=>e-1)}));(0,t.useEffect)((()=>{x(n,u)}),[n,x]);const m=(0,t.useMemo)((()=>({totalSection:i,currentSection:n,onNextSection:h,onPrevSection:p,setCurrentSection:a,setTotalSection:d})),[n,h,p,i]);return(0,c.jsx)(l.Provider,{value:m,children:o})};var d=r(9378);const u=(0,t.createContext)({ref:{current:null}}),x=(0,t.createContext)({inViewArray:[],setCurrentView:(e,o)=>{}}),h=({children:e,index:o})=>{const r=(0,t.useRef)(null),l=(0,t.useMemo)((()=>({ref:r})),[]),{currentSection:i}=a(),{setCurrentView:d,inViewArray:h}=(0,t.useContext)(x),p=(0,n.useInView)(r,{amount:"some",margin:"-300px 0px"});return(0,t.useEffect)((()=>{null!=o&&d(p,o)}),[o,p,d,h.length]),(0,c.jsx)(u.Provider,{value:l,children:(0,c.jsx)(s.Box,{ref:r,position:"relative",overflow:"hidden","data-scroll-section":o,"data-active":i===o,children:e})})},p=({children:e})=>{const o=[],{scrollY:r}=(0,n.useScroll)();t.Children.forEach(e,(e=>{(0,t.isValidElement)(e)&&e.type===h&&o.push(e)}));const l=o.length,[i,u]=(0,t.useState)((()=>Array(l).fill(!1)));(0,t.useEffect)((()=>{u(Array(l).fill(!1))}),[l]);const p=(0,s.useCallbackRef)(((e,o)=>{u((r=>{if(r[o]!==e){const n=[...r];return n[o]=e,n}return r}))})),m=(0,t.useMemo)((()=>({inViewArray:i,setCurrentView:p})),[i,p]),{setTotalSection:g,setCurrentSection:f,currentSection:C}=a(),w=(0,s.useCallbackRef)((e=>{e?i[C-1]&&f(C-1):i[C+1]&&f(C+1)}));return(0,t.useEffect)((()=>{let e=0;const o=(0,d.throttle)((o=>{w(!(o>e)),e=o}),100,{leading:!0,trailing:!0});return r.onChange(o),()=>r.clearListeners()}),[w,r]),(0,s.useSafeLayoutEffect)((()=>{g(l),f(0)}),[l,g,f]),(0,c.jsx)(x.Provider,{value:m,children:t.Children.map(o,((e,o)=>(0,t.cloneElement)(e,{index:o})))})},m=({className:e})=>(0,c.jsx)("svg",{className:e,width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M1 7L7 1L13 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),g=(0,t.memo)(m),f=()=>{const{currentSection:e}=a();return(0,c.jsx)(s.Box,{fontSize:"20px",position:"fixed",right:"10px",bottom:"20px",width:"20px",height:"20px",color:"orangeSand",textAlign:"center",verticalAlign:"middle",borderRadius:"999999px",zIndex:"sticky",display:{base:e>0?"flex":"none",md:"none"},alignItems:"center",justifyContent:"center",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:(0,c.jsx)(s.Icon,{as:g,width:"20px",height:"20px"})})},C=({render:e})=>{const{totalSection:o,currentSection:r}=a(),n=(0,s.useCallbackRef)((e=>{const o=document.querySelector(`[data-scroll-section="${e}"]`);if(o){const e=o.getBoundingClientRect(),r=(document.scrollingElement?.scrollTop||0)+e.top;window.scrollTo({top:r,behavior:"smooth"})}})),l=(0,t.useMemo)((()=>Array(o).fill(0)),[o]);return o<=1?null:(0,c.jsx)(s.Flex,{height:"100vh",position:"fixed",width:"30px",display:{base:"none",md:"flex"},flexDirection:"column",top:"0",right:"100px",alignItems:"center",justifyContent:"center",zIndex:"dropdown","data-scroll-tool":!0,children:r<=o-1&&(0,c.jsx)(s.Wrap,{spacing:"6",children:l.map(((o,t)=>(0,c.jsx)(s.WrapItem,{children:e?e({index:t,isSelect:r===t,onClick:()=>n(t)}):(0,c.jsx)(s.Box,{width:"10px",height:"10px",cursor:"pointer",borderRadius:"full",sx:{backgroundColor:r===t?"red":"initial",border:r===t?"none":"1px solid #e2e2e2"},onClick:()=>n(t)})},t)))})})},w=({...e})=>(0,c.jsx)(s.TableContainer,{children:(0,c.jsx)(s.Table,{variant:"simple",...e})});function S({dataIndex:e,cellProps:o,headCellProps:r,bodyCellProps:n,isHidden:t,headCellRender:s,bodyCellRender:l}){return(0,c.jsx)(c.Fragment,{})}var I=r(9847);const j=e=>(0,c.jsx)(s.Button,{border:"1px",size:"sm",borderColor:"gray.200",textStyle:"light",fontWeight:"normal",_active:{background:"none"},_hover:{background:"none"},fontSize:"sm",...e,children:e.children}),b=({page:e,total:o,pageSize:r=50,onChange:n,preButtonProps:t,nextButtonProps:l,...a})=>{const{hasNextPage:i,hasPrePage:d}=(({page:e,total:o,pageSize:r=50})=>{const n=o?Math.ceil(o/r):1;return{totalPage:n,hasNextPage:e<n,hasPrePage:e>1}})({page:e,total:o,pageSize:r});return(0,c.jsxs)(s.Flex,{justifyContent:"flex-end",...a,children:[d&&(0,c.jsx)(j,{"aria-label":"Prev page",leftIcon:(0,c.jsx)(s.Icon,{as:I.AiOutlineLeft}),onClick:()=>{n(e-1)},marginEnd:"4",...t,children:t?.children||"prevPage"}),i&&(0,c.jsx)(j,{"aria-label":"Next page",rightIcon:(0,c.jsx)(s.Icon,{as:I.AiOutlineRight}),onClick:()=>{n(e+1)},marginEnd:{base:4,lg:0},...l,children:l?.children||"nextPage"})]})};var y=r(2631),R=r.n(y);class P extends t.Component{constructor(...e){super(...e),this.state={error:"",stack:"",hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,o){this.setState({error:e.message,stack:o.componentStack})}render(){const{hasError:e,stack:o,error:r}=this.state;return e?(console.error(r,o),"some error happen"):this.props.children}}const k=e=>{const{children:o,...r}=e;return(0,c.jsx)(s.Td,{...r,children:(0,c.jsx)(P,{children:o})})},v=({Render:e,...o})=>(0,c.jsx)(c.Fragment,{children:e(o)}),D=({Render:e,CustomRender:o,dataIndex:r,rowIndex:n,colIndex:t,rowData:s,cellProps:l,...a})=>"function"==typeof o?o(r?{rowData:s,rowIndex:n,colIndex:t,dataIndex:r,cellData:s[r]}:{rowData:s,rowIndex:n,colIndex:t}):(0,c.jsx)(k,{fontWeight:"medium",...a,...l,children:"function"==typeof e?(0,c.jsx)(v,{Render:e,dataIndex:r||"",rowIndex:n,colIndex:t,cellData:r?s[r]:{},rowData:s}):e});function A({Render:e,CustomRender:o,dataIndex:r,rowIndex:n,colIndex:t,rowData:l,cellProps:a,showSkeleton:i=(({rowData:e})=>!e),Skeleton:d,...u}){return("function"==typeof i?i({rowIndex:n,rowData:l,colIndex:t}):i)?d?(0,c.jsx)(k,{fontWeight:"medium",...u,...a,children:(0,c.jsx)(d,{rowIndex:n,colIndex:t})}):(0,c.jsx)(k,{fontWeight:"medium",...u,...a,children:(0,c.jsx)(s.Skeleton,{width:"80%",height:"24px"})}):(0,c.jsx)(D,{rowData:l,rowIndex:n,dataIndex:r,colIndex:t,cellProps:a,Render:e,CustomRender:o,...u})}let T=function(e){return e[e.None=0]="None",e[e.Asc=1]="Asc",e[e.Desc=2]="Desc",e}({});const E=(0,t.createContext)({sorter:{order:T.None},onSort:()=>{}});function F({Render:e,CustomRender:o,genCompareFn:r,dataIndex:n,rowIndex:l,colIndex:a,cellProps:i,cancelSort:d,sort:u,sortedColor:x="blue.500",defaultOrder:h=T.Desc,tooltipProps:p}){const{sorter:m,onSort:g}=(0,t.useContext)(E),f=(0,t.useCallback)((e=>m?.by===n&&m?.order===e?x:void 0),[n,m,x]),C=(0,t.useMemo)((()=>m?.by!==n||m?.order===T.None?h:d&&m?.order!=h?T.None:m?.order===T.Asc?T.Desc:T.Asc),[n,m,h,d]);if("function"==typeof o){let e=null;return e=o(n?{dataIndex:n,rowIndex:l,colIndex:a,sorter:m,onSort:g,genCompareFn:r,defaultOrder:h,cancelSort:d,sorterClick:()=>{g(r&&m?.genCompareFn!==r?{by:n,order:C,genCompareFn:r}:{by:n,order:C})},sortAscColor:f(T.Asc),sortDescColor:f(T.Desc),toggledSortOrder:C}:{rowIndex:l,colIndex:a,sorter:m,onSort:g,sort:u,defaultOrder:h,sortAscColor:f(T.Asc),sortDescColor:f(T.Desc)}),p?(0,c.jsx)(s.Tooltip,{...p,children:e}):e}const w="function"==typeof e?e({dataIndex:n||"",rowIndex:l,colIndex:a}):e,S=`Sort by ${"string"==typeof e?e:n.toString()}`,j=u?(0,c.jsxs)(s.Flex,{display:"inline-flex",as:"button",width:"auto",cursor:"pointer","aria-label":S,textTransform:"inherit",fontWeight:"semibold",onClick:()=>{g(r&&m?.genCompareFn!==r?{by:n,order:C,genCompareFn:r}:{by:n,order:C})},alignItems:"center",children:[w,(0,c.jsxs)(s.Flex,{transform:"scale(0.7)",marginStart:"2px",flexDirection:"column",children:[(0,c.jsx)(s.IconButton,{icon:(0,c.jsx)(s.Icon,{as:I.AiOutlineUp}),"aria-label":"Sort ascend",fontSize:"xx-small",color:f(T.Asc)}),(0,c.jsx)(s.IconButton,{icon:(0,c.jsx)(s.Icon,{as:I.AiOutlineDown}),"aria-label":"Sort descend",fontSize:"xx-small",color:f(T.Desc)})]})]}):(0,c.jsx)(s.Box,{fontWeight:"semibold",children:w});return(0,c.jsx)(s.Th,{textTransform:"none",color:"inherit",...i,children:p?(0,c.jsx)(s.Tooltip,{...p,children:j}):j})}R()((()=>{console.warn("pls make sure:\n 1. do not add hook into hyper column usage.\n 2. hyper column usage do not support hot reload")}));const N=(e,o=0)=>({skeletonRows:(0,t.useMemo)((()=>new Array(o).fill(null)),[o]),skeletonVisible:!e});function V({dataSource:e,sorter:o,pagination:r,noResultText:n,CustomNoResult:l,tableProps:a,skeletonRowCount:i,rowProps:d,children:u,containerProps:x,afterSorting:h}){const{innerSorter:p,onSort:m,sortedRows:g}=function(e,o,r){const[n,s]=(0,t.useState)({order:T.None,genCompareFn:e=>(o,r)=>{const n=e.by;return null===n?0:n in o&&n in r?e.order===T.Asc?o[n].length-r[n].length:r[n].length-o[n].length:0},...e}),l=(0,t.useCallback)((e=>{const o={...n,...e};e.onSort?.(o),s(o)}),[n]),a=(0,t.useMemo)((()=>{const e=[...o||[]];return n.order!==T.None&&(e.sort(n.genCompareFn?.(n)),r&&r()),e}),[o,n,r]);return{innerSorter:n,onSort:l,sortedRows:a}}(o,e,h),{skeletonRows:f,skeletonVisible:C}=N(e,i),I=function(e,o){const r=[],n=[];let l=e;(0,t.isValidElement)(e)&&e.type===t.Fragment&&(l=e.props.children),t.Children.forEach(l,(e=>{let o=null;if(e?.type===S)o=e;else if("function"==typeof e?.type)try{const r=e.type(e.props);(0,t.isValidElement)(r)&&r.type===S&&(o=r)}catch(e){}if(o){const{dataIndex:e,cellProps:t,headCellProps:s,bodyCellProps:l,isHidden:a,headCellRender:i,bodyCellRender:d}=o.props,u=(Array.isArray(i)?i:[i]).map((o=>({rowIndex:r,colIndex:n})=>(0,c.jsx)(F,{rowIndex:r,colIndex:n,dataIndex:e,cellProps:{...t,...s,...o.cellProps},...o},e?String(e):`${r}-${n}`))),x=({rowIndex:o,colIndex:r,rowData:n})=>(0,c.jsx)(A,{rowIndex:o,colIndex:r,rowData:n,dataIndex:e,cellProps:{...t,...l,...d.cellProps},...d},e?String(e):`${o}-${r}`);a||(n.push(x),u.forEach(((e,o)=>{r[o]=r[o]||[],r[o].push(e)})))}}));const a=function(e,o={}){const r=(0,t.useRef)({headCellRender:e,rowProps:o});return r.current={headCellRender:e,rowProps:o},(0,t.useCallback)((()=>{const{headCellRender:e,rowProps:{commonRow:o,theadRow:n}}=r.current;return(0,c.jsx)(s.Thead,{children:e.map(((e,r)=>{const t={...o,...Array.isArray(n)?n[r]:n};return(0,c.jsx)(s.Tr,{...t,children:e.map(((e,o)=>e({rowIndex:r,colIndex:o})))},r)}))})}),[])}(r,o),i=function(e,o={}){const r=(0,t.useRef)({bodyCellRender:e,rowProps:o});return r.current={bodyCellRender:e,rowProps:o},(0,t.useCallback)((({dataSource:e})=>{const{bodyCellRender:o,rowProps:{commonRow:n,tbodyRow:t,genTbodyRow:l}}=r.current;return(0,c.jsx)(s.Tbody,{children:e.map(((e,r)=>{const a={...n,...t},i=l?l({rowIndex:r,rowData:e}):{};return(0,c.jsx)(s.Tr,{...a,...i,children:o.map(((o,n)=>o({rowData:e,rowIndex:r,colIndex:n})))},r)}))})}),[])}(n,o);return(0,t.useCallback)((({dataSource:e})=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a,{}),(0,c.jsx)(i,{dataSource:e})]})),[i,a])}(u,d);return(0,c.jsxs)(E.Provider,{value:{sorter:p,onSort:m},children:[(0,c.jsxs)(s.Box,{...x,children:[(0,c.jsx)(w,{...a,children:u&&(0,c.jsx)(I,{dataSource:C?f:g})}),!C&&0===g.length&&(l?(0,c.jsx)(l,{}):"empty")]}),!!r&&(0,c.jsx)(b,{...r})]})}V.Column=S}};