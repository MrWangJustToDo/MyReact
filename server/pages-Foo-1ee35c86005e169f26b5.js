"use strict";exports.id=563,exports.ids=[563],exports.modules={6305:(e,t,o)=>{o.r(t),o.d(t,{default:()=>C,getInitialState:()=>y,isStatic:()=>k});var n=o(8930),r=o(6689);const i=(0,r.createContext)({totalSection:0,currentSection:0,setTotalSection:e=>{},setCurrentSection:e=>{},onNextSection:()=>{},onPrevSection:()=>{}}),s=()=>(0,r.useContext)(i);var l=o(3920);const c=({onSectionIndexChange:e,children:t,initialSectionLength:o})=>{const[s,c]=(0,r.useState)(0),[a,d]=(0,r.useState)(o||0),x=(0,n.usePrevious)(s),h=(0,n.useCallbackRef)(e),u=(0,n.useCallbackRef)((()=>{c(s===a-1?0:e=>e+1)})),p=(0,n.useCallbackRef)((()=>{c(0===s?a-1:e=>e-1)}));(0,r.useEffect)((()=>{h(s,x)}),[s,h]);const f=(0,r.useMemo)((()=>({totalSection:a,currentSection:s,onNextSection:u,onPrevSection:p,setCurrentSection:c,setTotalSection:d})),[s,u,p,a]);return(0,l.jsx)(i.Provider,{value:f,children:t})};var a=o(9034),d=o(9378);const x=(0,r.createContext)({ref:{current:null}}),h=(0,r.createContext)({inViewArray:[],setCurrentView:(e,t)=>{}}),u=({children:e,index:t})=>{const o=(0,r.useRef)(null),i=(0,r.useMemo)((()=>({ref:o})),[]),{currentSection:c}=s(),{setCurrentView:d,inViewArray:u}=(0,r.useContext)(h),p=(0,a.useInView)(o,{amount:"some",margin:"-300px 0px"});return(0,r.useEffect)((()=>{null!=t&&d(p,t)}),[t,p,d,u.length]),(0,l.jsx)(x.Provider,{value:i,children:(0,l.jsx)(n.Box,{ref:o,position:"relative",overflow:"hidden","data-scroll-section":t,"data-active":c===t,children:e})})},p=({children:e})=>{const t=[],{scrollY:o}=(0,a.useScroll)();r.Children.forEach(e,(e=>{(0,r.isValidElement)(e)&&e.type===u&&t.push(e)}));const i=t.length,[c,x]=(0,r.useState)((()=>Array(i).fill(!1)));(0,r.useEffect)((()=>{x(Array(i).fill(!1))}),[i]);const p=(0,n.useCallbackRef)(((e,t)=>{if(c[t]!==e){const o=[...c];o[t]=e,x(o)}})),f=(0,r.useMemo)((()=>({inViewArray:c,setCurrentView:p})),[c,p]),{setTotalSection:g,setCurrentSection:j,currentSection:m}=s(),v=(0,n.useCallbackRef)((e=>{e?c[m-1]&&j(m-1):c[m+1]&&j(m+1)}));return(0,r.useEffect)((()=>{let e=0;const t=(0,d.throttle)((t=>{v(!(t>e)),e=t}),100,{leading:!0,trailing:!0});return o.onChange(t),()=>o.clearListeners()}),[v,o]),(0,n.useSafeLayoutEffect)((()=>{g(i),j(0)}),[i,g,j]),(0,l.jsx)(h.Provider,{value:f,children:r.Children.map(t,((e,t)=>(0,r.cloneElement)(e,{index:t})))})},f=({className:e})=>(0,l.jsx)("svg",{className:e,width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M1 7L7 1L13 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),g=(0,r.memo)(f),j=()=>{const{currentSection:e}=s();return(0,l.jsx)(n.Box,{fontSize:"20px",position:"fixed",right:"10px",bottom:"20px",width:"20px",height:"20px",color:"orangeSand",textAlign:"center",verticalAlign:"middle",borderRadius:"999999px",zIndex:"sticky",display:{base:e>0?"flex":"none",md:"none"},alignItems:"center",justifyContent:"center",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:(0,l.jsx)(n.Icon,{as:g,width:"20px",height:"20px"})})},m=({render:e})=>{const{totalSection:t,currentSection:o}=s(),i=(0,n.useCallbackRef)((e=>{const t=document.querySelector(`[data-scroll-section="${e}"]`);if(t){const e=t.getBoundingClientRect(),o=(document.scrollingElement?.scrollTop||0)+e.top;window.scrollTo({top:o,behavior:"smooth"})}})),c=(0,r.useMemo)((()=>Array(t).fill(0)),[t]);return(0,l.jsx)(n.Flex,{height:"100vh",position:"fixed",width:"30px",display:{base:"none",md:"flex"},flexDirection:"column",top:"0",right:"100px",alignItems:"center",justifyContent:"center",zIndex:"dropdown","data-scroll-tool":!0,children:o<=t-1&&(0,l.jsx)(n.Wrap,{spacing:"6",children:c.map(((t,r)=>(0,l.jsx)(n.WrapItem,{children:e?e({index:r,isSelect:o===r,onClick:()=>i(r)}):(0,l.jsx)(n.Box,{width:"10px",height:"10px",cursor:"pointer",borderRadius:"full",sx:{backgroundColor:o===r?"red":"initial",border:o===r?"none":"1px solid #e2e2e2"},onClick:()=>i(r)})},r)))})})};var v=o(5263);const S=({children:e})=>{const{ref:t}=(0,r.useContext)(x),{scrollYProgress:o}=(0,a.useScroll)({target:t,axis:"y",offset:["0 0.45","1 0.6"]}),n=(0,a.useTransform)(o,[1,.5,0],[0,1,0]),i=(0,a.useTransform)(o,[1,.5,0],[-150,0,150]);return(0,r.useEffect)((()=>(o.onChange(console.log),()=>o.clearListeners())),[o]),(0,l.jsx)(a.motion.div,{style:{opacity:n,y:i},children:e})},w=({children:e})=>(0,v.tm)()?(0,l.jsx)(S,{children:e},"1"):(0,l.jsx)(S,{children:e},"2");var b=o(8774);function C({foo:e}){return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(c,{initialSectionLength:5,children:[(0,l.jsxs)(p,{children:[(0,l.jsx)(u,{children:(0,l.jsxs)(n.Box,{width:"100vw",height:"100vh",backgroundColor:"AppWorkspace",position:"relative",children:[(0,l.jsx)(n.Heading,{children:"foo page"}),(0,l.jsxs)(n.Code,{children:["props: foo: ",e]}),(0,l.jsx)(n.Box,{position:"absolute",left:"30%",top:"50%",transform:"translateY(-50%)",border:"1px",borderRadius:"4px",padding:"2",children:(0,l.jsx)(w,{children:(0,l.jsx)(n.Text,{fontSize:"24px",children:"1 page"})})})]})}),(0,l.jsx)(u,{children:(0,l.jsx)(n.Box,{width:"100vw",height:"100vh",backgroundColor:"aliceblue",position:"relative",children:(0,l.jsx)(n.Box,{position:"absolute",left:"30%",top:"50%",transform:"translateY(-50%)",border:"1px",borderRadius:"4px",padding:"2",children:(0,l.jsx)(w,{children:(0,l.jsx)(n.Text,{fontSize:"24px",children:"2 page"})})})})}),(0,l.jsx)(u,{children:(0,l.jsx)(n.Box,{width:"100vw",height:"100vh",backgroundColor:"whatsapp.300",position:"relative",children:(0,l.jsx)(n.Box,{position:"absolute",left:"30%",top:"50%",transform:"translateY(-50%)",border:"1px",borderRadius:"4px",padding:"2",children:(0,l.jsx)(w,{children:(0,l.jsx)(n.Text,{fontSize:"24px",children:"3 page"})})})})}),(0,l.jsx)(u,{children:(0,l.jsx)(n.Box,{width:"100vw",height:"100vh",backgroundColor:"yellow.400",position:"relative",children:(0,l.jsx)(n.Box,{position:"absolute",left:"30%",top:"50%",transform:"translateY(-50%)",border:"1px",borderRadius:"4px",padding:"2",children:(0,l.jsx)(w,{children:(0,l.jsx)(n.Text,{fontSize:"24px",children:"4 page"})})})})}),(0,l.jsx)(u,{children:(0,l.jsx)(n.Box,{width:"100vw",height:"100vh",backgroundColor:"twitter.200",position:"relative",children:(0,l.jsx)(n.Box,{position:"absolute",left:"30%",top:"50%",transform:"translateY(-50%)",border:"1px",borderRadius:"4px",padding:"2",children:(0,l.jsx)(w,{children:(0,l.jsx)(n.Text,{fontSize:"24px",children:"5 page"})})})})})]}),(0,l.jsx)(m,{}),(0,l.jsx)(j,{})]})})}const k=!0,y=async()=>(await(0,b.gw)(1e3),{props:{foo:"bar"}})}};